import { InjectionToken } from '@angular/core';
import { Util } from '../util/util';
var DEFAULT_LOCAL_STORAGE_KEY = undefined;
var DEFAULT_CONFIG = {
    uuid: DEFAULT_LOCAL_STORAGE_KEY,
    title: 'Ontimize Web App'
};
export var O_INPUTS_OPTIONS = new InjectionToken('o-inputs-options');
export var APP_CONFIG = new InjectionToken('app.config');
var AppConfig = (function () {
    function AppConfig(config) {
        this._config = (config && Util.isObject(config) && !Array.isArray(config)) ? config : {};
    }
    AppConfig.prototype.getConfiguration = function () {
        return Object.assign(DEFAULT_CONFIG, this._config);
    };
    AppConfig.prototype.getServiceConfiguration = function () {
        return this._config.servicesConfiguration || {};
    };
    AppConfig.prototype.getMenuConfiguration = function () {
        return this._config.appMenuConfiguration || [];
    };
    AppConfig.prototype.useRemoteBundle = function () {
        return Util.isDefined(this._config.bundle);
    };
    AppConfig.prototype.getBundleEndpoint = function () {
        var result;
        var existsBundleConf = this.useRemoteBundle();
        if (existsBundleConf && Util.isDefined(this._config.bundle.endpoint)) {
            result = this._config.bundle.endpoint;
        }
        else if (existsBundleConf && Util.isDefined(this._config.bundle.path)) {
            result = this._config.apiEndpoint + '/' + this._config.bundle.path;
        }
        return result;
    };
    AppConfig.prototype.getI18nAssetsConfiguration = function () {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.i18n)) {
            return this._config.assets.i18n;
        }
        return undefined;
    };
    AppConfig.prototype.getCssAssetsConfiguration = function () {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.css)) {
            return this._config.assets.css;
        }
        return undefined;
    };
    AppConfig.prototype.getImagesAssetsConfiguration = function () {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.images)) {
            return this._config.assets.images;
        }
        return undefined;
    };
    AppConfig.prototype.getJsAssetsConfiguration = function () {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.js)) {
            return this._config.assets.js;
        }
        return undefined;
    };
    AppConfig.prototype.getRemoteConfigurationConfig = function () {
        return this._config.remoteConfig;
    };
    AppConfig.prototype.useRemoteConfiguration = function () {
        return Util.isDefined(this._config.remoteConfig);
    };
    AppConfig.prototype.getRemoteConfigurationEndpoint = function () {
        var result;
        var existsRemoteConf = this.useRemoteConfiguration();
        if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.endpoint)) {
            result = this._config.remoteConfig.endpoint;
        }
        else if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.path)) {
            result = this._config.apiEndpoint + '/' + this._config.remoteConfig.path;
        }
        return result;
    };
    return AppConfig;
}());
export { AppConfig };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLWNvbmZpZy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL29udGltaXplLXdlYi1uZ3gvIiwic291cmNlcyI6WyJsaWIvY29uZmlnL2FwcC1jb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQU0vQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLElBQU0seUJBQXlCLEdBQUcsU0FBUyxDQUFDO0FBQzVDLElBQU0sY0FBYyxHQUFXO0lBQzdCLElBQUksRUFBRSx5QkFBeUI7SUFDL0IsS0FBSyxFQUFFLGtCQUFrQjtDQUMxQixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sZ0JBQWdCLEdBQUcsSUFBSSxjQUFjLENBQWlCLGtCQUFrQixDQUFDLENBQUM7QUFFdkYsTUFBTSxDQUFDLElBQU0sVUFBVSxHQUFHLElBQUksY0FBYyxDQUFTLFlBQVksQ0FBQyxDQUFDO0FBRW5FO0lBR0UsbUJBQVksTUFBTztRQUNqQixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQzNGLENBQUM7SUFFTSxvQ0FBZ0IsR0FBdkI7UUFDRSxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRU0sMkNBQXVCLEdBQTlCO1FBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixJQUFJLEVBQUUsQ0FBQztJQUNsRCxDQUFDO0lBRU0sd0NBQW9CLEdBQTNCO1FBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLG9CQUFvQixJQUFJLEVBQUUsQ0FBQztJQUNqRCxD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LE9BQU8sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDMUUsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQztTQUM3QzthQUFNLElBQUksZ0JBQWdCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM3RSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztTQUMxRTtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFFSCxnQkFBQztBQUFELENBQUMsQUFqRkQsSUFpRkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi90eXBlcy9jb25maWcudHlwZSc7XG5pbXBvcnQgeyBNZW51Um9vdEl0ZW0gfSBmcm9tICcuLi90eXBlcy9tZW51LXJvb3QtaXRlbS50eXBlJztcbmltcG9ydCB7IE9JbnB1dHNPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMvby1pbnB1dHMtb3B0aW9ucy50eXBlJztcbmltcG9ydCB7IE9SZW1vdGVDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vdHlwZXMvcmVtb3RlLWNvbmZpZ3VyYXRpb24udHlwZSc7XG5pbXBvcnQgeyBVdGlsIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuY29uc3QgREVGQVVMVF9MT0NBTF9TVE9SQUdFX0tFWSA9IHVuZGVmaW5lZDtcbmNvbnN0IERFRkFVTFRfQ09ORklHOiBDb25maWcgPSB7XG4gIHV1aWQ6IERFRkFVTFRfTE9DQUxfU1RPUkFHRV9LRVksXG4gIHRpdGxlOiAnT250aW1pemUgV2ViIEFwcCdcbn07XG5cbmV4cG9ydCBjb25zdCBPX0lOUFVUU19PUFRJT05TID0gbmV3IEluamVjdGlvblRva2VuPE9JbnB1dHNPcHRpb25zPignby1pbnB1dHMtb3B0aW9ucycpO1xuXG5leHBvcnQgY29uc3QgQVBQX0NPTkZJRyA9IG5ldyBJbmplY3Rpb25Ub2tlbjxDb25maWc+KCdhcHAuY29uZmlnJyk7XG5cbmV4cG9ydCBjbGFzcyBBcHBDb25maWcge1xuICBwcml2YXRlIF9jb25maWc6IENvbmZpZztcblxuICBjb25zdHJ1Y3Rvcihjb25maWc/KSB7XG4gICAgdGhpcy5fY29uZmlnID0gKGNvbmZpZyAmJiBVdGlsLmlzT2JqZWN0KGNvbmZpZykgJiYgIUFycmF5LmlzQXJyYXkoY29uZmlnKSkgPyBjb25maWcgOiB7fTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb25maWd1cmF0aW9uKCk6IENvbmZpZyB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oREVGQVVMVF9DT05GSUcsIHRoaXMuX2NvbmZpZyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U2VydmljZUNvbmZpZ3VyYXRpb24oKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnLnNlcnZpY2VzQ29uZmlndXJhdGlvbiB8fCB7fTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNZW51Q29uZmlndXJhdGlvbigpOiBNZW51Um9vdEl0ZW1bXSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5hcHBNZW51Q29uZmlndXJhdGlvbiB8fCBbXTtcbiAgfVxuXG4gIHB1YmxpYyB1c2VSZW1vdGVCdW5kbGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5idW5kbGUpO1xuICB9XG5cbiAgcHVibGljIGdldEJ1bmRsZUVuZHBvaW50KCk6IHN0cmluZyB7XG4gICAgbGV0IHJlc3VsdDogc3RyaW5nO1xuICAgIGNvbnN0IGV4aXN0c0J1bmRsZUNvbmYgPSB0aGlzLnVzZVJlbW90ZUJ1bmRsZSgpO1xuICAgIGlmIChleGlzdHNCdW5kbGVDb25mICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5idW5kbGUuZW5kcG9pbnQpKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLl9jb25maWcuYnVuZGxlLmVuZHBvaW50O1xuICAgIH0gZWxzZSBpZiAoZXhpc3RzQnVuZGxlQ29uZiAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYnVuZGxlLnBhdGgpKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLl9jb25maWcuYXBpRW5kcG9pbnQgKyAnLycgKyB0aGlzLl9jb25maWcuYnVuZGxlLnBhdGg7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0STE4bkFzc2V0c0NvbmZpZ3VyYXRpb24oKTogYW55IHtcbiAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmFzc2V0cykgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmFzc2V0cy5pMThuKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5hc3NldHMuaTE4bjtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDc3NBc3NldHNDb25maWd1cmF0aW9uKCk6IGFueSB7XG4gICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5hc3NldHMpICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5hc3NldHMuY3NzKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5hc3NldHMuY3NzO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHVibGljIGdldEltYWdlc0Fzc2V0c0NvbmZpZ3VyYXRpb24oKTogYW55IHtcbiAgICBpZiAoVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmFzc2V0cykgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmFzc2V0cy5pbWFnZXMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmFzc2V0cy5pbWFnZXM7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0SnNBc3NldHNDb25maWd1cmF0aW9uKCk6IGFueSB7XG4gICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5hc3NldHMpICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5hc3NldHMuanMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmFzc2V0cy5qcztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRSZW1vdGVDb25maWd1cmF0aW9uQ29uZmlnKCk6IE9SZW1vdGVDb25maWd1cmF0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnLnJlbW90ZUNvbmZpZztcbiAgfVxuXG4gIHB1YmxpYyB1c2VSZW1vdGVDb25maWd1cmF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcucmVtb3RlQ29uZmlnKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRSZW1vdGVDb25maWd1cmF0aW9uRW5kcG9pbnQoKTogc3RyaW5nIHtcbiAgICBsZXQgcmVzdWx0OiBzdHJpbmc7XG4gICAgY29uc3QgZXhpc3RzUmVtb3RlQ29uZiA9IHRoaXMudXNlUmVtb3RlQ29uZmlndXJhdGlvbigpO1xuICAgIGlmIChleGlzdHNSZW1vdGVDb25mICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5yZW1vdGVDb25maWcuZW5kcG9pbnQpKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLl9jb25maWcucmVtb3RlQ29uZmlnLmVuZHBvaW50O1xuICAgIH0gZWxzZSBpZiAoZXhpc3RzUmVtb3RlQ29uZiAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcucmVtb3RlQ29uZmlnLnBhdGgpKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLl9jb25maWcuYXBpRW5kcG9pbnQgKyAnLycgKyB0aGlzLl9jb25maWcucmVtb3RlQ29uZmlnLnBhdGg7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxufVxuIl19