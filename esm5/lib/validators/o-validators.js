var EMAIL_REGEXP = /[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/;
var DNI_PATTERN = '^(([0-9]{8})([-]?)([a-zA-Z]{1}))$';
var NIE_PATTERN = '^(([x-zX-Z]{1})([-]?)([0-9]{7})([-]?)([a-zA-Z]{1}))$';
var DNI_CHECK = 'TRWAGMYFPDXBNJZSQVHLCKET';
var NUMBERS = '0123456789';
export var TWELVE_HOUR_FORMAT_PATTERN = '^(([0-9]|([01]?[0-9])):([0-9]|([0-5][0-9])) *([AaPp][Mm])*)$';
export var TWENTY_FOUR_HOUR_FORMAT_PATTERN = '^([0-9]|([01]?[0-9]|2[0-3])):[0-9]|([0-5][0-9])$';
var OValidators = (function () {
    function OValidators() {
    }
    OValidators.twelveHourFormatValidator = function (control) {
        var regExp = new RegExp(TWELVE_HOUR_FORMAT_PATTERN);
        if (control.value && typeof control.value === 'string' && !regExp.test(control.value)) {
            return { invalidFormatHour: true };
        }
        return {};
    };
    OValidators.twentyFourHourFormatValidator = function (control) {
        var regExp = new RegExp(TWENTY_FOUR_HOUR_FORMAT_PATTERN);
        if (control.value && typeof control.value === 'string' && !regExp.test(control.value)) {
            return { invalidFormatHour: true };
        }
        return {};
    };
    OValidators.emailValidator = function (control) {
        if (control.value && control.value.length > 0 && !EMAIL_REGEXP.test(control.value)) {
            return { invalidEmailAddress: true };
        }
        return {};
    };
    OValidators.nifValidator = function (control) {
        var newValue = control.value;
        var regExp = new RegExp(DNI_PATTERN + '|' + NIE_PATTERN);
        var valueWithoutDashes = '';
        for (var i in newValue) {
            if (newValue[i] !== '-') {
                valueWithoutDashes = valueWithoutDashes + newValue[i];
            }
        }
        if (valueWithoutDashes.length > 1) {
            var firstChar = valueWithoutDashes.charAt(0);
            if (NUMBERS.indexOf(firstChar) !== -1) {
                var number = valueWithoutDashes.substring(0, valueWithoutDashes.length - 1);
                var pos = parseInt(number, 10) % 23;
                var expectedLetter = DNI_CHECK.substring(pos, pos + 1);
                var letter = valueWithoutDashes.charAt(valueWithoutDashes.length - 1);
                var dniLetterError = (expectedLetter !== letter.toUpperCase());
                if (dniLetterError) {
                    return { invalidNIFLetter: true };
                }
                else {
                    if (!regExp.test(valueWithoutDashes)) {
                        return { invalidNIF: true };
                    }
                }
            }
            else {
                if (!regExp.test(valueWithoutDashes)) {
                    return { invalidNIF: true };
                }
            }
        }
        return undefined;
    };
    return OValidators;
}());
export { OValidators };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiby12YWxpZGF0b3JzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vb250aW1pemUtd2ViLW5neC8iLCJzb3VyY2VzIjpbImxpYi92YWxpZGF0b3JzL28tdmFsaWRhdG9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxJQUFNLFlBQVksR0FBRywrSkFBK0osQ0FBQztBQUdyTCxJQUFNLFdBQVcsR0FBRyxtQ0FBbUMsQ0FBQztBQUN4RCxJQUFNLFdBQVcsR0FBRyxzREFBc0QsQ0FBQztBQUMzRSxJQUFNLFNBQVMsR0FBRywwQkFBMEIsQ0FBQztBQUM3QyxJQUFNLE9BQU8sR0FBRyxZQUFZLENBQUM7QUFDN0IsTUFBTSxDQUFDLElBQU0sMEJBQTBCLEdBQUcsOERBQThELENBQUM7QUFDekcsTUFBTSxDQUFDLElBQU0sK0JBQStCLEdBQUcsa0RBQWtELENBQUM7QUFFbEc7SUFBQTtJQXdFQSxDQUFDO0lBbkVlLHFDQUF5QixHQUF2QyxVQUF3QyxPQUFvQjtRQUMxRCxJQUFNLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQ3RELElBQUksT0FBTyxDQUFDLEtBQUssSUFBSSxPQUFPLE9BQU8sQ0FBQyxLQUFLLEtBQUssUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDckYsT0FBTyxFQUFFLGlCQUFpQixFQUFFLElBQUksRUFBRSxDQUFDO1NBQ3BDO1FBQ0QsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBS2EseUNBQTZCLEdBQTNDLFVBQTRDLE9BQW9CO1FBQzlELElBQU0sTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLCtCQUErQixDQUFDLENBQUM7UUFDM0QsSUFBSSxPQUFPLENBQUMsS0FBSyxJQUFJLE9BQU8sT0FBTyxDQUFDLEtBQUssS0FBSyxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNyRixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxFQUFFLENBQUM7U0FDcEM7UUFDRCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFLYSwwQkFBYyxHQUE1QixVQUE2QixPQUFvQjtRQUMvQyxJQUFJLE9BQU8sQ0FBQyxLQUFLLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDbEYsT0FBTyxFQUFFLG1CQUFtQixFQUFFLElBQUksRUFBRSxDQUFDO1NBQ3RDO1FBQ0QsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBS2Esd0JBQVksR0FBMUIsVUFBMkIsT0FBb0I7UUFDN0MsSUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztRQUMvQixJQUFNLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxXQUFXLEdBQUcsR0FBRyxHQUFHLFdBQVcsQ0FBQyxDQUFDO1FBRzNELElBQUksa0JBQWtCLEdBQUcsRUFBRSxDQUFDO1FBQzVCLEtBQUssSUFBTSxDQUFDLElBQUksUUFBUSxFQUFFO1lBQ3hCLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQkFDdkIsa0JBQWtCLEdBQUcsa0JBQWtCLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3ZEO1NBQ0Y7UUFDRCxJQUFJLGtCQUFrQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDakMsSUFBTSxTQUFTLEdBQUcsa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9DLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtnQkFDckMsSUFBTSxNQUFNLEdBQUcsa0JBQWtCLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxrQkFBa0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQzlFLElBQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUN0QyxJQUFNLGNBQWMsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pELElBQU0sTUFBTSxHQUFHLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hFLElBQU0sY0FBYyxHQUFHLENBQUMsY0FBYyxLQUFLLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO2dCQUNqRSxJQUFJLGNBQWMsRUFBRTtvQkFDbEIsT0FBTyxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxDQUFDO2lCQUNuQztxQkFBTTtvQkFDTCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO3dCQUNwQyxPQUFPLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxDQUFDO3FCQUM3QjtpQkFDRjthQUNGO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7b0JBQ3BDLE9BQU8sRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUM7aUJBQzdCO2FBQ0Y7U0FDRjtRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFFSCxrQkFBQztBQUFELENBQUMsQUF4RUQsSUF3RUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb3JtQ29udHJvbCwgVmFsaWRhdGlvbkVycm9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuY29uc3QgRU1BSUxfUkVHRVhQID0gL1thLXpBLVowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16QS1aMC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV0qW2EtekEtWjAtOV0pP1xcLikrW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV0qW2EtekEtWjAtOV0pPy87XG5cbi8vIE5JRiBSZWd1bGFyIEV4cHJlc3Npb25zXG5jb25zdCBETklfUEFUVEVSTiA9ICdeKChbMC05XXs4fSkoWy1dPykoW2EtekEtWl17MX0pKSQnO1xuY29uc3QgTklFX1BBVFRFUk4gPSAnXigoW3gtelgtWl17MX0pKFstXT8pKFswLTldezd9KShbLV0/KShbYS16QS1aXXsxfSkpJCc7XG5jb25zdCBETklfQ0hFQ0sgPSAnVFJXQUdNWUZQRFhCTkpaU1FWSExDS0VUJztcbmNvbnN0IE5VTUJFUlMgPSAnMDEyMzQ1Njc4OSc7XG5leHBvcnQgY29uc3QgVFdFTFZFX0hPVVJfRk9STUFUX1BBVFRFUk4gPSAnXigoWzAtOV18KFswMV0/WzAtOV0pKTooWzAtOV18KFswLTVdWzAtOV0pKSAqKFtBYVBwXVtNbV0pKikkJztcbmV4cG9ydCBjb25zdCBUV0VOVFlfRk9VUl9IT1VSX0ZPUk1BVF9QQVRURVJOID0gJ14oWzAtOV18KFswMV0/WzAtOV18MlswLTNdKSk6WzAtOV18KFswLTVdWzAtOV0pJCc7XG5cbmV4cG9ydCBjbGFzcyBPVmFsaWRhdG9ycyB7XG5cbiAgLyoqXG4gICAqIEhvdXIgdmFsaWRhdG9yIGhoOm1tIGFtL3BtIGZvcm1hdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB0d2VsdmVIb3VyRm9ybWF0VmFsaWRhdG9yKGNvbnRyb2w6IEZvcm1Db250cm9sKTogVmFsaWRhdGlvbkVycm9ycyB7XG4gICAgY29uc3QgcmVnRXhwID0gbmV3IFJlZ0V4cChUV0VMVkVfSE9VUl9GT1JNQVRfUEFUVEVSTik7XG4gICAgaWYgKGNvbnRyb2wudmFsdWUgJiYgdHlwZW9mIGNvbnRyb2wudmFsdWUgPT09ICdzdHJpbmcnICYmICFyZWdFeHAudGVzdChjb250cm9sLnZhbHVlKSkge1xuICAgICAgcmV0dXJuIHsgaW52YWxpZEZvcm1hdEhvdXI6IHRydWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEhvdXIgdmFsaWRhdG9yIEhIOm1tIGZvcm1hdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB0d2VudHlGb3VySG91ckZvcm1hdFZhbGlkYXRvcihjb250cm9sOiBGb3JtQ29udHJvbCk6IFZhbGlkYXRpb25FcnJvcnMge1xuICAgIGNvbnN0IHJlZ0V4cCA9IG5ldyBSZWdFeHAoVFdFTlRZX0ZPVVJfSE9VUl9GT1JNQVRfUEFUVEVSTik7XG4gICAgaWYgKGNvbnRyb2wudmFsdWUgJiYgdHlwZW9mIGNvbnRyb2wudmFsdWUgPT09ICdzdHJpbmcnICYmICFyZWdFeHAudGVzdChjb250cm9sLnZhbHVlKSkge1xuICAgICAgcmV0dXJuIHsgaW52YWxpZEZvcm1hdEhvdXI6IHRydWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEVtYWlsIHZhbGlkYXRvclxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBlbWFpbFZhbGlkYXRvcihjb250cm9sOiBGb3JtQ29udHJvbCk6IFZhbGlkYXRpb25FcnJvcnMge1xuICAgIGlmIChjb250cm9sLnZhbHVlICYmIGNvbnRyb2wudmFsdWUubGVuZ3RoID4gMCAmJiAhRU1BSUxfUkVHRVhQLnRlc3QoY29udHJvbC52YWx1ZSkpIHtcbiAgICAgIHJldHVybiB7IGludmFsaWRFbWFpbEFkZHJlc3M6IHRydWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIE5JRiB2YWxpZGF0b3JcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbmlmVmFsaWRhdG9yKGNvbnRyb2w6IEZvcm1Db250cm9sKTogVmFsaWRhdGlvbkVycm9ycyB7XG4gICAgY29uc3QgbmV3VmFsdWUgPSBjb250cm9sLnZhbHVlO1xuICAgIGNvbnN0IHJlZ0V4cCA9IG5ldyBSZWdFeHAoRE5JX1BBVFRFUk4gKyAnfCcgKyBOSUVfUEFUVEVSTik7XG5cbiAgICAvLyByZW1vdmluZyBkYXNoZXNcbiAgICBsZXQgdmFsdWVXaXRob3V0RGFzaGVzID0gJyc7XG4gICAgZm9yIChjb25zdCBpIGluIG5ld1ZhbHVlKSB7XG4gICAgICBpZiAobmV3VmFsdWVbaV0gIT09ICctJykge1xuICAgICAgICB2YWx1ZVdpdGhvdXREYXNoZXMgPSB2YWx1ZVdpdGhvdXREYXNoZXMgKyBuZXdWYWx1ZVtpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZhbHVlV2l0aG91dERhc2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBmaXJzdENoYXIgPSB2YWx1ZVdpdGhvdXREYXNoZXMuY2hhckF0KDApO1xuICAgICAgaWYgKE5VTUJFUlMuaW5kZXhPZihmaXJzdENoYXIpICE9PSAtMSkge1xuICAgICAgICBjb25zdCBudW1iZXIgPSB2YWx1ZVdpdGhvdXREYXNoZXMuc3Vic3RyaW5nKDAsIHZhbHVlV2l0aG91dERhc2hlcy5sZW5ndGggLSAxKTtcbiAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQobnVtYmVyLCAxMCkgJSAyMztcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRMZXR0ZXIgPSBETklfQ0hFQ0suc3Vic3RyaW5nKHBvcywgcG9zICsgMSk7XG4gICAgICAgIGNvbnN0IGxldHRlciA9IHZhbHVlV2l0aG91dERhc2hlcy5jaGFyQXQodmFsdWVXaXRob3V0RGFzaGVzLmxlbmd0aCAtIDEpO1xuICAgICAgICBjb25zdCBkbmlMZXR0ZXJFcnJvciA9IChleHBlY3RlZExldHRlciAhPT0gbGV0dGVyLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICBpZiAoZG5pTGV0dGVyRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4geyBpbnZhbGlkTklGTGV0dGVyOiB0cnVlIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFyZWdFeHAudGVzdCh2YWx1ZVdpdGhvdXREYXNoZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBpbnZhbGlkTklGOiB0cnVlIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXJlZ0V4cC50ZXN0KHZhbHVlV2l0aG91dERhc2hlcykpIHtcbiAgICAgICAgICByZXR1cm4geyBpbnZhbGlkTklGOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG59XG4iXX0=