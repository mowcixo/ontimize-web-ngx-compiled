{"version":3,"file":"ontimize-web-ngx.js.map","sources":["ng://ontimize-web-ngx/lib/util/base64.ts","ng://ontimize-web-ngx/lib/util/codes.ts","ng://ontimize-web-ngx/lib/util/util.ts","ng://ontimize-web-ngx/lib/config/app-config.ts","ng://ontimize-web-ngx/lib/util/async.ts","ng://ontimize-web-ngx/lib/components/list/list-item/o-list-item.directive.ts","ng://ontimize-web-ngx/lib/directives/keyboard-listener.directive.ts","ng://ontimize-web-ngx/lib/decorators/input-converter.ts","ng://ontimize-web-ngx/lib/shared/components/dialog/o-dialog.component.ts","ng://ontimize-web-ngx/lib/services/dialog.service.ts","ng://ontimize-web-ngx/lib/components/form/OFormValue.ts","ng://ontimize-web-ngx/lib/util/sqltypes.ts","ng://ontimize-web-ngx/lib/util/service.utils.ts","ng://ontimize-web-ngx/lib/services/login-storage.service.ts","ng://ontimize-web-ngx/lib/services/base-service-response.class.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-service-response.class.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-service-response.adapter.ts","ng://ontimize-web-ngx/lib/services/parser/o-service-response.parser.ts","ng://ontimize-web-ngx/lib/services/base-service.class.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-base-service.class.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize.service.ts","ng://ontimize-web-ngx/lib/services/permissions/ontimize-ee-permissions.service.ts","ng://ontimize-web-ngx/lib/services/permissions/ontimize-permissions.service.ts","ng://ontimize-web-ngx/lib/services/permissions/permissions.service.ts","ng://ontimize-web-ngx/lib/shared/components/validation/o-validator.component.ts","ng://ontimize-web-ngx/lib/shared/material/o-mat-error/o-mat-error.ts","ng://ontimize-web-ngx/lib/util/permissions.ts","ng://ontimize-web-ngx/lib/components/input/o-form-control.class.ts","ng://ontimize-web-ngx/lib/i18n/i18n.ts","ng://ontimize-web-ngx/lib/services/moment.service.ts","ng://ontimize-web-ngx/lib/shared/components/snackbar/o-snackbar.component.ts","ng://ontimize-web-ngx/lib/services/snackbar.service.ts","ng://ontimize-web-ngx/lib/util/filter-expression.utils.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-ee.service.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-export.service.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-file.service.ts","ng://ontimize-web-ngx/lib/services/factories.ts","ng://ontimize-web-ngx/lib/services/translate/o-translate.service.ts","ng://ontimize-web-ngx/lib/components/o-component.class.ts","ng://ontimize-web-ngx/lib/components/o-value-change-event.class.ts","ng://ontimize-web-ngx/lib/components/o-form-data-component.class.ts","ng://ontimize-web-ngx/lib/components/input/o-form-service-component.class.ts","ng://ontimize-web-ngx/lib/directives/locker.directive.ts","ng://ontimize-web-ngx/lib/directives/o-hidden.directive.ts","ng://ontimize-web-ngx/lib/directives/o-tab-group.directive.ts","ng://ontimize-web-ngx/lib/config/o-directives.ts","ng://ontimize-web-ngx/lib/pipes/columns-filter.pipe.ts","ng://ontimize-web-ngx/lib/services/number.service.ts","ng://ontimize-web-ngx/lib/services/currency.service.ts","ng://ontimize-web-ngx/lib/pipes/o-currency.pipe.ts","ng://ontimize-web-ngx/lib/pipes/o-integer.pipe.ts","ng://ontimize-web-ngx/lib/pipes/o-moment.pipe.ts","ng://ontimize-web-ngx/lib/pipes/o-real.pipe.ts","ng://ontimize-web-ngx/lib/pipes/o-percentage.pipe.ts","ng://ontimize-web-ngx/lib/pipes/o-translate.pipe.ts","ng://ontimize-web-ngx/lib/pipes/order-by.pipe.ts","ng://ontimize-web-ngx/lib/services/local-storage.service.ts","ng://ontimize-web-ngx/lib/services/o-breadcrumb.service.ts","ng://ontimize-web-ngx/lib/services/navigation.service.ts","ng://ontimize-web-ngx/lib/shared/components/error403/o-error-403.component.ts","ng://ontimize-web-ngx/lib/shared/components/validation/o-error.component.ts","ng://ontimize-web-ngx/lib/services/ontimize-icon-registry.service.ts","ng://ontimize-web-ngx/lib/shared/material/date/mat-date-formats.factory.ts","ng://ontimize-web-ngx/lib/shared/material/custom.material.module.ts","ng://ontimize-web-ngx/lib/shared/material/o-mat-error/o-mat-error.module.ts","ng://ontimize-web-ngx/lib/shared/shared.module.ts","ng://ontimize-web-ngx/lib/services/app-menu.service.ts","ng://ontimize-web-ngx/lib/components/bar-menu/o-bar-menu.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/o-base-menu-item.class.ts","ng://ontimize-web-ngx/lib/components/bar-menu/locale-menu-item/o-locale-bar-menu-item.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/menu-group/o-bar-menu-group.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/menu-item/o-bar-menu-item.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/menu-nested/o-bar-menu-nested.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/menu-separator/o-bar-menu-separator.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/o-bar-menu.module.ts","ng://ontimize-web-ngx/lib/components/breadcrumb/o-breadcrumb.component.ts","ng://ontimize-web-ngx/lib/components/breadcrumb/o-breadcrumb.module.ts","ng://ontimize-web-ngx/lib/components/button-toggle/o-button-toggle.component.ts","ng://ontimize-web-ngx/lib/components/button-toggle/o-button-toggle-group/o-button-toggle-group.component.ts","ng://ontimize-web-ngx/lib/components/button-toggle/o-button-toggle.module.ts","ng://ontimize-web-ngx/lib/components/button/o-button.component.ts","ng://ontimize-web-ngx/lib/components/button/o-button.module.ts","ng://ontimize-web-ngx/lib/components/card-menu-item/o-card-menu-item.component.ts","ng://ontimize-web-ngx/lib/components/card-menu-item/o-card-menu-item.module.ts","ng://ontimize-web-ngx/lib/components/container/o-container-component.class.ts","ng://ontimize-web-ngx/lib/components/container/o-container-collapsible-component.class.ts","ng://ontimize-web-ngx/lib/components/container/column-collapsible/o-column-collapsible.component.ts","ng://ontimize-web-ngx/lib/components/container/column-collapsible/o-column-collapsible.module.ts","ng://ontimize-web-ngx/lib/components/container/column/o-column.component.ts","ng://ontimize-web-ngx/lib/components/container/column/o-column.module.ts","ng://ontimize-web-ngx/lib/components/container/row-collapsible/o-row-collapsible.component.ts","ng://ontimize-web-ngx/lib/components/container/row-collapsible/o-row-collapsible.module.ts","ng://ontimize-web-ngx/lib/components/container/row/o-row.component.ts","ng://ontimize-web-ngx/lib/components/container/row/o-row.module.ts","ng://ontimize-web-ngx/lib/components/contextmenu/o-content-menu.class.ts","ng://ontimize-web-ngx/lib/components/contextmenu/context-menu-item/o-context-menu-item.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/context-menu-group/o-context-menu-group.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/context-menu-separator/o-context-menu-separator.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/context-menu/o-wrapper-content-menu/o-wrapper-content-menu.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/context-menu/o-context-menu-content.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/o-context-menu.service.ts","ng://ontimize-web-ngx/lib/components/contextmenu/o-context-menu.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/o-context-menu.directive.ts","ng://ontimize-web-ngx/lib/components/contextmenu/o-context-menu.module.ts","ng://ontimize-web-ngx/lib/components/form-container/o-form-container.component.ts","ng://ontimize-web-ngx/lib/components/form/cache/o-form.cache.class.ts","ng://ontimize-web-ngx/lib/components/form/guards/o-form-can-deactivate.guard.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/directives/o-form-layout-manager-content.directive.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/dialog/o-form-layout-dialog.component.ts","ng://ontimize-web-ngx/lib/services/o-form-layout-manager.service.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/dialog/options/o-form-layout-dialog-options.component.ts","ng://ontimize-web-ngx/lib/services/share-can-activate-child.service.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/guards/o-form-layout-can-activate-child.guard.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/tabgroup/options/o-form-layout-tabgroup-options.component.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/o-form-layout-manager.component.ts","ng://ontimize-web-ngx/lib/components/form/navigation/o-form.navigation.class.ts","ng://ontimize-web-ngx/lib/components/form/o-form.component.ts","ng://ontimize-web-ngx/lib/components/filter-builder/o-filter-builder.component.ts","ng://ontimize-web-ngx/lib/components/filter-builder/o-filter-builder-clear.directive.ts","ng://ontimize-web-ngx/lib/components/filter-builder/o-filter-builder-query.directive.ts","ng://ontimize-web-ngx/lib/components/filter-builder/o-filter-builder.module.ts","ng://ontimize-web-ngx/lib/components/form-container/o-form-container.module.ts","ng://ontimize-web-ngx/lib/components/form/navigation/o-form-navigation.component.ts","ng://ontimize-web-ngx/lib/components/form/toolbar/o-form-toolbar.component.ts","ng://ontimize-web-ngx/lib/components/form/toolbar/o-form-toolbar.module.ts","ng://ontimize-web-ngx/lib/components/form/o-form.module.ts","ng://ontimize-web-ngx/lib/components/input/search-input/o-search-input.component.ts","ng://ontimize-web-ngx/lib/components/input/search-input/o-search-input.module.ts","ng://ontimize-web-ngx/lib/components/grid/grid-item/o-grid-item.component.ts","ng://ontimize-web-ngx/lib/components/grid/grid-item/o-grid-item.directive.ts","ng://ontimize-web-ngx/lib/components/expandable-container/o-expandable-container.component.ts","ng://ontimize-web-ngx/lib/components/o-service-base-component.class.ts","ng://ontimize-web-ngx/lib/components/o-service-component.class.ts","ng://ontimize-web-ngx/lib/components/grid/o-grid.component.ts","ng://ontimize-web-ngx/lib/components/grid/o-grid.module.ts","ng://ontimize-web-ngx/lib/components/image/fullscreen/fullscreen-dialog.component.ts","ng://ontimize-web-ngx/lib/components/image/o-image.component.ts","ng://ontimize-web-ngx/lib/components/image/o-image.module.ts","ng://ontimize-web-ngx/lib/components/input/checkbox/o-checkbox.component.ts","ng://ontimize-web-ngx/lib/components/input/checkbox/o-checkbox.module.ts","ng://ontimize-web-ngx/lib/components/input/combo/combo-search/o-combo-search.component.ts","ng://ontimize-web-ngx/lib/components/input/combo/o-combo.component.ts","ng://ontimize-web-ngx/lib/components/input/combo/o-combo.module.ts","ng://ontimize-web-ngx/lib/components/input/text-input/o-text-input.component.ts","ng://ontimize-web-ngx/lib/components/input/text-input/o-text-input.module.ts","ng://ontimize-web-ngx/lib/components/input/integer-input/o-integer-input.component.ts","ng://ontimize-web-ngx/lib/components/input/integer-input/o-integer-input.module.ts","ng://ontimize-web-ngx/lib/components/input/real-input/o-real-input.component.ts","ng://ontimize-web-ngx/lib/components/input/real-input/o-real-input.module.ts","ng://ontimize-web-ngx/lib/components/input/currency-input/o-currency-input.component.ts","ng://ontimize-web-ngx/lib/components/input/currency-input/o-currency-input.module.ts","ng://ontimize-web-ngx/lib/shared/material/date/ontimize-moment-date-adapter.ts","ng://ontimize-web-ngx/lib/components/input/date-input/o-date-input.component.ts","ng://ontimize-web-ngx/lib/components/input/date-input/o-date-input.module.ts","ng://ontimize-web-ngx/lib/components/input/date-range/o-daterange-picker.component.ts","ng://ontimize-web-ngx/lib/components/input/date-range/o-daterange-input.directive.ts","ng://ontimize-web-ngx/lib/components/input/date-range/o-daterange-input.component.ts","ng://ontimize-web-ngx/lib/components/input/date-range/o-daterange-input.module.ts","ng://ontimize-web-ngx/lib/validators/o-validators.ts","ng://ontimize-web-ngx/lib/components/input/email-input/o-email-input.component.ts","ng://ontimize-web-ngx/lib/components/input/email-input/o-email-input.module.ts","ng://ontimize-web-ngx/lib/components/input/file-input/o-file-item.class.ts","ng://ontimize-web-ngx/lib/components/input/file-input/o-file-uploader.class.ts","ng://ontimize-web-ngx/lib/components/input/file-input/o-file-input.component.ts","ng://ontimize-web-ngx/lib/components/input/file-input/o-file-input.module.ts","ng://ontimize-web-ngx/lib/components/input/hour-input/o-hour-input.component.ts","ng://ontimize-web-ngx/lib/components/input/hour-input/o-hour-input.module.ts","ng://ontimize-web-ngx/lib/components/material/ckeditor/ck-editor.component.ts","ng://ontimize-web-ngx/lib/components/material/ckeditor/ck-editor.module.ts","ng://ontimize-web-ngx/lib/components/input/html-input/o-html-input.component.ts","ng://ontimize-web-ngx/lib/components/input/html-input/o-html-input.module.ts","ng://ontimize-web-ngx/lib/components/input/listpicker/o-list-picker-dialog.component.ts","ng://ontimize-web-ngx/lib/components/input/listpicker/o-list-picker.component.ts","ng://ontimize-web-ngx/lib/components/input/listpicker/o-list-picker.module.ts","ng://ontimize-web-ngx/lib/components/input/nif-input/o-nif-input.component.ts","ng://ontimize-web-ngx/lib/components/input/nif-input/o-nif-input.module.ts","ng://ontimize-web-ngx/lib/components/input/password-input/o-password-input.component.ts","ng://ontimize-web-ngx/lib/components/input/password-input/o-password-input.module.ts","ng://ontimize-web-ngx/lib/components/input/percent-input/o-percent-input.component.ts","ng://ontimize-web-ngx/lib/components/input/percent-input/o-percent-input.module.ts","ng://ontimize-web-ngx/lib/components/input/radio/o-radio.component.ts","ng://ontimize-web-ngx/lib/components/input/radio/o-radio.module.ts","ng://ontimize-web-ngx/lib/components/input/slide-toggle/o-slide-toggle.component.ts","ng://ontimize-web-ngx/lib/components/input/slide-toggle/o-slide-toggle.module.ts","ng://ontimize-web-ngx/lib/components/input/slider/o-slider.component.ts","ng://ontimize-web-ngx/lib/components/input/slider/o-slider.module.ts","ng://ontimize-web-ngx/lib/components/input/textarea-input/o-textarea-input.component.ts","ng://ontimize-web-ngx/lib/components/input/textarea-input/o-textarea-input.module.ts","ng://ontimize-web-ngx/lib/components/input/time-input/o-time-input.component.ts","ng://ontimize-web-ngx/lib/components/input/time-input/o-time-input.module.ts","ng://ontimize-web-ngx/lib/util/locale.ts","ng://ontimize-web-ngx/lib/components/language-selector/o-language-selector.component.ts","ng://ontimize-web-ngx/lib/components/language-selector/o-language-selector.module.ts","ng://ontimize-web-ngx/lib/components/list/o-list.component.ts","ng://ontimize-web-ngx/lib/components/list/list-item/o-list-item.component.ts","ng://ontimize-web-ngx/lib/components/list/renderers/o-list-item-text-renderer.class.ts","ng://ontimize-web-ngx/lib/components/list/renderers/avatar/o-list-item-avatar.component.ts","ng://ontimize-web-ngx/lib/components/list/renderers/o-list-item-card-renderer.class.ts","ng://ontimize-web-ngx/lib/components/list/renderers/card-image/o-list-item-card-image.component.ts","ng://ontimize-web-ngx/lib/components/list/renderers/card/o-list-item-card.component.ts","ng://ontimize-web-ngx/lib/components/list/renderers/text/o-list-item-text.component.ts","ng://ontimize-web-ngx/lib/components/list/o-list.module.ts","ng://ontimize-web-ngx/lib/types/o-column-value-filter.type.ts","ng://ontimize-web-ngx/lib/types/o-table-filter-by-column-data.type.ts","ng://ontimize-web-ngx/lib/components/table/column/o-column.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/default-o-table-options.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/filter-by-column/o-table-filter-by-column-data-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/paginator/o-base-table-paginator.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-columns-filter/columns/o-table-columns-filter-column.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-columns-filter/o-table-columns-filter.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-option/o-table-option.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/default-o-table.datasource.ts","ng://ontimize-web-ngx/lib/components/table/extensions/o-table-datasource.service.ts","ng://ontimize-web-ngx/lib/components/table/extensions/o-table-storage.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/o-table.dao.ts","ng://ontimize-web-ngx/lib/components/table/extensions/row/table-row-expandable/o-table-row-expandable.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/sort/o-mat-sort.ts","ng://ontimize-web-ngx/lib/components/table/extensions/sort/o-mat-sort-header.ts","ng://ontimize-web-ngx/lib/components/table/o-table.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/o-base-table-cell-editor.class.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/boolean/o-table-cell-editor-boolean.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/date/o-table-cell-editor-date.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/integer/o-table-cell-editor-integer.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/real/o-table-cell-editor-real.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/text/o-table-cell-editor-text.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/time/o-table-cell-editor-time.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/cell-editor.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/o-base-table-cell-renderer.class.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/action/o-table-cell-renderer-action.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/boolean/o-table-cell-renderer-boolean.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/integer/o-table-cell-renderer-integer.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/real/o-table-cell-renderer-real.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/currency/o-table-cell-renderer-currency.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/date/o-table-cell-renderer-date.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/image/o-table-cell-renderer-image.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/percentage/o-table-cell-renderer-percentage.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/service/o-table-cell-renderer-service.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/time/o-table-cell-renderer-time.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/translate/o-table-cell-renderer-translate.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/cell-renderer.ts","ng://ontimize-web-ngx/lib/components/table/column/o-table-column.component.ts","ng://ontimize-web-ngx/lib/components/table/column/calculated/o-table-column-calculated.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/contextmenu/o-table-context-menu.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/apply-configuration/o-table-apply-configuration-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/export-button/o-table-export-button.service.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-menu/o-table-export-configuration.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/export/o-table-export-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/load-filter/o-table-load-filter-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/o-table-base-dialog.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/store-configuration/o-table-store-configuration-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/store-filter/o-table-store-filter-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/visible-columns/o-table-visible-columns-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/o-table-dialog-components.ts","ng://ontimize-web-ngx/lib/components/table/extensions/export-button/o-table-export-button.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/aggregate/o-table-column-aggregate.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/expanded/o-table-expanded-footer.directive.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/paginator/o-table-paginator.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/o-table-footer-components.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/paginator/o-table-mat-paginator-intl.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-button/o-table-button.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-buttons/o-table-buttons.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-column-resizer/o-table-column-resizer.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-insertable-row/o-table-insertable-row.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-menu/o-table-menu.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-quickfilter/o-table-quickfilter.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-header-column-filter-icon/o-table-header-column-filter-icon.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/o-table-header-components.ts","ng://ontimize-web-ngx/lib/components/table/extensions/pipes/o-table-row-class.pipe.ts","ng://ontimize-web-ngx/lib/components/table/extensions/row/o-table-row.directive.ts","ng://ontimize-web-ngx/lib/components/table/extensions/sort/o-mat-sort-module.ts","ng://ontimize-web-ngx/lib/components/table/o-table.module.ts","ng://ontimize-web-ngx/lib/services/remote-config.service.ts","ng://ontimize-web-ngx/lib/services/login.service.ts","ng://ontimize-web-ngx/lib/services/o-user-info.service.ts","ng://ontimize-web-ngx/lib/components/user-info/o-user-info.component.ts","ng://ontimize-web-ngx/lib/components/user-info/o-user-info.module.ts","ng://ontimize-web-ngx/lib/services/o-modules-info.service.ts","ng://ontimize-web-ngx/lib/components/app-header/o-app-header.component.ts","ng://ontimize-web-ngx/lib/components/app-header/o-app-header.module.ts","ng://ontimize-web-ngx/lib/components/app-sidenav/o-app-sidenav.component.ts","ng://ontimize-web-ngx/lib/components/app-sidenav/image/o-app-sidenav-image.component.ts","ng://ontimize-web-ngx/lib/components/app-sidenav/menu-group/o-app-sidenav-menu-group.component.ts","ng://ontimize-web-ngx/lib/layouts/app-layout/o-app-layout.component.ts","ng://ontimize-web-ngx/lib/components/app-sidenav/menu-item/o-app-sidenav-menu-item.component.ts","ng://ontimize-web-ngx/lib/components/app-sidenav/o-app-sidenav.module.ts","ng://ontimize-web-ngx/lib/layouts/app-layout/app-layout-header/o-app-layout-header.component.ts","ng://ontimize-web-ngx/lib/layouts/app-layout/app-layout-sidenav/o-app-layout-sidenav.component.ts","ng://ontimize-web-ngx/lib/layouts/app-layout/o-app-layout.module.ts","ng://ontimize-web-ngx/lib/layouts/card-menu-layout/o-card-menu-layout.component.ts","ng://ontimize-web-ngx/lib/layouts/card-menu-layout/o-card-menu-layout.module.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/tabgroup/o-form-layout-tabgroup.component.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/o-form-layout-manager.module.ts","ng://ontimize-web-ngx/lib/services/permissions/permissions-can-activate.guard.ts","ng://ontimize-web-ngx/lib/services/permissions/o-permissions.module.ts","ng://ontimize-web-ngx/lib/services/translate/o-translate-http-loader.ts","ng://ontimize-web-ngx/lib/services/translate/o-translate.parser.ts","ng://ontimize-web-ngx/lib/services/app-config.provider.ts","ng://ontimize-web-ngx/lib/config/o-providers.ts","ng://ontimize-web-ngx/lib/components/expandable-container/o-expandable-container.module.ts","ng://ontimize-web-ngx/lib/config/o-modules.ts","ng://ontimize-web-ngx/lib/ontimize-web-ngx.module.ts","ng://ontimize-web-ngx/lib/MainLauncher.ts","ng://ontimize-web-ngx/lib/services/auth-guard.service.ts","ng://ontimize-web-ngx/lib/decorators/o-component.ts","ng://ontimize-web-ngx/lib/shared/components/dialog/o-dialog.config.ts"],"sourcesContent":["\nexport class Base64 {\n  private static PADCHAR: string = '=';\n  private static ALPHA: string = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n  public static decode(s: string): string {\n    let pads = 0,\n      i, b10, imax = s.length,\n      x = [];\n\n    s = String(s);\n\n    if (imax === 0) {\n      return s;\n    }\n\n    if (s.charAt(imax - 1) === this.PADCHAR) {\n      pads = 1;\n      if (s.charAt(imax - 2) === this.PADCHAR) {\n        pads = 2;\n      }\n      imax -= 4;\n    }\n\n    for (i = 0; i < imax; i += 4) {\n      b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6) | this.getByte64(s, i + 3);\n      x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255, b10 & 255));\n    }\n\n    switch (pads) {\n      case 1:\n        b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6);\n        x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255));\n        break;\n      case 2:\n        b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12);\n        x.push(String.fromCharCode(b10 >> 16));\n        break;\n    }\n\n    return x.join('');\n  }\n\n  public static encode(s: string): string {\n    s = String(s);\n\n    let i, b10, x = [],\n      imax = s.length - s.length % 3;\n\n    if (s.length === 0) {\n      return s;\n    }\n\n    for (i = 0; i < imax; i += 3) {\n      b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8) | this.getByte(s, i + 2);\n      x.push(this.ALPHA.charAt(b10 >> 18));\n      x.push(this.ALPHA.charAt((b10 >> 12) & 63));\n      x.push(this.ALPHA.charAt((b10 >> 6) & 63));\n      x.push(this.ALPHA.charAt(b10 & 63));\n    }\n\n    switch (s.length - imax) {\n      case 1:\n        b10 = this.getByte(s, i) << 16;\n        x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.PADCHAR + this.PADCHAR);\n        break;\n      case 2:\n        b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8);\n        x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.ALPHA.charAt((b10 >> 6) & 63) + this.PADCHAR);\n        break;\n    }\n\n    return x.join('');\n  }\n\n  private static getByte(s: string, i: number): number {\n    const x = s.charCodeAt(i);\n    return x;\n  }\n\n  private static getByte64(s: string, i: number): number {\n    const idx = this.ALPHA.indexOf(s.charAt(i));\n    return idx;\n  }\n\n}\n","export type OAppLayoutMode = 'mobile' | 'desktop';\nexport type OSidenavMode = 'over' | 'push' | 'side';\nexport class Codes {\n\n  public static PAGINATED_QUERY_METHOD = 'advancedQuery';\n  public static DELETE_METHOD = 'delete';\n  public static INSERT_METHOD = 'insert';\n  public static UPDATE_METHOD = 'update';\n  public static QUERY_METHOD = 'query';\n\n  public static DEFAULT_QUERY_ROWS = 10;\n\n  public static DETAIL_ICON = 'chevron_right';\n  public static EDIT_ICON = 'mode_edit';\n\n  public static DEFAULT_ROW_HEIGHT = 'medium';\n  public static AVAILABLE_ROW_HEIGHTS_VALUES = ['small', 'medium', 'large'];\n\n  public static DETAIL_MODE_NONE = 'none';\n  public static DETAIL_MODE_CLICK = 'click';\n  public static DETAIL_MODE_DBLCLICK_VALUES = ['dblclick', 'doubleclick'];\n\n  public static EDITION_MODE_NONE = 'none';\n  public static EDITION_MODE_CLICK = 'click';\n  public static EDITION_MODE_DBLCLICK_VALUES = ['dblclick', 'doubleclick'];\n\n  public static SELECTION_MODE_NONE = 'none';\n  public static SELECTION_MODE_SINGLE = 'single';\n  public static SELECTION_MODE_MULTIPLE = 'multiple';\n\n  public static EXPORT_MODE_VISIBLE = 'visible';\n  public static EXPORT_MODE_LOCAL = 'local';\n  public static EXPORT_MODE_ALL = 'all';\n\n  public static HYPHEN_SEPARATOR = '-';\n  public static SPACE_SEPARATOR = ' ';\n  public static COLUMNS_ALIAS_SEPARATOR = ':';\n  public static ARRAY_INPUT_SEPARATOR = ';';\n  public static TYPE_SEPARATOR = ':';\n  public static VALUES_SEPARATOR = '=';\n  public static ASC_SORT = 'asc';\n  public static DESC_SORT = 'desc';\n\n  public static TYPE_INT = 'int';\n\n  public static ROUTE_SEPARATOR = '/';\n  public static ROUTE_VARIABLE_CHAR = ':';\n\n  public static PARENT_KEYS_KEY = 'pk';\n  public static QUERY_PARAMS = 'queryParams';\n  public static IS_DETAIL = 'isdetail';\n\n  public static LANGUAGE_KEY = 'lang';\n  public static SESSION_KEY = 'session';\n  public static SESSION_EXPIRED_KEY = 'session-expired';\n\n  public static LOGIN_ROUTE = '/login';\n  public static FORBIDDEN_ROUTE = '403';\n  public static DEFAULT_EDIT_ROUTE = 'edit';\n  public static DEFAULT_DETAIL_ROUTE = undefined;\n  public static DEFAULT_INSERT_ROUTE = 'new';\n\n  public static IGNORE_CAN_DEACTIVATE = 'ignore_can_deactivate';\n\n  public static ONTIMIZE_SUCCESSFUL_CODE = 0;\n  public static ONTIMIZE_FAILED_CODE = 1;\n  public static ONTIMIZE_UNAUTHORIZED_CODE = 3;\n\n  public static ICON_POSITION_LEFT = 'left';\n  public static ICON_POSITION_RIGHT = 'right';\n\n  public static COLUMN_TITLE_ALIGN_START = 'start';\n  public static COLUMN_TITLE_ALIGN_CENTER = 'center';\n  public static COLUMN_TITLE_ALIGN_END = 'end';\n  public static COLUMN_TITLE_ALIGN_AUTO = 'auto';\n  public static AVAILABLE_COLUMN_TITLE_ALIGNS =\n    [Codes.COLUMN_TITLE_ALIGN_START, Codes.COLUMN_TITLE_ALIGN_CENTER, Codes.COLUMN_TITLE_ALIGN_END, Codes.COLUMN_TITLE_ALIGN_AUTO];\n\n  public static O_MAT_ERROR_STANDARD = 'standard';\n  public static O_MAT_ERROR_LITE = 'lite';\n\n  public static O_INPUTS_OPTIONS_COLOR_ACCENT = 'accent';\n  public static HourFormat = {\n    TWELVE: 'hh:mm a',\n    TWENTY_FOUR: 'HH:mm a',\n  };\n\n  // OFormComponent\n  public static CLOSE_DETAIL_ACTION: string = 'CLOSE';\n  public static BACK_ACTION: string = 'BACK';\n  public static RELOAD_ACTION: string = 'RELOAD';\n  public static GO_EDIT_ACTION: string = 'GO_EDIT';\n  public static EDIT_ACTION: string = 'EDIT';\n  public static INSERT_ACTION: string = 'INSERT';\n  public static GO_INSERT_ACTION: string = 'GO_INSERT';\n  public static DELETE_ACTION: string = 'DELETE';\n  public static UNDO_LAST_CHANGE_ACTION: string = 'UNDO_LAST_CHANGE';\n\n  // OTableComponent\n  public static DEFAULT_COLUMN_MIN_WIDTH = 80;\n  public static NAME_COLUMN_SELECT = 'select';\n  public static NAME_COLUMN_EXPANDABLE = 'expandable';\n  public static SUFFIX_COLUMN_INSERTABLE = '_insertable';\n  public static LIMIT_SCROLLVIRTUAL = 50;\n\n  public static TWENTY_FOUR_HOUR_FORMAT = 24;\n  public static TWELVE_FOUR_HOUR_FORMAT = 12;\n\n  public static OAppLayoutModes: OAppLayoutMode[] = ['mobile', 'desktop'];\n  public static OSidenavModes: OSidenavMode[] = ['over', 'push', 'side'];\n\n  public static OAppLayoutMode = ['mobile', 'desktop'];\n  public static OSidenavMode = ['over', 'push', 'side'];\n\n  public static APP_LAYOUT_MODE_DESKTOP: OAppLayoutMode = 'desktop';\n  public static APP_LAYOUT_MODE_MOBILE: OAppLayoutMode = 'mobile';\n\n  static isDoubleClickMode(value: string): boolean {\n    return Codes.DETAIL_MODE_DBLCLICK_VALUES.indexOf(value) !== -1;\n  }\n\n  static isValidRowHeight(value: string): boolean {\n    return Codes.AVAILABLE_ROW_HEIGHTS_VALUES.indexOf(value) !== -1;\n  }\n\n  static getIsDetailObject(): any {\n    const res = {};\n    res[Codes.IS_DETAIL] = 'true';\n    return res;\n  }\n\n  static formatString(format: number) {\n    return (format === Codes.TWENTY_FOUR_HOUR_FORMAT ? Codes.HourFormat.TWENTY_FOUR : Codes.HourFormat.TWELVE);\n  }\n\n  static isHourInputAllowed(e: KeyboardEvent): boolean {\n    // Allow: backspace, delete, tab, escape, enter\n    if ([46, 8, 9, 27, 13].some(n => n === e.keyCode) ||\n      (e.key === ':') ||\n      // Allow: Ctrl/cmd+A\n      (e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: Ctrl/cmd+C\n      (e.keyCode === 67 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: Ctrl/cmd+X\n      (e.keyCode === 88 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: home, end, left, right, up, down\n      (e.keyCode >= 35 && e.keyCode <= 40)) {\n      return true;\n    }\n    return !((e.keyCode < 48 || e.keyCode > 57) && (e.keyCode < 96 || e.keyCode > 105));\n  }\n}\n","import { IDataService } from '../interfaces/data-service.interface';\nimport { IFormDataComponent } from '../interfaces/form-data-component.interface';\nimport { IPermissionsService } from '../interfaces/permissions-service.interface';\nimport { ODateValueType } from '../types/o-date-value.type';\nimport { Base64 } from './base64';\nimport { Codes } from './codes';\n\nexport class Util {\n\n  static isObject(val: any): boolean {\n    const valType = typeof val;\n    return valType === 'object';\n  }\n\n  static isArray(val: any): boolean {\n    return val instanceof Array;\n  }\n\n  static parseBoolean(value: string, defaultValue?: boolean): boolean {\n    if ((typeof value === 'string') && (value.toUpperCase() === 'TRUE' || value.toUpperCase() === 'YES')) {\n      return true;\n    } else if ((typeof value === 'string') && (value.toUpperCase() === 'FALSE' || value.toUpperCase() === 'NO')) {\n      return false;\n    } else if (Util.isDefined(defaultValue)) {\n      return defaultValue;\n    }\n    return false;\n  }\n\n  static parseArray(value: string, excludeRepeated: boolean = false): string[] {\n    let result = [];\n    if (value) {\n      result = value.split(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    if (excludeRepeated && result.length > 0) {\n      result = Array.from(new Set(result));\n    }\n    return result;\n  }\n\n  /**\n   * Returns an object with parent keys equivalences.\n   * @param  pKeysArray Array of strings. Accepted format: key | key:alias\n   * @returns Object\n   */\n  static parseParentKeysEquivalences(pKeysArray: Array<string>, separator: string = ':'): object {\n    const equivalences = {};\n    if (pKeysArray && pKeysArray.length > 0) {\n      pKeysArray.forEach(item => {\n        const aux = item.split(separator);\n        if (aux && aux.length === 2) {\n          if (/.+\\[.+\\]/.test(aux[1])) {\n            const equivKey = aux[1].substring(0, aux[1].indexOf('['));\n            const equivValue = aux[1].substring(aux[1].indexOf('[') + 1, aux[1].indexOf(']'));\n            const equiv = {};\n            equiv[equivKey] = equivValue;\n            equivalences[aux[0]] = equiv;\n          } else {\n            equivalences[aux[0]] = aux[1];\n          }\n        } else if (aux && aux.length === 1) {\n          equivalences[item] = item;\n        }\n      });\n    }\n    return equivalences;\n  }\n\n  static encodeParentKeys(parentKeys: object): string {\n    let encoded: string = '';\n    if (parentKeys) {\n      encoded = Base64.encode(JSON.stringify(parentKeys));\n    }\n    return encoded;\n  }\n\n  static decodeParentKeys(parentKeys: string): object {\n    let decoded = {};\n    if (parentKeys && parentKeys.length > 0) {\n      const d = Base64.decode(parentKeys);\n      decoded = JSON.parse(d);\n    }\n    return decoded;\n  }\n\n  static isArrayEmpty(array: any[]): boolean {\n    if (array && array.length === 0) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Checks wether specified service as argument implements 'IDataService' interface\n   * @param arg The service instance for checking.\n   * @returns boolean\n   */\n  static isDataService(arg: any): arg is IDataService {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IDataService).getDefaultServiceConfiguration !== undefined &&\n      (arg as IDataService).configureService !== undefined);\n  }\n\n  /**\n   * Checks wether specified service as argument implements 'IDataService' interface\n   * @param arg The service instance for checking.\n   * @returns boolean\n   */\n  static isPermissionsService(arg: any): arg is IPermissionsService {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IPermissionsService).loadPermissions !== undefined);\n  }\n\n  /**\n   * Checks wether specified component as argument implements 'IFormDataComponent' interface\n   * @param arg The component instance for checking.\n   * @returns boolean\n   */\n  static isFormDataComponent(arg: any): arg is IFormDataComponent {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IFormDataComponent).isAutomaticBinding !== undefined);\n  }\n\n  /**\n   * Compare is equal two objects\n   * @param a Object 1\n   * @param b Object 2\n   *\n   */\n  static isEquivalent(a, b) {\n    // Create arrays of property names\n    const aProps = Object.getOwnPropertyNames(a);\n    const bProps = Object.getOwnPropertyNames(b);\n\n    // If number of properties is different, objects are not equivalent\n    if (aProps.length !== bProps.length) {\n      return false;\n    }\n\n    for (let i = 0; i < aProps.length; i++) {\n      const propName = aProps[i];\n      // If values of same property are not equal, objects are not equivalent\n      let bValue = b[propName];\n      if (typeof a[propName] === 'number') {\n        const intB = parseInt(bValue, 10);\n        bValue = isNaN(intB) ? bValue : intB;\n      }\n      if (a[propName] !== bValue) {\n        return false;\n      }\n    }\n\n    // If we made it this far, objects are considered equivalent\n    return true;\n  }\n\n  static equals(o1: any, o2: any): boolean {\n    if (o1 === o2) {\n      return true;\n    }\n    if (o1 === null || o2 === null) {\n      return false;\n    }\n    if (o1 !== o1 && o2 !== o2) {\n      // NaN === NaN\n      return true;\n    }\n    const t1 = typeof o1;\n    const t2 = typeof o2;\n    let length: number;\n    let key: any;\n    let keySet: any;\n    if (t1 === t2 && t1 === 'object') {\n      if (Array.isArray(o1)) {\n        if (!Array.isArray(o2)) {\n          return false;\n        }\n        length = o1.length;\n        if (length === o2.length) {\n          for (key = 0; key < length; key++) {\n            if (!Util.equals(o1[key], o2[key])) {\n              return false;\n            }\n          }\n          return true;\n        }\n      } else {\n        if (Array.isArray(o2)) {\n          return false;\n        }\n        keySet = Object.create(null);\n        for (key in o1) {\n          if (!Util.equals(o1[key], o2[key])) {\n            return false;\n          }\n          keySet[key] = true;\n        }\n        for (key in o2) {\n          if (!(key in keySet) && typeof o2[key] !== 'undefined') {\n            return false;\n          }\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n\n  static isDefined(value: any): boolean {\n    return typeof value !== 'undefined' && value !== null;\n  }\n\n  /**\n   * Returns the provided string in lowercase and without accent marks.\n   * @param value the text to normalize\n   */\n  static normalizeString(value: string, toLowerCase: boolean = true): string {\n    if (value && value.length) {\n      let result = value.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n      if (toLowerCase) {\n        result = result.toLowerCase();\n      }\n      return result;\n    }\n    return '';\n  }\n\n  /**\n   * Returns the provided array flattend.\n   * @param array the array to flat\n   */\n  static flatten(array: Array<any>): Array<any> {\n    return [].concat(...array);\n  }\n\n  /**\n   * Returns a list with all the values from the provided object.\n   * @param obj the object\n   */\n  static getValuesFromObject(obj: object = {}): Array<any> {\n    const array: Array<any> = [];\n    Object.keys(obj).forEach(key => {\n      if (typeof obj[key] === 'object') {\n        array.push(Util.getValuesFromObject(obj[key]));\n      }\n      array.push(obj[key]);\n    });\n    return Util.flatten(array);\n  }\n\n  static parseIconPosition(value: string, defaultValue?: string): string {\n    let result = defaultValue || Codes.ICON_POSITION_LEFT;\n    const availablePositions = [Codes.ICON_POSITION_LEFT, Codes.ICON_POSITION_RIGHT];\n    if (value && value.length) {\n      result = value.toLowerCase();\n    }\n    if (availablePositions.indexOf(result) === -1) {\n      result = defaultValue || Codes.ICON_POSITION_LEFT;\n    }\n    return result;\n  }\n\n  static copyToClipboard(data: string) {\n    document.addEventListener('copy', (e: ClipboardEvent) => {\n      e.clipboardData.setData('text/plain', data);\n      e.preventDefault();\n      document.removeEventListener('copy', null);\n    });\n    document.execCommand('copy');\n  }\n\n  static checkPixelsValueString(value: string): boolean {\n    return typeof value === 'string' ? value.toLowerCase().endsWith('px') : false;\n  }\n\n  static extractPixelsValue(value: any, defaultValue?: number): number {\n    let result: number = typeof value === 'number' ? value : undefined;\n    if (Util.checkPixelsValueString(value)) {\n      const parsed = parseFloat(value.substr(0, value.length - 'px'.length));\n      result = isNaN(parsed) ? defaultValue : parsed;\n    }\n    return Util.isDefined(result) ? result : defaultValue;\n  }\n  /**\n   * Added class 'accent' in <mat-form-field> and set the color  accent in the icons\n   * @param elRef\n   * @param oInputsOptions\n   */\n\n  static parseOInputsOptions(elRef, oInputsOptions) {\n\n    if (oInputsOptions.iconColor === Codes.O_INPUTS_OPTIONS_COLOR_ACCENT) {\n      const matFormFieldEL = elRef.nativeElement.getElementsByTagName('mat-form-field')[0];\n      if (Util.isDefined(matFormFieldEL)) {\n        matFormFieldEL.classList.add('accent');\n      }\n    }\n  }\n\n\n  /**\n   *  Return string with escaped special character\n   */\n  static escapeSpecialCharacter(S: string): string {\n\n    const str = String(S);\n\n    const cpList = Array.from(str[Symbol.iterator]());\n\n    const cuList = [];\n    for (const c of cpList) {\n      // i. If c is a SpecialCharacter then do:\n      if ('^$\\\\.*+?()[]{}|'.indexOf(c) !== -1) {\n        // a. Append \"\\\" to cuList.\n        cuList.push('\\\\');\n      }\n      // Append c to cpList.\n      cuList.push(c);\n    }\n    const L = cuList.join('');\n    return L;\n\n  }\n\n  static differenceArrays(array1: Array<any>, array2: Array<any>): Array<any> {\n    const difference = array1.filter(obj => {\n      return !array2.some(obj2 => {\n        return this.equals(obj, obj2);\n      });\n    });\n    return difference;\n  }\n\n  static convertToODateValueType(val: any): ODateValueType {\n    let result: ODateValueType = 'timestamp';\n    const lowerVal = (val || '').toLowerCase();\n    if (lowerVal === 'string' || lowerVal === 'date' || lowerVal === 'timestamp' || lowerVal === 'iso-8601') {\n      result = lowerVal;\n    }\n    return result;\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { Config } from '../types/config.type';\nimport { MenuRootItem } from '../types/menu-root-item.type';\nimport { OInputsOptions } from '../types/o-inputs-options.type';\nimport { ORemoteConfiguration } from '../types/remote-configuration.type';\nimport { Util } from '../util/util';\n\nconst DEFAULT_LOCAL_STORAGE_KEY = undefined;\nconst DEFAULT_CONFIG: Config = {\n  uuid: DEFAULT_LOCAL_STORAGE_KEY,\n  title: 'Ontimize Web App'\n};\n\nexport const O_INPUTS_OPTIONS = new InjectionToken<OInputsOptions>('o-inputs-options');\n\nexport const APP_CONFIG = new InjectionToken<Config>('app.config');\n\nexport class AppConfig {\n  private _config: Config;\n\n  constructor(config?) {\n    this._config = (config && Util.isObject(config) && !Array.isArray(config)) ? config : {};\n  }\n\n  public getConfiguration(): Config {\n    return Object.assign(DEFAULT_CONFIG, this._config);\n  }\n\n  public getServiceConfiguration(): any {\n    return this._config.servicesConfiguration || {};\n  }\n\n  public getMenuConfiguration(): MenuRootItem[] {\n    return this._config.appMenuConfiguration || [];\n  }\n\n  public useRemoteBundle(): boolean {\n    return Util.isDefined(this._config.bundle);\n  }\n\n  public getBundleEndpoint(): string {\n    let result: string;\n    const existsBundleConf = this.useRemoteBundle();\n    if (existsBundleConf && Util.isDefined(this._config.bundle.endpoint)) {\n      result = this._config.bundle.endpoint;\n    } else if (existsBundleConf && Util.isDefined(this._config.bundle.path)) {\n      result = this._config.apiEndpoint + '/' + this._config.bundle.path;\n    }\n    return result;\n  }\n\n  public getI18nAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.i18n)) {\n      return this._config.assets.i18n;\n    }\n    return undefined;\n  }\n\n  public getCssAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.css)) {\n      return this._config.assets.css;\n    }\n    return undefined;\n  }\n\n  public getImagesAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.images)) {\n      return this._config.assets.images;\n    }\n    return undefined;\n  }\n\n  public getJsAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.js)) {\n      return this._config.assets.js;\n    }\n    return undefined;\n  }\n\n  public getRemoteConfigurationConfig(): ORemoteConfiguration {\n    return this._config.remoteConfig;\n  }\n\n  public useRemoteConfiguration(): boolean {\n    return Util.isDefined(this._config.remoteConfig);\n  }\n\n  public getRemoteConfigurationEndpoint(): string {\n    let result: string;\n    const existsRemoteConf = this.useRemoteConfiguration();\n    if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.endpoint)) {\n      result = this._config.remoteConfig.endpoint;\n    } else if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.path)) {\n      result = this._config.apiEndpoint + '/' + this._config.remoteConfig.path;\n    }\n    return result;\n  }\n\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Code copied from '@angular/core/src/facade/async of RC4. On RC5 this classes are removed!!\n */\nimport { EventEmitter } from '@angular/core';\n\nexport { Observable, Subject } from 'rxjs';\n\nexport function noop() {\n  // nothing to do\n}\n\nexport class ObservableWrapper {\n  // TODO(vsavkin): when we use rxnext, try inferring the generic type from the first arg\n  static subscribe<T>(\n    emitter: any, onNext: (value: T) => void, onError?: (exception: any) => void,\n    onComplete: () => void = () => {\n      // nothing to do\n    }): object {\n    onError = (typeof onError === 'function') && onError || noop;\n    onComplete = (typeof onComplete === 'function') && onComplete || noop;\n    return emitter.subscribe({ next: onNext, error: onError, complete: onComplete });\n  }\n\n  static isObservable(obs: any): boolean { return !!obs.subscribe; }\n\n  /**\n   * Returns whether `obs` has any subscribers listening to events.\n   */\n  static hasSubscribers(obs: EventEmitter<any>): boolean { return obs.observers.length > 0; }\n\n  static dispose(subscription: any) { subscription.unsubscribe(); }\n\n  /**\n   * @deprecated - use callEmit() instead\n   */\n  static callNext(emitter: EventEmitter<any>, value: any) { emitter.emit(value); }\n\n  static callEmit(emitter: EventEmitter<any>, value: any) { emitter.emit(value); }\n\n  static callError(emitter: EventEmitter<any>, error: any) { emitter.error(error); }\n\n  static callComplete(emitter: EventEmitter<any>) { emitter.complete(); }\n\n}\n\n","import { Directive, ElementRef, EventEmitter, HostListener, Input, OnDestroy, OnInit, Renderer2 } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { IList } from '../../../interfaces/o-list.interface';\nimport { ObservableWrapper } from '../../../util/async';\nimport { Codes } from '../../../util/codes';\n\n@Directive({\n  selector: 'o-list-item, mat-list-item[o-list-item], mat-card[o-list-item]',\n  exportAs: 'olistitem',\n  host: {\n    '[class.o-list-item]': 'true',\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  }\n})\nexport class OListItemDirective implements OnInit, OnDestroy {\n\n  public mdClick: EventEmitter<any> = new EventEmitter();\n  public mdDoubleClick: EventEmitter<any> = new EventEmitter();\n\n  @Input('o-list-item')\n  public modelData: object;\n\n  @Input()\n  public selectable: boolean = false;\n\n  protected _list: IList;\n  protected subcription: any;\n\n  constructor(\n    public _el: ElementRef,\n    private renderer: Renderer2,\n    public actRoute: ActivatedRoute\n  ) { }\n\n  public ngOnInit(): void {\n    this.subcription = this.actRoute.params.subscribe(params => this.updateActiveState(params));\n  }\n\n  public ngOnDestroy(): void {\n    if (this.subcription) {\n      this.subcription.unsubscribe();\n    }\n  }\n\n  @HostListener('mouseenter')\n  public onMouseEnter(): void {\n    if (!this.selectable && this._list.detailMode !== Codes.DETAIL_MODE_NONE) {\n      this.renderer.setStyle(this._el.nativeElement, 'cursor', 'pointer');\n    }\n  }\n\n  public updateActiveState(params): void {\n    if (this._list) {\n      const aKeys = this._list.getKeys();\n      if (this.modelData) {\n        let _act = false;\n        if (aKeys.length > 0) {\n          for (let k = 0; k < aKeys.length; ++k) {\n            const key = aKeys[k];\n            const id = params[key];\n            _act = (this.modelData[key] === id);\n            if (_act === false) {\n              break;\n            }\n          }\n        }\n        if (_act) {\n          this._el.nativeElement.classList.add('mat-active');\n        } else {\n          this._el.nativeElement.classList.remove('mat-active');\n        }\n      } else {\n        this._el.nativeElement.classList.remove('mat-active');\n      }\n    }\n  }\n\n  public onItemClicked(e?: Event): void {\n    if (!this.selectable) {\n      ObservableWrapper.callEmit(this.mdClick, this);\n    }\n  }\n\n  public onClick(onNext: (item: OListItemDirective) => void): object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onItemDoubleClicked(e?: Event): void {\n    if (!this.selectable) {\n      ObservableWrapper.callEmit(this.mdDoubleClick, this);\n    }\n  }\n\n  public onDoubleClick(onNext: (item: OListItemDirective) => void): object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  public isSelected(): boolean {\n    return this._list.isItemSelected(this.modelData);\n  }\n\n  public onSelect(): void {\n    this._list.setSelected(this.modelData);\n  }\n\n  public setListComponent(list: IList): void {\n    this._list = list;\n  }\n\n  public setItemData(data: any): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  public getItemData(): any {\n    return this.modelData;\n  }\n\n}\n","import { Directive, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\n\nimport { Util } from '../util/util';\n\n@Directive({\n  selector: '[oKeyboardListener]'\n})\nexport class OKeyboardListenerDirective implements OnInit {\n\n  @Input() keyboardKeys: string;\n  @Output() onKeysPressed: EventEmitter<object> = new EventEmitter<object>();\n\n  protected keyboardNumberKeysArray: Array<number> = [];\n  protected activeKeys: object = {};\n\n  @HostListener('keydown', ['$event'])\n  keyDown(e: KeyboardEvent) {\n    const pressedCode = e.keyCode;\n    if (this.keyboardNumberKeysArray.indexOf(pressedCode) !== -1) {\n      this.activeKeys[pressedCode] = true;\n      this.checkNeededKeys(e);\n    }\n  }\n\n  @HostListener('keyup', ['$event'])\n  keyUp(e: KeyboardEvent) {\n    const pressedCode = e.keyCode;\n    if (this.keyboardNumberKeysArray.indexOf(pressedCode) !== -1) {\n      this.activeKeys[pressedCode] = false;\n    }\n  }\n\n  ngOnInit(): void {\n    this.parseKeyboardKeys();\n  }\n\n  parseKeyboardKeys() {\n    const keysAsStringArray = Util.parseArray(this.keyboardKeys);\n    keysAsStringArray.forEach(key => {\n      try {\n        this.keyboardNumberKeysArray.push(parseInt(key, 10));\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n\n  checkNeededKeys(e: KeyboardEvent) {\n    let trigger = true;\n    this.keyboardNumberKeysArray.forEach(key => {\n      trigger = trigger && this.activeKeys[key];\n    });\n    if (trigger) {\n      e.preventDefault();\n      e.stopPropagation();\n      // this.activeKeys = {};\n      this.onKeysPressed.emit();\n    }\n  }\n\n}\n","export function StringConverter(value: any) {\n  if (value == null || typeof value === 'string') {\n    return value;\n  }\n  return value.toString();\n}\n\nexport function BooleanConverter(value: any) {\n  if (value == null || typeof value === 'boolean') {\n    return value;\n  }\n  return value.toString() === 'true' || value.toString() === 'yes';\n}\n\nexport function NumberConverter(value: any) {\n  if (value == null || typeof value === 'number') {\n    return value;\n  }\n  return parseFloat(value.toString());\n}\n\nfunction createConverterIfNeeded(metadata: any, converter?: (value: any) => any) {\n  if (converter != null) {\n    return converter;\n  }\n  switch (metadata.name) {\n    case 'String':\n      converter = StringConverter;\n      break;\n    case 'Boolean':\n      converter = BooleanConverter;\n      break;\n    case 'Number':\n      converter = NumberConverter;\n      break;\n  }\n  return converter;\n}\n\nexport function InputConverter(converter?: (value: any) => any) {\n\n  return (target: object, key: string | symbol) => {\n    const metadata = (Reflect as any).getMetadata('design:type', target, key);\n    if (metadata == null) {\n      throw new Error('The reflection metadata could not be found.');\n    }\n    converter = createConverterIfNeeded(metadata, converter);\n    if (converter == null) {\n      throw new Error('There is no converter for the given property type \"' + metadata.name + '\".');\n    }\n\n    const stringKey = typeof key === 'string' ? key : key.toString();\n    const definition = Object.getOwnPropertyDescriptor(target, key);\n\n    Object.defineProperty(target, key, {\n      // tslint:disable-next-line:space-before-function-paren\n      get: definition != null ? definition.get : function () {\n        return this['__' + stringKey];\n      },\n      set: definition != null ?\n        (newValue) => {\n          definition.set(converter(newValue));\n          // tslint:disable-next-line:space-before-function-paren\n        } : function (newValue) {\n          this['__' + stringKey] = converter(newValue);\n        },\n      enumerable: true,\n      configurable: true\n    });\n  };\n}\n","import { Component, ViewEncapsulation } from '@angular/core';\nimport { MatDialogRef } from '@angular/material';\n\nimport { ODialogConfig } from './o-dialog.config';\n\n@Component({\n  selector: 'o-dialog',\n  templateUrl: './o-dialog.component.html',\n  styleUrls: ['./o-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-dialog]': 'true'\n  }\n})\nexport class ODialogComponent {\n\n  protected static DEFAULT_OK_BUTTON_TEXT = 'OK';\n  protected static DEFAULT_CANCEL_BUTTON_TEXT = 'CANCEL';\n\n  protected _title: string;\n  protected _message: string;\n  protected _okButtonText: string;\n  protected _cancelButtonText: string;\n  protected _twoOptions: boolean;\n  protected _useIcon: boolean;\n  protected _icon: string;\n  protected _alertType: string;\n\n  constructor(\n    public dialogRef: MatDialogRef<ODialogComponent>) {\n  }\n\n  onOkClick() {\n    if (this.dialogRef) {\n      this.dialogRef.close(true);\n    }\n  }\n\n  public alert(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public info(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'info';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'info';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public warn(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'warn';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'warning';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public error(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'error';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'error';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public confirm(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    this.configureDefaultAlert(title, message, config);\n    this.twoOptions = true;\n  }\n\n  /* Utility methods */\n  protected ensureConfig(config: ODialogConfig): ODialogConfig {\n    if (!config) {\n      config = {};\n    }\n    return config;\n  }\n\n  protected configureDefaultAlert(title: string, message: string, config?: ODialogConfig) {\n    this.twoOptions = false;\n    this.title = title;\n    this.message = message;\n\n    this.icon = (typeof (config.icon) !== 'undefined') ? config.icon : undefined;\n    if (this.icon !== undefined) {\n      this.useIcon = true;\n    }\n    this.alertType = config.alertType;\n\n    this.okButtonText = (typeof (config.okButtonText) !== 'undefined') ? config.okButtonText : ODialogComponent.DEFAULT_OK_BUTTON_TEXT;\n    this.cancelButtonText = (typeof (config.cancelButtonText) !== 'undefined') ? config.cancelButtonText : ODialogComponent.DEFAULT_CANCEL_BUTTON_TEXT;\n  }\n\n  get isInfo(): boolean {\n    return this.alertType === 'info';\n  }\n\n  get isWarn(): boolean {\n    return this.alertType === 'warn';\n  }\n\n  get isError(): boolean {\n    return this.alertType === 'error';\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get message(): string {\n    return this._message;\n  }\n\n  set message(val: string) {\n    this._message = val;\n  }\n\n  get okButtonText(): string {\n    return this._okButtonText;\n  }\n\n  set okButtonText(val: string) {\n    this._okButtonText = val;\n  }\n\n  get cancelButtonText(): string {\n    return this._cancelButtonText;\n  }\n\n  set cancelButtonText(val: string) {\n    this._cancelButtonText = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n  get alertType(): string {\n    return this._alertType;\n  }\n\n  set alertType(val: string) {\n    this._alertType = val;\n  }\n\n\n  get twoOptions(): boolean {\n    return this._twoOptions;\n  }\n\n  set twoOptions(val: boolean) {\n    this._twoOptions = val;\n  }\n\n  get useIcon(): boolean {\n    return this._useIcon;\n  }\n\n  set useIcon(val: boolean) {\n    this._useIcon = val;\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { MatDialog, MatDialogConfig, MatDialogRef } from '@angular/material';\nimport { Observable } from 'rxjs';\n\nimport { ODialogComponent } from '../shared/components/dialog/o-dialog.component';\nimport { ODialogConfig } from '../shared/components/dialog/o-dialog.config';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DialogService {\n\n  protected ng2Dialog: MatDialog;\n  dialogRef: MatDialogRef<ODialogComponent>;\n\n  constructor(protected injector: Injector) {\n    this.ng2Dialog = this.injector.get(MatDialog);\n  }\n\n  public get dialog(): ODialogComponent {\n    if (this.dialogRef) {\n      return this.dialogRef.componentInstance;\n    }\n    return undefined;\n  }\n\n  public alert(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    const self = this;\n    const observable = new Observable(observer => {\n      self.openDialog(observer);\n      self.dialogRef.componentInstance.alert(title, message, config);\n    });\n    return observable.toPromise();\n  }\n\n  public info(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    const self = this;\n    const observable = new Observable(observer => {\n      self.openDialog(observer);\n      self.dialogRef.componentInstance.info(title, message, config);\n    });\n    return observable.toPromise();\n  }\n\n  public warn(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    const self = this;\n    const observable = new Observable(observer => {\n      self.openDialog(observer);\n      self.dialogRef.componentInstance.warn(title, message, config);\n    });\n    return observable.toPromise();\n  }\n\n  public error(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    const self = this;\n    const observable = new Observable(observer => {\n      self.openDialog(observer);\n      self.dialogRef.componentInstance.error(title, message, config);\n    });\n    return observable.toPromise();\n  }\n\n  public confirm(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    const self = this;\n    const observable = new Observable(observer => {\n      self.openDialog(observer);\n      self.dialogRef.componentInstance.confirm(title, message, config);\n    });\n    return observable.toPromise();\n  }\n\n  protected openDialog(observer) {\n    const cfg: MatDialogConfig = {\n      role: 'alertdialog',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-dialog-service']\n    };\n    this.dialogRef = this.ng2Dialog.open(ODialogComponent, cfg);\n    this.dialogRef.afterClosed().subscribe(result => {\n      result = result === undefined ? false : result;\n      observer.next(result);\n      observer.complete();\n      this.dialogRef = null;\n    });\n  }\n\n}\n","export class OFormValue {\n  value: any;\n  constructor(value?: any) {\n    this.value = value;\n  }\n}\n","export class SQLTypes {\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BIT</code>.\n   */\n  public static BIT = -7;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TINYINT</code>.\n   */\n  public static TINYINT = -6;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>SMALLINT</code>.\n   */\n  public static SMALLINT = 5;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>INTEGER</code>.\n   */\n  public static INTEGER = 4;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BIGINT</code>.\n   */\n  public static BIGINT = -5;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>FLOAT</code>.\n   */\n  public static FLOAT = 6;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>REAL</code>.\n   */\n  public static REAL = 7;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DOUBLE</code>.\n   */\n  public static DOUBLE = 8;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>NUMERIC</code>.\n   */\n  public static NUMERIC = 2;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DECIMAL</code>.\n   */\n  public static DECIMAL = 3;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>CHAR</code>.\n   */\n  public static CHAR = 1;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>VARCHAR</code>.\n   */\n  public static VARCHAR = 12;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>LONGVARCHAR</code>.\n   */\n  public static LONGVARCHAR = -1;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DATE</code>.\n   */\n  public static DATE = 91;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TIME</code>.\n   */\n  public static TIME = 92;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TIMESTAMP</code>.\n   */\n  public static TIMESTAMP = 93;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BINARY</code>.\n   */\n  public static BINARY = -2;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>VARBINARY</code>.\n   */\n  public static VARBINARY = -3;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>LONGVARBINARY</code>.\n   */\n  public static LONGVARBINARY = -4;\n\n  /**\n   * <P>The constant in the Java programming language\n   * that identifies the generic SQL value\n   * <code>NULL</code>.\n   */\n  public static NULL = 0;\n\n  /**\n   * The constant in the Java programming language that indicates\n   * that the SQL type is database-specific and\n   * gets mapped to a Java object that can be accessed via\n   * the methods <code>getObject</code> and <code>setObject</code>.\n   */\n  public static OTHER = 1111;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>JAVA_OBJECT</code>.\n   * @since 1.2\n   */\n  public static JAVA_OBJECT = 2000;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>DISTINCT</code>.\n   * @since 1.2\n   */\n  public static DISTINCT = 2001;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>STRUCT</code>.\n   * @since 1.2\n   */\n  public static STRUCT = 2002;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>ARRAY</code>.\n   * @since 1.2\n   */\n  public static ARRAY = 2003;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>BLOB</code>.\n   * @since 1.2\n   */\n  public static BLOB = 2004;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>CLOB</code>.\n   * @since 1.2\n   */\n  public static CLOB = 2005;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>REF</code>.\n   * @since 1.2\n   */\n  public static REF = 2006;\n\n  /**\n   * The constant in the Java programming language, somtimes referred to\n   * as a type code, that identifies the generic SQL type <code>DATALINK</code>.\n   *\n   * @since 1.4\n   */\n  public static DATALINK = 70;\n\n  /**\n   * The constant in the Java programming language, somtimes referred to\n   * as a type code, that identifies the generic SQL type <code>BOOLEAN</code>.\n   *\n   * @since 1.4\n   */\n  public static BOOLEAN = 16;\n\n  // ------------------------- JDBC 4.0 -----------------------------------\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>ROWID</code>\n   *\n   * @since 1.6\n   *\n   */\n  public static ROWID = -8;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NCHAR</code>\n   *\n   * @since 1.6\n   */\n  public static NCHAR = -15;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NVARCHAR</code>.\n   *\n   * @since 1.6\n   */\n  public static NVARCHAR = -9;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>LONGNVARCHAR</code>.\n   *\n   * @since 1.6\n   */\n  public static LONGNVARCHAR = -16;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NCLOB</code>.\n   *\n   * @since 1.6\n   */\n  public static NCLOB = 2011;\n\n  public static BASE64 = 6464;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>XML</code>.\n   *\n   * @since 1.6\n   */\n  public static SQLXML = 2009;\n\n  public static getSQLTypeValue(type: string): number {\n    let value: number;\n    type = type ? type.toUpperCase() : '';\n    switch (type) {\n      case 'BIT':\n        value = SQLTypes.BIT;\n        break;\n      case 'TINYINT':\n        value = SQLTypes.TINYINT;\n        break;\n      case 'SMALLINT':\n        value = SQLTypes.SMALLINT;\n        break;\n      case 'INTEGER':\n        value = SQLTypes.INTEGER;\n        break;\n      case 'BIGINT':\n        value = SQLTypes.BIGINT;\n        break;\n      case 'FLOAT':\n        value = SQLTypes.FLOAT;\n        break;\n      case 'REAL':\n        value = SQLTypes.REAL;\n        break;\n      case 'DOUBLE':\n        value = SQLTypes.DOUBLE;\n        break;\n      case 'NUMERIC':\n        value = SQLTypes.NUMERIC;\n        break;\n      case 'DECIMAL':\n        value = SQLTypes.DECIMAL;\n        break;\n      case 'CHAR':\n        value = SQLTypes.CHAR;\n        break;\n      case 'VARCHAR':\n        value = SQLTypes.VARCHAR;\n        break;\n      case 'LONGVARCHAR':\n        value = SQLTypes.LONGVARCHAR;\n        break;\n      case 'DATE':\n        value = SQLTypes.DATE;\n        break;\n      case 'TIME':\n        value = SQLTypes.TIME;\n        break;\n      case 'TIMESTAMP':\n        value = SQLTypes.TIMESTAMP;\n        break;\n      case 'BINARY':\n        value = SQLTypes.BINARY;\n        break;\n      case 'VARBINARY':\n        value = SQLTypes.VARBINARY;\n        break;\n      case 'LONGVARBINARY':\n        value = SQLTypes.LONGVARBINARY;\n        break;\n      case 'NULL':\n        value = SQLTypes.NULL;\n        break;\n      case 'OTHER':\n        value = SQLTypes.OTHER;\n        break;\n      case 'JAVA_OBJECT':\n        value = SQLTypes.JAVA_OBJECT;\n        break;\n      case 'DISTINCT':\n        value = SQLTypes.DISTINCT;\n        break;\n      case 'STRUCT':\n        value = SQLTypes.STRUCT;\n        break;\n      case 'ARRAY':\n        value = SQLTypes.ARRAY;\n        break;\n      case 'BLOB':\n        value = SQLTypes.BLOB;\n        break;\n      case 'CLOB':\n        value = SQLTypes.CLOB;\n        break;\n      case 'REF':\n        value = SQLTypes.REF;\n        break;\n      case 'DATALINK':\n        value = SQLTypes.DATALINK;\n        break;\n      case 'BOOLEAN':\n        value = SQLTypes.BOOLEAN;\n        break;\n      case 'ROWID':\n        value = SQLTypes.ROWID;\n        break;\n      case 'NCHAR':\n        value = SQLTypes.NCHAR;\n        break;\n      case 'NVARCHAR':\n        value = SQLTypes.NVARCHAR;\n        break;\n      case 'LONGNVARCHAR':\n        value = SQLTypes.LONGNVARCHAR;\n        break;\n      case 'NCLOB':\n        value = SQLTypes.NCLOB;\n        break;\n      case 'SQLXML':\n        value = SQLTypes.SQLXML;\n        break;\n      case 'BASE64':\n        value = SQLTypes.BASE64;\n        break;\n      default:\n        value = SQLTypes.OTHER;\n        break;\n    }\n    return value;\n  }\n\n  public static getSQLTypeKey(type: number): string {\n    let value: string;\n    switch (type) {\n      case SQLTypes.BIT:\n        value = 'BIT';\n        break;\n      case SQLTypes.TINYINT:\n        value = 'TINYINT';\n        break;\n      case SQLTypes.SMALLINT:\n        value = 'SMALLINT';\n        break;\n      case SQLTypes.INTEGER:\n        value = 'INTEGER';\n        break;\n      case SQLTypes.BIGINT:\n        value = 'BIGINT';\n        break;\n      case SQLTypes.FLOAT:\n        value = 'FLOAT';\n        break;\n      case SQLTypes.REAL:\n        value = 'REAL';\n        break;\n      case SQLTypes.DOUBLE:\n        value = 'DOUBLE';\n        break;\n      case SQLTypes.NUMERIC:\n        value = 'NUMERIC';\n        break;\n      case SQLTypes.DECIMAL:\n        value = 'DECIMAL';\n        break;\n      case SQLTypes.CHAR:\n        value = 'CHAR';\n        break;\n      case SQLTypes.VARCHAR:\n        value = 'VARCHAR';\n        break;\n      case SQLTypes.LONGVARCHAR:\n        value = 'LONGVARCHAR';\n        break;\n      case SQLTypes.DATE:\n        value = 'DATE';\n        break;\n      case SQLTypes.TIME:\n        value = 'TIME';\n        break;\n      case SQLTypes.TIMESTAMP:\n        value = 'TIMESTAMP';\n        break;\n      case SQLTypes.BINARY:\n        value = 'BINARY';\n        break;\n      case SQLTypes.VARBINARY:\n        value = 'VARBINARY';\n        break;\n      case SQLTypes.LONGVARBINARY:\n        value = 'LONGVARBINARY';\n        break;\n      case SQLTypes.NULL:\n        value = 'NULL';\n        break;\n      case SQLTypes.OTHER:\n        value = 'OTHER';\n        break;\n      case SQLTypes.JAVA_OBJECT:\n        value = 'JAVA_OBJECT';\n        break;\n      case SQLTypes.DISTINCT:\n        value = 'DISTINCT';\n        break;\n      case SQLTypes.STRUCT:\n        value = 'STRUCT';\n        break;\n      case SQLTypes.ARRAY:\n        value = 'ARRAY';\n        break;\n      case SQLTypes.BLOB:\n        value = 'BLOB';\n        break;\n      case SQLTypes.CLOB:\n        value = 'CLOB';\n        break;\n      case SQLTypes.REF:\n        value = 'REF';\n        break;\n      case SQLTypes.DATALINK:\n        value = 'DATALINK';\n        break;\n      case SQLTypes.BOOLEAN:\n        value = 'BOOLEAN';\n        break;\n      case SQLTypes.ROWID:\n        value = 'ROWID';\n        break;\n      case SQLTypes.NCHAR:\n        value = 'NCHAR';\n        break;\n      case SQLTypes.NVARCHAR:\n        value = 'NVARCHAR';\n        break;\n      case SQLTypes.LONGNVARCHAR:\n        value = 'LONGNVARCHAR';\n        break;\n      case SQLTypes.NCLOB:\n        value = 'NCLOB';\n        break;\n      case SQLTypes.SQLXML:\n        value = 'SQLXML';\n        break;\n      case SQLTypes.BASE64:\n        value = 'BASE64';\n        break;\n      default:\n        value = 'OTHER';\n        break;\n    }\n    return value;\n  }\n\n  public static parseUsingSQLType(arg: any, type: string): any {\n    let value = arg;\n    type = type ? type.toUpperCase() : '';\n    try {\n      switch (type) {\n        case 'TINYINT':\n        case 'SMALLINT':\n        case 'INTEGER':\n        case 'BIGINT':\n          value = Number(arg);\n          break;\n        case 'FLOAT':\n        case 'REAL':\n        case 'DOUBLE':\n        case 'NUMERIC':\n        case 'DECIMAL':\n          value = parseFloat(arg);\n          break;\n        default:\n          break;\n      }\n    } catch (err) {\n      console.error('SQLTypes.parseUsingSQLType error');\n    }\n    return value;\n  }\n\n  public static isNumericSQLType(arg: number): boolean {\n    return [\n      SQLTypes.TINYINT,\n      SQLTypes.SMALLINT,\n      SQLTypes.INTEGER,\n      SQLTypes.BIGINT,\n      SQLTypes.FLOAT,\n      SQLTypes.REAL,\n      SQLTypes.DOUBLE,\n      SQLTypes.NUMERIC,\n      SQLTypes.DECIMAL\n    ].indexOf(arg) !== -1;\n  }\n\n}\n","import { Router } from '@angular/router';\n\nimport { OFormComponent } from '../components/form/o-form.component';\nimport { OFormValue } from '../components/form/OFormValue';\nimport { SQLOrder } from '../types/sql-order.type';\nimport { Codes } from './codes';\nimport { SQLTypes } from './sqltypes';\nimport { Util } from './util';\nimport { OExpandableContainerComponent } from '../components/expandable-container/o-expandable-container.component';\n\nexport class ServiceUtils {\n  static getParentKeysFromExpandableContainer(parentKeysObject: object, expandableContainer: OExpandableContainerComponent): {} {\n    const result = {};\n    const ownKeys = Object.keys(parentKeysObject || {});\n    const dataComponent = expandableContainer ? expandableContainer.data : {};\n    const existsData = Object.keys(dataComponent).length > 0;\n\n\n    if (existsData) {\n      ownKeys.forEach(ownKey => {\n        const keyValue = parentKeysObject[ownKey];\n        if (dataComponent.hasOwnProperty(keyValue)) {\n          const value = dataComponent[keyValue];\n          if (Util.isDefined(value)) {\n            switch (typeof (value)) {\n              case 'string':\n                if (value.trim().length > 0) {\n                  result[ownKey] = value.trim();\n                }\n                break;\n              case 'number':\n                if (!isNaN(value)) {\n                  result[ownKey] = value;\n                }\n                break;\n            }\n          }\n        }\n      });\n    }\n    return result;\n  }\n\n  static getParentKeysFromForm(parentKeysObject: object, form: OFormComponent) {\n    const result = {};\n    const ownKeys = Object.keys(parentKeysObject || {});\n\n    const formComponents = form ? form.getComponents() : {};\n    const existsComponents = Object.keys(formComponents).length > 0;\n\n    const formDataProperties = form ? form.getDataValues() : {};\n    const existsProperties = Object.keys(formDataProperties).length > 0;\n\n    const urlData = form ? form.getFormNavigation().getFilterFromUrlParams() : {};\n    const existsUrlData = Object.keys(urlData).length > 0;\n    if (existsUrlData) {\n      form.keysArray.forEach((key: string, i: number) => {\n        if (urlData.hasOwnProperty(key)) {\n          urlData[key] = SQLTypes.parseUsingSQLType(urlData[key], form.keysSqlTypesArray[i]);\n        }\n      });\n    }\n\n    if (existsComponents || existsProperties || existsUrlData) {\n      ownKeys.forEach(ownKey => {\n        const keyValue = parentKeysObject[ownKey];\n        // Parent key equivalence may be an object\n        const isEquivObject = Util.isObject(keyValue);\n        const formFieldAttr = isEquivObject ? Object.keys(keyValue)[0] : keyValue;\n        let currentData;\n        if (formComponents.hasOwnProperty(formFieldAttr)) {\n          const component = formComponents[formFieldAttr];\n          // Is service component (combo, listpicker, radio)\n          if ('getSelectedRecord' in component && isEquivObject) {\n            currentData = ((component as any).getSelectedRecord() || {})[keyValue[formFieldAttr]];\n          } else {\n            currentData = component.getValue();\n          }\n        } else if (formDataProperties.hasOwnProperty(formFieldAttr)) {\n          const formPropValue = formDataProperties[formFieldAttr];\n          currentData = formPropValue instanceof OFormValue ? formPropValue.value : formPropValue;\n        } else if (urlData.hasOwnProperty(formFieldAttr)) {\n          currentData = urlData[formFieldAttr];\n        }\n        if (Util.isDefined(currentData)) {\n          switch (typeof (currentData)) {\n            case 'string':\n              if (currentData.trim().length > 0) {\n                result[ownKey] = currentData.trim();\n              }\n              break;\n            case 'number':\n              if (!isNaN(currentData)) {\n                result[ownKey] = currentData;\n              }\n              break;\n          }\n        }\n      });\n    }\n    return result;\n  }\n\n  static filterContainsAllParentKeys(parentKeysFilter, parentKeys): boolean {\n    const pkKeys = Object.keys(parentKeys);\n    if ((pkKeys.length > 0) && Util.isDefined(parentKeysFilter)) {\n      const parentKeysFilterKeys = Object.keys(parentKeysFilter);\n      return pkKeys.every(a => parentKeysFilterKeys.indexOf(a) !== -1);\n    }\n    return true;\n  }\n\n  static getFilterUsingParentKeys(parentItem: any, parentKeysObject: object) {\n    const filter = {};\n    const ownKeys = Object.keys(parentKeysObject);\n    if (ownKeys.length > 0 && Util.isDefined(parentItem)) {\n      ownKeys.forEach(ownKey => {\n        const parentKey = parentKeysObject[ownKey];\n        if (parentItem.hasOwnProperty(parentKey)) {\n          let currentData = parentItem[parentKey];\n          if (currentData instanceof OFormValue) {\n            currentData = currentData.value;\n          }\n          filter[ownKey] = currentData;\n        }\n      });\n    }\n    return filter;\n  }\n\n  static getArrayProperties(array: any[], properties: any[]): any[] {\n    const result = array.map(item => {\n      return ServiceUtils.getObjectProperties(item, properties);\n    });\n    return result;\n  }\n\n  static getObjectProperties(object: any, properties: any[]): any {\n    const objectProperties = {};\n    properties.forEach(key => {\n      objectProperties[key] = object[key];\n    });\n    return objectProperties;\n  }\n\n  static parseSortColumns(sortColumns: string): Array<SQLOrder> {\n    const sortColArray = [];\n    if (sortColumns) {\n      const cols = Util.parseArray(sortColumns);\n      cols.forEach(col => {\n        const colDef = col.split(Codes.TYPE_SEPARATOR);\n        if (colDef.length > 0) {\n          const colName = colDef[0];\n          const colSort = colDef[1] || Codes.ASC_SORT;\n          sortColArray.push({\n            columnName: colName,\n            ascendent: colSort === Codes.ASC_SORT\n          });\n        }\n      });\n    }\n    return sortColArray;\n  }\n\n  static redirectLogin(router: Router, sessionExpired: boolean = false) {\n    const arg = {};\n    arg[Codes.SESSION_EXPIRED_KEY] = sessionExpired;\n    const extras = {};\n    extras[Codes.QUERY_PARAMS] = arg;\n    router.navigate([Codes.LOGIN_ROUTE], extras);\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { AppConfig } from '../config/app-config';\nimport { Config } from '../types/config.type';\nimport { SessionInfo } from '../types/session-info.type';\nimport { Codes } from '../util/codes';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginStorageService {\n  private _config: Config;\n  public _localStorageKey: string;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this._localStorageKey = this._config.uuid;\n  }\n\n  public getSessionInfo(): SessionInfo {\n    const info = localStorage.getItem(this._localStorageKey);\n    if (!info) {\n      return {};\n    }\n    const stored = JSON.parse(info);\n    return stored[Codes.SESSION_KEY] || {};\n  }\n\n  public storeSessionInfo(sessionInfo: SessionInfo): void {\n    if (sessionInfo !== undefined) {\n      const info = localStorage.getItem(this._localStorageKey);\n      let stored = null;\n      if (info && info.length > 0) {\n        stored = JSON.parse(info);\n      } else {\n        stored = {};\n      }\n      stored[Codes.SESSION_KEY] = sessionInfo;\n      localStorage.setItem(this._localStorageKey, JSON.stringify(stored));\n    }\n  }\n\n  public sessionExpired(): void {\n    const sessionInfo = this.getSessionInfo();\n    delete sessionInfo.id;\n    delete sessionInfo.user;\n    this.storeSessionInfo(sessionInfo);\n  }\n\n  public isLoggedIn(): boolean {\n    const sessionInfo = this.getSessionInfo();\n    if (sessionInfo && sessionInfo.id && sessionInfo.user && sessionInfo.user.length > 0) {\n      if (typeof sessionInfo.id === 'number' && (isNaN(sessionInfo.id) || sessionInfo.id < 0)) {\n        return false;\n      }\n      return true;\n    }\n    return false;\n  }\n}\n","import { ServiceResponse } from '../interfaces/service-response.interface';\nimport { Codes } from '../util/codes';\n\nexport abstract class BaseServiceResponse implements ServiceResponse {\n\n  constructor(\n    public code: number,\n    public data: any,\n    public message: string,\n    public sqlTypes?: { [key: string]: number; },\n    public startRecordIndex?: number,\n    public totalQueryRecordsNumber?: number\n  ) {\n  }\n\n  isSuccessful(): boolean {\n    return this.code === Codes.ONTIMIZE_SUCCESSFUL_CODE;\n  }\n\n  isFailed(): boolean {\n    return this.code === Codes.ONTIMIZE_FAILED_CODE;\n  }\n\n  isUnauthorized(): boolean {\n    return this.code === Codes.ONTIMIZE_UNAUTHORIZED_CODE;\n  }\n}\n","import { BaseServiceResponse } from '../base-service-response.class';\n\nexport class OntimizeServiceResponse extends BaseServiceResponse {\n\n}\n","import { HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\nimport { ServiceResponseAdapter } from '../../interfaces/service-response-adapter.interface';\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { OntimizeServiceResponse } from './ontimize-service-response.class';\n\n@Injectable()\nexport class OntimizeServiceResponseAdapter implements ServiceResponseAdapter<OntimizeServiceResponse> {\n\n  adapt(res: HttpResponse<any>): ServiceResponse {\n    return new OntimizeServiceResponse(\n      res.body.code,\n      res.body.data,\n      res.body.message,\n      res.body.sqlTypes,\n      res.body.startRecordIndex,\n      res.body.totalQueryRecordsNumber\n    );\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Subscriber } from 'rxjs';\n\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { BaseService } from '../base-service.class';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OntimizeServiceResponseParser {\n\n  constructor(\n    protected injector: Injector\n  ) { }\n\n  parseSuccessfulResponse(resp: ServiceResponse, subscriber: Subscriber<ServiceResponse>, service: BaseService) {\n    if (resp && resp.isUnauthorized()) {\n      service.clientErrorFallback(401);\n    } else if (resp && resp.isFailed()) {\n      subscriber.error(resp.message);\n    } else if (resp && resp.isSuccessful()) {\n      subscriber.next(resp);\n    } else {\n      // Unknow state -> error\n      subscriber.error('Service unavailable');\n    }\n  }\n\n  parseUnsuccessfulResponse(error, subscriber: Subscriber<ServiceResponse>, service: BaseService) {\n    if (error) {\n      switch (error.status) {\n        case 401:\n        case 403:\n        case 404:\n        case 405:\n          service.clientErrorFallback(error.status);\n          break;\n        case 500:\n        case 501:\n        case 502:\n        case 503:\n        case 504:\n        default:\n          subscriber.error(error);\n          service.serverErrorFallback(error.status);\n          break;\n      }\n    } else {\n      subscriber.error(error);\n    }\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable, Subscriber } from 'rxjs';\nimport { map, share } from 'rxjs/operators';\n\nimport { AppConfig } from '../config/app-config';\nimport { ServiceResponseAdapter } from '../interfaces/service-response-adapter.interface';\nimport { ServiceResponse } from '../interfaces/service-response.interface';\nimport { HttpRequestOptions } from '../types';\nimport { Config } from '../types/config.type';\nimport { ServiceRequestParam } from '../types/service-request-param.type';\nimport { Codes } from '../util/codes';\nimport { BaseServiceResponse } from './base-service-response.class';\nimport { LoginStorageService } from './login-storage.service';\nimport { OntimizeServiceResponseAdapter } from './ontimize/ontimize-service-response.adapter';\nimport { OntimizeServiceResponseParser } from './parser/o-service-response.parser';\n\nexport class BaseService {\n\n  protected httpClient: HttpClient;\n  protected router: Router;\n\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n  protected responseParser: OntimizeServiceResponseParser;\n  protected loginStorageService: LoginStorageService;\n  protected adapter: ServiceResponseAdapter<BaseServiceResponse>;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this.router = this.injector.get(Router);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n    this.responseParser = this.injector.get(OntimizeServiceResponseParser);\n    this.loginStorageService = this.injector.get(LoginStorageService);\n    this.configureAdapter();\n  }\n\n  public configureAdapter() {\n    this.adapter = this.injector.get(OntimizeServiceResponseAdapter);\n  }\n\n  public configureService(config: any): void {\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig.apiEndpoint;\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string): any {\n    const configuration = this._config.getServiceConfiguration();\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = this.loginStorageService.getSessionInfo();\n    return servConfig;\n  }\n\n  public get urlBase(): string {\n    return this._urlBase;\n  }\n\n  public set urlBase(value: string) {\n    this._urlBase = value;\n  }\n\n  public doRequest(param: ServiceRequestParam): Observable<ServiceResponse> {\n\n    const dataObservable: Observable<ServiceResponse> = new Observable((observer: Subscriber<ServiceResponse>) => {\n      const options = param.options || {\n        headers: this.buildHeaders()\n      };\n      options.observe = 'response';\n      let requestObs: Observable<ServiceResponse>;\n      switch (param.method) {\n        case 'GET':\n          requestObs = this.httpClient.get<ServiceResponse>(param.url, options);\n          break;\n        case 'PUT':\n          requestObs = this.httpClient.put<ServiceResponse>(param.url, param.body, options);\n          break;\n        case 'DELETE':\n          const deleteOptions: HttpRequestOptions = {\n            headers: options.headers,\n            body: param.body\n          };\n          deleteOptions.observe = 'response';\n          requestObs = this.httpClient.delete<ServiceResponse>(param.url, deleteOptions);\n          break;\n        case 'POST':\n        default:\n          requestObs = this.httpClient.post<ServiceResponse>(param.url, param.body, options);\n          break;\n      }\n\n      requestObs.pipe(\n        map((data: any) => this.adapter.adapt(data))\n      ).subscribe(resp => {\n        (param.successCallback || this.parseSuccessfulResponse).bind(this)(resp, observer);\n      }, error => {\n        (param.errorCallBack || this.parseUnsuccessfulResponse).bind(this)(error, observer);\n      }, () => observer.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8'\n    });\n  }\n\n  public clientErrorFallback(errorCode: number) {\n\n  }\n\n  public serverErrorFallback(errorCode: number) {\n\n  }\n\n  /*\n   * Successful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseSuccessfulResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.responseParser.parseSuccessfulResponse(resp, observer, this);\n  }\n\n  protected parseSuccessfulQueryResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseSuccessfulResponse(resp, observer);\n  }\n\n  protected parseSuccessfulAdvancedQueryResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseSuccessfulResponse(resp, observer);\n  }\n\n  protected parseSuccessfulInsertResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseSuccessfulResponse(resp, observer);\n  }\n\n  protected parseSuccessfulUpdateResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseSuccessfulResponse(resp, observer);\n  }\n\n  protected parseSuccessfulDeleteResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseSuccessfulResponse(resp, observer);\n  }\n\n  /*\n   * Unsuccessful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseUnsuccessfulResponse(error: any, observer: Subscriber<ServiceResponse>) {\n    this.responseParser.parseUnsuccessfulResponse(error, observer, this);\n  }\n\n  protected parseUnsuccessfulQueryResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseUnsuccessfulResponse(resp, observer);\n  }\n\n  protected parseUnsuccessfulAdvancedQueryResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseUnsuccessfulResponse(resp, observer);\n  }\n\n  protected parseUnsuccessfulInsertResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseUnsuccessfulResponse(resp, observer);\n  }\n\n  protected parseUnsuccessfulUpdateResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseUnsuccessfulResponse(resp, observer);\n  }\n\n  protected parseUnsuccessfulDeleteResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseUnsuccessfulResponse(resp, observer);\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { IAuthService } from '../../interfaces/auth-service.interface';\nimport { ServiceUtils } from '../../util/service.utils';\nimport { BaseService } from '../base-service.class';\n\nexport class OntimizeBaseService extends BaseService implements IAuthService {\n\n  protected _sessionid: string;\n  protected _startSessionPath: string;\n\n  public kv = {};\n  public av: string[] = [];\n  public sqltypes = {};\n  public pagesize: number = 10;\n  public offset: number = 0;\n  public orderby: Array<object> = [];\n  public totalsize: number = -1;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  public configureService(config: any): void {\n    super.configureService(config);\n    this._sessionid = config.session ? config.session.id : -1;\n  }\n\n  public startsession(user: string, password: string): Observable<any> {\n    return null;\n  }\n\n  public endsession(user: string, sessionId: number): Observable<any> {\n    return null;\n  }\n\n  public hassession(user: string, sessionId: string | number): Observable<boolean> {\n    return null;\n  }\n\n  public redirectLogin(sessionExpired: boolean = false) {\n    if (sessionExpired) {\n      this.loginStorageService.sessionExpired();\n    }\n    ServiceUtils.redirectLogin(this.router, sessionExpired);\n  }\n\n  public clientErrorFallback(errorCode: number) {\n    if (errorCode === 401) {\n      this.redirectLogin(true);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { IDataService } from '../../interfaces/data-service.interface';\nimport { Util } from '../../util/util';\nimport { OntimizeBaseService } from './ontimize-base-service.class';\n\n@Injectable()\nexport class OntimizeService extends OntimizeBaseService implements IDataService {\n\n  public entity: string = '';\n\n  protected user: string;\n\n  public configureService(config: any): void {\n    super.configureService(config);\n    this._startSessionPath = this._appConfig.startSessionPath ? this._appConfig.startSessionPath : '/startsession';\n    this.user = config.session ? config.session.user : '';\n    if (config.entity !== undefined) {\n      this.entity = config.entity;\n    }\n    // TODO init other params like 'kv', 'av', etc.\n  }\n\n  public startsession(user: string, password: string): Observable<string | number> {\n    const encodedPassword = encodeURIComponent(password);\n    const url = this.urlBase + this._startSessionPath + '?user=' + user + '&password=' + encodedPassword;\n    const dataObservable: Observable<string | number> = new Observable(_startSessionObserver => {\n      this.httpClient.get(url).subscribe((resp: number) => {\n        if (resp >= 0) {\n          _startSessionObserver.next(resp);\n        } else {\n          // Invalid sessionId...\n          _startSessionObserver.error('Invalid user or password');\n        }\n      }, error => _startSessionObserver.error(error));\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public endsession(user: string, sessionId: number): Observable<number> {\n    const url = this.urlBase + '/endsession?user=' + user + '&sessionid=' + sessionId;\n    const dataObservable: Observable<any> = new Observable(_closeSessionObserver => {\n      this.httpClient.get(url).subscribe(resp => {\n        _closeSessionObserver.next(resp);\n      }, error => {\n        if (error.status === 401 || error.status === 0 || !error.ok) {\n          _closeSessionObserver.next(0);\n        } else {\n          _closeSessionObserver.error(error);\n        }\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public hassession(user: string, sessionId: number): Observable<boolean> {\n    const dataObservable: Observable<any> = new Observable(observer => {\n      const url = this.urlBase + '/hassession?user=' + user + '&sessionid=' + sessionId;\n      this.httpClient.get(url).subscribe(resp => {\n        observer.next(resp);\n      }, error => observer.error(error));\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public query(kv?: object, av?: Array<string>, entity?: string, sqltypes?: object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    // TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = `${this.urlBase}/query`;\n\n    const body = JSON.stringify({\n      user: this.user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulQueryResponse,\n      errorCallBack: this.parseUnsuccessfulQueryResponse\n    });\n  }\n\n  public advancedQuery(kv?: object, av?: Array<string>, entity?: string, sqltypes?: object,\n    offset?: number, pagesize?: number, orderby?: Array<object>): Observable<any> {\n\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    // TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n    orderby = (Util.isDefined(orderby)) ? orderby : this.orderby;\n    offset = (Util.isDefined(offset)) ? offset : this.offset;\n    pagesize = (Util.isDefined(pagesize)) ? pagesize : this.pagesize;\n\n    const url = `${this.urlBase}/advancedquery`;\n\n    const body = JSON.stringify({\n      user: this.user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes,\n      offset: offset,\n      pageSize: pagesize,\n      orderBy: orderby\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulAdvancedQueryResponse,\n      errorCallBack: this.parseUnsuccessfulAdvancedQueryResponse\n    });\n  }\n\n  public insert(av: object = {}, entity?: string, sqltypes?: object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = `${this.urlBase}/insert`;\n\n    const body = JSON.stringify({\n      user: this.user,\n      sessionid: this._sessionid,\n      entity: entity,\n      av: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulInsertResponse,\n      errorCallBack: this.parseUnsuccessfulInsertResponse\n    });\n  }\n\n\n  public update(kv: object = {}, av: object = {}, entity?: string, sqltypes?: object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = `${this.urlBase}/update`;\n\n    const body = JSON.stringify({\n      user: this.user,\n      sessionid: this._sessionid,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulUpdateResponse,\n      errorCallBack: this.parseUnsuccessfulUpdateResponse\n    });\n  }\n\n  public delete(kv: object = {}, entity?: string, sqltypes?: object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = `${this.urlBase}/delete`;\n\n    const body = JSON.stringify({\n      user: this.user,\n      sessionid: this._sessionid,\n      entity: entity,\n      kv: kv,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulDeleteResponse,\n      errorCallBack: this.parseUnsuccessfulDeleteResponse\n    });\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../../config/app-config';\nimport { IPermissionsService } from '../../interfaces/permissions-service.interface';\nimport { Config } from '../../types/config.type';\nimport { OntimizeEEPermissionsConfig } from '../../types/ontimize-ee-permissions-config.type';\nimport { Codes } from '../../util/codes';\nimport { Util } from '../../util/util';\nimport { LoginStorageService } from '../login-storage.service';\n\n@Injectable()\nexport class OntimizeEEPermissionsService implements IPermissionsService {\n  public static DEFAULT_PERMISSIONS_PATH = '/loadPermissions';\n  public static PERMISSIONS_KEY = 'permission';\n\n  public path: string = '';\n\n  protected httpClient: HttpClient;\n  protected _sessionid: number = -1;\n  protected _user: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  getDefaultServiceConfiguration(permissionsConfig: OntimizeEEPermissionsConfig): any {\n    const serviceName: string = permissionsConfig ? permissionsConfig.service : undefined;\n\n    const loginStorageService = this.injector.get(LoginStorageService);\n    const configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginStorageService.getSessionInfo();\n    return servConfig;\n  }\n\n  configureService(permissionsConfig: OntimizeEEPermissionsConfig): void {\n    const config = this.getDefaultServiceConfiguration(permissionsConfig);\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig.apiEndpoint;\n    this._sessionid = config.session ? config.session.id : -1;\n    this._user = config.session ? config.session.user : '';\n    this.path = config.path ? config.path : OntimizeEEPermissionsService.DEFAULT_PERMISSIONS_PATH;\n  }\n\n  loadPermissions(): Observable<any> {\n    const url = this._urlBase + this.path;\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.get(url, options).subscribe((res: any) => {\n        let permissions = {};\n        if ((res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) && Util.isDefined(res.data)) {\n          const response = res.data;\n          if ((response.length === 1) && Util.isObject(response[0])) {\n            try {\n              permissions = JSON.parse(response[0][OntimizeEEPermissionsService.PERMISSIONS_KEY]);\n            } catch (e) {\n              console.warn('[OntimizeEEPermissionsService: permissions parsing failed]');\n            }\n          }\n        }\n        _innerObserver.next(permissions);\n\n      }, error => {\n        _innerObserver.error(error);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8',\n      Authorization: 'Bearer ' + this._sessionid\n    });\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../../config/app-config';\nimport { IPermissionsService } from '../../interfaces/permissions-service.interface';\nimport { Config } from '../../types/config.type';\nimport { OntimizePermissionsConfig } from '../../types/ontimize-permissions-config.type';\nimport { Codes } from '../../util/codes';\nimport { Util } from '../../util/util';\nimport { LoginStorageService } from '../login-storage.service';\n\n@Injectable()\nexport class OntimizePermissionsService implements IPermissionsService {\n\n  public entity: string = '';\n  public keyColumn: string;\n  public valueColumn: string;\n\n  protected httpClient: HttpClient;\n  protected _sessionid: number = -1;\n  protected _user: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  getDefaultServiceConfiguration(): any {\n    const loginStorageService = this.injector.get(LoginStorageService);\n    const servConfig = {};\n    servConfig[Codes.SESSION_KEY] = loginStorageService.getSessionInfo();\n    return servConfig;\n  }\n\n  configureService(permissionsConfig: OntimizePermissionsConfig): void {\n    const config = this.getDefaultServiceConfiguration();\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig.apiEndpoint;\n    this._sessionid = config.session ? config.session.id : -1;\n    this._user = config.session ? config.session.user : '';\n\n    if (Util.isDefined(permissionsConfig)) {\n      if (permissionsConfig.entity !== undefined) {\n        this.entity = permissionsConfig.entity;\n      }\n      if (permissionsConfig.keyColumn !== undefined) {\n        this.keyColumn = permissionsConfig.keyColumn;\n      }\n      if (permissionsConfig.valueColumn !== undefined) {\n        this.valueColumn = permissionsConfig.valueColumn;\n      }\n    }\n  }\n\n  loadPermissions(): Observable<any> {\n    const kv: object = {};\n    kv[this.keyColumn] = this._user;\n\n    const av = [this.valueColumn];\n\n    const url = this._urlBase + '/query';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: this.entity,\n      kv: kv,\n      av: av\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe((res: any) => {\n        let permissions = {};\n        if ((res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) && Util.isDefined(res.data)) {\n          const response = res.data;\n          if ((response.length === 1) && Util.isObject(response[0])) {\n            const permissionsResp = response[0];\n            try {\n              permissions = permissionsResp.hasOwnProperty(self.valueColumn) ? JSON.parse(permissionsResp[self.valueColumn]) : {};\n            } catch (e) {\n              console.warn('[OntimizePermissionsService: permissions parsing failed]');\n            }\n          }\n        }\n        _innerObserver.next(permissions);\n      }, error => {\n        _innerObserver.error(error);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8'\n    });\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../../config/app-config';\nimport { OComponentPermissions } from '../../types/o-component-permissions.type';\nimport { OFormPermissions } from '../../types/o-form-permissions.type';\nimport { OPermissionsDefinition } from '../../types/o-permissions-definition.type';\nimport { OPermissions } from '../../types/o-permissions.type';\nimport { ORoutePermissions } from '../../types/o-route-permissions.type';\nimport { OTableMenuPermissions } from '../../types/o-table-menu-permissions.type';\nimport { OTablePermissions } from '../../types/o-table-permissions.type';\nimport { Util } from '../../util/util';\nimport { OntimizeEEPermissionsService } from './ontimize-ee-permissions.service';\nimport { OntimizePermissionsService } from './ontimize-permissions.service';\n\n@Injectable()\nexport class PermissionsService {\n\n  protected permissionsService: any;\n  protected ontimizePermissionsConfig: any;\n\n  protected permissions: OPermissionsDefinition;\n\n  constructor(protected injector: Injector) {\n    const appConfig = this.injector.get(AppConfig).getConfiguration();\n\n    if (Util.isDefined(appConfig.permissionsConfiguration)) {\n      this.ontimizePermissionsConfig = appConfig.permissionsConfiguration;\n    }\n  }\n\n  protected configureService() {\n    const loadingService: any = OntimizePermissionsService;\n    try {\n      this.permissionsService = this.injector.get(loadingService);\n      if (Util.isPermissionsService(this.permissionsService)) {\n        if (this.permissionsService instanceof OntimizePermissionsService) {\n          (this.permissionsService as OntimizePermissionsService).configureService(this.ontimizePermissionsConfig);\n        } else if (this.permissionsService instanceof OntimizeEEPermissionsService) {\n          (this.permissionsService as OntimizeEEPermissionsService).configureService(this.ontimizePermissionsConfig);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  restart() {\n    this.permissions = undefined;\n  }\n\n  hasPermissions(): boolean {\n    return this.permissions !== undefined;\n  }\n\n  getUserPermissionsAsPromise(): Promise<boolean> {\n    const self = this;\n    return new Promise((resolve: any, reject: any) => {\n      self.permissions = {};\n      if (Util.isDefined(self.ontimizePermissionsConfig)) {\n        self.configureService();\n        self.queryPermissions().subscribe(() => {\n          resolve(true);\n        }, error => {\n          resolve(true);\n        });\n      } else {\n        resolve(true);\n      }\n    });\n  }\n\n  protected queryPermissions(): Observable<any> {\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(innerObserver => {\n      self.permissionsService.loadPermissions().subscribe((res: any) => {\n        self.permissions = res;\n        innerObserver.next(res);\n      }, (err: any) => {\n        console.error('[Permissions.queryPermissions]: error', err);\n        innerObserver.error(err);\n      }, () => {\n        innerObserver.complete();\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected getPermissionIdFromActRoute(actRoute: ActivatedRoute): string {\n    let result: string;\n    let snapshot: ActivatedRouteSnapshot = actRoute.snapshot;\n    result = ((snapshot.data || {})['oPermission'] || {})['permissionId'];\n    while (Util.isDefined(snapshot.firstChild) && !Util.isDefined(result)) {\n      snapshot = snapshot.firstChild;\n      result = ((snapshot.data || {})['oPermission'] || {})['permissionId'];\n    }\n    return result;\n  }\n\n  protected getComponentPermissionsUsingRoute(attr: string, actRoute: ActivatedRoute): OComponentPermissions {\n    let result: OComponentPermissions;\n    const permissionId = this.getPermissionIdFromActRoute(actRoute);\n    if (Util.isDefined(permissionId)) {\n      const routePermissions: ORoutePermissions = (this.permissions.routes || []).find(route => route.permissionId === permissionId);\n      if (Util.isDefined(routePermissions)) {\n        result = (routePermissions.components || []).find(comp => comp.attr === attr);\n      }\n    }\n    return result;\n  }\n\n  protected getOComponentPermissions(attr: string, actRoute: ActivatedRoute, selector: string): any {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    let routePermissions: any;\n    const genericRoutePerm: OComponentPermissions = this.getComponentPermissionsUsingRoute(attr, actRoute);\n    if (genericRoutePerm && genericRoutePerm.selector === selector) {\n      routePermissions = genericRoutePerm;\n    }\n    let compPermissions: any;\n    const attrPermissions = (this.permissions.components || []).find(comp => comp.attr === attr);\n    if (attrPermissions && attrPermissions.selector === selector) {\n      compPermissions = attrPermissions;\n    }\n    return {\n      route: routePermissions,\n      component: compPermissions\n    };\n  }\n\n  getTablePermissions(attr: string, actRoute: ActivatedRoute): OTablePermissions {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const perm = this.getOComponentPermissions(attr, actRoute, 'o-table');\n    const routePerm: OTablePermissions = <OTablePermissions>perm.route;\n    const compPerm: OTablePermissions = <OTablePermissions>perm.component;\n    if (!Util.isDefined(routePerm) || !Util.isDefined(compPerm)) {\n      return compPerm || routePerm;\n    }\n    const permissions: OTablePermissions = {\n      selector: 'o-table',\n      attr: routePerm.attr,\n      menu: this.mergeOTableMenuPermissions(compPerm.menu, routePerm.menu),\n      columns: this.mergeOPermissionsArrays(compPerm.columns, routePerm.columns),\n      actions: this.mergeOPermissionsArrays(compPerm.actions, routePerm.actions),\n      contextMenu: this.mergeOPermissionsArrays(compPerm.contextMenu, routePerm.contextMenu)\n    };\n    return permissions;\n  }\n\n  getFormPermissions(attr: string, actRoute: ActivatedRoute): OFormPermissions {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const perm = this.getOComponentPermissions(attr, actRoute, 'o-form');\n    const routePerm: OFormPermissions = <OFormPermissions>perm.route;\n    const compPerm: OFormPermissions = <OFormPermissions>perm.component;\n    if (!Util.isDefined(routePerm) || !Util.isDefined(compPerm)) {\n      return compPerm || routePerm;\n    }\n    const permissions: OFormPermissions = {\n      selector: 'o-form',\n      attr: routePerm.attr,\n      components: this.mergeOPermissionsArrays(compPerm.components, routePerm.components),\n      actions: this.mergeOPermissionsArrays(compPerm.actions, routePerm.actions)\n    };\n    return permissions;\n  }\n\n  getMenuPermissions(attr: string): OPermissions {\n    let permissions;\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const allMenu: OPermissions[] = this.permissions.menu || [];\n\n    permissions = allMenu.find(comp => comp.attr === attr);\n\n    return permissions;\n  }\n\n  protected mergeOPermissionsArrays(permissionsA: OPermissions[], permissionsB: OPermissions[]): OPermissions[] {\n    if (!Util.isDefined(permissionsA) || !Util.isDefined(permissionsB)) {\n      return permissionsA || permissionsB;\n    }\n    const result = Object.assign([], permissionsA);\n    permissionsB.forEach((perm: OPermissions) => {\n      const found = result.find(r => r.attr === perm.attr);\n      if (found) {\n        found.visible = perm.visible;\n        found.enabled = perm.enabled;\n      } else {\n        result.push(perm);\n      }\n    });\n    return result;\n  }\n\n  protected mergeOTableMenuPermissions(permissionsA: OTableMenuPermissions, permissionsB: OTableMenuPermissions): OTableMenuPermissions {\n    if (!Util.isDefined(permissionsA) || !Util.isDefined(permissionsB)) {\n      return permissionsA || permissionsB;\n    }\n    const result = {\n      visible: permissionsB.visible,\n      enabled: permissionsB.enabled,\n      items: this.mergeOPermissionsArrays(permissionsA.items, permissionsB.items)\n    };\n    return result;\n  }\n\n  isPermissionIdRouteRestricted(permissionId: string): boolean {\n    const routeData = (this.permissions.routes || []).find(route => route.permissionId === permissionId);\n    return Util.isDefined(routeData) && routeData.enabled === false;\n  }\n}\n","import { Component, Injector } from '@angular/core';\nimport { ValidatorFn } from '@angular/forms';\n\nimport { ErrorData } from '../../../types/error-data.type';\nimport { Util } from '../../../util/util';\nimport { OErrorComponent } from './o-error.component';\n\nexport const DEFAULT_INPUTS_O_VALIDATOR = [\n  'validatorFn: validator-function',\n  'errorName: error-name',\n  'errorText: error-text'\n];\n\n@Component({\n  selector: 'o-validator',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_VALIDATOR\n})\nexport class OValidatorComponent {\n\n  validatorFn: ValidatorFn = null;\n  errorName: string;\n  errorText: string;\n\n  protected errorsData: ErrorData[] = [];\n\n  constructor(\n    protected injector: Injector\n  ) {\n\n  }\n\n  registerError(oError: OErrorComponent) {\n    this.errorsData.push({\n      name: oError.getName(),\n      text: oError.getText()\n    });\n  }\n\n  getValidatorFn(): ValidatorFn {\n    return this.validatorFn;\n  }\n\n  getErrorsData(): ErrorData[] {\n    let result: ErrorData[] = [];\n    if (this.errorsData.length > 0) {\n      result = this.errorsData;\n    } else if (Util.isDefined(this.errorName) && Util.isDefined(this.errorText)) {\n      result = [{\n        name: this.errorName,\n        text: this.errorText\n      }];\n    }\n    return result;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Inject,\n  InjectionToken,\n  Injector,\n  Input,\n  Optional,\n} from '@angular/core';\n\nimport { OMatErrorOptions, OMatErrorType } from '../../../types/o-mat-error.type';\nimport { Codes } from '../../../util/codes';\n\nexport const O_MAT_ERROR_OPTIONS = new InjectionToken<OMatErrorOptions>('o-mat-error-options');\n\nlet nextUniqueId = 0;\n\n@Component({\n  // tslint:disable-next-line: component-selector\n  selector: 'mat-error',\n  templateUrl: './o-mat-error.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class: 'mat-error',\n    role: 'alert',\n    '[attr.id]': 'id'\n  }\n})\nexport class OMatErrorComponent {\n  @Input() id: string = `mat-error-${nextUniqueId++}`;\n  @Input() text: string = '';\n\n  protected errorOptions: OMatErrorOptions;\n  protected errorType: OMatErrorType;\n\n  constructor(\n    protected injector: Injector,\n    protected elementRef: ElementRef,\n    protected cd: ChangeDetectorRef,\n    @Optional() @Inject(O_MAT_ERROR_OPTIONS) errorOptions: OMatErrorOptions\n  ) {\n    this.errorOptions = errorOptions ? errorOptions : {};\n    this.errorType = this.errorOptions.type || 'standard';\n  }\n\n  get isStandardError(): boolean {\n    return this.errorType === Codes.O_MAT_ERROR_STANDARD;\n  }\n}\n","import { OPermissions } from '../types/o-permissions.type';\nimport { Util } from './util';\n\nexport class PermissionsUtils {\n  public static ACTION_REFRESH = 'refresh';\n  public static ACTION_INSERT = 'insert';\n  public static ACTION_UPDATE = 'update';\n  public static ACTION_DELETE = 'delete';\n\n  public static STANDARD_ACTIONS = [\n    PermissionsUtils.ACTION_REFRESH,\n    PermissionsUtils.ACTION_INSERT,\n    PermissionsUtils.ACTION_UPDATE,\n    PermissionsUtils.ACTION_DELETE\n  ];\n\n  static checkEnabledPermission(permission: OPermissions): boolean {\n    if (Util.isDefined(permission) && permission.enabled === false) {\n      console.warn('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n      return false;\n    }\n    return true;\n  }\n\n  static registerDisabledChangesInDom(nativeElement: any, args?: any): MutationObserver {\n    const callback: Function = args && args.callback ? args.callback : PermissionsUtils.setDisabledDOMElement;\n    const checkStringValue: boolean = !!(args && args.checkStringValue);\n    if (!Util.isDefined(nativeElement)) {\n      return undefined;\n    }\n\n    const mutationObserver = new MutationObserver((mutations: MutationRecord[]) => {\n      const mutation = mutations[0];\n      if (mutation.type === 'attributes' && mutation.attributeName === 'disabled') {\n        const attribute = (mutation.target as any).attributes.getNamedItem('disabled');\n        if (attribute === null || (checkStringValue && attribute.value !== 'true')) {\n          callback(mutation);\n        }\n      }\n    });\n\n    mutationObserver.observe(nativeElement, {\n      attributes: true,\n      attributeFilter: ['disabled']\n    });\n\n    return mutationObserver;\n  }\n\n  static setDisabledDOMElement(mutation: MutationRecord) {\n    const element = <HTMLInputElement>mutation.target;\n    element.setAttribute('disabled', 'true');\n  }\n}\n","import { AbstractControlOptions, AsyncValidatorFn, FormControl, ValidatorFn } from '@angular/forms';\n\nimport { OFormDataComponent } from '../o-form-data-component.class';\n\nexport class OFormControl extends FormControl {\n  public fControlChildren: (FormControl | OFormDataComponent)[];\n\n  constructor(\n    formState: any = null,\n    validatorOrOpts?: ValidatorFn | ValidatorFn[] | AbstractControlOptions | null,\n    asyncValidator?: AsyncValidatorFn | AsyncValidatorFn[] | null\n  ) {\n    super(formState, validatorOrOpts, asyncValidator);\n  }\n\n  markAsTouched(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsTouched(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsTouched(opts);\n      } else if (x.getFormControl()) {\n        x.getFormControl().markAsTouched();\n      }\n    });\n  }\n\n  markAsDirty(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsDirty(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsDirty(opts);\n      } else if (x.getFormControl()) {\n        x.getFormControl().markAsDirty();\n      }\n    });\n  }\n\n  markAsPristine(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsPristine(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsPristine(opts);\n      } else if (x.getFormControl()) {\n        x.getFormControl().markAsPristine();\n      }\n    });\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  /**setValue(value: any, options: { } => Not override this method because there is a case where the children have a different value than the main one\n   */\n}\n","\n// tslint:disable:object-literal-key-quotes\nexport const MAP = {\n  // English\n  en: {\n    'LANGUAGE': 'Language',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Username',\n    'PASSWORD': 'Password',\n    'LOGIN': 'Login',\n    'LOGOUT': 'Logout',\n    'OK': 'Ok',\n    'ACCEPT': 'Accept',\n    'CANCEL': 'Cancel',\n    'CLOSE': 'Close',\n    'YES': 'Yes',\n    'NO': 'No',\n    'RESET': 'Reset',\n    'CONFIRM': 'Confirm',\n    'NEXT': 'Next',\n    'PREVIOUS': 'Previous',\n    'FINISH': 'Finish',\n    'SAVE': 'Save',\n    'INSERT': 'Ok',\n    'REFRESH': 'Refresh',\n    'SEARCH': 'Search',\n    'FILTER': 'Filter',\n    'DELETE': 'Delete',\n    'ADD': 'New',\n    'SELECT': 'Select',\n    'SELECT_ALL': 'Select all',\n    'INFO': 'Information',\n    'ERROR': 'Error',\n    'FOUND': 'Found',\n    'RESULTS': 'Results',\n    'TOTAL': 'Total',\n    'MONEY': 'Money',\n    'HOME': 'Home',\n    'SHOW_CONSOLE': 'Show console',\n    'FILE': 'File',\n    'OPTIONS': 'Options',\n    'EDIT': 'Edit',\n    'UNDO': 'Undo',\n    'REDO': 'Redo',\n    'COPY': 'Copy',\n    'PASTE': 'Paste',\n    'LOCK': 'Lock',\n    'EXIT': 'Exit',\n    'SETTINGS': 'Settings',\n    'FORM': 'Form',\n    'LIST': 'List',\n    'LIST.EMPTY': 'No results found',\n    'LIST.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n\n    'TABLE': 'Table',\n    'DETAIL': 'Detail',\n    'PAGE': 'Page',\n    'FIRST_PAGE': 'First',\n    'LAST_PAGE': 'Last',\n    'PREVIOUS_PAGE': 'Previous',\n    'NEXT_PAGE': 'Next',\n    'PHOTO': 'Picture',\n    'CHOOSE_FILE': 'Choose file',\n\n    'FORM_VALIDATION.REQUIRED': 'Required',\n    'FORM_VALIDATION.LENGTH': 'Invalid length',\n    'FORM_VALIDATION.MIN_LENGTH': 'Minimum length',\n    'FORM_VALIDATION.MAX_LENGTH': 'Maximum length',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Minimum number of decimal digits',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Maximum number of decimal digits',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Invalid email',\n    'FORM_VALIDATION.NIF_FORMAT': 'Invalid format (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Invalid DNI letter',\n    'FORM_VALIDATION.DATE_RANGE': 'Date outside valid range',\n    'FORM_VALIDATION.MIN_VALUE': 'Minimum value',\n    'FORM_VALIDATION.MAX_VALUE': 'Maximum value',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Date not valid format',\n    'FORM_VALIDATION.DATE_FILTER': 'Date is not valid for the defined filter',\n    'FORM_VALIDATION.DATE_MIN': 'Date min',\n    'FORM_VALIDATION.DATE_MAX': 'Date max',\n    'FORM_VALIDATION.DATERANGE_MIN': 'Date min is not in the range',\n    'FORM_VALIDATION.DATERANGE_MAX': 'Date max is not in the range',\n    'FORM_VALIDATION.DATERANGE_INVALID': 'Date range invalid',\n    'FORM_VALIDATION.FILE_TYPE': 'Invalid format',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Maximum file size',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Max. files',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Format not valid format',\n    'MESSAGES.FORM_VALIDATION_ERROR': 'Form values are not valid!',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': 'There are no values to update!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': 'Are you sure you want to continue? All unsaved changes will be lost',\n    'MESSAGES.ERROR_LOGIN': 'Login failed. Check username and/or password.',\n    'MESSAGES.ERROR_SESSION': 'Session expired.',\n    'MESSAGES.ERROR_INSERT': 'Failed to insert data.',\n    'MESSAGES.ERROR_QUERY': 'Failed to get data from the server.',\n    'MESSAGES.ERROR_UPDATE': 'Failed to save data.',\n    'MESSAGES.ERROR_DELETE': 'Failed to delete data.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Required attribute not set.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Failed to load file.',\n    'MESSAGES.CONFIRM_ACTION': 'Are you sure you want to continue?',\n    'MESSAGES.CONFIRM_LOGOUT': 'Are you sure you want to leave?',\n    'MESSAGES.CONFIRM_DELETE': 'Are you sure you want to delete the selected items?',\n    'MESSAGES.CONFIRM_CANCEL': 'Are you sure you want to cancel without saving changes?',\n    'MESSAGES.SAVING': 'Saving, please wait...',\n    'MESSAGES.SAVED': 'Saved',\n    'MESSAGES.DELETED': 'Deleted',\n    'MESSAGES.INSERTED': 'Inserted',\n    'MESSAGES.UPDATED': 'Updated',\n    'MESSAGES.NO_RESULTS': 'No results were obtained.',\n    'MESSAGES.ERROR_MISSING_LANG': 'Selected language bundle file not found',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': 'Are you sure you want to discard all active columns filters?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Failed to export table data.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Table data exported successfully.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operation is not allowed due to permissions restrictions',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navigation is not allowed due to permissions restrictions',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navigation redirected due to permissions restrictions',\n    'MESSAGES.ERROR_403_TEXT': 'You are not authorized to view this page.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Navigate back',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'No column has been selected to perform the search.',\n    'INPUT.COMBO.EMPTY': 'No results found',\n    'INPUT.COMBO.MESSAGE_TRIGGER': ' (+{0} others)',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Select all',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(empty value)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * to search for any character string',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filter by value',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Custom filter',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'From',\n    'TABLE.FILTER_BY_COLUMN.TO': 'To',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'No values',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Insert a filter',\n    'TABLE.FILTER': 'Filter',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Match uppercase and lowercase',\n    'TABLE.EMPTY': 'No results found',\n    'TABLE.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n    'TABLE.INFO': '_START_ - _END_ of _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 of 0',\n    'TABLE.INFO_FILTERED': '(filtered from _MAX_ total entries)',\n    'TABLE.INFO_POST_FIX': ' ',\n    'TABLE.LENGTH_MENU': 'Rows per page: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Loading...',\n    'TABLE.PROCESSING': 'Processing...',\n    'TABLE.SEARCH': ' ',\n    'TABLE.ZERO_RECORDS': 'No matching records found',\n    'TABLE.PAGINATE.FIRST': 'First',\n    'TABLE.PAGINATE.LAST': 'Last',\n    'TABLE.PAGINATE.NEXT': 'Next',\n    'TABLE.PAGINATE.PREVIOUS': 'Previous',\n    'TABLE.PAGINATE.RANGE_LABEL': 'of',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Items per page',\n    'TABLE.ARIA.SORT_ASCENDING': ': activate to sort column ascending',\n    'TABLE.ARIA.SORT_DESCENDING': ': activate to sort column descending',\n    'TABLE.BUTTONS.COLVIS': 'Show / hide columns',\n    'TABLE.BUTTONS.COPY_TITLE': 'Added to clipboard',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d rows copied',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 row copied',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copy to clipboard',\n    'TABLE.BUTTONS.PRINT': 'Print',\n    'TABLE.BUTTONS.EXPORT': 'Export',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Group rows',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Resize columns',\n    'TABLE.BUTTONS.FILTER': 'Filter',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Save filter',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Load filter',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Clear filter',\n    'TABLE.BUTTONS.REFRESH': 'Refresh',\n    'TABLE.BUTTONS.DELETE': 'Delete',\n    'TABLE.BUTTONS.ADD': 'New',\n    'TABLE.BUTTONS.SELECT': 'Select...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filter by column',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Save filter',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configuration',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Save configuration',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Load configuration',\n    'TABLE.BUTTONS.APPLY': 'Load',\n    'TABLE.SELECT.ROWS._': '%d selected rows',\n    'TABLE.SELECT.ROWS.0': ' ',\n    'TABLE.SELECT.ROWS.1': '1 row selected',\n    'TABLE.SHOW_ALL': 'All',\n    'TABLE.SELECT_DATE': 'Select date',\n    'TABLE.ROW_VALIDATION_ERROR': 'Row data is not valid!',\n    'TABLE.DIALOG.SAVE_FILTER': 'Select a name for the filter.',\n    'TABLE.DIALOG.FILTER_NAME': 'Name',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Description',\n    'TABLE.DIALOG.LOAD_FILTER': 'Select a filter to apply to the table',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'This acction will clear every filter on the table. Are you sure you want to continue?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': 'Are you sure you want to delete the selected filter?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'There are no filters stored',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'Already exists a filter with that name',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Enter a name and description for the configuration',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Name',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Description',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Select a configuration to apply to the table',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Default configuration',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restores the initial configuration of the table',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Select which properties you want to store',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Columns sort',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Stores the sort of each column',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Columns visibility',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Stores the columns displayed and its order and width',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Filter state',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Stores the current value of the filter',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filter by column',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Stores the filter configured on each column',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Pagination status',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Stores the pagination status',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': 'Are you sure you want to delete the selected configuration?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Select the format you want to export the table information.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Home',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detail',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'New',\n    'APP_LAYOUT.USER_PROFILE': 'My profile',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'View list',\n    'GRID.ITEMS_PER_PAGE': 'Items per page',\n    'GRID.SORT_BY': 'Sort by',\n    'GRID.SORT_BY_ASC': 'Sort by {0} ascending',\n    'GRID.SORT_BY_DESC': 'Sort by {0} descending',\n    'GRID.BUTTON_NEXT': 'Show more',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'No results found',\n    'GRID.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'View detail',\n    'TABLE_CONTEXT_MENU.EDIT': 'Edit',\n    'TABLE_CONTEXT_MENU.INSERT': 'Insert',\n    'TABLE_CONTEXT_MENU.COPY': 'Copy',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copy cell',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copy row',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copy all',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copy selection',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Select all',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Deselect all',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Refresh',\n    'TABLE_CONTEXT_MENU.DELETE': 'Delete',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filter',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filter by:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filter by this value',\n    'DATERANGE.today': 'Today',\n    'DATERANGE.yesterday': 'Yesterday',\n    'DATERANGE.last_7days': 'Last 7 days',\n    'DATERANGE.last_30days': 'Last 30 days',\n    'DATERANGE.this_month': 'This month',\n    'DATERANGE.last_month': 'Last month',\n    'DATERANGE.this_year': 'This year',\n    'DATERANGE.APPLYLABEL': 'Select dates',\n    'DATERANGE.W': 'W'\n  },\n\n  // Spanish\n\n  es: {\n    'LANGUAGE': 'Idioma',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Usuario',\n    'PASSWORD': 'Contrasea',\n    'LOGIN': 'Entrar',\n    'LOGOUT': 'Salir',\n    'OK': 'Ok',\n    'ACCEPT': 'Aceptar',\n    'CANCEL': 'Cancelar',\n    'CLOSE': 'Cerrar',\n    'YES': 'S',\n    'NO': 'No',\n    'RESET': 'Resetear',\n    'CONFIRM': 'Confirmar',\n    'NEXT': 'Siguiente',\n    'PREVIOUS': 'Anterior',\n    'FINISH': 'Finalizar',\n    'SAVE': 'Guardar',\n    'INSERT': 'Ok',\n    'REFRESH': 'Refrescar',\n    'SEARCH': 'Buscar',\n    'FILTER': 'Filtrar',\n    'DELETE': 'Borrar',\n    'ADD': 'Nuevo',\n    'SELECT': 'Seleccionar',\n    'SELECT_ALL': 'Seleccionar todo',\n    'INFO': 'Informacin',\n    'ERROR': 'Error',\n    'FOUND': 'Encontrados',\n    'RESULTS': 'Resultados',\n    'TOTAL': 'Total',\n    'MONEY': 'Dinero',\n    'HOME': 'Inicio',\n    'SHOW_CONSOLE': 'Mostrar consola',\n    'FILE': 'Archivo',\n    'OPTIONS': 'Opciones',\n    'EDIT': 'Editar',\n    'UNDO': 'Deshacer',\n    'REDO': 'Rehacer',\n    'COPY': 'Copiar',\n    'PASTE': 'Pegar',\n    'LOCK': 'Bloquear',\n    'EXIT': 'Salir',\n    'SETTINGS': 'Configuracin',\n    'FEATURES': 'Caractersticas',\n    'FORM': 'Formulario',\n    'LIST': 'Lista',\n    'LIST.EMPTY': 'No se han obtenido resultados',\n    'LIST.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n\n    'TABLE': 'Tabla',\n    'DETAIL': 'Detalle',\n    'PAGE': 'Pgina',\n    'FIRST_PAGE': 'Primera',\n    'LAST_PAGE': 'ltima',\n    'PREVIOUS_PAGE': 'Anterior',\n    'NEXT_PAGE': 'Siguiente',\n    'PHOTO': 'Fotografa',\n    'CHOOSE_FILE': 'Escoger fichero',\n\n    'FORM_VALIDATION.REQUIRED': 'Requerido',\n    'FORM_VALIDATION.LENGTH': 'Longitud no vlida',\n    'FORM_VALIDATION.MIN_LENGTH': 'Longitud mnima',\n    'FORM_VALIDATION.MAX_LENGTH': 'Longitud mxima',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Mnimo nmero de cifras decimales',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Mximo nmero de cifras decimales',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Email no vlido',\n    'FORM_VALIDATION.NIF_FORMAT': 'Formato no vlido (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Letra de DNI no vlida',\n    'FORM_VALIDATION.DATE_RANGE': 'Fecha fuera del rango vlido',\n    'FORM_VALIDATION.MIN_VALUE': 'Valor mnimo',\n    'FORM_VALIDATION.MAX_VALUE': 'Valor mximo',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Formato no vlido',\n    'FORM_VALIDATION.DATE_FILTER': 'Fecha no es vlida para el filtro definido',\n    'FORM_VALIDATION.DATE_MIN': 'Fecha mnima',\n    'FORM_VALIDATION.DATE_MAX': 'Fecha mxima',\n    'FORM_VALIDATION.DATERANGE_INVALID': 'Rango de fechas invlido',\n\n    'FORM_VALIDATION.FILE_TYPE': 'Formato no vlido',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Tamao de fichero mximo',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Nmero mximo de ficheros',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Formato no vlido',\n\n    'MESSAGES.FORM_VALIDATION_ERROR': 'El formulario contiene campos con valores no vlidos',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': 'No existen valores para actualizar!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': 'Est seguro de que quiere continuar? Perder los cambios realizados',\n    'MESSAGES.ERROR_LOGIN': 'Error de inicio de sesin. Compruebe nombre de usuario y/o contrasea.',\n    'MESSAGES.ERROR_SESSION': 'La sesin ha caducado',\n    'MESSAGES.ERROR_INSERT': 'Error al insertar datos.',\n    'MESSAGES.ERROR_QUERY': 'Error al consultar datos del servidor.',\n    'MESSAGES.ERROR_UPDATE': 'Error al actualizar datos.',\n    'MESSAGES.ERROR_DELETE': 'Error al borrar datos.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Atributo requerido no proporcionado.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Error al cargar el archivo.',\n    'MESSAGES.CONFIRM_ACTION': 'Est seguro de que quiere continuar?',\n    'MESSAGES.CONFIRM_LOGOUT': 'Est seguro de que quiere salir?',\n    'MESSAGES.CONFIRM_DELETE': 'Est seguro de que quiere borrar los items seleccionados?',\n    'MESSAGES.CONFIRM_CANCEL': 'Est seguro de que quiere cancelar sin guardar los cambios?',\n    'MESSAGES.SAVING': 'Guardando, espere...',\n    'MESSAGES.SAVED': 'Guardado',\n    'MESSAGES.DELETED': 'Borrado',\n    'MESSAGES.INSERTED': 'Insertado',\n    'MESSAGES.UPDATED': 'Actualizado',\n    'MESSAGES.NO_RESULTS': 'No se obtuvieron resultados.',\n    'MESSAGES.ERROR_MISSING_LANG': 'No se ha encontrado el fichero de configuracin del idioma seleccionado',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': 'Est seguro de que quiere descartar todos los filtros de columna activos?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Error al exportar los datos de la tabla.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Se han exportado los datos de la tabla correctamente.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operacin no permitida debido a restricciones de permisos.',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navegacin no permitida debido a restricciones de permisos.',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navegacin redirigida debido a restricciones de permisos.',\n    'MESSAGES.ERROR_403_TEXT': 'No est autorizado para ver esta pgina.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Volver atrs',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'No se ha seleccionado ninguna columna por la que realizar la bsqueda.',\n    'INPUT.COMBO.EMPTY': 'No hay resultados',\n    'INPUT.COMBO.MESSAGE_TRIGGER': ' (+ otros {0})',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Seleccionar todos',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(valor vaco)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * para buscar por cualquier valor',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filtro por valor',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Filtro personalizado',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'Desde',\n    'TABLE.FILTER_BY_COLUMN.TO': 'Hasta',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'No hay valores',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Introduzca un filtro',\n    'TABLE.FILTER': 'Filtrar',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Coincidir maysculas y minsculas',\n    'TABLE.EMPTY': 'No se han obtenido resultados',\n    'TABLE.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n    'TABLE.INFO': '_START_ - _END_ de _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 de 0',\n    'TABLE.INFO_FILTERED': '(filtrados de un total de _MAX_ registros)',\n    'TABLE.INFO_POST_FIX': ' ',\n    'TABLE.LENGTH_MENU': 'Registros por pgina: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Cargando...',\n    'TABLE.PROCESSING': 'Procesando...',\n    'TABLE.SEARCH': ' ',\n    'TABLE.ZERO_RECORDS': 'No se encontraron coincidencias',\n    'TABLE.PAGINATE.FIRST': 'Primero',\n    'TABLE.PAGINATE.LAST': 'ltimo',\n    'TABLE.PAGINATE.NEXT': 'Siguiente',\n    'TABLE.PAGINATE.PREVIOUS': 'Anterior',\n    'TABLE.PAGINATE.RANGE_LABEL': 'de',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Registros por pgina',\n    'TABLE.ARIA.SORT_ASCENDING': ': activar para ordenar la columna de forma ascendente',\n    'TABLE.ARIA.SORT_DESCENDING': ': activar para ordenar la columna de forma descendente',\n    'TABLE.BUTTONS.COLVIS': 'Mostrar / ocultar columnas',\n    'TABLE.BUTTONS.COPY_TITLE': 'Copiado al portapapeles',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d registros copiados',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 registro copiado',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copiar al portapapeles',\n    'TABLE.BUTTONS.PRINT': 'Imprimir',\n    'TABLE.BUTTONS.EXPORT': 'Exportar',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Agrupar registros',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Cambiar tamao de columnas',\n    'TABLE.BUTTONS.FILTER': 'Filtrar',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Guardar filtro',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Aplicar filtro',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Limpiar filtro',\n    'TABLE.BUTTONS.REFRESH': 'Refrescar',\n    'TABLE.BUTTONS.DELETE': 'Eliminar',\n    'TABLE.BUTTONS.ADD': 'Nuevo',\n    'TABLE.BUTTONS.SELECT': 'Seleccionar...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filtrado por columnas',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Guardar filtro',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configuracin',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Guardar configuracin',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Aplicar configuracin',\n    'TABLE.BUTTONS.APPLY': 'Aplicar',\n    'TABLE.SELECT.ROWS._': '%d registros seleccionados',\n    'TABLE.SELECT.ROWS.0': ' ',\n    'TABLE.SELECT.ROWS.1': '1 registro seleccionado',\n    'TABLE.SHOW_ALL': 'Todo',\n    'TABLE.SELECT_DATE': 'Seleccionar fecha',\n    'TABLE.ROW_VALIDATION_ERROR': 'La fila contiene campos con valores no vlidos',\n    'TABLE.DIALOG.SAVE_FILTER': 'Seleccione un nombre para el filtro.',\n    'TABLE.DIALOG.FILTER_NAME': 'Nombre',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Descripcin',\n    'TABLE.DIALOG.LOAD_FILTER': 'Seleccione un filtro para aplicar a la tabla',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'Esta accin limpiar todos los filtros aplicados a la tabla. Desea continuar?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': 'Est seguro de que quiere eliminar el filtro seleccionado?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'No hay filtros almacenados',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'Ya existe un filtro con ese nombre',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Introduzca un nombre y una descripcin para la configuracin',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Nombre',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Descripcin',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Seleccione una configuracin para aplicar a la tabla',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Configuracin por defecto',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restaura la configuracin inicial de la tabla',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Seleccione qu propiedades desea almacenar',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Ordenacin de columnas',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Almacena la ordenacin de cada columna',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Visibilidad de columnas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Almacena las columnas que se muestran, el orden en el que se muestran y el ancho de cada una',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Estado del filtro',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Almacena el valor actual del filtro',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filtrado por columnas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Almacena los filtros configurados en cada una de las columnas',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Estado de paginacin',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Almacena el estado de la paginacin',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': 'Est seguro de que quiere eliminar la configuracin seleccionada?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Seleccione el formato al que desea exportar la informacin de la tabla.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Inicio',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detalle',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'Nuevo',\n    'APP_LAYOUT.USER_PROFILE': 'Mi perfil',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'Acceder',\n    'GRID.ITEMS_PER_PAGE': 'Elementos por pgina',\n    'GRID.SORT_BY': 'Ordenado por',\n    'GRID.SORT_BY_ASC': 'Ordenado por {0} ascendente',\n    'GRID.SORT_BY_DESC': 'Ordenado por {0} descendente',\n    'GRID.BUTTON_NEXT': 'Ver ms',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'No se han obtenido resultados',\n    'GRID.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'Ver detalle',\n    'TABLE_CONTEXT_MENU.EDIT': 'Editar',\n    'TABLE_CONTEXT_MENU.INSERT': 'Insertar',\n    'TABLE_CONTEXT_MENU.COPY': 'Copiar',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copiar celda',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copiar celda',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copy all',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copiar seleccin',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Seleccionar todos',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Deseleccionar todos',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Refrescar',\n    'TABLE_CONTEXT_MENU.DELETE': 'Borrar',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filtrar',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filter by:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filtrar por este valor'\n\n  },\n  // Portuguese - BRAZIL\n  pt: {\n    'LANGUAGE': 'Idioma',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Usurio',\n    'PASSWORD': 'Senha',\n    'LOGIN': 'Entrar',\n    'LOGOUT': 'Sair',\n    'OK': 'Ok',\n    'ACCEPT': 'Aceitar',\n    'CANCEL': 'Cancelar',\n    'CLOSE': 'Fechar',\n    'YES': 'Sim',\n    'NO': 'No',\n    'RESET': 'Resetar',\n    'CONFIRM': 'Confirmar',\n    'NEXT': 'Prximo',\n    'PREVIOUS': 'Anterior',\n    'FINISH': 'Finalizar',\n    'SAVE': 'Salvar',\n    'INSERT': 'Ok',\n    'REFRESH': 'Recarregar',\n    'SEARCH': 'Buscar',\n    'FILTER': 'Filtrar',\n    'DELETE': 'Apagar',\n    'ADD': 'Novo',\n    'SELECT': 'Selecionar',\n    'SELECT_ALL': 'Selecionar Tudo',\n    'INFO': 'Informao',\n    'ERROR': 'Erro',\n    'FOUND': 'Encontrados',\n    'RESULTS': 'Resultados',\n    'TOTAL': 'Total',\n    'MONEY': 'Dinheiro',\n    'HOME': 'Incio',\n    'SHOW_CONSOLE': 'Mostrar console',\n    'FILE': 'Arquivo',\n    'OPTIONS': 'Opes',\n    'EDIT': 'Editar',\n    'UNDO': 'Desfazer',\n    'REDO': 'Refazer',\n    'COPY': 'Copiar',\n    'PASTE': 'Colar',\n    'LOCK': 'Bloquear',\n    'EXIT': 'Sair',\n    'SETTINGS': 'Configurao',\n    'FEATURES': 'Caractersticas',\n    'FORM': 'Formulrio',\n    'LIST': 'Lista',\n    'LIST.EMPTY': 'Nenhum resultado encontrado',\n    'LIST.EMPTY_USING_FILTER': ' usando o filtro \"{0}\"',\n\n    'TABLE': 'Tabela',\n    'DETAIL': 'Detalhe',\n    'PAGE': 'Pgina',\n    'FIRST_PAGE': 'Primeira',\n    'LAST_PAGE': 'ltima',\n    'PREVIOUS_PAGE': 'Anterior',\n    'NEXT_PAGE': 'Prxima',\n    'PHOTO': 'Fotografia',\n    'CHOOSE_FILE': 'Escolher Arquivo',\n\n    'FORM_VALIDATION.REQUIRED': 'Requerido',\n    'FORM_VALIDATION.LENGTH': 'Longitude invlida',\n    'FORM_VALIDATION.MIN_LENGTH': 'Longitude mnima',\n    'FORM_VALIDATION.MAX_LENGTH': 'Longitude mxima',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Mnimo nmero de cifras decimais',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Mximo nmero de cifras decimais',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Email invlido',\n    'FORM_VALIDATION.NIF_FORMAT': 'Formato invlido (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Letra de RG invlida',\n    'FORM_VALIDATION.DATE_RANGE': 'Data invlida',\n    'FORM_VALIDATION.MIN_VALUE': 'Valor mnimo',\n    'FORM_VALIDATION.MAX_VALUE': 'Valor mximo',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Data invlida para o filtro definido',\n    'FORM_VALIDATION.DATE_FILTER': 'Fecha no es vlida para el filtro definido',\n    'FORM_VALIDATION.DATE_MIN': 'Data mnima',\n    'FORM_VALIDATION.DATE_MAX': 'Data mxima',\n\n    'FORM_VALIDATION.FILE_TYPE': 'Formato no vlido',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Tamanho de arquivo mximo',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Nmero mximo de arquivos',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Formato invlido',\n\n    'MESSAGES.FORM_VALIDATION_ERROR': 'O formulrio apresenta campos com valores invlidos',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': 'No existem valores a serem atualizados!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': 'Tem certeza que quer continuar? Perder todas as alteraes realizadas',\n    'MESSAGES.ERROR_LOGIN': 'Erro de incio de sesso. Comprove nome de usurio e/ou senha.',\n    'MESSAGES.ERROR_SESSION': 'A sesso foi encerrada',\n    'MESSAGES.ERROR_INSERT': 'Erro ao inserir os dados.',\n    'MESSAGES.ERROR_QUERY': 'Erro na consulta de dados do servidor.',\n    'MESSAGES.ERROR_UPDATE': 'Erro de atualizao dos dados.',\n    'MESSAGES.ERROR_DELETE': 'Erro ao apagar os dados.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Atributo requerido no fornecido.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Erro ao carregar o arquivo.',\n    'MESSAGES.CONFIRM_ACTION': 'Tem certeza que quer continuar?',\n    'MESSAGES.CONFIRM_LOGOUT': 'Tem certeza que quer sair?',\n    'MESSAGES.CONFIRM_DELETE': 'Tem certeza que quer apagar os tens selecionados?',\n    'MESSAGES.CONFIRM_CANCEL': 'Tem certeza que quer cancelar sem salvar as alteraes?',\n    'MESSAGES.SAVING': 'Salvando, aguarde...',\n    'MESSAGES.SAVED': 'Salvado',\n    'MESSAGES.DELETED': 'Apagado',\n    'MESSAGES.INSERTED': 'Inserido',\n    'MESSAGES.UPDATED': 'Atualizado',\n    'MESSAGES.NO_RESULTS': 'Nenhum resultado encontrado.',\n    'MESSAGES.ERROR_MISSING_LANG': 'No foi encontrado o arquivo de configurao do idioma selecionado',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': 'Tem certeza que quer descartar todos os filtros de coluna ativos?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Erro na exportao dos dados da tabela.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Os dados da tabela foram exportados corretamente.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operao no permitida por falta de permisses.',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navegao no permitida por falta de permisses.',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navego redirecionada por falta de permisses.',\n    'MESSAGES.ERROR_403_TEXT': 'No tem autorizao para ver esta pgina.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Voltar',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'No foi selecionada nenhuma coluna para realizar a busca.',\n    'INPUT.COMBO.EMPTY': 'No existem resultados',\n    'INPUT.COMBO.MESSAGE_TRIGGER': '(+ outros {0})',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Selecionar todos',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(valor vazo)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * para buscar por quaisquer valores',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filtro por valor',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Filtro personalizado',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'De',\n    'TABLE.FILTER_BY_COLUMN.TO': 'At',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'No existem valores',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Introduza um filtro',\n    'TABLE.FILTER': 'Filtrar',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Coincidir maisculas e minsculas',\n    'TABLE.EMPTY': 'Nenhum resultado encontrado.',\n    'TABLE.EMPTY_USING_FILTER': 'usando o filtro \\'{0}',\n    'TABLE.INFO': '_START_ - _END_ de _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 de 0',\n    'TABLE.INFO_FILTERED': '(filtrados de um total de _MAX_ registros)',\n    'TABLE.INFO_POST_FIX': '',\n    'TABLE.LENGTH_MENU': 'Registros por pgina: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Carregando...',\n    'TABLE.PROCESSING': 'Processando...',\n    'TABLE.SEARCH': '',\n    'TABLE.ZERO_RECORDS': 'No foram encontradas coincidncias',\n    'TABLE.PAGINATE.FIRST': 'Primeiro',\n    'TABLE.PAGINATE.LAST': 'ltimo',\n    'TABLE.PAGINATE.NEXT': 'Prximo',\n    'TABLE.PAGINATE.PREVIOUS': 'Anterior',\n    'TABLE.PAGINATE.RANGE_LABEL': 'de',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Registros por pgina',\n    'TABLE.ARIA.SORT_ASCENDING': ': ativar para ordenar a coluna de forma ascendente',\n    'TABLE.ARIA.SORT_DESCENDING': ': ativar para ordenar a coluna de forma descendente',\n    'TABLE.BUTTONS.COLVIS': 'Mostrar / ocultar colunas',\n    'TABLE.BUTTONS.COPY_TITLE': 'Copiado na rea de transferncia (clipboard)',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d registros copiados',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 registro copiado',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copia para a rea de transferncia (clipboard)',\n    'TABLE.BUTTONS.PRINT': 'Imprimir',\n    'TABLE.BUTTONS.EXPORT': 'Exportar',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Agrupar registros',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Alterar tamanho de colunas',\n    'TABLE.BUTTONS.FILTER': 'Filtrar',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Guardar filtro',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Aplicar filtro',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Limpar filtro',\n    'TABLE.BUTTONS.REFRESH': 'Recarregar',\n    'TABLE.BUTTONS.DELETE': 'Eliminar',\n    'TABLE.BUTTONS.ADD': 'Novo',\n    'TABLE.BUTTONS.SELECT': 'Selecionar...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filtrado por colunas',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Guardar filtro',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configurao',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Guardar configurao',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Aplicar configurao',\n    'TABLE.BUTTONS.APPLY': 'Aplicar',\n    'TABLE.SELECT.ROWS._': '%d registros selecionados',\n    'TABLE.SELECT.ROWS.0': '',\n    'TABLE.SELECT.ROWS.1': '1 registro selecionado',\n    'TABLE.SHOW_ALL': 'Tudo',\n    'TABLE.SELECT_DATE': 'Selecionar data',\n    'TABLE.ROW_VALIDATION_ERROR': 'A linha apresenta campos com valores invlidos',\n    'TABLE.DIALOG.SAVE_FILTER': 'Selecione um nome para o filtro.',\n    'TABLE.DIALOG.FILTER_NAME': 'Nome',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Descrio',\n    'TABLE.DIALOG.LOAD_FILTER': 'Selecione um filtro para aplicar  tabela',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'Esta ao limpar todos os filtros aplicados  tabela. Deseja continuar?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': 'Tem certeza que quer eliminar o filtro selecionado?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'No existem filtros armazenados',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'J existe um filtro com esse nome',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Introduza um nome e uma descrio para a configurao',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Nome',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Descrio',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Selecione uma configurao para aplicar  tabela',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Configurao padro',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restaura a configurao inicial da tabela',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Selecione que propriedades deseja armazenar',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Ordenao de colunas',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Armazena a ordenao de cada coluna',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Visibilidade de colunas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Armazena as colunas mostradas, a ordem em que so mostradas e a largura de cada uma',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Estado do filtro',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Armazena o valor atual do filtro',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filtrado por colunas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Armazena os filtros configurados em cada uma das colunas',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Estado de paginao',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Armazena o estado da paginao',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': 'Tem certeza que quer eliminar a configurao selecionada?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Selecione o formato de exportao da informao da tabela.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Incio',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detalhe',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'Novo',\n    'APP_LAYOUT.USER_PROFILE': 'Meu perfil',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'Acessar',\n    'GRID.ITEMS_PER_PAGE': 'Elementos por pgina',\n    'GRID.SORT_BY': 'Ordenado por',\n    'GRID.SORT_BY_ASC': 'Ordenado por {0} ascendente',\n    'GRID.SORT_BY_DESC': 'Ordenado por {0} descendente',\n    'GRID.BUTTON_NEXT': 'Ver mais',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'No existem resultados',\n    'GRID.EMPTY_USING_FILTER': 'usando o filtro \\'{0}',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'Ver detalhes',\n    'TABLE_CONTEXT_MENU.EDIT': 'Editar',\n    'TABLE_CONTEXT_MENU.INSERT': 'Inserir',\n    'TABLE_CONTEXT_MENU.COPY': 'Copiar',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copiar clula',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copiar clula',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copiar todos',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copiar seleo',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Selecionar todos',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Desselecionar todos',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Recarregar',\n    'TABLE_CONTEXT_MENU.DELETE': 'Apagar',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filtrar',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filtrar por:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filtrar por esse valor'\n\n  }\n};\n","import { Injectable, Injector } from '@angular/core';\nimport moment from 'moment';\n\nimport { AppConfig } from '../config/app-config';\nimport { Config } from '../types/config.type';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MomentService {\n\n  // HTML5 input date: YYYY-MM-DD // locale ES-es: DD-MM-YYYY // locale EN-en: MM-DD-YYYY // ISO 8601:\n  // YYYY-MM-DDThh:mm:ss.S // UTC: YYYY-MM-DD hh:mm:ssZ\n  static DATE_FORMATS = ['YYYY-MM-DD', 'DD-MM-YYYY', 'MM-DD-YYYY', 'YYYY-MM-DDThh:mm:ss.S', 'YYYY-MM-DDThh:mm:ss.SSSZ', 'YYYY-MM-DD hh:mm:ssZ'];\n  static defaultFormat: string = 'L';\n  private _locale: string;\n  private _config: Config;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this.load(this._config.locale);\n  }\n\n  load(locale: string) {\n    this._locale = locale;\n  }\n\n  parseDate(value: any, format?: string, locale?: string): any {\n    let result = '';\n    if (!locale) {\n      locale = this._locale;\n    }\n    if (typeof value === 'number') {\n      result = moment(new Date(value)).locale(locale).format(format ? format : MomentService.defaultFormat);\n    } else {\n      result = moment(value, MomentService.DATE_FORMATS, locale).format(format ? format : MomentService.defaultFormat);\n    }\n    result = (result === 'Invalid date') ? '' : result;\n    return result;\n  }\n\n  getLocale() {\n    return this._locale;\n  }\n\n}\n","import { Component, Injector } from '@angular/core';\nimport { MatSnackBarRef } from '@angular/material';\n\nexport declare type OSnackBarIconPosition = 'left' | 'right';\n\n/**\n * Configuration for showing a SnackBar with the SnackBar service.\n */\nexport class OSnackBarConfig {\n  /** Text shown in the action button. */\n  public action?: string;\n  /** Time the SnackBar is shown. */\n  public milliseconds?: number;\n  /** Material icon shown in the SnackBar. */\n  public icon?: string;\n  /** Position where the icon is shown. Default left. */\n  public iconPosition?: OSnackBarIconPosition;\n  /** CSS class to be added to the snack bar container */\n  public cssClass?: string;\n}\n\n@Component({\n  selector: 'o-snackbar',\n  templateUrl: 'o-snackbar.component.html',\n  styleUrls: ['o-snackbar.component.scss'],\n  host: {\n    '[class.o-snackbar]': 'true'\n  }\n})\nexport class OSnackBarComponent {\n\n  public message: string;\n  public action: string;\n  public icon: string;\n  public iconPosition: OSnackBarIconPosition = 'left';\n\n  protected snackBarRef: MatSnackBarRef<{}>;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.snackBarRef = this.injector.get(MatSnackBarRef);\n  }\n\n  public open(message: string, config?: OSnackBarConfig): void {\n    this.message = message;\n    if (config) {\n      if (config.action) {\n        this.action = config.action;\n      }\n      if (config.icon) {\n        this.icon = config.icon;\n      }\n      if (config.iconPosition) {\n        this.iconPosition = config.iconPosition;\n      }\n    }\n  }\n\n  public onAction(): void {\n    this.snackBarRef.dismissWithAction();\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { MatSnackBar, MatSnackBarConfig, MatSnackBarRef } from '@angular/material';\nimport { Observable } from 'rxjs';\n\nimport { OSnackBarComponent, OSnackBarConfig } from '../shared/components/snackbar/o-snackbar.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SnackBarService {\n\n  protected static DEFAULT_DURATION: number = 2000;\n  protected static DEFAULT_CONTAINER_CLASS: string = 'o-snackbar-container';\n\n  protected matSnackBar: MatSnackBar;\n  protected snackBarRef: MatSnackBarRef<OSnackBarComponent>;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.matSnackBar = this.injector.get(MatSnackBar);\n  }\n\n  public open(message: string, config?: OSnackBarConfig): Promise<any> {\n    const self = this;\n    const observable: Observable<any> = new Observable(observer => {\n      const containerClasses: string[] = [SnackBarService.DEFAULT_CONTAINER_CLASS];\n      if (config && config.cssClass) {\n        containerClasses.push(config.cssClass);\n      }\n\n      const matConfig: MatSnackBarConfig = {\n        duration: config && config.milliseconds ? config.milliseconds : SnackBarService.DEFAULT_DURATION,\n        panelClass: containerClasses\n      };\n      self.snackBarRef = self.matSnackBar.openFromComponent(OSnackBarComponent, matConfig);\n\n      self.snackBarRef.onAction().subscribe(arg => {\n        observer.next(arg);\n      });\n\n      self.snackBarRef.afterDismissed().subscribe(() => {\n        observer.complete();\n        self.snackBarRef = null;\n      });\n\n      self.snackBarRef.instance.open(message, config);\n    });\n    return observable.toPromise();\n  }\n\n}\n","import { BasicExpression } from '../types/basic-expression.type';\nimport { Expression } from '../types/expression.type';\nimport { FilterExpression } from '../types/filter-expression.type';\n\n/**\n * Utility class for building basic and filter expressions.\n */\nexport class FilterExpressionUtils {\n\n  /**\n   * The basic expresion key.\n   */\n  static BASIC_EXPRESSION_KEY = '@basic_expression';\n\n  /**\n   * The filter expresion key.\n   */\n  static FILTER_EXPRESSION_KEY = '@filter_expression';\n\n  /**\n   * The `OR` operator.\n   */\n  static OP_OR: string = 'OR';\n\n  /**\n   * The `AND` operator.\n   */\n  static OP_AND: string = 'AND';\n\n  /**\n   * The `LIKE` operator\n   */\n  static OP_LIKE: string = 'LIKE';\n\n  /**\n   * The `NOT LIKE` operator.\n   */\n  static OP_NOT_LIKE: string = 'NOT LIKE';\n\n  /**\n   * The `EQUAL` operator.\n   */\n  static OP_EQUAL: string = '=';\n\n  /**\n   * The `NOT EQUAL` operator.\n   */\n  static OP_NOT_EQUAL: string = '<>';\n\n  /**\n   * The `IS NULL` operator.\n   */\n  static OP_NULL: string = 'IS NULL';\n\n  /**\n   * The `IS NOT NULL` operator.\n   */\n  static OP_NOT_NULL: string = 'IS NOT NULL';\n\n  /**\n   * The `LESS` operator.\n   */\n  static OP_LESS: string = '<';\n\n  /**\n   * The `LES EQUAL` operator.\n   */\n  static OP_LESS_EQUAL: string = '<=';\n\n  /**\n   * The `MORE` operator.\n   */\n  static OP_MORE: string = '>';\n\n  /**\n   * The `MORE EQUAL` operator.\n   */\n  static OP_MORE_EQUAL: string = '>=';\n\n  /**\n   * The `IN` operator.\n   */\n  static OP_IN: string = 'IN';\n\n  /**\n   * Evaluates if the the expression provided is an instance of `BasicExpression`..\n   * @param arg the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `BasicExpression`, `false` otherwise.\n   */\n  static instanceofBasicExpression(arg: any): boolean {\n    return arg.hasOwnProperty(FilterExpressionUtils.BASIC_EXPRESSION_KEY)\n      && FilterExpressionUtils.instanceofExpression(arg[FilterExpressionUtils.BASIC_EXPRESSION_KEY]);\n  }\n\n  /**\n   * Builds a `BasicExpression` instance from the filtering expression (`Expression`) provided.\n   * @param exp the filtering expression.\n   * @returns the basic expression.\n   */\n  static buildBasicExpression(exp: Expression): BasicExpression {\n    if (exp) {\n      if (!FilterExpressionUtils.instanceofExpression(exp)) {\n        console.error('The expression provided is not an instance of \\'Expression\\'');\n      }\n      const be: BasicExpression = {\n        '@basic_expression': exp\n      };\n      return be;\n    }\n    return undefined;\n  }\n\n  /**\n   * Evaluates if an expresion is instance of `FilterExpression`.\n   * @param exp the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `FilterExpression`, `false` otherwise.\n   */\n  static instanceofFilterExpression(exp: any): boolean {\n    return exp.hasOwnProperty(FilterExpressionUtils.FILTER_EXPRESSION_KEY)\n      && FilterExpressionUtils.instanceofExpression(exp[FilterExpressionUtils.FILTER_EXPRESSION_KEY]);\n  }\n\n  /**\n   * Builds an `FilterExpression` instance from the filtering expression (`Expression`) provided.\n   * @param exp the filtering expression.\n   * @returns the `FilterExpression`.\n   */\n  static buildFilterExpression(exp: Expression): FilterExpression {\n    if (exp) {\n      if (!FilterExpressionUtils.instanceofExpression(exp)) {\n        console.error('The expression provided is not an instance of \\'Expression\\'');\n      }\n      const be: FilterExpression = {\n        '@filter_expression': exp\n      };\n      return be;\n    }\n    return undefined;\n  }\n\n  /**\n   * Evaluates if an expresion is instance of `Expression`.\n   * @param exp the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `Expression`, `false` otherwise.\n   */\n  static instanceofExpression(exp: any): boolean {\n    return exp.hasOwnProperty('lop') && exp.hasOwnProperty('op');\n  }\n\n  /**\n   * Builds a complex `Expression` instance joining two expressions with the provided operator.\n   * @param expr1 the first `Expression` to join.\n   * @param expr2 the second `Expression` to join.\n   * @param op the joining operator.\n   * @returns the complex `Expression`.\n   */\n  static buildComplexExpression(expr1: Expression, expr2: Expression, op: string): Expression {\n    if (expr1.lop === undefined && expr1.op === undefined) {\n      return expr2;\n    }\n    if (expr2.lop === undefined && expr2.op === undefined) {\n      return expr1;\n    }\n    const expr: Expression = {\n      lop: expr1,\n      op: op,\n      rop: expr2\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionEquals(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key with a NOT NULL value.\n   * @param key the key.\n   * @returns the `Expression`.\n   */\n  static buildExpressionIsNotNull(key: string): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_NULL\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key with a NULL value.\n   * @param key the key.\n   * @returns the `Expression`.\n   */\n  static buildExpressionIsNull(key: string): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NULL\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key LESS than the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionLess(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LESS,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key LESS OR EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionLessEqual(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LESS_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key MORE than the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionMore(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_MORE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key MORE OR EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionMoreEqual(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_MORE_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  static buildExpressionIn(key: string, values: any[]): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_IN,\n      rop: values\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key NOT LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionNotLike(key: string, value: string): Expression {\n    if (value !== undefined) {\n      value = value.replace(new RegExp('\\\\*', 'g'), '%');\n      if (value.indexOf('%') === -1) {\n        value = '%' + value + '%';\n      }\n    }\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionLike(key: string, value: string): Expression {\n    if (value !== undefined) {\n      value = value.replace(new RegExp('\\\\*', 'g'), '%');\n      if (value.indexOf('%') === -1) {\n        value = '%' + value + '%';\n      }\n    }\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key ENDS LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionLikeEnd(key: string, value: string): Expression {\n    if (value !== undefined) {\n      value = '%' + value;\n    }\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key STARTS LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionLikeStart(key: string, value: string): Expression {\n    if (value !== undefined) {\n      value = value + '%';\n    }\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key NOT EQUAL the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionNotEquals(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds a complex `Expression` for filtering the provided key with two conditions:\n   * * The first filter the provided key with a NULL value.\n   * * The second filter the provided key EQUAL to the provided value.\n   *\n   * Both expressions are joined using the provided operator.\n   * @param key the key.\n   * @param value the value.\n   * @param op the operator.\n   * @returns the `Expression`.\n   */\n  static buildExpressionNullAndValue(key: string, value: any, op: string): Expression {\n    const isNull: Expression = FilterExpressionUtils.buildExpressionIsNull(key);\n    const equals: Expression = FilterExpressionUtils.buildExpressionEquals(key, value);\n    const expr: Expression = {\n      lop: isNull,\n      op: op,\n      rop: equals\n    };\n    return expr;\n  }\n\n  /**\n   * Builds a complex `Expression` for filtering the provided keys LIKE the value provided.\n   * @param keys the keys.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildArrayExpressionLike(keys: any[], value: any): Expression {\n    let result: Expression = {\n      lop: undefined,\n      op: undefined\n    };\n    keys.forEach((col) => {\n      result = FilterExpressionUtils.stackExpressionLikeOR(col, value, result);\n    });\n    return result;\n  }\n\n  /**\n   * Builds an `Expression` instance from the provided object.\n   * @param obj the object.\n   * @returns the `Expression`.\n   */\n  static buildExpressionFromObject(obj: any): Expression {\n    let result: Expression = {\n      lop: undefined,\n      op: undefined\n    };\n    Object.keys(obj || {}).forEach((key) => {\n      result = FilterExpressionUtils.stackExpressionEqualsAND(key, obj[key], result);\n    });\n    return result;\n  }\n\n  private static stackExpressionLikeOR(key: string, value: any, expr: Expression): Expression {\n    const likeExpr = FilterExpressionUtils.buildExpressionLike(key, value);\n    if (expr.lop === undefined && expr.op === undefined) {\n      return likeExpr;\n    } else {\n      expr = FilterExpressionUtils.buildComplexExpression(expr, likeExpr, FilterExpressionUtils.OP_OR);\n    }\n    return expr;\n  }\n\n  private static stackExpressionEqualsAND(key: string, value: any, expr: Expression): Expression {\n    const equalsExpr = FilterExpressionUtils.buildExpressionEquals(key, value);\n    if (expr.lop === undefined && expr.op === undefined) {\n      return equalsExpr;\n    } else {\n      expr = FilterExpressionUtils.buildComplexExpression(expr, equalsExpr, FilterExpressionUtils.OP_AND);\n    }\n    return expr;\n  }\n\n}\n","import { HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { IDataService } from '../../interfaces/data-service.interface';\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { Util } from '../../util/util';\nimport { OntimizeBaseService } from './ontimize-base-service.class';\n\n@Injectable()\nexport class OntimizeEEService extends OntimizeBaseService implements IDataService {\n\n  public path: string = '';\n\n  public configureService(config: any): void {\n    super.configureService(config);\n    this._startSessionPath = this._appConfig.startSessionPath ? this._appConfig.startSessionPath : '/users/login';\n    this.path = config.path;\n    // TODO init other params\n  }\n\n  public startsession(user: string, password: string): Observable<string | number> {\n    const url = this.urlBase + this._startSessionPath;\n    const options: any = {\n      headers: new HttpHeaders({\n        Authorization: 'Basic ' + btoa(user + ':' + password)\n      }),\n      observe: 'response'\n    };\n    const dataObservable: Observable<string | number> = new Observable(observer => {\n      this.httpClient.post(url, null, options).subscribe((resp: any) => {\n        if (Util.isDefined(resp) && Util.isDefined(resp.headers) && Util.isDefined(resp.headers.get('X-Auth-Token'))) {\n          observer.next(resp.headers.get('X-Auth-Token'));\n        } else {\n          // Invalid sessionId ...\n          observer.error('Invalid user or password');\n        }\n      }, error => observer.error(error));\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public endsession(user: string, sessionId: any): Observable<number> {\n    const dataObservable: Observable<any> = new Observable(observer => {\n      setTimeout(() => {\n        observer.next(0);\n      }, 0);\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public hassession(user: string, sessionId: any): Observable<boolean> {\n    const dataObservable: Observable<any> = new Observable(observer => {\n      observer.next(true);\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public query(kv?: object, av?: Array<string>, entity?: string, sqltypes?: object): Observable<ServiceResponse> {\n    // TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = `${this.urlBase}${this.path}/${entity}/search`;\n\n    const body = JSON.stringify({\n      filter: kv,\n      columns: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulQueryResponse,\n      errorCallBack: this.parseUnsuccessfulQueryResponse\n    });\n  }\n\n  public advancedQuery(kv?: object, av?: Array<string>, entity?: string, sqltypes?: object,\n    offset?: number, pagesize?: number, orderby?: Array<object>): Observable<ServiceResponse> {\n\n    // TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n    orderby = (Util.isDefined(orderby)) ? orderby : this.orderby;\n    offset = (Util.isDefined(offset)) ? offset : this.offset;\n    pagesize = (Util.isDefined(pagesize)) ? pagesize : this.pagesize;\n\n    const url = `${this.urlBase}${this.path}/${entity}/advancedsearch`;\n\n    const body = JSON.stringify({\n      filter: kv,\n      columns: av,\n      sqltypes: sqltypes,\n      offset: offset,\n      pageSize: pagesize,\n      orderBy: orderby\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulAdvancedQueryResponse,\n      errorCallBack: this.parseUnsuccessfulAdvancedQueryResponse\n    });\n  }\n\n  public insert(av: object = {}, entity: string, sqltypes?: object): Observable<ServiceResponse> {\n\n    const url = `${this.urlBase}${this.path}/${entity}`;\n\n    const body = JSON.stringify({\n      data: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulInsertResponse,\n      errorCallBack: this.parseUnsuccessfulInsertResponse\n    });\n  }\n\n  public update(kv: object = {}, av: object = {}, entity?: string, sqltypes?: object): Observable<ServiceResponse> {\n\n    const url = `${this.urlBase}${this.path}/${entity}`;\n\n    const body = JSON.stringify({\n      filter: kv,\n      data: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'PUT',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulUpdateResponse,\n      errorCallBack: this.parseUnsuccessfulUpdateResponse\n    });\n  }\n\n  public delete(kv: object = {}, entity?: string, sqltypes?: object): Observable<ServiceResponse> {\n\n    const url = `${this.urlBase}${this.path}/${entity}`;\n\n    const body = JSON.stringify({\n      filter: kv,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'DELETE',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulDeleteResponse,\n      errorCallBack: this.parseUnsuccessfulDeleteResponse\n    });\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    const headers = super.buildHeaders();\n    return headers.append('Authorization', 'Bearer ' + this._sessionid);\n  }\n\n}\n","import { HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Observable, Subscriber } from 'rxjs';\nimport { map, share } from 'rxjs/operators';\n\nimport { IExportService } from '../../interfaces/export-service.interface';\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { HttpRequestOptions } from '../../types';\nimport { OntimizeBaseService } from './ontimize-base-service.class';\n\n@Injectable()\nexport class OntimizeExportService extends OntimizeBaseService implements IExportService {\n\n  public exportPath: string;\n  public downloadPath: string;\n  public servicePath: string;\n\n  protected _sessionid: string;\n  protected exportAll: boolean = false;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  public configureService(config: any, modeAll = false): void {\n    super.configureService(config);\n    this.exportAll = modeAll;\n    if (config.exportPath) {\n      this.exportPath = config.exportPath;\n    }\n    if (config.downloadPath) {\n      this.downloadPath = config.downloadPath;\n    }\n    if (config.path) {\n      this.servicePath = config.path;\n    }\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      Authorization: 'Bearer ' + this._sessionid\n    });\n  }\n\n  public exportData(data: any, format: string, entity?: string): Observable<any> {\n    const url = `${this.urlBase}${this.exportPath ? this.exportPath : ''}${this.servicePath}/${entity}/${format}`;\n\n    const options: HttpRequestOptions = {\n      headers: this.buildHeaders().append('Content-Type', 'application/json;charset=UTF-8'),\n      observe: 'response'\n    };\n\n    const body = JSON.stringify(data);\n    // TODO: try multipart\n    const dataObservable: Observable<ServiceResponse> = new Observable((observer: Subscriber<ServiceResponse>) => {\n      this.httpClient.post<ServiceResponse>(url, body, options).pipe(\n        map((resData: any) => this.adapter.adapt(resData))\n      ).subscribe(resp => {\n        this.parseSuccessfulExportDataResponse(format, resp, observer);\n      }, error => {\n        this.parseUnsuccessfulResponse(error, observer);\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected parseSuccessfulExportDataResponse(format: string, resp: ServiceResponse, subscriber: Subscriber<ServiceResponse>) {\n    if (resp && resp.isUnauthorized()) {\n      this.clientErrorFallback(401);\n    } else if (resp && resp.isFailed()) {\n      subscriber.error(resp.message);\n    } else if (resp && resp.isSuccessful()) {\n      this.downloadFile(resp.data[0][format + 'Id'], format)\n        .subscribe(\n          r => subscriber.next(r),\n          e => subscriber.error(e),\n          () => subscriber.complete()\n        );\n    } else {\n      // Unknow state -> error\n      subscriber.error('Service unavailable');\n    }\n\n  }\n\n  public downloadFile(fileId: string, fileExtension: string): Observable<any> {\n    const url = `${this.urlBase}${this.downloadPath ? this.downloadPath : ''}${this.servicePath}/${fileExtension}/${fileId}`;\n\n    const options: any = {\n      headers: this.buildHeaders(),\n      observe: 'response',\n      responseType: 'blob'\n    };\n\n    const dataObservable = new Observable(observer => {\n      // .map((res: any) => new Blob([res.blob()], { type: responseType }))\n      this.httpClient.get(url, options).subscribe(\n        (resp: any) => {\n          const fileData = resp.body;\n          const fileURL = URL.createObjectURL(fileData);\n          const a = document.createElement('a');\n          document.body.appendChild(a);\n          a.href = fileURL;\n          a.download = fileId + '.' + fileExtension;\n          a.click();\n          document.body.removeChild(a);\n          observer.next(fileData);\n          URL.revokeObjectURL(fileURL);\n        }, error => observer.error(error),\n        () => observer.complete()\n      );\n    });\n    return dataObservable.pipe(share());\n  }\n}\n","import { HttpEventType, HttpHeaders, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { IFileService } from '../../interfaces/file-service.interface';\nimport { OntimizeBaseService } from './ontimize-base-service.class';\n\n@Injectable()\nexport class OntimizeFileService extends OntimizeBaseService implements IFileService {\n\n  public path: string = '';\n\n  public configureService(config: any): void {\n    super.configureService(config);\n    this.path = config.path;\n  }\n\n  /**\n   * Sends file/s upload request/s\n   *\n   * @param files the array of files to upload\n   * @param entity the entity\n   */\n  public upload(files: any[], entity: string, data?: object): Observable<any> {\n\n    const dataObservable = new Observable(observer => {\n\n      const url = `${this.urlBase}${this.path}/${entity}`;\n\n      const toUpload: any = new FormData();\n      files.forEach(item => {\n        item.prepareToUpload();\n        item.isUploading = true;\n        toUpload.append('name', item.name);\n        toUpload.append('file', item.file);\n      });\n\n      if (data) {\n        toUpload.append('data', JSON.stringify(data));\n      }\n\n      const request = new HttpRequest('POST', url, toUpload, {\n        headers: this.buildHeaders(),\n        reportProgress: true\n      });\n\n      this.httpClient.request(request).subscribe(resp => {\n        if (HttpEventType.UploadProgress === resp.type) {\n          // Upload progress event received\n          const progressData = {\n            loaded: resp.loaded,\n            total: resp.total\n          };\n          observer.next(progressData);\n        } else if (HttpEventType.Response === resp.type) {\n          // Full response received\n          if (resp.body) {\n            if (resp.body['code'] === 3) {\n              this.redirectLogin(true);\n            } else if (resp.body['code'] === 1) {\n              observer.error(resp.body['message']);\n            } else if (resp.body['code'] === 0) {\n              // RESPONSE\n              observer.next(resp.body);\n            } else {\n              // Unknow state -> error\n              observer.error('Service unavailable');\n            }\n          } else {\n            observer.next(resp.body);\n          }\n        }\n      }, error => {\n        console.error(error);\n        if (error.status === 401) {\n          this.redirectLogin(true);\n        } else {\n          observer.error(error);\n        }\n      },\n        () => observer.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      Authorization: 'Bearer ' + this._sessionid\n    });\n  }\n\n\n}\n","import { InjectionToken, Injector } from '@angular/core';\n\nimport { AppConfig } from '../config/app-config';\nimport { IExportService } from '../interfaces/export-service.interface';\nimport { IFileService } from '../interfaces/file-service.interface';\nimport { IPermissionsService } from '../interfaces/permissions-service.interface';\nimport { Util } from '../util/util';\nimport { OntimizeEEService } from './ontimize/ontimize-ee.service';\nimport { OntimizeExportService } from './ontimize/ontimize-export.service';\nimport { OntimizeFileService } from './ontimize/ontimize-file.service';\nimport { OntimizeService } from './ontimize/ontimize.service';\nimport { OntimizeEEPermissionsService } from './permissions/ontimize-ee-permissions.service';\nimport { OntimizePermissionsService } from './permissions/ontimize-permissions.service';\n\n/* ----------------------------------------------------------------------------------------------------\n * ----------------------------------------- INJECTION TOKENS -----------------------------------------\n * ---------------------------------------------------------------------------------------------------- */\n\n/**\n * Injection token that can be used to replace the data service `OntimizeService` or `OntimizeEEService`.\n */\nexport const O_DATA_SERVICE = new InjectionToken('Ontimize data service');\n\n/**\n * Injection token that can be used to replace the translate service `OTranslateService`.\n */\nexport const O_TRANSLATE_SERVICE = new InjectionToken('Translate service');\n\n/**\n * Injection token that can be used to replace the file service `OntimizeFileService`.\n */\nexport const O_FILE_SERVICE = new InjectionToken<IFileService>('File uploader service');\n\n/**\n * Injection token that can be used to replace the exportation service `OntimizeExportService`.\n */\nexport const O_EXPORT_SERVICE = new InjectionToken<IExportService>('Export service');\n\n/**\n * Injection token that can be used to replace the permission service `OntimizePermissionsService or OntimizeEEPermissionsService`.\n */\nexport const O_PERMISSION_SERVICE = new InjectionToken<IPermissionsService>('Permission service');\n\n/* ----------------------------------------------------------------------------------------------------\n * --------------------------------------------- FACTORIES --------------------------------------------\n * ---------------------------------------------------------------------------------------------------- */\n\n/**\n * Creates a new instance of the data service.\n */\nexport function dataServiceFactory(injector: Injector): any {\n  const serviceClass = _getInjectionTokenValue(O_DATA_SERVICE, injector);\n  const service = _createServiceInstance(serviceClass, injector);\n  if (Util.isDefined(service)) {\n    return service;\n  }\n  const config = injector.get(AppConfig).getConfiguration();\n  if (typeof (config.serviceType) === 'undefined') {\n    return new OntimizeService(injector);\n  } else if ('OntimizeEE' === config.serviceType) {\n    return new OntimizeEEService(injector);\n  }\n  return _createServiceInstance(config.serviceType, injector);\n}\n\n/**\n * Creates a new instance of the file service.\n */\nexport function fileServiceFactory(injector: Injector): IFileService {\n  const serviceClass = _getInjectionTokenValue(O_FILE_SERVICE, injector);\n  const service = _createServiceInstance(serviceClass, injector);\n  return Util.isDefined(service) ? service : new OntimizeFileService(injector);\n}\n\n/**\n * Creates a new instance of the exportation service.\n */\nexport function exportServiceFactory(injector: Injector): IExportService {\n  const serviceClass = _getInjectionTokenValue(O_EXPORT_SERVICE, injector);\n  const service = _createServiceInstance(serviceClass, injector);\n  if (Util.isDefined(service)) {\n    return service;\n  }\n  const config = injector.get(AppConfig).getConfiguration();\n  if (typeof (config.exportServiceType) === 'undefined') {\n    return new OntimizeExportService(injector);\n  }\n  return _createServiceInstance(config.exportServiceType, injector);\n}\n\n/**\n * Creates a new instance of the permission service.\n */\nexport function permissionsServiceFactory(injector: Injector): IPermissionsService {\n  const serviceClass = _getInjectionTokenValue(O_PERMISSION_SERVICE, injector);\n  const service = _createServiceInstance(serviceClass, injector);\n  if (Util.isDefined(service)) {\n    return service;\n  }\n  const config = injector.get(AppConfig).getConfiguration();\n  if (!Util.isDefined(config.permissionsServiceType) || 'OntimizePermissions' === config.permissionsServiceType) {\n    return new OntimizePermissionsService(injector);\n  } else if ('OntimizeEEPermissions' === config.permissionsServiceType) {\n    return new OntimizeEEPermissionsService(injector);\n  }\n  return _createServiceInstance(config.permissionsServiceType, injector);\n}\n\n/* ----------------------------------------------------------------------------------------------------\n * -------------------------------------------- PROVIDERS ---------------------------------------------\n * ----------------------------------------------------------------------------------------------------\n * Using the same provider multiple times accross the project produces namespaces conflicts when\n * building with ng-packagr, so we reused the providers defined here.\n * ---------------------------------------------------------------------------------------------------- */\n\nexport let OntimizeServiceProvider = { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] };\n\nexport let OntimizeExportServiceProvider = { provide: OntimizeExportService, useFactory: exportServiceFactory, deps: [Injector] };\n\n/* ----------------------------------------------------------------------------------------------------\n * ----------------------------------------- Utility methods ------------------------------------------\n * ---------------------------------------------------------------------------------------------------- */\n\n/**\n * Returns the value for the provided injection token\n * @param token the injection token\n * @param injector the injector\n */\nexport function _getInjectionTokenValue<T>(token: InjectionToken<T>, injector: Injector): T {\n  let service: T;\n  try {\n    service = injector.get(token);\n  } catch (e) {\n    // No value provided for the injection token\n  }\n  return service;\n}\n\n/**\n * Returns an instance of the provided service class\n * @param clazz the class reference\n * @param injector the injector\n */\nexport function _createServiceInstance(clazz: any, injector: Injector) {\n  if (!Util.isDefined(clazz)) {\n    return;\n  }\n  const newInstance = Object.create(clazz.prototype);\n  clazz.apply(newInstance, [injector]);\n  return newInstance;\n}\n","import { HttpClient } from '@angular/common/http';\nimport { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, Subscriber } from 'rxjs';\n\nimport { AppConfig } from '../../config/app-config';\nimport * as CORE_TRANSLATIONS from '../../i18n/i18n';\nimport { MomentService } from '../../services/moment.service';\nimport { SnackBarService } from '../../services/snackbar.service';\nimport { Codes, Util } from '../../util';\nimport { ObservableWrapper } from '../../util/async';\nimport { _createServiceInstance, _getInjectionTokenValue, O_TRANSLATE_SERVICE } from '../factories';\n\n/**\n * `OTranslateService` factory.\n * Creates a new instance of the translate service.\n */\nexport function translateServiceFactory(injector: Injector): any {\n  const serviceClass = _getInjectionTokenValue(O_TRANSLATE_SERVICE, injector);\n  const service = _createServiceInstance(serviceClass, injector);\n  return Util.isDefined(service) ? service : new OTranslateService(injector);\n}\n\n@Injectable({ providedIn: 'root', useFactory: translateServiceFactory, deps: [Injector] })\nexport class OTranslateService {\n\n  public static ASSETS_PATH = './assets/i18n/';\n  public static ASSETS_EXTENSION = '.json';\n  public DEFAULT_LANG = 'en';\n  public onLanguageChanged: EventEmitter<any> = new EventEmitter();\n\n  protected ngxTranslateService: TranslateService;\n  protected momentService: MomentService;\n  protected httpClient: HttpClient;\n\n  protected localStorageKey: string;\n  protected notFoundLang: Array<string> = [];\n  protected appConfig: AppConfig;\n\n  protected existingLangFiles: Array<string> = [];\n\n  constructor(protected injector: Injector) {\n    this.ngxTranslateService = this.injector.get(TranslateService);\n    this.momentService = this.injector.get(MomentService);\n    this.httpClient = this.injector.get(HttpClient);\n    this.appConfig = this.injector.get(AppConfig);\n    this.localStorageKey = this.appConfig.getConfiguration().uuid;\n  }\n\n  public storeLanguage(language: string): void {\n    if (language) {\n      const dataStr = localStorage.getItem(this.localStorageKey);\n      const data = (dataStr && dataStr.length > 0) ? JSON.parse(dataStr) : {};\n      data[Codes.LANGUAGE_KEY] = language;\n      localStorage.setItem(this.localStorageKey, JSON.stringify(data));\n    }\n  }\n\n  public getStoredLanguage(): string {\n    const dataStr = localStorage.getItem(this.localStorageKey);\n    return dataStr ? JSON.parse(dataStr)[Codes.LANGUAGE_KEY] : void 0;\n  }\n\n  protected checkExistingLangFile(lang: string): Promise<any> {\n    const self = this;\n    return new Promise((resolve) => {\n      if (self.existingLangFiles.indexOf(lang) !== -1) {\n        resolve(true);\n        return;\n      }\n      const localeAssetsPath = (this.ngxTranslateService.currentLoader as any).prefix;\n      const localeAssetsExtension = (this.ngxTranslateService.currentLoader as any).suffix;\n      self.httpClient.get(localeAssetsPath + lang + localeAssetsExtension).subscribe(() => {\n        if (self.existingLangFiles.indexOf(lang) === -1) {\n          self.existingLangFiles.push(lang);\n        }\n        // I18N File loaded successfully\n        resolve(true);\n      }, () => {\n        // I18N File failed to load\n        if (self.notFoundLang.indexOf(lang) === -1) {\n          self.notFoundLang.push(lang);\n        }\n        resolve(false);\n      });\n    });\n  }\n\n  public setDefaultLang(lang: string): void {\n    this.ngxTranslateService.defaultLang = lang;\n    this.checkExistingLangFile(lang).then((exists) => {\n      if (!exists) {\n        console.error('Default language(' + lang + ') has no bundle file defined');\n      }\n    });\n  }\n\n  public get(text: string, values: any[] = []): string {\n    let textTranslated;\n    try {\n      const bundle = this.ngxTranslateService.get(text, values);\n      if (bundle && bundle['value']) {\n        textTranslated = bundle['value'];\n      }\n      textTranslated = textTranslated === text ? undefined : textTranslated;\n    } catch (e) {\n      textTranslated = undefined;\n    }\n    if (!textTranslated) {\n      const bundle = CORE_TRANSLATIONS.MAP[this.ngxTranslateService.currentLang] || CORE_TRANSLATIONS.MAP[this.DEFAULT_LANG];\n      if (bundle && bundle[text]) {\n        textTranslated = bundle[text];\n      } else {\n        textTranslated = text;\n      }\n    }\n    return textTranslated;\n  }\n\n  public setAppLang(lang: string): Observable<any> {\n    const observable = new Observable(observer => {\n      this.use(lang, observer);\n    });\n    return observable;\n  }\n\n  public use(lang: string, observer?: Subscriber<any>): void {\n    if (lang === undefined) {\n      const newLang = lang || this.DEFAULT_LANG;\n      // setting lang for initializING moment and other components\n      this.propagateLang(newLang, {}, observer);\n    } else {\n      this.checkExistingLangFile(lang).then((exists) => {\n        let newLang = lang;\n        if (!exists) {\n          newLang = Util.isDefined(this.appConfig['_config']['defaultLocale']) ? this.appConfig['_config']['defaultLocale'] : this.ngxTranslateService.getDefaultLang();\n          const msg = CORE_TRANSLATIONS.MAP[newLang || this.DEFAULT_LANG]['MESSAGES.ERROR_MISSING_LANG'];\n          this.injector.get(SnackBarService).open(msg, {\n            milliseconds: 2500\n          });\n        }\n        this.ngxTranslateService.use(newLang).subscribe(\n          res => {\n            this.storeLanguage(newLang);\n            this.propagateLang(newLang, res, observer);\n          }\n        );\n      });\n    }\n  }\n\n  protected propagateLang(lang: string, langRes?: any, observer?: Subscriber<any>) {\n    const coreBundle = CORE_TRANSLATIONS.MAP[lang || this.DEFAULT_LANG];\n    if (coreBundle !== undefined) {\n      const mixed = Object.assign({}, coreBundle, langRes);\n      this.ngxTranslateService.translations[lang] = mixed;\n    }\n    this.momentService.load(lang);\n    ObservableWrapper.callEmit(this.onLanguageChanged, lang);\n    if (observer) {\n      observer.next(langRes);\n    }\n  }\n\n  public getCurrentLang() {\n    return this.ngxTranslateService.currentLang;\n  }\n\n  public getBrowserLang() {\n    // copying this.ngxTranslateService.getBrowserLang() but with a fix for default selected language (browserLang)\n    if (typeof window === 'undefined' || typeof window.navigator === 'undefined') {\n      return undefined;\n    }\n    const navigator: any = window.navigator;\n    let browserLang = navigator.languages ? navigator.languages[0] : null;\n    browserLang = navigator.language || browserLang || navigator.browserLanguage || navigator.userLanguage;\n    if (browserLang.indexOf('-') !== -1) {\n      browserLang = browserLang.split('-')[0];\n    }\n    if (browserLang.indexOf('_') !== -1) {\n      browserLang = browserLang.split('_')[0];\n    }\n    return browserLang;\n  }\n\n}\n","import { Injector } from '@angular/core';\n\nimport { BooleanConverter } from '../decorators/input-converter';\nimport { IComponent } from '../interfaces/component.interface';\nimport { OTranslateService } from '../services/translate/o-translate.service';\nimport { OPermissions } from '../types/o-permissions.type';\nimport { PermissionsUtils } from '../util/permissions';\nimport { Util } from '../util/util';\n\nexport class OBaseComponent implements IComponent {\n\n  /* Inputs */\n  protected oattr: string;\n  protected _olabel: string;\n  protected oplaceholder: string;\n  protected _enabled: boolean = true;\n  protected _readOnly: boolean;\n  protected _orequired: boolean = false;\n\n  /* Internal variables */\n  protected injector: Injector;\n  protected translateService: OTranslateService;\n\n  protected _isReadOnly: boolean;\n  protected _tooltip: string;\n  protected _tooltipPosition: string = 'below';\n  protected _tooltipShowDelay: number = 500;\n  protected _tooltipHideDelay: number = 0;\n  protected permissions: OPermissions;\n\n  constructor(injector: Injector) {\n    this.injector = injector;\n    if (this.injector) {\n      this.translateService = this.injector.get<OTranslateService>(OTranslateService);\n    }\n  }\n\n  public initialize(): void {\n    if (!Util.isDefined(this._olabel)) {\n      this._olabel = this.oattr;\n    }\n    if (Util.isDefined(this.oplaceholder) && this.oplaceholder.length > 0) {\n      this.oplaceholder = this.translateService.get(this.oplaceholder);\n    }\n  }\n\n  public getAttribute(): string {\n    if (this.oattr) {\n      return this.oattr;\n    }\n    return undefined;\n  }\n\n  public setEnabled(value: boolean): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    const parsedValue = BooleanConverter(value);\n    this._enabled = parsedValue;\n  }\n\n  get placeHolder(): string {\n    return this.oplaceholder;\n  }\n\n  set placeHolder(value: string) {\n    this.oplaceholder = value;\n  }\n\n  get tooltipClass(): string {\n    return this.getTooltipClass();\n  }\n\n  protected getTooltipClass(): string {\n    return `o-tooltip ${this.tooltipPosition}`;\n  }\n\n  protected getTooltipText(): string {\n    if (Util.isDefined(this._tooltip) && this.translateService) {\n      return this.translateService.get(this._tooltip);\n    }\n    return this._tooltip;\n  }\n\n  get tooltip(): string {\n    return this.getTooltipText();\n  }\n\n  set tooltip(value: string) {\n    this._tooltip = value;\n  }\n\n  get tooltipPosition(): string {\n    return this._tooltipPosition;\n  }\n\n  set tooltipPosition(value: string) {\n    this._tooltipPosition = value;\n  }\n\n  get tooltipShowDelay(): number {\n    return this._tooltipShowDelay;\n  }\n\n  set tooltipShowDelay(value: number) {\n    this._tooltipShowDelay = value;\n  }\n\n  get tooltipHideDelay(): number {\n    return this._tooltipHideDelay;\n  }\n\n  set tooltipHideDelay(value: number) {\n    this._tooltipHideDelay = value;\n  }\n\n  get isReadOnly(): boolean {\n    return this._isReadOnly;\n  }\n\n  set isReadOnly(value: boolean) {\n    this.setIsReadOnly(value);\n  }\n\n  protected setIsReadOnly(value: boolean): void {\n    // only modifiyng read only state if the component has not its own read-only input\n    if (Util.isDefined(this.readOnly)) {\n      return;\n    }\n    if (!this.enabled) {\n      this._isReadOnly = false;\n      return;\n    }\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    this._isReadOnly = value;\n  }\n\n  get readOnly(): any {\n    return this._readOnly;\n  }\n\n  set readOnly(value: any) {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    const parsedValue = BooleanConverter(value);\n    this._readOnly = parsedValue;\n    this._isReadOnly = parsedValue;\n  }\n\n  set orequired(val: boolean) {\n    this._orequired = BooleanConverter(val);\n  }\n\n  get orequired(): boolean {\n    return this._orequired;\n  }\n\n  get isRequired(): boolean {\n    return this.orequired;\n  }\n\n  set required(value: boolean) {\n    this.orequired = value;\n  }\n\n  get enabled(): any {\n    return this._enabled;\n  }\n\n  set enabled(value: any) {\n    const parsedValue = BooleanConverter(value);\n    this.setEnabled(parsedValue);\n  }\n\n  get olabel(): string {\n    return this._olabel;\n  }\n\n  set olabel(value: string) {\n    this._olabel = value;\n  }\n\n}\n","export class OValueChangeEvent {\n  public static USER_CHANGE = 0;\n  public static PROGRAMMATIC_CHANGE = 1;\n\n  constructor(\n    public type: number,\n    public newValue: any,\n    public oldValue: any,\n    public target: any) { }\n\n  public isUserChange(): boolean {\n    return this.type === OValueChangeEvent.USER_CHANGE;\n  }\n\n  public isProgrammaticChange(): boolean {\n    return this.type === OValueChangeEvent.PROGRAMMATIC_CHANGE;\n  }\n}\n","import {\n  AfterViewInit,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Injector,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  SimpleChange,\n  ViewChildren,\n} from '@angular/core';\nimport { FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { FloatLabelType, MatFormFieldAppearance, MatSuffix } from '@angular/material';\nimport { Subscription } from 'rxjs';\n\nimport { O_INPUTS_OPTIONS } from '../config/app-config';\nimport { BooleanConverter, InputConverter } from '../decorators/input-converter';\nimport { IFormDataComponent } from '../interfaces/form-data-component.interface';\nimport { IFormDataTypeComponent } from '../interfaces/form-data-type-component.interface';\nimport { PermissionsService } from '../services/permissions/permissions.service';\nimport { OValidatorComponent } from '../shared/components/validation/o-validator.component';\nimport { O_MAT_ERROR_OPTIONS, OMatErrorComponent } from '../shared/material/o-mat-error/o-mat-error';\nimport { ErrorData } from '../types/error-data.type';\nimport { FormValueOptions } from '../types/form-value-options.type';\nimport { OInputsOptions } from '../types/o-inputs-options.type';\nimport { OMatErrorOptions } from '../types/o-mat-error.type';\nimport { OPermissions } from '../types/o-permissions.type';\nimport { Codes } from '../util/codes';\nimport { PermissionsUtils } from '../util/permissions';\nimport { SQLTypes } from '../util/sqltypes';\nimport { Util } from '../util/util';\nimport { OFormComponent } from './form/o-form.component';\nimport { OFormValue } from './form/OFormValue';\nimport { OFormControl } from './input/o-form-control.class';\nimport { OBaseComponent } from './o-component.class';\nimport { OValueChangeEvent } from './o-value-change-event.class';\n\nexport const DEFAULT_INPUTS_O_FORM_DATA_COMPONENT = [\n  'oattr: attr',\n  'olabel: label',\n  'floatLabel: float-label',\n  'oplaceholder: placeholder',\n  'tooltip',\n  'tooltipPosition: tooltip-position',\n  'tooltipShowDelay: tooltip-show-delay',\n  'tooltipHideDelay: tooltip-hide-delay',\n  'data',\n  'autoBinding: automatic-binding',\n  'autoRegistering: automatic-registering',\n  'enabled',\n  'orequired: required',\n  // sqltype[string]: Data type according to Java standard. See SQLType ngClass. Default: 'OTHER'\n  'sqlType: sql-type',\n  'width',\n  'readOnly: read-only',\n  'clearButton: clear-button',\n  'angularValidatorsFn: validators',\n  'appearance',\n  'hideRequiredMarker:hide-required-marker',\n  'labelVisible:label-visible'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT = [\n  'onChange',\n  'onValueChange',\n  'onFocus',\n  'onBlur'\n];\n\nexport class OFormDataComponent extends OBaseComponent implements IFormDataComponent, IFormDataTypeComponent,\n  OnInit, AfterViewInit, OnDestroy, OnChanges {\n\n  /* Inputs */\n  public sqlType: string;\n  @InputConverter()\n  public autoBinding: boolean = true;\n  @InputConverter()\n  public autoRegistering: boolean = true;\n  public width: string;\n  @InputConverter()\n  public clearButton: boolean = false;\n  public angularValidatorsFn: ValidatorFn[] = [];\n  @InputConverter()\n  public hideRequiredMarker: boolean = false;\n  @InputConverter()\n  public labelVisible: boolean = true;\n\n  /* Outputs */\n  public onChange: EventEmitter<object> = new EventEmitter<object>();\n  public onValueChange: EventEmitter<OValueChangeEvent> = new EventEmitter<OValueChangeEvent>();\n  public onFocus: EventEmitter<object> = new EventEmitter<object>();\n  public onBlur: EventEmitter<object> = new EventEmitter<object>();\n\n  @HostBinding('style.width')\n  get hostWidth(): string {\n    return this.width;\n  }\n\n  /* Internal variables */\n  protected value: OFormValue;\n  protected defaultValue: any = void 0;\n  protected _SQLType: number = SQLTypes.OTHER;\n  protected _defaultSQLTypeKey: string = 'OTHER';\n  protected _fControl: OFormControl;\n  protected _fControlSubscription: Subscription;\n  protected _fGroup: FormGroup;\n  protected elRef: ElementRef;\n  protected form: OFormComponent;\n  protected oldValue: any;\n\n  protected _floatLabel: FloatLabelType;\n  protected _appearance: MatFormFieldAppearance;\n\n  protected matSuffixSubscription: Subscription;\n  @ViewChildren(MatSuffix)\n  protected _matSuffixList: QueryList<MatSuffix>;\n\n  protected errorsData: ErrorData[] = [];\n  protected validatorsSubscription: Subscription;\n  @ContentChildren(OValidatorComponent)\n  protected validatorChildren: QueryList<OValidatorComponent>;\n\n  protected permissionsService: PermissionsService;\n  protected mutationObserver: MutationObserver;\n\n  protected errorOptions: OMatErrorOptions;\n  @ViewChildren(OMatErrorComponent)\n  protected oMatErrorChildren: QueryList<OMatErrorComponent>;\n\n  protected oInputsOptions: OInputsOptions;\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(injector);\n    this.form = form;\n    this.elRef = elRef;\n    this.permissionsService = this.injector.get<PermissionsService>(PermissionsService);\n    try {\n      this.errorOptions = this.injector.get(O_MAT_ERROR_OPTIONS) || {};\n    } catch (e) {\n      this.errorOptions = {};\n    }\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngAfterViewInit(): void {\n    const self = this;\n    if (this._matSuffixList) {\n      this.setSuffixClass(this._matSuffixList.length);\n      this.matSuffixSubscription = this._matSuffixList.changes.subscribe(() => {\n        self.setSuffixClass(self._matSuffixList.length);\n      });\n    }\n\n    if (this.validatorChildren) {\n      this.validatorsSubscription = this.validatorChildren.changes.subscribe(() => {\n        self.updateValidators();\n      });\n      if (this.validatorChildren.length > 0) {\n        this.updateValidators();\n      }\n    }\n    if (!this.enabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.getMutationObserverTarget(), {\n        callback: this.disableFormControl.bind(this)\n      });\n    }\n    this.addOntimizeCustomAppearanceClass();\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    if (Util.isDefined(changes.angularValidatorsFn)) {\n      this.updateValidators();\n    }\n  }\n\n  public hasEnabledPermission(): boolean {\n    return this.permissions ? this.permissions.enabled : true;\n  }\n\n  public hasVisiblePermission(): boolean {\n    return this.permissions ? this.permissions.visible : true;\n  }\n\n  public getFormGroup(): FormGroup {\n    if (this._fGroup) {\n      return this._fGroup;\n    }\n    let formGroup = this.form ? this.form.formGroup : undefined;\n    if ((!this.hasEnabledPermission() || !this.hasVisiblePermission()) && !this._fGroup) {\n      const group = {};\n      group[this.oattr] = this._fControl;\n      this._fGroup = new FormGroup(group);\n      formGroup = this._fGroup;\n    }\n    return formGroup;\n  }\n\n  public getFormControl(): FormControl {\n    return this._fControl;\n  }\n\n  public hasError(error: string): boolean {\n    return !this.isReadOnly && this._fControl && this._fControl.touched && this._fControl.hasError(error);\n  }\n\n  public getErrorValue(error: string, prop: string): string {\n    return this._fControl && this._fControl.hasError(error) ? this._fControl.getError(error)[prop] || '' : '';\n  }\n\n  public getActiveOErrors(): ErrorData[] {\n    return this.errorsData.filter((item: ErrorData) => this.hasError(item.name));\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    // ensuring formControl creation\n    this.getControl();\n\n    this.parsePermissions();\n\n    if (!Util.isDefined(this.permissions)) {\n      if (this.form) {\n        this.registerFormListeners();\n        this.isReadOnly = !(this.form.isInUpdateMode() || this.form.isInInsertMode() || this.form.isEditableDetail());\n      } else {\n        this.isReadOnly = !this.enabled;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.unregisterFormListeners();\n    if (this.matSuffixSubscription) {\n      this.matSuffixSubscription.unsubscribe();\n    }\n    if (this.validatorsSubscription) {\n      this.validatorsSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n    if (this._fControlSubscription) {\n      this._fControlSubscription.unsubscribe();\n    }\n  }\n\n  public registerFormListeners(): void {\n    if (this.form) {\n      this.form.registerFormComponent(this);\n      this.form.registerFormControlComponent(this);\n      this.form.registerSQLTypeFormComponent(this);\n    }\n  }\n\n  public unregisterFormListeners(): void {\n    if (this.form) {\n      this.form.unregisterFormComponent(this);\n      this.form.unregisterFormControlComponent(this);\n      this.form.unregisterSQLTypeFormComponent(this);\n    }\n  }\n\n  set data(value: any) {\n    this.setData(value);\n  }\n\n  public setData(newValue: any): void {\n    // emit OValueChangeEvent.PROGRAMMATIC_CHANGE when assign value to data\n    // this method skips the following permissions checking because the form is\n    // setting its query result using it\n    const previousValue = this.oldValue;\n    this.setFormValue(newValue);\n    this.emitOnValueChange(OValueChangeEvent.PROGRAMMATIC_CHANGE, newValue, previousValue);\n  }\n\n  public isAutomaticBinding(): boolean {\n    return this.autoBinding;\n  }\n\n  public isAutomaticRegistering(): boolean {\n    return this.autoRegistering;\n  }\n\n  public getValue(): any {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return this.value.value;\n      }\n    }\n    return this.defaultValue;\n  }\n\n  public setValue(val: any, options: FormValueOptions = {}, setDirty: boolean = false): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    if (this.oldValue !== val) {\n      const newValue = val;\n      const previousValue = this.oldValue;\n      this.setFormValue(val, options, setDirty);\n      if (options && options.emitModelToViewValueChange !== false) {\n        const changeType: number = (options.hasOwnProperty('changeType')) ? options.changeType : OValueChangeEvent.PROGRAMMATIC_CHANGE;\n        this.emitOnValueChange(changeType, newValue, previousValue);\n      }\n    }\n  }\n\n  /**\n   * Clears the component value.\n   */\n  public clearValue(options?: FormValueOptions, setDirty: boolean = false): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    this.setValue(void 0, options, setDirty);\n  }\n\n  public onClickClearValue(event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n    this.clearValue({ changeType: OValueChangeEvent.USER_CHANGE }, true);\n  }\n\n  /* This method is called in output change event, not emit event onValueChange when oldvalue is same than newvalue*/\n  public onChangeEvent(arg: any): void {\n    const value = this.getValue();\n    if (this.oldValue !== value) {\n      const previousValue = this.oldValue;\n      this.oldValue = value;\n      this.emitOnValueChange(OValueChangeEvent.USER_CHANGE, value, previousValue);\n    }\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.getValue();\n  }\n\n  public onFormControlChange(value: any): void {\n    // equivalente al innerOnChange\n    if (!this.value) {\n      this.value = new OFormValue();\n    }\n    this.ensureOFormValue(value);\n    this.onChange.emit(value);\n  }\n\n  public ensureOFormValue(arg: any): void {\n    if (arg instanceof OFormValue) {\n      this.value = arg;\n    } else if (Util.isDefined(arg) && !(arg instanceof OFormValue)) {\n      const val: OFormValue = this.value || new OFormValue();\n      val.value = arg;\n      this.value = val;\n    } else {\n      this.value = new OFormValue(this.defaultValue);\n    }\n  }\n\n  /**\n   * This method should overwritten in the child component when it have addicional form control or other oFormDataComponent\n   */\n  public createFormControl(cfg?, validators?): OFormControl {\n    return new OFormControl(cfg, {\n      validators: validators\n    }, null);\n  }\n\n  public getControl(): FormControl {\n    if (!this._fControl) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: this.value ? this.value.value : undefined,\n        disabled: !this.enabled\n      };\n      this._fControl = this.createFormControl(cfg, validators);\n      this.registerOnFormControlChange();\n    }\n    return this._fControl;\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = [];\n    this.angularValidatorsFn.forEach((fn: ValidatorFn) => {\n      validators.push(fn);\n    });\n    if (this.orequired) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  public getSQLType(): number {\n    const sqlt = this.sqlType && this.sqlType.length > 0 ? this.sqlType : this._defaultSQLTypeKey;\n    this._SQLType = SQLTypes.getSQLTypeValue(sqlt);\n    return this._SQLType;\n  }\n\n  get isValid(): boolean {\n    if (this._fControl) {\n      return this._fControl.valid;\n    }\n    return false;\n  }\n\n  public isEmpty(): boolean {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  public setEnabled(value: boolean): void {\n    super.setEnabled(value);\n    if (this.hasVisiblePermission()) {\n      if (this._fControl && value) {\n        this._fControl.enable();\n      } else if (this._fControl) {\n        this._fControl.disable();\n      }\n    }\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n\n  get hasCustomWidth(): boolean {\n    return this.width !== undefined;\n  }\n\n  get orequired(): boolean {\n    return this._orequired;\n  }\n\n  set orequired(val: boolean) {\n    const old = this._orequired;\n    this._orequired = BooleanConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  public innerOnFocus(event: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.onFocus.emit(event);\n    }\n  }\n\n  public innerOnBlur(event: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.onBlur.emit(event);\n    }\n  }\n\n  get appearance(): MatFormFieldAppearance {\n    return this._appearance;\n  }\n\n  set appearance(value: MatFormFieldAppearance) {\n    const values = ['legacy', 'standard', 'fill', 'outline'];\n    if (values.indexOf(value) === -1) {\n      value = undefined;\n    }\n    this._appearance = value;\n  }\n\n  get floatLabel(): FloatLabelType {\n    if (!this.labelVisible) {\n      this.floatLabel = 'never';\n    }\n    return this._floatLabel;\n  }\n\n  set floatLabel(value: FloatLabelType) {\n    const values = ['always', 'never', 'auto'];\n    if (values.indexOf(value) === -1) {\n      value = 'auto';\n    }\n    this._floatLabel = value;\n  }\n\n  protected registerOnFormControlChange(): void {\n    const self = this;\n    if (this._fControl) {\n      this._fControlSubscription = this._fControl.valueChanges.subscribe(value => {\n        self.onFormControlChange(value);\n      });\n    }\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue): void {\n    const event = new OValueChangeEvent(type, newValue, oldValue, this);\n    this.onValueChange.emit(event);\n  }\n\n  protected setFormValue(val: any, options?: FormValueOptions, setDirty: boolean = false): void {\n    this.ensureOFormValue(val);\n    if (this._fControl) {\n      this._fControl.setValue(this.value.value, options);\n      if (setDirty) {\n        this._fControl.markAsDirty();\n      }\n      if (this._fControl.invalid && !this.form.isInInsertMode()) {\n        this._fControl.markAsTouched();\n      }\n    }\n    this.oldValue = this.value.value;\n  }\n\n  protected updateValidators(): void {\n    if (!this._fControl) {\n      return;\n    }\n    const self = this;\n    this._fControl.clearValidators();\n    this.errorsData = [];\n    const validators = this.resolveValidators();\n    if (this.validatorChildren) {\n      this.validatorChildren.forEach((oValidator: OValidatorComponent) => {\n        const validatorFunction: ValidatorFn = oValidator.getValidatorFn();\n        if (validatorFunction) {\n          validators.push(validatorFunction);\n        }\n        const errorsData: ErrorData[] = oValidator.getErrorsData();\n        self.errorsData.push(...errorsData);\n      });\n    }\n    this._fControl.setValidators(validators);\n  }\n\n  protected addOntimizeCustomAppearanceClass(): void {\n    try {\n      if (this.elRef) {\n        const matFormFieldEl = this.elRef.nativeElement.getElementsByTagName('mat-form-field');\n        if (matFormFieldEl && matFormFieldEl.length === 1) {\n          matFormFieldEl.item(0).classList.add('mat-form-field-appearance-ontimize');\n        }\n      }\n    } catch (e) {\n      //\n    }\n  }\n\n  protected getTooltipClass(): string {\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (!liteError) {\n      return super.getTooltipClass();\n    }\n    const errorClass = Util.isDefined(this._fControl.errors) ? 'o-mat-error' : '';\n    return `${super.getTooltipClass()} ${errorClass}`;\n  }\n\n  protected getTooltipText(): string {\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && Util.isDefined(this._fControl.errors) && this.oMatErrorChildren && this.oMatErrorChildren.length > 0) {\n      let result: string = '';\n      this.oMatErrorChildren.forEach((oMatError: OMatErrorComponent) => {\n        result += `${oMatError.text}\\n`;\n      });\n      return result;\n    }\n    return super.getTooltipText();\n  }\n\n  protected parsePermissions(): void {\n    // if oattr in form, it can have permissions\n    if (!this.form || !Util.isDefined(this.form.oattr)) {\n      return;\n    }\n    const permissions: OPermissions = this.form.getFormComponentPermissions(this.oattr);\n    if (!Util.isDefined(permissions)) {\n      return;\n    }\n    if (permissions.visible === false) {\n      /* hide input per permissions */\n      this.elRef.nativeElement.remove();\n      this.destroy();\n    } else if (permissions.enabled === false) {\n      /* disable input per permissions */\n      this.enabled = false;\n      if (this.form) {\n        this.form.registerFormComponent(this);\n      }\n    }\n    this.permissions = permissions;\n  }\n\n  protected getMutationObserverTarget(): any {\n    let result;\n    try {\n      result = this.elementRef.nativeElement.getElementsByTagName('input').item(0);\n    } catch (error) {\n      //\n    }\n    return result;\n  }\n\n  protected setSuffixClass(count: number): void {\n    const iconFieldEl = this.elRef.nativeElement.getElementsByClassName('icon-field');\n    if (iconFieldEl.length === 1) {\n      const classList = [].slice.call(iconFieldEl[0].classList);\n      classList.forEach(className => {\n        if (className.startsWith('icon-field-')) {\n          iconFieldEl[0].classList.remove(className);\n        }\n      });\n      if (count > 0) {\n        const matSuffixClass = `icon-field-${count}-suffix`;\n        iconFieldEl[0].classList.add(matSuffixClass);\n      }\n    }\n  }\n\n  /**\n   * Do not allow the disabled attribute to change by code or by inspector\n   */\n  private disableFormControl(): void {\n    const control = this.getFormControl();\n    control.disable({\n      onlySelf: true,\n      emitEvent: false\n    });\n  }\n\n}\n","import { ElementRef, EventEmitter, Injector, NgZone } from '@angular/core';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { DialogService } from '../../services/dialog.service';\nimport { OntimizeService } from '../../services/ontimize/ontimize.service';\nimport { FormValueOptions } from '../../types/form-value-options.type';\nimport { Codes } from '../../util/codes';\nimport { ServiceUtils } from '../../util/service.utils';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  // static-data [Array<any>] : way to populate with static data. Default: no value.\n  'staticData: static-data',\n  'entity',\n  'service',\n  'columns',\n  'valueColumn: value-column',\n  'valueColumnType: value-column-type',\n  'parentKeys: parent-keys',\n  // Visible columns into selection dialog from parameter 'columns'. With empty parameter all columns are visible.\n  'visibleColumns: visible-columns',\n  // Visible columns in text field. By default, it is the parameter value of visible columns.\n  'descriptionColumns: description-columns',\n\n  'separator',\n\n  'queryOnInit: query-on-init',\n  'queryOnBind: query-on-bind',\n  'queryOnEvent: query-on-event',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  'serviceType: service-type',\n\n  // query-with-null-parent-keys [string][yes|no|true|false]: Indicates whether or not to trigger query method when parent-keys filter is null. Default: false\n  'queryWithNullParentKeys: query-with-null-parent-keys',\n\n  // set-value-on-value-change [string]: Form component attributes whose value will be set when the value of the current component changes due to user interaction. Separated by ';'. Accepted format: attr | columnName:attr\n  'setValueOnValueChange: set-value-on-value-change',\n\n  // [function]: function to execute on query error. Default: no value.\n  'queryFallbackFunction: query-fallback-function'\n  // ,\n\n  // 'insertFallbackFunction: insert-fallback-function',\n\n  // 'updateFallbackFunction: update-fallback-function',\n\n  // 'deleteFallbackFunction: delete-fallback-function'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  'onSetValueOnValueChange',\n  'onDataLoaded'\n];\n\nexport class OFormServiceComponent extends OFormDataComponent {\n\n  /* Inputs */\n  protected staticData: Array<any>;\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected valueColumn: string;\n  protected valueColumnType: string = Codes.TYPE_INT;\n  protected parentKeys: string;\n  protected visibleColumns: string;\n  protected descriptionColumns: string;\n  protected separator: string = Codes.SPACE_SEPARATOR;\n  @InputConverter()\n  protected queryOnInit: boolean = true;\n  @InputConverter()\n  protected queryOnBind: boolean = false;\n  protected queryOnEvent: any;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n  @InputConverter()\n  queryWithNullParentKeys: boolean = false;\n  public setValueOnValueChange: string;\n  public queryFallbackFunction: (error: any) => void;\n  // public insertFallbackFunction: Function;\n  // public updateFallbackFunction: Function;\n  // public deleteFallbackFunction: Function;\n\n  /* Outputs */\n  public onSetValueOnValueChange: EventEmitter<object> = new EventEmitter<object>();\n  public onDataLoaded: EventEmitter<object> = new EventEmitter<object>();\n\n  /* Internal variables */\n  protected dataArray: any[] = [];\n  protected colArray: string[] = [];\n  protected visibleColArray: string[] = [];\n  protected descriptionColArray: string[] = [];\n  protected dataService: OntimizeService;\n  public loaderSubscription: Subscription;\n  loading: boolean = false;\n\n  protected querySuscription: Subscription;\n  protected cacheQueried: boolean = false;\n  protected _pKeysEquiv = {};\n  protected _setValueOnValueChangeEquiv = {};\n  protected _formDataSubcribe;\n  protected _currentIndex;\n  protected dialogService: DialogService;\n\n  protected queryOnEventSubscription: Subscription;\n  public delayLoad = 250;\n  public loadingSubject = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.form = form;\n    this.elRef = elRef;\n    this.dialogService = injector.get(DialogService);\n  }\n\n  initialize() {\n    super.initialize();\n\n    this.cacheQueried = false;\n    this.colArray = Util.parseArray(this.columns, true);\n\n    this.visibleColArray = Util.parseArray(this.visibleColumns, true);\n    if (Util.isArrayEmpty(this.visibleColArray)) {\n      // It is necessary to assing value to visibleColumns to propagate the parameter.\n      this.visibleColumns = this.columns;\n      this.visibleColArray = this.colArray;\n    }\n\n    this.descriptionColArray = Util.parseArray(this.descriptionColumns);\n    if (Util.isArrayEmpty(this.descriptionColArray)) {\n      this.descriptionColArray = this.visibleColArray;\n    }\n\n    const pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n\n    const setValueSetArray = Util.parseArray(this.setValueOnValueChange);\n    this._setValueOnValueChangeEquiv = Util.parseParentKeysEquivalences(setValueSetArray);\n\n    if (this.form && this.queryOnBind) {\n      const self = this;\n      this._formDataSubcribe = this.form.onDataLoaded.subscribe(() => self.queryData());\n    }\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n    }\n\n    if (this.queryOnEvent !== undefined && this.queryOnEvent.subscribe !== undefined) {\n      const self = this;\n      this.queryOnEventSubscription = this.queryOnEvent.subscribe((value) => {\n        if (Util.isDefined(value) || this.queryWithNullParentKeys) {\n          self.queryData();\n        }\n      });\n    }\n\n    if (typeof this.queryFallbackFunction !== 'function') {\n      this.queryFallbackFunction = undefined;\n    }\n    // if (typeof this.insertFallbackFunction !== 'function') {\n    //   this.insertFallbackFunction = undefined;\n    // }\n    // if (typeof this.updateFallbackFunction !== 'function') {\n    //   this.updateFallbackFunction = undefined;\n    // }\n    // if (typeof this.deleteFallbackFunction !== 'function') {\n    //   this.deleteFallbackFunction = undefined;\n    // }\n  }\n\n  destroy() {\n    super.destroy();\n    if (this._formDataSubcribe) {\n      this._formDataSubcribe.unsubscribe();\n    }\n    if (this.queryOnEventSubscription) {\n      this.queryOnEventSubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue) {\n    super.emitOnValueChange(type, newValue, oldValue);\n    // Set value for 'set-value-on-value-change' components\n    const record = this.getSelectedRecord();\n    this.onSetValueOnValueChange.emit(record);\n    const setValueSetKeys = Object.keys(this._setValueOnValueChangeEquiv);\n    if (setValueSetKeys.length) {\n      const formComponents = this.form.getComponents();\n      if (Util.isDefined(record)) {\n        setValueSetKeys.forEach(key => {\n          const comp = formComponents[this._setValueOnValueChangeEquiv[key]];\n          if (Util.isDefined(comp)) {\n            comp.setValue(record[key]);\n          }\n        });\n      }\n    }\n  }\n\n  /* Utility methods */\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get<any>(loadingService);\n\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  getAttributesValuesToQuery(columns?: Array<any>) {\n    const result = Util.isDefined(columns) ? columns : this.colArray;\n    if (result.indexOf(this.valueColumn) === -1) {\n      result.push(this.valueColumn);\n    }\n    return result;\n  }\n\n  queryData(filter?: any) {\n    if (!this.dataService || !(this.queryMethod in this.dataService) || !this.entity) {\n      console.warn('Service not properly configured! aborting query');\n      return;\n    }\n    filter = Object.assign(filter || {}, ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form));\n    if (!ServiceUtils.filterContainsAllParentKeys(filter, this._pKeysEquiv) && !this.queryWithNullParentKeys) {\n      this.setDataArray([]);\n    } else {\n      if (this.querySuscription) {\n        this.querySuscription.unsubscribe();\n      }\n      if (this.loaderSubscription) {\n        this.loaderSubscription.unsubscribe();\n      }\n\n      const queryCols = this.getAttributesValuesToQuery();\n\n      this.loaderSubscription = this.load();\n      this.querySuscription = this.dataService[this.queryMethod](filter, queryCols, this.entity)\n        .subscribe((resp: ServiceResponse) => {\n          if (resp.isSuccessful()) {\n            this.cacheQueried = true;\n            this.setDataArray(resp.data);\n          }\n          // window.setTimeout(() => { this.loading = false; self.loadingSubject.next(false); self.loaderSubscription.unsubscribe(); }, 10000);\n          this.loadingSubject.next(false);\n          this.loaderSubscription.unsubscribe();\n        }, err => {\n          console.error(err);\n          this.loadingSubject.next(false);\n          this.loaderSubscription.unsubscribe();\n          if (Util.isDefined(this.queryFallbackFunction)) {\n            this.queryFallbackFunction(err);\n          } else if (err && !Util.isObject(err)) {\n            this.dialogService.alert('ERROR', err);\n          } else {\n            this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n          }\n        });\n    }\n  }\n\n  getDataArray(): any[] {\n    return this.dataArray;\n  }\n\n  setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataArray = data;\n      this.syncDataIndex(false);\n    } else if (Util.isObject(data) && Object.keys(data).length > 0) {\n      this.dataArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or not empty Object');\n      this.dataArray = [];\n    }\n    this.onDataLoaded.emit(this.dataArray);\n  }\n\n  syncDataIndex(queryIfNotFound: boolean = true) {\n    this._currentIndex = undefined;\n    if (this.value && this.value.value && this.dataArray) {\n      const self = this;\n      this.dataArray.forEach((item, index) => {\n        if (this.value.value instanceof Array) {\n          this._currentIndex = [];\n          this.value.value.forEach((itemValue, indexValue) => {\n            if (item[self.valueColumn] === itemValue) {\n              this._currentIndex[this._currentIndex.length] = indexValue;\n            }\n          });\n        } else if (item[self.valueColumn] === this.value.value) {\n          self._currentIndex = index;\n        }\n        if (item[self.valueColumn] === this.value.value) {\n          self._currentIndex = index;\n        }\n      });\n\n      if (this._currentIndex === undefined && queryIfNotFound) {\n        if (this.queryOnBind && this.dataArray && this.dataArray.length === 0\n          && !this.cacheQueried && !this.isEmpty()) {\n          this.queryData();\n        }\n        return;\n      }\n    }\n  }\n\n  protected parseByValueColumnType(val: any) {\n    let value = val;\n\n    if (this.valueColumnType === Codes.TYPE_INT) {\n      const parsed = parseInt(value, 10);\n      if (!isNaN(parsed)) {\n        value = parsed;\n      }\n    }\n    return value;\n  }\n\n  setValue(val: any, options?: FormValueOptions) {\n    const value = this.parseByValueColumnType(val);\n    super.setValue(value, options);\n  }\n\n  setData(val: any) {\n    const value = this.parseByValueColumnType(val);\n    super.setData(value);\n  }\n\n  getSelectedRecord() {\n    let result;\n    const selectedValue = this.getValue();\n    if (Util.isDefined(selectedValue)) {\n      result = this.getDataArray().find(item => item[this.valueColumn] === selectedValue);\n    }\n    return result;\n  }\n\n  load(): any {\n    const self = this;\n    const zone = this.injector.get(NgZone);\n    const loadObservable = new Observable(observer => {\n      const timer = window.setTimeout(() => {\n        observer.next(true);\n      }, self.delayLoad);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          observer.next(false);\n          self.loading = false;\n        });\n      };\n\n    });\n    const subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loading = val as boolean;\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  onFormControlChange(value: any) {\n    if (this.oldValue === value) {\n      return;\n    }\n    super.onFormControlChange(value);\n  }\n\n}\n","import { Directive, ElementRef, Host, Input, OnDestroy, Optional, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OFormServiceComponent } from '../components/input/o-form-service-component.class';\n\nexport const DEFAULT_INPUTS_O_LOCKER = [\n  'oLockerMode',\n  /*Default:250ms*/\n  'oLockerDelay'\n];\n\n@Directive({\n  selector: '[oLocker]',\n  inputs: DEFAULT_INPUTS_O_LOCKER\n})\n\nexport class OLockerDirective implements OnDestroy {\n\n  private loadingParentDiv;\n  private componentDiv;\n\n  private _oLockerMode = 'disable';\n  private subscription: Subscription;\n\n  constructor(\n    private element: ElementRef,\n    private renderer: Renderer2,\n    @Optional() @Host() private parent: OFormServiceComponent\n  ) {\n    if (parent) {\n      this.subscription = parent.loadingSubject.subscribe(x => this.manageLockerMode(x));\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  private manageLockerMode(loading: boolean): void {\n    if (this._oLockerMode === 'load') {\n      this.manageLoadMode(loading);\n    } else {\n      this.manageDisableMode(loading);\n    }\n  }\n\n  private manageDisableMode(loading: boolean): void {\n    if (loading) {\n      this.parent.enabled = false;\n    } else {\n      this.parent.enabled = true;\n    }\n  }\n\n  private manageLoadMode(loading: boolean): void {\n    if (loading) {\n      this.addLoading();\n    } else {\n      this.removeLoading();\n    }\n  }\n\n  private addLoading(): void {\n    this.componentDiv = this.element.nativeElement.children[0]; // set opacity in componentDiv\n    this.loadingParentDiv = this.renderer.createElement('div');\n    const loaderChild1 = this.renderer.createElement('div');\n    const loaderChild2 = this.renderer.createElement('div');\n    const loaderChild3 = this.renderer.createElement('div');\n    const loaderChild4 = this.renderer.createElement('div');\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild4);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild3);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild2);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild1);\n    this.renderer.insertBefore(this.element.nativeElement, this.loadingParentDiv, this.componentDiv);\n    this.renderer.addClass(this.loadingParentDiv, 'o-loading');\n    this.renderer.addClass(this.element.nativeElement, 'relative');\n    this.renderer.setStyle(this.componentDiv, 'opacity', '0.6');\n  }\n\n  private removeLoading(): void {\n    if (this.loadingParentDiv) {\n      this.renderer.removeChild(this.element.nativeElement, this.loadingParentDiv);\n      this.renderer.removeClass(this.element.nativeElement, 'relative');\n      this.renderer.removeStyle(this.componentDiv, 'opacity');\n    }\n  }\n\n  @Input()\n  set oLockerMode(value: 'load' | 'disabled') {\n    this._oLockerMode = value;\n  }\n\n  @Input()\n  set oLockerDelay(value: number) {\n    this.parent.delayLoad = value;\n  }\n\n}\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\n\nexport type OTabMode = 'ontimize' | 'material';\n\n@Directive({\n  selector: '[oHidden]'\n})\nexport class OHiddenDirective {\n  constructor(el: ElementRef, renderer: Renderer2) {\n    renderer.setStyle(el.nativeElement, 'display', 'none');\n  }\n}\n","import { Directive, ElementRef, Input, Renderer2 } from '@angular/core';\n\nexport type OTabMode = 'ontimize' | 'material';\n\n@Directive({\n  selector: '[oTabGroup]'\n})\nexport class OTabGroupDirective {\n\n  protected static OTabModes = {\n    ontimize: 'o-tab-ontimize',\n    material: 'o-tab-material'\n  };\n\n  protected _mode: OTabMode = 'ontimize';\n  protected _defaultMode: OTabMode = 'ontimize';\n\n  @Input('oTabGroup')\n  set mode(mode: OTabMode) {\n    this._mode = mode;\n    this.applyMode();\n  }\n\n  get mode(): OTabMode {\n    return this._mode;\n  }\n\n  constructor(protected renderer: Renderer2, protected el: ElementRef) { }\n\n  protected applyMode(mode?: OTabMode): void {\n    this.renderer.removeClass(this.el.nativeElement, OTabGroupDirective.OTabModes.material);\n    this.renderer.removeClass(this.el.nativeElement, OTabGroupDirective.OTabModes.ontimize);\n    this.renderer.addClass(this.el.nativeElement, OTabGroupDirective.OTabModes[this.mode || this._defaultMode]);\n  }\n\n}\n","import { OListItemDirective } from '../components/list/list-item/o-list-item.directive';\nimport { OKeyboardListenerDirective } from '../directives/keyboard-listener.directive';\nimport { OLockerDirective } from '../directives/locker.directive';\nimport { OHiddenDirective } from '../directives/o-hidden.directive';\nimport { OTabGroupDirective } from '../directives/o-tab-group.directive';\n\nexport const ONTIMIZE_DIRECTIVES = [\n  // Ontimize directives...\n  OKeyboardListenerDirective,\n  OListItemDirective,\n  OTabGroupDirective,\n  OLockerDirective,\n  OHiddenDirective\n];\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'columnsfilter'\n})\n\nexport class ColumnsFilterPipe implements PipeTransform {\n\n  filterValue: string;\n  filterColumns: Array<string>;\n\n  transform(value: Array<any>, args: any): any {\n    if (!args || args.length <= 1) {\n      return value;\n    }\n\n    this.filterValue = args['filtervalue'] ? args['filtervalue'] : '';\n    this.filterColumns = args['filtercolumns'];\n\n    if (!this.filterColumns || !this.filterValue || this.filterValue.length === 0) {\n      return value;\n    }\n\n    if (value === undefined || value === null) {\n      return value;\n    }\n\n    const that = this;\n    return value.filter((item) => {\n      for (let i = 0; i < that.filterColumns.length; i++) {\n        const colName = that.filterColumns[i];\n        if (this._isBlank(colName)) {\n          continue;\n        }\n        let origValue = item[colName];\n        if (origValue) {\n          origValue = origValue.toString();\n          if (this._isBlank(origValue)) {\n            continue;\n          }\n\n          if (origValue.toUpperCase().indexOf(that.filterValue.toUpperCase()) > -1) {\n            return item;\n          }\n        }\n      }\n    });\n  }\n\n  _isBlank(value: string): boolean {\n    if (value === undefined || value === null\n      || value.length === 0) {\n      return true;\n    }\n    return false;\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { AppConfig } from '../config/app-config';\nimport { Config } from '../types/config.type';\nimport { Util } from '../util/util';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NumberService {\n\n  public static DEFAULT_DECIMAL_DIGITS = 2;\n\n  protected _grouping: boolean;\n  protected _minDecimalDigits: number;\n  protected _maxDecimalDigits: number;\n  protected _locale: string;\n  private _config: Config;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    // TODO: initialize from config\n    this._minDecimalDigits = NumberService.DEFAULT_DECIMAL_DIGITS;\n    this._maxDecimalDigits = NumberService.DEFAULT_DECIMAL_DIGITS;\n\n    this._grouping = true;\n    this._locale = this._config.locale;\n  }\n\n  get grouping(): boolean {\n    return this._grouping;\n  }\n\n  set grouping(value: boolean) {\n    this._grouping = value;\n  }\n\n  get minDecimalDigits(): number {\n    return this._minDecimalDigits;\n  }\n\n  set minDecimalDigits(value: number) {\n    this._minDecimalDigits = value;\n  }\n\n  get maxDecimalDigits(): number {\n    return this._maxDecimalDigits;\n  }\n\n  set maxDecimalDigits(value: number) {\n    this._maxDecimalDigits = value;\n  }\n\n  get locale(): string {\n    return this._locale;\n  }\n\n  set locale(value: string) {\n    this._locale = value;\n  }\n\n  getIntegerValue(value: any, args: any) {\n    const grouping = args ? args.grouping : undefined;\n    if (!Util.isDefined(value) && !Util.isDefined(grouping) || !grouping) {\n      return value;\n    }\n    const thousandSeparator = args ? args.thousandSeparator : undefined;\n    const locale = args ? args.locale : undefined;\n    // Ensure value is an integer\n    const intValue: any = parseInt(value, 10);\n    if (isNaN(intValue)) {\n      return void 0;\n    }\n    // Format value\n    let formattedIntValue;\n    if (Util.isDefined(locale)) {\n      formattedIntValue = new Intl.NumberFormat(locale).format(intValue);\n    } else if (!Util.isDefined(thousandSeparator)) {\n      formattedIntValue = new Intl.NumberFormat(this._locale).format(intValue);\n    } else {\n      formattedIntValue = String(intValue).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandSeparator);\n    }\n    return formattedIntValue;\n  }\n\n  getRealValue(value: any, args: any) {\n    const grouping = args ? args.grouping : undefined;\n    if (!Util.isDefined(value) && !Util.isDefined(grouping) || !grouping) {\n      return value;\n    }\n    const locale = args ? args.locale : undefined;\n    const thousandSeparator = args ? args.thousandSeparator : undefined;\n    const decimalSeparator = args ? args.decimalSeparator : undefined;\n\n    let minDecimalDigits = args ? args.minDecimalDigits : undefined;\n    let maxDecimalDigits = args ? args.maxDecimalDigits : undefined;\n\n    if (!Util.isDefined(minDecimalDigits)) {\n      minDecimalDigits = this._minDecimalDigits;\n    }\n    if (!Util.isDefined(maxDecimalDigits)) {\n      maxDecimalDigits = this._maxDecimalDigits;\n    }\n\n    let formattedRealValue = value;\n    const formatterArgs = {\n      minimumFractionDigits: minDecimalDigits,\n      maximumFractionDigits: maxDecimalDigits\n    };\n\n    if (Util.isDefined(locale)) {\n      formattedRealValue = new Intl.NumberFormat(locale, formatterArgs).format(value);\n    } else if (!Util.isDefined(thousandSeparator) || !Util.isDefined(decimalSeparator)) {\n      formattedRealValue = new Intl.NumberFormat(this._locale, formatterArgs).format(value);\n    } else {\n      const realValue = parseFloat(value);\n      if (!isNaN(realValue)) {\n        formattedRealValue = String(realValue);\n        let tmpStr = realValue.toFixed(maxDecimalDigits);\n        tmpStr = tmpStr.replace('.', decimalSeparator);\n        if (grouping) {\n          const parts = tmpStr.split(decimalSeparator);\n          if (parts.length > 0) {\n            parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandSeparator);\n            formattedRealValue = parts.join(decimalSeparator);\n          }\n        } else {\n          formattedRealValue = tmpStr;\n        }\n      }\n    }\n    return formattedRealValue;\n  }\n\n  getPercentValue(value: any, args: any) {\n    const valueBase = args ? args.valueBase : undefined;\n    let parsedValue = value;\n    switch (valueBase) {\n      case 100:\n        break;\n      case 1:\n      default:\n        parsedValue = parsedValue * 100;\n        break;\n    }\n    const formattedPercentValue = this.getRealValue(parsedValue, args) + ' %';\n    return formattedPercentValue;\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { Util } from '../util/util';\nimport { NumberService } from './number.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CurrencyService {\n\n  public static DEFAULT_CURRENCY_SYMBOL = '$';\n  public static DEFAULT_CURRENCY_SYMBOL_POSITION = 'left';\n\n  protected _numberService: NumberService;\n\n  protected _symbol: string;\n  protected _symbolPosition: string;\n\n  constructor(protected injector: Injector) {\n    this._numberService = this.injector.get(NumberService);\n    // TODO: initialize from config\n    this._symbol = CurrencyService.DEFAULT_CURRENCY_SYMBOL;\n    this._symbolPosition = CurrencyService.DEFAULT_CURRENCY_SYMBOL_POSITION;\n  }\n\n  get symbol(): string {\n    return this._symbol;\n  }\n\n  set symbol(value: string) {\n    this._symbol = value;\n  }\n\n  get symbolPosition(): string {\n    return this._symbolPosition;\n  }\n\n  set symbolPosition(value: string) {\n    this._symbolPosition = value;\n  }\n\n  getCurrencyValue(value: any, args: any) {\n    let symbol = args ? args.currencySimbol : undefined;\n    let symbolPosition = args ? args.currencySymbolPosition : undefined;\n\n    if (!Util.isDefined(symbol)) {\n      symbol = this._symbol;\n    }\n    if (!Util.isDefined(symbolPosition)) {\n      symbolPosition = this._symbolPosition;\n    }\n    let currencyValue = this._numberService.getRealValue(value, args);\n    switch (symbolPosition) {\n      case 'left':\n        currencyValue = symbol + ' ' + currencyValue;\n        break;\n      case 'right':\n        currencyValue = currencyValue + ' ' + symbol;\n        break;\n    }\n    return currencyValue;\n  }\n\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\n\nimport { CurrencyService } from '../services/currency.service';\n\nexport interface ICurrencyPipeArgument {\n  currencySimbol?: string;\n  currencySymbolPosition?: string;\n  grouping?: boolean;\n  thousandSeparator?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n}\n\n@Pipe({\n  name: 'oCurrency'\n})\nexport class OCurrencyPipe implements PipeTransform {\n\n  protected currencyService: CurrencyService;\n  constructor(protected injector: Injector) {\n    this.currencyService = this.injector.get(CurrencyService);\n  }\n\n  transform(text: string, args: ICurrencyPipeArgument): string {\n    return this.currencyService.getCurrencyValue(text, args);\n  }\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\n\nimport { NumberService } from '../services/number.service';\n\nexport interface IIntegerPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n}\n\n@Pipe({\n  name: 'oInteger'\n})\n\nexport class OIntegerPipe implements PipeTransform {\n\n  protected numberService: NumberService;\n\n  constructor(protected injector: Injector) {\n    this.numberService = this.injector.get(NumberService);\n  }\n\n  transform(text: string, args: IIntegerPipeArgument): string {\n    return this.numberService.getIntegerValue(text, args);\n  }\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\n\nimport { MomentService } from '../services/moment.service';\n\nexport interface IMomentPipeArgument {\n  format?: string;\n}\n\n@Pipe({\n  name: 'oMoment'\n})\n\nexport class OMomentPipe implements PipeTransform {\n\n  protected momentService: MomentService;\n\n  constructor(protected injector: Injector) {\n    this.momentService = this.injector.get(MomentService);\n  }\n\n  transform(value: any, args: IMomentPipeArgument) {\n    const format = args.format;\n    return this.momentService.parseDate(value, format);\n  }\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\n\nimport { OIntegerPipe } from './o-integer.pipe';\n\nexport interface IRealPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n}\n\n@Pipe({\n  name: 'oReal'\n})\nexport class ORealPipe extends OIntegerPipe implements PipeTransform {\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  transform(text: string, args: IRealPipeArgument): string {\n    return this.numberService.getRealValue(text, args);\n  }\n\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\n\nimport { ORealPipe } from './o-real.pipe';\n\nexport type OPercentageValueBaseType = 1 | 100;\n\nexport interface IPercentPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n  valueBase?: OPercentageValueBaseType;\n}\n\n@Pipe({\n  name: 'oPercent'\n})\nexport class OPercentPipe extends ORealPipe implements PipeTransform {\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  transform(text: string, args: IPercentPipeArgument): string {\n    args.valueBase = this.parseValueBase(args.valueBase);\n    return this.numberService.getPercentValue(text, args);\n  }\n\n  protected parseValueBase(value: OPercentageValueBaseType): OPercentageValueBaseType {\n    const parsed = parseInt(value as any, 10);\n    if (parsed === 1 || parsed === 100) {\n      return parsed;\n    }\n    return 1;\n  }\n\n}\n","import { ChangeDetectorRef, Injector, ModuleWithProviders, NgModule, OnDestroy, Pipe, PipeTransform } from '@angular/core';\n\nimport { OTranslateService } from '../services/translate/o-translate.service';\nimport { Util } from '../util/util';\n\nexport interface ITranslatePipeArgument {\n  values?: any[];\n}\n\n@Pipe({\n  name: 'oTranslate',\n  pure: false // required to update the value when the promise is resolved\n})\nexport class OTranslatePipe implements PipeTransform, OnDestroy {\n\n  public value: string = '';\n  public lastKey: string;\n  public lastParams: any;\n\n  public onLanguageChanged: any; // Change this from EventEmitter<any> to any because Error: Type 'Subscription' is missing the following properties from type 'EventEmitter<any>': emit, subscribe, observers, isStopped, and 15 more.\n\n  protected oTranslateService: OTranslateService;\n  protected _ref: ChangeDetectorRef;\n\n  constructor(protected injector: Injector) {\n    this._ref = this.injector.get(ChangeDetectorRef);\n    this.oTranslateService = this.injector.get(OTranslateService);\n  }\n\n  public ngOnDestroy(): void {\n    this._dispose();\n  }\n\n  public transform(text: string, args?: ITranslatePipeArgument): string {\n    if (!text || text.length === 0) {\n      return text;\n    }\n\n    // if we ask another time for the same key, return the last value\n    if (Util.equals(text, this.lastKey) && Util.equals(args, this.lastParams)) {\n      return this.value;\n    }\n\n    // store the query, in case it changes\n    this.lastKey = text;\n\n    // store the params, in case they change\n    this.lastParams = args;\n\n    // set the value\n    this.updateValue(text);\n\n    // if there is a subscription to onLanguageChanged, clean it\n    this._dispose();\n\n    // subscribe to onLanguageChanged event, in case the language changes\n    if (!this.onLanguageChanged) {\n      this.onLanguageChanged = this.oTranslateService.onLanguageChanged.subscribe(lang => {\n        if (this.lastKey) {\n          this.lastKey = null; // we want to make sure it doesn't return the same value until it's been updated\n          this.updateValue(text);\n        }\n      });\n    }\n    return this.value;\n  }\n\n  public updateValue(key: string): void {\n    const args = Util.isDefined(this.lastParams) ? this.lastParams.values || [] : [];\n\n    const res = this.oTranslateService.get(key, args);\n    this.value = res !== undefined ? res : key;\n    this.lastKey = key;\n    this._ref.markForCheck();\n  }\n\n  protected _dispose(): void {\n    if (typeof this.onLanguageChanged !== 'undefined') {\n      this.onLanguageChanged.unsubscribe();\n      this.onLanguageChanged = undefined;\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OTranslatePipe],\n  imports: [],\n  exports: [OTranslatePipe]\n})\nexport class OTranslateModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: OTranslateModule,\n      providers: []\n    };\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'orderBy', pure: false })\n\nexport class OrderByPipe implements PipeTransform {\n\n  static _orderByComparator(a: any, b: any): number {\n\n    if ((isNaN(parseFloat(a)) || !isFinite(a)) || (isNaN(parseFloat(b)) || !isFinite(b))) {\n      // Isn't a number so lowercase the string to properly compare\n      if (a.toLowerCase() < b.toLowerCase()) { return -1; }\n      if (a.toLowerCase() > b.toLowerCase()) { return 1; }\n    } else {\n      // Parse strings as numbers to compare properly\n      if (parseFloat(a) < parseFloat(b)) { return -1; }\n      if (parseFloat(a) > parseFloat(b)) { return 1; }\n    }\n\n    return 0; // equal each other\n  }\n\n  transform(input: any, [config = '+']): any {\n\n    if (!Array.isArray(input)) { return input; }\n\n    if (!Array.isArray(config) || (Array.isArray(config) && config.length === 1)) {\n      const propertyToCheck: string = !Array.isArray(config) ? config : config[0];\n      const desc = propertyToCheck.substr(0, 1) === '-';\n\n      // Basic array\n      if (!propertyToCheck || propertyToCheck === '-' || propertyToCheck === '+') {\n        return !desc ? input.sort() : input.sort().reverse();\n      } else {\n        const property: string = propertyToCheck.substr(0, 1) === '+' || propertyToCheck.substr(0, 1) === '-'\n          ? propertyToCheck.substr(1)\n          : propertyToCheck;\n\n        return input.sort((a: any, b: any) => {\n          return !desc\n            ? OrderByPipe._orderByComparator(a[property], b[property])\n            : -OrderByPipe._orderByComparator(a[property], b[property]);\n        });\n      }\n    } else {\n      // Loop over property of the array in order and sort\n      return input.sort((a: any, b: any) => {\n        for (let i: number = 0; i < config.length; i++) {\n          const desc = config[i].substr(0, 1) === '-';\n          const property = config[i].substr(0, 1) === '+' || config[i].substr(0, 1) === '-'\n            ? config[i].substr(1)\n            : config[i];\n\n          let comparison = !desc\n            ? OrderByPipe._orderByComparator(a[property], b[property])\n            : -OrderByPipe._orderByComparator(a[property], b[property]);\n\n          // Don't return 0 yet in case of needing to sort by next property\n          if (comparison = 0) { return comparison; }\n        }\n\n        return 0; // equal each other\n      });\n    }\n  }\n}\n\n","import { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { NavigationStart, Router } from '@angular/router';\n\nimport { AppConfig } from '../config/app-config';\nimport { ILocalStorageComponent } from '../interfaces/local-storage-component.interface';\nimport { Config } from '../types/config.type';\nimport { SessionInfo } from '../types/session-info.type';\nimport { ObservableWrapper } from '../util/async';\nimport { Util } from '../util/util';\nimport { LoginStorageService } from './login-storage.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalStorageService {\n  static COMPONENTS_STORAGE_KEY: string = 'components';\n  static USERS_STORAGE_KEY: string = 'users';\n  static SESSION_STORAGE_KEY: string = 'session';\n\n  public onRouteChange: EventEmitter<any> = new EventEmitter();\n  public onSetLocalStorage: EventEmitter<any> = new EventEmitter();\n\n  private _config: Config;\n  private _router: Router;\n  private loginStorageService: LoginStorageService;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this._router = this.injector.get(Router);\n    this.loginStorageService = this.injector.get(LoginStorageService);\n\n    const self = this;\n    this._router.events.subscribe(event => {\n      if (event instanceof NavigationStart) {\n        ObservableWrapper.callEmit(self.onRouteChange, {});\n      }\n    });\n  }\n\n  getComponentStorage(comp: ILocalStorageComponent, routeKey?: string): object {\n    const componentKey = comp.getComponentKey();\n    let completeKey = componentKey;\n    if (routeKey) {\n      completeKey += '_' + routeKey;\n    }\n    return this.getAppComponentData(completeKey) || {};\n  }\n\n  updateComponentStorage(comp: ILocalStorageComponent, routeKey?: string) {\n    const dataToStore = comp.getDataToStore();\n    const componentKey = comp.getComponentKey();\n    if (!Util.isDefined(componentKey)) {\n      return;\n    }\n    let completeKey = componentKey;\n    if (routeKey) {\n      completeKey += '_' + routeKey;\n    }\n    const storedObject = {};\n    for (const prop in dataToStore) {\n      if (dataToStore.hasOwnProperty(prop)) {\n        storedObject[prop] = dataToStore[prop];\n      }\n    }\n    this.updateAppComponentStorage(completeKey, storedObject);\n  }\n\n  private getAppComponentData(key: string): object {\n    let componentData;\n    const storedComponents: object = this.getSessionUserComponentsData() || {};\n    if (storedComponents[key]) {\n      const decoded = atob(storedComponents[key]);\n      try {\n        componentData = JSON.parse(decoded);\n      } catch (e) {\n        componentData = undefined;\n      }\n    }\n    return componentData;\n  }\n\n  updateAppComponentStorage(componentKey: string, componentData: object) {\n    let componentDataB64;\n    try {\n      componentDataB64 = btoa(JSON.stringify(componentData));\n    } catch (e) {\n      componentDataB64 = undefined;\n    }\n    this.storeComponentInSessionUser(componentKey, componentDataB64);\n  }\n\n  public getSessionUserComponentsData(): object {\n    let storedComponentsByUser = {};\n    const appData = this.getStoredData();\n    const session: SessionInfo = appData[LocalStorageService.SESSION_STORAGE_KEY] || {};\n    const users = appData[LocalStorageService.USERS_STORAGE_KEY] || {};\n    storedComponentsByUser = (users[session.user] || {})[LocalStorageService.COMPONENTS_STORAGE_KEY] || {};\n    return storedComponentsByUser;\n  }\n\n  public storeSessionUserComponentsData(componentsData: object) {\n    const appData = this.getStoredData();\n    const session: SessionInfo = appData[LocalStorageService.SESSION_STORAGE_KEY] || {};\n    if (!Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY])) {\n      appData[LocalStorageService.USERS_STORAGE_KEY] = {};\n    }\n    const userData = appData[LocalStorageService.USERS_STORAGE_KEY][session.user] || {};\n    userData[LocalStorageService.COMPONENTS_STORAGE_KEY] = componentsData;\n    appData[LocalStorageService.USERS_STORAGE_KEY][session.user] = userData;\n    this.setLocalStorage(appData);\n  }\n\n  private storeComponentInSessionUser(componentKey, componentDataB64) {\n    const appData = this.getStoredData();\n    const session = appData[LocalStorageService.SESSION_STORAGE_KEY] || {}; // uuid -> session\n    if (!Util.isDefined(session) || !Util.isDefined(session.user)) {\n      return;\n    }\n    const users = appData[LocalStorageService.USERS_STORAGE_KEY] || {}; // uuid -> users\n    const idUser = session.user || this.loginStorageService.getSessionInfo().user;\n    const user = users[idUser] || {}; // uuid -> users-> user\n\n    let componentData = {};\n    if (users[idUser]) {\n      componentData = users[idUser][LocalStorageService.COMPONENTS_STORAGE_KEY];\n    }\n    componentData[componentKey] = componentDataB64 || {};\n\n    user[LocalStorageService.COMPONENTS_STORAGE_KEY] = componentData;\n    users[idUser] = user;\n    appData[LocalStorageService.USERS_STORAGE_KEY] = users;\n\n    this.setLocalStorage(appData);\n  }\n\n  public getStoredData(): object {\n    let appData = {};\n    const appStoredData = localStorage.getItem(this._config.uuid);\n    if (appStoredData) {\n      try {\n        appData = JSON.parse(appStoredData);\n      } catch (e) {\n        appData = {};\n      }\n    }\n    return appData;\n  }\n\n  public setBackwardCompatibility() {\n    const appData = this.getStoredData();\n    const session = appData[LocalStorageService.SESSION_STORAGE_KEY];\n    if (!Util.isDefined(session) || !Util.isDefined(session.user)) {\n      return;\n    }\n    const componentsInfo = appData[LocalStorageService.COMPONENTS_STORAGE_KEY] || {};\n    let usersObject = {};\n    const existsUsersTag = Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY]);\n    let createUserInfo = existsUsersTag;\n    if (existsUsersTag) {\n      usersObject = appData[LocalStorageService.USERS_STORAGE_KEY];\n      createUserInfo = !Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY][session.user]);\n    }\n    if (createUserInfo) {\n      usersObject[session.user] = {};\n      usersObject[session.user][LocalStorageService.COMPONENTS_STORAGE_KEY] = componentsInfo;\n\n      appData[LocalStorageService.USERS_STORAGE_KEY] = usersObject;\n      localStorage.setItem(this._config.uuid, JSON.stringify(appData));\n    }\n  }\n\n  protected setLocalStorage(appData: any) {\n    this.onSetLocalStorage.emit();\n    localStorage.setItem(this._config.uuid, JSON.stringify(appData));\n  }\n}\n\n","import { Injectable, Injector } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { OBreadcrumb } from '../types/o-breadcrumb-item.type';\n\n@Injectable({ providedIn: 'root' })\nexport class OBreadcrumbService {\n\n  public breadcrumbs$: BehaviorSubject<OBreadcrumb[]> = new BehaviorSubject([]);\n\n  constructor(protected injector: Injector) { }\n\n}\n","import { Location } from '@angular/common';\nimport { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, NavigationEnd, Router, UrlSegment } from '@angular/router';\nimport { ReplaySubject } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { ILocalStorageComponent } from '../interfaces/local-storage-component.interface';\nimport { OBreadcrumb } from '../types/o-breadcrumb-item.type';\nimport { ObservableWrapper } from '../util/async';\nimport { Codes } from '../util/codes';\nimport { Util } from '../util/util';\nimport { LocalStorageService } from './local-storage.service';\nimport { OBreadcrumbService } from './o-breadcrumb.service';\n\nexport type ONavigationRoutes = {\n  mainFormLayoutManagerComponent?: boolean;\n  isMainNavigationComponent?: boolean;\n  detailFormRoute: string;\n  editFormRoute: string;\n  insertFormRoute: string;\n};\n\nexport class ONavigationItem {\n  url: string;\n  queryParams: object;\n  activeFormMode: string;\n  formRoutes: ONavigationRoutes;\n  formLayoutRoutes: ONavigationRoutes;\n  keysValues: any;\n  queryConfiguration: any;\n\n  constructor(value: any) {\n    this.url = value.url ? value.url : '';\n    this.queryParams = value[Codes.QUERY_PARAMS] ? value[Codes.QUERY_PARAMS] : {};\n    this.formRoutes = value.formRoutes;\n    this.formLayoutRoutes = value.formLayoutRoutes;\n    this.activeFormMode = value.activeFormMode;\n    this.keysValues = value.keysValues;\n    this.queryConfiguration = value.queryConfiguration;\n  }\n\n  getActiveModePath(): string {\n    let result;\n    if (Util.isDefined(this.activeFormMode)) {\n      result = (this.formRoutes || {})[this.activeFormMode];\n    }\n    return result;\n  }\n\n  isInsertFormRoute(): boolean {\n    return this.activeFormMode === 'insertFormRoute';\n  }\n\n  getInsertFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.insertFormRoute || Codes.DEFAULT_INSERT_ROUTE) : Codes.DEFAULT_INSERT_ROUTE;\n  }\n\n  getEditFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.editFormRoute || Codes.DEFAULT_EDIT_ROUTE) : Codes.DEFAULT_EDIT_ROUTE;\n  }\n\n  getDetailFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.detailFormRoute || Codes.DEFAULT_DETAIL_ROUTE) : Codes.DEFAULT_DETAIL_ROUTE;\n  }\n\n  isMainFormLayoutManagerComponent(): boolean {\n    return Util.isDefined(this.formLayoutRoutes);\n  }\n\n  isMainNavigationComponent(): boolean {\n    return Util.isDefined(this.formRoutes) && this.formRoutes.isMainNavigationComponent;\n  }\n\n  getFormRoutes(): ONavigationRoutes {\n    return this.formRoutes;\n  }\n\n  setFormRoutes(arg: ONavigationRoutes) {\n    if (arg && arg.mainFormLayoutManagerComponent) {\n      this.formLayoutRoutes = arg;\n    } else {\n      this.formRoutes = arg;\n    }\n  }\n\n  deleteActiveFormMode() {\n    this.activeFormMode = undefined;\n  }\n}\n\nconst MAXIMIUM_NAVIGATION_HEAP_SIZE = 15;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavigationService implements ILocalStorageComponent {\n\n  public static NAVIGATION_STORAGE_KEY: string = 'nav_service';\n\n  public currentTitle: string = null;\n  public visible: boolean = true;\n\n  protected navigationItems: Array<ONavigationItem> = [];\n  protected allNavigationItems: ONavigationItem[] = [];\n\n  protected router: Router;\n\n  protected oBreadcrumbService: OBreadcrumbService;\n  protected localStorageService: LocalStorageService;\n  protected location: Location;\n\n  public navigationEvents$: ReplaySubject<Array<ONavigationItem>> = new ReplaySubject<Array<ONavigationItem>>(1);\n\n  private _titleEmitter: EventEmitter<any> = new EventEmitter();\n  private _visibleEmitter: EventEmitter<boolean> = new EventEmitter<boolean>();\n  private _sidenavEmitter: EventEmitter<any> = new EventEmitter();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.oBreadcrumbService = this.injector.get(OBreadcrumbService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.location = this.injector.get(Location);\n    this.location.subscribe(val => {\n      const previousRoute = this.getPreviousRouteData();\n      const qParams = Object.keys(previousRoute.queryParams);\n      const arr = [];\n      qParams.forEach((p) => {\n        arr.push(`${p}=${previousRoute.queryParams[p]}`);\n      });\n      let fullUrl = `/${previousRoute.url}`;\n      if (arr.length > 0) {\n        fullUrl = `/${previousRoute.url}?${arr.join('&')}`;\n      }\n      if (fullUrl === val.url) {\n        this.navigationItems.pop();\n      }\n    });\n  }\n\n  initialize(): void {\n    this.router.events.pipe(\n      filter(event => event instanceof NavigationEnd),\n      map(() => this.router.routerState.root),\n      map(route => {\n        while (route.firstChild) {\n          route = route.firstChild;\n        }\n        return route;\n      }),\n      filter(route => route.outlet === 'primary')\n    ).subscribe(this.parseNavigationItems.bind(this));\n  }\n\n  protected buildBreadcrumbsForRoute(activatedRoute: ActivatedRouteSnapshot) {\n    const breadcrumbs: OBreadcrumb[] = [];\n    let url = '';\n    let route = activatedRoute.firstChild;\n    while (route.firstChild) {\n      if (route.url.length) {\n        const pRoute = this.parseRoute(url, route);\n        breadcrumbs.push(pRoute);\n        url = pRoute.route;\n      }\n      route = route.firstChild;\n    }\n    const parsedRoute = this.parseRoute(url, route);\n    breadcrumbs.push(parsedRoute);\n\n    this.oBreadcrumbService.breadcrumbs$.next(breadcrumbs);\n  }\n\n  protected parseRoute(route: string, activatedRoute: ActivatedRouteSnapshot): OBreadcrumb {\n    let label = '';\n    for (let i = 0, len = activatedRoute.url.length; i < len; i++) {\n      const segment: UrlSegment = activatedRoute.url[i];\n      if (label.length === 0) {\n        label = label.length > 0 ? ('/' + segment.path) : segment.path;\n        route += '/' + segment.path;\n      }\n    }\n    return { route, label, queryParams: activatedRoute.queryParams };\n  }\n\n  protected parseNavigationItems() {\n    const storedNavigation: ONavigationItem[] = this.getStoredData();\n    const route: ActivatedRouteSnapshot = this.router.routerState.root.snapshot;\n    const url = this.router.routerState.snapshot.url.split('?')[0];\n    this.buildBreadcrumbsForRoute(route);\n    const lastStored: any = storedNavigation[storedNavigation.length - 1];\n    if (!lastStored || lastStored.url !== url) {\n      const navigationItem = new ONavigationItem({ url, queryParams: route.queryParams });\n\n      this.navigationItems.push(navigationItem);\n      this.setNavigationItems(this.navigationItems);\n    }\n  }\n\n  public setNavigationItems(navigationItems: ONavigationItem[]) {\n    this.navigationItems = navigationItems;\n    this.storeNavigation();\n    this.navigationEvents$.next(navigationItems);\n  }\n\n  public getDataToStore(): object {\n    return this.navigationItems;\n  }\n\n  public getComponentKey(): string {\n    return NavigationService.NAVIGATION_STORAGE_KEY;\n  }\n\n  protected storeNavigation(): void {\n    if (this.localStorageService) {\n      this.localStorageService.updateComponentStorage(this);\n    }\n  }\n\n  public setTitle(title: string): void {\n    this.currentTitle = title;\n    this._emitTitleChanged(this.currentTitle);\n  }\n\n  public setVisible(visible: boolean): void {\n    this.visible = visible;\n    this._emitVisibleChanged(this.visible);\n  }\n\n  public openSidenav() {\n    this._emitOpenSidenav();\n  }\n\n  public closeSidenav() {\n    this._emitCloseSidenav();\n  }\n\n  /**\n   * Subscribe to title updates\n   */\n  public onTitleChange(onNext: (value: any) => void): object {\n    return ObservableWrapper.subscribe(this._titleEmitter, onNext);\n  }\n\n  public onVisibleChange(onNext: (value: boolean) => void): object {\n    return ObservableWrapper.subscribe(this._visibleEmitter, onNext);\n  }\n\n  public onSidenavChange(onNext: (value: any) => void): object {\n    return ObservableWrapper.subscribe(this._sidenavEmitter, onNext);\n  }\n\n  private _emitTitleChanged(title): void {\n    ObservableWrapper.callEmit(this._titleEmitter, title);\n  }\n\n  private _emitVisibleChanged(visible): void {\n    ObservableWrapper.callEmit(this._visibleEmitter, visible);\n  }\n\n  private _emitOpenSidenav() {\n    ObservableWrapper.callEmit(this._sidenavEmitter, 'open');\n  }\n\n  private _emitCloseSidenav() {\n    ObservableWrapper.callEmit(this._sidenavEmitter, 'close');\n  }\n\n  storeFormRoutes(routes: ONavigationRoutes, activeMode: string, queryConf?: any) {\n    if (this.navigationItems.length > 0) {\n      this.navigationItems[this.navigationItems.length - 1].setFormRoutes(routes);\n      this.navigationItems[this.navigationItems.length - 1].activeFormMode = activeMode;\n      if (queryConf) {\n        this.navigationItems[this.navigationItems.length - 1].keysValues = queryConf.keysValues;\n        delete queryConf.keysValues;\n        this.navigationItems[this.navigationItems.length - 1].queryConfiguration = Object.keys(queryConf).length > 0 ? queryConf : null;\n      }\n      this.storeNavigation();\n    }\n  }\n\n  protected getStoredData(): any[] {\n    const storageData: any = this.localStorageService.getComponentStorage(this);\n    const result = [];\n    Object.keys(storageData).forEach(key => result.push(new ONavigationItem(storageData[key])));\n    return result;\n  }\n\n  getPreviousRouteData(): ONavigationItem {\n    let result: ONavigationItem;\n    const len = this.navigationItems.length;\n    if (len >= 2) {\n      result = this.navigationItems[len - 2];\n      if (result && result.formRoutes && result.formRoutes.mainFormLayoutManagerComponent && this.navigationItems[len - 3]) {\n        const parent = this.navigationItems[len - 3];\n        if (parent.isMainFormLayoutManagerComponent()) {\n          result = parent;\n        }\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Return the main navigation route data that matches the most with the current route\n   */\n  getLastMainNavigationRouteData(): ONavigationItem {\n    const routeMatches = [];\n    const items = this.navigationItems.slice().reverse()\n      .map((item, i) => {\n        let currentLocation = this.location.path().substr(1);\n        if (currentLocation.includes('?')) {\n          currentLocation = currentLocation.substring(0, currentLocation.indexOf('?'));\n        }\n\n        // Compare current route with item route and count segment matches\n        const arr1 = item.url.substr(1).split('/');\n        const arr2 = currentLocation.split('/');\n        let result = 0;\n        let index = -1;\n        while (++index <= arr1.length && index <= arr2.length) {\n          routeMatches[i] = (arr1[index] === arr2[index]) ? result++ : result;\n        }\n\n        return item;\n      });\n\n    let maxMatches = routeMatches.reduce((a, b) => Math.max(a, b));\n    const lastNavItem = this.navigationItems[this.navigationItems.length - 1];\n    if (!lastNavItem.isMainNavigationComponent() && !lastNavItem.isMainFormLayoutManagerComponent()) {\n      maxMatches--;\n    }\n    let itemResult = void 0;\n    while (!itemResult && maxMatches >= 0) {\n      itemResult = items.find((item, i) => (item.isMainNavigationComponent() || item.isMainFormLayoutManagerComponent()) && routeMatches[i] === maxMatches);\n      maxMatches--;\n    }\n    return itemResult;\n  }\n\n  removeLastItem() {\n    this.navigationItems.pop();\n    this.storeNavigation();\n  }\n\n  removeLastItemsUntilMain() {\n    const lastMain = this.getLastMainNavigationRouteData();\n    if (!Util.isDefined(lastMain)) {\n      return false;\n    }\n    const index = this.navigationItems.indexOf(lastMain);\n    this.navigationItems = this.navigationItems.slice(0, index + 1);\n    this.storeNavigation();\n    return true;\n  }\n\n  isCurrentRoute(route: string): boolean {\n    let currentRoute = this.router.routerState.snapshot.url;\n    currentRoute = currentRoute.split('?')[0];\n    return route === currentRoute;\n  }\n\n  getLastItem(): ONavigationItem {\n    let result;\n    if (this.navigationItems.length > 0) {\n      result = this.navigationItems[this.navigationItems.length - 1];\n    }\n    return result;\n  }\n\n  deleteActiveFormMode(arg: ONavigationItem) {\n    arg.deleteActiveFormMode();\n    this.storeNavigation();\n  }\n\n}\n","import { Component, Injector, ViewEncapsulation } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\n\nimport { NavigationService, ONavigationItem } from '../../../services/navigation.service';\nimport { Codes } from '../../../util/codes';\n\n@Component({\n  selector: 'o-error-403',\n  templateUrl: './o-error-403.component.html',\n  styleUrls: ['./o-error-403.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-error-403]': 'true'\n  }\n})\nexport class Error403Component {\n\n  protected router: Router;\n  protected navigationService: NavigationService;\n  protected lastPageData: ONavigationItem;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.navigationService = this.injector.get(NavigationService);\n    this.lastPageData = this.navigationService.getLastItem();\n  }\n\n  onNavigateBackClick() {\n    const extras: NavigationExtras = {};\n    let route: string = '';\n    if (this.lastPageData) {\n      extras[Codes.QUERY_PARAMS] = this.lastPageData.queryParams;\n      route = this.lastPageData.url;\n    }\n    this.router.navigate([route], extras);\n  }\n}\n\n","import { Component, forwardRef, Inject, Injector, OnInit, Optional } from '@angular/core';\n\nimport { OValidatorComponent } from './o-validator.component';\n\nexport const DEFAULT_INPUTS_O_ERROR = [\n  'name',\n  'text'\n];\n\n@Component({\n  selector: 'o-error',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_ERROR\n})\nexport class OErrorComponent implements OnInit {\n\n  name: string;\n  text: string;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OValidatorComponent)) protected oValidator: OValidatorComponent,\n    protected injector: Injector\n  ) {\n  }\n\n  ngOnInit() {\n    this.registerValidatorError();\n  }\n\n  registerValidatorError() {\n    if (this.oValidator) {\n      this.oValidator.registerError(this);\n    }\n  }\n\n  getName(): string {\n    return this.name;\n  }\n\n  getText(): string {\n    return this.text;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { MatIconRegistry } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Observable, Observer } from 'rxjs';\n\n@Injectable()\nexport class OntimizeMatIconRegistry {\n\n  public static ONTIMIZE_ICON_SET_PATH = 'assets/svg/ontimize-icon-set.svg';\n  public static ONTIMIZE_NAMESPACE = 'ontimize';\n\n  constructor(\n    protected domSanitizer: DomSanitizer,\n    protected matIconRegistry: MatIconRegistry\n  ) {\n\n  }\n\n  initialize() {\n    this.matIconRegistry.addSvgIconSetInNamespace(OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(OntimizeMatIconRegistry.ONTIMIZE_ICON_SET_PATH));\n  }\n\n  addOntimizeSvgIcon(iconName: string, url: string): MatIconRegistry {\n    this.matIconRegistry.addSvgIconInNamespace(OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE, iconName,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(url));\n    return this.matIconRegistry;\n  }\n\n  getSVGElement(iconName: string): Observable<SVGElement> {\n    return this.matIconRegistry.getNamedSvgIcon(iconName, OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE);\n  }\n\n  existsIcon(iconName: string): Observable<boolean> {\n    const self = this;\n    return new Observable<boolean>((observer: Observer<boolean>) => {\n      self.getSVGElement(iconName).subscribe((value: SVGElement) => {\n        observer.next(true);\n      }, error => {\n        observer.next(false);\n      }, () => observer.complete());\n    });\n  }\n}\n","import { MatDateFormats } from '@angular/material';\n\nexport class OntimizeMatDateFormats {\n\n  protected DEFAULT_DATE_FORMATS: MatDateFormats = {\n    parse: { dateInput: 'L' },\n    display: { dateInput: 'L', monthYearLabel: 'Y', dateA11yLabel: 'LL', monthYearA11yLabel: 'MMMM Y' }\n  };\n\n  public factory(): any {\n    return this.DEFAULT_DATE_FORMATS;\n  }\n}\n\nexport function dateFormatFactory() {\n  return new OntimizeMatDateFormats().factory();\n}\n","import { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport {\n  MAT_DATE_FORMATS,\n  MatAutocompleteModule,\n  MatButtonModule,\n  MatButtonToggleModule,\n  MatCardModule,\n  MatCheckboxModule,\n  MatChipsModule,\n  MatDatepickerModule,\n  MatDialogModule,\n  MatExpansionModule,\n  MatFormFieldModule,\n  MatGridListModule,\n  MatIconModule,\n  MatInputModule,\n  MatListModule,\n  MatMenuModule,\n  MatPaginatorModule,\n  MatProgressBarModule,\n  MatProgressSpinnerModule,\n  MatRadioModule,\n  MatRippleModule,\n  MatSelectModule,\n  MatSidenavModule,\n  MatSliderModule,\n  MatSlideToggleModule,\n  MatSnackBarModule,\n  MatSortModule,\n  MatTableModule,\n  MatTabsModule,\n  MatToolbarModule,\n  MatTooltipModule,\n} from '@angular/material';\nimport { MatMomentDateModule } from '@angular/material-moment-adapter';\n\nimport { OntimizeMatIconRegistry } from '../../services/ontimize-icon-registry.service';\nimport { dateFormatFactory } from './date/mat-date-formats.factory';\n\nconst MATERIAL_MODULES = [\n  MatAutocompleteModule,\n  MatButtonModule,\n  MatButtonToggleModule,\n  MatCardModule,\n  MatChipsModule,\n  MatCheckboxModule,\n  MatDatepickerModule,\n  MatDialogModule,\n  MatExpansionModule,\n  MatGridListModule,\n  MatIconModule,\n  MatInputModule,\n  MatFormFieldModule,\n  MatListModule,\n  MatMenuModule,\n  MatProgressBarModule,\n  MatProgressSpinnerModule,\n  MatRadioModule,\n  MatRippleModule,\n  MatSelectModule,\n  MatSidenavModule,\n  MatSliderModule,\n  MatSlideToggleModule,\n  MatSnackBarModule,\n  MatTabsModule,\n  MatToolbarModule,\n  MatTooltipModule,\n  MatMomentDateModule,\n  MatTableModule,\n  MatPaginatorModule,\n  MatSortModule,\n  OverlayModule\n  // OverlayModule,\n  // PortalModule,\n  // RtlModule,\n  // StyleModule,\n  // A11yModule,\n  // PlatformModule,\n  // MatCommonModule,\n  // ObserveContentModule\n];\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: MATERIAL_MODULES,\n  providers: [\n  //   {\n  //   provide: DateAdapter,\n  //   useClass: OntimizeMomentDateAdapter,\n  //   deps: [MAT_DATE_LOCALE]\n  // },\n   {\n    provide: MAT_DATE_FORMATS,\n    useFactory: dateFormatFactory\n  }, {\n    provide: OntimizeMatIconRegistry,\n    useClass: OntimizeMatIconRegistry\n  }]\n})\nexport class OCustomMaterialModule { }\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatFormFieldModule, MatTooltipModule } from '@angular/material';\n\nimport { OMatErrorComponent } from './o-mat-error';\n\n@NgModule({\n  declarations: [OMatErrorComponent],\n  imports: [MatTooltipModule, MatFormFieldModule, CommonModule],\n  exports: [OMatErrorComponent]\n})\nexport class OMatErrorModule {\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { ONTIMIZE_DIRECTIVES } from '../config/o-directives';\nimport { ColumnsFilterPipe } from '../pipes/columns-filter.pipe';\nimport { OCurrencyPipe } from '../pipes/o-currency.pipe';\nimport { OIntegerPipe } from '../pipes/o-integer.pipe';\nimport { OMomentPipe } from '../pipes/o-moment.pipe';\nimport { OPercentPipe } from '../pipes/o-percentage.pipe';\nimport { ORealPipe } from '../pipes/o-real.pipe';\nimport { OTranslateModule } from '../pipes/o-translate.pipe';\nimport { OrderByPipe } from '../pipes/order-by.pipe';\nimport { ODialogComponent } from './components/dialog/o-dialog.component';\nimport { Error403Component } from './components/error403/o-error-403.component';\nimport { OSnackBarComponent } from './components/snackbar/o-snackbar.component';\nimport { OErrorComponent } from './components/validation/o-error.component';\nimport { OValidatorComponent } from './components/validation/o-validator.component';\nimport { OCustomMaterialModule } from './material/custom.material.module';\nimport { OMatErrorModule } from './material/o-mat-error/o-mat-error.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    OTranslateModule,\n    FlexLayoutModule,\n    OCustomMaterialModule,\n    OMatErrorModule\n  ],\n  declarations: [\n    ColumnsFilterPipe,\n    OrderByPipe,\n    OIntegerPipe,\n    ORealPipe,\n    OMomentPipe,\n    OCurrencyPipe,\n    OPercentPipe,\n    ONTIMIZE_DIRECTIVES,\n    Error403Component,\n    ODialogComponent,\n    OErrorComponent,\n    OValidatorComponent,\n    OSnackBarComponent\n  ],\n  exports: [\n    FlexLayoutModule,\n    OMatErrorModule,\n    FormsModule,\n    ReactiveFormsModule,\n    OTranslateModule,\n    ColumnsFilterPipe,\n    OrderByPipe,\n    OIntegerPipe,\n    ORealPipe,\n    OMomentPipe,\n    OCurrencyPipe,\n    OPercentPipe,\n    ONTIMIZE_DIRECTIVES,\n    OCustomMaterialModule,\n    Error403Component,\n    OErrorComponent,\n    OValidatorComponent,\n    OSnackBarComponent\n  ],\n  entryComponents: [Error403Component]\n})\nexport class OSharedModule {\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { AppConfig } from '../config/app-config';\nimport {\n  MenuGroup,\n  MenuItem,\n  MenuItemAction,\n  MenuItemLocale,\n  MenuItemLogout,\n  MenuItemRoute,\n  MenuItemUserInfo,\n} from '../interfaces/app-menu.interface';\nimport { MenuRootItem } from '../types/menu-root-item.type';\nimport { Codes } from '../util/codes';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppMenuService {\n\n  protected _config: AppConfig;\n  protected MENU_ROOTS: MenuRootItem[];\n  protected ALL_MENU_ITEMS: MenuItem[];\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig);\n    this.MENU_ROOTS = this._config.getMenuConfiguration();\n\n    this.ALL_MENU_ITEMS = [];\n    for (let i = 0, len = this.MENU_ROOTS.length; i < len; i++) {\n      const item: MenuRootItem = this.MENU_ROOTS[i];\n      this.ALL_MENU_ITEMS = this.ALL_MENU_ITEMS.concat(this.getMenuItems(item));\n    }\n    // this.ALL_MENU_ITEMS = this.MENU_ROOTS.reduce((result, category) => result.concat(category.items), []);\n  }\n\n  getMenuRoots(): MenuRootItem[] {\n    return this.MENU_ROOTS;\n  }\n\n  getMenuRootById(id: string): MenuRootItem {\n    return this.MENU_ROOTS.find(c => c.id === id);\n  }\n\n  getAllMenuItems(): MenuItem[] {\n    return this.ALL_MENU_ITEMS;\n  }\n\n  getMenuItemById(id: string): MenuItem {\n    return this.ALL_MENU_ITEMS.find(i => i.id === id);\n  }\n\n  getMenuItemType(item: MenuRootItem): string {\n    let type: string;\n    switch (true) {\n      case ((item as MenuItemLogout).route === Codes.LOGIN_ROUTE):\n        type = 'logout';\n        break;\n      case ((item as MenuItemRoute).route !== undefined):\n        type = 'route';\n        break;\n      case ((item as MenuItemAction).action !== undefined):\n        type = 'action';\n        break;\n      case ((item as MenuItemLocale).locale !== undefined):\n        type = 'locale';\n        break;\n      case ((item as MenuItemUserInfo).user !== undefined):\n        type = 'user-info';\n        break;\n      case ((item as MenuGroup).items !== undefined):\n        type = 'group';\n        break;\n      default:\n        type = 'default';\n        break;\n    }\n    return type;\n  }\n\n  isMenuGroup(item: MenuRootItem): boolean {\n    return this.getMenuItemType(item) === 'group';\n  }\n\n  private getMenuItems(item: MenuRootItem): MenuItem[] {\n    if ((item as MenuGroup).items !== undefined) {\n      return (item as MenuGroup).items;\n    }\n    return [item];\n  }\n\n}\n","import { Component, ElementRef, Injector, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { AppMenuService } from '../../services/app-menu.service';\nimport { PermissionsService } from '../../services/permissions/permissions.service';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport { MenuRootItem } from '../../types/menu-root-item.type';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU = [\n  // title [string]: menu title. Default: no value.\n  'menuTitle: title',\n  // tooltip [string]: menu tooltip. Default: 'title' value.\n  'tooltip',\n];\n\n@Component({\n  selector: 'o-bar-menu',\n  templateUrl: './o-bar-menu.component.html',\n  styleUrls: ['./o-bar-menu.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu]': 'true'\n  }\n})\nexport class OBarMenuComponent implements OnInit {\n\n  protected permissionsService: PermissionsService;\n  protected translateService: OTranslateService;\n  private appMenuService: AppMenuService;\n  private menuRoots: MenuRootItem[];\n\n  protected _menuTitle: string;\n  protected _tooltip: string;\n  protected _id: string;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector) {\n    this.id = 'm_' + String((new Date()).getTime() + Math.random());\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRoots = this.appMenuService.getMenuRoots();\n  }\n\n\n  public ngOnInit() {\n    if (!this.tooltip) {\n      this.tooltip = this.menuTitle;\n    }\n    if (this.translateService) {\n      this.translateService.onLanguageChanged.subscribe(() => {\n        this.setDOMTitle();\n      });\n      this.setDOMTitle();\n    }\n  }\n\n  setDOMTitle() {\n    const tooltip = this.translateService.get(this.tooltip);\n    this.elRef.nativeElement.setAttribute('title', tooltip);\n  }\n\n  collapseAll() {\n    const inputs = this.elRef.nativeElement.querySelectorAll('input');\n    if (inputs) {\n      inputs.forEach(element => {\n        element.checked = false;\n      });\n    }\n    const fakeLis = this.elRef.nativeElement.querySelectorAll('.fake-li-hover');\n    if (fakeLis) {\n      fakeLis.forEach(element => {\n        element.classList.remove('fake-li-hover');\n      });\n    }\n  }\n\n  getPermissionsService(): PermissionsService {\n    return this.permissionsService;\n  }\n\n  get menuTitle(): string {\n    return this._menuTitle;\n  }\n\n  set menuTitle(val: string) {\n    this._menuTitle = val;\n  }\n\n  get tooltip(): string {\n    return this._tooltip;\n  }\n\n  set tooltip(val: string) {\n    this._tooltip = val;\n  }\n\n  get id(): string {\n    return this._id;\n  }\n\n  set id(val: string) {\n    this._id = val;\n  }\n\n  get menuItems(): MenuRootItem[] {\n    return this.menuRoots;\n  }\n}\n","import { ElementRef, HostListener, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport { OPermissions } from '../../types/o-permissions.type';\nimport { PermissionsUtils } from '../../util/permissions';\nimport { Util } from '../../util/util';\nimport { OBarMenuComponent } from './o-bar-menu.component';\n\nexport const DEFAULT_INPUTS_O_BASE_MENU_ITEM = [\n  // title [string]: menu item title. Default: no value.\n  'title',\n\n  // tooltip [string]: menu group tooltip. Default: 'title' value.\n  'tooltip',\n\n  // icon [string]: material icon. Default: no value.\n  'icon',\n\n  'attr'\n];\n\nexport class OBaseMenuItemClass implements OnInit, OnDestroy {\n\n  protected translateService: OTranslateService;\n  protected onLanguageChangeSubscription: Subscription;\n\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  title: string;\n  tooltip: string;\n  icon: string;\n  restricted: boolean;\n  disabled: boolean;\n  protected _isHovered: boolean = false;\n  attr: string;\n\n  @HostListener('mouseover') onMouseover = () => this.isHovered = true;\n  @HostListener('mouseout') onMouseout = () => this.isHovered = false;\n\n  constructor(\n    protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector) {\n\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit() {\n    if (!this.tooltip) {\n      this.tooltip = this.title;\n    }\n    if (this.translateService) {\n      this.onLanguageChangeSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n        this.setDOMTitle();\n      });\n      this.setDOMTitle();\n    }\n    this.parsePermissions();\n  }\n\n  ngOnDestroy(): void {\n    if (this.onLanguageChangeSubscription) {\n      this.onLanguageChangeSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n  }\n\n  setDOMTitle() {\n    const tooltip = this.translateService.get(this.tooltip);\n    this.elRef.nativeElement.setAttribute('title', tooltip);\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.menu.getPermissionsService().getMenuPermissions(this.attr);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.restricted = this.permissions.visible === false;\n    this.disabled = this.permissions.enabled === false;\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  get isHovered(): boolean {\n    return this._isHovered;\n  }\n\n  set isHovered(val: boolean) {\n    if (!this.disabled) {\n      this._isHovered = val;\n    }\n  }\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, ViewEncapsulation } from '@angular/core';\n\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { DEFAULT_INPUTS_O_BASE_MENU_ITEM, OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM = [\n  ...DEFAULT_INPUTS_O_BASE_MENU_ITEM,\n  // locale [string]: language. For example: es\n  'locale'\n];\n\n@Component({\n  selector: 'o-locale-bar-menu-item',\n  templateUrl: './o-locale-bar-menu-item.component.html',\n  styleUrls: ['./o-locale-bar-menu-item.component.scss'],\n  inputs: DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-locale-bar-menu-item]': 'true'\n  }\n})\nexport class OLocaleBarMenuItemComponent extends OBaseMenuItemClass {\n\n  locale: string;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n  }\n\n  configureI18n() {\n    if (this.isConfiguredLang()) {\n      return;\n    }\n    if (this.translateService) {\n      this.translateService.use(this.locale);\n    }\n    if (this.menu) {\n      this.menu.collapseAll();\n    }\n  }\n\n  isConfiguredLang() {\n    if (this.translateService) {\n      return (this.translateService.getCurrentLang() === this.locale);\n    }\n    return false;\n  }\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, ViewEncapsulation } from '@angular/core';\n\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { DEFAULT_INPUTS_O_BASE_MENU_ITEM, OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_GROUP = [\n  ...DEFAULT_INPUTS_O_BASE_MENU_ITEM\n];\n\n@Component({\n  selector: 'o-bar-menu-group',\n  templateUrl: './o-bar-menu-group.component.html',\n  styleUrls: ['./o-bar-menu-group.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_GROUP,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-group]': 'true',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OBarMenuGroupComponent extends OBaseMenuItemClass {\n\n  id: string;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n    this.id = 'm_' + String((new Date()).getTime() + Math.random());\n  }\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { Util } from '../../../util/util';\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { DEFAULT_INPUTS_O_BASE_MENU_ITEM, OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_ITEM = [\n  ...DEFAULT_INPUTS_O_BASE_MENU_ITEM,\n  // route [string]: name of the state to navigate. Default: no value.\n  'route',\n\n  // action [function]: function to execute. Default: no value.\n  'action'\n];\n\n@Component({\n  selector: 'o-bar-menu-item',\n  templateUrl: './o-bar-menu-item.component.html',\n  styleUrls: ['./o-bar-menu-item.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_ITEM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-item]': 'true',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OBarMenuItemComponent extends OBaseMenuItemClass implements OnInit {\n\n  protected router: Router;\n  route: string;\n  action: () => void;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n    this.router = this.injector.get(Router);\n  }\n\n  ngOnInit() {\n    // if (typeof (this.route) === 'string') {\n    //   // TODO, permisos por route?\n    // } else {\n    //   this.restricted = false;\n    // }\n    super.ngOnInit();\n  }\n\n  collapseMenu(evt: Event) {\n    if (this.menu) {\n      this.menu.collapseAll();\n    }\n  }\n\n  onClick() {\n    if (this.disabled) {\n      return;\n    }\n    if (Util.isDefined(this.route)) {\n      this.router.navigate([this.route]);\n    } else if (Util.isDefined(this.action)) {\n      this.action();\n    }\n  }\n}\n","import { Component, Injector, ViewEncapsulation } from '@angular/core';\n\nimport { AppMenuService } from '../../../services/app-menu.service';\nimport { MenuRootItem } from '../../../types/menu-root-item.type';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_NESTED = [\n  'items'\n];\n\n@Component({\n  selector: 'o-bar-menu-nested',\n  templateUrl: './o-bar-menu-nested.component.html',\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_NESTED,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OBarMenuNestedComponent {\n\n  private appMenuService: AppMenuService;\n  public items: MenuRootItem[];\n\n  constructor(\n    protected injector: Injector) {\n    this.appMenuService = this.injector.get(AppMenuService);\n  }\n\n  getValueOfAttr(menu: object, attr: string) {\n    let valAttr = '';\n    if (menu.hasOwnProperty(attr)) {\n      valAttr = menu[attr];\n    }\n    return valAttr;\n  }\n\n  isMenuGroup(item: any): boolean {\n    return this.appMenuService.getMenuItemType(item) === 'group';\n  }\n}\n","import { Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'o-bar-menu-separator',\n  templateUrl: './o-bar-menu-separator.component.html',\n  styleUrls: ['./o-bar-menu-separator.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-separator]': 'true'\n  }\n})\nexport class OBarMenuSeparatorComponent {\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OLocaleBarMenuItemComponent } from './locale-menu-item/o-locale-bar-menu-item.component';\nimport { OBarMenuGroupComponent } from './menu-group/o-bar-menu-group.component';\nimport { OBarMenuItemComponent } from './menu-item/o-bar-menu-item.component';\nimport { OBarMenuNestedComponent } from './menu-nested/o-bar-menu-nested.component';\nimport { OBarMenuSeparatorComponent } from './menu-separator/o-bar-menu-separator.component';\nimport { OBarMenuComponent } from './o-bar-menu.component';\n\n@NgModule({\n  declarations: [\n    OBarMenuComponent,\n    OBarMenuItemComponent,\n    OBarMenuGroupComponent,\n    OLocaleBarMenuItemComponent,\n    OBarMenuSeparatorComponent,\n    OBarMenuNestedComponent\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule,\n    RouterModule\n  ],\n  exports: [\n    OBarMenuComponent,\n    OBarMenuItemComponent,\n    OBarMenuGroupComponent,\n    OLocaleBarMenuItemComponent,\n    OBarMenuSeparatorComponent,\n    OBarMenuNestedComponent\n  ]\n})\nexport class OBarMenuModule {\n}\n","import { AfterViewInit, Component, Injector, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { NavigationService } from '../../services/navigation.service';\nimport { OBreadcrumbService } from '../../services/o-breadcrumb.service';\nimport { OBreadcrumb } from '../../types/o-breadcrumb-item.type';\nimport { Codes } from '../../util/codes';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\n\nexport const DEFAULT_INPUTS_O_BREADCRUMB = [\n  // form [OFormComponent]: Ontimize Web Form reference.\n  '_formRef: form',\n\n  // label-columns [string]: Form values shown on each element. Separated by ';'. Default: no value.\n  'labelColumns: label-columns',\n\n  // separator [string]: Form values shown on each element. Separated by ';'. Default: no value.\n  'separator'\n];\n\n@Component({\n  selector: 'o-breadcrumb',\n  templateUrl: 'o-breadcrumb.component.html',\n  styleUrls: ['o-breadcrumb.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BREADCRUMB,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-breadcrumb]': 'true'\n  }\n})\nexport class OBreadcrumbComponent implements AfterViewInit, OnDestroy, OnInit {\n\n  public labelColumns: string;\n  public separator: string = ' ';\n  public breadcrumbs: BehaviorSubject<OBreadcrumb[]> = new BehaviorSubject([]);\n\n  protected router: Router;\n  set form(value: OFormComponent) {\n    this._formRef = value;\n  }\n  protected _formRef: OFormComponent;\n  protected labelColsArray: Array<string> = [];\n  protected navigationService: NavigationService;\n  protected subscription: Subscription = new Subscription();\n  protected oBreadcrumService: OBreadcrumbService;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.oBreadcrumService = this.injector.get(OBreadcrumbService);\n  }\n\n  ngOnInit() {\n    this.labelColsArray = Util.parseArray(this.labelColumns);\n\n    this.subscription.add(\n      this.oBreadcrumService.breadcrumbs$.subscribe(bs => this.breadcrumbs.next(bs))\n    );\n  }\n\n  ngAfterViewInit() {\n    if (this._formRef && this.labelColsArray.length) {\n      const self = this;\n      this.subscription.add(this._formRef.onDataLoaded.subscribe((value: any) => {\n        if (self.breadcrumbs.value.length) {\n          const displayText = self.labelColsArray.map(element => value[element]).join(self.separator);\n          self.breadcrumbs.value[self.breadcrumbs.value.length - 1].displayText = displayText;\n        }\n      }));\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  isCurrentRoute(route: OBreadcrumb): boolean {\n    return route.route === this.router.routerState.snapshot.url.split('?')[0];\n  }\n\n  onRouteClick(route: OBreadcrumb) {\n    const extras = {};\n    if (route.queryParams) {\n      extras[Codes.QUERY_PARAMS] = route.queryParams;\n    }\n    this.router.navigate([route.route], extras);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OBreadcrumbComponent } from './o-breadcrumb.component';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule],\n  exports: [OBreadcrumbComponent],\n  declarations: [OBreadcrumbComponent]\n})\nexport class OBreadcrumbModule { }\n","import { Component, EventEmitter, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { MatButtonToggle, MatButtonToggleChange } from '@angular/material';\n\nimport { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_BUTTON_TOGGLE = [\n  'oattr: attr',\n  'label',\n  // icon [string]: Name of google icon (see https://design.google.com/icons/)\n  'icon',\n  'iconPosition: icon-position',\n  'checked',\n  'enabled',\n  'value',\n  'name'\n];\n\nexport const DEFAULT_OUTPUTS_O_BUTTON_TOGGLE = [\n  'onChange'\n];\n\n@Component({\n  selector: 'o-button-toggle',\n  templateUrl: './o-button-toggle.component.html',\n  styleUrls: ['./o-button-toggle.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BUTTON_TOGGLE,\n  outputs: DEFAULT_OUTPUTS_O_BUTTON_TOGGLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button-toggle]': 'true'\n  }\n})\nexport class OButtonToggleComponent {\n\n  public DEFAULT_INPUTS_O_BUTTON_TOGGLE = DEFAULT_INPUTS_O_BUTTON_TOGGLE;\n  public DEFAULT_OUTPUTS_O_BUTTON_TOGGLE = DEFAULT_OUTPUTS_O_BUTTON_TOGGLE;\n\n  /* Inputs */\n  public oattr: string;\n  public label: string;\n  public icon: string;\n  public iconPosition: 'before' | 'after' = 'before';\n\n  protected _checked: boolean = false;\n  protected _enabled: boolean = true;\n  public name: string;\n  /* End inputs */\n\n  /* Outputs */\n  public onChange: EventEmitter<MatButtonToggleChange> = new EventEmitter();\n  /* End outputs */\n\n  @ViewChild('bt', { static: true }) public _innerButtonToggle: MatButtonToggle;\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n\n  get checked(): boolean {\n    return this._innerButtonToggle.checked;\n  }\n\n  set checked(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._innerButtonToggle.checked = val;\n  }\n\n  get enabled(): boolean {\n    return !this._innerButtonToggle.disabled;\n  }\n\n  set enabled(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._innerButtonToggle.disabled = !val;\n  }\n\n  get value(): any {\n    return this._innerButtonToggle.value;\n  }\n\n  set value(val: any) {\n    this._innerButtonToggle.value = val;\n  }\n}\n","import { AfterViewInit, Component, ComponentFactory, ComponentFactoryResolver, ContentChildren, EventEmitter, forwardRef, OnInit, QueryList, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { MatButtonToggleChange, MatButtonToggleGroup } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OButtonToggleComponent } from '../o-button-toggle.component';\n\nexport const DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP = [\n  'oattr: attr',\n  'name',\n  'enabled',\n  'layout',\n  'multiple',\n  'value'\n];\n\nexport const DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP = [\n  'onChange'\n];\n\n@Component({\n  selector: 'o-button-toggle-group',\n  templateUrl: './o-button-toggle-group.component.html',\n  styleUrls: ['./o-button-toggle-group.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP,\n  outputs: DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button-toggle-group]': 'true'\n  },\n  entryComponents: [OButtonToggleComponent]\n})\nexport class OButtonToggleGroupComponent implements AfterViewInit, OnInit {\n\n  public DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP = DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP;\n  public DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP = DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP;\n\n  /* Inputs */\n  protected oattr: string;\n  public name: string;\n  get enabled(): boolean {\n    if (this._innerButtonToggleGroup instanceof MatButtonToggleGroup) {\n      return !this._innerButtonToggleGroup.disabled;\n    }\n    return true;\n  }\n  set enabled(val: boolean) {\n    if (this._innerButtonToggleGroup instanceof MatButtonToggleGroup) {\n      val = Util.parseBoolean(String(val));\n      this._innerButtonToggleGroup.disabled = !val;\n    }\n  }\n  protected _enabled: boolean = true;\n  public layout: 'row' | 'column' = 'row';\n  @InputConverter()\n  public multiple: boolean = false;\n  public value: any;\n  /* End inputs */\n\n  /* Outputs */\n  public onChange: EventEmitter<MatButtonToggleChange> = new EventEmitter();\n  /* End outputs */\n\n  @ViewChild(MatButtonToggleGroup, { static: false })\n  protected _innerButtonToggleGroup: MatButtonToggleGroup;\n  @ViewChild('childContainer', { read: ViewContainerRef, static: false })\n  protected _viewContainerRef: ViewContainerRef;\n  @ContentChildren(forwardRef(() => OButtonToggleComponent))\n  protected _children: QueryList<OButtonToggleComponent>;\n\n  constructor(protected resolver: ComponentFactoryResolver) { }\n\n  ngOnInit(): void {\n    if (!Util.isDefined(this.name)) {\n      this.name = this.oattr;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.buildChildren();\n    this._children.changes.subscribe(() => this.buildChildren());\n  }\n\n  protected buildChildren(): void {\n    const factory: ComponentFactory<OButtonToggleComponent> = this.resolver.resolveComponentFactory(OButtonToggleComponent);\n    this._viewContainerRef.clear();\n    const childList = this._children.map((child) => {\n      const componentRef = this._viewContainerRef.createComponent(factory);\n      componentRef.instance.oattr = child.oattr;\n      componentRef.instance.label = child.label;\n      componentRef.instance.icon = child.icon;\n      componentRef.instance.iconPosition = child.iconPosition;\n      componentRef.instance.checked = child.checked;\n      componentRef.instance.enabled = child.enabled;\n      componentRef.instance.value = child.value;\n      componentRef.instance.name = this.name;\n      componentRef.instance.onChange = child.onChange;\n      componentRef.changeDetectorRef.detectChanges();\n      return componentRef.instance;\n    });\n    this._innerButtonToggleGroup._buttonToggles.reset(childList.map(c => c._innerButtonToggle));\n    this._children.reset(childList);\n  }\n\n  getValue(): any {\n    return this._innerButtonToggleGroup ? this._innerButtonToggleGroup.value : void 0;\n  }\n\n  setValue(val: any): void {\n    this._innerButtonToggleGroup.value = val;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OButtonToggleGroupComponent } from './o-button-toggle-group/o-button-toggle-group.component';\nimport { OButtonToggleComponent } from './o-button-toggle.component';\n\n@NgModule({\n  declarations: [\n    OButtonToggleComponent,\n    OButtonToggleGroupComponent\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule\n  ],\n  exports: [\n    OButtonToggleComponent,\n    OButtonToggleGroupComponent\n  ]\n})\nexport class OButtonToggleModule { }\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ThemePalette } from '@angular/material';\nimport { InputConverter } from '../../decorators/input-converter';\n\n\nexport const DEFAULT_INPUTS_O_BUTTON = [\n  'oattr: attr',\n  'olabel: label',\n  // type [BASIC|RAISED|STROKED|FLAT|ICON|FAB|MINI-FAB]: The type of button. Default: STROKED.\n  'otype: type',\n  // icon [string]: Name of google icon (see https://design.google.com/icons/)\n  'icon',\n  'svgIcon : svg-icon',\n  'iconPosition: icon-position',\n  'image',\n  // enabled [yes|no|true|false]: Whether the button is enabled. Default: yes\n  'enabled',\n  // color: Theme color palette for the component.\n  'color'\n];\n\n@Component({\n  selector: 'o-button',\n  inputs: DEFAULT_INPUTS_O_BUTTON,\n  templateUrl: './o-button.component.html',\n  styleUrls: ['./o-button.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button]': 'true'\n  }\n})\nexport class OButtonComponent implements OnInit {\n\n  protected static DEFAULT_TYPE = 'STROKED';\n\n  protected oattr: string;\n  public olabel: string;\n  protected otype: string;\n  public icon: string;\n  public svgIcon: string;\n  public iconPosition: string; // left (default), top, TODO: right, bottom?\n  public image: string;\n  @InputConverter() enabled: boolean = true;\n  public color: ThemePalette;\n\n  constructor() {\n    this.otype = OButtonComponent.DEFAULT_TYPE;\n  }\n\n  ngOnInit(): void {\n    if (this.otype) {\n      this.otype = this.otype.toUpperCase();\n    }\n  }\n\n  get needsIconButtonClass(): boolean {\n    return this.icon !== undefined && (this.olabel === undefined || this.olabel === '');\n  }\n\n  isFab(): boolean {\n    return this.otype === 'FAB';\n  }\n\n  isRaised(): boolean {\n    return this.otype === 'RAISED';\n  }\n\n  isFlat(): boolean {\n    return this.otype === 'FLAT';\n  }\n\n  isStroked(): boolean {\n    return (this.otype === 'STROKED' || !this.otype);\n  }\n\n  isBasic(): boolean {\n    return this.otype === 'BASIC';\n  }\n\n  isMiniFab(): boolean {\n    return this.otype === 'FAB-MINI';\n  }\n\n  isIconButton(): boolean {\n    return this.otype === 'ICON';\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OButtonComponent } from './o-button.component';\n\n@NgModule({\n  declarations: [OButtonComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OButtonComponent]\n})\nexport class OButtonModule { }\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  ContentChildren,\n  ElementRef,\n  Injector,\n  OnDestroy,\n  QueryList,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\n\nexport const DEFAULT_INPUTS_O_MENU_CARD = [\n  'title',\n  'image',\n  'icon',\n  'tooltip',\n  'buttonText : button-text',\n  'disabledButton : disabled-button',\n  'mainContainerLayout : main-container-layout',\n  'secondaryContainerLayout : secondary-container-layout',\n  'route',\n  'detailComponent : detail-component',\n  'detailComponentInputs : detail-component-inputs',\n  'action'\n];\n\nexport const DEFAULT_OUTPUTS_O_MENU_CARD = [];\n\n@Component({\n  selector: 'o-card-menu-item',\n  templateUrl: './o-card-menu-item.component.html',\n  styleUrls: ['./o-card-menu-item.component.scss'],\n  inputs: DEFAULT_INPUTS_O_MENU_CARD,\n  outputs: DEFAULT_OUTPUTS_O_MENU_CARD,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-card-menu-item]': 'true',\n    '[class.mat-elevation-z1]': 'true',\n    '[class.compact]': '!showSecondaryContainer'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OCardMenuItemComponent implements AfterViewInit, OnDestroy {\n\n  title: string;\n  image: string;\n  icon: string;\n  tooltip: string;\n  buttonText: string;\n  @InputConverter()\n  disabledButton: boolean = false;\n  mainContainerLayout = 'column';\n  secondaryContainerLayout = 'column';\n  route: string;\n  action: () => void;\n  detailComponent: any;\n  detailComponentInputs: object;\n\n  protected _detailComponentContainer: ViewContainerRef;\n\n  @ViewChild('menuCardContent', { read: ViewContainerRef, static: false })\n  set detailComponentContainer(content: ViewContainerRef) {\n    this._detailComponentContainer = content;\n  }\n\n  get detailComponentContainer(): ViewContainerRef {\n    return this._detailComponentContainer;\n  }\n\n  protected translateService: OTranslateService;\n  protected translateServiceSubscription: Subscription;\n\n  @ContentChildren('.secondary-container')\n  secondaryContent: QueryList<any>;\n\n  protected _showSecondaryContainer: boolean = true;\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected resolver: ComponentFactoryResolver,\n    protected cd: ChangeDetectorRef,\n    protected elRef: ElementRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.translateServiceSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.detailComponentContainer && this.detailComponent) {\n      const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(this.detailComponent);\n      const ref = this.detailComponentContainer.createComponent(factory);\n      if (this.detailComponentInputs && ref.instance) {\n        const keys = Object.keys(this.detailComponentInputs);\n        for (let i = 0, len = keys.length; i < len; i++) {\n          ref.instance[keys[i]] = this.detailComponentInputs[keys[i]];\n        }\n      }\n    }\n    this.showSecondaryContainer = (this.detailComponentContainer && this.detailComponent) || this.secondaryContent.length > 0;\n    this.cd.detectChanges();\n  }\n\n  ngOnDestroy() {\n    if (this.translateServiceSubscription) {\n      this.translateServiceSubscription.unsubscribe();\n    }\n  }\n\n  useImage(): boolean {\n    return this.image !== undefined;\n  }\n\n  useIcon(): boolean {\n    return this.icon !== undefined && this.image === undefined;\n  }\n\n  onButtonClick() {\n    if (this.route) {\n      this.router.navigate([this.route], {\n        relativeTo: this.actRoute\n      });\n    } else if (this.action) {\n      this.action();\n    }\n  }\n\n  onClick() {\n    if (this.buttonText === undefined) {\n      this.onButtonClick();\n    }\n  }\n\n  get showSecondaryContainer(): boolean {\n    return this._showSecondaryContainer;\n  }\n\n  set showSecondaryContainer(val: boolean) {\n    this._showSecondaryContainer = val;\n    if (val) {\n      this.elRef.nativeElement.classList.remove('compact');\n    } else {\n      this.elRef.nativeElement.classList.add('compact');\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OCardMenuItemComponent } from './o-card-menu-item.component';\n\n@NgModule({\n  declarations: [OCardMenuItemComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OCardMenuItemComponent]\n})\nexport class OCardMenuItemModule { }\n","import {\n  AfterContentChecked,\n  AfterViewInit,\n  ElementRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  Optional,\n  ViewChild,\n} from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_CONTAINER = [\n  'oattr: attr',\n  'title',\n  'layoutAlign: layout-align',\n  'elevation',\n  'icon',\n  'appearance',\n  'layoutGap: layout-gap'\n];\n\nexport class OContainerComponent implements AfterViewInit, OnDestroy, AfterContentChecked {\n\n  public static APPEARANCE_OUTLINE = 'outline';\n\n  public oattr: string;\n\n  public title: string;\n  protected _elevation: number = 0;\n  protected defaultLayoutAlign: string = 'start start';\n  protected _layoutAlign: string;\n  public icon: string;\n  protected _appearance: string;\n  protected _layoutGap: string;\n  private _outlineGapCalculationNeededImmediately = false;\n\n  protected titleObserver = new MutationObserver(() => this.updateOutlineGap());\n\n  protected _titleEl: ElementRef;\n  @ViewChild('containerTitle', { static: false }) set containerTitle(elem: ElementRef) {\n    this._titleEl = elem;\n    if (this._titleEl) {\n      this.registerObserver();\n      this.updateOutlineGap(); // This must be triggered when title container is re-registered\n    } else {\n      this.unRegisterObserver();\n    }\n  }\n  @ViewChild('container', { static: false }) protected _containerRef: ElementRef;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) { }\n\n  ngAfterViewInit(): void {\n    if (this.elRef) {\n      this.elRef.nativeElement.removeAttribute('title');\n    }\n    this.registerObserver();\n  }\n\n  ngAfterContentChecked() {\n    if (this._outlineGapCalculationNeededImmediately) {\n      this.updateOutlineGap();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unRegisterObserver();\n  }\n\n  public getAttribute() {\n    if (this.oattr) {\n      return this.oattr;\n    } else if (this.elRef && this.elRef.nativeElement.attributes.attr) {\n      return this.elRef.nativeElement.attributes.attr.value;\n    }\n  }\n\n  get appearance() {\n    return this._appearance;\n  }\n\n  set appearance(value: string) {\n    this._appearance = value;\n    setTimeout(() => { this.updateOutlineGap(); }, 0);\n  }\n\n  get elevation() {\n    return this._elevation;\n  }\n\n  set elevation(elevation: number) {\n    this._elevation = elevation;\n    this.propagateElevationToDOM();\n  }\n\n  get layoutAlign() {\n    return this._layoutAlign;\n  }\n\n  set layoutAlign(align: string) {\n    if (!align || align.length === 0) {\n      align = this.defaultLayoutAlign;\n    }\n    this._layoutAlign = align;\n  }\n\n  get layoutGap() {\n    return this._layoutGap;\n  }\n\n  set layoutGap(layoutGap: string) {\n    this._layoutGap = layoutGap;\n  }\n\n  public hasHeader(): boolean {\n    return !!this.title || !!this.icon;\n  }\n\n  public isAppearanceOutline(): boolean {\n    let isAppearanceOutline = (this.matFormDefaultOption && this.matFormDefaultOption.appearance === OContainerComponent.APPEARANCE_OUTLINE);\n    if (Util.isDefined(this.appearance)) {\n      isAppearanceOutline = this.appearance === OContainerComponent.APPEARANCE_OUTLINE;\n    }\n    return isAppearanceOutline;\n  }\n\n  public hasTitleInAppearanceOutline(): boolean {\n    return this.isAppearanceOutline() && this.hasHeader();\n  }\n\n  protected propagateElevationToDOM(): void {\n    this.cleanElevationCSSclasses();\n    if (this.elevation > 0 && this.elevation <= 12) {\n      this.elRef.nativeElement.classList.add('mat-elevation-z' + this.elevation);\n    }\n  }\n\n  protected cleanElevationCSSclasses(): void {\n    const classList = [].slice.call(this.elRef.nativeElement.classList);\n    if (classList && classList.length) {\n      classList.forEach((item: string) => {\n        if (item.startsWith('mat-elevation')) {\n          this.elRef.nativeElement.classList.remove(item);\n        }\n      });\n    }\n  }\n\n  protected updateOutlineGap(): void {\n    if (this.isAppearanceOutline()) {\n      const titleEl = this._titleEl ? this._titleEl.nativeElement : null;\n\n      if (!this._containerRef) {\n        return;\n      }\n      if (document.documentElement && !document.documentElement.contains(this.elRef.nativeElement)) {\n        this._outlineGapCalculationNeededImmediately = true;\n        return;\n      }\n\n      const container = this._containerRef.nativeElement;\n      const containerRect = container.getBoundingClientRect();\n      if (containerRect.width === 0 && containerRect.height === 0) {\n        return;\n      }\n\n      const containerStart = containerRect.left;\n      const labelStart = titleEl.getBoundingClientRect().left;\n      const labelWidth = this.hasHeader() ? titleEl.offsetWidth : 0;\n      const startWidth = labelStart - containerStart;\n\n      const startEls = container.querySelectorAll('.o-container-outline-start');\n      const gapEls = container.querySelectorAll('.o-container-outline-gap');\n      gapEls[0].style.width = `${labelWidth}px`;\n      startEls[0].style.width = `${startWidth}px`;\n      this._outlineGapCalculationNeededImmediately = false;\n    }\n  }\n\n  protected registerObserver(): void {\n    if (this._titleEl) {\n      this.titleObserver.observe(this._titleEl.nativeElement, {\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  protected unRegisterObserver(): void {\n    if (this.titleObserver) {\n      this.titleObserver.disconnect();\n    }\n  }\n\n}\n","import { AfterViewInit, ElementRef, Inject, Injector, Optional, ViewChild } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS, MatExpansionPanel } from '@angular/material';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { DEFAULT_INPUTS_O_CONTAINER, OContainerComponent } from './o-container-component.class';\n\nexport const DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE = [\n  ...DEFAULT_INPUTS_O_CONTAINER,\n  'expanded',\n  'description',\n  'collapsedHeight:collapsed-height',\n  'expandedHeight:expanded-height'\n];\n\nexport class OContainerCollapsibleComponent extends OContainerComponent implements AfterViewInit {\n\n  @InputConverter()\n  public expanded: boolean = true;\n  public collapsedHeight = '37px';\n  public expandedHeight = '37px';\n  public description: string;\n\n  protected contentObserver = new MutationObserver(() => this.updateHeightExpansionPanelContent());\n  @ViewChild('expPanel', { static: false }) expPanel: MatExpansionPanel;\n  protected _containerCollapsibleRef: ElementRef<HTMLElement>;\n\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(elRef, injector, matFormDefaultOption);\n  }\n\n  ngAfterViewInit(): void {\n    if (this.expPanel) {\n      this._containerCollapsibleRef = this.expPanel._body;\n      this.registerContentObserver();\n    } else {\n      this.unregisterContentObserver();\n    }\n  }\n  protected updateOutlineGap(): void {\n    if (this.isAppearanceOutline()) {\n      const exPanelHeader = this._titleEl ? (this._titleEl as any)._element.nativeElement : null;\n\n      if (!this._containerRef) {\n        return;\n      }\n      const containerOutline = this._containerRef.nativeElement;\n      const containerOutlineRect = containerOutline.getBoundingClientRect();\n      if (containerOutlineRect.width === 0 && containerOutlineRect.height === 0) {\n        return;\n      }\n\n      const titleEl = exPanelHeader.querySelector('.o-container-title.mat-expansion-panel-header-title');\n      const descrEl = exPanelHeader.querySelector('.mat-expansion-panel-header-description');\n\n      const containerStart = containerOutlineRect.left;\n      const descrStart = descrEl.getBoundingClientRect().left;\n\n      let titleWidth = 0;\n      if (this.hasHeader()) {\n        titleWidth += this.icon ? titleEl.querySelector('mat-icon').offsetWidth : 0; // icon\n        titleWidth += this.title ? titleEl.querySelector('span').offsetWidth : 0; // title\n        titleWidth = titleWidth === 0 ? 0 : titleWidth + 4;\n      }\n\n      const descrWidth = this.description ? descrEl.querySelector('span').offsetWidth + 8 : 0;\n      const empty1Width = descrStart - containerStart - 14 - titleWidth - 4;\n\n      const gapTitleEls = containerOutline.querySelectorAll('.o-container-outline-gap-title');\n      const gapEmpty1Els = containerOutline.querySelectorAll('.o-container-outline-gap-empty1');\n      const gapDescrEls = containerOutline.querySelectorAll('.o-container-outline-gap-description');\n\n      gapTitleEls[0].style.width = `${titleWidth}px`;\n      gapEmpty1Els[0].style.width = `${empty1Width}px`;\n      gapDescrEls[0].style.width = `${descrWidth}px`;\n    }\n  }\n\n  protected registerObserver(): void {\n    if (this._titleEl) {\n      this.titleObserver.observe((this._titleEl as any)._element.nativeElement, {\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  protected updateHeightExpansionPanelContent(): void {\n    const exPanelHeader = this._titleEl ? (this._titleEl as any)._element.nativeElement : null;\n    const exPanelContent: HTMLElement = this._containerCollapsibleRef ? this._containerCollapsibleRef.nativeElement.querySelector('.o-container-scroll') : null;\n    const parentHeight = exPanelHeader.parentNode ? exPanelHeader.parentNode.offsetHeight : null;\n\n    const height = (OContainerComponent.APPEARANCE_OUTLINE === this.appearance) ? parentHeight : (parentHeight - exPanelHeader.offsetHeight);\n    if (height > 0) {\n      exPanelContent.style.height = height + 'px';\n    }\n  }\n\n  protected unregisterContentObserver(): any {\n    if (this.contentObserver) {\n      this.contentObserver.disconnect();\n    }\n  }\n\n  protected registerContentObserver(): any {\n    if (this._containerCollapsibleRef) {\n      this.contentObserver.observe(this._containerCollapsibleRef.nativeElement, {\n        childList: true,\n        attributes: true,\n        attributeFilter: ['style']\n      });\n    }\n  }\n\n}\n","import { Component, ElementRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport {\n  DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE,\n  OContainerCollapsibleComponent,\n} from '../o-container-collapsible-component.class';\n\nexport const DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE = [\n  ...DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE\n];\n\n@Component({\n  selector: 'o-column-collapsible',\n  templateUrl: './o-column-collapsible.component.html',\n  styleUrls: ['./o-column-collapsible.component.scss'],\n  inputs: DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-column-collapsible]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class OColumnCollapsibleComponent extends OContainerCollapsibleComponent {\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(elRef, injector, matFormDefaultOption);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OColumnCollapsibleComponent } from './o-column-collapsible.component';\n\n@NgModule({\n  declarations: [OColumnCollapsibleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OColumnCollapsibleComponent]\n})\nexport class OColumnCollapsibleModule { }\n","import { Component, ElementRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { DEFAULT_INPUTS_O_CONTAINER, OContainerComponent } from '../o-container-component.class';\n\nexport const DEFAULT_INPUTS_O_COLUMN = [\n  ...DEFAULT_INPUTS_O_CONTAINER\n];\n\n@Component({\n  selector: 'o-column',\n  templateUrl: './o-column.component.html',\n  styleUrls: ['./o-column.component.scss'],\n  inputs: DEFAULT_INPUTS_O_COLUMN,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-column]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class OColumnComponent extends OContainerComponent {\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(elRef, injector, matFormDefaultOption);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OColumnComponent } from './o-column.component';\n\n@NgModule({\n  declarations: [OColumnComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OColumnComponent]\n})\nexport class OColumnModule { }\n","import { Component, ElementRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport {\n  DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE,\n  OContainerCollapsibleComponent,\n} from '../o-container-collapsible-component.class';\n\nexport const DEFAULT_INPUTS_O_ROW_COLLAPSIBLE = [\n  ...DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE\n];\n\n@Component({\n  selector: 'o-row-collapsible',\n  templateUrl: './o-row-collapsible.component.html',\n  styleUrls: ['./o-row-collapsible.component.scss'],\n  inputs: DEFAULT_INPUTS_O_ROW_COLLAPSIBLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-row-collapsible]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class ORowCollapsibleComponent extends OContainerCollapsibleComponent {\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(elRef, injector, matFormDefaultOption);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ORowCollapsibleComponent } from './o-row-collapsible.component';\n\n@NgModule({\n  declarations: [ORowCollapsibleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORowCollapsibleComponent]\n})\nexport class ORowCollapsibleModule { }\n","import { Component, ElementRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { DEFAULT_INPUTS_O_CONTAINER, OContainerComponent } from '../o-container-component.class';\n\nexport const DEFAULT_INPUTS_O_ROW = [\n  ...DEFAULT_INPUTS_O_CONTAINER\n];\n\n@Component({\n  selector: 'o-row',\n  templateUrl: './o-row.component.html',\n  styleUrls: ['./o-row.component.scss'],\n  inputs: DEFAULT_INPUTS_O_ROW,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-row]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class ORowComponent extends OContainerComponent {\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(elRef, injector, matFormDefaultOption);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ORowComponent } from './o-row.component';\n\n@NgModule({\n  declarations: [ORowComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORowComponent]\n})\nexport class ORowModule { }\n","import { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS = [\n  'attr',\n  'ovisible: visible'\n];\n\nexport class OComponentMenuItems {\n\n  public static TYPE_ITEM_MENU = 'item_menu';\n  public static TYPE_GROUP_MENU = 'item_group';\n  public static TYPE_SEPARATOR_MENU = 'item_separator';\n  public ovisible: boolean | ((item: any) => boolean) = true;\n  public attr;\n  public type = OComponentMenuItems.TYPE_GROUP_MENU;\n\n  public get isVisible(): boolean {\n    return this.parseInput(this.ovisible);\n  }\n\n  protected parseInput(value: any, defaultValue?: boolean): boolean {\n    if (value instanceof Function || typeof value === 'boolean') {\n      return value;\n    }\n    return Util.parseBoolean(value, defaultValue);\n  }\n\n}\n","import { Component, EventEmitter, forwardRef, OnInit } from '@angular/core';\n\nimport { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS, OComponentMenuItems } from '../o-content-menu.class';\n\nexport const DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS = [\n  'execute'\n];\n\nexport const DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM = [\n  ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS,\n  'icon',\n  'data',\n  'label',\n  'oenabled: enabled',\n  'svgIcon: svg-icon'];\n\n@Component({\n  selector: 'o-context-menu-item',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,\n  outputs: DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuItemComponent) }]\n})\nexport class OContextMenuItemComponent extends OComponentMenuItems implements OnInit {\n\n  public execute: EventEmitter<{ event: Event, data: any }> = new EventEmitter();\n  public type = OComponentMenuItems.TYPE_ITEM_MENU;\n  public icon: string;\n  public data: any;\n  public label: string;\n  public enabled: boolean | ((item: any) => boolean) = true;\n  public svgIcon: string;\n  protected oenabled;\n\n  public ngOnInit(): void {\n    this.enabled = this.parseInput(this.oenabled, true);\n  }\n\n  public onClick(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerExecute(this.data, event);\n  }\n\n  public triggerExecute(data: any, $event?: Event): void {\n    if (!this.enabled) {\n      return;\n    }\n    this.execute.emit({ event: $event, data: data });\n  }\n\n  public get disabled(): boolean {\n    if (this.enabled instanceof Function) {\n      return !this.enabled(this.data);\n    }\n    return !this.enabled;\n  }\n\n  public get isVisible(): boolean {\n    if (this.ovisible instanceof Function) {\n      return this.ovisible(this.data);\n    }\n    return this.ovisible;\n  }\n\n}\n","import { AfterContentInit, Component, ContentChildren, forwardRef, OnInit, QueryList } from '@angular/core';\n\nimport {\n  DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,\n  OContextMenuItemComponent,\n} from '../context-menu-item/o-context-menu-item.component';\nimport { OComponentMenuItems } from '../o-content-menu.class';\n\nexport const DEFAULT_CONTEXT_MENU_GROUP_INPUTS = [\n  ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,\n  'children'\n];\n\n@Component({\n  selector: 'o-context-menu-group',\n  template: ' ',\n  inputs: DEFAULT_CONTEXT_MENU_GROUP_INPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuGroupComponent) }]\n})\nexport class OContextMenuGroupComponent extends OContextMenuItemComponent implements OnInit, AfterContentInit {\n\n  public type = OComponentMenuItems.TYPE_GROUP_MENU;\n  public children = [];\n\n  @ContentChildren(OComponentMenuItems) public oContextMenuItems: QueryList<OComponentMenuItems>;\n\n  public ngAfterContentInit(): void {\n    this.children = this.oContextMenuItems.toArray().slice(1, this.oContextMenuItems.toArray().length);\n  }\n\n}\n","import { Component, forwardRef, OnInit } from '@angular/core';\n\nimport { OContextMenuItemComponent } from '../context-menu-item/o-context-menu-item.component';\nimport { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS, OComponentMenuItems } from '../o-content-menu.class';\n\nexport const DEFAULT_CONTEXT_MENU_ITEM_INPUTS = [\n  ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS\n];\n\n@Component({\n  selector: 'o-context-menu-separator',\n  template: ' ',\n  inputs: DEFAULT_CONTEXT_MENU_ITEM_INPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuSeparatorComponent) }]\n})\nexport class OContextMenuSeparatorComponent extends OContextMenuItemComponent implements OnInit {\n\n  public type = OComponentMenuItems.TYPE_SEPARATOR_MENU;\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n  }\n\n}\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\nimport { MatMenu } from '@angular/material/menu';\n\nimport { OComponentMenuItems } from '../../o-content-menu.class';\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_ITEM_INPUTS = [\n  'items',\n  'class'\n];\n\n@Component({\n  selector: 'o-wrapper-content-menu',\n  templateUrl: 'o-wrapper-content-menu.component.html',\n  styleUrls: ['./o-wrapper-content-menu.component.scss'],\n  inputs: DEFAULT_CONTEXT_MENU_CONTENT_ITEM_INPUTS\n})\nexport class OWrapperContentMenuComponent {\n\n  public class: string;\n\n  @Input()\n  public items: any[];\n\n  @ViewChild('childMenu', { static: true })\n  public childMenu: MatMenu;\n\n  @ViewChild(OWrapperContentMenuComponent, { static: true })\n  public menu: OWrapperContentMenuComponent;\n\n  constructor(\n    protected injector: Injector\n  ) { }\n\n  public onClick(item, event?): void {\n    item.triggerExecute(item.data, event);\n  }\n\n  public isGroup(item): boolean {\n    let isGroup = false;\n    if (item && item.children && item.children.length > 0) {\n      isGroup = true;\n    }\n    return isGroup;\n  }\n\n  public isSepararor(item): boolean {\n    let isSepararor = false;\n    if (item && item.type && item.type === OComponentMenuItems.TYPE_SEPARATOR_MENU) {\n      isSepararor = true;\n    }\n    return isSepararor;\n  }\n\n  public isItem(item): boolean {\n    let isItem = false;\n    if (item && item.type && item.type === OComponentMenuItems.TYPE_ITEM_MENU) {\n      isItem = true;\n    }\n    return isItem;\n  }\n\n}\n","import { OverlayRef } from '@angular/cdk/overlay';\nimport {\n  AfterViewInit,\n  Component,\n  ContentChildren,\n  EventEmitter,\n  HostListener,\n  Injector,\n  OnInit,\n  QueryList,\n  ViewChild,\n} from '@angular/core';\nimport { MatMenuTrigger } from '@angular/material';\n\nimport { OContextMenuItemComponent } from '../context-menu-item/o-context-menu-item.component';\nimport { OComponentMenuItems } from '../o-content-menu.class';\nimport { OWrapperContentMenuComponent } from './o-wrapper-content-menu/o-wrapper-content-menu.component';\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_INPUTS = [\n  'menuItems',\n  'overlay',\n  'data',\n  'menuClass'\n];\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_OUTPUTS = [\n  'execute',\n  'close'\n];\n\n@Component({\n  selector: 'o-context-menu-content',\n  templateUrl: 'o-context-menu-content.component.html',\n  inputs: DEFAULT_CONTEXT_MENU_CONTENT_INPUTS,\n  outputs: DEFAULT_CONTEXT_MENU_CONTENT_OUTPUTS,\n  host: {\n    '[class.o-context-menu-content]': 'true'\n  }\n})\nexport class OContextMenuContentComponent implements AfterViewInit, OnInit {\n\n  public menuItems: any[] = [];\n  public overlay: OverlayRef;\n  public data: any;\n  public menuClass: string;\n  public execute: EventEmitter<{ event: Event, data: any, menuItem: OContextMenuItemComponent }> = new EventEmitter();\n  public close: EventEmitter<any> = new EventEmitter();\n\n  @ContentChildren(OComponentMenuItems)\n  public oContextMenuItems: QueryList<OComponentMenuItems>;\n  @ViewChild(MatMenuTrigger, { static: false })\n  public trigger: MatMenuTrigger;\n  @ViewChild(OWrapperContentMenuComponent, { static: false })\n  public menu: OWrapperContentMenuComponent;\n\n  constructor(\n    protected injector: Injector\n  ) { }\n\n  @HostListener('document:click')\n  public click(): void {\n    this.closeContent();\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngAfterViewInit(): void {\n    this.trigger.openMenu();\n  }\n\n  public initialize(): void {\n    this.setData(this.menuItems);\n  }\n\n  public setData(items): void {\n    items.forEach(menuItem => {\n      if (this.data) {\n        menuItem.data = this.data;\n        if (menuItem.children && menuItem.children.length > 0) {\n          this.setData(menuItem.children);\n        }\n      }\n    });\n  }\n\n  public onMenuClosed(e: Event): void {\n    this.closeContent();\n  }\n\n  public closeContent(): void {\n    this.trigger.closeMenu();\n    this.close.emit();\n  }\n\n}\n","import { Overlay, OverlayRef, ScrollStrategyOptions } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { ComponentRef, ElementRef, Injectable, OnDestroy } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\n\nimport { IOContextMenuClickEvent, IOContextMenuContext } from '../../interfaces/o-context-menu.interface';\nimport { OContextMenuContentComponent } from './context-menu/o-context-menu-content.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OContextMenuService implements OnDestroy {\n\n  public showContextMenu: Subject<IOContextMenuClickEvent> = new Subject<IOContextMenuClickEvent>();\n  public closeContextMenu: Subject<Event> = new Subject();\n  public activeMenu: OContextMenuContentComponent;\n\n  protected overlays: OverlayRef[] = [];\n  protected fakeElement: ElementRef = new ElementRef({ nativeElement: '' });\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    private overlay: Overlay,\n    private scrollStrategy: ScrollStrategyOptions\n  ) {\n    this.subscription.add(this.closeContextMenu.subscribe(() => this.destroyOverlays()));\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public openContextMenu(context: IOContextMenuContext): void {\n    this.destroyOverlays();\n    this.createOverlay(context);\n  }\n\n  public destroyOverlays(): void {\n    if (this.overlays) {\n      this.overlays.forEach((overlay) => {\n        overlay.detach();\n        overlay.dispose();\n      });\n    }\n    this.overlays = [];\n  }\n\n  // Create overlay and attach `o-context-menu-content` to it in order to trigger the menu click, the menu opens in a new overlay\n  // TODO: try to use only one overlay\n  protected createOverlay(context: IOContextMenuContext): void {\n    context.event.preventDefault();\n    context.event.stopPropagation();\n\n    this.fakeElement.nativeElement.getBoundingClientRect = (): ClientRect => ({\n      bottom: context.event.clientY,\n      height: 0,\n      left: context.event.clientX,\n      right: context.event.clientX,\n      top: context.event.clientY,\n      width: 0,\n    });\n\n    const positionStrategy = this.overlay.position()\n      .flexibleConnectedTo(context.anchorElement || this.fakeElement)\n      .withPositions([{\n        overlayX: 'start',\n        overlayY: 'top',\n        originX: 'start',\n        originY: 'bottom'\n      }]);\n\n    const overlayRef = this.overlay.create({\n      positionStrategy: positionStrategy,\n      hasBackdrop: false,\n      panelClass: ['o-context-menu'],\n      scrollStrategy: this.scrollStrategy.close()\n    });\n\n    this.overlays = [overlayRef];\n\n    this.attachContextMenu(this.overlays[0], context);\n  }\n\n  protected attachContextMenu(overlay: OverlayRef, context: IOContextMenuContext): void {\n    const contextMenuContent: ComponentRef<any> = overlay.attach(new ComponentPortal(OContextMenuContentComponent));\n    contextMenuContent.instance.overlay = overlay;\n    contextMenuContent.instance.menuItems = context.menuItems;\n    contextMenuContent.instance.data = context.data;\n    contextMenuContent.instance.menuClass = context.class;\n    this.subscription.add(contextMenuContent.instance.close.subscribe(() => {\n      this.closeContextMenu.next();\n    }));\n  }\n\n}\n","import { Component, ContentChildren, EventEmitter, Injector, OnDestroy, OnInit, QueryList } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IOContextMenuContext } from '../../interfaces/o-context-menu.interface';\nimport { OComponentMenuItems } from './o-content-menu.class';\nimport { OContextMenuService } from './o-context-menu.service';\n\nexport const DEFAULT_OUTPUTS_O_CONTEXT_MENU = [\n  'onShow',\n  'onClose'\n];\n\n@Component({\n  selector: 'o-context-menu',\n  template: ' ',\n  outputs: DEFAULT_OUTPUTS_O_CONTEXT_MENU\n})\nexport class OContextMenuComponent implements OnDestroy, OnInit {\n\n  @ContentChildren(OComponentMenuItems)\n  public oContextMenuItems: QueryList<OComponentMenuItems>;\n\n  public origin: HTMLElement;\n  public onShow: EventEmitter<any> = new EventEmitter();\n  public onClose: EventEmitter<any> = new EventEmitter();\n\n  public oContextMenuService: OContextMenuService;\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.oContextMenuService = this.injector.get(OContextMenuService);\n  }\n\n  public ngOnInit(): void {\n    this.subscription.add(this.oContextMenuService.showContextMenu.subscribe(param => this.showContextMenu(param)));\n    this.subscription.add(this.oContextMenuService.closeContextMenu.subscribe(param => this.onClose.emit()));\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public showContextMenu(params: IOContextMenuContext): void {\n    this.origin = params.event.target as HTMLElement;\n    this.onShow.emit(params);\n    if (params.contextMenu !== this) {\n      return;\n    }\n    params.menuItems = this.oContextMenuItems;\n    if (params.menuItems.length > 0) {\n      this.oContextMenuService.openContextMenu(params);\n    }\n  }\n\n}\n","import { Directive, HostListener, Injector } from '@angular/core';\n\nimport { OContextMenuComponent } from './o-context-menu.component';\nimport { OContextMenuService } from './o-context-menu.service';\n\nexport const DEFAULT_CONTEXT_MENU_DIRECTIVE_INPUTS = [\n  'oContextMenu',\n  'oContextMenuData'\n];\n\n@Directive({\n  selector: '[oContextMenu]',\n  inputs: DEFAULT_CONTEXT_MENU_DIRECTIVE_INPUTS\n})\nexport class OContextMenuDirective {\n\n  public oContextMenu: OContextMenuComponent;\n  public oContextMenuData: any;\n\n  protected oContextMenuService: OContextMenuService;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.oContextMenuService = this.injector.get(OContextMenuService);\n  }\n\n  @HostListener('contextmenu', ['$event'])\n  public onRightClick(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.oContextMenuService.showContextMenu.next({\n      contextMenu: this.oContextMenu,\n      event: event,\n      data: this.oContextMenuData\n    });\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OContextMenuGroupComponent } from './context-menu-group/o-context-menu-group.component';\nimport { OContextMenuItemComponent } from './context-menu-item/o-context-menu-item.component';\nimport { OContextMenuSeparatorComponent } from './context-menu-separator/o-context-menu-separator.component';\nimport { OContextMenuContentComponent } from './context-menu/o-context-menu-content.component';\nimport { OWrapperContentMenuComponent } from './context-menu/o-wrapper-content-menu/o-wrapper-content-menu.component';\nimport { OContextMenuComponent } from './o-context-menu.component';\nimport { OContextMenuDirective } from './o-context-menu.directive';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule],\n  entryComponents: [OContextMenuContentComponent, OContextMenuComponent],\n  exports: [CommonModule, OContextMenuDirective, OContextMenuComponent, OContextMenuItemComponent, OContextMenuGroupComponent, OContextMenuSeparatorComponent],\n  declarations: [\n    OContextMenuDirective,\n    OContextMenuContentComponent,\n    OContextMenuComponent,\n    OContextMenuItemComponent,\n    OContextMenuGroupComponent,\n    OWrapperContentMenuComponent,\n    OContextMenuSeparatorComponent]\n})\nexport class OContextMenuModule { }\n","import { AfterViewInit, Component, ComponentFactoryResolver, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\n\nimport { OBreadcrumbComponent } from '../../components/breadcrumb/o-breadcrumb.component';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { OFormLayoutManagerComponent } from '../../layouts/form-layout/o-form-layout-manager.component';\nimport { OFormComponent } from '../form/o-form.component';\n\nexport const DEFAULT_INPUTS_O_FORM_CONTAINER = [\n  // breadcrumb [boolean]: show breadscrum of the form. Default: yes.\n  'breadcrumb',\n  'breadcrumbSeparator : breadcrumb-separator',\n  'breadcrumbLabelColumns : breadcrumb-label-columns',\n  'form'\n];\n\n@Component({\n  selector: 'o-form-container',\n  templateUrl: './o-form-container.component.html',\n  styleUrls: ['./o-form-container.component.scss'],\n  inputs: DEFAULT_INPUTS_O_FORM_CONTAINER,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-container]': 'true',\n    '[class.breadcrumb]': 'breadcrumb'\n  }\n})\nexport class OFormContainerComponent implements AfterViewInit {\n\n  @ViewChild('breadcrumb', { read: ViewContainerRef, static: false }) breadContainer: ViewContainerRef;\n\n  @InputConverter()\n  breadcrumb: boolean = false;\n  public breadcrumbLabelColumns: string;\n  public breadcrumbSeparator: string = ' ';\n\n  protected form: OFormComponent;\n  protected formMananger: OFormLayoutManagerComponent;\n\n  constructor(private resolver: ComponentFactoryResolver) { }\n\n  ngAfterViewInit() {\n    this.breadcrumb = this.breadcrumb && this.form && !this.formMananger;\n    if (this.breadcrumb) {\n      this.createBreadcrumb(this.breadContainer);\n    }\n  }\n\n  setForm(form: OFormComponent) {\n    this.form = form;\n    this.formMananger = form.getFormManager();\n  }\n\n  createBreadcrumb(container: ViewContainerRef) {\n    const factory = this.resolver.resolveComponentFactory(OBreadcrumbComponent);\n    const ref = container.createComponent(factory);\n    ref.instance.form = this.form;\n    ref.instance.labelColumns = this.breadcrumbLabelColumns;\n    ref.instance.separator = this.breadcrumbSeparator;\n  }\n\n}\n","import { EventEmitter } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IFormControlComponent } from '../../../interfaces/form-control-component.interface';\nimport { IFormDataComponent } from '../../../interfaces/form-data-component.interface';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../o-form.component';\n\nexport class OFormCacheClass {\n\n  protected initialDataCache: object = {};\n  protected formDataCache: object;\n  protected valueChangesStack: Array<any> = [];\n  protected _componentsSubscritpions: any = {};\n  protected blockCaching: boolean = false;\n  protected initializedCache: boolean = false;\n\n  onCacheEmptyStateChanges: EventEmitter<boolean> = new EventEmitter<boolean>();\n  onCacheStateChanges: EventEmitter<any> = new EventEmitter<any>();\n\n  protected changedFormControls: string[] = [];\n\n  constructor(protected form: OFormComponent) {\n  }\n\n  protected updateFormDataCache() {\n    this.formDataCache = this.form.getRegisteredFieldsValues();\n  }\n\n  protected addChangeToStack(comp: IFormControlComponent) {\n    const currentValue = comp.getFormControl().value;\n    const wasEmpty = this.valueChangesStack.length === 0;\n    this.valueChangesStack.push({\n      attr: comp.getAttribute(),\n      value: currentValue\n    });\n    if (wasEmpty) {\n      this.onCacheEmptyStateChanges.emit(false);\n    }\n    this.onCacheStateChanges.emit();\n  }\n\n  protected registerComponentCaching(comp: IFormDataComponent) {\n    const self = this;\n    const attr = comp.getAttribute();\n    const listenTo = this.form.detectChangesOnBlur ? comp.onValueChange : comp.onChange;\n    if (!Util.isDefined(listenTo)) {\n      return;\n    }\n    this._componentsSubscritpions[attr] = listenTo.subscribe(() => {\n      if (self.initializedCache && !self.blockCaching && self.hasComponentChanged(attr, comp)) {\n        if (self.changedFormControls.indexOf(attr) === -1) {\n          self.changedFormControls.push(attr);\n        }\n        self.updateFormDataCache();\n        self.addChangeToStack(comp);\n      }\n    });\n  }\n\n  getCachedValue(attr: string): any {\n    if (this.formDataCache && this.formDataCache.hasOwnProperty(attr)) {\n      return this.formDataCache[attr];\n    }\n    return undefined;\n  }\n\n  destroy() {\n    Object.keys(this._componentsSubscritpions).forEach((attr) => {\n      const subs: Subscription = this._componentsSubscritpions[attr];\n      subs.unsubscribe();\n    });\n    this._componentsSubscritpions = {};\n    this.formDataCache = undefined;\n    this.changedFormControls = [];\n  }\n\n  protected removeUndefinedProperties(arg: any): any {\n    Object.keys(arg).forEach((key) => {\n      if (arg[key] === undefined) {\n        delete arg[key];\n      }\n    });\n    return arg;\n  }\n\n  registerCache() {\n    const initialCache = this.form.getRegisteredFieldsValues();\n    this.removeUndefinedProperties(initialCache);\n    this.initializeCache(initialCache);\n    this.formDataCache = initialCache;\n\n    const components = this.form.getComponents();\n    const self = this;\n    Object.keys(components).forEach(attr => {\n      const comp: IFormDataComponent = components[attr];\n      if (comp.isAutomaticRegistering()) {\n        self.registerComponentCaching(comp);\n      }\n    });\n  }\n\n  initializeCache(val: any) {\n    this.initialDataCache = val;\n    this.valueChangesStack = [];\n    this.onCacheEmptyStateChanges.emit(true);\n    this.initializedCache = true;\n    this.changedFormControls = [];\n  }\n\n  getInitialDataCache() {\n    return this.initialDataCache;\n  }\n\n  getDataCache() {\n    return this.formDataCache;\n  }\n\n  restartCache() {\n    this.formDataCache = undefined;\n    this.initializeCache({});\n    this.initializedCache = false;\n    this.onCacheStateChanges.emit();\n  }\n\n  setCacheSnapshot() {\n    this.initializeCache(this.getDataCache());\n  }\n\n  undoLastChange(options: any = {}) {\n    const lastElement = this.valueChangesStack[this.valueChangesStack.length - 1];\n    if (lastElement) {\n      const lastCacheValue = this.getCacheLastValue(lastElement.attr);\n      const lastValue = (lastCacheValue !== null) ? lastCacheValue : this.initialDataCache[lastElement.attr];\n      this.undoComponentValue(lastElement.attr, lastValue);\n\n      this.updateFormDataCache();\n      this.onCacheStateChanges.emit();\n    }\n  }\n\n  protected undoComponentValue(attr: string, val: any) {\n    this.blockCaching = true;\n    const comp = this.form.getFieldReference(attr);\n    if (comp) {\n      // (comp as any).oldValue = undefined;\n      comp.setValue(val);\n    }\n    this.blockCaching = false;\n  }\n\n  protected hasComponentChanged(attr: string, comp: IFormControlComponent): boolean {\n    const currentValue = comp.getFormControl().value;\n    const cache = this.formDataCache || this.initialDataCache;\n    return (currentValue !== cache[attr]);\n  }\n\n  protected getCacheLastValue(attr: string): any {\n    this.updateChangesStack(attr);\n    let result = null;\n    for (let i = this.valueChangesStack.length - 1; i >= 0; i--) {\n      const current = this.valueChangesStack[i];\n      if (current.attr === attr) {\n        result = current.value;\n        break;\n      }\n    }\n    return result;\n  }\n\n  protected updateChangesStack(attr: string) {\n    let index: number;\n    for (let i = this.valueChangesStack.length - 1; i >= 0; i--) {\n      const current = this.valueChangesStack[i];\n      if (current.attr === attr) {\n        index = i;\n        break;\n      }\n    }\n    if (index !== undefined) {\n      for (let i = index; i >= 0; i--) {\n        const prev = this.valueChangesStack[i - 1];\n        const current = this.valueChangesStack[i];\n        if (current.attr === attr) {\n          this.valueChangesStack.splice(i, 1);\n          if (!prev || prev.attr === attr) {\n            continue;\n          } else {\n            break;\n          }\n        }\n      }\n    }\n    if (this.valueChangesStack.length === 0) {\n      this.onCacheEmptyStateChanges.emit(true);\n    }\n  }\n\n  get isCacheStackEmpty(): boolean {\n    return (this.valueChangesStack.length === 0);\n  }\n\n  isInitialStateChanged(): boolean {\n    let currentCache;\n    if (this.formDataCache) {\n      currentCache = Object.assign({}, this.formDataCache);\n      this.removeUndefinedProperties(currentCache);\n    }\n\n    const initialKeys = Object.keys(this.initialDataCache);\n    const currentKeys = currentCache ? Object.keys(currentCache) : initialKeys;\n    if (initialKeys.length !== currentKeys.length) {\n      return true;\n    }\n    let res = false;\n    for (let i = 0, len = initialKeys.length; i < len; i++) {\n      const key = initialKeys[i];\n      // TODO be careful with types comparisions\n      res = (this.initialDataCache[key] !== currentCache[key]);\n      if (res) {\n        break;\n      }\n    }\n    return res;\n  }\n\n  getChangedFormControlsAttr(): string[] {\n    return this.changedFormControls;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanDeactivate, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { Codes } from '../../../util/codes';\nimport { OFormComponent } from '../o-form.component';\n\nexport interface CanComponentDeactivate {\n  canDeactivate: () => Observable<boolean> | Promise<boolean> | boolean;\n}\n\n@Injectable()\nexport class CanDeactivateFormGuard implements CanDeactivate<CanComponentDeactivate> {\n  oForm: OFormComponent;\n  public static CLASSNAME = 'CanDeactivateFormGuard';\n\n  canDeactivate(component: CanComponentDeactivate, curr: ActivatedRouteSnapshot, state: RouterStateSnapshot, future: RouterStateSnapshot) {\n    const futureQueryParams = future.root.queryParams;\n    if (futureQueryParams.hasOwnProperty(Codes.IGNORE_CAN_DEACTIVATE)) {\n      return true;\n    }\n    if (this.oForm) {\n      return this.oForm.canDeactivate();\n    }\n    return true;\n  }\n\n  setForm(form: OFormComponent) {\n    this.oForm = form;\n  }\n}\n\n","import { Directive, Input, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  selector: '[o-form-layout-manager-content]',\n})\nexport class OFormLayoutManagerContentDirective {\n\n  @Input() index: number;\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  Inject,\n  Injector,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { OFormLayoutManagerComponent } from '../../../layouts/form-layout/o-form-layout-manager.component';\nimport { OFormLayoutManagerContentDirective } from '../directives/o-form-layout-manager-content.directive';\n\n@Component({\n  selector: 'o-form-layout-dialog',\n  templateUrl: 'o-form-layout-dialog.component.html',\n  styleUrls: ['o-form-layout-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-dialog]': 'true'\n  }\n})\nexport class OFormLayoutDialogComponent implements AfterViewInit {\n  formLayoutManager: OFormLayoutManagerComponent;\n  queryParams: any;\n  params: object;\n  urlSegments: any[];\n  label: string;\n  title: string;\n  data: any;\n\n  protected componentFactory: ComponentFactory<any>;\n\n  @ViewChild(OFormLayoutManagerContentDirective, { static: false }) contentDirective: OFormLayoutManagerContentDirective;\n\n  constructor(\n    public dialogRef: MatDialogRef<OFormLayoutDialogComponent>,\n    protected injector: Injector,\n    protected componentFactoryResolver: ComponentFactoryResolver,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.title) {\n      this.title = data.title;\n    }\n    if (data.data) {\n      this.data = data.data;\n      const component = data.data.component;\n      this.componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n      this.params = data.data.params;\n      this.queryParams = data.data.queryParams;\n      this.urlSegments = data.data.urlSegments;\n    }\n    if (data.layoutManagerComponent) {\n      this.formLayoutManager = data.layoutManagerComponent;\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this.contentDirective && this.componentFactory) {\n      const viewContainerRef = this.contentDirective.viewContainerRef;\n      viewContainerRef.clear();\n      viewContainerRef.createComponent(this.componentFactory);\n    }\n  }\n\n  updateNavigation(data: any, id: string) {\n    let label = this.formLayoutManager.getLabelFromData(data);\n    if (label && label.length) {\n      label = ': ' + label;\n    }\n    this.label = label;\n  }\n\n  updateActiveData(data: any) {\n    this.data = Object.assign(this.data, data);\n  }\n\n  closeDialog() {\n    this.dialogRef.close();\n  }\n\n  getRouteOfActiveItem(): any[] {\n    const parentRoute = this.formLayoutManager.parentFormLayoutManager.getRouteOfActiveItem();\n    const segments = (this.urlSegments || []);\n    const route = [];\n    segments.forEach((segment, index) => {\n      if (parentRoute[index] !== segment.path) {\n        route.push(segment.path);\n      }\n    });\n    return route;\n  }\n\n  getParams(): any {\n    return this.params;\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { OFormLayoutManagerComponent } from '../layouts/form-layout/o-form-layout-manager.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OFormLayoutManagerService {\n  protected registeredFormLayoutManagers = {};\n  protected _activeFormLayoutManager: OFormLayoutManagerComponent;\n\n  constructor(protected injector: Injector) {\n  }\n\n  registerFormLayoutManager(comp: OFormLayoutManagerComponent) {\n    this.registeredFormLayoutManagers[comp.getAttribute()] = comp;\n  }\n\n  removeFormLayoutManager(comp: OFormLayoutManagerComponent) {\n    delete this.registeredFormLayoutManagers[comp.getAttribute()];\n  }\n\n  get activeFormLayoutManager(): OFormLayoutManagerComponent {\n    return this._activeFormLayoutManager;\n  }\n\n  set activeFormLayoutManager(arg: OFormLayoutManagerComponent) {\n    this._activeFormLayoutManager = arg;\n  }\n}\n","import { Component, ViewEncapsulation } from '@angular/core';\nimport { DialogPosition } from '@angular/material';\n\nimport { InputConverter } from '../../../../decorators/input-converter';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_DIALOG_OPTIONS = [\n  'width',\n  'minWidth: min-width',\n  'maxWidth: max-width',\n  'height',\n  'minHeight: min-height',\n  'maxHeight max-height',\n  'class',\n  'position',\n  'backdropClass: backdrop-class',\n  'closeOnNavigation: close-on-navigation',\n  'disableClose:disable-close'\n];\n\n@Component({\n  selector: 'o-form-layout-dialog-options',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_DIALOG_OPTIONS,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-dialog-options]': 'true'\n  }\n})\nexport class OFormLayoutDialogOptionsComponent {\n  // constructor(@Inject(forwardRef(() => OFormLayoutManagerComponent)) protected oFormLayoutManager: OFormLayoutManagerComponent) { }\n  constructor() { }\n  public width: string = '';\n\n  public minWidth: number | string;\n\n  public maxWidth: number | string;\n\n  public height: string = '';\n\n  public minHeight: number | string;\n\n  public maxHeight: number | string;\n\n  public class: string | string[] = '';\n\n  public position: DialogPosition;\n\n  public backdropClass: string;\n\n  @InputConverter()\n  public closeOnNavigation: boolean = true;\n\n  @InputConverter()\n  public disableClose: boolean = true;\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot } from '@angular/router';\n\nimport { PermissionsGuardService } from './permissions/permissions-can-activate.guard';\nimport { PermissionsService } from './permissions/permissions.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShareCanActivateChildService {\n\n  protected router: Router;\n  protected permissionsService: PermissionsService;\n  protected permissionsGuard: PermissionsGuardService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.permissionsService = this.injector.get(PermissionsService);\n  }\n\n  setPermissionsGuard(guard: PermissionsGuardService) {\n    this.permissionsGuard = guard;\n  }\n\n  canActivateChildUsingPermissions(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    if (this.permissionsGuard) {\n      return this.permissionsGuard.canActivateChild(childRoute, state);\n    }\n    return true;\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivateChild, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { OFormLayoutManagerService } from '../../../services/o-form-layout-manager.service';\nimport { ShareCanActivateChildService } from '../../../services/share-can-activate-child.service';\nimport { Util } from '../../../util/util';\nimport { OFormLayoutManagerComponent } from '../o-form-layout-manager.component';\n\n@Injectable()\nexport class CanActivateFormLayoutChildGuard implements CanActivateChild {\n\n  protected oFormLayoutService: OFormLayoutManagerService;\n  protected shareCanActivateChildService: ShareCanActivateChildService;\n\n  constructor(protected injector: Injector) {\n    this.shareCanActivateChildService = this.injector.get(ShareCanActivateChildService);\n    try {\n      this.oFormLayoutService = this.injector.get(OFormLayoutManagerService);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | Observable<boolean> | Promise<boolean> {\n    const formLayoutManager: OFormLayoutManagerComponent = this.oFormLayoutService.activeFormLayoutManager;\n    this.oFormLayoutService.activeFormLayoutManager = undefined;\n    if (formLayoutManager) {\n      const oPermission = childRoute.data ? childRoute.data['oPermission'] : undefined;\n      const permissionId: string = (oPermission || {})['permissionId'];\n      if (Util.isDefined(permissionId)) {\n        const restricted = !this.shareCanActivateChildService.canActivateChildUsingPermissions(childRoute, state);\n        if (restricted) {\n          return false;\n        }\n      }\n      formLayoutManager.addDetailComponent(childRoute, state.url.substring(0, state.url.indexOf('?')));\n      return false;\n    }\n    return true;\n  }\n}\n","import { Component, ContentChild, TemplateRef, ViewEncapsulation } from '@angular/core';\nimport { MatTabHeaderPosition } from '@angular/material';\n\nimport { InputConverter } from '../../../../decorators/input-converter';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP_OPTIONS = [\n  'backgroundColor:background-color',\n  'color',\n  'headerPosition:header-position',\n  'disableAnimation:disable-animation',\n  'icon',\n  'iconPosition:icon-position'\n];\n\n@Component({\n  selector: 'o-form-layout-tabgroup-options',\n  template: ' ',\n  encapsulation: ViewEncapsulation.None,\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP_OPTIONS,\n  host: {\n    '[class.o-form-layout-tabgroup-options]': 'true'\n  }\n})\nexport class OFormLayoutTabGroupOptionsComponent {\n  constructor() { }\n  // constructor(@Inject(forwardRef(() => OFormLayoutManagerComponent)) protected oFormLayoutManager: OFormLayoutManagerComponent) { }\n\n  public backgroundColor;\n  public color;\n\n  @InputConverter()\n  public disableAnimation: boolean;\n\n  public headerPosition: MatTabHeaderPosition;\n\n  @ContentChild(TemplateRef, { static: false })\n  templateMatTabLabel: TemplateRef<any>;\n\n  public icon: string;\n  public iconPosition: 'left' | 'right' = 'left';\n}\n","import {\n  AfterViewInit,\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Injector,\n  OnDestroy,\n  OnInit,\n  Optional,\n  SkipSelf,\n  ViewChild,\n} from '@angular/core';\nimport { MatDialog, MatDialogConfig, MatDialogRef } from '@angular/material';\nimport { ActivatedRoute, ActivatedRouteSnapshot, Route, Router } from '@angular/router';\n\nimport { OServiceComponent } from '../../components/o-service-component.class';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { ILocalStorageComponent } from '../../interfaces/local-storage-component.interface';\nimport { OFormLayoutTabGroup } from '../../interfaces/o-form-layout-tab-group.interface';\nimport { LocalStorageService } from '../../services/local-storage.service';\nimport { NavigationService } from '../../services/navigation.service';\nimport { OFormLayoutManagerService } from '../../services/o-form-layout-manager.service';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport { FormLayoutDetailComponentData } from '../../types/form-layout-detail-component-data.type';\nimport { Util } from '../../util/util';\nimport { OFormLayoutDialogComponent } from './dialog/o-form-layout-dialog.component';\nimport { OFormLayoutDialogOptionsComponent } from './dialog/options/o-form-layout-dialog-options.component';\nimport { CanActivateFormLayoutChildGuard } from './guards/o-form-layout-can-activate-child.guard';\nimport { OFormLayoutTabGroupOptionsComponent } from './tabgroup/options/o-form-layout-tabgroup-options.component';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER = [\n  'oattr: attr',\n  'mode',\n  'labelColumns: label-columns',\n  'separator',\n  'title',\n  'storeState: store-state',\n  // attr of the child form from which the data for building the tab title will be obtained\n  'titleDataOrigin: title-data-origin',\n  'dialogWidth: dialog-width',\n  'dialogMinWidth: dialog-min-width',\n  'dialogMaxWidth: dialog-max-width',\n  'dialogHeight: dialog-height',\n  'dialogMinHeight: dialog-min-height',\n  'dialogMaxHeight dialog-max-height',\n  'dialogClass: dialog-class'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER = [\n  'onMainTabSelected',\n  'onSelectedTabChange',\n  'onCloseTab'\n];\n\n@Component({\n  selector: 'o-form-layout-manager',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER,\n  outputs: DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER,\n  templateUrl: './o-form-layout-manager.component.html',\n  host: {\n    '[class.o-form-layout-manager]': 'true'\n  }\n})\nexport class OFormLayoutManagerComponent implements AfterViewInit, OnInit, OnDestroy, ILocalStorageComponent {\n\n  public static guardClassName = 'CanActivateFormLayoutChildGuard';\n\n  public static DIALOG_MODE = 'dialog';\n  public static TAB_MODE = 'tab';\n\n  public oattr: string;\n  public mode: string;\n  public labelColumns: string;\n  public separator: string = ' ';\n  public title: string;\n  @InputConverter()\n  public storeState: boolean = true;\n  public titleDataOrigin: string;\n  public dialogWidth: string;\n  public dialogMinWidth: string;\n  public dialogMaxWidth: string;\n  public dialogHeight: string;\n  public dialogMinHeight: string;\n  public dialogMaxHeight: string;\n  public dialogClass: string = '';\n\n  @ViewChild('tabGroup', { static: false })\n  public oTabGroup: OFormLayoutTabGroup;\n  public dialogRef: MatDialogRef<OFormLayoutDialogComponent>;\n\n  public onMainTabSelected: EventEmitter<any> = new EventEmitter<any>();\n  public onSelectedTabChange: EventEmitter<any> = new EventEmitter<any>();\n  public onCloseTab: EventEmitter<any> = new EventEmitter<any>();\n\n  protected labelColsArray: string[] = [];\n\n  protected translateService: OTranslateService;\n  protected oFormLayoutManagerService: OFormLayoutManagerService;\n  protected localStorageService: LocalStorageService;\n  protected onRouteChangeStorageSubscription: any;\n\n  @ContentChild(OFormLayoutTabGroupOptionsComponent, { static: false })\n  public tabGroupOptions: OFormLayoutTabGroupOptionsComponent;\n\n  @ContentChild(OFormLayoutDialogOptionsComponent, { static: false })\n  public dialogOptions: OFormLayoutDialogOptionsComponent;\n\n  protected addingGuard: boolean = false;\n\n  public navigationService: NavigationService;\n\n  public markForUpdate: boolean = false;\n  public onTriggerUpdate: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected dialog: MatDialog,\n    protected elRef: ElementRef,\n    @SkipSelf() @Optional()\n    public parentFormLayoutManager: OFormLayoutManagerComponent\n  ) {\n    this.oFormLayoutManagerService = this.injector.get(OFormLayoutManagerService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.navigationService = this.injector.get(NavigationService);\n    if (this.storeState) {\n      this.onRouteChangeStorageSubscription = this.localStorageService.onRouteChange.subscribe(res => {\n        this.updateStateStorage();\n      });\n    }\n  }\n\n  public ngOnInit(): void {\n    const availableModeValues = [OFormLayoutManagerComponent.DIALOG_MODE, OFormLayoutManagerComponent.TAB_MODE];\n    this.mode = (this.mode || '').toLowerCase();\n    if (availableModeValues.indexOf(this.mode) === -1) {\n      this.mode = OFormLayoutManagerComponent.DIALOG_MODE;\n    }\n    this.labelColsArray = Util.parseArray(this.labelColumns);\n    this.addActivateChildGuard();\n    if (!Util.isDefined(this.oattr)) {\n      this.oattr = this.title + this.mode;\n      console.warn('o-form-layout-manager must have an unique attr');\n    }\n    this.oFormLayoutManagerService.registerFormLayoutManager(this);\n  }\n\n  public ngAfterViewInit(): void {\n    setTimeout(() => {\n      if (this.elRef) {\n        this.elRef.nativeElement.removeAttribute('title');\n      }\n      if (this.storeState && this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n        const state = this.localStorageService.getComponentStorage(this);\n        this.oTabGroup.initializeComponentState(state);\n      }\n    });\n  }\n\n  public ngOnDestroy(): void {\n    if (this.onRouteChangeStorageSubscription) {\n      this.onRouteChangeStorageSubscription.unsubscribe();\n    }\n    this.updateStateStorage();\n    this.oFormLayoutManagerService.removeFormLayoutManager(this);\n    this.destroyAactivateChildGuard();\n  }\n\n  public getAttribute(): string {\n    return this.oattr;\n  }\n\n  public getComponentKey(): string {\n    return 'OFormLayoutManagerComponent_' + this.oattr;\n  }\n\n  public getDataToStore(): object {\n    // only storing in tab mode\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getDataToStore();\n    }\n    return {};\n  }\n\n  @HostListener('window:beforeunload', [])\n  public beforeunloadHandler(): void {\n    this.updateStateStorage();\n  }\n\n  public getLabelFromUrlParams(urlParams: object): string {\n    let label = '';\n    const keys = Object.keys(urlParams);\n    keys.forEach((param, i) => {\n      label += urlParams[param] + ((i < keys.length - 1) ? this.separator : '');\n    });\n    return label;\n  }\n\n  public getFormDataFromLabelColumns(data: any) {\n    const formData = {};\n    Object.keys(data).forEach(x => {\n      if (this.labelColsArray.indexOf(x) > -1) {\n        formData[x] = data[x];\n      }\n    });\n    return formData;\n\n  }\n  public addActivateChildGuard(): void {\n    const routeConfig = this.getParentActRouteRoute();\n    if (Util.isDefined(routeConfig)) {\n      const canActivateChildArray = (routeConfig.canActivateChild || []);\n      let previouslyAdded = false;\n      for (let i = 0, len = canActivateChildArray.length; i < len; i++) {\n        previouslyAdded = (canActivateChildArray[i].name === OFormLayoutManagerComponent.guardClassName);\n        if (previouslyAdded) {\n          break;\n        }\n      }\n      if (!previouslyAdded) {\n        this.addingGuard = true;\n        canActivateChildArray.push(CanActivateFormLayoutChildGuard);\n        routeConfig.canActivateChild = canActivateChildArray;\n      }\n    }\n  }\n\n  public destroyAactivateChildGuard(): void {\n    if (!this.addingGuard) {\n      return;\n    }\n    const routeConfig = this.getParentActRouteRoute();\n    if (Util.isDefined(routeConfig)) {\n      for (let i = (routeConfig.canActivateChild || []).length - 1; i >= 0; i--) {\n        if (routeConfig.canActivateChild[i].name === OFormLayoutManagerComponent.guardClassName) {\n          routeConfig.canActivateChild.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n\n  public isDialogMode(): boolean {\n    return this.mode === OFormLayoutManagerComponent.DIALOG_MODE;\n  }\n\n  public isTabMode(): boolean {\n    return this.mode === OFormLayoutManagerComponent.TAB_MODE;\n  }\n\n  public addDetailComponent(childRoute: ActivatedRouteSnapshot, url: string): void {\n    const newDetailComp: FormLayoutDetailComponentData = {\n      params: childRoute.params,\n      queryParams: childRoute.queryParams,\n      urlSegments: childRoute.url,\n      component: childRoute.routeConfig.component,\n      url: url,\n      id: Math.random().toString(36),\n      label: '',\n      modified: false\n    };\n\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.addTab(newDetailComp);\n    } else if (this.isDialogMode()) {\n      this.openFormLayoutDialog(newDetailComp);\n    }\n  }\n\n  public closeDetail(id?: string): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.closeTab(id);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.close();\n      this.reloadMainComponents();\n    }\n  }\n\n  public openFormLayoutDialog(detailComp: FormLayoutDetailComponentData): void {\n    const cssclass = ['o-form-layout-dialog-overlay'];\n    if (this.dialogClass) {\n      cssclass.push(this.dialogClass);\n    }\n    const dialogConfig: MatDialogConfig = {\n      data: {\n        data: detailComp,\n        layoutManagerComponent: this,\n        title: this.title,\n      },\n      width: this.dialogOptions ? this.dialogOptions.width : this.dialogWidth,\n      minWidth: this.dialogOptions ? this.dialogOptions.minWidth : this.dialogMinWidth,\n      maxWidth: this.dialogOptions ? this.dialogOptions.maxWidth : this.dialogMaxWidth,\n      height: this.dialogOptions ? this.dialogOptions.height : this.dialogHeight,\n      minHeight: this.dialogOptions ? this.dialogOptions.minHeight : this.dialogMinHeight,\n      maxHeight: this.dialogOptions ? this.dialogOptions.maxHeight : this.dialogMaxHeight,\n      disableClose: this.dialogOptions ? this.dialogOptions.disableClose : true,\n      panelClass: this.dialogOptions ? this.dialogOptions.class : cssclass\n\n    };\n\n    if (this.dialogOptions) {\n      dialogConfig.closeOnNavigation = this.dialogOptions.closeOnNavigation;\n      dialogConfig.backdropClass = this.dialogOptions.backdropClass;\n      dialogConfig.position = this.dialogOptions.position;\n      dialogConfig.disableClose = this.dialogOptions.disableClose;\n    }\n\n\n    this.dialogRef = this.dialog.open(OFormLayoutDialogComponent, dialogConfig);\n    this.dialogRef.afterClosed().subscribe(() => {\n      this.updateIfNeeded();\n    });\n  }\n\n  public getFormCacheData(formId: string): FormLayoutDetailComponentData {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getFormCacheData(formId);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      return this.dialogRef.componentInstance.data;\n    }\n    return undefined;\n  }\n\n  public getLastTabId(): string {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getLastTabId();\n    }\n    return undefined;\n  }\n\n  public setModifiedState(modified: boolean, id: string): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.setModifiedState(modified, id);\n    }\n  }\n\n  public getLabelFromData(data: any): string {\n    let label = '';\n    const isDataDefined = Util.isDefined(data);\n    if (isDataDefined && data.hasOwnProperty('new_tab_title')) {\n      label = this.translateService.get(data.new_tab_title);\n    } else if (isDataDefined && this.labelColsArray.length !== 0) {\n      this.labelColsArray.forEach((col, idx) => {\n        if (data[col] !== undefined) {\n          label += data[col] + ((idx < this.labelColsArray.length - 1) ? this.separator : '');\n        }\n      });\n    }\n    return label;\n  }\n\n  public updateNavigation(data: any, id: string, insertionMode?: boolean): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.updateNavigation(data, id, insertionMode);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.componentInstance.updateNavigation(data, id);\n    }\n  }\n\n  public updateActiveData(data: any) {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.updateActiveData(data);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.componentInstance.updateActiveData(data);\n    }\n  }\n\n  public getRouteOfActiveItem(): any[] {\n    let route = [];\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      route = this.oTabGroup.getRouteOfActiveItem();\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      route = this.dialogRef.componentInstance.getRouteOfActiveItem();\n    }\n    return route;\n  }\n\n  public isMainComponent(comp: OServiceComponent): boolean {\n    let result = false;\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      const firstTab = this.oTabGroup.elementRef.nativeElement.getElementsByTagName('mat-tab-body')[0];\n      if (firstTab) {\n        result = firstTab.contains(comp.elementRef.nativeElement);\n      }\n    } else if (this.isDialogMode()) {\n      result = !comp.oFormLayoutDialog;\n    }\n    return result;\n  }\n\n  public getRouteForComponent(comp: OServiceComponent): any[] {\n    const result = [];\n    if (this.parentFormLayoutManager) {\n      const parentRoute = this.parentFormLayoutManager.getRouteForComponent(comp);\n      if (parentRoute && parentRoute.length > 0) {\n        result.push(...parentRoute);\n      }\n    }\n    if (!this.isMainComponent(comp)) {\n      const activeRoute = this.getRouteOfActiveItem();\n      if (activeRoute && activeRoute.length > 0) {\n        result.push(...activeRoute);\n      }\n    }\n    return result;\n  }\n\n  public setAsActiveFormLayoutManager(): void {\n    this.oFormLayoutManagerService.activeFormLayoutManager = this;\n  }\n\n  public reloadMainComponents(): void {\n    this.onTriggerUpdate.emit();\n  }\n\n  public allowToUpdateNavigation(formAttr: string): boolean {\n    return (this.isTabMode() && Util.isDefined(this.oTabGroup) && Util.isDefined(this.titleDataOrigin)) ?\n      this.titleDataOrigin === formAttr :\n      true;\n  }\n\n  protected updateStateStorage(): void {\n    if (this.localStorageService && this.isTabMode() && Util.isDefined(this.oTabGroup) && this.storeState) {\n      this.localStorageService.updateComponentStorage(this);\n    }\n  }\n\n  private getParentActRouteRoute(): Route {\n    let actRoute = this.actRoute;\n    while (actRoute.parent !== undefined && actRoute.parent !== null) {\n      if (actRoute.routeConfig.children || actRoute.routeConfig.loadChildren) {\n        break;\n      }\n      actRoute = actRoute.parent;\n    }\n    return actRoute.routeConfig;\n  }\n\n  public updateIfNeeded() {\n    if (this.markForUpdate) {\n      this.markForUpdate = false;\n      this.onTriggerUpdate.emit();\n    }\n  }\n\n  public getParams(): any {\n    let data;\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      data = this.oTabGroup.getParams();\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      data = this.dialogRef.componentInstance.getParams();\n    }\n    return data;\n  }\n}\n","import { EventEmitter, Injector } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras, Router, UrlSegmentGroup } from '@angular/router';\nimport { combineLatest, Observable, Subscription } from 'rxjs';\n\nimport { OFormLayoutDialogComponent } from '../../../layouts/form-layout/dialog/o-form-layout-dialog.component';\nimport { OFormLayoutManagerComponent } from '../../../layouts/form-layout/o-form-layout-manager.component';\nimport { DialogService } from '../../../services/dialog.service';\nimport { NavigationService, ONavigationItem } from '../../../services/navigation.service';\nimport { FormLayoutDetailComponentData } from '../../../types/form-layout-detail-component-data.type';\nimport { Codes } from '../../../util/codes';\nimport { SQLTypes } from '../../../util/sqltypes';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../o-form.component';\n\nexport class OFormNavigationClass {\n\n  formLayoutManager: OFormLayoutManagerComponent;\n  formLayoutDialog: OFormLayoutDialogComponent;\n  id: string;\n\n  protected dialogService: DialogService;\n  protected navigationService: NavigationService;\n\n  protected qParamSub: Subscription;\n  protected queryParams: any;\n\n  protected urlParamSub: Subscription;\n  protected urlParams: object;\n\n  protected urlSub: Subscription;\n  protected urlSegments: any = [];\n\n  protected combinedNavigationStream: Observable<any>;\n  protected combinedNavigationStreamSubscription: Subscription;\n  protected onUrlParamChangedStream: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  public navigationStream: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  protected onCloseTabSubscription: Subscription;\n  protected cacheStateSubscription: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected form: OFormComponent,\n    protected router: Router,\n    protected actRoute: ActivatedRoute\n  ) {\n    this.dialogService = injector.get(DialogService);\n    this.navigationService = injector.get(NavigationService);\n\n    try {\n      this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    } catch (e) {\n      // No parent formLayoutManager\n    }\n\n    try {\n      this.formLayoutDialog = this.injector.get(OFormLayoutDialogComponent);\n    } catch (e) {\n      // No parent form layout dialog\n    }\n\n    if (this.formLayoutDialog && !this.formLayoutManager) {\n      this.formLayoutManager = this.formLayoutDialog.formLayoutManager;\n    }\n\n    const self = this;\n    this.combinedNavigationStream = combineLatest([self.onUrlParamChangedStream.asObservable()]);\n\n    this.combinedNavigationStream.subscribe(valArr => {\n      if (Util.isArray(valArr) && valArr.length === 1 && valArr[0]) {\n        self.navigationStream.emit(true);\n      }\n    });\n  }\n\n  initialize() {\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode()) {\n      this.id = this.formLayoutManager.getLastTabId();\n    }\n  }\n\n  destroy() {\n    if (this.qParamSub) {\n      this.qParamSub.unsubscribe();\n    }\n    if (this.urlParamSub) {\n      this.urlParamSub.unsubscribe();\n    }\n    if (this.urlSub) {\n      this.urlSub.unsubscribe();\n    }\n    if (this.combinedNavigationStreamSubscription) {\n      this.combinedNavigationStreamSubscription.unsubscribe();\n    }\n  }\n\n  subscribeToQueryParams() {\n    if (this.formLayoutManager) {\n      const cacheData: FormLayoutDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.queryParams = cacheData.queryParams || {};\n        this.parseQueryParams();\n      }\n    } else {\n      const self = this;\n      this.qParamSub = this.actRoute.queryParams.subscribe(params => {\n        if (params) {\n          self.queryParams = params;\n          self.parseQueryParams();\n        }\n      });\n    }\n  }\n\n  private parseQueryParams() {\n    const isDetail = this.queryParams[Codes.IS_DETAIL];\n    // ensuring isdetail = false when using form layout manager\n    this.form.isDetailForm = this.formLayoutManager ? false : (isDetail === 'true');\n  }\n\n  subscribeToUrlParams() {\n    if (this.formLayoutManager) {\n      const cacheData: FormLayoutDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.urlParams = cacheData.params;\n        this.parseUrlParams();\n      }\n    } else {\n      const self = this;\n      this.urlParamSub = this.actRoute.params.subscribe(params => {\n        self.urlParams = params;\n        this.parseUrlParams();\n      });\n    }\n  }\n\n  private parseUrlParams() {\n    if (Util.isDefined(this.urlParams) && Util.isDefined(this.urlParams[Codes.PARENT_KEYS_KEY])) {\n      this.form.formParentKeysValues = Util.decodeParentKeys(this.urlParams[Codes.PARENT_KEYS_KEY]);\n    }\n    // TODO Obtain 'datatype' of each key contained into urlParams for\n    // for building correctly query filter!!!!\n    if (this.urlParams) {\n      this.onUrlParamChangedStream.emit(true);\n    }\n  }\n\n  subscribeToUrl() {\n    if (this.formLayoutManager) {\n      const cacheData: FormLayoutDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.urlSegments = cacheData.urlSegments;\n      }\n    } else {\n      const self = this;\n      this.urlSub = this.actRoute.url.subscribe(urlSegments => {\n        self.urlSegments = urlSegments;\n      });\n    }\n  }\n\n  subscribeToCacheChanges(onCacheEmptyStateChanges: EventEmitter<boolean>) {\n    this.cacheStateSubscription = onCacheEmptyStateChanges.asObservable().subscribe(res => {\n      this.setModifiedState(!res);\n    });\n  }\n\n  getCurrentKeysValues(): object {\n    let filter = {};\n    if (this.urlParams) {\n      filter = this.getFilterFromObject(this.urlParams);\n    }\n    return filter;\n  }\n\n  private getFilterFromObject(objectParam: any) {\n    const filter = {};\n    if (!objectParam || Object.keys(objectParam).length === 0) {\n      return filter;\n    }\n    if (this.form.keysArray) {\n      this.form.keysArray.forEach((key, index) => {\n        if (objectParam[key]) {\n          filter[key] = SQLTypes.parseUsingSQLType(objectParam[key], this.form.keysSqlTypesArray[index]);\n        }\n      });\n    }\n    Object.keys(this.form._pKeysEquiv).forEach((item, index) => {\n      const urlVal = objectParam[this.form._pKeysEquiv[item]];\n      if (urlVal) {\n        filter[item] = SQLTypes.parseUsingSQLType(urlVal, this.form.keysSqlTypesArray[index]);\n      }\n    });\n    return filter;\n  }\n\n  getFilterFromUrlParams() {\n    const filter = Object.assign({}, this.getUrlParams() || {});\n    const urlParamsKeys = Object.keys(filter || {});\n    if (urlParamsKeys.length > 0) {\n      urlParamsKeys.forEach(key => {\n        if (key === Codes.PARENT_KEYS_KEY) {\n          delete filter[key];\n          Object.assign(filter, this.form.formParentKeysValues);\n        }\n      });\n    }\n    return filter;\n  }\n\n  getUrlSegments() {\n    return this.urlSegments;\n  }\n\n  getQueryParams() {\n    return this.queryParams;\n  }\n\n  setUrlParams(val: object) {\n    this.urlParams = val;\n  }\n\n  getUrlParams() {\n    return this.urlParams;\n  }\n\n  setModifiedState(modified: boolean) {\n    if (this.formLayoutManager) {\n      this.formLayoutManager.setModifiedState(modified, this.id);\n    }\n  }\n\n  updateNavigation() {\n    if (this.formLayoutManager) {\n      const isInInsertMode = this.form.isInInsertMode();\n      let formData;\n      if (isInInsertMode) {\n        formData = {};\n        formData.new_tab_title = 'LAYOUT_MANANGER.INSERTION_MODE_TITLE';\n      } else if (this.formLayoutManager.allowToUpdateNavigation(this.form.oattr)) {\n        formData = {};\n        const self = this;\n        Object.keys(this.form.formData).forEach(key => {\n          formData[key] = self.form.formData[key].value;\n        });\n      }\n      if (formData) {\n        this.formLayoutManager.updateNavigation(formData, this.id, isInInsertMode);\n      }\n    }\n  }\n\n  navigateBack() {\n    if (this.formLayoutManager) {\n      this.formLayoutManager.closeDetail(this.id);\n    } else if (this.navigationService) {\n      this.navigationService.removeLastItem();\n      const navData: ONavigationItem = this.navigationService.getLastItem();\n      if (navData) {\n        const extras = {};\n        extras[Codes.QUERY_PARAMS] = navData.queryParams;\n        this.router.navigate([navData.url], extras);\n      }\n    }\n  }\n\n  closeDetailAction(options?: any) {\n    if (this.formLayoutManager) {\n      this.formLayoutManager.closeDetail(this.id);\n    } else if (this.navigationService) {\n      this.form.beforeCloseDetail.emit();\n      // `removeLastItemsUntilMain` may not remove all necessary items so current route will be checked below\n      if (!this.navigationService.removeLastItemsUntilMain()) {\n        // `removeLastItemsUntilMain` didn't find the main navigation item\n        this.navigationService.removeLastItem();\n      }\n      let navData: ONavigationItem = this.navigationService.getLastItem();\n      if (navData) {\n        // if navData route is the same as the current route, remove last item\n        if (this.navigationService.isCurrentRoute(navData.url)) {\n          this.navigationService.removeLastItem();\n          navData = this.navigationService.getLastItem();\n        }\n        const extras: NavigationExtras = {};\n        extras[Codes.QUERY_PARAMS] = navData.queryParams;\n        this.router.navigate([navData.url], extras).then(val => {\n          if (val && options && options.changeToolbarMode) {\n            this.form.getFormToolbar().setInitialMode();\n          }\n        });\n      }\n    }\n  }\n\n  stayInRecordAfterInsert(insertedKeys: object) {\n    if (this.formLayoutManager) {\n      this.form.setInitialMode();\n      const self = this;\n      const subscription = this.form.onDataLoaded.subscribe(() => {\n        const keys = self.form.getKeysValues();\n        self.formLayoutManager.updateActiveData({ params: keys });\n        const cacheData: FormLayoutDetailComponentData = self.formLayoutManager.getFormCacheData(self.id);\n        if (Util.isDefined(cacheData)) {\n          self.urlParams = cacheData.params;\n        }\n        subscription.unsubscribe();\n      });\n      this.form.queryData(insertedKeys);\n    } else if (this.navigationService && this.form.keysArray && insertedKeys) {\n      // Remove 'new' navigation item from history\n      this.navigationService.removeLastItem();\n\n      let params: any[] = [];\n      this.form.keysArray.forEach((current, index) => {\n        if (insertedKeys[current]) {\n          params.push(insertedKeys[current]);\n        }\n      });\n      let extras: NavigationExtras = {};\n      let qParams: any = Object.assign({}, this.getQueryParams(), Codes.getIsDetailObject());\n      extras[Codes.QUERY_PARAMS] = qParams;\n      let route = [];\n      const navData: ONavigationItem = this.navigationService.getLastMainNavigationRouteData();\n      if (navData) {\n        let url = navData.url;\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n          const detailIndex = url.lastIndexOf('/' + detailRoute);\n          if (detailIndex !== -1) {\n            url = url.substring(0, detailIndex);\n          }\n        }\n        route.unshift(url);\n        route.push(...params);\n        // deleting insertFormRoute as active mode (because stayInRecordAfterInsert changes it)\n        this.navigationService.deleteActiveFormMode(navData);\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../', ...params];\n      }\n      this.router.navigate(route, extras);\n    }\n  }\n\n  /**\n   * Navigates to 'insert' mode\n   */\n  goInsertMode(options?: any) {\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      this.form.setInsertMode();\n    } else if (this.navigationService) {\n      if (this.formLayoutManager && this.formLayoutManager.isTabMode()) {\n        this.formLayoutManager.setAsActiveFormLayoutManager();\n      }\n\n      let route = [];\n      const extras: NavigationExtras = {};\n      const navData: ONavigationItem = this.navigationService.getLastMainNavigationRouteData();\n      if (!this.formLayoutManager && navData) {\n        route.push(navData.url);\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n        }\n        route.push(navData.getInsertFormRoute());\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../' + Codes.DEFAULT_INSERT_ROUTE];\n      }\n      this.storeNavigationFormRoutes('insertFormRoute');\n      this.router.navigate(route, extras).then((val) => {\n        if (val && options && options.changeToolbarMode) {\n          this.form.getFormToolbar().setInsertMode();\n        }\n      });\n    }\n  }\n\n  /**\n   * Navigates to 'edit' mode\n   */\n  goEditMode(options?: any) {\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      this.form.setUpdateMode();\n    } else if (this.navigationService) {\n      let route = [];\n      const extras: NavigationExtras = {};\n      if (this.form.isDetailForm) {\n        extras[Codes.QUERY_PARAMS] = Codes.getIsDetailObject();\n      }\n      extras[Codes.QUERY_PARAMS] = Object.assign({}, this.getQueryParams(), extras[Codes.QUERY_PARAMS] || {});\n\n      const params: any[] = [];\n      const urlParams = this.getUrlParams();\n      this.form.keysArray.forEach(key => {\n        if (urlParams[key]) {\n          params.push(urlParams[key]);\n        }\n      });\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (Util.isDefined(navData)) {\n        route.push(navData.url);\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n        }\n        route.push(...params);\n        route.push(navData.getEditFormRoute());\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../', ...params, Codes.DEFAULT_EDIT_ROUTE];\n      }\n      this.storeNavigationFormRoutes('editFormRoute');\n      this.form.beforeUpdateMode.emit();\n      this.router.navigate(route, extras).then((val) => {\n        if (val && options && options.changeToolbarMode) {\n          this.form.getFormToolbar().setEditMode();\n        }\n      });\n    }\n  }\n\n  /**\n   * @deprecated\n   */\n  getNestedLevelsNumber() {\n    let actRoute = this.actRoute;\n    let i = 0;\n    while (actRoute.parent) {\n      actRoute = actRoute.parent;\n      actRoute.url.subscribe((x) => {\n        if (x && x.length) {\n          i++;\n        }\n      });\n    }\n    return i;\n  }\n\n  /**\n   * @deprecated\n   */\n  getFullUrlSegments() {\n    let fullUrlSegments = [];\n    const router = this.router;\n    if (router && router.url && router.url.length) {\n      const root: UrlSegmentGroup = router.parseUrl(router.url).root;\n      if (root && root.hasChildren() && root.children.primary) {\n        fullUrlSegments = root.children.primary.segments;\n      }\n    }\n    return fullUrlSegments;\n  }\n\n  showConfirmDiscardChanges(): Promise<boolean> {\n    let subscription: Promise<boolean>;\n    if (this.form.isInitialStateChanged() && !this.form.isInInsertMode()) {\n      subscription = this.dialogService.confirm('CONFIRM', 'MESSAGES.FORM_CHANGES_WILL_BE_LOST');\n    }\n    if (subscription === undefined) {\n      const observable = new Observable<boolean>(observer => {\n        observer.next(true);\n        observer.complete();\n      });\n      subscription = observable.toPromise();\n    }\n    return subscription;\n  }\n\n  protected storeNavigationFormRoutes(activeMode: string) {\n    const formRoutes = this.navigationService.getPreviousRouteData().formRoutes;\n    this.navigationService.storeFormRoutes({\n      detailFormRoute: formRoutes ? formRoutes.detailFormRoute : Codes.DEFAULT_DETAIL_ROUTE,\n      editFormRoute: formRoutes ? formRoutes.editFormRoute : Codes.DEFAULT_EDIT_ROUTE,\n      insertFormRoute: formRoutes ? formRoutes.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE\n    }, activeMode);\n  }\n\n}\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { ActivatedRoute, Router, UrlSegment } from '@angular/router';\nimport { BehaviorSubject, combineLatest, Observable, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { IComponent } from '../../interfaces/component.interface';\nimport { IFormDataComponent } from '../../interfaces/form-data-component.interface';\nimport { IFormDataTypeComponent } from '../../interfaces/form-data-type-component.interface';\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { OFormLayoutManagerComponent } from '../../layouts/form-layout/o-form-layout-manager.component';\nimport { DialogService } from '../../services/dialog.service';\nimport { OntimizeServiceProvider } from '../../services/factories';\nimport { NavigationService, ONavigationItem } from '../../services/navigation.service';\nimport { OntimizeService } from '../../services/ontimize/ontimize.service';\nimport { PermissionsService } from '../../services/permissions/permissions.service';\nimport { SnackBarService } from '../../services/snackbar.service';\nimport { FormValueOptions } from '../../types/form-value-options.type';\nimport { OFormInitializationOptions } from '../../types/o-form-initialization-options.type';\nimport { OFormPermissions } from '../../types/o-form-permissions.type';\nimport { OPermissions } from '../../types/o-permissions.type';\nimport { Codes } from '../../util/codes';\nimport { SQLTypes } from '../../util/sqltypes';\nimport { Util } from '../../util/util';\nimport { OFormContainerComponent } from '../form-container/o-form-container.component';\nimport { OFormControl } from '../input/o-form-control.class';\nimport { OFormCacheClass } from './cache/o-form.cache.class';\nimport { CanComponentDeactivate, CanDeactivateFormGuard } from './guards/o-form-can-deactivate.guard';\nimport { OFormNavigationClass } from './navigation/o-form.navigation.class';\nimport { OFormValue } from './OFormValue';\nimport { OFormToolbarComponent } from './toolbar/o-form-toolbar.component';\n\ninterface IFormDataComponentHash {\n  [attr: string]: IFormDataComponent;\n}\n\nexport const DEFAULT_INPUTS_O_FORM = [\n  // show-header [boolean]: visibility of form toolbar. Default: yes.\n  'showHeader: show-header',\n\n  // header-mode [string][ none | floating ]: painting mode of form toolbar. Default: 'floating'\n  'headerMode: header-mode',\n\n  // header-position [ top | bottom ]: position of the form toolbar. Default: 'top'\n  'headerPosition: header-position',\n\n  // label-header [string]: displayable text on form toolbar. Default: ''.\n  'labelheader: label-header',\n\n  // label-header-align [string][start | center | end]: alignment of form toolbar text. Default: 'center'\n  'labelHeaderAlign: label-header-align',\n\n  // header-actions [string]: available action buttons on form toolbar of standard CRUD operations, separated by ';'. Available options are R;I;U;D (Refresh, Insert, Update, Delete). Default: R;I;U;D\n  'headeractions: header-actions',\n\n  // show-header-actions-text [string][yes|no|true|false]: show text of form toolbar buttons. Default yes\n  'showHeaderActionsText: show-header-actions-text',\n\n  // entity [string]: entity of the service. Default: no value.\n  'entity',\n\n  // keys [string]: entity keys, separated by ';'. Default: no value.\n  'keys',\n\n  // columns [string]: columns of the entity, separated by ';'. Default: no value.\n  'columns',\n\n  // service [string]: JEE service path. Default: no value.\n  'service',\n\n  // stay-in-record-after-edit [string][yes|no|true|false]: shows edit form after edit a record. Default: false;\n  'stayInRecordAfterEdit: stay-in-record-after-edit',\n\n  // [string][new | detail]: shows reseted form after insert a new record (new) or shows the inserted record after (detail)\n  'afterInsertMode: after-insert-mode',\n\n  'serviceType : service-type',\n\n  'queryOnInit : query-on-init',\n\n  'parentKeys: parent-keys',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  // insert-method [string]: name of the service method to perform inserts. Default: insert.\n  'insertMethod: insert-method',\n\n  // update-method [string]: name of the service method to perform updates. Default: update.\n  'updateMethod: update-method',\n\n  // delete-method [string]: name of the service method to perform deletions. Default: delete.\n  'deleteMethod: delete-method',\n\n  // layout-direction [string][column|row]: Default: column\n  'layoutDirection: layout-direction',\n\n  // fxLayoutAlign value. Default: 'start start'\n  'layoutAlign: layout-align',\n\n  // editable-detail [string][yes|no|true|false]: Default: true;\n  'editableDetail: editable-detail',\n\n  // keys-sql-types [string]: entity keys types, separated by ';'. Default: no value.\n  'keysSqlTypes: keys-sql-types',\n\n  // undo-button [string][yes|no|true|false]: Include undo button in form-toolbar. Default: true;\n  'undoButton: undo-button',\n\n  // show-header-navigation [string][yes|no|true|false]: Include navigations buttons in form-toolbar. Default: false;\n  'showHeaderNavigation: show-header-navigation',\n\n  // attr\n  'oattr:attr',\n\n  'includeBreadcrumb: include-breadcrumb',\n\n  'detectChangesOnBlur: detect-changes-on-blur',\n\n  'confirmExit: confirm-exit',\n\n  // [function]: function to execute on query error. Default: no value.\n  'queryFallbackFunction: query-fallback-function'\n  // ,\n\n  // 'insertFallbackFunction: insert-fallback-function',\n\n  // 'updateFallbackFunction: update-fallback-function',\n\n  // 'deleteFallbackFunction: delete-fallback-function'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM = [\n  'onDataLoaded',\n  'beforeCloseDetail',\n  'beforeGoEditMode',\n  'onFormModeChange',\n  'onInsert',\n  'onUpdate',\n  'onDelete',\n  'beforeInsertMode',\n  'beforeUpdateMode',\n  'beforeInitialMode',\n  'onInsertMode',\n  'onUpdateMode',\n  'onInitialMode'\n];\n@Component({\n  selector: 'o-form',\n  providers: [\n    OntimizeServiceProvider\n  ],\n  templateUrl: './o-form.component.html',\n  styleUrls: ['./o-form.component.scss'],\n  inputs: DEFAULT_INPUTS_O_FORM,\n  outputs: DEFAULT_OUTPUTS_O_FORM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form]': 'true'\n  }\n})\nexport class OFormComponent implements OnInit, OnDestroy, CanComponentDeactivate, AfterViewInit {\n\n  public static DEFAULT_LAYOUT_DIRECTION = 'column';\n  public static guardClassName = 'CanDeactivateFormGuard';\n\n  /* inputs variables */\n  @InputConverter()\n  showHeader: boolean = true;\n  headerMode: string = 'floating';\n  headerPosition: 'top' | 'bottom' = 'top';\n  labelheader: string = '';\n  labelHeaderAlign: string = 'center';\n  headeractions: string = '';\n  showHeaderActionsText: string = 'yes';\n  entity: string;\n  keys: string = '';\n  columns: string = '';\n  service: string;\n  @InputConverter()\n  stayInRecordAfterEdit: boolean = false;\n  afterInsertMode: 'new' | 'detail' = null;\n  serviceType: string;\n  @InputConverter()\n  protected queryOnInit: boolean = true;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected insertMethod: string = Codes.INSERT_METHOD;\n  protected updateMethod: string = Codes.UPDATE_METHOD;\n  protected deleteMethod: string = Codes.DELETE_METHOD;\n  protected _layoutDirection: string = OFormComponent.DEFAULT_LAYOUT_DIRECTION;\n  protected _layoutAlign: string = 'start stretch';\n  @InputConverter()\n  protected editableDetail: boolean = true;\n  protected keysSqlTypes: string;\n  @InputConverter()\n  undoButton: boolean = true;\n  @InputConverter()\n  showHeaderNavigation: boolean = false;\n  public oattr: string = '';\n  @InputConverter()\n  includeBreadcrumb: boolean = false;\n  @InputConverter()\n  detectChangesOnBlur: boolean = true;\n  @InputConverter()\n  confirmExit: boolean = true;\n  public queryFallbackFunction: (error: any) => void;\n  // public insertFallbackFunction: Function;\n  // public updateFallbackFunction: Function;\n  // public deleteFallbackFunction: Function;\n\n  /* end of inputs variables */\n\n  /*parsed inputs variables */\n  isDetailForm: boolean = false;\n  keysArray: string[] = [];\n  colsArray: string[] = [];\n  dataService: any;\n  _pKeysEquiv = {};\n  keysSqlTypesArray: Array<string> = [];\n  /* end of parsed inputs variables */\n\n  formGroup: FormGroup;\n  onDataLoaded: EventEmitter<object> = new EventEmitter<object>();\n  beforeCloseDetail: EventEmitter<any> = new EventEmitter<any>();\n  /**\n   * @deprecated Use `beforeUpdateMode` instead\n   */\n  beforeGoEditMode: EventEmitter<any> = new EventEmitter<any>();\n  beforeInsertMode = new EventEmitter<null>();\n  beforeUpdateMode = new EventEmitter<null>();\n  beforeInitialMode = new EventEmitter<null>();\n  onInsertMode = new EventEmitter<null>();\n  onUpdateMode = new EventEmitter<null>();\n  onInitialMode = new EventEmitter<null>();\n  onFormModeChange: EventEmitter<number> = new EventEmitter<number>();\n  public onInsert: EventEmitter<any> = new EventEmitter();\n  public onUpdate: EventEmitter<any> = new EventEmitter();\n  public onDelete: EventEmitter<any> = new EventEmitter();\n\n  protected loadingSubject = new BehaviorSubject<boolean>(false);\n  public loading: Observable<boolean> = this.loadingSubject.asObservable();\n  public formData: object = {};\n  public navigationData: Array<any> = [];\n  public currentIndex = 0;\n  public mode: number = OFormComponent.Mode().INITIAL;\n\n  protected dialogService: DialogService;\n  protected navigationService: NavigationService;\n  protected snackBarService: SnackBarService;\n\n  protected _formToolbar: OFormToolbarComponent;\n\n  protected _components: IFormDataComponentHash = {};\n  protected _compSQLTypes: object = {};\n\n  formParentKeysValues: object;\n\n  public onFormInitStream: EventEmitter<boolean> = new EventEmitter<boolean>();\n  protected reloadStream: Observable<any>;\n  protected reloadStreamSubscription: Subscription;\n\n  protected querySubscription: Subscription;\n  protected loaderSubscription: Subscription;\n  protected dynamicFormSubscription: Subscription;\n\n  protected deactivateGuard: CanDeactivateFormGuard;\n  protected formCache: OFormCacheClass;\n  protected formNavigation: OFormNavigationClass;\n\n  public formContainer: OFormContainerComponent;\n\n  protected permissionsService: PermissionsService;\n  protected permissions: OFormPermissions;\n\n  @ViewChild('innerForm', { static: false }) innerFormEl: ElementRef;\n\n  ignoreFormCacheKeys: Array<any> = [];\n  canDiscardChanges: boolean;\n\n  public static Mode(): any {\n    enum m {\n      QUERY,\n      INSERT,\n      UPDATE,\n      INITIAL\n    }\n    return m;\n  }\n\n  constructor(\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected zone: NgZone,\n    protected cd: ChangeDetectorRef,\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n\n    this.formCache = new OFormCacheClass(this);\n    this.formNavigation = new OFormNavigationClass(this.injector, this, this.router, this.actRoute);\n\n    this.dialogService = injector.get(DialogService);\n    this.navigationService = injector.get(NavigationService);\n    this.snackBarService = injector.get(SnackBarService);\n    this.permissionsService = this.injector.get(PermissionsService);\n\n    const self = this;\n    this.reloadStream = combineLatest([\n      self.onFormInitStream.asObservable(),\n      self.formNavigation.navigationStream.asObservable()\n    ]);\n\n    this.reloadStreamSubscription = this.reloadStream.subscribe(valArr => {\n      if (Util.isArray(valArr) && valArr.length === 2 && !self.isInInsertMode()) {\n        const valArrValues = valArr[0] === true && valArr[1] === true;\n        if (self.queryOnInit && valArrValues) {\n          self.reload(true);\n        } else {\n          self.initializeFields();\n        }\n      }\n    });\n\n    try {\n      this.formContainer = injector.get(OFormContainerComponent);\n      this.formContainer.setForm(this);\n    } catch (e) {\n      //\n    }\n  }\n\n  registerFormComponent(comp: any) {\n    if (comp) {\n      const attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n\n        if (!comp.isAutomaticRegistering()) {\n          return;\n        }\n\n        if (this._components.hasOwnProperty(attr)) {\n          comp.repeatedAttr = true;\n          console.error('There is already a component registered in the form with the attr: ' + attr);\n          return;\n        }\n\n        this._components[attr] = comp;\n        // Setting parent key values...\n        if (this.formParentKeysValues && this.formParentKeysValues[attr] !== undefined) {\n          const val = this.formParentKeysValues[attr];\n          this._components[attr].setValue(val, {\n            emitModelToViewChange: false,\n            emitEvent: false\n          });\n        }\n        /*\n        * TODO. Check it!!!\n        * En un formulario con tabs, cuando se cambia de uno a otro, se destruyen las vistas\n        * de los componentes hijo del formulario.\n        * formDataCache contiene los valores (originales  editados) de los campos del formulario.\n        * La idea es asignar ese valor al campo cuando se registre de nuevo (Hay que asegurar el proceso\n        * para que slo sea cuando se registra de nuevo ;) )\n        */\n        const cachedValue = this.formCache.getCachedValue(attr);\n        if (Util.isDefined(cachedValue) && this.getDataValues() && this._components.hasOwnProperty(attr)) {\n          this._components[attr].setValue(cachedValue, {\n            emitModelToViewChange: false,\n            emitEvent: false\n          });\n        }\n      }\n    }\n  }\n\n  registerSQLTypeFormComponent(comp: IFormDataTypeComponent) {\n    if ((comp as any).repeatedAttr) {\n      return;\n    }\n    if (comp) {\n      const type = comp.getSQLType();\n      const attr = comp.getAttribute();\n      if (type !== SQLTypes.OTHER && attr && attr.length > 0 && this.ignoreFormCacheKeys.indexOf(attr) === -1) {\n        // Right now just store values different of 'OTHER'\n        this._compSQLTypes[attr] = type;\n      }\n    }\n  }\n\n  registerFormControlComponent(comp: IFormDataComponent) {\n    if ((comp as any).repeatedAttr) {\n      return;\n    }\n    if (comp) {\n      const attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n        const control: FormControl = comp.getControl();\n        if (control) {\n          this.formGroup.registerControl(attr, control);\n          if (!comp.isAutomaticRegistering()) {\n            this.ignoreFormCacheKeys.push(comp.getAttribute());\n          }\n        }\n      }\n    }\n  }\n\n  unregisterFormComponent(comp: IComponent) {\n    if (comp) {\n      const attr = comp.getAttribute();\n      if (attr && attr.length > 0 && this._components.hasOwnProperty(attr)) {\n        delete this._components[attr];\n      }\n    }\n  }\n\n  unregisterFormControlComponent(comp: IFormDataComponent) {\n    if (comp && comp.isAutomaticRegistering()) {\n      const control: FormControl = comp.getControl();\n      const attr = comp.getAttribute();\n      if (control && attr && attr.length > 0) {\n        this.formGroup.removeControl(attr);\n      }\n    }\n  }\n\n  unregisterSQLTypeFormComponent(comp: IFormDataTypeComponent) {\n    if (comp) {\n      const attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n        delete this._compSQLTypes[attr];\n      }\n    }\n  }\n\n  registerToolbar(fToolbar: OFormToolbarComponent) {\n    if (fToolbar) {\n      this._formToolbar = fToolbar;\n      this._formToolbar.isDetail = this.isDetailForm;\n    }\n  }\n\n  getComponents(): IFormDataComponentHash {\n    return this._components;\n  }\n\n  public load(): any {\n    const self = this;\n    const zone = this.injector.get(NgZone);\n    const loadObservable = new Observable(observer => {\n      const timer = window.setTimeout(() => {\n        observer.next(true);\n      }, 250);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          self.loadingSubject.next(false);\n        });\n      };\n\n    });\n    const subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  getDataValue(attr: string) {\n    if (this.isInInsertMode()) {\n      const urlParams = this.formNavigation.getFilterFromUrlParams();\n      const val = this.formGroup.value[attr] || urlParams[attr];\n      return new OFormValue(val);\n    } else if (this.isInInitialMode() && !this.isEditableDetail()) {\n      const data = this.formData;\n      if (data && data.hasOwnProperty(attr)) {\n        return data[attr];\n      }\n    } else if (this.isInUpdateMode() || this.isEditableDetail()) {\n      if (this.formData && Object.keys(this.formData).length > 0) {\n        const val = this.formCache.getCachedValue(attr);\n        if (this.formGroup.dirty && val) {\n          if (val instanceof OFormValue) {\n            return val;\n          }\n          return new OFormValue(val);\n        } else {\n          // Return original value stored into form data...\n          const data = this.formData;\n          if (data && data.hasOwnProperty(attr)) {\n            return data[attr];\n          }\n        }\n      }\n    }\n    return new OFormValue();\n  }\n\n  getDataValues() {\n    return this.formData;\n  }\n\n  /**\n   * Clears the form data. The data related to url params and parent keys remain unchanged.\n   */\n  clearData() {\n    const filter = this.formNavigation.getFilterFromUrlParams();\n    this.formGroup.reset({}, {\n      emitEvent: false\n    });\n    this.setData(filter);\n  }\n\n  canDeactivate(): Observable<boolean> | Promise<boolean> | boolean {\n    if (!this.confirmExit) {\n      return true;\n    }\n    const canDiscardChanges = this.canDiscardChanges;\n    this.canDiscardChanges = false;\n    return canDiscardChanges || this.showConfirmDiscardChanges();\n  }\n\n  showConfirmDiscardChanges(): Promise<boolean> {\n    return this.formNavigation.showConfirmDiscardChanges();\n  }\n\n  executeToolbarAction(action: string, options?: any) {\n    switch (action) {\n      case Codes.BACK_ACTION: this.back(); break;\n      case Codes.CLOSE_DETAIL_ACTION: this.closeDetail(options); break;\n      case Codes.RELOAD_ACTION: this.reload(true); break;\n      case Codes.GO_INSERT_ACTION: this.goInsertMode(options); break;\n      case Codes.INSERT_ACTION: this.insert(); break;\n      case Codes.GO_EDIT_ACTION: this.goEditMode(options); break;\n      case Codes.EDIT_ACTION: this.update(); break;\n      case Codes.UNDO_LAST_CHANGE_ACTION: this.undo(); break;\n      case Codes.DELETE_ACTION: return this.delete();\n      default: break;\n    }\n    return undefined;\n  }\n\n  ngOnInit(): void {\n    this.addDeactivateGuard();\n\n    this.formGroup = new FormGroup({});\n\n    this.formNavigation.initialize();\n\n    this.initialize();\n  }\n\n  addDeactivateGuard() {\n    if (this.isInInitialMode() && !this.isEditableDetail()) {\n      return;\n    }\n    if (!this.actRoute || !this.actRoute.routeConfig) {\n      return;\n    }\n    this.deactivateGuard = this.injector.get(CanDeactivateFormGuard);\n    this.deactivateGuard.setForm(this);\n    const canDeactivateArray = (this.actRoute.routeConfig.canDeactivate || []);\n    let previouslyAdded = false;\n    for (let i = 0, len = canDeactivateArray.length; i < len; i++) {\n      previouslyAdded = ((canDeactivateArray[i].hasOwnProperty('CLASSNAME') && canDeactivateArray[i].CLASSNAME) === OFormComponent.guardClassName);\n      if (previouslyAdded) {\n        break;\n      }\n    }\n    if (!previouslyAdded) {\n      canDeactivateArray.push(this.deactivateGuard.constructor);\n      this.actRoute.routeConfig.canDeactivate = canDeactivateArray;\n    }\n  }\n\n  destroyDeactivateGuard() {\n    try {\n      if (!this.deactivateGuard || !this.actRoute || !this.actRoute.routeConfig || !this.actRoute.routeConfig.canDeactivate) {\n        return;\n      }\n      this.deactivateGuard.setForm(undefined);\n      for (let i = this.actRoute.routeConfig.canDeactivate.length - 1; i >= 0; i--) {\n        if (this.actRoute.routeConfig.canDeactivate[i].name === OFormComponent.guardClassName) {\n          this.actRoute.routeConfig.canDeactivate.splice(i, 1);\n          break;\n        }\n      }\n      if (this.actRoute.routeConfig.canDeactivate.length === 0) {\n        delete this.actRoute.routeConfig.canDeactivate;\n      }\n    } catch (e) {\n      //\n    }\n  }\n\n  hasDeactivateGuard() {\n    return Util.isDefined(this.deactivateGuard);\n  }\n\n  /**\n   * Angular methods\n   */\n\n  initialize() {\n    const self = this;\n    if (this.headeractions === 'all') {\n      this.headeractions = 'R;I;U;D';\n    }\n    this.keysArray = Util.parseArray(this.keys, true);\n    this.colsArray = Util.parseArray(this.columns, true);\n    const pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n    this.keysSqlTypesArray = Util.parseArray(this.keysSqlTypes);\n\n    this.configureService();\n\n    this.formNavigation.subscribeToQueryParams();\n    this.formNavigation.subscribeToUrlParams();\n    this.formNavigation.subscribeToUrl();\n    this.formNavigation.subscribeToCacheChanges(this.formCache.onCacheEmptyStateChanges);\n\n    if (this.navigationService) {\n      this.navigationService.onVisibleChange(visible => {\n        self.showHeader = visible;\n      });\n    }\n\n    this.mode = OFormComponent.Mode().INITIAL;\n\n    this.permissions = this.permissionsService.getFormPermissions(this.oattr, this.actRoute);\n\n    if (typeof this.queryFallbackFunction !== 'function') {\n      this.queryFallbackFunction = undefined;\n    }\n    // if (typeof this.insertFallbackFunction !== 'function') {\n    //   this.insertFallbackFunction = undefined;\n    // }\n    // if (typeof this.updateFallbackFunction !== 'function') {\n    //   this.updateFallbackFunction = undefined;\n    // }\n    // if (typeof this.deleteFallbackFunction !== 'function') {\n    //   this.deleteFallbackFunction = undefined;\n    // }\n  }\n\n  reinitialize(options: OFormInitializationOptions) {\n    if (options && Object.keys(options).length) {\n      const clonedOpts = Object.assign({}, options);\n      for (const prop in clonedOpts) {\n        if (clonedOpts.hasOwnProperty(prop)) {\n          this[prop] = clonedOpts[prop];\n        }\n      }\n      this.destroy();\n      this.initialize();\n    }\n  }\n\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  destroy() {\n    if (this.reloadStreamSubscription) {\n      this.reloadStreamSubscription.unsubscribe();\n    }\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.formCache.destroy();\n    this.formNavigation.destroy();\n    this.destroyDeactivateGuard();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.determinateFormMode();\n      this.onFormInitStream.emit(true);\n    }, 0);\n  }\n\n  /*\n   * Inner methods\n   */\n\n  _setComponentsEditable(state: boolean) {\n    const components: any = this.getComponents();\n    Object.keys(components).forEach(compKey => {\n      const component = components[compKey];\n      component.isReadOnly = !state;\n    });\n  }\n\n  /**\n   * Sets form operation mode.\n   * @param mode The mode to be established\n   */\n  setFormMode(mode: number) {\n    switch (mode) {\n      case OFormComponent.Mode().INITIAL:\n        this.beforeInitialMode.emit();\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setInitialMode();\n        }\n        this._setComponentsEditable(this.isEditableDetail());\n        this.onFormModeChange.emit(this.mode);\n        this.onInitialMode.emit();\n        break;\n      case OFormComponent.Mode().INSERT:\n        this.beforeInsertMode.emit();\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setInsertMode();\n        }\n        this.clearData();\n        this._setComponentsEditable(true);\n        this.onFormModeChange.emit(this.mode);\n        this.onInsertMode.emit();\n        break;\n      case OFormComponent.Mode().UPDATE:\n        this.beforeUpdateMode.emit();\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setEditMode();\n        }\n        this._setComponentsEditable(true);\n        this.onFormModeChange.emit(this.mode);\n        this.onUpdateMode.emit();\n        break;\n      case OFormComponent.Mode().QUERY:\n        console.error('Form QUERY mode is not implemented');\n        break;\n      default:\n        break;\n    }\n  }\n\n  setData(data): void {\n    if (Util.isArray(data)) {\n      if (data.length > 1) {\n        console.warn('[OFormComponent] Form data has more than a single record. Storing empty data');\n      }\n      const currentData = data.length === 1 ? data[0] : {};\n      this._updateFormData(this.toFormValueData(currentData));\n      this._emitData(currentData);\n    } else if (Util.isObject(data)) {\n      this._updateFormData(this.toFormValueData(data));\n      this._emitData(data);\n    } else {\n      console.warn('Form has received not supported service data. Supported data are Array or Object');\n      this._updateFormData({});\n    }\n  }\n\n  /**\n   * @deprecated Use `setData(data)` instead\n   */\n  _setData(data) {\n    console.warn('Method `OFormComponent._setData` is deprecated and will be removed in the furute. Use `setData` instead');\n    this.setData(data);\n  }\n\n  _emitData(data) {\n    this.onDataLoaded.emit(data);\n  }\n\n  /**\n   * @deprecated Use `back()` instead\n   */\n  _backAction() {\n    console.warn('Method `OFormComponent._backAction` is deprecated and will be removed in the furute. Use `back` instead');\n    this.back();\n  }\n\n  /**\n   * Navigate back\n   */\n  back() {\n    this.formNavigation.navigateBack();\n  }\n\n  /**\n   * @deprecated Use `closeDetail(options?: any)` instead\n   */\n  _closeDetailAction(options?: any) {\n    console.warn('Method `OFormComponent._closeDetailAction` is deprecated and will be removed in the furute. Use `closeDetail` instead');\n    this.closeDetail(options);\n  }\n\n  /**\n   * Close current detail form\n   */\n  closeDetail(options?: any) {\n    this.formNavigation.closeDetailAction(options);\n  }\n\n  _stayInRecordAfterInsert(insertedKeys: object) {\n    this.formNavigation.stayInRecordAfterInsert(insertedKeys);\n  }\n\n  /**\n   * @deprecated Use `reload(useFilter: boolean = false)` instead\n   */\n  _reloadAction(useFilter: boolean = false) {\n    console.warn('Method `OFormComponent._reloadAction` is deprecated and will be removed in the furute. Use `reload` instead');\n    this.reload(useFilter);\n  }\n\n  /**\n   * Reload the form data\n   */\n  reload(useFilter: boolean = false) {\n    let filter = {};\n    if (useFilter) {\n      filter = this.getCurrentKeysValues();\n    }\n    this.queryData(filter);\n  }\n\n  /**\n   * Navigates to 'insert' mode\n   * @deprecated Use `goInsertMode(options?: any)` instead\n   */\n  _goInsertMode(options?: any) {\n    console.warn('Method `OFormComponent._goInsertMode` is deprecated and will be removed in the furute. Use `goInsertMode` instead');\n    this.goInsertMode(options);\n  }\n\n  /**\n   * Navigates to 'insert' mode\n   */\n  goInsertMode(options?: any) {\n    this.formNavigation.goInsertMode(options);\n  }\n\n  _clearFormAfterInsert() {\n    this.clearData();\n    this._setComponentsEditable(true);\n  }\n\n  /**\n   * Performs insert action.\n   * @deprecated Use `insert()` instead\n   */\n  _insertAction() {\n    console.warn('Method `OFormComponent._insertAction` is deprecated and will be removed in the furute. Use `insert` instead');\n    this.insert();\n  }\n\n  /**\n   * Performs insert action.\n   */\n  insert() {\n    Object.keys(this.formGroup.controls).forEach((control) => {\n      this.formGroup.controls[control].markAsTouched();\n    });\n\n    if (!this.formGroup.valid) {\n      this.dialogService.alert('ERROR', 'MESSAGES.FORM_VALIDATION_ERROR');\n      return;\n    }\n\n    const self = this;\n    const values = this.getAttributesValuesToInsert();\n    const sqlTypes = this.getAttributesSQLTypes();\n    this.insertData(values, sqlTypes).subscribe(resp => {\n      self.postCorrectInsert(resp);\n      self.formCache.setCacheSnapshot();\n      self.markFormLayoutManagerToUpdate();\n      if (self.afterInsertMode === 'detail') {\n        self._stayInRecordAfterInsert(resp);\n      } else if (self.afterInsertMode === 'new') {\n        this._clearFormAfterInsert();\n      } else {\n        self.closeDetail();\n      }\n    }, error => {\n      self.postIncorrectInsert(error);\n    });\n  }\n\n  /**\n   * Navigates to 'edit' mode\n   * @deprecated Use `goEditMode(options?: any)` instead\n   */\n  _goEditMode(options?: any) {\n    console.warn('Method `OFormComponent._goEditMode` is deprecated and will be removed in the furute. Use `goEditMode` instead');\n    this.goEditMode(options);\n  }\n\n  /**\n   * Navigates to 'edit' mode\n   */\n  goEditMode(options?: any) {\n    this.formNavigation.goEditMode();\n  }\n\n  /**\n   * Performs 'edit' action\n   * @deprecated Use `update()` instead\n   */\n  _editAction() {\n    console.warn('Method `OFormComponent._editAction` is deprecated and will be removed in the furute. Use `update` instead');\n    this.update();\n  }\n\n  /**\n   * Performs 'edit' action\n   */\n  update() {\n    Object.keys(this.formGroup.controls).forEach(\n      (control) => {\n        this.formGroup.controls[control].markAsTouched();\n      }\n    );\n\n    if (!this.formGroup.valid) {\n      this.dialogService.alert('ERROR', 'MESSAGES.FORM_VALIDATION_ERROR');\n      return;\n    }\n\n    // retrieving keys...\n    const self = this;\n    const filter = this.getKeysValues();\n\n    // retrieving values to update...\n    const values = this.getAttributesValuesToUpdate();\n    const sqlTypes = this.getAttributesSQLTypes();\n\n    if (Object.keys(values).length === 0) {\n      // Nothing to update\n      this.dialogService.alert('INFO', 'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO');\n      return;\n    }\n\n    // invoke update method...\n    this.updateData(filter, values, sqlTypes).subscribe(resp => {\n      self.postCorrectUpdate(resp);\n      self.formCache.setCacheSnapshot();\n      self.markFormLayoutManagerToUpdate();\n      if (self.stayInRecordAfterEdit) {\n        self.reload(true);\n      } else {\n        self.closeDetail();\n      }\n    }, error => {\n      self.postIncorrectUpdate(error);\n    });\n  }\n\n  /**\n   * Performs 'delete' action\n   * @deprecated Use `delete()` instead\n   */\n  _deleteAction() {\n    console.warn('Method `OFormComponent._deleteAction` is deprecated and will be removed in the furute. Use `delete` instead');\n    return this.delete();\n  }\n\n  /**\n   * Performs 'delete' action\n   */\n  delete() {\n    const filter = this.getKeysValues();\n    return this.deleteData(filter);\n  }\n\n  /*\n  Utility methods\n  */\n\n  queryData(filter) {\n    if (!Util.isDefined(this.dataService)) {\n      console.warn('OFormComponent: no service configured! aborting query');\n      return;\n    }\n    if (!Util.isDefined(filter) || Object.keys(filter).length === 0) {\n      console.warn('OFormComponent: no filter configured! aborting query');\n      return;\n    }\n    this.formCache.restartCache();\n    this.clearComponentsOldValue();\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const av = this.getAttributesToQuery();\n    const sqlTypes = this.getAttributesSQLTypes();\n    this.querySubscription = this.dataService[this.queryMethod](filter, av, this.entity, sqlTypes)\n      .subscribe((resp: ServiceResponse) => {\n        if (resp.isSuccessful()) {\n          this.setData(resp.data);\n        } else {\n          this._updateFormData({});\n          this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n          console.error('ERROR: ' + resp.message);\n        }\n        this.loaderSubscription.unsubscribe();\n      }, err => {\n        console.error(err);\n        this._updateFormData({});\n        if (Util.isDefined(this.queryFallbackFunction)) {\n          this.queryFallbackFunction(err);\n        } else if (err && err.statusText) {\n          this.dialogService.alert('ERROR', err.statusText);\n        } else {\n          this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n        }\n        this.loaderSubscription.unsubscribe();\n      });\n  }\n\n  getAttributesToQuery(): Array<any> {\n    let attributes: Array<any> = [];\n    // add form keys...\n    if (this.keysArray && this.keysArray.length > 0) {\n      attributes.push(...this.keysArray);\n    }\n    const components: any = this.getComponents();\n    // add only the fields contained into the form...\n    Object.keys(components).forEach(item => {\n      if (attributes.indexOf(item) < 0 &&\n        components[item].isAutomaticRegistering() && components[item].isAutomaticBinding()) {\n        attributes.push(item);\n      }\n    });\n\n    // add fields stored into form cache...\n    const dataCache = this.formCache.getDataCache();\n    if (dataCache) {\n      Object.keys(dataCache).forEach(item => {\n        if (item !== undefined && attributes.indexOf(item) === -1) {\n          attributes.push(item);\n        }\n      });\n    }\n    attributes = attributes.concat(this.colsArray.filter(col => attributes.indexOf(col) < 0));\n    return attributes;\n  }\n\n  insertData(values, sqlTypes?: object): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    const observable = new Observable(observer => {\n      this.dataService[this.insertMethod](values, this.entity, sqlTypes).subscribe(\n        resp => {\n          if (resp.isSuccessful()) {\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  getAttributesValuesToInsert(): object {\n    const attrValues = {};\n    if (this.formParentKeysValues) {\n      Object.assign(attrValues, this.formParentKeysValues);\n    }\n    return Object.assign(attrValues, this.getRegisteredFieldsValues());\n  }\n\n  /**\n   * Returns an object with the sql types from the form components and the form keys\n   */\n  public getAttributesSQLTypes(): object {\n    const types: object = {};\n    // Add form keys sql types\n    this.keysSqlTypesArray.forEach((kst, i) => types[this.keysArray[i]] = SQLTypes.getSQLTypeValue(kst));\n    // Add form components sql types\n    if (this._compSQLTypes && Object.keys(this._compSQLTypes).length > 0) {\n      Object.assign(types, this._compSQLTypes);\n    }\n    return types;\n  }\n\n  updateData(filter, values, sqlTypes?: object): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    const observable = new Observable(observer => {\n      this.dataService[this.updateMethod](filter, values, this.entity, sqlTypes).subscribe(\n        resp => {\n          if (resp.isSuccessful()) {\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  getAttributesValuesToUpdate(): object {\n    const values = {};\n    const self = this;\n    const changedAttrs = this.formCache.getChangedFormControlsAttr();\n    Object.keys(this.formGroup.controls).filter(controlName =>\n      self.ignoreFormCacheKeys.indexOf(controlName) === -1 &&\n      changedAttrs.indexOf(controlName) !== -1\n    ).forEach((item) => {\n      const control = self.formGroup.controls[item];\n      if (control instanceof OFormControl) {\n        values[item] = control.getValue();\n      } else {\n        values[item] = control.value;\n      }\n      if (values[item] === undefined) {\n        values[item] = null;\n      }\n    });\n    return values;\n  }\n\n  deleteData(filter): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    const observable = new Observable(observer => {\n      this.canDiscardChanges = true;\n      this.dataService[this.deleteMethod](filter, this.entity).subscribe(\n        resp => {\n          if (resp.isSuccessful()) {\n            self.formCache.setCacheSnapshot();\n            self.markFormLayoutManagerToUpdate();\n            self.postCorrectDelete(resp);\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            self.postIncorrectDelete(resp);\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          self.postIncorrectDelete(err);\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  toJSONData(data) {\n    if (!data) {\n      data = {};\n    }\n    const valueData = {};\n    Object.keys(data).forEach((item) => {\n      valueData[item] = data[item].value;\n    });\n    return valueData;\n  }\n\n  toFormValueData(data) {\n    if (data && Util.isArray(data)) {\n      const valueData: Array<object> = [];\n      const self = this;\n      data.forEach(item => {\n        valueData.push(self.objectToFormValueData(item));\n      });\n      return valueData;\n    } else if (data && Util.isObject(data)) {\n      return this.objectToFormValueData(data);\n    }\n    return undefined;\n  }\n\n  getKeysValues() {\n    const filter = {};\n    const currentRecord = this.formData;\n    if (!this.keysArray) {\n      return filter;\n    }\n    this.keysArray.forEach(key => {\n      if (currentRecord[key] !== undefined) {\n        let currentData = currentRecord[key];\n        if (currentData instanceof OFormValue) {\n          currentData = currentData.value;\n        }\n        filter[key] = currentData;\n      }\n    });\n    return filter;\n  }\n\n  isInQueryMode(): boolean {\n    return this.mode === OFormComponent.Mode().QUERY;\n  }\n\n  isInInsertMode(): boolean {\n    return this.mode === OFormComponent.Mode().INSERT;\n  }\n\n  isInUpdateMode(): boolean {\n    return this.mode === OFormComponent.Mode().UPDATE;\n  }\n\n  isInInitialMode(): boolean {\n    return this.mode === OFormComponent.Mode().INITIAL;\n  }\n\n  setQueryMode() {\n    this.setFormMode(OFormComponent.Mode().QUERY);\n  }\n\n  setInsertMode() {\n    this.setFormMode(OFormComponent.Mode().INSERT);\n  }\n\n  setUpdateMode() {\n    this.setFormMode(OFormComponent.Mode().UPDATE);\n  }\n\n  setInitialMode() {\n    this.setFormMode(OFormComponent.Mode().INITIAL);\n  }\n\n  registerDynamicFormComponent(dynamicForm) {\n    if (!Util.isDefined(dynamicForm)) {\n      return;\n    }\n    const self = this;\n    this.dynamicFormSubscription = dynamicForm.render.subscribe(res => {\n      if (res) {\n        self.refreshComponentsEditableState();\n        if (!self.isInInsertMode() && self.queryOnInit) {\n          self.reload(true);\n        }\n        if (self.formParentKeysValues) {\n          Object.keys(self.formParentKeysValues).forEach(parentKey => {\n            const value = self.formParentKeysValues[parentKey];\n            const comp = self.getFieldReference(parentKey);\n            if (Util.isFormDataComponent(comp) && comp.isAutomaticBinding()) {\n              comp.setValue(value, {\n                emitModelToViewChange: false,\n                emitEvent: false\n              });\n            }\n          });\n        }\n      }\n    });\n  }\n\n  unregisterDynamicFormComponent(dynamicForm) {\n    if (dynamicForm && this.dynamicFormSubscription) {\n      this.dynamicFormSubscription.unsubscribe();\n    }\n  }\n\n  getRequiredComponents(): object {\n    const requiredCompontents: object = {};\n    const components = this.getComponents();\n    if (components) {\n      Object.keys(components).forEach(key => {\n        const comp = components[key];\n        const attr = comp.getAttribute();\n        if ((comp as any).isRequired && attr && attr.length > 0) {\n          requiredCompontents[attr] = comp;\n        }\n      });\n    }\n    return requiredCompontents;\n  }\n\n  get layoutDirection(): string {\n    return this._layoutDirection;\n  }\n\n  set layoutDirection(val: string) {\n    const parsedVal = (val || '').toLowerCase();\n    this._layoutDirection = ['row', 'column', 'row-reverse', 'column-reverse'].indexOf(parsedVal) !== -1 ? parsedVal : OFormComponent.DEFAULT_LAYOUT_DIRECTION;\n  }\n\n  get layoutAlign(): string {\n    return this._layoutAlign;\n  }\n\n  set layoutAlign(val: string) {\n    this._layoutAlign = val;\n  }\n\n  get showFloatingToolbar(): boolean {\n    return this.showHeader && this.headerMode === 'floating';\n  }\n\n  get showNotFloatingToolbar(): boolean {\n    return this.showHeader && this.headerMode !== 'floating';\n  }\n\n  isEditableDetail() {\n    return this.editableDetail;\n  }\n\n  isInitialStateChanged(): boolean {\n    return this.formCache.isInitialStateChanged();\n  }\n\n  /**\n   * @deprecated Use `undo()` instead\n   */\n  _undoLastChangeAction() {\n    console.warn('Method `OFormComponent._undoLastChangeAction` is deprecated and will be removed in the furute. Use `undo` instead');\n    this.undo();\n  }\n\n  /**\n   * Undo last change\n   */\n  undo() {\n    this.formCache.undoLastChange();\n  }\n\n  get isCacheStackEmpty(): boolean {\n    return this.formCache.isCacheStackEmpty;\n  }\n\n  undoKeyboardPressed() {\n    this.formCache.undoLastChange({\n      keyboardEvent: true\n    });\n  }\n\n  getFormToolbar(): OFormToolbarComponent {\n    return this._formToolbar;\n  }\n\n  getFormManager(): OFormLayoutManagerComponent {\n    return this.formNavigation.formLayoutManager;\n  }\n\n  getFormNavigation(): OFormNavigationClass {\n    return this.formNavigation;\n  }\n\n  getFormCache(): OFormCacheClass {\n    return this.formCache;\n  }\n\n  getUrlParam(arg: string) {\n    return this.getFormNavigation().getUrlParams()[arg];\n  }\n\n  getUrlParams() {\n    return this.getFormNavigation().getUrlParams();\n  }\n\n  setUrlParamsAndReload(val: object) {\n    this.formNavigation.setUrlParams(val);\n    this.reload(true);\n  }\n\n  getRegisteredFieldsValues() {\n    const values = {};\n    const components: IFormDataComponentHash = this.getComponents();\n    const self = this;\n    const componentsKeys = Object.keys(components).filter(key => self.ignoreFormCacheKeys.indexOf(key) === -1);\n    componentsKeys.forEach(compKey => {\n      const comp: IFormDataComponent = components[compKey];\n      values[compKey] = comp.getValue();\n    });\n    return values;\n  }\n\n  /**\n   * Return the current value of the control in the form\n   * @param attr the attr of the form field\n   */\n  getFieldValue(attr: string): any {\n    let value = null;\n    const comp = this.getFieldReference(attr);\n    if (comp) {\n      value = comp.getValue();\n    }\n    return value;\n  }\n\n  /**\n   * Return an object with the values of each attribute\n   * @param attrs the attr's of the form fields\n   */\n  getFieldValues(attrs: string[]): any {\n    const arr = {};\n    attrs.forEach(key => arr[key] = this.getFieldValue(key));\n    return arr;\n\n  }\n\n  /**\n   * Sets the value of the control in the form.\n   * @param attr attribute of control\n   * @param value value\n   */\n  setFieldValue(attr: string, value: any, options?: FormValueOptions) {\n    const comp = this.getFieldReference(attr);\n    if (comp) {\n      comp.setValue(value, options);\n    }\n  }\n\n  /**\n   * Sets the value of each control in the form.\n   * @param values the values\n   */\n  setFieldValues(values: any, options?: FormValueOptions) {\n    for (const key in values) {\n      if (values.hasOwnProperty(key)) {\n        this.setFieldValue(key, values[key], options);\n      }\n    }\n  }\n\n  /**\n   * Clear the value of each control in the form\n   * @param attr the attr of the form field\n   */\n  clearFieldValue(attr: string, options?: FormValueOptions) {\n    const comp = this.getFieldReference(attr);\n    if (comp) {\n      comp.clearValue(options);\n    }\n  }\n\n  /**\n   * Reset the value of each control in the form\n   * @param attrs the attr's of the form fields\n   */\n  clearFieldValues(attrs: string[], options?: FormValueOptions) {\n    const self = this;\n    attrs.forEach((key) => {\n      self.clearFieldValue(key, options);\n    });\n  }\n\n  /**\n   * Retrieves the reference of the control in the form.\n   * @param attr the attr of the form field\n   */\n  getFieldReference(attr: string): IFormDataComponent {\n    return this._components[attr];\n  }\n\n  /**\n   * Retrieves the reference of each control in the form\n   * @param attrs the attr's of the form fileds\n   */\n  getFieldReferences(attrs: string[]): IFormDataComponentHash {\n    const arr: IFormDataComponentHash = {};\n    const self = this;\n    attrs.forEach((key, index) => {\n      arr[key] = self.getFieldReference(key);\n    });\n    return arr;\n  }\n\n  getFormComponentPermissions(attr: string): OPermissions {\n    let permissions: OPermissions;\n    if (Util.isDefined(this.permissions)) {\n      permissions = (this.permissions.components || []).find(comp => comp.attr === attr);\n    }\n    return permissions;\n  }\n\n  getActionsPermissions(): OPermissions[] {\n    let permissions: OPermissions[];\n    if (Util.isDefined(this.permissions)) {\n      permissions = (this.permissions.actions || []);\n    }\n    return permissions;\n  }\n\n  protected determinateFormMode(): void {\n    const urlSegments = this.formNavigation.getUrlSegments();\n    if (urlSegments.length > 0) {\n      const segment = urlSegments[urlSegments.length - 1];\n      this.determinateModeFromUrlSegment(segment);\n    } else if (this.actRoute.parent) {\n      this.actRoute.parent.url.subscribe(segments => {\n        const segment = segments[segments.length - 1];\n        this.determinateModeFromUrlSegment(segment);\n      });\n    } else {\n      this.setFormMode(OFormComponent.Mode().INITIAL);\n    }\n    // stayInRecordAfterEdit is true if form has editable detail = true\n    this.stayInRecordAfterEdit = this.stayInRecordAfterEdit || this.isEditableDetail();\n  }\n\n  protected determinateModeFromUrlSegment(segment: UrlSegment): void {\n    const _path = segment ? segment.path : '';\n    if (this.isInsertModePath(_path)) {\n      this.setInsertMode();\n      return;\n    } else if (this.isUpdateModePath(_path)) {\n      this.setUpdateMode();\n    } else {\n      this.setInitialMode();\n    }\n  }\n\n  protected _updateFormData(newFormData: object): void {\n    const self = this;\n    this.zone.run(() => {\n      this.formData = newFormData;\n      const components = this.getComponents();\n      if (components) {\n        Object.keys(components).forEach(key => {\n          const comp = components[key];\n          if (Util.isFormDataComponent(comp)) {\n            try {\n              if (comp.isAutomaticBinding()) {\n                comp.data = self.getDataValue(key);\n              }\n            } catch (error) {\n              console.error(error);\n            }\n          }\n        });\n        self.initializeFields();\n      }\n    });\n  }\n\n  protected initializeFields(): void {\n    Object.keys(this.formGroup.controls).forEach(control => {\n      this.formGroup.controls[control].markAsPristine();\n    });\n    this.formCache.registerCache();\n    this.formNavigation.updateNavigation();\n  }\n\n  protected clearComponentsOldValue(): void {\n    const components: IFormDataComponentHash = this.getComponents();\n    const self = this;\n    const componentsKeys = Object.keys(components).filter(key => self.ignoreFormCacheKeys.indexOf(key) === -1);\n    componentsKeys.forEach(compKey => {\n      const comp: IFormDataComponent = components[compKey];\n      (comp as any).oldValue = undefined;\n      comp.getFormControl().setValue(undefined);\n    });\n  }\n\n  protected postCorrectInsert(result: any): void {\n    this.snackBarService.open('MESSAGES.INSERTED', { icon: 'check_circle' });\n    this.onInsert.emit(result);\n  }\n\n  protected postIncorrectInsert(result: any): void {\n    this.showError('insert', result);\n  }\n\n  protected postIncorrectDelete(result: any): void {\n    this.showError('delete', result);\n  }\n\n  protected postIncorrectUpdate(result: any): void {\n    this.showError('update', result);\n  }\n\n  protected postCorrectUpdate(result: any): void {\n    this.snackBarService.open('MESSAGES.SAVED', { icon: 'check_circle' });\n    this.onUpdate.emit(result);\n  }\n\n  protected postCorrectDelete(result: any): void {\n    this.snackBarService.open('MESSAGES.DELETED', { icon: 'check_circle' });\n    this.onDelete.emit(result);\n  }\n\n  protected markFormLayoutManagerToUpdate(): void {\n    const formLayoutManager = this.getFormManager();\n    if (Util.isDefined(formLayoutManager)) {\n      formLayoutManager.markForUpdate = true;\n    }\n  }\n\n  protected objectToFormValueData(data: object = {}): object {\n    const valueData = {};\n    Object.keys(data).forEach((item) => {\n      valueData[item] = new OFormValue(data[item]);\n    });\n    return valueData;\n  }\n\n  protected getCurrentKeysValues(): object {\n    return this.formNavigation.getCurrentKeysValues();\n  }\n\n  protected refreshComponentsEditableState(): void {\n    switch (this.mode) {\n      case OFormComponent.Mode().INITIAL:\n        this._setComponentsEditable(this.isEditableDetail());\n        break;\n      case OFormComponent.Mode().INSERT:\n      case OFormComponent.Mode().UPDATE:\n        this._setComponentsEditable(true);\n        break;\n      default:\n        break;\n    }\n  }\n\n  protected isInsertModePath(path: string): boolean {\n    const navData: ONavigationItem = this.navigationService.getLastItem();\n    return Util.isDefined(navData) && path === navData.getInsertFormRoute();\n  }\n\n  protected isUpdateModePath(path: string): boolean {\n    const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n    return Util.isDefined(navData) && path === navData.getEditFormRoute();\n  }\n\n  private showError(operation: string, result: any): void {\n    if (result && typeof result !== 'object') {\n      this.dialogService.alert('ERROR', result);\n    } else {\n      let message = 'MESSAGES.ERROR_DELETE';\n      switch (operation) {\n        case 'update':\n          message = 'MESSAGES.ERROR_UPDATE';\n          break;\n        case 'insert':\n          message = 'MESSAGES.ERROR_INSERT';\n          break;\n      }\n      this.dialogService.alert('ERROR', message);\n    }\n  }\n\n}\n","import { AfterViewInit, Component, EventEmitter, forwardRef, Inject, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { OFormComponent } from '../../components/form/o-form.component';\nimport { OServiceComponent } from '../../components/o-service-component.class';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { IFilterBuilderCmpTarget } from '../../interfaces/filter-builder-component-target.interface';\nimport { IFormDataComponent } from '../../interfaces/form-data-component.interface';\nimport { BasicExpression } from '../../types/basic-expression.type';\nimport { Expression } from '../../types/expression.type';\nimport { Codes } from '../../util/codes';\nimport { FilterExpressionUtils } from '../../util/filter-expression.utils';\nimport { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_FILTER_BUILDER = [\n  // filters: [string] List of pairs of form component attributes and target component colums (targetColumn1:componentAttr1;targetColumn2:componentAttr2;...). Separated by ';'.\n  'filters',\n\n  // target [`OServiceComponent` instance]: Component whose data will be filtered.\n  'targetCmp: target',\n\n  // expression-builder [funtion]: Funtion called for creating the expression.\n  'expressionBuilder: expression-builder',\n\n  // query-on-change [yes|no|true|false]: Indicates whether or not to trigger the target component refresh when a filter component `onChange` event is fired. Default: no.\n  'queryOnChange: query-on-change',\n\n  // query-on-change-delay [number]: Delay time in milliseconds `query-on-change` method is triggered. Default: 0.\n  'queryOnChangeDelay: query-on-change-delay'\n];\n\nexport const DEFAULT_OUTPUTS_O_FILTER_BUILDER = [\n  // Event triggered when the filter action is executed.\n  'onFilter',\n\n  // Event triggered when the clear action is excuted.\n  'onClear'\n];\n\n@Component({\n  selector: 'o-filter-builder',\n  templateUrl: './o-filter-builder.component.html',\n  inputs: DEFAULT_INPUTS_O_FILTER_BUILDER,\n  outputs: DEFAULT_OUTPUTS_O_FILTER_BUILDER\n})\n/**\n * The OFilterBuilderComponent.\n */\nexport class OFilterBuilderComponent implements AfterViewInit, OnDestroy, OnInit {\n\n  public onFilter: EventEmitter<any> = new EventEmitter<any>();\n  public onClear: EventEmitter<any> = new EventEmitter<any>();\n\n  public filters: string;\n  public targetCmp: OServiceComponent;\n  public expressionBuilder: (values: Array<{ attr, value }>) => Expression;\n  @InputConverter()\n  public queryOnChange: boolean = false;\n  @InputConverter()\n  public queryOnChangeDelay: number = 0;\n\n  protected filterComponents: Array<IFilterBuilderCmpTarget> = [];\n\n  protected subscriptions: Subscription = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OFormComponent)) public form: OFormComponent,\n    injector: Injector\n  ) { }\n\n  ngOnInit(): void {\n    this.initialize();\n  }\n\n  ngAfterViewInit(): void {\n    this.initializeListeners();\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscriptions) {\n      this.subscriptions.unsubscribe();\n    }\n  }\n\n  initialize(): void {\n    // Parse filters\n    if (this.filters) {\n      const filterArray: Array<string> = Util.parseArray(this.filters);\n      filterArray.forEach(filter => {\n        const filterElms = filter.split(Codes.COLUMNS_ALIAS_SEPARATOR);\n        this.filterComponents.push({\n          targetAttr: filterElms[0],\n          formComponentAttr: filterElms[1] ? filterElms[1] : filterElms[0]\n        });\n      });\n    }\n\n    if (Util.isDefined(this.targetCmp)) {\n      this.targetCmp.setFilterBuilder(this);\n    }\n  }\n\n  initializeListeners(): void {\n    if (this.queryOnChange) {\n      this.filterComponents.forEach((filterComponent: IFilterBuilderCmpTarget) => {\n        const formComponent: IFormDataComponent = this.form.getComponents()[filterComponent.formComponentAttr];\n        if (formComponent) {\n          this.subscriptions.add(\n            formComponent.getFormControl().valueChanges\n              .pipe(debounceTime(this.queryOnChangeDelay))\n              .subscribe(a => this.triggerReload()));\n        }\n      });\n    }\n  }\n\n  /**\n   * Returns an `Expression` object with the filter.\n   * @returns the `Expression` object with the filter.\n   */\n  getExpression(): Expression {\n    // Prepare form filter values [... { attr, value }]\n    const formComponents = this.form.getComponents();\n    const params: Array<{ attr, value }> = [];\n    this.filterComponents.forEach((filterComponent: IFilterBuilderCmpTarget) => {\n      const formComponent: IFormDataComponent = formComponents[filterComponent.formComponentAttr];\n      const value = formComponent.getValue();\n      params.push({\n        attr: filterComponent.targetAttr,\n        value: value\n      });\n    });\n\n    // Trigger the function provided by the user\n    if (this.expressionBuilder) {\n      return this.expressionBuilder(params);\n    }\n\n    // Generate desfault expression\n    const expressions: Array<Expression> = [];\n    params.forEach(elem => {\n      if (Util.isDefined(elem.value)) {\n        expressions.push(FilterExpressionUtils.buildExpressionEquals(elem.attr, elem.value));\n      }\n    });\n\n    return expressions.length ? expressions.reduce((fe1, fe2) => FilterExpressionUtils.buildComplexExpression(fe1, fe2, FilterExpressionUtils.OP_OR)) : undefined;\n  }\n\n  /**\n   * Returns an `BasicExpression` object with the filter.\n   * @returns the `BasicExpression` object with the filter.\n   */\n  getBasicExpression(): BasicExpression {\n    return FilterExpressionUtils.buildBasicExpression(this.getExpression());\n  }\n\n  /**\n   * Returns the filter builder target component.\n   * @returns the target component.\n   */\n  getTargetComponent(): OServiceComponent {\n    return this.targetCmp;\n  }\n\n  /**\n   * Trigger the `reloadData` method from the target component.\n   */\n  triggerReload(): void {\n    if (!this.targetCmp) {\n      return;\n    }\n    if (this.targetCmp.pageable) {\n      this.targetCmp.reloadPaginatedDataFromStart();\n    } else {\n      this.targetCmp.reloadData();\n    }\n    this.onFilter.emit();\n  }\n\n  /**\n   * Clear the form components used for the filter.\n   */\n  clearFilter(): void {\n    const formComponents = this.form.getComponents();\n    this.getFilterAttrs().forEach((attr: string) => {\n      formComponents[attr].setValue(void 0);\n    });\n    this.onClear.emit();\n  }\n\n  /**\n   * Returns an array with the attributes of the filterable components\n   */\n  protected getFilterAttrs(): Array<string> {\n    return this.filterComponents.map((elem: IFilterBuilderCmpTarget) => elem.formComponentAttr);\n  }\n\n}\n","import { Directive, Optional } from '@angular/core';\n\nimport { Util } from '../../util/util';\nimport { OFilterBuilderComponent } from './o-filter-builder.component';\n\n@Directive({\n  selector: '[oFilterBuilderClear]',\n  inputs: [\n    '_filterBuilder: oFilterBuilderClear'\n  ],\n  host: {\n    '(click)': 'onClick($event)'\n  },\n  exportAs: 'oFilterBuilderClear'\n})\nexport class OFilterBuilderClearDirective {\n\n  protected _filterBuilder: OFilterBuilderComponent;\n\n  constructor(\n    @Optional() filterBuilder: OFilterBuilderComponent\n  ) {\n    if (Util.isDefined(filterBuilder)) {\n      this._filterBuilder = filterBuilder;\n    }\n  }\n\n  onClick(e?: Event): void {\n    if (this._filterBuilder) {\n      this._filterBuilder.clearFilter();\n    }\n  }\n\n}\n","import { Directive, Optional } from '@angular/core';\n\nimport { Util } from '../../util/util';\nimport { OFilterBuilderComponent } from './o-filter-builder.component';\n\n@Directive({\n  selector: '[oFilterBuilderQuery]',\n  inputs: [\n    '_filterBuilder: oFilterBuilderQuery'\n  ],\n  host: {\n    '(click)': 'onClick($event)'\n  },\n  exportAs: 'oFilterBuilderQuery'\n})\nexport class OFilterBuilderQueryDirective {\n\n  protected _filterBuilder: OFilterBuilderComponent;\n\n  constructor(\n    @Optional() filterBuilder: OFilterBuilderComponent\n  ) {\n    if (Util.isDefined(filterBuilder)) {\n      this._filterBuilder = filterBuilder;\n    }\n  }\n\n  onClick(e?: Event): void {\n    if (this._filterBuilder) {\n      this._filterBuilder.triggerReload();\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OFilterBuilderClearDirective } from './o-filter-builder-clear.directive';\nimport { OFilterBuilderQueryDirective } from './o-filter-builder-query.directive';\nimport { OFilterBuilderComponent } from './o-filter-builder.component';\n\n@NgModule({\n  imports: [\n    OSharedModule,\n    CommonModule\n  ],\n  declarations: [\n    OFilterBuilderComponent,\n    OFilterBuilderClearDirective,\n    OFilterBuilderQueryDirective\n  ],\n  exports: [\n    OFilterBuilderComponent,\n    OFilterBuilderClearDirective,\n    OFilterBuilderQueryDirective\n  ]\n})\nexport class OFilterBuilderModule { }\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OBreadcrumbComponent } from '../../components/breadcrumb/o-breadcrumb.component';\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OFormContainerComponent } from './o-form-container.component';\n\n@NgModule({\n  declarations: [OFormContainerComponent],\n  imports: [OSharedModule, CommonModule],\n  entryComponents: [OBreadcrumbComponent],\n  exports: [OFormContainerComponent]\n})\nexport class OFormContainerModule {\n}\n","import { Component, forwardRef, Inject, Injector, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { OFormLayoutManagerComponent } from '../../../layouts/form-layout/o-form-layout-manager.component';\nimport { OntimizeServiceProvider } from '../../../services/factories';\nimport { NavigationService, ONavigationItem } from '../../../services/navigation.service';\nimport { OntimizeService } from '../../../services/ontimize/ontimize.service';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../o-form.component';\nimport { OFormNavigationClass } from './o-form.navigation.class';\n\nexport type QueryConfiguration = {\n  serviceType: string;\n  queryArguments: any[];\n  entity: string;\n  service: string;\n  queryMethod: string;\n  totalRecordsNumber: number;\n  queryRows: number;\n  queryRecordOffset: number;\n};\n\n@Component({\n  selector: 'o-form-navigation',\n  templateUrl: './o-form-navigation.component.html',\n  styleUrls: ['./o-form-navigation.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-navigation]': 'true'\n  },\n  providers: [\n    OntimizeServiceProvider\n  ]\n})\nexport class OFormNavigationComponent implements OnDestroy {\n\n  public navigationData: Array<any> = [];\n  private _currentIndex = 0;\n\n  protected formNavigation: OFormNavigationClass;\n  protected navigationService: NavigationService;\n  protected formLayoutManager: OFormLayoutManagerComponent;\n\n  protected querySubscription: Subscription;\n  protected dataService: any;\n  protected queryConf: QueryConfiguration;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OFormComponent)) private _form: OFormComponent,\n    private router: Router\n  ) {\n    this.formNavigation = this._form.getFormNavigation();\n    this.navigationService = this.injector.get(NavigationService);\n\n    this.formLayoutManager = this._form.getFormManager();\n\n    let navData;\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      navData = this.navigationService.getLastItem();\n    } else {\n      navData = this.navigationService.getPreviousRouteData();\n    }\n    if (Util.isDefined(navData)) {\n      this.navigationData = navData.keysValues || [];\n      this.queryConf = navData.queryConfiguration;\n    }\n    this.currentIndex = this.getCurrentIndex();\n    this.configureService();\n  }\n\n  configureService() {\n    if (!this.queryConf) {\n      return;\n    }\n    let loadingService: any = OntimizeService;\n    if (this.queryConf.serviceType) {\n      loadingService = this.queryConf.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.queryConf.service);\n        if (this.queryConf.entity) {\n          serviceCfg.entity = this.queryConf.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  protected queryNavigationData(offset: number, length?: number): Promise<any> {\n    const self = this;\n    return new Promise<any>((resolve: any, reject: any) => {\n      const conf = self.queryConf;\n      const queryArgs = conf.queryArguments;\n\n      queryArgs[1] = self.getKeysArray();\n      queryArgs[4] = offset;\n      queryArgs[5] = length ? length : conf.queryRows;\n\n      self.querySubscription = self.dataService[conf.queryMethod].apply(self.dataService, queryArgs).subscribe(res => {\n        if (res.isSuccessful()) {\n          self.navigationData = res.data;\n          self.queryConf.queryRecordOffset = offset;\n        }\n        resolve();\n      }, () => {\n        reject();\n      });\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n  }\n\n  protected getKeysArray(): string[] {\n    // getting available navigationData keys\n    const navData = this.navigationData ? (this.navigationData[0] || {}) : {};\n    const keysArray = [];\n    this._form.keysArray.forEach(key => {\n      if (navData.hasOwnProperty(key)) {\n        keysArray.push(key);\n      }\n    });\n    return keysArray;\n  }\n\n  getCurrentIndex(): number {\n    const keysArray = this.getKeysArray();\n    // current url keys object\n    const currentKeys = {};\n    const currentItem = this.formNavigation.getUrlParams();\n    keysArray.forEach(key => {\n      currentKeys[key] = currentItem[key];\n    });\n    const index: number = (this.navigationData || []).findIndex((item: any) => {\n      const itemKeys = {};\n      keysArray.forEach(key => {\n        itemKeys[key] = item[key];\n      });\n      return Util.isEquivalent(itemKeys, currentKeys);\n    });\n    return index >= 0 ? index : 0;\n  }\n\n  next() {\n    const total = this.navigationData.length;\n    const index = this.currentIndex + 1;\n    if (total > index) {\n      this.move(index);\n    } else if (this.queryConf) {\n      const offset: number = (this.queryConf.queryRecordOffset || 0) + this.queryConf.queryRows;\n      this.queryNavigationData(offset).then(() => {\n        this.move(0);\n      });\n    } else {\n      console.error('form-toolbar->next(): total > index');\n    }\n  }\n\n  previous() {\n    const index = this.currentIndex - 1;\n    if (index >= 0) {\n      this.move(index);\n    } else if (this.queryConf) {\n      const offset: number = this.queryConf.queryRecordOffset - this.queryConf.queryRows;\n      this.queryNavigationData(offset).then(() => {\n        this.move(this.navigationData.length - 1);\n      });\n    } else {\n      console.error('form-toolbar->next(): index < 0');\n    }\n  }\n\n  first() {\n    if (!this.queryConf || this.queryConf.queryRecordOffset === 0) {\n      this.move(0);\n    } else {\n      this.queryNavigationData(0).then(() => {\n        this.move(0);\n      });\n    }\n  }\n\n  last() {\n    if (!this.queryConf || this.isLast()) {\n      const index = this.navigationData.length - 1;\n      this.move(index);\n    } else {\n      const offset = this.queryConf.totalRecordsNumber - this.queryConf.queryRows;\n      this.queryNavigationData(offset, this.queryConf.queryRows).then(() => {\n        this.move(this.navigationData.length - 1);\n      });\n    }\n  }\n\n  isFirst() {\n    let result: boolean = this.currentIndex === 0;\n    if (result && this.queryConf) {\n      result = this.queryConf.queryRecordOffset === 0;\n    }\n    return result;\n  }\n\n  isLast() {\n    let result: boolean = this.currentIndex === (this.navigationData.length - 1);\n    if (result && this.queryConf) {\n      result = (this.queryConf.queryRecordOffset + this.queryConf.queryRows)\n        >= this.queryConf.totalRecordsNumber;\n    }\n    return result;\n  }\n\n  move(index: number) {\n    this._form.showConfirmDiscardChanges().then(res => {\n      if (res === true) {\n        this.currentIndex = index;\n        if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n          this.moveInDialogManager(this.formLayoutManager, index);\n        } else {\n          this.moveWithoutManager(index);\n        }\n      }\n    });\n  }\n\n  private moveWithoutManager(index: number) {\n    const route = this.getRouteOfSelectedRow(this.navigationData[index]);\n    if (route.length > 0) {\n      const navData: ONavigationItem = this.navigationService.getLastItem();\n      if (navData) {\n        this.navigationService.removeLastItem();\n        this._form.canDiscardChanges = true;\n\n        const extras: NavigationExtras = {};\n        extras[Codes.QUERY_PARAMS] = Codes.getIsDetailObject();\n\n        const urlArray = navData.url.split(Codes.ROUTE_SEPARATOR);\n        const url = urlArray.splice(0, urlArray.length - route.length).join(Codes.ROUTE_SEPARATOR);\n        route.unshift(url);\n\n        this.router.navigate(route, extras).then((navigationDone: boolean) => {\n          if (navigationDone) {\n            this.currentIndex = index;\n          }\n        });\n      }\n    }\n  }\n\n  private moveInDialogManager(formLayoutManager: any, index: number) {\n    formLayoutManager.dialogRef.componentInstance.urlParams = this.navigationData[index];\n    this._form.setUrlParamsAndReload(this.navigationData[index]);\n  }\n\n  getRouteOfSelectedRow(item: any) {\n    const route = [];\n    if (Util.isObject(item)) {\n      this._form.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          route.push(item[key]);\n        }\n      });\n    }\n    return route;\n  }\n\n  showNavigation() {\n    return (this.navigationData || []).length > 1;\n  }\n\n  set currentIndex(arg: number) {\n    this._currentIndex = arg;\n  }\n\n  get currentIndex(): number {\n    return this._currentIndex;\n  }\n\n  getRecordIndex(): number {\n    let index = this.currentIndex + 1;\n    if (this.queryConf) {\n      index += this.queryConf.queryRecordOffset;\n    }\n    return index;\n  }\n\n  getTotalRecordsNumber(): number {\n    if (this.queryConf && this.queryConf.totalRecordsNumber) {\n      return this.queryConf.totalRecordsNumber;\n    }\n    return this.navigationData.length;\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { DialogService } from '../../../services/dialog.service';\nimport { NavigationService } from '../../../services/navigation.service';\nimport { SnackBarService } from '../../../services/snackbar.service';\nimport { OPermissions } from '../../../types/o-permissions.type';\nimport { Codes } from '../../../util/codes';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../o-form.component';\n\nexport const DEFAULT_INPUTS_O_FORM_TOOLBAR = [\n  'labelHeader: label-header',\n  'labelHeaderAlign: label-header-align',\n  'headeractions: header-actions',\n  'showHeaderActionsText: show-header-actions-text',\n  // show-header-navigation [string][yes|no|true|false]: Include navigations buttons in form-toolbar. Default: true;\n  'showHeaderNavigation:show-header-navigation'\n];\n\n@Component({\n  selector: 'o-form-toolbar',\n  templateUrl: './o-form-toolbar.component.html',\n  styleUrls: ['./o-form-toolbar.component.scss'],\n  inputs: DEFAULT_INPUTS_O_FORM_TOOLBAR,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-toolbar]': 'true'\n  }\n  // providers: [{ provide: OFormComponent, useExisting: forwardRef(() => OFormComponent) }]\n})\nexport class OFormToolbarComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  /* Bindings */\n  public labelHeader: string = '';\n  public headeractions: string = '';\n  public labelHeaderAlign: string = 'center';\n\n  @InputConverter()\n  public showHeaderActionsText: boolean = true;\n  @InputConverter()\n  public showHeaderNavigation: boolean = true;\n\n  public formActions: string[];\n  public isDetail: boolean = true;\n\n  public editMode: boolean = false;\n  public insertMode: boolean = false;\n  public initialMode: boolean = true;\n  public refreshBtnEnabled: boolean = false;\n  public insertBtnEnabled: boolean = false;\n  public deleteBtnEnabled: boolean = false;\n\n  @ViewChild('breadcrumb', { read: ViewContainerRef, static: false })\n  public breadContainer: ViewContainerRef;\n\n  public isSaveBtnEnabled: Observable<boolean>;\n  public isEditBtnEnabled: Observable<boolean>;\n  public existsChangesToSave: Observable<boolean>;\n\n  get changesToSave(): boolean {\n    return this._changesToSave;\n\n  }\n\n  set changesToSave(val: boolean) {\n    this._changesToSave = val;\n    const attr = this._form.isEditableDetail() ? PermissionsUtils.ACTION_UPDATE : PermissionsUtils.ACTION_INSERT;\n    const permissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === attr);\n    if (Util.isDefined(permissions) && permissions.enabled === false) {\n      return;\n    }\n\n    this._existsChangesToSaveSubject.next(val);\n\n  }\n\n  protected _changesToSave: boolean = false;\n\n\n  get editBtnEnabled(): boolean {\n    return this._editBtnEnabled;\n  }\n  set editBtnEnabled(value: boolean) {\n    this._editBtnEnabled = value;\n    this._isEditBtnEnabledSubject.next(this._editBtnEnabled);\n  }\n  protected _editBtnEnabled: boolean = false;\n\n  get saveBtnEnabled(): boolean {\n    return this._saveBtnEnabled;\n  }\n  set saveBtnEnabled(value: boolean) {\n    this._saveBtnEnabled = value;\n    this._isSaveBtnEnabledSubject.next(this._saveBtnEnabled);\n  }\n  protected _saveBtnEnabled: boolean = false;\n\n\n  protected _dialogService: DialogService;\n  protected _navigationService: NavigationService;\n  protected mutationObservers: MutationObserver[] = [];\n\n  protected formCacheSubscription: Subscription;\n  protected actionsPermissions: OPermissions[];\n  protected snackBarService: SnackBarService;\n\n  protected _includeBreadcrumb: boolean;\n\n  protected _isSaveBtnEnabledSubject = new BehaviorSubject<boolean>(false);\n  protected _isEditBtnEnabledSubject = new BehaviorSubject<boolean>(false);\n  protected _existsChangesToSaveSubject = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    private _form: OFormComponent,\n    public element: ElementRef,\n    protected injector: Injector\n  ) {\n    this.isSaveBtnEnabled = this._isSaveBtnEnabledSubject.asObservable();\n    this.isEditBtnEnabled = this._isEditBtnEnabledSubject.asObservable();\n    this.existsChangesToSave = this._existsChangesToSaveSubject.asObservable();\n\n    this._form.registerToolbar(this);\n    this._dialogService = this.injector.get(DialogService);\n    this._navigationService = this.injector.get(NavigationService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  public ngOnInit(): void {\n    this.formActions = Util.parseArray(this.headeractions);\n    if (this.formActions && this.formActions.length > 0) {\n      this.refreshBtnEnabled = this.formActions.indexOf('R') !== -1;\n      this.insertBtnEnabled = this.formActions.indexOf('I') !== -1;\n      this.editBtnEnabled = this.formActions.indexOf('U') !== -1;\n      this.deleteBtnEnabled = !this.insertMode && this.formActions.indexOf('D') !== -1;\n    }\n    if (this._navigationService) {\n      const self = this;\n      this._navigationService.onTitleChange(title => {\n        self.labelHeader = title;\n      });\n    }\n    this.includeBreadcrumb = this._form.includeBreadcrumb && this._form.formContainer.breadcrumb;\n    if (this.includeBreadcrumb) {\n      this._form.formContainer.breadcrumb = false;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    if (this.formCacheSubscription) {\n      this.formCacheSubscription.unsubscribe();\n    }\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n  }\n\n  public ngAfterViewInit(): void {\n    this.parsePermissions();\n    if (this.includeBreadcrumb) {\n      this._form.formContainer.createBreadcrumb(this.breadContainer);\n    }\n  }\n\n  public setInitialMode(): void {\n    this.manageEditableDetail();\n    this.initialMode = true;\n    this.insertMode = false;\n    this.editMode = false;\n  }\n\n  public setInsertMode(): void {\n    this.initialMode = false;\n    this.insertMode = true;\n    this.editMode = false;\n  }\n\n  public setEditMode(): void {\n    this.initialMode = false;\n    this.insertMode = false;\n    this.editMode = true;\n  }\n\n  public onCloseDetail(): void {\n    this._form.executeToolbarAction(Codes.CLOSE_DETAIL_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onBack(): void {\n    this._form.executeToolbarAction(Codes.BACK_ACTION);\n  }\n\n  public onReload(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_REFRESH)) {\n      return;\n    }\n    const self = this;\n    this._form.showConfirmDiscardChanges().then(val => {\n      if (val) {\n        self._form.executeToolbarAction(Codes.RELOAD_ACTION);\n      }\n    });\n  }\n\n  public onInsert(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_INSERT)) {\n      return;\n    }\n\n    this._form.executeToolbarAction(Codes.GO_INSERT_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onEdit(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return;\n    }\n\n    this._form.executeToolbarAction(Codes.GO_EDIT_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onDelete(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_DELETE)) {\n      return;\n    }\n\n    this.showConfirmDelete();\n  }\n\n  public onSave(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return;\n    }\n\n    this.handleAcceptEditOperation();\n  }\n\n  public cancelOperation(): void {\n    if (this.isDetail) {\n      this.onCloseDetail();\n    } else if (this.insertMode) {\n      this.onBack();\n    } else {\n      this.onReload();\n      this._form.setInitialMode();\n    }\n  }\n\n  public acceptOperation(): void {\n    if (this.editMode) {\n      if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n        return;\n      }\n      this.handleAcceptEditOperation();\n    } else if (this.insertMode) {\n      if (!this.checkEnabledPermission(PermissionsUtils.ACTION_INSERT)) {\n        return;\n      }\n      this.handleAcceptInsertOperation();\n    }\n  }\n\n  public handleAcceptInsertOperation(): void {\n    this._form.executeToolbarAction(Codes.INSERT_ACTION);\n  }\n\n  public handleAcceptEditOperation(): void {\n    this._form.executeToolbarAction(Codes.EDIT_ACTION);\n  }\n\n  public showConfirmDelete(): void {\n    this._dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n      if (res === true) {\n        this._form.executeToolbarAction(Codes.DELETE_ACTION).subscribe(resp => {\n          this._form.onDelete.emit(resp);\n          this.onCloseDetail();\n        }, err => {\n          console.error('OFormToolbar.delete error', err);\n        });\n      }\n    }\n    );\n  }\n\n  get showNavigation(): boolean {\n    return this.showHeaderNavigation && !(this._form.getFormManager() && this._form.getFormManager().isTabMode());\n  }\n\n  public getLabelHeaderAlign(): string {\n    return this.labelHeaderAlign;\n  }\n\n  get showUndoButton(): boolean {\n    return this._form.undoButton && (!this.initialMode || this._form.isEditableDetail());\n  }\n\n  get isChangesStackEmpty(): boolean {\n    return this._form.isCacheStackEmpty;\n  }\n\n  public onUndoLastChange(): void {\n    this._form.executeToolbarAction(Codes.UNDO_LAST_CHANGE_ACTION);\n  }\n\n  get isRefreshBtnEnabled(): boolean {\n    return this.refreshBtnEnabled;\n  }\n\n  get isInsertBtnEnabled(): boolean {\n    return this.insertBtnEnabled;\n  }\n\n  get isDeleteBtnEnabled(): boolean {\n    return this.deleteBtnEnabled;\n  }\n\n  public hasEnabledPermission(permission: OPermissions): boolean {\n    return permission ? permission.enabled : true;\n  }\n\n  get includeBreadcrumb(): boolean {\n    return this._includeBreadcrumb;\n  }\n\n  set includeBreadcrumb(arg: boolean) {\n    this._includeBreadcrumb = arg;\n  }\n\n  protected manageEditableDetail(): void {\n    const isEditableDetail = this._form.isEditableDetail();\n\n    const updatePermissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === PermissionsUtils.ACTION_UPDATE);\n    if (this.hasEnabledPermission(updatePermissions)) {\n      this.saveBtnEnabled = isEditableDetail;\n    }\n\n    this.refreshBtnEnabled = this.refreshBtnEnabled && isEditableDetail;\n    this.insertBtnEnabled = this.insertBtnEnabled && isEditableDetail;\n    this.editBtnEnabled = this.editBtnEnabled && !isEditableDetail;\n\n    const self = this;\n    this._form.getFormCache().onCacheStateChanges.asObservable().subscribe((value: any) => {\n      if (self._form.isEditableDetail()) {\n        self.changesToSave = self._form.isInitialStateChanged();\n      }\n    });\n  }\n\n  protected parsePermissions(): void {\n    if (this._form.oattr) {\n      this.actionsPermissions = this._form.getActionsPermissions();\n\n      if (!Util.isDefined(this.actionsPermissions)) {\n        return;\n      }\n      const self = this;\n      this.actionsPermissions.forEach((permission: OPermissions) => {\n        // others actions\n        self.permissionManagement(permission);\n\n        if (PermissionsUtils.STANDARD_ACTIONS.indexOf(permission.attr) > -1) {\n          // actions R;I;U;D\n          if (permission.attr === PermissionsUtils.ACTION_UPDATE) {\n            self.permissionManagement(permission, 'edit');\n          }\n        }\n      });\n    }\n  }\n\n  private permissionManagement(permission: OPermissions, attr?: string): void {\n    const attrAction = Util.isDefined(attr) ? attr : permission.attr;\n    const elementByAction = this.element.nativeElement.querySelector('[attr=\"' + attrAction + '\"]');\n\n    if (Util.isDefined(elementByAction)) {\n      if (!permission.visible) {\n        elementByAction.remove();\n      } else {\n        if (!permission.enabled) {\n          elementByAction.disabled = true;\n          const mutationObserver = PermissionsUtils.registerDisabledChangesInDom(elementByAction);\n          this.mutationObservers.push(mutationObserver);\n        }\n      }\n    }\n  }\n\n  private checkEnabledPermission(attr): boolean {\n    const permissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === attr);\n    const enabledPermision = PermissionsUtils.checkEnabledPermission(permissions);\n    if (!enabledPermision) {\n      this.snackBarService.open('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n    }\n    return enabledPermision;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OFormNavigationComponent } from '../navigation/o-form-navigation.component';\nimport { OFormToolbarComponent } from './o-form-toolbar.component';\n\n@NgModule({\n  declarations: [OFormNavigationComponent, OFormToolbarComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OFormNavigationComponent, OFormToolbarComponent]\n})\nexport class OFormToolbarModule { }\n","import { CommonModule } from '@angular/common';\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { CanDeactivateFormGuard } from './guards/o-form-can-deactivate.guard';\nimport { OFormComponent } from './o-form.component';\nimport { OFormToolbarModule } from './toolbar/o-form-toolbar.module';\n\n@NgModule({\n  declarations: [OFormComponent],\n  imports: [CommonModule, OFormToolbarModule, OSharedModule],\n  exports: [OFormComponent, OFormToolbarModule],\n  providers: [{ provide: CanDeactivateFormGuard, useClass: CanDeactivateFormGuard }],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OFormModule { }\n","import { AfterViewInit, Component, ElementRef, EventEmitter, Injector, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { FloatLabelType, MatCheckboxChange, MatFormFieldAppearance } from '@angular/material';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { O_INPUTS_OPTIONS } from '../../../config/app-config';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { SnackBarService } from '../../../services/snackbar.service';\nimport { OTranslateService } from '../../../services/translate/o-translate.service';\nimport { Expression } from '../../../types/expression.type';\nimport { OInputsOptions } from '../../../types/o-inputs-options.type';\nimport { FilterExpressionUtils } from '../../../util/filter-expression.utils';\nimport { Util } from '../../../util/util';\n\nexport const DEFAULT_INPUTS_O_SEARCH_INPUT = [\n  'placeholder',\n  'width',\n  'floatLabel: float-label',\n  'appearance',\n  'columns',\n  'filterCaseSensitive: filter-case-sensitive',\n  'showCaseSensitiveCheckbox: show-case-sensitive-checkbox',\n  'showMenu: show-menu'\n];\n\nexport const DEFAULT_OUTPUTS_O_SEARCH_INPUT = [\n  'onSearch'\n];\n\ndeclare type ColumnObject = {\n  column: string;\n  checked: boolean;\n};\n\n@Component({\n  selector: 'o-search-input',\n  templateUrl: './o-search-input.component.html',\n  styleUrls: ['./o-search-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_SEARCH_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_SEARCH_INPUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-search-input]': 'true'\n  }\n})\nexport class OSearchInputComponent implements OnInit, AfterViewInit {\n\n  public onSearch: EventEmitter<any> = new EventEmitter<any>();\n\n  public colArray: ColumnObject[] = [];\n  public placeholder: string = 'SEARCH';\n  public width: string;\n  public columns: string;\n  @InputConverter()\n  public showCaseSensitiveCheckbox: boolean = false;\n  @InputConverter()\n  public showMenu: boolean = true;\n  @InputConverter()\n  protected _filterCaseSensitive: boolean = false;\n  protected _floatLabel: FloatLabelType;\n  protected _appearance: MatFormFieldAppearance;\n\n  protected formGroup: FormGroup;\n  protected term: FormControl;\n  protected translateService: OTranslateService;\n  protected oInputsOptions: OInputsOptions;\n  protected snackBarService: SnackBarService;\n\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.formGroup = new FormGroup({});\n  }\n\n  public ngOnInit(): void {\n    this.term = new FormControl();\n    this.formGroup.addControl('term', this.term);\n\n    this.term.valueChanges.pipe(debounceTime(400))\n      .pipe(distinctUntilChanged()).subscribe(term => {\n        if (this.checkActiveColumns()) {\n          this.onSearch.emit(term);\n        }\n      });\n\n    const colArray = Util.parseArray(this.columns, true);\n    colArray.forEach((col: string) => {\n      this.colArray.push({\n        column: col,\n        checked: true\n      });\n    });\n  }\n\n  public ngAfterViewInit(): void {\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  get floatLabel(): FloatLabelType {\n    return this._floatLabel;\n  }\n\n  set floatLabel(value: FloatLabelType) {\n    const values = ['always', 'never', 'auto'];\n    if (values.indexOf(value) === -1) {\n      value = 'auto';\n    }\n    this._floatLabel = value;\n  }\n\n  get appearance(): MatFormFieldAppearance {\n    return this._appearance;\n  }\n\n  set appearance(value: MatFormFieldAppearance) {\n    const values = ['legacy', 'standard', 'fill', 'outline'];\n    if (values.indexOf(value) === -1) {\n      value = undefined;\n    }\n    this._appearance = value;\n  }\n\n  get filterCaseSensitive(): boolean {\n    return this._filterCaseSensitive;\n  }\n\n  set filterCaseSensitive(value: boolean) {\n    this._filterCaseSensitive = value;\n  }\n\n  public getFormGroup(): FormGroup {\n    return this.formGroup;\n  }\n\n  public getValue(): string {\n    return this.term.value;\n  }\n\n  public setValue(val: string): void {\n    this.term.setValue(val);\n  }\n\n  public getFormControl(): FormControl {\n    return this.term;\n  }\n\n  get hasCustomWidth(): boolean {\n    return this.width !== undefined;\n  }\n\n  get showFilterMenu(): boolean {\n    return this.showMenu && this.colArray.length > 0;\n  }\n\n  public isChecked(column: ColumnObject): boolean {\n    return column.checked;\n  }\n\n  public onCheckboxChange(column: ColumnObject, event: MatCheckboxChange): void {\n    column.checked = event.checked;\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    this.colArray.forEach((col: ColumnObject) => {\n      col.checked = event.checked;\n    });\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public areAllColumnsChecked(): boolean {\n    let result: boolean = true;\n    this.colArray.forEach((col: ColumnObject) => {\n      result = result && col.checked;\n    });\n    return result;\n  }\n\n  public onFilterCaseSensitiveChange(event: MatCheckboxChange): void {\n    this.filterCaseSensitive = event.checked;\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public getActiveColumns(): string[] {\n    return this.colArray.filter(col => col.checked).map(col => col.column);\n  }\n\n  public setActiveColumns(arg: string[]): void {\n    this.colArray.forEach((c: ColumnObject) => {\n      c.checked = arg.indexOf(c.column) !== -1;\n    });\n  }\n\n  protected checkActiveColumns(): boolean {\n    if (this.getActiveColumns().length === 0) {\n      this.snackBarService.open('MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS');\n      return false;\n    }\n    return true;\n  }\n\n  protected triggerOnSearch(): void {\n    const term = this.term.value;\n    if (this.checkActiveColumns() && Util.isDefined(term) && term.length > 0) {\n      this.onSearch.emit(term);\n    }\n  }\n\n  public onMenuClosed(): void {\n    this.triggerOnSearch();\n  }\n\n  get filterExpression(): Expression {\n    const termValue = this.getValue();\n    if (Util.isDefined(termValue) && termValue.length > 0) {\n      const filterCols = this.getActiveColumns();\n      if (filterCols.length > 0) {\n        return FilterExpressionUtils.buildArrayExpressionLike(filterCols, termValue);\n      }\n    }\n    return undefined;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OSearchInputComponent } from './o-search-input.component';\n\n@NgModule({\n  declarations: [OSearchInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSearchInputComponent]\n})\nexport class OSearchInputModule { }\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { ObservableWrapper } from '../../../util/async';\nimport { IGridItem } from '../../../interfaces/o-grid-item.interface';\n\nexport const DEFAULT_INPUTS_O_GRID_ITEM = [\n  'colspan',\n  'rowspan'\n];\n\n@Component({\n  selector: 'o-grid-item',\n  templateUrl: './o-grid-item.component.html',\n  inputs: DEFAULT_INPUTS_O_GRID_ITEM,\n  host: {\n    '[class.o-grid-item]': 'true',\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  },\n\n})\nexport class OGridItemComponent implements IGridItem {\n\n  modelData: object;\n  mdClick: EventEmitter<any> = new EventEmitter();\n  mdDoubleClick: EventEmitter<any> = new EventEmitter();\n\n  @ViewChild(TemplateRef, { static: false }) public template: TemplateRef<any>;\n  @InputConverter()\n  colspan: number = 1;\n  @InputConverter()\n  rowspan: number = 1;\n\n  constructor(public _el: ElementRef) { }\n\n  onItemClicked(e?: Event) {\n    ObservableWrapper.callEmit(this.mdClick, this);\n  }\n\n  onItemDoubleClicked(e?: Event) {\n    ObservableWrapper.callEmit(this.mdDoubleClick, this);\n  }\n\n  public onClick(onNext: (item: OGridItemComponent) => void): object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onDoubleClick(onNext: (item: OGridItemComponent) => void): object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  setItemData(data: object): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  getItemData(): object {\n    return this.modelData;\n  }\n\n}\n","import { Directive, ElementRef, EventEmitter, HostListener, Renderer2 } from '@angular/core';\n\nimport { ObservableWrapper } from '../../../util/async';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OGridComponent } from '../o-grid.component';\n\n@Directive({\n  selector: 'mat-grid-tile[o-grid-item]',\n  host: {\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  }\n})\nexport class OGridItemDirective {\n\n  mdClick: EventEmitter<any> = new EventEmitter();\n  mdDoubleClick: EventEmitter<any> = new EventEmitter();\n  modelData: object;\n\n  protected grid: OGridComponent;\n\n  @HostListener('mouseenter')\n  onMouseEnter(): void {\n    if (Util.isDefined(this.grid) && this.grid.detailMode !== Codes.DETAIL_MODE_NONE) {\n      this.renderer.setStyle(this._el.nativeElement, 'cursor', 'pointer');\n    }\n  }\n\n  constructor(\n    public _el: ElementRef,\n    private renderer: Renderer2\n  ) { }\n\n  public onClick(onNext: (item: OGridItemDirective) => void): object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onDoubleClick(onNext: (item: OGridItemDirective) => void): object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  onItemClicked(e?: Event): void {\n    ObservableWrapper.callEmit(this.mdClick, this);\n  }\n\n  onItemDoubleClicked(e?: Event): void {\n    ObservableWrapper.callEmit(this.mdDoubleClick, this);\n  }\n\n  setItemData(data: object): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  getItemData(): object {\n    return this.modelData;\n  }\n\n  setGridComponent(grid: OGridComponent): void {\n    this.grid = grid;\n  }\n\n}\n","import { Component, AfterViewInit } from '@angular/core';\nimport { OServiceComponent } from '../o-service-component.class';\n\nexport const DEFAULT_INPUT_O_EXPANDABLE_CONTAINER = [\n  // targets [`OServiceComponent` instance]: Components whose query will be launched when expanding the row.\n  'targets',\n  'data'\n];\n@Component({\n  selector: 'o-expandable-container',\n  templateUrl: './o-expandable-container.component.html',\n  inputs: DEFAULT_INPUT_O_EXPANDABLE_CONTAINER\n})\nexport class OExpandableContainerComponent implements AfterViewInit {\n\n  public targets: Array<OServiceComponent>;\n  public data: any;\n  constructor() { }\n\n  ngAfterViewInit(): void {\n    this.targets.forEach(x => {\n      x.queryData();\n    });\n  }\n\n}\n","import { ChangeDetectorRef, HostListener, Injector, NgZone, OnChanges, SimpleChange } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../decorators/input-converter';\nimport { ILocalStorageComponent } from '../interfaces/local-storage-component.interface';\nimport { ServiceResponse } from '../interfaces/service-response.interface';\nimport { DialogService } from '../services/dialog.service';\nimport { LocalStorageService } from '../services/local-storage.service';\nimport { OntimizeService } from '../services/ontimize/ontimize.service';\nimport { OQueryDataArgs } from '../types/query-data-args.type';\nimport { Codes } from '../util/codes';\nimport { ServiceUtils } from '../util/service.utils';\nimport { Util } from '../util/util';\nimport { OFormComponent } from './form/o-form.component';\nimport { OExpandableContainerComponent } from './expandable-container/o-expandable-container.component';\n\nexport const DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT = [\n  // attr [string]: list identifier. It is mandatory if data are provided through the data attribute. Default: entity (if set).\n  'oattr: attr',\n\n  // service [string]: JEE service path. Default: no value.\n  'service',\n\n  'serviceType : service-type',\n\n  // entity [string]: entity of the service. Default: no value.\n  'entity',\n\n  // query-on-init [no|yes]: query on init. Default: yes.\n  'queryOnInit: query-on-init',\n\n  // query-on-init [no|yes]: query on bind. Default: yes.\n  'queryOnBind: query-on-bind',\n\n  'queryOnEvent: query-on-event',\n\n  'pageable',\n\n  // columns [string]: columns of the entity, separated by ';'. Default: no value.\n  'columns',\n\n  // keys [string]: entity keys, separated by ';'. Default: no value.\n  'keys',\n\n  // parent-keys [string]: parent keys to filter, separated by ';'. Default: no value.\n  'parentKeys: parent-keys',\n\n  // static-data [Array<any>] : way to populate with static data. Default: no value.\n  'staticData: static-data',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  // paginated-query-method [string]: name of the service method to perform paginated queries. Default: advancedQuery.\n  'paginatedQueryMethod : paginated-query-method',\n\n  // query-rows [number]: number of rows per page. Default: 10.\n  'oQueryRows: query-rows',\n\n  // insert-method [string]: name of the service method to perform inserts. Default: insert.\n  'insertMethod: insert-method',\n\n  // update-method [string]: name of the service method to perform updates. Default: update.\n  'updateMethod: update-method',\n\n  // delete-method [string]: name of the service method to perform deletions. Default: delete.\n  'deleteMethod: delete-method',\n\n  'storeState: store-state',\n\n  // query-with-null-parent-keys [string][yes|no|true|false]: Indicates whether or not to trigger query method when parent-keys filter is null. Default: false\n  'queryWithNullParentKeys: query-with-null-parent-keys',\n\n  // [function]: function to execute on query error. Default: no value.\n  'queryFallbackFunction: query-fallback-function'\n  // ,\n\n  // 'insertFallbackFunction: insert-fallback-function',\n\n  // 'updateFallbackFunction: update-fallback-function',\n\n  // 'deleteFallbackFunction: delete-fallback-function'\n];\n\nexport class OServiceBaseComponent implements ILocalStorageComponent, OnChanges {\n\n  protected localStorageService: LocalStorageService;\n  protected dialogService: DialogService;\n\n  /* inputs variables */\n  oattr: string;\n  service: string;\n  serviceType: string;\n  entity: string;\n  @InputConverter()\n  queryOnInit: boolean = true;\n  @InputConverter()\n  queryOnBind: boolean = true;\n  queryOnEvent: any;\n  @InputConverter()\n  pageable: boolean = false;\n  columns: string;\n  keys: string;\n  parentKeys: string;\n  staticData: Array<any>;\n  queryMethod: string = Codes.QUERY_METHOD;\n  paginatedQueryMethod: string = Codes.PAGINATED_QUERY_METHOD;\n\n  originalQueryRows: number = Codes.DEFAULT_QUERY_ROWS;\n  protected _queryRows = this.originalQueryRows;\n\n  @InputConverter()\n  set oQueryRows(value: number) {\n    if (Util.isDefined(value)) {\n      this.originalQueryRows = value;\n      this._queryRows = value;\n    }\n  }\n\n  get queryRows(): number {\n    return this._queryRows;\n  }\n\n  set queryRows(value: number) {\n    if (Util.isDefined(value)) {\n      this._queryRows = value;\n    }\n  }\n  insertMethod: string = Codes.INSERT_METHOD;\n  updateMethod: string = Codes.UPDATE_METHOD;\n  deleteMethod: string = Codes.DELETE_METHOD;\n  @InputConverter()\n  storeState: boolean = true;\n  @InputConverter()\n  queryWithNullParentKeys: boolean = false;\n  queryFallbackFunction: (err: any) => void;\n  // insertFallbackFunction: (err: any) => void;\n  // updateFallbackFunction: (err: any) => void;\n  // deleteFallbackFunction: (err: any) => void;\n  /* end of inputs variables */\n\n  /* parsed inputs variables */\n  protected colArray: Array<string> = [];\n  protected keysArray: Array<string> = [];\n  protected _pKeysEquiv = {};\n  dataArray: Array<any> = [];\n  protected oattrFromEntity: boolean = false;\n  /* end of parsed inputs variables */\n\n  protected onRouteChangeStorageSubscription: any;\n  protected onFormDataSubscribe: any;\n\n  protected loaderSubscription: Subscription;\n  protected querySubscription: Subscription;\n  protected dataService: any;\n  protected _state: any = {};\n\n  protected loadingSubject = new BehaviorSubject<boolean>(false);\n  public loading: Observable<boolean> = this.loadingSubject.asObservable();\n\n  protected form: OFormComponent;\n  public expandableContainer: OExpandableContainerComponent;\n  protected alreadyStored: boolean = false;\n\n  protected queryOnEventSubscription: Subscription;\n  public cd: ChangeDetectorRef; // borrar\n  protected queryArguments: any[];\n\n  protected router: Router;\n  protected actRoute: ActivatedRoute;\n\n  protected sqlTypes = undefined;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.router = this.injector.get(Router);\n    this.actRoute = this.injector.get(ActivatedRoute);\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n      this.form = this.injector.get(OFormComponent);\n    } catch (e) {\n      // no parent form\n    }\n    try {\n      this.expandableContainer = this.injector.get(OExpandableContainerComponent);\n    } catch (e) {\n      // No parent OExpandableContainerComponent\n    }\n  }\n\n  initialize(): void {\n    if (!Util.isDefined(this.oattr) && Util.isDefined(this.entity)) {\n      this.oattr = this.entity.replace('.', '_');\n      this.oattrFromEntity = true;\n    }\n    this.keysArray = Util.parseArray(this.keys);\n    this.colArray = Util.parseArray(this.columns, true);\n    const pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray, Codes.COLUMNS_ALIAS_SEPARATOR);\n\n    if (this.storeState) {\n      this.onRouteChangeStorageSubscription = this.localStorageService.onRouteChange.subscribe(res => {\n        this.updateStateStorage();\n        // when the storage is updated because a route change\n        // the alreadyStored control variable is changed to its initial value\n        this.alreadyStored = false;\n      });\n\n      this.initializeState();\n\n      // if query-rows in initial configuration is equals to original query-rows input\n      // query_rows will be the value in local storage\n      if (this.state.hasOwnProperty('query-rows')) {\n        if (this.state.hasOwnProperty('initial-configuration') && this.state['initial-configuration'].hasOwnProperty('query-rows')\n          && this.state['initial-configuration']['query-rows'] === this.originalQueryRows) {\n          this.queryRows = this.state['query-rows'];\n        }\n      }\n    }\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n    }\n\n    if (this.form && Util.isDefined(this.dataService)) {\n      this.setFormComponent(this.form);\n    }\n\n    if (Util.isDefined(this.queryOnEvent) && Util.isDefined(this.queryOnEvent.subscribe)) {\n      const self = this;\n      this.queryOnEventSubscription = this.queryOnEvent.subscribe((value) => {\n        if (Util.isDefined(value) || this.queryWithNullParentKeys) {\n          self.queryData();\n        }\n      });\n    }\n\n    if (typeof this.queryFallbackFunction !== 'function') {\n      this.queryFallbackFunction = undefined;\n    }\n    // if (typeof this.insertFallbackFunction !== 'function') {\n    //   this.insertFallbackFunction = undefined;\n    // }\n    // if (typeof this.updateFallbackFunction !== 'function') {\n    //   this.updateFallbackFunction = undefined;\n    // }\n    // if (typeof this.deleteFallbackFunction !== 'function') {\n    //   this.deleteFallbackFunction = undefined;\n    // }\n  }\n\n  afterViewInit() {\n    //\n  }\n\n  destroy() {\n    if (this.onFormDataSubscribe) {\n      this.onFormDataSubscribe.unsubscribe();\n    }\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.onRouteChangeStorageSubscription) {\n      this.onRouteChangeStorageSubscription.unsubscribe();\n    }\n    if (this.queryOnEventSubscription) {\n      this.queryOnEventSubscription.unsubscribe();\n    }\n    this.updateStateStorage();\n  }\n\n  ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n    if (Util.isDefined(changes.staticData)) {\n      this.setDataArray(changes.staticData.currentValue);\n    }\n  }\n\n  @HostListener('window:beforeunload', [])\n  beforeunloadHandler() {\n    this.updateStateStorage();\n  }\n\n  getAttribute(): string {\n    return this.oattr;\n  }\n\n  getComponentKey(): string {\n    return this.getAttribute();\n  }\n\n  getDataToStore(): object {\n    return this.state;\n  }\n\n  getRouteKey(): string {\n    let route = this.router.url;\n    this.actRoute.params.subscribe(params => {\n      Object.keys(params).forEach(key => {\n        route = route.replace(params[key], key);\n      });\n    });\n    return route;\n  }\n\n  getKeys() {\n    return this.keysArray;\n  }\n\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get<any>(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  getDataArray() {\n    return this.dataArray;\n  }\n\n  setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataArray = data;\n    } else if (Util.isObject(data)) {\n      this.dataArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or Object');\n      this.dataArray = [];\n    }\n  }\n\n  public setFormComponent(form: OFormComponent): void {\n    if (!Util.isDefined(this.form)) {\n      this.form = form;\n    }\n\n    if (this.queryOnBind) {\n      this.onFormDataSubscribe = this.form.onDataLoaded.subscribe(() => this.pageable ? this.reloadPaginatedDataFromStart() : this.reloadData());\n    }\n  }\n\n  public getParentKeysFromContext(parentKeys: object, context: any) {\n    let result = {};\n    if (context instanceof OExpandableContainerComponent) {\n      result = ServiceUtils.getParentKeysFromExpandableContainer(parentKeys, context);\n    } else {\n      result = ServiceUtils.getParentKeysFromForm(parentKeys, context);\n    }\n    return result;\n\n  }\n\n  public queryData(filter?: any, ovrrArgs?: OQueryDataArgs): void {\n    const queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    if (!this.dataService || !(queryMethodName in this.dataService) || !this.entity) {\n      return;\n    }\n    const filterParentKeys = this.getParentKeysValues();\n    if (!ServiceUtils.filterContainsAllParentKeys(filterParentKeys, this._pKeysEquiv) && !this.queryWithNullParentKeys) {\n      this.setData([], []);\n    } else {\n      const queryArguments = this.getQueryArguments(filter, ovrrArgs);\n      if (this.querySubscription) {\n        this.querySubscription.unsubscribe();\n      }\n      if (this.loaderSubscription) {\n        this.loaderSubscription.unsubscribe();\n      }\n      this.loaderSubscription = this.load();\n      const self = this;\n      this.queryArguments = queryArguments;\n      this.querySubscription = this.dataService[queryMethodName]\n        .apply(this.dataService, queryArguments)\n        .subscribe((res: ServiceResponse) => {\n          let data;\n          this.sqlTypes = undefined;\n          if (Util.isArray(res)) {\n            data = res;\n            this.sqlTypes = {};\n          } else if (res.isSuccessful()) {\n            const arrData = (res.data !== undefined) ? res.data : [];\n            data = Util.isArray(arrData) ? arrData : [];\n            this.sqlTypes = res.sqlTypes;\n            if (this.pageable) {\n              this.updatePaginationInfo(res);\n            }\n          }\n          self.setData(data, this.sqlTypes, (ovrrArgs && ovrrArgs.replace));\n          self.loaderSubscription.unsubscribe();\n        }, err => {\n          self.setData([], []);\n          self.loaderSubscription.unsubscribe();\n          if (Util.isDefined(self.queryFallbackFunction)) {\n            self.queryFallbackFunction(err);\n          } else if (err && typeof err !== 'object') {\n            self.dialogService.alert('ERROR', err);\n          } else {\n            self.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n          }\n        });\n    }\n  }\n\n  public reloadData(): void {\n    this.queryData();\n  }\n\n  /**\n   * Reloads the component data and restarts the pagination.\n   */\n  reloadPaginatedDataFromStart(): void {\n    this.reloadData();\n  }\n\n  load(): any {\n    const self = this;\n    const zone = this.injector.get(NgZone);\n    const loadObservable = new Observable(observer => {\n      const timer = window.setTimeout(() => {\n        observer.next(true);\n      }, 250);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          self.loadingSubject.next(false);\n        });\n      };\n\n    });\n    const subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  /**\n   * Extracting the given record keys\n   * @param item record object\n   * @returns object containing item object properties contained in keysArray\n   */\n  extractKeysFromRecord(item: any): object {\n    const result = {};\n    if (Util.isObject(item)) {\n      this.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          result[key] = item[key];\n        }\n      });\n    }\n    return result;\n  }\n\n  getAttributesValuesToQuery(): Array<string> {\n    const result = this.colArray;\n    this.keysArray.forEach(key => {\n      if (result.indexOf(key) === -1) {\n        result.push(key);\n      }\n    });\n    return result;\n  }\n\n  getQueryArguments(filter: object, ovrrArgs?: OQueryDataArgs): Array<any> {\n    const compFilter = this.getComponentFilter(filter);\n    const queryCols = this.getAttributesValuesToQuery();\n    const sqlTypes = (ovrrArgs && ovrrArgs.hasOwnProperty('sqltypes')) ? ovrrArgs.sqltypes : this.form ? this.form.getAttributesSQLTypes() : {};\n\n    let queryArguments = [compFilter, queryCols, this.entity, sqlTypes];\n    if (this.pageable) {\n      const queryOffset = (ovrrArgs && ovrrArgs.hasOwnProperty('offset')) ? ovrrArgs.offset : this.state.queryRecordOffset;\n      const queryRowsN = (ovrrArgs && ovrrArgs.hasOwnProperty('length')) ? ovrrArgs.length : this.queryRows;\n      queryArguments = queryArguments.concat([queryOffset, queryRowsN, undefined]);\n    }\n    return queryArguments;\n  }\n\n  updatePaginationInfo(queryRes: ServiceResponse) {\n    const resultEndIndex = queryRes.startRecordIndex + (queryRes.data ? queryRes.data.length : 0);\n    if (queryRes.startRecordIndex !== undefined) {\n      this.state.queryRecordOffset = resultEndIndex;\n    }\n    if (queryRes.totalQueryRecordsNumber !== undefined) {\n      this.state.totalQueryRecordsNumber = queryRes.totalQueryRecordsNumber;\n    }\n  }\n\n  getTotalRecordsNumber(): number {\n    return (this.state && this.state.totalQueryRecordsNumber !== undefined) ? this.state.totalQueryRecordsNumber : undefined;\n  }\n\n  getContextComponent() {\n    return this.expandableContainer || this.form;\n  }\n\n  getComponentFilter(existingFilter: any = {}): any {\n    const filterParentKeys = this.getParentKeysFromContext(this._pKeysEquiv, this.getContextComponent());\n    existingFilter = Object.assign(existingFilter || {}, filterParentKeys);\n    return existingFilter;\n  }\n\n  getSqlTypes() {\n    return Util.isDefined(this.sqlTypes) ? this.sqlTypes : {};\n  }\n\n  get state(): any {\n    return this._state;\n  }\n\n  set state(arg: any) {\n    this._state = arg;\n  }\n\n  getParentKeysValues() {\n    const context = this.getContextComponent();\n    return this.getParentKeysFromContext(this._pKeysEquiv, context);\n  }\n\n  protected updateStateStorage(): void {\n    if (this.localStorageService && this.storeState && !this.alreadyStored) {\n      this.alreadyStored = true;\n      this.localStorageService.updateComponentStorage(this, this.getRouteKey());\n    }\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    //\n  }\n\n  initializeState() {\n    // Get previous status\n    this.state = this.localStorageService.getComponentStorage(this, this.getRouteKey());\n  }\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { ElementRef, forwardRef, Injector, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nimport { OFilterBuilderComponent } from '../components/filter-builder/o-filter-builder.component';\nimport { OSearchInputComponent } from '../components/input/search-input/o-search-input.component';\nimport { InputConverter } from '../decorators/input-converter';\nimport { OFormLayoutDialogComponent } from '../layouts/form-layout/dialog/o-form-layout-dialog.component';\nimport { OFormLayoutManagerComponent } from '../layouts/form-layout/o-form-layout-manager.component';\nimport { NavigationService } from '../services/navigation.service';\nimport { PermissionsService } from '../services/permissions/permissions.service';\nimport { OTranslateService } from '../services/translate/o-translate.service';\nimport { Expression } from '../types/expression.type';\nimport { OListInitializationOptions } from '../types/o-list-initialization-options.type';\nimport { OTableInitializationOptions } from '../types/o-table-initialization-options.type';\nimport { Codes } from '../util/codes';\nimport { FilterExpressionUtils } from '../util/filter-expression.utils';\nimport { Util } from '../util/util';\nimport { OFormComponent } from './form/o-form.component';\nimport { DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT, OServiceBaseComponent } from './o-service-base-component.class';\n\nexport const DEFAULT_INPUTS_O_SERVICE_COMPONENT = [\n  ...DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT,\n\n  '_title: title',\n\n  // visible [no|yes]: visibility. Default: yes.\n  'ovisible: visible',\n\n  // enabled [no|yes]: editability. Default: yes.\n  'enabled',\n\n  // controls [string][yes|no|true|false]:\n  'controls',\n\n  // detail-mode [none|click|doubleclick]: way to open the detail form of a row. Default: 'click'.\n  'detailMode: detail-mode',\n\n  // detail-form-route [string]: route of detail form. Default: 'detail'.\n  'detailFormRoute: detail-form-route',\n\n  // recursive-detail [no|yes]: do not append detail keys when navigate (overwrite current). Default: no.\n  'recursiveDetail: recursive-detail',\n\n  // detail-button-in-row [no|yes]: adding a button in row for opening detail form. Default: yes.\n  'detailButtonInRow: detail-button-in-row',\n\n  // detail-button-in-row-icon [string]: material icon. Default: mode_edit.\n  'detailButtonInRowIcon: detail-button-in-row-icon',\n\n  // edit-form-route [string]: route of edit form. Default: 'edit'.\n  'editFormRoute: edit-form-route',\n\n  // recursive-edit [no|yes]: do not append detail keys when navigate (overwrite current). Default: no.\n  'recursiveEdit: recursive-edit',\n\n  // edit-button-in-row [no|yes]: adding a button in row for opening edition form. Default: no.\n  'editButtonInRow: edit-button-in-row',\n\n  // edit-button-in-row-icon [string]: material icon. Default: search.\n  'editButtonInRowIcon: edit-button-in-row-icon',\n\n  // insert-button [no|yes]: show insert button. Default: yes.\n  'insertButton: insert-button',\n\n  // row-height [small | medium | large]\n  'rowHeight : row-height',\n\n  // insert-form-route [string]: route of insert form. Default:\n  'insertFormRoute: insert-form-route',\n\n  // recursive-insert [no|yes]: do not append insert keys when navigate (overwrite current). Default: no.\n  'recursiveInsert: recursive-insert',\n\n  // filter [yes|no|true|false]: whether filter is case sensitive. Default: no.\n  'filterCaseSensitive: filter-case-sensitive',\n\n  // quick-filter [no|yes]: show quick filter. Default: yes.\n  'quickFilter: quick-filter',\n];\n\nexport class OServiceComponent extends OServiceBaseComponent {\n\n  protected permissionsService: PermissionsService;\n  protected translateService: OTranslateService;\n  protected navigationService: NavigationService;\n\n  /* inputs variables */\n  set title(val: string) {\n    this._title = val;\n  }\n  get title(): string {\n    if (Util.isDefined(this._title)) {\n      return this.translateService.get(this._title);\n    }\n    return this._title;\n  }\n  protected _title: string;\n  @InputConverter()\n  protected ovisible: boolean = true;\n  @InputConverter()\n  protected oenabled: boolean = true;\n  @InputConverter()\n  protected controls: boolean = true;\n  public detailMode: string = Codes.DETAIL_MODE_CLICK;\n  protected detailFormRoute: string;\n  @InputConverter()\n  protected recursiveDetail: boolean = false;\n  @InputConverter()\n  detailButtonInRow: boolean = false;\n  detailButtonInRowIcon: string = Codes.DETAIL_ICON;\n  protected editFormRoute: string;\n  @InputConverter()\n  protected recursiveEdit: boolean = false;\n  @InputConverter()\n  editButtonInRow: boolean = false;\n  editButtonInRowIcon: string = Codes.EDIT_ICON;\n  @InputConverter()\n  insertButton: boolean;\n  protected _rowHeight = Codes.DEFAULT_ROW_HEIGHT;\n  protected rowHeightSubject: BehaviorSubject<string> = new BehaviorSubject(this._rowHeight);\n  public rowHeightObservable: Observable<string> = this.rowHeightSubject.asObservable();\n\n  set rowHeight(value) {\n    this._rowHeight = value ? value.toLowerCase() : value;\n    if (!Codes.isValidRowHeight(this._rowHeight)) {\n      this._rowHeight = Codes.DEFAULT_ROW_HEIGHT;\n    }\n    this.rowHeightSubject.next(this._rowHeight);\n  }\n  get rowHeight(): string {\n    return this._rowHeight;\n  }\n  protected insertFormRoute: string;\n  @InputConverter()\n  protected recursiveInsert: boolean = false;\n  @InputConverter()\n  public filterCaseSensitive: boolean = false;\n  protected _quickFilter: boolean = true;\n  get quickFilter(): boolean {\n    return this._quickFilter;\n  }\n  set quickFilter(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._quickFilter = val;\n    if (val) {\n      setTimeout(() => this.registerQuickFilter(this.searchInputComponent), 0);\n    }\n  }\n  /* end of inputs variables */\n\n  public filterBuilder: OFilterBuilderComponent;\n  public selection = new SelectionModel<Element>(true, []);\n\n  protected onTriggerUpdateSubscription: any;\n  protected formLayoutManager: OFormLayoutManagerComponent;\n  protected formLayoutManagerTabIndex: number;\n  public oFormLayoutDialog: OFormLayoutDialogComponent;\n\n  protected tabsSubscriptions: any;\n  public quickFilterComponent: OSearchInputComponent;\n  @ViewChild((forwardRef(() => OSearchInputComponent)), { static: false })\n  public searchInputComponent: OSearchInputComponent;\n  protected quickFilterColArray: string[];\n\n  constructor(\n    injector: Injector,\n    protected elRef: ElementRef,\n    protected form: OFormComponent\n  ) {\n    super(injector);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.navigationService = this.injector.get(NavigationService);\n    try {\n      this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    } catch (e) {\n      // no parent form layout manager\n    }\n    try {\n      this.oFormLayoutDialog = this.injector.get(OFormLayoutDialogComponent);\n      this.formLayoutManager = this.oFormLayoutDialog.formLayoutManager;\n    } catch (e) {\n      // no parent form layout manager\n    }\n  }\n\n  public initialize(): void {\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode() && this.formLayoutManager.oTabGroup) {\n\n      this.formLayoutManagerTabIndex = this.formLayoutManager.oTabGroup.data.length;\n\n      this.tabsSubscriptions = this.formLayoutManager.oTabGroup.onSelectedTabChange.subscribe(() => {\n        if (this.formLayoutManagerTabIndex !== this.formLayoutManager.oTabGroup.selectedTabIndex) {\n          this.updateStateStorage();\n          // when the storage is updated because a form layout manager tab change\n          // the alreadyStored control variable is changed to its initial value\n          this.alreadyStored = false;\n        }\n      });\n\n      this.tabsSubscriptions.add(this.formLayoutManager.oTabGroup.onCloseTab.subscribe(() => {\n        if (this.formLayoutManagerTabIndex === this.formLayoutManager.oTabGroup.selectedTabIndex) {\n          this.updateStateStorage();\n        }\n      }));\n    }\n    super.initialize();\n    if (this.detailButtonInRow || this.editButtonInRow) {\n      this.detailMode = Codes.DETAIL_MODE_NONE;\n    }\n\n  }\n\n  public afterViewInit(): void {\n    super.afterViewInit();\n    if (this.elRef) {\n      this.elRef.nativeElement.removeAttribute('title');\n    }\n    if (this.formLayoutManager && this.formLayoutManager.isMainComponent(this)) {\n      this.onTriggerUpdateSubscription = this.formLayoutManager.onTriggerUpdate.subscribe(() => {\n        this.reloadData();\n      });\n    }\n  }\n\n  public destroy(): void {\n    super.destroy();\n    if (this.onTriggerUpdateSubscription) {\n      this.onTriggerUpdateSubscription.unsubscribe();\n    }\n    if (this.tabsSubscriptions) {\n      this.tabsSubscriptions.unsubscribe();\n    }\n  }\n\n  public isVisible(): boolean {\n    return this.ovisible;\n  }\n\n  public hasControls(): boolean {\n    return this.controls;\n  }\n\n  public hasTitle(): boolean {\n    return this.title !== undefined;\n  }\n\n  public getSelectedItems(): any[] {\n    return this.selection.selected;\n  }\n\n  public clearSelection(): void {\n    this.selection.clear();\n  }\n\n  public setSelected(item: any): void {\n    this.selection.toggle(item);\n  }\n\n  protected navigateToDetail(route: any[], qParams: any, relativeTo: ActivatedRoute): void {\n    const extras = {\n      relativeTo: relativeTo\n    };\n    if (this.formLayoutManager && this.formLayoutManager.isMainComponent(this)) {\n      qParams[Codes.IGNORE_CAN_DEACTIVATE] = true;\n      this.formLayoutManager.setAsActiveFormLayoutManager();\n    }\n    extras[Codes.QUERY_PARAMS] = qParams;\n    this.router.navigate(route, extras);\n  }\n\n  public insertDetail(): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    const route = this.getInsertRoute();\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      const relativeTo = this.recursiveInsert ? this.actRoute.parent : this.actRoute;\n      const qParams = {};\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  public viewDetail(item: any): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    const route = this.getItemModeRoute(item, 'detailFormRoute');\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      const qParams = Codes.getIsDetailObject();\n      const relativeTo = this.recursiveDetail ? this.actRoute.parent : this.actRoute;\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  public editDetail(item: any): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    const route = this.getItemModeRoute(item, 'editFormRoute');\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      const qParams = Codes.getIsDetailObject();\n      const relativeTo = this.recursiveEdit ? this.actRoute.parent : this.actRoute;\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  protected addFormLayoutManagerRoute(routeArr: any[]): void {\n    if (this.formLayoutManager && routeArr.length > 0) {\n      const compRoute = this.formLayoutManager.getRouteForComponent(this);\n      if (compRoute && compRoute.length > 0) {\n        routeArr.unshift(...compRoute);\n      }\n    }\n  }\n\n  protected getEncodedParentKeys(): string {\n    let encoded: string;\n    if (Object.keys(this._pKeysEquiv).length > 0) {\n      const pKeys = this.getParentKeysValues();\n      if (Object.keys(pKeys).length > 0) {\n        encoded = Util.encodeParentKeys(pKeys);\n      }\n    }\n    return encoded;\n  }\n\n  public getInsertRoute(): any[] {\n    const route = [];\n    if (Util.isDefined(this.detailFormRoute)) {\n      route.push(this.detailFormRoute);\n    }\n    const insertRoute = Util.isDefined(this.insertFormRoute) ? this.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE;\n    route.push(insertRoute);\n    // adding parent-keys info...\n    const encodedParentKeys = this.getEncodedParentKeys();\n    if (Util.isDefined(encodedParentKeys)) {\n      const routeObj = {};\n      routeObj[Codes.PARENT_KEYS_KEY] = encodedParentKeys;\n      route.push(routeObj);\n    }\n    if (route.length > 0) {\n      this.storeNavigationFormRoutes('insertFormRoute');\n    }\n    return route;\n  }\n\n  public getItemModeRoute(item: any, modeRoute: string): any[] {\n    const result = this.getRouteOfSelectedRow(item);\n    if (result.length > 0) {\n      if (Util.isDefined(this.detailFormRoute)) {\n        result.unshift(this.detailFormRoute);\n      }\n      if (modeRoute === 'editFormRoute') {\n        result.push(this.editFormRoute || Codes.DEFAULT_EDIT_ROUTE);\n      }\n    }\n    if (result.length > 0 && !this.oFormLayoutDialog) {\n      this.storeNavigationFormRoutes(modeRoute, this.getQueryConfiguration());\n    }\n    return result;\n  }\n\n  protected getQueryConfiguration(): any {\n    let result = {\n      keysValues: this.getKeysValues()\n    };\n    if (this.pageable) {\n      result = Object.assign({\n        serviceType: this.serviceType,\n        queryArguments: this.queryArguments,\n        entity: this.entity,\n        service: this.service,\n        queryMethod: this.pageable ? this.paginatedQueryMethod : this.queryMethod,\n        totalRecordsNumber: this.getTotalRecordsNumber(),\n        queryRows: this.queryRows,\n        queryRecordOffset: Math.max(this.state.queryRecordOffset - this.queryRows, 0)\n      }, result);\n    }\n    return result;\n  }\n\n  public getRouteOfSelectedRow(item: any): any[] {\n    const route = [];\n    if (Util.isObject(item)) {\n      this.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          route.push(item[key]);\n        }\n      });\n    }\n    return route;\n  }\n\n  protected deleteLocalItems(): void {\n    const selectedItems = this.getSelectedItems();\n    for (let i = 0; i < selectedItems.length; ++i) {\n      const selectedItem = selectedItems[i];\n      const selectedItemKv = {};\n      for (let k = 0; k < this.keysArray.length; ++k) {\n        const key = this.keysArray[k];\n        selectedItemKv[key] = selectedItem[key];\n      }\n      for (let j = this.dataArray.length - 1; j >= 0; --j) {\n        const item = this.dataArray[j];\n        const itemKv = {};\n        for (let k = 0; k < this.keysArray.length; ++k) {\n          const key = this.keysArray[k];\n          itemKv[key] = item[key];\n        }\n        let found = false;\n        for (const k in selectedItemKv) {\n          if (selectedItemKv.hasOwnProperty(k)) {\n            found = itemKv.hasOwnProperty(k) && (selectedItemKv[k] === itemKv[k]);\n          }\n        }\n        if (found) {\n          this.dataArray.splice(j, 1);\n          break;\n        }\n      }\n    }\n    this.clearSelection();\n  }\n\n  public reinitialize(options: OListInitializationOptions | OTableInitializationOptions): void {\n    if (options && Object.keys(options).length) {\n      const clonedOpts = Object.assign({}, options);\n      if (clonedOpts.hasOwnProperty('entity')) {\n        this.entity = clonedOpts.entity;\n        if (this.oattrFromEntity) {\n          this.oattr = undefined;\n        }\n        delete clonedOpts.entity;\n      }\n      for (const prop in clonedOpts) {\n        if (clonedOpts.hasOwnProperty(prop)) {\n          this[prop] = clonedOpts[prop];\n        }\n      }\n      this.destroy();\n      this.initialize();\n    }\n  }\n\n  /**\n   * Sets the `o-filter-builder` component that this component will use to filter its data.\n   * @param filterBuilder the `o-filter-builder` component.\n   */\n  public setFilterBuilder(filterBuilder: OFilterBuilderComponent): void {\n    this.filterBuilder = filterBuilder;\n  }\n\n  public getComponentFilter(existingFilter: any = {}): any {\n    const filter = super.getComponentFilter(existingFilter);\n\n    const quickFilterExpr = this.getQuickFilterExpression();\n    const filterBuilderExpr = this.getFilterBuilderExpression();\n    let complexExpr = quickFilterExpr || filterBuilderExpr;\n    if (quickFilterExpr && filterBuilderExpr) {\n      complexExpr = FilterExpressionUtils.buildComplexExpression(quickFilterExpr, filterBuilderExpr, FilterExpressionUtils.OP_AND);\n    }\n\n    if (complexExpr && !Util.isDefined(filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY])) {\n      filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY] = complexExpr;\n    } else if (complexExpr) {\n      filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY] =\n        FilterExpressionUtils.buildComplexExpression(filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY], complexExpr, FilterExpressionUtils.OP_AND);\n    }\n\n    return filter;\n  }\n\n  protected getQuickFilterExpression(): Expression {\n    if (this.pageable && Util.isDefined(this.quickFilterComponent)) {\n      return this.quickFilterComponent.filterExpression;\n    }\n    return undefined;\n  }\n\n  protected getFilterBuilderExpression(): Expression {\n    // Add filter from o-filter-builder component\n    if (Util.isDefined(this.filterBuilder)) {\n      return this.filterBuilder.getExpression();\n    }\n    return undefined;\n  }\n\n  protected storeNavigationFormRoutes(activeMode: string, queryConf?: any): void {\n    const mainFormLayoutComp = this.formLayoutManager ? Util.isDefined(this.formLayoutManager.isMainComponent(this)) : undefined;\n    this.navigationService.storeFormRoutes({\n      mainFormLayoutManagerComponent: mainFormLayoutComp,\n      isMainNavigationComponent: true,\n      detailFormRoute: this.detailFormRoute,\n      editFormRoute: this.editFormRoute,\n      insertFormRoute: Util.isDefined(this.insertFormRoute) ? this.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE\n    }, activeMode, queryConf);\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    // Save data of the list in navigation-data in the localstorage\n  }\n\n  protected getKeysValues(): any[] {\n    const data = this.dataArray;\n    const self = this;\n    return data.map((row) => {\n      const obj = {};\n      self.keysArray.forEach((key) => {\n        if (row[key] !== undefined) {\n          obj[key] = row[key];\n        }\n      });\n      return obj;\n    });\n  }\n\n  getRouteKey(): string {\n    let route = '';\n    if (this.formLayoutManager && !this.formLayoutManager.isMainComponent(this)) {\n      route = this.router.url;\n      const params = this.formLayoutManager.getParams();\n      if (params) {\n        route += '/' + (Object.keys(params).join('/'));\n      }\n    } else {\n      route = super.getRouteKey();\n    }\n    return route;\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n\n  initializeState() {\n    let routeKey = super.getRouteKey();\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode() && !this.formLayoutManager.isMainComponent(this)) {\n      try {\n        const params = this.formLayoutManager.oTabGroup.state.tabsData[0].params;\n        if (params) {\n          routeKey = this.router.url;\n          routeKey += '/' + (Object.keys(params).join('/'));\n        }\n      } catch (e) {\n        //\n      }\n    }\n    // Get previous status\n    this.state = this.localStorageService.getComponentStorage(this, routeKey);\n\n  }\n\n  public showCaseSensitiveCheckbox(): boolean {\n    return !this.pageable;\n  }\n\n  public registerQuickFilter(arg: any): void {\n    const quickFilter = (arg as OSearchInputComponent);\n    if (Util.isDefined(this.quickFilterComponent)) {\n      // avoiding to register a quickfiltercomponent if it already exists one\n      return;\n    }\n    this.quickFilterComponent = quickFilter;\n    if (Util.isDefined(this.quickFilterComponent)) {\n      if (this.state.hasOwnProperty('filterValue')) {\n        this.quickFilterComponent.setValue(this.state.filterValue);\n      }\n      if (this.state.hasOwnProperty('quickFilterActiveColumns')) {\n        const parsedArr = Util.parseArray(this.state.quickFilterActiveColumns, true);\n        this.quickFilterComponent.setActiveColumns(parsedArr);\n      }\n      this.quickFilterComponent.onSearch.subscribe(val => this.filterData(val));\n    }\n  }\n\n  public filterData(value?: string, loadMore?: boolean): void {\n    //\n  }\n\n  public isFilterCaseSensitive(): boolean {\n    const useQuickFilterValue = Util.isDefined(this.quickFilterComponent) && this.showCaseSensitiveCheckbox();\n    if (useQuickFilterValue) {\n      return this.quickFilterComponent.filterCaseSensitive;\n    }\n    return this.filterCaseSensitive;\n  }\n\n  public configureFilterValue(value: string): string {\n    let returnVal = value;\n    if (value && value.length > 0) {\n      if (!value.startsWith('*')) {\n        returnVal = '*' + returnVal;\n      }\n      if (!value.endsWith('*')) {\n        returnVal = returnVal + '*';\n      }\n    }\n    return returnVal;\n  }\n\n  public getQuickFilterValue(): string {\n    const result = '';\n    if (Util.isDefined(this.quickFilterComponent)) {\n      return this.quickFilterComponent.getValue() || '';\n    }\n    return result;\n  }\n\n  public getQuickFilterColumns(): string[] {\n    let result = this.quickFilterColArray;\n    if (Util.isDefined(this.quickFilterComponent)) {\n      result = this.quickFilterComponent.getActiveColumns();\n    }\n    return result;\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  QueryList,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport { MediaChange, MediaObserver } from '@angular/flex-layout';\nimport { MatPaginator, PageEvent } from '@angular/material';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { IGridItem } from '../../interfaces/o-grid-item.interface';\nimport { OntimizeServiceProvider } from '../../services/factories';\nimport { OQueryDataArgs } from '../../types/query-data-args.type';\nimport { SQLOrder } from '../../types/sql-order.type';\nimport { ObservableWrapper } from '../../util/async';\nimport { Codes } from '../../util/codes';\nimport { ServiceUtils } from '../../util/service.utils';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\nimport { DEFAULT_INPUTS_O_SERVICE_COMPONENT, OServiceComponent } from '../o-service-component.class';\nimport { OGridItemComponent } from './grid-item/o-grid-item.component';\nimport { OGridItemDirective } from './grid-item/o-grid-item.directive';\n\nexport const DEFAULT_INPUTS_O_GRID = [\n  ...DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n  // cols: Amount of columns in the grid list. Default in extra small and small screen is 1, in medium screen is 2, in large screen is 3 and extra large screen is 4.\n  'cols',\n  // page-size-options [string]: Page size options separated by ';'.\n  'pageSizeOptions: page-size-options',\n  // show-page-size:Whether to hide the page size selection UI from the user.\n  'showPageSize: show-page-size',\n  // show-sort:whether or not the sort select is shown in the toolbar\n  'showSort: orderable',\n  // sortable[string]: columns of the filter, separated by ';'. Default: no value.\n  'sortableColumns: sortable-columns',\n  // sortColumns[string]: columns of the sortingcolumns, separated by ';'. Default: no value.\n  'sortColumn: sort-column',\n  // quick-filter-columns [string]: columns of the filter, separated by ';'. Default: no value.\n  'quickFilterColumns: quick-filter-columns',\n  //  grid-item-height[string]: Set internal representation of row height from the user-provided value.. Default: 1:1.\n  'gridItemHeight: grid-item-height',\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n  // pagination-controls [yes|no|true|false]: show pagination controls. Default: no.\n  'paginationControls: pagination-controls',\n  // gutterSize: Size of the grid list's gutter in pixels.\n  'gutterSize:gutter-size',\n  // fix-header [yes|no|true|false]: fixed footer when the content is greather than its own height. Default: no.\n  'fixedHeader:fixed-header',\n  // show-footer:Indicates whether or not to show the footer:Default:true\n  'showFooter:show-footer'\n];\n\nexport const DEFAULT_OUTPUTS_O_GRID = [\n  'onClick',\n  'onDoubleClick',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\nconst PAGE_SIZE_OPTIONS = [8, 16, 24, 32, 64];\n\n@Component({\n  selector: 'o-grid',\n  providers: [\n    OntimizeServiceProvider\n  ],\n  inputs: DEFAULT_INPUTS_O_GRID,\n  outputs: DEFAULT_OUTPUTS_O_GRID,\n  templateUrl: './o-grid.component.html',\n  styleUrls: ['./o-grid.component.scss'],\n  host: {\n    '[class.o-grid]': 'true',\n    '[class.o-grid-fixed]': 'fixedHeader',\n  }\n})\nexport class OGridComponent extends OServiceComponent implements AfterViewInit, OnChanges, OnDestroy, OnInit {\n\n  /* Inputs */\n  public queryRows: number = 32;\n\n  @InputConverter()\n  public fixedHeader: boolean = false;\n\n  @InputConverter()\n  public showPageSize: boolean = false;\n\n  @InputConverter()\n  public showSort: boolean = false;\n\n  @InputConverter()\n  public showFooter: boolean = true;\n\n  public gridItemHeight = '1:1';\n\n  @InputConverter()\n  public refreshButton: boolean = true;\n\n  @InputConverter()\n  public paginationControls: boolean = false;\n\n  public gutterSize = '1px';\n\n  get cols(): number {\n    return this._cols || this._colsDefault;\n  }\n  set cols(value: number) {\n    this._cols = value;\n  }\n\n  get pageSizeOptions(): number[] {\n    return this._pageSizeOptions;\n  }\n  set pageSizeOptions(val: number[]) {\n    if (!(val instanceof Array)) {\n      val = Util.parseArray(String(val)).map(a => parseInt(a, 10));\n    }\n    this._pageSizeOptions = val;\n  }\n\n  get sortableColumns(): SQLOrder[] {\n    return this._sortableColumns;\n  }\n  set sortableColumns(val) {\n    let parsed = [];\n    if (!Util.isArray(val)) {\n      parsed = ServiceUtils.parseSortColumns(String(val));\n    }\n    this._sortableColumns = parsed;\n  }\n\n  public quickFilterColumns: string;\n  /* End Inputs */\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n\n  @ContentChildren(forwardRef(() => OGridItemComponent))\n  public inputGridItems: QueryList<OGridItemComponent>;\n  @ViewChildren(OGridItemDirective)\n  public gridItemDirectives: QueryList<OGridItemDirective>;\n  @ViewChild(MatPaginator, { static: false })\n  public matpaginator: MatPaginator;\n\n  /* Parsed Inputs */\n  protected _sortableColumns: SQLOrder[] = [];\n  protected sortColumnOrder: SQLOrder;\n  /* End parsed Inputs */\n\n  protected _cols;\n  protected _colsDefault = 1;\n  protected _pageSizeOptions = PAGE_SIZE_OPTIONS;\n  protected sortColumn: string;\n  protected dataResponseArray: any[] = [];\n  protected storePaginationState: boolean = false;\n\n  set gridItems(value: IGridItem[]) {\n    this._gridItems = value;\n  }\n\n  get gridItems(): IGridItem[] {\n    return this._gridItems;\n  }\n\n  protected _gridItems: IGridItem[] = [];\n\n  set currentPage(val: number) {\n    this._currentPage = val;\n  }\n\n  get currentPage(): number {\n    return this._currentPage;\n  }\n\n  protected _currentPage: number = 0;\n\n  protected subscription: Subscription = new Subscription();\n  protected media: MediaObserver;\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n    this.media = this.injector.get(MediaObserver);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (this.state.hasOwnProperty('sort-column')) {\n      this.sortColumn = this.state['sort-column'];\n    }\n\n    this.parseSortColumn();\n\n    const existingOption = this.pageSizeOptions.find(option => option === this.queryRows);\n    if (!Util.isDefined(existingOption)) {\n      this._pageSizeOptions.push(this.queryRows);\n      this._pageSizeOptions.sort((i: number, j: number) => i - j);\n    }\n\n    if (!Util.isDefined(this.quickFilterColumns)) {\n      this.quickFilterColumns = this.columns;\n    }\n    this.quickFilterColArray = Util.parseArray(this.quickFilterColumns, true);\n\n    if (this.state.hasOwnProperty('currentPage')) {\n      this.currentPage = this.state['currentPage'];\n    }\n\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  public ngAfterViewInit(): void {\n    super.afterViewInit();\n    this.setGridItemDirectivesData();\n    if (this.searchInputComponent) {\n      this.registerQuickFilter(this.searchInputComponent);\n    }\n    this.subscribeToMediaChanges();\n  }\n\n  public ngAfterContentInit(): void {\n    this.gridItems = this.inputGridItems.toArray();\n    this.subscription.add(this.inputGridItems.changes.subscribe(queryChanges => {\n      this.gridItems = queryChanges._results;\n    }));\n  }\n\n  public subscribeToMediaChanges(): void {\n    this.subscription.add(this.media.asObservable().subscribe((change: MediaChange[]) => {\n      if (change && change[0]) {\n        switch (change[0].mqAlias) {\n          case 'xs':\n          case 'sm':\n            this._colsDefault = 1;\n            break;\n          case 'md':\n            this._colsDefault = 2;\n            break;\n          case 'lg':\n          case 'xl':\n            this._colsDefault = 4;\n        }\n      }\n    }));\n  }\n\n  public reloadData(): void {\n    let queryArgs: OQueryDataArgs = {};\n    if (this.pageable) {\n      this.state.queryRecordOffset = 0;\n      queryArgs = {\n        offset: this.paginationControls ? (this.currentPage * this.queryRows) : 0,\n        length: Math.max(this.queryRows, this.dataResponseArray.length),\n        replace: true\n      };\n    }\n    this.queryData(void 0, queryArgs);\n  }\n\n  public reloadPaginatedDataFromStart(): void {\n    this.currentPage = 0;\n    this.dataResponseArray = [];\n    this.reloadData();\n  }\n\n\n  public setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataResponseArray = data;\n    } else if (Util.isObject(data)) {\n      this.dataResponseArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or Object');\n      this.dataResponseArray = [];\n    }\n    this.filterData();\n  }\n\n  /**\n   * Filters data locally\n   * @param value the filtering value\n   */\n  public filterData(value?: string, loadMore?: boolean): void {\n    value = Util.isDefined(value) ? value : Util.isDefined(this.quickFilterComponent) ? this.quickFilterComponent.getValue() : void 0;\n    if (this.state && Util.isDefined(value)) {\n      this.state.filterValue = value;\n    }\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: this.queryRows,\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n      return;\n    }\n\n    if (this.dataResponseArray && this.dataResponseArray.length > 0) {\n      let filteredData = this.dataResponseArray.slice(0);\n      if (value && value.length > 0) {\n        const caseSensitive = this.isFilterCaseSensitive();\n        const self = this;\n\n        filteredData = filteredData.filter(item => {\n          return self.getQuickFilterColumns().some(col => {\n            const regExpStr = Util.escapeSpecialCharacter(Util.normalizeString(value, !caseSensitive));\n            return new RegExp(regExpStr).test(Util.normalizeString(item[col] + '', !caseSensitive));\n          });\n\n        });\n      }\n      if (Util.isDefined(this.sortColumnOrder)) {\n        // Simple sorting\n        const sort = this.sortColumnOrder;\n        const factor = (sort.ascendent ? 1 : -1);\n        // filteredData = filteredData.sort((a, b) => (Util.normalizeString(a[sort.columnName]) > Util.normalizeString(b[sort.columnName])) ? (1 * factor) : (Util.normalizeString(b[sort.columnName]) > Util.normalizeString(a[sort.columnName])) ? (-1 * factor) : 0);\n        filteredData.sort((a, b) => {\n          const aOp = isNaN(a[sort.columnName]) ? Util.normalizeString(a[sort.columnName]) : a[sort.columnName];\n          const bOp = isNaN(b[sort.columnName]) ? Util.normalizeString(b[sort.columnName]) : b[sort.columnName];\n          return (aOp > bOp) ? (1 * factor) : (bOp > aOp) ? (-1 * factor) : 0;\n        });\n      }\n      if (this.paginationControls) {\n        this.dataArray = filteredData.splice(this.currentPage * this.queryRows, this.queryRows);\n      } else {\n        this.dataArray = filteredData.splice(0, this.queryRows * (this.currentPage + 1));\n      }\n    } else {\n      this.dataArray = this.dataResponseArray;\n    }\n  }\n\n  public registerGridItemDirective(item: OGridItemDirective): void {\n    if (item) {\n      const self = this;\n      if (self.detailMode === Codes.DETAIL_MODE_CLICK) {\n        item.onClick(gridItem => self.onItemDetailClick(gridItem));\n      }\n      if (Codes.isDoubleClickMode(self.detailMode)) {\n        item.onDoubleClick(gridItem => self.onItemDetailDblClick(gridItem));\n      }\n    }\n  }\n\n  public onItemDetailClick(item: OGridItemDirective): void {\n    if (this.oenabled && this.detailMode === Codes.DETAIL_MODE_CLICK) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item.getItemData());\n      ObservableWrapper.callEmit(this.onClick, item);\n    }\n  }\n\n  public onItemDetailDblClick(item: OGridItemDirective): void {\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item.getItemData());\n      ObservableWrapper.callEmit(this.onDoubleClick, item);\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  public destroy(): void {\n    super.destroy();\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  public loadMore(): void {\n    this.currentPage += 1;\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: this.state.queryRecordOffset,\n        length: this.queryRows\n      };\n      this.queryData(void 0, queryArgs);\n    } else {\n      this.filterData(void 0, true);\n    }\n  }\n\n  get totalRecords(): number {\n    if (this.pageable) {\n      return this.getTotalRecordsNumber();\n    }\n    return this.dataResponseArray.length;\n  }\n\n  public getQueryArguments(filter: object, ovrrArgs?: OQueryDataArgs): any[] {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    // queryArguments[3] = this.getSqlTypesForFilter(queryArguments[1]);\n    if (this.pageable && Util.isDefined(this.sortColumn)) {\n      queryArguments[6] = this.sortColumnOrder ? [this.sortColumnOrder] : this.sortColumnOrder;\n    }\n    return queryArguments;\n  }\n\n  public parseSortColumn(): void {\n    const parsed = (ServiceUtils.parseSortColumns(this.sortColumn) || [])[0];\n    const exists = parsed ? this.sortableColumns.find((item: SQLOrder) => (item.columnName === parsed.columnName) && (item.ascendent === parsed.ascendent)) : false;\n    if (exists) {\n      this.sortColumnOrder = parsed;\n    }\n  }\n\n  get currentOrderColumn(): number {\n    if (!Util.isDefined(this.sortColumnOrder)) {\n      return undefined;\n    }\n    let index;\n    this.sortableColumns.forEach((item: SQLOrder, i: number) => {\n      if ((item.columnName === this.sortColumnOrder.columnName) &&\n        (item.ascendent === this.sortColumnOrder.ascendent)) {\n        index = i;\n      }\n    });\n    return index;\n  }\n\n  set currentOrderColumn(val: number) {\n    this.sortColumnOrder = this.sortableColumns[val];\n  }\n\n  public onChangePage(e: PageEvent): void {\n    if (!this.pageable) {\n      this.currentPage = e.pageIndex;\n      this.queryRows = e.pageSize;\n      this.filterData();\n      return;\n    }\n    const tableState = this.state;\n\n    const goingBack = e.pageIndex < this.currentPage;\n    this.currentPage = e.pageIndex;\n    const pageSize = e.pageSize;\n\n    const oldQueryRows = this.queryRows;\n    const changingPageSize = (oldQueryRows !== pageSize);\n    this.queryRows = pageSize;\n\n    let newStartRecord;\n    let queryLength;\n\n    if (goingBack || changingPageSize) {\n      newStartRecord = (this.currentPage * this.queryRows);\n      queryLength = this.queryRows;\n    } else {\n      newStartRecord = Math.max(tableState.queryRecordOffset, (this.currentPage * this.queryRows));\n      const newEndRecord = Math.min(newStartRecord + this.queryRows, tableState.totalQueryRecordsNumber);\n      queryLength = Math.min(this.queryRows, newEndRecord - newStartRecord);\n    }\n\n    const queryArgs: OQueryDataArgs = {\n      offset: newStartRecord,\n      length: queryLength\n    };\n    this.queryData(void 0, queryArgs);\n  }\n\n  public getDataToStore(): object {\n    const dataToStore = super.getDataToStore();\n    dataToStore['currentPage'] = this.currentPage;\n\n    if (this.storePaginationState) {\n      dataToStore['queryRecordOffset'] = Math.max(\n        (this.state.queryRecordOffset - this.dataArray.length),\n        (this.state.queryRecordOffset - this.queryRows)\n      );\n    } else {\n      delete dataToStore['queryRecordOffset'];\n    }\n\n    if (Util.isDefined(this.sortColumnOrder)) {\n      dataToStore['sort-column'] = this.sortColumnOrder.columnName + Codes.COLUMNS_ALIAS_SEPARATOR +\n        (this.sortColumnOrder.ascendent ? Codes.ASC_SORT : Codes.DESC_SORT);\n    }\n    return dataToStore;\n  }\n\n  public getSortOptionText(col: SQLOrder): string {\n    let result;\n    let colTextKey = `GRID.SORT_BY_${col.columnName.toUpperCase()}_` + (col.ascendent ? 'ASC' : 'DESC');\n    result = this.translateService.get(colTextKey);\n    if (result !== colTextKey) {\n      return result;\n    }\n    colTextKey = 'GRID.SORT_BY_' + (col.ascendent ? 'ASC' : 'DESC');\n    result = this.translateService.get(colTextKey, [(this.translateService.get(col.columnName) || '')]);\n    return result;\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    if (Util.isArray(data)) {\n      let dataArray = data;\n      let respDataArray = data;\n      if (!replace) {\n        if (this.pageable) {\n          dataArray = this.paginationControls ? data : (this.dataArray || []).concat(data);\n          respDataArray = this.paginationControls ? data : (this.dataResponseArray || []).concat(data);\n        } else {\n          dataArray = data.slice(this.paginationControls ? ((this.queryRows * (this.currentPage + 1)) - this.queryRows) : 0, this.queryRows * (this.currentPage + 1));\n          respDataArray = data;\n        }\n      }\n      this.dataArray = dataArray;\n      this.dataResponseArray = respDataArray;\n      if (!this.pageable) {\n        this.filterData();\n      }\n    } else {\n      this.dataArray = [];\n      this.dataResponseArray = [];\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.dataResponseArray);\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  protected setGridItemDirectivesData(): void {\n    const self = this;\n    this.gridItemDirectives.changes.subscribe(() => {\n      this.gridItemDirectives.toArray().forEach((element: OGridItemDirective, index) => {\n        element.setItemData(self.dataArray[index]);\n        element.setGridComponent(self);\n        self.registerGridItemDirective(element);\n      });\n    });\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OSearchInputModule } from '../input/search-input/o-search-input.module';\nimport { OGridItemComponent } from './grid-item/o-grid-item.component';\nimport { OGridItemDirective } from './grid-item/o-grid-item.directive';\nimport { OGridComponent } from './o-grid.component';\n\n@NgModule({\n  declarations: [OGridComponent, OGridItemDirective, OGridItemComponent],\n  imports: [CommonModule, OSearchInputModule, OSharedModule, RouterModule],\n  exports: [OGridComponent, OGridItemComponent, OGridItemDirective],\n  entryComponents: [OGridItemComponent]\n})\nexport class OGridModule { }\n","import { Component, Inject, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { Util } from '../../../util/util';\n\n@Component({\n  selector: 'o-fullscreen-dialog',\n  templateUrl: './fullscreen-dialog.component.html',\n  styleUrls: ['./fullscreen-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-fullscreen-dialog]': 'true'\n  }\n})\nexport class OFullScreenDialogComponent {\n\n  imageSrc: any;\n\n  constructor(\n    public dialogRef: MatDialogRef<OFullScreenDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {\n    if (Util.isDefined(data)) {\n      this.imageSrc = data;\n    }\n  }\n\n}\n","import {\n  Component,\n  ElementRef,\n  forwardRef,\n  HostBinding,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MatDialog } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\nimport { OFormValue } from '../form/OFormValue';\nimport { OFormControl } from '../input/o-form-control.class';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../o-form-data-component.class';\nimport { OFullScreenDialogComponent } from './fullscreen/fullscreen-dialog.component';\n\n\nexport const DEFAULT_INPUTS_O_IMAGE = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'emptyimage: empty-image',\n  // not-found-image [string]: Default image for 404 error.\n  'notfoundimage: not-found-image',\n  // empty-icon [string]: material icon. Default: photo.\n  'emptyicon: empty-icon',\n  // show-controls [yes|no true|false]: Shows or hides selection controls. Default: true.\n  'showControls: show-controls',\n  // height [% | px]: Set the height of the image.\n  'height',\n  // auto-fit [yes|no true|false]: Adjusts the image to the content or not. Default: true.\n  'autoFit: auto-fit',\n  'fullScreenButton: full-screen-button',\n  // accept-file-type [string]: file types allowed on the file input, separated by ';'. Default: image/*.\n  // file_extension, image/*, media_type. See https://www.w3schools.com/tags/att_input_accept.asp\n  'acceptFileType: accept-file-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_IMAGE = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-image',\n  templateUrl: './o-image.component.html',\n  styleUrls: ['./o-image.component.scss'],\n  inputs: DEFAULT_INPUTS_O_IMAGE,\n  outputs: DEFAULT_OUTPUTS_O_IMAGE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-image]': 'true'\n  }\n})\nexport class OImageComponent extends OFormDataComponent implements OnInit, OnDestroy {\n\n  public acceptFileType: string = 'image/*';\n  public emptyimage: string;\n  public notfoundimage: string;\n  public emptyicon: string;\n  public height: string;\n  @InputConverter()\n  public autoFit: boolean = true;\n  public currentFileName: string = '';\n  @InputConverter()\n  protected showControls: boolean = true;\n  set fullScreenButton(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._fullScreenButton = val;\n  }\n  get fullScreenButton(): boolean {\n    return this._fullScreenButton;\n  }\n  protected _fullScreenButton = false;\n\n  @ViewChild('input', { static: false })\n  protected fileInput: ElementRef;\n  protected _useEmptyIcon: boolean = true;\n  protected _useEmptyImage: boolean = false;\n  protected _domSanitizer: DomSanitizer;\n  protected dialog: MatDialog;\n  public stateCtrl: FormControl;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._domSanitizer = this.injector.get(DomSanitizer);\n    this._defaultSQLTypeKey = 'BASE64';\n    this.dialog = this.injector.get(MatDialog);\n    this.stateCtrl = new FormControl();\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n\n    if (this.emptyimage && this.emptyimage.length > 0) {\n      this._useEmptyIcon = false;\n      this._useEmptyImage = true;\n    }\n\n    if (this.emptyicon === undefined && !this._useEmptyImage) {\n      this.emptyicon = 'photo';\n      this._useEmptyIcon = true;\n      this._useEmptyImage = false;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    super.ngOnDestroy();\n  }\n\n  public ensureOFormValue(val: any): void {\n    if (val instanceof OFormValue) {\n      if (val.value && val.value.bytes !== undefined) {\n        this.value = new OFormValue(val.value.bytes);\n        return;\n      }\n      this.value = new OFormValue(val.value);\n    } else if (val && !(val instanceof OFormValue)) {\n      if (val.bytes !== undefined) {\n        val = val.bytes;\n      } else if (val.length > 300 && val.substring(0, 4) === 'data') {\n        // Removing \"data:image/*;base64,\"\n        val = val.substring(val.indexOf('base64') + 7);\n      }\n      this.value = new OFormValue(val);\n    } else {\n      this.value = new OFormValue(undefined);\n    }\n  }\n\n  public isEmpty(): boolean {\n    return !this.getValue() || this.getValue().length === 0;\n  }\n\n  public createFormControl(): OFormControl {\n    this._fControl = super.createFormControl();\n    this._fControl.fControlChildren = [this.stateCtrl];\n    return this._fControl;\n  }\n\n  public fileChange(input): void {\n    if (input.files[0]) {\n      const reader = new FileReader();\n      const self = this;\n      reader.addEventListener('load', event => {\n        let result = event.target['result'];\n        if (result && result.length > 300 && result.substring(0, 4) === 'data') {\n          // Removing \"data:image/*;base64,\"\n          result = result.substring(result.indexOf('base64') + 7);\n        }\n        self.setValue(result);\n        if (self._fControl) {\n          self._fControl.markAsTouched();\n        }\n        event.stopPropagation();\n      }, false);\n      if (input.files[0]) {\n        reader.readAsDataURL(input.files[0]);\n      }\n      // if (this.titleLabel) {\n      //   this.titleLabel.nativeElement.textContent = input.files[0].name;\n      // }\n      this.currentFileName = input.files[0].name;\n      this.stateCtrl.setValue(this.currentFileName);\n    }\n  }\n\n  public notFoundImageUrl(event): any {\n    event.target.src = Util.isDefined(this.notfoundimage) ? this.notfoundimage : '';\n  }\n\n  public getSrcValue(): any {\n    if (this.value && this.value.value) {\n      if (this.value.value instanceof Object && this.value.value.bytes) {\n        let src: string = '';\n        if (this.value.value.bytes.substring(0, 4) === 'data') {\n          src = 'data:image/*;base64,' + this.value.value.bytes.substring(this.value.value.bytes.indexOf('base64') + 7);\n        } else {\n          src = 'data:image/*;base64,' + this.value.value.bytes;\n        }\n        return this._domSanitizer.bypassSecurityTrustUrl(src);\n      } else if (typeof this.value.value === 'string' &&\n        this.value.value.length > 300) {\n        let src: string = '';\n        if (this.value.value.substring(0, 4) === 'data') {\n          src = 'data:image/*;base64,' + this.value.value.substring(this.value.value.indexOf('base64') + 7);\n        } else {\n          src = 'data:image/*;base64,' + this.value.value;\n        }\n        return this._domSanitizer.bypassSecurityTrustUrl(src);\n      }\n      if(this.value.value) {\n        return this.value.value;\n      } else {\n        return this.emptyimage;\n      } \n    } else if (this.emptyimage) {\n      return this.emptyimage;\n    }\n  }\n\n  public onClickBlocker(evt: Event): void {\n    evt.stopPropagation();\n  }\n\n  public onClickClearValue(e: Event): void {\n    if (!this.isReadOnly && this.enabled) {\n      super.onClickClearValue(e);\n      this.fileInput.nativeElement.value = '';\n      // if (this.titleLabel) {\n      //   this.titleLabel.nativeElement.textContent = '';\n      // }\n      this.stateCtrl.reset();\n      this.currentFileName = '';\n    }\n    if (this._fControl) {\n      this._fControl.markAsTouched();\n    }\n  }\n\n  public hasControls(): boolean {\n    return this.showControls;\n  }\n\n  public useEmptyIcon(): boolean {\n    return this._useEmptyIcon && this.isEmpty();\n  }\n\n  public useEmptyImage(): boolean {\n    return this._useEmptyImage && this.isEmpty();\n  }\n\n  public getFormGroup(): FormGroup {\n    let formGroup: FormGroup = super.getFormGroup();\n    if (!formGroup) {\n      formGroup = new FormGroup({});\n      formGroup.addControl(this.getAttribute(), this.getControl());\n    }\n    return formGroup;\n  }\n\n  @HostBinding('style.height')\n  get hostHeight(): string {\n    return this.height;\n  }\n\n  public openFullScreen(e?: Event): void {\n    this.dialog.open(OFullScreenDialogComponent, {\n      width: '90%',\n      height: '90%',\n      role: 'dialog',\n      disableClose: false,\n      panelClass: 'o-image-fullscreen-dialog-cdk-overlay',\n      data: this.getSrcValue()\n    });\n  }\n\n  public openFileSelector(e?: Event): void {\n    if (Util.isDefined(this.fileInput)) {\n      this.fileInput.nativeElement.click();\n    }\n  }\n\n  public internalFormControl(): string {\n    return this.getAttribute() + '_value';\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OFullScreenDialogComponent } from './fullscreen/fullscreen-dialog.component';\nimport { OImageComponent } from './o-image.component';\n\n@NgModule({\n  declarations: [OImageComponent, OFullScreenDialogComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OImageComponent, OFullScreenDialogComponent],\n  entryComponents: [OFullScreenDialogComponent]\n})\nexport class OImageModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { ThemePalette } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\nimport { OFormControl } from '../o-form-control.class';\n\nexport const DEFAULT_INPUTS_O_CHECKBOX = [\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  // color: Theme color palette for the component.\n  'color',\n  // label-position: Whether the label should appear after or before the slide-toggle. Defaults to 'after'\n  'labelPosition: label-position',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_CHECKBOX = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-checkbox',\n  inputs: DEFAULT_INPUTS_O_CHECKBOX,\n  outputs: DEFAULT_OUTPUTS_O_CHECKBOX,\n  templateUrl: './o-checkbox.component.html',\n  styleUrls: ['./o-checkbox.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-checkbox]': 'true'\n  }\n})\nexport class OCheckboxComponent extends OFormDataComponent {\n\n  public trueValue: any = true;\n  public falseValue: any = false;\n  public booleanType: 'number' | 'boolean' | 'string' = 'boolean';\n  public color: ThemePalette;\n  public labelPosition: 'before' | 'after' = 'after';\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'BOOLEAN';\n  }\n\n  initialize() {\n    //First, the sqlType must be initialized  before calling super.initialize because it overwritte the value\n    if (!Util.isDefined(this.sqlType)) {\n      switch (this.booleanType) {\n        case 'number':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'string':\n          this.sqlType = 'VARCHAR';\n          break;\n        case 'boolean':\n        default:\n          this.sqlType = 'BOOLEAN';\n      }\n    }\n\n    super.initialize();\n\n    // Override FormControl getValue in order to return the appropriate value instead of the checkbox internal boolean value\n    const checkboxCtx = this;\n    (this.getFormControl() as OFormControl).getValue = function() {\n      return this.value ? checkboxCtx.trueValue : checkboxCtx.falseValue;\n    };\n  }\n\n  ensureOFormValue(value: any) {\n    this.parseInputs();\n    if (value instanceof OFormValue) {\n      if (value.value === undefined) {\n        value.value = false;\n      }\n      this.value = new OFormValue(this.parseValueByType(value.value) === this.trueValue);\n    } else if (typeof value === 'boolean') {\n      this.value = new OFormValue(value);\n    } else {\n      this.value = new OFormValue(this.parseValueByType(value) === this.trueValue);\n    }\n  }\n\n  getValue(): any {\n    if (Util.isDefined(this.value) && this.value.value !== undefined) {\n      return this.value.value ? this.trueValue : this.falseValue;\n    } else {\n      return this.defaultValue;\n    }\n  }\n\n  onClickBlocker(evt: Event) {\n    evt.stopPropagation();\n  }\n\n  parseValueByType(value: any) {\n    let result: any;\n    switch (this.booleanType) {\n      case 'string':\n        result = value + '';\n        break;\n      case 'number':\n        result = parseInt(value, 10);\n        break;\n      default:\n        result = value;\n        break;\n    }\n    return result;\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue, 10);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue, 10);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OCheckboxComponent } from './o-checkbox.component';\n\n@NgModule({\n  declarations: [OCheckboxComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OCheckboxComponent]\n})\nexport class OCheckboxModule { }\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  ViewChild,\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatOption, MatSelect } from '@angular/material';\nimport { Subject } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'o-combo-search',\n  templateUrl: './o-combo-search.component.html',\n  styleUrls: ['./o-combo-search.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => OComboSearchComponent),\n      multi: true\n    }\n  ],\n  host: {\n    '[class.o-combo-search]': 'true'\n  }\n})\nexport class OComboSearchComponent implements OnInit, OnDestroy {\n\n  public placeholder: string = 'SEARCH';\n\n  /** Reference to the MatSelect options */\n  public _options: QueryList<MatOption>;\n\n  /** Current search value */\n  get value(): string {\n    return this._value;\n  }\n  protected _value: string;\n\n  /** Previously selected values when using <mat-select [multiple]=\"true\"> */\n  protected previousSelectedValues: any[];\n\n  /** Reference to the search input field */\n  @ViewChild('searchSelectInput', { read: ElementRef, static: false })\n  protected searchSelectInput: ElementRef;\n\n  /** Event that emits when the current value changes */\n  protected change = new EventEmitter<string>();\n\n  /** Subject that emits when the component has been destroyed. */\n  protected _onDestroy = new Subject<void>();\n\n  constructor(\n    @Inject(MatSelect) public matSelect: MatSelect,\n    private changeDetectorRef: ChangeDetectorRef\n  ) { }\n\n  public ngOnInit(): void {\n    // when the select dropdown panel is opened or closed, focus the search field when opening and clear it when closing\n    this.matSelect.openedChange\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(opened => opened ? this.focus() : this.reset());\n\n    // set the first item active after the options changed\n    this.matSelect.openedChange\n      .pipe(take(1))\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(() => {\n        if (this.matSelect.multiple) {\n          this.previousSelectedValues = this.matSelect.value;\n        }\n        this._options = this.matSelect.options;\n        this._options.changes\n          .pipe(takeUntil(this._onDestroy))\n          .subscribe(() => {\n            const keyManager = this.matSelect._keyManager;\n            if (keyManager && this.matSelect.panelOpen) {\n              // avoid \"expression has been changed\" error\n              setTimeout(() => keyManager.setFirstItemActive(), 0);\n            }\n          });\n      });\n\n    // detect changes when the input changes\n    this.change\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(() => this.changeDetectorRef.detectChanges());\n\n    this.initMultipleHandling();\n  }\n\n  public ngOnDestroy(): void {\n    this._onDestroy.next();\n    this._onDestroy.complete();\n  }\n\n  public onChange: Function = (_: any) => {\n    // do nothing\n  }\n\n  public onTouched: Function = (_: any) => {\n    // do nothing\n  }\n\n  /**\n   * Handles the key down event with MatSelect.\n   * Allows e.g. selecting with enter key, navigation with arrow keys, etc.\n   * @param event\n   */\n  public handleKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === 32) {\n      // do not propagate spaces to MatSelect, as this would select the currently active option\n      event.stopPropagation();\n    }\n  }\n\n  public onInputChange(value: any): void {\n    const valueChanged = value !== this._value;\n    if (valueChanged) {\n      this._value = value;\n      this.onChange(value);\n      this.change.emit(value);\n    }\n  }\n\n  public onBlur(value: string): void {\n    this.writeValue(value);\n    this.onTouched();\n  }\n\n  public writeValue(value: string): void {\n    const valueChanged = value !== this._value;\n    if (valueChanged) {\n      this._value = value;\n      this.change.emit(value);\n    }\n  }\n\n  public registerOnChange(fn: Function): void {\n    this.onChange = fn;\n  }\n\n  public registerOnTouched(fn: Function): void {\n    this.onTouched = fn;\n  }\n\n  /**\n   * Focuses the search input field\n   */\n  public focus(): void {\n    if (!this.searchSelectInput) {\n      return;\n    }\n    // save and restore scrollTop of panel, since it will be reset by focus()\n    // note: this is hacky\n    const panel = this.matSelect.panel.nativeElement;\n    const scrollTop = panel.scrollTop;\n\n    // focus\n    this.searchSelectInput.nativeElement.focus();\n\n    panel.scrollTop = scrollTop;\n  }\n\n  /**\n   * Resets the current search value\n   * @param focus whether to focus after resetting\n   */\n  public reset(focus?: boolean): void {\n    if (!this.searchSelectInput) {\n      return;\n    }\n    this.searchSelectInput.nativeElement.value = '';\n    this.onInputChange('');\n    if (focus) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Initializes handling <mat-select [multiple]=\"true\">\n   * Note: to improve this code, mat-select should be extended to allow disabling resetting the selection while filtering.\n   */\n  protected initMultipleHandling(): void {\n    // if <mat-select [multiple]=\"true\">\n    // store previously selected values and restore them when they are deselected\n    // because the option is not available while we are currently filtering\n    this.matSelect.valueChange\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(values => {\n        if (this.matSelect.multiple) {\n          let restoreSelectedValues = false;\n          if (this._value && this._value.length\n            && this.previousSelectedValues && Array.isArray(this.previousSelectedValues)) {\n            if (!values || !Array.isArray(values)) {\n              values = [];\n            }\n            const optionValues = this.matSelect.options.map(option => option.value);\n            this.previousSelectedValues.forEach(previousValue => {\n              if (values.indexOf(previousValue) === -1 && optionValues.indexOf(previousValue) === -1) {\n                // if a value that was selected before is deselected and not found in the options, it was deselected\n                // due to the filtering, so we restore it.\n                values.push(previousValue);\n                restoreSelectedValues = true;\n              }\n            });\n          }\n\n          if (restoreSelectedValues) {\n            this.matSelect._onChange(values);\n          }\n\n          this.previousSelectedValues = values;\n        }\n      });\n  }\n\n}\n","import { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, OnDestroy, OnInit, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatSelect, MatSelectChange } from '@angular/material';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OntimizeServiceProvider } from '../../../services/factories';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT, DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT, OFormServiceComponent } from '../o-form-service-component.class';\n\nexport const DEFAULT_INPUTS_O_COMBO = [\n  ...DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'translate',\n  'multiple',\n  'nullSelection: null-selection',\n  'multipleTriggerLabel: multiple-trigger-label',\n  'searchable'\n];\n\nexport const DEFAULT_OUTPUTS_O_COMBO = [\n  ...DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT\n];\n\n@Component({\n  selector: 'o-combo',\n  providers: [\n    OntimizeServiceProvider,\n    { provide: OFormServiceComponent, useExisting: forwardRef(() => OComboComponent) }\n  ],\n  inputs: DEFAULT_INPUTS_O_COMBO,\n  outputs: DEFAULT_OUTPUTS_O_COMBO,\n  templateUrl: './o-combo.component.html',\n  styleUrls: ['./o-combo.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-combo]': 'true'\n  }\n})\nexport class OComboComponent extends OFormServiceComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public value: OFormValue;\n  public searchControl: FormControl = new FormControl();\n\n  /* Inputs */\n  @InputConverter()\n  public multiple: boolean;\n  @InputConverter()\n  public multipleTriggerLabel: boolean = false;\n  @InputConverter()\n  public searchable: boolean = false;\n  @InputConverter()\n  protected translate: boolean = false;\n  @InputConverter()\n  protected nullSelection: boolean = true;\n  /* End inputs*/\n\n  @ViewChild('inputModel', { static: false })\n  protected inputModel: ElementRef;\n\n  @ViewChild('selectModel', { static: false })\n  protected selectModel: MatSelect;\n\n  protected _filteredDataArray: any[] = [];\n\n  set filteredDataArray(data: any) {\n    if (Util.isArray(data)) {\n      this._filteredDataArray = data;\n    } else if (Util.isObject(data) && Object.keys(data).length > 0) {\n      this._filteredDataArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or not empty Object');\n      this._filteredDataArray = [];\n    }\n  }\n\n  get filteredDataArray(): any {\n    return this._filteredDataArray;\n  }\n\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.defaultValue = '';\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n    this.subscription.add(this.searchControl.valueChanges.subscribe(() => this.searchFilter()));\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    } else if (this.queryOnBind) {\n      // TODO do it better. When changing tabs it is necessary to invoke new query\n      this.syncDataIndex();\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n    this.destroy();\n  }\n\n  public initialize(): void {\n    super.initialize();\n    if (this.multiple) {\n      this.nullSelection = false;\n      this.defaultValue = [];\n    }\n  }\n\n  public ensureOFormValue(value: any): void {\n    if (value instanceof OFormValue) {\n      this.value = new OFormValue(value.value);\n    } else if (Util.isDefined(value) && !(value instanceof OFormValue)) {\n      this.value = new OFormValue(value);\n    } else if (!Util.isDefined(value) && this.nullSelection) {\n      this.value = new OFormValue(undefined);\n    } else {\n      this.value = new OFormValue(this.defaultValue);\n    }\n    // This call make the component querying its data multiple times\n    // this.syncDataIndex();\n  }\n\n  public setDataArray(data: any): void {\n    super.setDataArray(data);\n    this.filteredDataArray = data;\n  }\n\n  public getDataArray(): any[] {\n    return this.dataArray;\n  }\n\n  public getFilteredDataArray(): any[] {\n    return this._filteredDataArray;\n  }\n\n  public hasNullSelection(): boolean {\n    return this.nullSelection;\n  }\n\n  public syncDataIndex(queryIfNotFound: boolean = true): void {\n    super.syncDataIndex(queryIfNotFound);\n    if (this._currentIndex !== undefined && this.nullSelection) {\n      // first position is for null selection that it is not included into dataArray\n      this._currentIndex += 1;\n    }\n  }\n\n  public getValue(): any {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return this.value.value;\n      } else if (this.value.value === undefined) {\n        return this.getEmptyValue();\n      }\n    }\n    return '';\n  }\n\n  public getEmptyValue(): any {\n    if (this.multiple) {\n      return [];\n    } else {\n      if (this.nullSelection) {\n        return undefined;\n      } else {\n        return '';\n      }\n    }\n  }\n\n  public isEmpty(): boolean {\n    if (!(this.value instanceof OFormValue)) {\n      return true;\n    }\n    return this.value.value === undefined || (this.multiple && this.value.value.length === 0);\n  }\n\n  public clearValue(options?: FormValueOptions, setDirty: boolean = false): void {\n    if (this.multiple) {\n      this.setValue(this.defaultValue, options, setDirty);\n      this.value.value = [];\n    } else {\n      super.clearValue(options, setDirty);\n    }\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.isEmpty();\n  }\n\n  public getMultiple(): boolean {\n    return this.multiple;\n  }\n\n  public onSelectionChange(event: MatSelectChange): void {\n    if (!this.selectModel.panelOpen) {\n      return;\n    }\n    const newValue = event.value;\n    this.setValue(newValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  public getOptionDescriptionValue(item: any = {}): string {\n    let descTxt = '';\n    if (this.descriptionColArray && this.descriptionColArray.length > 0) {\n      const self = this;\n      this.descriptionColArray.forEach((col, index) => {\n        let txt = item[col];\n        if (Util.isDefined(txt)) {\n          if (self.translate && self.translateService) {\n            txt = self.translateService.get(txt);\n          }\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  public getValueColumn(item: any): any {\n    if (item && item.hasOwnProperty(this.valueColumn)) {\n      let option = item[this.valueColumn];\n      if (option === 'undefined') {\n        option = null;\n      }\n      return option;\n    }\n    return '';\n  }\n\n  public isSelected(item: any, rowIndex: number): boolean {\n    let selected = false;\n    if (item && item.hasOwnProperty(this.valueColumn) && this.value) {\n      const val = item[this.valueColumn];\n      if (val === this.value.value) {\n        selected = true;\n        this._currentIndex = rowIndex;\n      }\n    }\n    return selected;\n  }\n\n  public setValue(val: any, options?: FormValueOptions, setDirty: boolean = false): void {\n    if (!this.dataArray) {\n      return;\n    }\n    const isDefinedVal = Util.isDefined(val);\n    if (this.multiple && !isDefinedVal) {\n      return;\n    }\n\n    if (!isDefinedVal && !this.nullSelection) {\n      console.warn('`o-combo` with attr ' + this.oattr + ' cannot be set. `null-selection` attribute is false.');\n      return;\n    }\n\n    if (isDefinedVal) {\n      const record = this.dataArray.find(item => item[this.valueColumn] === val);\n      if (!Util.isDefined(record)) {\n        return;\n      }\n    } else {\n      if (Util.isDefined(val)) {\n        super.setValue(val, options);\n      }\n    }\n    super.setValue(val, options);\n  }\n\n  public getSelectedItems(): any[] {\n    return this.getValue();\n  }\n\n  public setSelectedItems(values: any[]): void {\n    this.setValue(values);\n  }\n\n  public getFirstSelectedValue(): void {\n    return this.selectModel.selected[0].viewValue;\n  }\n\n  protected setIsReadOnly(value: boolean): void {\n    super.setIsReadOnly(value);\n    const readOnly = Util.isDefined(this.readOnly) ? this.readOnly : value;\n    if (this.enabled) {\n      if (this._fControl && readOnly) {\n        this._fControl.disable();\n      } else if (this._fControl) {\n        this._fControl.enable();\n      }\n    }\n  }\n  protected parseByValueColumnType(val: any): any {\n    if (!Util.isDefined(this.multiple)) {\n      return val;\n    }\n    const valueArr: any[] = this.multiple ? val : [val];\n    if (this.valueColumnType === Codes.TYPE_INT) {\n      valueArr.forEach((item, index) => {\n        const parsed = parseInt(item, 10);\n        if (!isNaN(parsed)) {\n          valueArr[index] = parsed;\n        }\n      });\n    }\n    return this.multiple ? valueArr : valueArr[0];\n  }\n\n  protected searchFilter(): void {\n    if (this.dataArray || this.dataArray.length) {\n\n      // get the search keyword\n      let search = this.searchControl.value;\n      if (!search) {\n        this.filteredDataArray = this.dataArray.slice();\n        return;\n      } else {\n        search = search.toLowerCase();\n      }\n\n      // filter\n      this.filteredDataArray = this.dataArray.filter(item => this.getOptionDescriptionValue(item).toLowerCase().indexOf(search) > -1);\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OComboSearchComponent } from './combo-search/o-combo-search.component';\nimport { OComboComponent } from './o-combo.component';\n\n@NgModule({\n  declarations: [OComboComponent, OComboSearchComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OComboComponent, OComboSearchComponent]\n})\nexport class OComboModule { }\n","import {\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ValidatorFn, Validators } from '@angular/forms';\nimport { MatInput } from '@angular/material';\n\nimport { NumberConverter } from '../../../decorators/input-converter';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_TEXT_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'minLength: min-length',\n  'maxLength: max-length'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXT_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-text-input',\n  templateUrl: './o-text-input.component.html',\n  styleUrls: ['./o-text-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TEXT_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class OTextInputComponent extends OFormDataComponent implements OnInit {\n\n  protected _minLength: number = -1;\n  protected _maxLength: number = -1;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n\n    if (this.minLength >= 0) {\n      validators.push(Validators.minLength(this.minLength));\n    }\n    if (this.maxLength >= 0) {\n      validators.push(Validators.maxLength(this.maxLength));\n    }\n\n    return validators;\n  }\n\n  set minLength(val: number) {\n    const old = this._minLength;\n    this._minLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get minLength(): number {\n    return this._minLength;\n  }\n\n  set maxLength(val: number) {\n    const old = this._maxLength;\n    this._maxLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get maxLength(): number {\n    return this._maxLength;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextInputComponent } from './o-text-input.component';\n\n@NgModule({\n  declarations: [OTextInputComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OTextInputComponent]\n})\nexport class OTextInputModule {\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { IIntegerPipeArgument, OIntegerPipe } from '../../../pipes/o-integer.pipe';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport {\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  OTextInputComponent,\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_INTEGER_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT,\n  'min',\n  'max',\n  'step',\n  'grouping',\n  'thousandSeparator : thousand-separator',\n  'olocale : locale'\n];\n\nexport const DEFAULT_OUTPUTS_O_INTEGER_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-integer-input',\n  templateUrl: './o-integer-input.component.html',\n  styleUrls: ['./o-integer-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_INTEGER_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_INTEGER_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OIntegerInputComponent extends OTextInputComponent implements AfterViewInit, OnInit {\n\n  inputType: string = 'number';\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 1;\n\n  @InputConverter()\n  protected grouping: boolean = false;\n  protected thousandSeparator: string;\n  protected olocale: string;\n\n  protected componentPipe: OIntegerPipe;\n  protected pipeArguments: IIntegerPipeArgument;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'INTEGER';\n\n    // Firefox workaround\n    if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n      this.inputType = 'text';\n    }\n\n    this.setComponentPipe();\n  }\n\n  initialize(): void {\n    super.initialize();\n    this.initializeStep();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OIntegerPipe(this.injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.pipeArguments = {\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator,\n      locale: this.olocale\n    };\n\n    if (this.step === undefined) {\n      this.step = 1;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n  }\n\n  setData(value: any) {\n    super.setData(value);\n    setTimeout(() => {\n      this.setPipeValue();\n    }, 0);\n  }\n\n  setValue(val: any, options?: FormValueOptions) {\n    super.setValue(val, options);\n    this.setPipeValue();\n  }\n\n  innerOnFocus(event: any) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.isReadOnly) {\n      return;\n    }\n    this.setNumberDOMValue(this.getValue());\n    super.innerOnFocus(event);\n  }\n\n  innerOnBlur(event?: any) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (this.isReadOnly) {\n      return;\n    }\n    this.setPipeValue();\n    const formControl: FormControl = this.getControl();\n    if (formControl) {\n      formControl.updateValueAndValidity();\n    }\n    super.innerOnBlur(event);\n  }\n\n  setPipeValue() {\n    if (typeof this.pipeArguments !== 'undefined' && !this.isEmpty()) {\n      const parsedValue = this.componentPipe.transform(this.getValue(), this.pipeArguments);\n      this.setTextDOMValue(parsedValue);\n    }\n  }\n\n  isEmpty(): boolean {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  getInputEl() {\n    let inputElement;\n    if (this.elRef.nativeElement.tagName === 'INPUT') {\n      inputElement = this.elRef.nativeElement;\n    } else {\n      inputElement = this.elRef.nativeElement.getElementsByTagName('INPUT')[0];\n    }\n    return inputElement;\n  }\n\n  setNumberDOMValue(val: any) {\n    const inputElement = this.getInputEl();\n    if (Util.isDefined(inputElement)) {\n      // Firefox workaround\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\n        inputElement.type = 'number';\n      }\n      inputElement.value = (val !== undefined) ? val : '';\n    }\n  }\n\n  setTextDOMValue(val: any) {\n    const inputElement = this.getInputEl();\n    if (Util.isDefined(inputElement)) {\n      // Firefox workaround\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\n        inputElement.type = 'text';\n      }\n      inputElement.value = (val !== undefined) ? val : '';\n    }\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (Util.isDefined(this.min)) {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (Util.isDefined(this.max)) {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl): ValidationErrors {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        min: {\n          requiredMin: this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl): ValidationErrors {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        max: {\n          requiredMax: this.max\n        }\n      };\n    }\n    return {};\n  }\n\n  protected initializeStep(): void {\n    if (this.step <= 0) {\n      this.step = 1;\n      console.warn('`step` attribute must be greater than zero');\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextInputModule } from '../text-input/o-text-input.module';\nimport { OIntegerInputComponent } from './o-integer-input.component';\n\n@NgModule({\n  declarations: [OIntegerInputComponent],\n  imports: [CommonModule, OSharedModule, OTextInputModule],\n  exports: [OIntegerInputComponent]\n})\nexport class OIntegerInputModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnInit, Optional, ViewEncapsulation } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { IRealPipeArgument, ORealPipe } from '../../../pipes/o-real.pipe';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_INTEGER_INPUT,\n  DEFAULT_OUTPUTS_O_INTEGER_INPUT,\n  OIntegerInputComponent,\n} from '../integer-input/o-integer-input.component';\n\nexport const DEFAULT_INPUTS_O_REAL_INPUT = [\n  ...DEFAULT_INPUTS_O_INTEGER_INPUT,\n  'minDecimalDigits: min-decimal-digits',\n  'maxDecimalDigits: max-decimal-digits',\n  'decimalSeparator : decimal-separator'\n];\n\nexport const DEFAULT_OUTPUTS_O_REAL_INPUT = [\n  ...DEFAULT_OUTPUTS_O_INTEGER_INPUT\n];\n\n@Component({\n  selector: 'o-real-input',\n  templateUrl: './o-real-input.component.html',\n  styleUrls: ['./o-real-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_REAL_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_REAL_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class ORealInputComponent extends OIntegerInputComponent implements OnInit {\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  @InputConverter()\n  step: number = 0.01;\n\n  @InputConverter()\n  grouping: boolean = true;\n\n  protected decimalSeparator: string;\n  protected pipeArguments: IRealPipeArgument;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'FLOAT';\n  }\n\n  setComponentPipe(): void {\n    this.componentPipe = new ORealPipe(this.injector);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.pipeArguments.decimalSeparator = this.decimalSeparator;\n    this.pipeArguments.minDecimalDigits = this.minDecimalDigits;\n    this.pipeArguments.maxDecimalDigits = this.maxDecimalDigits;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (Util.isDefined(this.minDecimalDigits)) {\n      validators.push(this.minDecimalDigitsValidator.bind(this));\n    }\n    if (Util.isDefined(this.maxDecimalDigits)) {\n      validators.push(this.maxDecimalDigitsValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minDecimalDigitsValidator(control: FormControl): ValidationErrors {\n    let ctrlValue: string = control.value;\n    if (typeof control.value === 'number') {\n      ctrlValue = ctrlValue.toString();\n    }\n    if (ctrlValue && ctrlValue.length) {\n      const valArray = ctrlValue.split(this.decimalSeparator ? this.decimalSeparator : '.');\n      if (Util.isDefined(this.minDecimalDigits) && (this.minDecimalDigits > 0) && Util.isDefined(valArray[1]) && (valArray[1].length < this.minDecimalDigits)) {\n        return {\n          minDecimaldigits: {\n            requiredMinDecimaldigits: this.minDecimalDigits\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxDecimalDigitsValidator(control: FormControl): ValidationErrors {\n    let ctrlValue: string = control.value;\n    if (typeof control.value === 'number') {\n      ctrlValue = ctrlValue.toString();\n    }\n    if (ctrlValue && ctrlValue.length) {\n      const valArray = ctrlValue.split(this.decimalSeparator ? this.decimalSeparator : '.');\n      if (Util.isDefined(this.maxDecimalDigits) && (this.maxDecimalDigits > 0) && Util.isDefined(valArray[1]) && (valArray[1].length > this.maxDecimalDigits)) {\n        return {\n          maxDecimaldigits: {\n            requiredMaxDecimaldigits: this.maxDecimalDigits\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected initializeStep(): void {\n    if (this.step <= 0) {\n      this.step = 1 / Math.pow(10, this.maxDecimalDigits);\n      console.warn('`step` attribute must be greater than zero');\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OIntegerInputModule } from '../integer-input/o-integer-input.module';\nimport { ORealInputComponent } from './o-real-input.component';\n\n@NgModule({\n  declarations: [ORealInputComponent],\n  imports: [CommonModule, OSharedModule, OIntegerInputModule],\n  exports: [ORealInputComponent]\n})\nexport class ORealInputModule { }\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport {\n  DEFAULT_INPUTS_O_REAL_INPUT,\n  DEFAULT_OUTPUTS_O_REAL_INPUT,\n  ORealInputComponent,\n} from '../real-input/o-real-input.component';\n\nexport const DEFAULT_INPUTS_O_CURRENCY_INPUT = [\n  ...DEFAULT_INPUTS_O_REAL_INPUT,\n  'currencySymbol: currency-symbol',\n  'currencySymbolPosition: currency-symbol-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_CURRENCY_INPUT = [\n  ...DEFAULT_OUTPUTS_O_REAL_INPUT\n];\n\n@Component({\n  selector: 'o-currency-input',\n  templateUrl: './o-currency-input.component.html',\n  styleUrls: ['./o-currency-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_CURRENCY_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_CURRENCY_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OCurrencyInputComponent extends ORealInputComponent implements OnInit {\n\n  static currency_icons = ['USD', 'EUR', 'GBP', 'ILS', 'INR', 'JPY', 'KRW', 'BTC'];\n\n  currency_symbols = {\n    CRC: '', // Costa Rican Coln\n    NGN: '', // Nigerian Naira\n    PHP: '', // Philippine Peso\n    PLN: 'z', // Polish Zloty\n    PYG: '', // Paraguayan Guarani\n    THB: '', // Thai Baht\n    UAH: '', // Ukrainian Hryvnia\n    VND: '', // Vietnamese Dong\n  };\n\n  currencySymbol: string = 'EUR';\n  currencySymbolPosition: string = 'right';\n\n  protected existsOntimizeIcon() {\n    return OCurrencyInputComponent.currency_icons.indexOf(this.currencySymbol) !== -1;\n  }\n\n  useIcon(position: string): boolean {\n    return this.existsOntimizeIcon() && this.currencySymbolPosition === position;\n  }\n\n  useSymbol(position: string): boolean {\n    return this.currency_symbols.hasOwnProperty(this.currencySymbol) && this.currencySymbolPosition === position;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ORealInputModule } from '../real-input/o-real-input.module';\nimport { OCurrencyInputComponent } from './o-currency-input.component';\n\n@NgModule({\n  declarations: [OCurrencyInputComponent],\n  imports: [CommonModule, OSharedModule, ORealInputModule],\n  exports: [OCurrencyInputComponent]\n})\nexport class OCurrencyInputModule { }\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { MAT_DATE_LOCALE } from '@angular/material';\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\nimport moment, { Moment } from 'moment';\n\n@Injectable()\nexport class OntimizeMomentDateAdapter extends MomentDateAdapter {\n\n  oFormat: string;\n\n  constructor(@Optional() @Inject(MAT_DATE_LOCALE) dateLocale: string) {\n    super(dateLocale);\n  }\n\n  format(date: any, displayFormat: string): string {\n    return super.format(date, this.oFormat || displayFormat);\n  }\n\n  parse(value: any, parseFormat: string | string[]): any | null {\n    return super.parse(value, this.oFormat || parseFormat);\n  }\n\n  deserialize(value: any): Moment | null {\n    let date;\n    if (typeof value === 'number') {\n      date = moment(value);\n    }\n    if (typeof value === 'string') {\n      if (!value) {\n        return null;\n      }\n      date = moment(value, this.oFormat).locale(this.locale);\n    }\n    if (date && this.isValid(date)) {\n      return date;\n    }\n    return super.deserialize(value);\n  }\n}","import { Component, ElementRef, forwardRef, Inject, Injector, OnDestroy, OnInit, Optional, ViewChild } from '@angular/core';\nimport { MediaChange, MediaObserver } from '@angular/flex-layout';\nimport { DateAdapter, MAT_DATE_LOCALE, MatDatepicker, MatDatepickerInput, MatDatepickerInputEvent } from '@angular/material';\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\nimport moment from 'moment';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { MomentService } from '../../../services/moment.service';\nimport { OntimizeMomentDateAdapter } from '../../../shared/material/date/ontimize-moment-date-adapter';\nimport { DateCustomClassFunction } from '../../../types/date-custom-class.type';\nimport { DateFilterFunction } from '../../../types/date-filter-function.type';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { ODateValueType } from '../../../types/o-date-value.type';\nimport { SQLTypes } from '../../../util/sqltypes';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { OFormDataComponent } from '../../o-form-data-component.class';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { DEFAULT_INPUTS_O_TEXT_INPUT, DEFAULT_OUTPUTS_O_TEXT_INPUT } from '../text-input/o-text-input.component';\n\nexport const DEFAULT_OUTPUTS_O_DATE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_INPUTS_O_DATE_INPUT = [\n  'valueType: value-type',\n  'oformat: format',\n  'olocale: locale',\n  'oStartView: start-view',\n  'oMinDate: min',\n  'oMaxDate: max',\n  'oTouchUi: touch-ui',\n  'oStartAt: start-at',\n  'filterDate: filter-date',\n  'textInputEnabled: text-input-enabled',\n  'dateClass: date-class',\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-date-input',\n  templateUrl: './o-date-input.component.html',\n  styleUrls: ['./o-date-input.component.scss'],\n  outputs: DEFAULT_OUTPUTS_O_DATE_INPUT,\n  inputs: DEFAULT_INPUTS_O_DATE_INPUT,\n  providers: [\n    { provide: DateAdapter, useClass: OntimizeMomentDateAdapter, deps: [MAT_DATE_LOCALE] }\n  ]\n})\nexport class ODateInputComponent extends OFormDataComponent implements OnDestroy, OnInit {\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  protected _oformat: string = 'L';\n  protected olocale: string;\n  protected updateLocaleOnChange: boolean = false;\n  protected oStartView: 'month' | 'year' = 'month';\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  @InputConverter()\n  protected oTouchUi: boolean;\n  protected oStartAt: string;\n  protected _filterDate: DateFilterFunction;\n  protected _dateClass: DateCustomClassFunction\n  protected _valueType: ODateValueType = 'timestamp';\n\n  protected _minDateString: string;\n  protected _maxDateString: string;\n\n  protected media: MediaObserver;\n  protected mediaSubscription: Subscription;\n  protected onLanguageChangeSubscription: Subscription;\n  protected dateValue: Date;\n\n  @ViewChild('picker', { static: true })\n  public datepicker: MatDatepicker<Date>;\n\n  @ViewChild(MatDatepickerInput, { static: true })\n  public datepickerInput: MatDatepickerInput<Date>;\n\n  @ViewChild('matInputRef', { read: ElementRef, static: true })\n  private matInputRef!: ElementRef;\n\n  private momentSrv: MomentService;\n  private momentDateAdapter: DateAdapter<MomentDateAdapter>;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    dateAdapter: DateAdapter<OntimizeMomentDateAdapter>,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.momentDateAdapter = dateAdapter;\n    this._defaultSQLTypeKey = 'DATE';\n    this.momentSrv = this.injector.get(MomentService);\n    this.media = this.injector.get(MediaObserver);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n\n    if (!this.olocale) {\n      this.updateLocaleOnChange = true;\n      this.olocale = this.momentSrv.getLocale();\n    }\n\n    if (this.oformat) {\n      (this.momentDateAdapter as any).oFormat = this.oformat;\n    }\n\n    this.momentDateAdapter.setLocale(this.olocale);\n\n    if (this.oStartView) {\n      this.datepicker.startView = this.oStartView;\n    }\n\n    if (this.oStartAt) {\n      this.datepicker.startAt = new Date(this.oStartAt);\n    }\n\n    if (this.oMinDate) {\n      const date = new Date(this.oMinDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.datepickerInput.min = date;\n        this.minDateString = momentD.format(this.oformat);\n      }\n    }\n\n    if (this.oMaxDate) {\n      const date = new Date(this.oMaxDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.datepickerInput.max = date;\n        this.maxDateString = momentD.format(this.oformat);\n      }\n    }\n\n    if (this.updateLocaleOnChange) {\n      this.onLanguageChangeSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n        this.momentDateAdapter.setLocale(this.translateService.getCurrentLang());\n        this.setValue(this.getValue());\n      });\n    }\n\n    this.subscribeToMediaChanges();\n  }\n\n  public subscribeToMediaChanges(): void {\n    this.mediaSubscription = this.media.asObservable().subscribe((change: MediaChange[]) => {\n      if (['xs', 'sm'].indexOf(change[0].mqAlias) !== -1) {\n        this.touchUi = Util.isDefined(this.oTouchUi) ? this.oTouchUi : true;\n      }\n      if (['md', 'lg', 'xl'].indexOf(change[0].mqAlias) !== -1) {\n        this.touchUi = Util.isDefined(this.oTouchUi) ? this.oTouchUi : false;\n      }\n    });\n  }\n\n  public ngOnDestroy(): void {\n    super.ngOnDestroy();\n    if (this.mediaSubscription) {\n      this.mediaSubscription.unsubscribe();\n    }\n    if (this.onLanguageChangeSubscription) {\n      this.onLanguageChangeSubscription.unsubscribe();\n    }\n  }\n\n  public getValueAsDate(): any {\n    return this.dateValue;\n  }\n\n  public getValue(): any {\n    let timestampValue = super.getValue();\n    if (timestampValue && timestampValue instanceof Date) {\n      timestampValue = timestampValue.getTime();\n    }\n    return timestampValue;\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.matInputRef.nativeElement.value;\n  }\n\n  public open(): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.datepicker.open();\n    }\n  }\n\n  public onChangeEvent(event: MatDatepickerInputEvent<any>): void {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    let val = isValid ? event.value.valueOf() : event.value;\n    const m = moment(val);\n    switch (this.valueType) {\n      case 'string':\n        if (val) {\n          val = m.format(this.oformat);\n        }\n        break;\n      case 'date':\n        val = new Date(val);\n        break;\n      case 'iso-8601':\n        val = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        break;\n    }\n    this.setValue(val, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  public onClickInput(e: Event): void {\n    if (!this.textInputEnabled) {\n      this.open();\n    }\n  }\n\n  get filterDate(): DateFilterFunction {\n    return this._filterDate;\n  }\n\n  set filterDate(val: DateFilterFunction) {\n    this._filterDate = val;\n  }\n\n  get dateClass(): DateCustomClassFunction {\n    return this._dateClass;\n  }\n\n  set dateClass(val: DateCustomClassFunction) {\n    this._dateClass = val;\n  }\n  get oformat(): string {\n    return this._oformat;\n  }\n\n  set oformat(val: string) {\n    this._oformat = val;\n  }\n\n  get minDateString(): string {\n    return this._minDateString;\n  }\n\n  set minDateString(val: string) {\n    this._minDateString = val;\n  }\n\n  get maxDateString(): string {\n    return this._maxDateString;\n  }\n\n  set maxDateString(val: string) {\n    this._maxDateString = val;\n  }\n\n  get touchUi(): boolean {\n    return this.oTouchUi || false;\n  }\n\n  set touchUi(val: boolean) {\n    this.oTouchUi = val;\n    this.datepicker.touchUi = this.touchUi;\n  }\n\n  protected ensureODateValueType(val: any): void {\n    if (!Util.isDefined(val)) {\n      return val;\n    }\n    let result = val;\n    switch (this.valueType) {\n      case 'string':\n        if (typeof val === 'string') {\n          const m = moment(val, this.oformat);\n          if (m.isValid()) {\n            this.dateValue = new Date(m.valueOf());\n          }\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'date':\n        if ((val instanceof Date)) {\n          this.dateValue = val;\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'timestamp':\n        if (typeof val === 'number') {\n          this.dateValue = new Date(val);\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'iso-8601':\n        if (typeof val !== 'string') {\n          const acceptTimestamp = typeof val === 'number' && this.getSQLType() === SQLTypes.TIMESTAMP;\n          if (acceptTimestamp) {\n            this.dateValue = new Date(val);\n          } else {\n            result = undefined;\n          }\n        } else {\n          const m = moment(val);\n          if (m.isValid()) {\n            this.dateValue = new Date(m.valueOf());\n          } else {\n            result = undefined;\n          }\n        }\n        break;\n      default:\n        break;\n    }\n    if (!Util.isDefined(result)) {\n      console.warn(`ODateInputComponent value (${val}) is not consistent with value-type (${this.valueType})`);\n    }\n    return result;\n  }\n\n  protected setFormValue(val: any, options?: FormValueOptions, setDirty: boolean = false): void {\n    let value = val;\n    if (val instanceof OFormValue) {\n      value = val.value;\n    }\n    this.ensureODateValueType(value);\n    super.setFormValue(value, options, setDirty);\n  }\n\n  set valueType(val: any) {\n    this._valueType = Util.convertToODateValueType(val);\n  }\n\n  get valueType(): any {\n    return this._valueType;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ODateInputComponent } from './o-date-input.component';\n\n@NgModule({\n  declarations: [ODateInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ODateInputComponent]\n})\nexport class ODateInputModule { }\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as _moment from 'moment';\n\nimport { InputConverter } from '../../../decorators/input-converter';\n\nconst moment = _moment;\n\nexport enum SideEnum {\n  left = 'left',\n  right = 'right'\n}\n\n@Component({\n  selector: 'o-daterange-picker',\n  styleUrls: ['./o-daterange-picker.component.scss'],\n  templateUrl: './o-daterange-picker.component.html',\n  host: {\n    '(click)': 'handleInternalClick($event)',\n  },\n  encapsulation: ViewEncapsulation.None,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => DaterangepickerComponent),\n    multi: true\n  }]\n})\nexport class DaterangepickerComponent implements OnInit {\n  private _old: { start: any, end: any } = { start: null, end: null };\n  chosenLabel: string;\n  calendarVariables: { left: any, right: any } = { left: {}, right: {} };\n  timepickerVariables: { left: any, right: any } = { left: {}, right: {} };\n  daterangepicker: { start: FormControl, end: FormControl } = { start: new FormControl(), end: new FormControl() };\n  applyBtn: { disabled: boolean } = { disabled: false };\n  startDate = moment().startOf('day');\n  endDate = moment().endOf('day');\n  @Input()\n  dateLimit: number = null;\n  // used in template for compile time support of enum values.\n  sideEnum = SideEnum;\n\n  @Input()\n  minDate: _moment.Moment = null;\n  @Input()\n  maxDate: _moment.Moment = null;\n  @Input()\n  autoApply: boolean = false;\n  @Input()\n  singleDatePicker: boolean = false;\n  @Input()\n  showDropdowns: boolean = false;\n  @InputConverter()\n  showWeekNumbers: boolean = false;\n  @Input()\n  showISOWeekNumbers: boolean = false;\n  @Input()\n  linkedCalendars: boolean = false;\n  @Input()\n  autoUpdateInput: boolean = true;\n  @Input()\n  alwaysShowCalendars: boolean = false;\n  @Input()\n  maxSpan: boolean = false;\n  // timepicker variables\n  @Input()\n  timePicker: boolean = false;\n  @Input()\n  timePicker24Hour: boolean = false;\n  @Input()\n  timePickerIncrement: number = 1;\n  @Input()\n  timePickerSeconds: boolean = false;\n  // end of timepicker variables\n  @Input()\n  showClearButton: boolean = false;\n  @Input()\n  firstMonthDayClass: string = null;\n  @Input()\n  lastMonthDayClass: string = null;\n  @Input()\n  emptyWeekRowClass: string = null;\n  @Input()\n  firstDayOfNextMonthClass: string = null;\n  @Input()\n  lastDayOfPreviousMonthClass: string = null;\n\n  @Input()\n  locale: any;\n  // custom ranges\n  _ranges: any = {};\n\n  @Input() set ranges(value) {\n    this._ranges = value;\n    this.renderRanges();\n  }\n  get ranges(): any {\n    return this._ranges;\n  }\n\n  @Input()\n  showCustomRangeLabel: boolean;\n  @Input()\n  showCancel: boolean = false;\n  @Input()\n  keepCalendarOpeningWithRange: boolean = false;\n  @Input()\n  showRangeLabelOnInput: boolean = false;\n  chosenRange: string;\n  rangesArray: Array<any> = [];\n\n  // some state information\n  isShown: boolean = false;\n  inline: boolean = true;\n  leftCalendar: any = {};\n  rightCalendar: any = {};\n  showCalInRanges: boolean = false;\n\n  options: any = {}; // should get some opt from user\n  @Input() drops: string;\n  @Input() opens: string;\n  @Output() choosedDate: EventEmitter<object>;\n  @Output() rangeClicked: EventEmitter<object>;\n  @Output() datesUpdated: EventEmitter<object>;\n  @ViewChild('pickerContainer', { static: false }) pickerContainer: ElementRef;\n\n  constructor(\n    private _ref: ChangeDetectorRef\n  ) {\n    this.choosedDate = new EventEmitter();\n    this.rangeClicked = new EventEmitter();\n    this.datesUpdated = new EventEmitter();\n  }\n\n  ngOnInit() {\n    this._buildLocale();\n    const daysOfWeek = [...this.locale.daysOfWeek];\n    if (this.locale.firstDay !== 0) {\n      let iterator = this.locale.firstDay;\n\n      while (iterator > 0) {\n        daysOfWeek.push(daysOfWeek.shift());\n        iterator--;\n      }\n    }\n    this.locale.daysOfWeek = daysOfWeek;\n    if (this.inline) {\n      this._old.start = this.startDate.clone();\n      this._old.end = this.endDate.clone();\n    }\n\n    this.updateMonthsInView();\n    this.renderCalendar(SideEnum.left);\n    this.renderCalendar(SideEnum.right);\n    this.renderRanges();\n  }\n  renderRanges() {\n    this.rangesArray = [];\n    let start;\n    let end;\n    if (typeof this.ranges === 'object') {\n      for (const range in this.ranges) {\n        if (typeof this.ranges[range][0] === 'string') {\n          start = moment(this.ranges[range][0], this.locale.format);\n        } else {\n          start = moment(this.ranges[range][0]);\n        }\n\n        if (typeof this.ranges[range][1] === 'string') {\n          end = moment(this.ranges[range][1], this.locale.format);\n        } else {\n          end = moment(this.ranges[range][1]);\n        }\n\n        // If the start or end date exceed those allowed by the minDate or maxSpan\n        // options, shorten the range to the allowable period.\n        if (this.minDate && start.isBefore(this.minDate)) {\n          start = this.minDate.clone();\n        }\n\n        let maxDate = this.maxDate;\n        if (this.maxSpan && maxDate && start.clone().add(this.maxSpan).isAfter(maxDate)) {\n          maxDate = start.clone().add(this.maxSpan);\n        }\n        if (maxDate && end.isAfter(maxDate)) {\n          end = maxDate.clone();\n        }\n\n        // If the end of the range is before the minimum or the start of the range is\n        // after the maximum, don't display this range option at all.\n        if ((this.minDate && end.isBefore(this.minDate, this.timePicker ? 'minute' : 'day'))\n          || (maxDate && start.isAfter(maxDate, this.timePicker ? 'minute' : 'day'))) {\n          continue;\n        }\n\n        //Support unicode chars in the range names.\n        let elem = document.createElement('textarea');\n        elem.innerHTML = range;\n        let rangeHtml = elem.value;\n\n        this.ranges[rangeHtml] = [start, end];\n      }\n      for (const range in this.ranges) {\n        this.rangesArray.push(range);\n      }\n      if (this.showCustomRangeLabel) {\n        this.rangesArray.push(this.locale.customRangeLabel);\n      }\n      this.showCalInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\n      if (!this.timePicker) {\n        this.startDate = this.startDate.startOf('day');\n        this.endDate = this.endDate.endOf('day');\n      }\n      // can't be used together for now\n      if (this.timePicker && this.autoApply) {\n        this.autoApply = false;\n      }\n    }\n  }\n\n  renderTimePicker(side: SideEnum) {\n    if (side === SideEnum.right && !this.endDate) {\n      return;\n    }\n    let selected;\n    let minDate;\n    const maxDate = this.maxDate;\n    if (side === SideEnum.left) {\n      selected = this.startDate.clone();\n      minDate = this.minDate;\n    } else if (side === SideEnum.right) {\n      selected = this.endDate.clone();\n      minDate = this.startDate;\n    }\n    const start = this.timePicker24Hour ? 0 : 1;\n    const end = this.timePicker24Hour ? 23 : 12;\n    this.timepickerVariables[side] = {\n      hours: [],\n      minutes: [],\n      minutesLabel: [],\n      seconds: [],\n      secondsLabel: [],\n      disabledHours: [],\n      disabledMinutes: [],\n      disabledSeconds: [],\n      selectedHour: 0,\n      selectedMinute: 0,\n      selectedSecond: 0,\n    };\n    // generate hours\n    for (let i = start; i <= end; i++) {\n      let i_in_24 = i;\n      if (!this.timePicker24Hour) {\n        i_in_24 = selected.hour() >= 12 ? (i === 12 ? 12 : i + 12) : (i === 12 ? 0 : i);\n      }\n\n      const time = selected.clone().hour(i_in_24);\n      let disabled = false;\n      if (minDate && time.minute(59).isBefore(minDate)) {\n        disabled = true;\n      }\n      if (maxDate && time.minute(0).isAfter(maxDate)) {\n        disabled = true;\n      }\n\n      this.timepickerVariables[side].hours.push(i);\n      if (i_in_24 === selected.hour() && !disabled) {\n        this.timepickerVariables[side].selectedHour = i;\n      } else if (disabled) {\n        this.timepickerVariables[side].disabledHours.push(i);\n      }\n    }\n    // generate minutes\n    for (let i = 0; i < 60; i += this.timePickerIncrement) {\n      const padded = i < 10 ? '0' + i : i;\n      const time = selected.clone().minute(i);\n\n      let disabled = false;\n      if (minDate && time.second(59).isBefore(minDate)) {\n        disabled = true;\n      }\n      if (maxDate && time.second(0).isAfter(maxDate)) {\n        disabled = true;\n      }\n      this.timepickerVariables[side].minutes.push(i);\n      this.timepickerVariables[side].minutesLabel.push(padded);\n      if (selected.minute() === i && !disabled) {\n        this.timepickerVariables[side].selectedMinute = i;\n      } else if (disabled) {\n        this.timepickerVariables[side].disabledMinutes.push(i);\n      }\n    }\n    // generate seconds\n    if (this.timePickerSeconds) {\n      for (let i = 0; i < 60; i++) {\n        const padded = i < 10 ? '0' + i : i;\n        const time = selected.clone().second(i);\n\n        let disabled = false;\n        if (minDate && time.isBefore(minDate)) {\n          disabled = true;\n        }\n        if (maxDate && time.isAfter(maxDate)) {\n          disabled = true;\n        }\n\n        this.timepickerVariables[side].seconds.push(i);\n        this.timepickerVariables[side].secondsLabel.push(padded);\n        if (selected.second() === i && !disabled) {\n          this.timepickerVariables[side].selectedSecond = i;\n        } else if (disabled) {\n          this.timepickerVariables[side].disabledSeconds.push(i);\n        }\n      }\n    }\n    // generate AM/PM\n    if (!this.timePicker24Hour) {\n\n      if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate)) {\n        this.timepickerVariables[side].amDisabled = true;\n      }\n\n      if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate)) {\n        this.timepickerVariables[side].pmDisabled = true;\n      }\n      if (selected.hour() >= 12) {\n        this.timepickerVariables[side].ampmModel = 'PM';\n      } else {\n        this.timepickerVariables[side].ampmModel = 'AM';\n      }\n    }\n    this.timepickerVariables[side].selected = selected;\n  }\n\n  renderCalendar(side: SideEnum) { // side enum\n    const mainCalendar: any = (side === SideEnum.left) ? this.leftCalendar : this.rightCalendar;\n    const month = mainCalendar.month.month();\n    const year = mainCalendar.month.year();\n    const hour = mainCalendar.month.hour();\n    const minute = mainCalendar.month.minute();\n    const second = mainCalendar.month.second();\n    const daysInMonth = moment([year, month]).daysInMonth();\n    const firstDay = moment([year, month, 1]);\n    const lastDay = moment([year, month, daysInMonth]);\n    const lastMonth = moment(firstDay).subtract(1, 'month').month();\n    const lastYear = moment(firstDay).subtract(1, 'month').year();\n    const daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\n    const dayOfWeek = firstDay.day();\n    // initialize a 6 rows x 7 columns array for the calendar\n    const calendar: any = [];\n    calendar.firstDay = firstDay;\n    calendar.lastDay = lastDay;\n\n    for (let i = 0; i < 6; i++) {\n      calendar[i] = [];\n    }\n\n    // populate the calendar with date objects\n    let startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;\n    if (startDay > daysInLastMonth) {\n      startDay -= 7;\n    }\n\n    if (dayOfWeek === this.locale.firstDay) {\n      startDay = daysInLastMonth - 6;\n    }\n\n    let curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\n\n    for (let i = 0, col = 0, row = 0; i < 42; i++ , col++ , curDate = moment(curDate).add(24, 'hour')) {\n      if (i > 0 && col % 7 === 0) {\n        col = 0;\n        row++;\n      }\n      calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);\n      curDate.hour(12);\n\n      if (this.minDate && calendar[row][col].format('YYYY-MM-DD') === this.minDate.format('YYYY-MM-DD') &&\n        calendar[row][col].isBefore(this.minDate) && side === 'left') {\n        calendar[row][col] = this.minDate.clone();\n      }\n\n      if (this.maxDate && calendar[row][col].format('YYYY-MM-DD') === this.maxDate.format('YYYY-MM-DD') &&\n        calendar[row][col].isAfter(this.maxDate) && side === 'right') {\n        calendar[row][col] = this.maxDate.clone();\n      }\n    }\n\n    // make the calendar object available to hoverDate/clickDate\n    if (side === SideEnum.left) {\n      this.leftCalendar.calendar = calendar;\n    } else {\n      this.rightCalendar.calendar = calendar;\n    }\n    //\n    // Display the calendar\n    //\n    const minDate = side === 'left' ? this.minDate : this.startDate;\n    let maxDate = this.maxDate;\n    // adjust maxDate to reflect the dateLimit setting in order to\n    // grey out end dates beyond the dateLimit\n    if (this.endDate === null && this.dateLimit) {\n      const maxLimit = this.startDate.clone().add(this.dateLimit, 'day').endOf('day');\n      if (!maxDate || maxLimit.isBefore(maxDate)) {\n        maxDate = maxLimit;\n      }\n    }\n    this.calendarVariables[side] = {\n      month: month,\n      year: year,\n      hour: hour,\n      minute: minute,\n      second: second,\n      daysInMonth: daysInMonth,\n      firstDay: firstDay,\n      lastDay: lastDay,\n      lastMonth: lastMonth,\n      lastYear: lastYear,\n      daysInLastMonth: daysInLastMonth,\n      dayOfWeek: dayOfWeek,\n      // other vars\n      calRows: Array.from(Array(6).keys()),\n      calCols: Array.from(Array(7).keys()),\n      classes: {},\n      minDate: minDate,\n      maxDate: maxDate,\n      calendar: calendar\n    };\n    if (this.showDropdowns) {\n      const currentMonth = calendar[1][1].month();\n      const currentYear = calendar[1][1].year();\n      const maxYear = (maxDate && maxDate.year()) || (currentYear + 5);\n      const minYear = (minDate && minDate.year()) || (currentYear - 50);\n      const inMinYear = currentYear === minYear;\n      const inMaxYear = currentYear === maxYear;\n      const years = [];\n      for (let y = minYear; y <= maxYear; y++) {\n        years.push(y);\n      }\n      this.calendarVariables[side].dropdowns = {\n        currentMonth: currentMonth,\n        currentYear: currentYear,\n        maxYear: maxYear,\n        minYear: minYear,\n        inMinYear: inMinYear,\n        inMaxYear: inMaxYear,\n        monthArrays: Array.from(Array(12).keys()),\n        yearArrays: years\n      };\n    }\n\n    this._buildCells(calendar, side);\n  }\n  setStartDate(startDate) {\n    if (typeof startDate === 'string') {\n      this.startDate = moment(startDate, this.locale.format);\n    }\n\n    if (typeof startDate === 'object') {\n      this.startDate = moment(startDate);\n    }\n    if (!this.timePicker) {\n      this.startDate = this.startDate.startOf('day');\n    }\n\n    if (this.timePicker && this.timePickerIncrement) {\n      this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n    }\n\n\n    if (this.minDate && this.startDate.isBefore(this.minDate)) {\n      this.startDate = this.minDate.clone();\n      if (this.timePicker && this.timePickerIncrement) {\n        this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n      }\n\n    }\n\n    if (this.maxDate && this.startDate.isAfter(this.maxDate)) {\n      this.startDate = this.maxDate.clone();\n      if (this.timePicker && this.timePickerIncrement) {\n        this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n      }\n    }\n\n    if (!this.isShown) {\n      this.updateElement();\n    }\n\n    this.updateMonthsInView();\n  }\n\n  setEndDate(endDate) {\n    if (typeof endDate === 'string') {\n      this.endDate = moment(endDate, this.locale.format);\n    }\n\n    if (typeof endDate === 'object') {\n      this.endDate = moment(endDate);\n    }\n    if (!this.timePicker) {\n      this.endDate = this.endDate.add(1, 'd').startOf('day').subtract(1, 'second');\n    }\n\n    if (this.timePicker && this.timePickerIncrement) {\n      this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n    }\n\n\n    if (this.endDate.isBefore(this.startDate)) {\n      this.endDate = this.startDate.clone();\n    }\n\n    if (this.maxDate && this.endDate.isAfter(this.maxDate)) {\n      this.endDate = this.maxDate.clone();\n    }\n\n    if (this.dateLimit && this.startDate.clone().add(this.dateLimit, 'day').isBefore(this.endDate)) {\n      this.endDate = this.startDate.clone().add(this.dateLimit, 'day');\n    }\n\n\n    if (!this.isShown) {\n      // this.updateElement();\n    }\n    this.updateMonthsInView();\n  }\n  @Input()\n  isInvalidDate(date) {\n    return false;\n  }\n  @Input()\n  isCustomDate(date) {\n    return false;\n  }\n\n  updateView() {\n    if (this.timePicker) {\n      this.renderTimePicker(SideEnum.left);\n      this.renderTimePicker(SideEnum.right);\n    }\n    this.updateMonthsInView();\n    this.updateCalendars();\n  }\n\n  updateMonthsInView() {\n    if (this.endDate) {\n      // if both dates are visible already, do nothing\n      if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&\n        ((this.startDate && this.leftCalendar && this.startDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM')) ||\n          (this.startDate && this.rightCalendar && this.startDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM')))\n        &&\n        (this.endDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM') ||\n          this.endDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM'))\n      ) {\n        return;\n      }\n      if (this.startDate) {\n        this.leftCalendar.month = this.startDate.clone().date(2);\n        if (!this.linkedCalendars && (this.endDate.month() !== this.startDate.month() ||\n          this.endDate.year() !== this.startDate.year())) {\n          this.rightCalendar.month = this.endDate.clone().date(2);\n        } else {\n          this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n        }\n      }\n\n    } else {\n      if (this.leftCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM') &&\n        this.rightCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM')) {\n        this.leftCalendar.month = this.startDate.clone().date(2);\n        this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n      }\n    }\n    if (this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate) {\n      this.rightCalendar.month = this.maxDate.clone().date(2);\n      this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, 'month');\n    }\n  }\n  /**\n   *  This is responsible for updating the calendars\n   */\n  updateCalendars() {\n    this.renderCalendar(SideEnum.left);\n    this.renderCalendar(SideEnum.right);\n\n    if (this.endDate === null) { return; }\n    this.calculateChosenLabel();\n  }\n  updateElement() {\n    if (!this.singleDatePicker && this.autoUpdateInput) {\n      if (this.startDate && this.endDate) {\n        // if we use ranges and should show range label on inpu\n        if (this.rangesArray.length && this.showRangeLabelOnInput === true && this.chosenRange &&\n          this.locale.customRangeLabel !== this.chosenRange) {\n          this.chosenLabel = this.chosenRange;\n        } else {\n          this.chosenLabel = this.startDate.format(this.locale.format) +\n            this.locale.separator + this.endDate.format(this.locale.format);\n        }\n      }\n    } else if (this.autoUpdateInput) {\n      this.chosenLabel = this.startDate.format(this.locale.format);\n    }\n  }\n\n  remove() {\n    this.isShown = false;\n  }\n  /**\n   * this should calculate the label\n   */\n  calculateChosenLabel() {\n    if (!this.locale || !this.locale.separator) {\n      this._buildLocale();\n    }\n    let customRange = true;\n    let i = 0;\n    if (this.rangesArray.length > 0) {\n      for (const range in this.ranges) {\n        if (this.timePicker) {\n          const format = this.timePickerSeconds ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD HH:mm';\n          //ignore times when comparing dates if time picker seconds is not enabled\n          if (this.startDate.format(format) === this.ranges[range][0].format(format) && this.endDate.format(format) === this.ranges[range][1].format(format)) {\n            customRange = false;\n            this.chosenRange = this.rangesArray[i];\n            break;\n          }\n        } else {\n          //ignore times when comparing dates if time picker is not enabled\n          if (this.startDate.format('YYYY-MM-DD') === this.ranges[range][0].format('YYYY-MM-DD') && this.endDate.format('YYYY-MM-DD') === this.ranges[range][1].format('YYYY-MM-DD')) {\n            customRange = false;\n            this.chosenRange = this.rangesArray[i];\n            break;\n          }\n        }\n\n        i++;\n      }\n      if (customRange) {\n        if (this.showCustomRangeLabel) {\n          this.chosenRange = this.locale.customRangeLabel;\n        } else {\n          this.chosenRange = null;\n        }\n        // if custom label: show calenar\n        this.showCalInRanges = true;\n      }\n    }\n\n    this.updateElement();\n  }\n\n  clickApply(e?) {\n    if (!this.singleDatePicker && this.startDate && !this.endDate) {\n      this.endDate = this.startDate.clone();\n      this.calculateChosenLabel();\n    }\n    if (this.isInvalidDate && this.startDate && this.endDate) {\n      // get if there are invalid date between range\n      const d = this.startDate.clone();\n      while (d.isBefore(this.endDate)) {\n        if (this.isInvalidDate(d)) {\n          this.endDate = d.subtract(1, 'days');\n          this.calculateChosenLabel();\n          break;\n        }\n        d.add(1, 'days');\n      }\n    }\n    if (this.chosenLabel) {\n      this.choosedDate.emit({ chosenLabel: this.chosenLabel, startDate: this.startDate, endDate: this.endDate });\n    }\n\n    this.datesUpdated.emit({ startDate: this.startDate, endDate: this.endDate });\n    this.hide();\n  }\n\n  clickCancel(e) {\n    this.startDate = this._old.start;\n    this.endDate = this._old.end;\n    if (this.inline) {\n      this.updateView();\n    }\n    this.hide();\n  }\n  /**\n   * called when month is changed\n   * @param monthEvent get value in event.target.value\n   * @param side left or right\n   */\n  monthChanged(monthEvent: any, side: SideEnum) {\n    const year = this.calendarVariables[side].dropdowns.currentYear;\n    const month = parseInt(monthEvent.target.value, 10);\n    this.monthOrYearChanged(month, year, side);\n  }\n  /**\n   * called when year is changed\n   * @param yearEvent get value in event.target.value\n   * @param side left or right\n   */\n  yearChanged(yearEvent: any, side: SideEnum) {\n    const month = this.calendarVariables[side].dropdowns.currentMonth;\n    const year = parseInt(yearEvent.target.value, 10);\n    this.monthOrYearChanged(month, year, side);\n  }\n  /**\n   * called when time is changed\n   * @param timeEvent  an event\n   * @param side left or right\n   */\n  timeChanged(timeEvent: any, side: SideEnum) {\n\n    let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\n    const minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\n    const second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\n\n    if (!this.timePicker24Hour) {\n      const ampm = this.timepickerVariables[side].ampmModel;\n      if (ampm === 'PM' && hour < 12) {\n        hour += 12;\n      }\n      if (ampm === 'AM' && hour === 12) {\n        hour = 0;\n      }\n    }\n\n    if (side === SideEnum.left) {\n      const start = this.startDate.clone();\n      start.hour(hour);\n      start.minute(minute);\n      start.second(second);\n      this.setStartDate(start);\n      if (this.singleDatePicker) {\n        this.endDate = this.startDate.clone();\n      } else if (this.endDate && this.endDate.format('YYYY-MM-DD') === start.format('YYYY-MM-DD') && this.endDate.isBefore(start)) {\n        this.setEndDate(start.clone());\n      }\n    } else if (this.endDate) {\n      const end = this.endDate.clone();\n      end.hour(hour);\n      end.minute(minute);\n      end.second(second);\n      this.setEndDate(end);\n    }\n\n    // update the calendars so all clickable dates reflect the new time component\n    this.updateCalendars();\n\n    // re-render the time pickers because changing one selection can affect what's enabled in another\n    this.renderTimePicker(SideEnum.left);\n    this.renderTimePicker(SideEnum.right);\n  }\n  /**\n   *  call when month or year changed\n   * @param month month number 0 -11\n   * @param year year eg: 1995\n   * @param side left or right\n   */\n  monthOrYearChanged(month: number, year: number, side: SideEnum) {\n    const isLeft = side === SideEnum.left;\n\n    if (!isLeft) {\n      if (year < this.startDate.year() || (year === this.startDate.year() && month < this.startDate.month())) {\n        month = this.startDate.month();\n        year = this.startDate.year();\n      }\n    }\n\n    if (this.minDate) {\n      if (year < this.minDate.year() || (year === this.minDate.year() && month < this.minDate.month())) {\n        month = this.minDate.month();\n        year = this.minDate.year();\n      }\n    }\n\n    if (this.maxDate) {\n      if (year > this.maxDate.year() || (year === this.maxDate.year() && month > this.maxDate.month())) {\n        month = this.maxDate.month();\n        year = this.maxDate.year();\n      }\n    }\n    this.calendarVariables[side].dropdowns.currentYear = year;\n    this.calendarVariables[side].dropdowns.currentMonth = month;\n    if (isLeft) {\n      this.leftCalendar.month.month(month).year(year);\n      if (this.linkedCalendars) {\n        this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');\n      }\n    } else {\n      this.rightCalendar.month.month(month).year(year);\n      if (this.linkedCalendars) {\n        this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');\n      }\n    }\n    this.updateCalendars();\n  }\n\n  /**\n   * Click on previous month\n   * @param side left or right calendar\n   */\n  clickPrev(side: SideEnum) {\n    if (side === SideEnum.left) {\n      this.leftCalendar.month.subtract(1, 'month');\n      if (this.linkedCalendars) {\n        this.rightCalendar.month.subtract(1, 'month');\n      }\n    } else {\n      this.rightCalendar.month.subtract(1, 'month');\n    }\n    this.updateCalendars();\n  }\n  /**\n   * Click on next month\n   * @param side left or right calendar\n   */\n  clickNext(side: SideEnum) {\n    if (side === SideEnum.left) {\n      this.leftCalendar.month.add(1, 'month');\n    } else {\n      this.rightCalendar.month.add(1, 'month');\n      if (this.linkedCalendars) {\n        this.leftCalendar.month.add(1, 'month');\n      }\n    }\n    this.updateCalendars();\n  }\n  /**\n   * When selecting a date\n   * @param e event: get value by e.target.value\n   * @param side left or right\n   * @param row row position of the current date clicked\n   * @param col col position of the current date clicked\n   */\n  clickDate(e, side: SideEnum, row: number, col: number) {\n    if (e.target.tagName === 'TD') {\n      if (!e.target.classList.contains('available')) {\n        return;\n      }\n    } else if (e.target.tagName === 'SPAN') {\n      if (!e.target.parentElement.classList.contains('available')) {\n        return;\n      }\n    }\n    if (this.rangesArray.length) {\n      this.chosenRange = this.locale.customRangeLabel;\n    }\n\n    let date = side === SideEnum.left ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\n\n    if (this.endDate || date.isBefore(this.startDate, 'day')) { // picking start\n      if (this.timePicker) {\n        date = this._getDateWithTime(date, SideEnum.left);\n      }\n      this.endDate = null;\n      this.setStartDate(date.clone());\n    } else if (!this.endDate && date.isBefore(this.startDate)) {\n      // special case: clicking the same date for start/end,\n      // but the time of the end date is before the start date\n      this.setEndDate(this.startDate.clone());\n    } else { // picking end\n      if (this.timePicker) {\n        date = this._getDateWithTime(date, SideEnum.right);\n      }\n      this.setEndDate(date.clone());\n      if (this.autoApply) {\n        this.calculateChosenLabel();\n        this.clickApply();\n      }\n    }\n\n    if (this.singleDatePicker) {\n      this.setEndDate(this.startDate);\n      this.updateElement();\n      if (this.autoApply) {\n        this.clickApply();\n      }\n    }\n\n    this.updateView();\n\n    // This is to cancel the blur event handler if the mouse was in one of the inputs\n    e.stopPropagation();\n\n  }\n  /**\n   *  Click on the custom range\n   * @param e: Event\n   * @param label\n   */\n  clickRange(e, label) {\n    this.chosenRange = label;\n    if (label === this.locale.customRangeLabel) {\n      this.isShown = true; // show calendars\n      this.showCalInRanges = true;\n    } else {\n      const dates = this.ranges[label];\n      this.startDate = dates[0].clone();\n      this.endDate = dates[1].clone();\n      if (this.showRangeLabelOnInput && label !== this.locale.customRangeLabel) {\n        this.chosenLabel = label;\n      } else {\n        this.calculateChosenLabel();\n      }\n      this.showCalInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\n\n      if (!this.timePicker) {\n        this.startDate.startOf('day');\n        this.endDate.endOf('day');\n      }\n\n      if (!this.alwaysShowCalendars) {\n        this.isShown = false; // hide calendars\n      }\n      this.rangeClicked.emit({ label: label, dates: dates });\n      if (!this.keepCalendarOpeningWithRange) {\n        this.clickApply();\n      } else {\n        this.leftCalendar.month.month(dates[0].month());\n        this.leftCalendar.month.year(dates[0].year());\n        this.rightCalendar.month.month(dates[1].month());\n        this.rightCalendar.month.year(dates[1].year());\n        this.updateCalendars();\n        if (this.timePicker) {\n          this.renderTimePicker(SideEnum.left);\n          this.renderTimePicker(SideEnum.right);\n        }\n      }\n    }\n  }\n\n\n\n  show(e?) {\n    if (this.isShown) { return; }\n    this._old.start = this.startDate.clone();\n    this._old.end = this.endDate.clone();\n    this.isShown = true;\n    this.updateView();\n  }\n\n  hide(e?) {\n    if (!this.isShown) {\n      return;\n    }\n    // incomplete date selection, revert to last values\n    if (!this.endDate) {\n      if (this._old.start) {\n        this.startDate = this._old.start.clone();\n      }\n      if (this._old.end) {\n        this.endDate = this._old.end.clone();\n      }\n    }\n\n    // if a new date range was selected, invoke the user callback function\n    if (!this.startDate.isSame(this._old.start) || !this.endDate.isSame(this._old.end)) {\n      // this.callback(this.startDate, this.endDate, this.chosenLabel);\n    }\n\n    // if picker is attached to a text input, update it\n    this.updateElement();\n    this.isShown = false;\n    this._ref.detectChanges();\n\n  }\n\n  /**\n   * handle click on all element in the component, usefull for outside of click\n   * @param e event\n   */\n  handleInternalClick(e) {\n    e.stopPropagation();\n  }\n  /**\n   * update the locale options\n   * @param locale\n   */\n  updateLocale(locale) {\n    for (const key in locale) {\n      if (locale.hasOwnProperty(key)) {\n        this.locale[key] = locale[key];\n      }\n    }\n  }\n  /**\n   *  clear the daterange picker\n   */\n  clear() {\n    this.startDate = moment().startOf('day');\n    this.endDate = moment().endOf('day');\n    this.choosedDate.emit({ chosenLabel: '', startDate: null, endDate: null });\n    this.datesUpdated.emit({ startDate: null, endDate: null });\n    this.hide();\n  }\n\n  /**\n   * Find out if the selected range should be disabled if it doesn't\n   * fit into minDate and maxDate limitations.\n   */\n  disableRange(range) {\n    if (range === this.locale.customRangeLabel) {\n      return false;\n    }\n    const rangeMarkers = this.ranges[range];\n    const areBothBefore = rangeMarkers.every(date => {\n      if (!this.minDate) {\n        return false;\n      }\n      return date.isBefore(this.minDate);\n    });\n\n    const areBothAfter = rangeMarkers.every(date => {\n      if (!this.maxDate) {\n        return false;\n      }\n      return date.isAfter(this.maxDate);\n    });\n    return (areBothBefore || areBothAfter);\n  }\n\n  /**\n   *\n   * @param date the date to add time\n   * @param side left or right\n   */\n  private _getDateWithTime(date, side: SideEnum): _moment.Moment {\n    let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\n    if (!this.timePicker24Hour) {\n      const ampm = this.timepickerVariables[side].ampmModel;\n      if (ampm === 'PM' && hour < 12) {\n        hour += 12;\n      }\n      if (ampm === 'AM' && hour === 12) {\n        hour = 0;\n      }\n    }\n    const minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\n    const second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\n    return date.clone().hour(hour).minute(minute).second(second);\n  }\n  /**\n   *  build the locale config\n   */\n  private _buildLocale() {\n    if (!this.locale.format) {\n      if (this.timePicker) {\n        this.locale.format = moment.localeData().longDateFormat('lll');\n      } else {\n        this.locale.format = moment.localeData().longDateFormat('L');\n      }\n    }\n  }\n  private _buildCells(calendar, side: SideEnum) {\n    for (let row = 0; row < 6; row++) {\n      this.calendarVariables[side].classes[row] = {};\n      const rowClasses = [];\n      if (this.emptyWeekRowClass && !this.hasCurrentMonthDays(this.calendarVariables[side].month, calendar[row])) {\n        rowClasses.push(this.emptyWeekRowClass);\n      }\n      for (let col = 0; col < 7; col++) {\n        const classes = [];\n        // highlight today's date\n        if (calendar[row][col].isSame(new Date(), 'day')) {\n          classes.push('today');\n        }\n        // highlight weekends\n        if (calendar[row][col].isoWeekday() > 5) {\n          classes.push('weekend');\n        }\n        // grey out the dates in other months displayed at beginning and end of this calendar\n        if (calendar[row][col].month() !== calendar[1][1].month()) {\n          classes.push('off');\n\n          // mark the last day of the previous month in this calendar\n          if (this.lastDayOfPreviousMonthClass && (calendar[row][col].month() < calendar[1][1].month() || calendar[1][1].month() === 0) && calendar[row][col].date() === this.calendarVariables[side].daysInLastMonth) {\n            classes.push(this.lastDayOfPreviousMonthClass);\n          }\n\n          // mark the first day of the next month in this calendar\n          if (this.firstDayOfNextMonthClass && (calendar[row][col].month() > calendar[1][1].month() || calendar[row][col].month() === 0) && calendar[row][col].date() === 1) {\n            classes.push(this.firstDayOfNextMonthClass);\n          }\n        }\n        // mark the first day of the current month with a custom class\n        if (this.firstMonthDayClass && calendar[row][col].month() === calendar[1][1].month() && calendar[row][col].date() === calendar.firstDay.date()) {\n          classes.push(this.firstMonthDayClass);\n        }\n        // mark the last day of the current month with a custom class\n        if (this.lastMonthDayClass && calendar[row][col].month() === calendar[1][1].month() && calendar[row][col].date() === calendar.lastDay.date()) {\n          classes.push(this.lastMonthDayClass);\n        }\n        // don't allow selection of dates before the minimum date\n        if (this.minDate && calendar[row][col].isBefore(this.minDate, 'day')) {\n          classes.push('off', 'disabled');\n        }\n        // don't allow selection of dates after the maximum date\n        if (this.calendarVariables[side].maxDate && calendar[row][col].isAfter(this.calendarVariables[side].maxDate, 'day')) {\n          classes.push('off', 'disabled');\n        }\n        // don't allow selection of date if a custom function decides it's invalid\n        if (this.isInvalidDate(calendar[row][col])) {\n          classes.push('off', 'disabled');\n        }\n        // highlight the currently selected start date\n        if (this.startDate && calendar[row][col].format('YYYY-MM-DD') === this.startDate.format('YYYY-MM-DD')) {\n          classes.push('active', 'start-date');\n        }\n        // highlight the currently selected end date\n        if (this.endDate !== null && calendar[row][col].format('YYYY-MM-DD') === this.endDate.format('YYYY-MM-DD')) {\n          classes.push('active', 'end-date');\n        }\n        // highlight dates in-between the selected dates\n        if (this.endDate !== null && calendar[row][col] > this.startDate && calendar[row][col] < this.endDate) {\n          classes.push('in-range');\n        }\n        // apply custom classes for this date\n        const isCustom = this.isCustomDate(calendar[row][col]);\n        if (isCustom !== false) {\n          if (typeof isCustom === 'string') {\n            classes.push(isCustom);\n          } else {\n            Array.prototype.push.apply(classes, isCustom);\n          }\n        }\n        // store classes var\n        let cname = '';\n        let disabled = false;\n        for (let i = 0; i < classes.length; i++) {\n          cname += classes[i] + ' ';\n          if (classes[i] === 'disabled') {\n            disabled = true;\n          }\n        }\n        if (!disabled) {\n          cname += 'available';\n        }\n        this.calendarVariables[side].classes[row][col] = cname.replace(/^\\s+|\\s+$/g, '');\n      }\n      this.calendarVariables[side].classes[row].classList = rowClasses.join(' ');\n    }\n  }\n\n  /**\n   * Find out if the current calendar row has current month days\n   * (as opposed to consisting of only previous/next month days)\n   */\n  hasCurrentMonthDays(currentMonth, row) {\n    for (let day = 0; day < 7; day++) {\n      if (row[day].month() === currentMonth) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n","import { ESCAPE, UP_ARROW } from '@angular/cdk/keycodes';\nimport { Overlay, OverlayConfig, OverlayRef, PositionStrategy, ScrollStrategyOptions } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { ChangeDetectorRef, ComponentRef, Directive, ElementRef, EventEmitter, forwardRef, Input, KeyValueDiffer, KeyValueDiffers, NgZone, Output, ViewContainerRef, OnDestroy } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport * as _moment from 'moment';\nimport { merge } from 'rxjs';\nimport { filter, take } from 'rxjs/operators';\nimport { DaterangepickerComponent } from './o-daterange-picker.component';\nconst moment = _moment;\n\n@Directive({\n  selector: 'input[o-daterange-input]',\n  host: {\n    '(keyup.esc)': 'close()',\n    '(blur)': 'onBlur()'\n  },\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ODaterangepickerDirective), multi: true\n    }\n  ]\n})\nexport class ODaterangepickerDirective implements OnDestroy {\n\n  private _onChange = Function.prototype;\n  private _onTouched = Function.prototype;\n  public _validatorChange = Function.prototype;\n  private _value: any;\n\n  public localeDiffer: KeyValueDiffer<string, any>;\n\n  @Input()\n  minDate: _moment.Moment = null;\n  @Input()\n  maxDate: _moment.Moment = null;\n  @Input()\n  showCustomRangeLabel: boolean;\n  @Input()\n  linkedCalendars: boolean;\n  @Input()\n  dateLimit: number = null;\n  @Input()\n  singleDatePicker: boolean;\n  @Input()\n  showWeekNumbers: boolean;\n  @Input()\n  showISOWeekNumbers: boolean;\n  @Input()\n  showDropdowns: boolean;\n  @Input()\n  isInvalidDate: () => boolean;\n  @Input()\n  isCustomDate: () => boolean;\n  // @Input()\n  // showClearButton: boolean;\n\n\n  @Input()\n  opens: string;\n  @Input()\n  drops: string;\n  firstMonthDayClass: string;\n  @Input()\n  lastMonthDayClass: string;\n  @Input()\n  emptyWeekRowClass: string;\n  @Input()\n  firstDayOfNextMonthClass: string;\n  @Input()\n  lastDayOfPreviousMonthClass: string;\n  @Input()\n  keepCalendarOpeningWithRange: boolean;\n  @Input()\n  showRangeLabelOnInput: boolean;\n  @Input()\n  showCancel: boolean = false;\n  // timepicker variables\n  @Input()\n  timePicker: boolean = false;\n  @Input()\n  showRanges: boolean = false;\n  @Input()\n  timePicker24Hour: boolean = false;\n  @Input()\n  timePickerIncrement: number = 1;\n  @Input()\n  timePickerSeconds: boolean = false;\n  _locale: any;\n  _separator: string;\n\n  @Input() set separator(value) {\n    if (value !== null) {\n      this._separator = value;\n      if (this._locale) {\n        this._locale.separator = value;\n      }\n    }\n  }\n\n  @Input() set locale(value) {\n    if (value !== null) {\n      this._locale = value;\n      if (this._separator) {\n        this._locale.separator = this._separator;\n      }\n    }\n  }\n  get locale(): any {\n    return this._locale;\n  }\n\n  @Input()\n  private _endKey: string = 'endDate';\n  private _startKey: string = 'startDate';\n\n  public ranges: any = {\n    'DATERANGE.today': [moment(), moment()],\n    'DATERANGE.yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\n    'DATERANGE.last_7days': [moment().subtract(6, 'days'), moment()],\n    'DATERANGE.last_30days': [moment().subtract(29, 'days'), moment()],\n    'DATERANGE.this_month': [moment().startOf('month'), moment().endOf('month')],\n    'DATERANGE.last_month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],\n    'DATERANGE.this_year': [moment().startOf('year'), moment().endOf('year')]\n  };\n\n  @Input()\n  oTouchUi: boolean = false;\n\n  @Input() set startKey(value) {\n    if (value && value !== null) {\n      this._startKey = value;\n    } else {\n      this._startKey = 'startDate';\n    }\n  }\n  get startKey(): string {\n    return this._startKey;\n  }\n  @Input() set endKey(value) {\n    if (value && value !== null) {\n      this._endKey = value;\n    } else {\n      this._endKey = 'endDate';\n    }\n  }\n  get endKey(): string {\n    return this._endKey;\n  }\n  notForChangesProperty: Array<string> = [\n    'locale',\n    'endKey',\n    'startKey'\n  ];\n\n  get value() {\n    return this._value || null;\n  }\n  set value(val) {\n    this._value = val;\n    this._onChange(val);\n    this._changeDetectorRef.markForCheck();\n  }\n  @Output() onChange: EventEmitter<object> = new EventEmitter();\n  @Output() rangeClicked: EventEmitter<object> = new EventEmitter();\n  @Output() datesUpdated: EventEmitter<object> = new EventEmitter();\n\n  private _popupComponentRef: ComponentRef<DaterangepickerComponent> | null;\n  private _calendarPortal: ComponentPortal<DaterangepickerComponent>;\n  _popupRef: OverlayRef;\n  private _dialogRef: MatDialogRef<DaterangepickerComponent> | null;\n\n  constructor(\n    private _dialog: MatDialog,\n    private _ngZone: NgZone,\n    private _overlay: Overlay,\n    public _viewContainerRef: ViewContainerRef,\n    public _changeDetectorRef: ChangeDetectorRef,\n    public _el: ElementRef,\n    private differs: KeyValueDiffers,\n    private scrollStrategy: ScrollStrategyOptions\n  ) {\n    this.drops = 'down';\n    this.opens = 'right';\n  }\n\n  initializeListeners(instance) {\n    instance.rangeClicked.asObservable().subscribe((range: any) => {\n      this.rangeClicked.emit(range);\n    });\n    instance.datesUpdated.asObservable().subscribe((range: any) => {\n      this.datesUpdated.emit(range);\n    });\n    instance.choosedDate.asObservable().subscribe((change: any) => {\n      if (change) {\n        const value = {};\n        value[this._startKey] = change.startDate;\n        value[this._endKey] = change.endDate;\n        this.value = value;\n        this.onChange.emit(value);\n        if (typeof change.chosenLabel === 'string') {\n          this._el.nativeElement.value = change.chosenLabel;\n        }\n      }\n    });\n    instance.firstMonthDayClass = this.firstMonthDayClass;\n    instance.lastMonthDayClass = this.lastMonthDayClass;\n    instance.emptyWeekRowClass = this.emptyWeekRowClass;\n    instance.firstDayOfNextMonthClass = this.firstDayOfNextMonthClass;\n    instance.lastDayOfPreviousMonthClass = this.lastDayOfPreviousMonthClass;\n    instance.drops = this.drops;\n    instance.opens = this.opens;\n    instance.minDate = this.minDate;\n    instance.maxDate = this.maxDate;\n    instance.locale = this.locale;\n    instance.showWeekNumbers = this.showWeekNumbers;\n\n    if (this.showRanges) {\n      instance.ranges = this.ranges;\n      instance.keepCalendarOpeningWithRange = true;\n      instance.alwaysShowCalendars = true;\n    }\n    this.localeDiffer = this.differs.find(this.locale).create();\n  }\n\n  // ngOnChanges(changes: SimpleChanges): void  {\n  //   for (let change in changes) {\n  //     if (changes.hasOwnProperty(change)) {\n  //       if (this.notForChangesProperty.indexOf(change) === -1) {\n  //         this.picker[change] = changes[change].currentValue;\n  //       }\n  //     }\n  //   }\n  // }\n\n  // ngDoCheck() {\n  //   if (this.localeDiffer) {\n  //     const changes = this.localeDiffer.diff(this.locale);\n  //     if (changes) {\n  //       this.picker.updateLocale(this.locale);\n  //     }\n  //   }\n  // }\n\n  onBlur() {\n    this._onTouched();\n  }\n\n  open() {\n    if (!this.oTouchUi) {\n      this.openAsPopup();\n\n    } else {\n      this.openAsDialog();\n    }\n  }\n\n  ngOnDestroy() {\n    this.close();\n\n    if (this._popupRef) {\n      this._popupRef.dispose();\n      this._popupComponentRef = null;\n    }\n  }\n\n  clear() {\n    this._popupComponentRef.instance.clear();\n  }\n\n  writeValue(value) {\n    this.setValue(value);\n  }\n  registerOnChange(fn) {\n    this._onChange = fn;\n  }\n  registerOnTouched(fn) {\n    this._onTouched = fn;\n  }\n\n  setValueInDateComponent(instance, val) {\n    if (val) {\n      if (val[this._startKey]) {\n        instance.setStartDate(val[this._startKey]);\n      }\n      if (val[this._endKey]) {\n        instance.setEndDate(val[this._endKey]);\n      }\n      instance.calculateChosenLabel();\n      if (instance.chosenLabel) {\n        this._el.nativeElement.value = instance.chosenLabel;\n      }\n    } else {\n      instance.clear();\n    }\n\n  }\n  private setValue(val: any) {\n    if (val) {\n      this.value = val;\n\n    }\n  }\n  /**\n   * Set position of the calendar\n   */\n  // setPosition() {\n  //   let style;\n  //   let containerTop;\n  //   const container = this.picker.pickerContainer.nativeElement;\n  //   const element = this._el.nativeElement;\n  //   if (this.drops && this.drops == 'up') {\n  //     containerTop = (element.offsetTop - container.clientHeight) + 'px';\n  //   } else {\n  //     containerTop = 'auto';\n  //   }\n  //   if (this.opens == 'left') {\n  //     style = {\n  //         top: containerTop,\n  //         left: (element.offsetLeft - container.clientWidth + element.clientWidth) + 'px',\n  //         right: 'auto'\n  //     };\n  //   } else if (this.opens == 'center') {\n  //       style = {\n  //         top: containerTop,\n  //         left: (element.offsetLeft  +  element.clientWidth / 2\n  //                 - container.clientWidth / 2) + 'px',\n  //         right: 'auto'\n  //       };\n  //   } else {\n  //       style = {\n  //         top: containerTop,\n  //         left: element.offsetLeft  + 'px',\n  //         right: 'auto'\n  //       }\n  //   }\n  //   if (style) {\n  //     this._renderer.setStyle(container, 'top', style.top);\n  //     this._renderer.setStyle(container, 'left', style.left);\n  //     this._renderer.setStyle(container, 'right', style.right);\n  //     this._renderer.setStyle(container, 'position', 'fixed');\n  //   }\n  // }\n  /**\n   * For click outside of the calendar's container\n   * @param event event object\n   * @param targetElement target element object\n   */\n  // @HostListener('document:click', ['$event', '$event.target'])\n  // outsideClick(event, targetElement: HTMLElement): void {\n  //     if (!targetElement) {\n  //       return;\n  //     }\n  //     if (targetElement.classList.contains('ngx-daterangepicker-action')) {\n  //       return;\n  //     }\n  //     const clickedInside = this._el.nativeElement.contains(targetElement);\n  //     if (!clickedInside) {\n  //        this.hide()\n  //     }\n  // }\n\n\n\n  /** */\n  public openAsPopup(): void {\n    if (!this._calendarPortal) {\n      this._calendarPortal = new ComponentPortal<DaterangepickerComponent>(DaterangepickerComponent,\n        this._viewContainerRef);\n    }\n\n    if (!this._popupRef) {\n      this._createPopup();\n    }\n\n\n    if (!this._popupRef.hasAttached()) {\n      this._popupComponentRef = this._popupRef.attach(this._calendarPortal);\n      this.initializeListeners(this._popupComponentRef.instance);\n      if (this.value) {\n        this.setValueInDateComponent(this._popupComponentRef.instance, this.value);\n      }\n\n      // Update the position once the calendar has rendered.\n      this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(() => {\n        this._popupRef.updatePosition();\n      });\n    }\n  }\n  /** Create the popup. */\n  private _createPopup(): void {\n    const overlayConfig = new OverlayConfig({\n      positionStrategy: this._createPopupPositionStrategy(),\n      hasBackdrop: true,\n      backdropClass: 'mat-overlay-transparent-backdrop',\n      direction: 'ltr',\n      panelClass: 'o-daterangepicker-popup',\n      scrollStrategy: this.scrollStrategy.close()\n    });\n\n    this._popupRef = this._overlay.create(overlayConfig);\n    this._popupRef.overlayElement.setAttribute('role', 'dialog');\n\n    merge(\n      this._popupRef.backdropClick(),\n      this._popupRef.detachments(),\n      this._popupRef.keydownEvents().pipe(filter(event => {\n        // Closing on alt + up is only valid when there's an input associated with the datepicker.\n        return event.keyCode === ESCAPE ||\n          (this._el && event.altKey && event.keyCode === UP_ARROW);\n      }))\n    ).subscribe(() => this.close());\n  }\n\n  private _createPopupPositionStrategy(): PositionStrategy {\n    return this._overlay.position()\n      .flexibleConnectedTo(this._el)\n      // .withTransformOriginOn('.mat-datepicker-content')\n      // .withFlexibleDimensions(false)\n      .withViewportMargin(8)\n      // .withLockedPosition()\n      .withPositions([\n        {\n          originX: 'start',\n          originY: 'bottom',\n          overlayX: 'start',\n          overlayY: 'top'\n        },\n        {\n          originX: 'start',\n          originY: 'top',\n          overlayX: 'start',\n          overlayY: 'bottom'\n        },\n        {\n          originX: 'end',\n          originY: 'bottom',\n          overlayX: 'end',\n          overlayY: 'top'\n        },\n        {\n          originX: 'end',\n          originY: 'top',\n          overlayX: 'end',\n          overlayY: 'bottom'\n        }\n      ]);\n  }\n\n\n  /** Open the calendar as a dialog. */\n  public openAsDialog(): void {\n    // Usually this would be handled by `open` which ensures that we can only have one overlay\n    // open at a time, however since we reset the variables in async handlers some overlays\n    // may slip through if the user opens and closes multiple times in quick succession (e.g.\n    // by holding down the enter key).\n    if (this._dialogRef) {\n      this._dialogRef.close();\n    }\n\n    this._dialogRef = this._dialog.open<DaterangepickerComponent>(DaterangepickerComponent, {\n      direction: 'ltr',\n      viewContainerRef: this._viewContainerRef,\n      panelClass: 'mat-datepicker-dialog',\n    });\n\n    this.initializeListeners(this._dialogRef.componentInstance);\n    if (this.value) {\n      this.setValueInDateComponent(this._dialogRef.componentInstance, this.value);\n    }\n    this._dialogRef.afterClosed().subscribe(() => this.close());\n    // this._dialogRef.componentInstance. = this;\n\n  }\n\n  close(): void {\n    if (this._popupRef && this._popupRef.hasAttached()) {\n      this._popupRef.detach();\n    }\n\n    if (this._dialogRef) {\n      this._dialogRef.close();\n    }\n\n    if (this._calendarPortal && this._calendarPortal.isAttached) {\n      this._calendarPortal.detach();\n    }\n  }\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnDestroy, OnInit, Optional, ViewChild } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\nimport * as _moment from 'moment';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { MomentService } from '../../../services/moment.service';\nimport { OTranslateService } from '../../../services/translate/o-translate.service';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { ODateValueType } from '../../../types/o-date-value.type';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormDataComponent } from '../../o-form-data-component.class';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { DEFAULT_INPUTS_O_DATE_INPUT } from '../date-input/o-date-input.component';\nimport { DEFAULT_OUTPUTS_O_TEXT_INPUT } from '../text-input/o-text-input.component';\nimport { ODaterangepickerDirective } from './o-daterange-input.directive';\nimport { DaterangepickerComponent } from './o-daterange-picker.component';\n\nexport const DEFAULT_OUTPUTS_O_DATERANGE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_INPUTS_O_DATERANGE_INPUT = [\n  'separator',\n  'showWeekNumbers:show-week-numbers',\n  'showRanges:show-ranges',\n  'olocale:locale',\n  'startKey',\n  'endKey',\n  'valueType: value-type',\n  ...DEFAULT_INPUTS_O_DATE_INPUT\n];\n\nconst moment = _moment;\n\n@Component({\n  selector: 'o-daterange-input',\n  templateUrl: './o-daterange-input.component.html',\n  styleUrls: ['./o-daterange-input.component.scss'],\n  outputs: DEFAULT_OUTPUTS_O_DATERANGE_INPUT,\n  inputs: DEFAULT_INPUTS_O_DATERANGE_INPUT\n})\nexport class ODateRangeInputComponent extends OFormDataComponent implements OnDestroy, OnInit {\n\n  @ViewChild(ODaterangepickerDirective, { static: true }) pickerDirective: ODaterangepickerDirective;\n  picker!: DaterangepickerComponent;\n\n  @ViewChild('matInputRef', { read: ElementRef, static: true })\n  private matInputRef!: ElementRef;\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n\n  @InputConverter()\n  public showWeekNumbers: boolean = false;\n\n  @InputConverter()\n  public oTouchUi: boolean = false;\n\n  @InputConverter()\n  public showRanges: boolean = false;\n\n  protected _oMinDate: _moment.Moment;\n  get oMinDate() {\n    return this._oMinDate;\n  }\n  set oMinDate(value) {\n    this._oMinDate = moment(value, this.oformat);\n  }\n\n  protected _oMaxDate: _moment.Moment;\n  get oMaxDate() {\n    return this._oMaxDate;\n  }\n  set oMaxDate(value) {\n    this._oMaxDate = moment(value, this.oformat);\n  }\n\n  protected _startKey: string = 'startDate';\n  get startKey() {\n    return this._startKey;\n  }\n  set startKey(value) {\n    this._startKey = value;\n  }\n\n  protected _endKey: string = 'endDate';\n  get endKey() {\n    return this._endKey;\n  }\n  set endKey(value) {\n    this._endKey = value;\n  }\n\n  protected _valueType: ODateValueType = 'timestamp';\n\n  protected _separator = ' - ';\n  get separator() {\n    return this._separator;\n  }\n\n  set separator(value) {\n    this._separator = value;\n    if (this.getFormControl() && this.getFormControl().value) {\n      this.updateElement();\n    }\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.matInputRef.nativeElement.value;\n  }\n\n  get localeOptions() {\n    return this._localeOptions;\n  }\n\n  public oformat: string = 'L';\n  protected _localeOptions: any;\n  protected olocale: string;\n\n  private momentSrv: MomentService;\n  private oTranslate: OTranslateService;\n\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.oTranslate = this.injector.get(OTranslateService);\n    this.momentSrv = this.injector.get(MomentService);\n    if (!this.olocale) {\n      this.olocale = this.momentSrv.getLocale();\n      moment.locale(this.olocale);\n    }\n    this._localeOptions = {\n      direction: 'ltr',\n      separator: ' - ',\n      weekLabel: this.oTranslate.get('DATERANGE.W'),\n      applyLabel: this.oTranslate.get('DATERANGE.APPLYLABEL'),\n      cancelLabel: this.oTranslate.get('CANCEL'),\n      customRangeLabel: 'Custom range',\n      daysOfWeek: moment.localeData().weekdaysMin(),\n      monthNames: moment.localeData().monthsShort(),\n      firstDay: moment.localeData().firstDayOfWeek(),\n      format: 'L'\n    };\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    if (this.oformat) {\n      this._localeOptions.format = this.oformat;\n    }\n  }\n\n  public openPicker() {\n    this.pickerDirective.open();\n  }\n\n  public onChangeEvent(event: any): void {\n    let objectValue;\n    if (event instanceof Event) {\n      const value = (event.target as HTMLInputElement).value;\n      if (value !== '') {\n        objectValue = this.getDateRangeToString(value);\n      }\n    } else {\n      objectValue = event;\n    }\n\n    this.setValue(objectValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n\n  }\n\n  public setValue(val: any, options: FormValueOptions = {}, setDirty: boolean = false) {\n    super.setValue(val, options, setDirty);\n    this.updateElement();\n  }\n\n  public onClickClearValue(e: Event): void {\n    super.onClickClearValue(e);\n    this.pickerDirective.value = undefined;\n    this.pickerDirective.datesUpdated.emit();\n  }\n\n  datesUpdated(range) {\n    this.pickerDirective.close();\n    this.setValue(range,\n      {\n        changeType: OValueChangeEvent.USER_CHANGE,\n        emitEvent: false,\n        emitModelToViewChange: false\n      });\n  }\n\n  public setData(newValue: any): void {\n    super.setData(newValue);\n    this.pickerDirective.datesUpdated.emit(newValue);\n    this.updateElement();\n  }\n\n  updateElement() {\n    let chosenLabel: any;\n    if (Util.isDefined(this.value) && Util.isDefined(this.value.value) && !this.isObjectDataRangeNull(this.value)) {\n      if (this.value.value[this.pickerDirective.startKey] && this.value.value[this.pickerDirective.endKey]) {\n        this.value.value[this.pickerDirective.startKey] = this.ensureDateRangeValue(this.value.value[this.pickerDirective.startKey], this._valueType);\n        this.value.value[this.pickerDirective.endKey]  = this.ensureDateRangeValue(this.value.value[this.pickerDirective.endKey], this._valueType);\n        chosenLabel = this.value.value[this.pickerDirective.startKey].format(this.oformat) +\n          this.separator + this.value.value[this.pickerDirective.endKey].format(this.oformat);\n      } else {\n        chosenLabel = null;\n      }\n    } else {\n      chosenLabel = null;\n      this.pickerDirective.value = undefined;\n    }\n    this.pickerDirective._el.nativeElement.value = chosenLabel;\n  }\n\n\n  getDateRangeToString(valueToString: string) {\n    const value = {};\n    const range = valueToString.split(this.separator);\n    value[this._startKey] = moment(range[0].trim(), this.oformat);\n    value[this._endKey] = moment(range[1].trim(), this.oformat);\n    return value;\n  }\n\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n\n    validators.push(this.rangeDateValidator.bind(this));\n    if (Util.isDefined(this._oMinDate)) {\n      validators.push(this.minDateValidator.bind(this));\n    }\n    if (Util.isDefined(this._oMaxDate)) {\n      validators.push(this.maxDateValidator.bind(this));\n    }\n\n    validators.push(this.parseDateValidator.bind(this));\n    return validators;\n  }\n\n  isObjectDataRangeNull(objectValue): boolean {\n    return objectValue !== null && objectValue.value !== null &&\n      !Util.isDefined(objectValue.value[this.pickerDirective.startKey]) &&\n      !Util.isDefined(objectValue.value[this.pickerDirective.endKey]);\n  }\n\n\n  protected rangeDateValidator(control: FormControl): ValidationErrors {\n\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._endKey].isSameOrBefore(control.value[this._startKey])) {\n      return {\n        dateRange: true\n      };\n    }\n    return {};\n  }\n\n  protected minDateValidator(control: FormControl): ValidationErrors {\n    const mindate = moment(this._oMinDate);\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._startKey].isBefore(mindate)) {\n      return {\n        dateRangeMin: {\n          dateMin: mindate.format(this.oformat)\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxDateValidator(control: FormControl): ValidationErrors {\n    const maxdate = moment(this._oMaxDate);\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._endKey].isAfter(maxdate)) {\n      return {\n        dateRangeMax: {\n          dateMax: maxdate.format(this.oformat)\n        }\n      };\n    }\n    return {};\n  }\n  protected parseDateValidator(control: FormControl): ValidationErrors {\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control)\n      && ((control.value[this._startKey] && !control.value[this._startKey].isValid())\n        || (control.value[this._endKey] && !control.value[this._endKey].isValid()))) {\n      return {\n        dateRangeParse: {\n          format: this.oformat + this._localeOptions.separator + this.oformat\n        }\n      };\n    }\n    return {};\n  }\n\n  ensureDateRangeValue(val: any, valueType: any): void {\n    if (!Util.isDefined(val)) {\n      return val;\n    }\n    let result = val;\n    if(!moment.isMoment(val)) {\n      switch (valueType) {\n        case 'string':\n        case 'date':\n          if ( (val instanceof Date) || typeof val ==='string' ) {\n            const dateString = moment(val).format('YYYY-MM-DDThh:mm') + 'Z';\n            const q = moment(dateString);\n            if (q.isValid()) {\n              result = q;\n            } else {\n              result = undefined;\n            }\n          } else {\n            result = undefined;\n          }\n          break;\n        case 'timestamp':\n          if ( typeof val === 'number') {\n            const dateString = moment.unix(val).format('YYYY-MM-DDThh:mm') + 'Z';\n            const t = moment(dateString);\n            if (t.isValid()) {\n              result = t;\n            } else {\n              result = undefined;\n            }\n          } else {\n            result = val;\n          }\n          break;\n        case 'iso-8601':\n          const m = moment(val);\n          if (m.isValid()) {\n            result = m;\n          } else {\n            result = undefined;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    if (!Util.isDefined(result)) {\n      console.warn(`ODateRangeInputComponent value (${val}) is not consistent with value-type (${valueType})`);\n    }\n    return result;\n  }\n\n  set valueType(val: any) {\n    this._valueType = Util.convertToODateValueType(val);\n  }\n\n  get valueType(): any {\n    return this._valueType;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ODateRangeInputComponent } from './o-daterange-input.component';\nimport { ODaterangepickerDirective } from './o-daterange-input.directive';\nimport { DaterangepickerComponent } from './o-daterange-picker.component';\n\n@NgModule({\n  declarations: [DaterangepickerComponent, ODateRangeInputComponent, ODaterangepickerDirective],\n  imports: [CommonModule, OSharedModule],\n  exports: [ODateRangeInputComponent],\n  entryComponents: [DaterangepickerComponent]\n})\nexport class ODateRangeInputModule { }\n","import { FormControl, ValidationErrors } from '@angular/forms';\n\nconst EMAIL_REGEXP = /[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/;\n\n// NIF Regular Expressions\nconst DNI_PATTERN = '^(([0-9]{8})([-]?)([a-zA-Z]{1}))$';\nconst NIE_PATTERN = '^(([x-zX-Z]{1})([-]?)([0-9]{7})([-]?)([a-zA-Z]{1}))$';\nconst DNI_CHECK = 'TRWAGMYFPDXBNJZSQVHLCKET';\nconst NUMBERS = '0123456789';\nexport const TWELVE_HOUR_FORMAT_PATTERN = '^(([0-9]|([01]?[0-9])):([0-9]|([0-5][0-9])) *([AaPp][Mm])*)$';\nexport const TWENTY_FOUR_HOUR_FORMAT_PATTERN = '^([0-9]|([01]?[0-9]|2[0-3])):[0-9]|([0-5][0-9])$';\n\nexport class OValidators {\n\n  /**\n   * Hour validator hh:mm am/pm format\n   */\n  public static twelveHourFormatValidator(control: FormControl): ValidationErrors {\n    const regExp = new RegExp(TWELVE_HOUR_FORMAT_PATTERN);\n    if (control.value && typeof control.value === 'string' && !regExp.test(control.value)) {\n      return { invalidFormatHour: true };\n    }\n    return {};\n  }\n\n  /**\n   * Hour validator HH:mm format\n   */\n  public static twentyFourHourFormatValidator(control: FormControl): ValidationErrors {\n    const regExp = new RegExp(TWENTY_FOUR_HOUR_FORMAT_PATTERN);\n    if (control.value && typeof control.value === 'string' && !regExp.test(control.value)) {\n      return { invalidFormatHour: true };\n    }\n    return {};\n  }\n\n  /**\n   * Email validator\n   */\n  public static emailValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && !EMAIL_REGEXP.test(control.value)) {\n      return { invalidEmailAddress: true };\n    }\n    return {};\n  }\n\n  /**\n   * NIF validator\n   */\n  public static nifValidator(control: FormControl): ValidationErrors {\n    const newValue = control.value;\n    const regExp = new RegExp(DNI_PATTERN + '|' + NIE_PATTERN);\n\n    // removing dashes\n    let valueWithoutDashes = '';\n    for (const i in newValue) {\n      if (newValue[i] !== '-') {\n        valueWithoutDashes = valueWithoutDashes + newValue[i];\n      }\n    }\n    if (valueWithoutDashes.length > 1) {\n      const firstChar = valueWithoutDashes.charAt(0);\n      if (NUMBERS.indexOf(firstChar) !== -1) {\n        const number = valueWithoutDashes.substring(0, valueWithoutDashes.length - 1);\n        const pos = parseInt(number, 10) % 23;\n        const expectedLetter = DNI_CHECK.substring(pos, pos + 1);\n        const letter = valueWithoutDashes.charAt(valueWithoutDashes.length - 1);\n        const dniLetterError = (expectedLetter !== letter.toUpperCase());\n        if (dniLetterError) {\n          return { invalidNIFLetter: true };\n        } else {\n          if (!regExp.test(valueWithoutDashes)) {\n            return { invalidNIF: true };\n          }\n        }\n      } else {\n        if (!regExp.test(valueWithoutDashes)) {\n          return { invalidNIF: true };\n        }\n      }\n    }\n    return undefined;\n  }\n\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnInit, Optional, ViewEncapsulation } from '@angular/core';\nimport { ValidatorFn } from '@angular/forms';\n\nimport { OValidators } from '../../../validators/o-validators';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  OTextInputComponent,\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_EMAIL_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_EMAIL_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-email-input',\n  templateUrl: './o-email-input.component.html',\n  styleUrls: ['./o-email-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_EMAIL_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_EMAIL_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OEmailInputComponent extends OTextInputComponent implements OnInit {\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    // Inject email validator\n    validators.push(OValidators.emailValidator);\n    return validators;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextInputModule } from '../text-input/o-text-input.module';\nimport { OEmailInputComponent } from './o-email-input.component';\n\n@NgModule({\n  declarations: [OEmailInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [OEmailInputComponent]\n})\nexport class OEmailInputModule {\n}\n","import { Subscription } from 'rxjs';\n\nimport { OFileUploader } from './o-file-uploader.class';\n\nexport class OFileItem {\n\n  public index: number = void 0;\n  public isReady: boolean = false;\n  public isUploading: boolean = false;\n  public isUploaded: boolean = false;\n  public isSuccess: boolean = false;\n  public isCancel: boolean = false;\n  public isError: boolean = false;\n  public progress: number = 0;\n  public _uploadSuscription: Subscription;\n\n  protected uploader: OFileUploader;\n  protected _file: File;\n\n  constructor(file: File, uploader: OFileUploader) {\n    this._file = file;\n    this.uploader = uploader;\n  }\n\n  public upload(): void {\n    this.uploader.uploadItem(this);\n  }\n\n  public cancel(): void {\n    this.uploader.cancelItem(this);\n  }\n\n  public remove(): void {\n    this.uploader.removeFile(this);\n  }\n\n  public prepareToUpload(): void {\n    this.index = this.index || ++this.uploader.nextIndex;\n    this.isReady = true;\n  }\n\n  get file(): File {\n    return this._file;\n  }\n\n  get name(): string {\n    return this._file.name;\n  }\n\n  get size(): number {\n    return this._file.size;\n  }\n\n  get type(): string {\n    return this._file.type;\n  }\n\n  get lastModifiedDate(): any {\n    return this._file.lastModified;\n  }\n\n  public _onBeforeUpload(notify: boolean = true): void {\n    this.isReady = true;\n    this.isUploading = true;\n    this.isUploaded = false;\n    this.isSuccess = false;\n    this.isCancel = false;\n    this.isError = false;\n    this.progress = 0;\n    if (notify) {\n      this.onBeforeUpload();\n    }\n  }\n\n  public _onProgress(progress: number): void {\n    this.progress = progress;\n    this.onProgress(progress);\n  }\n\n  public _onSuccess(data: any, notify: boolean = true): void {\n    this.index = void 0;\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = true;\n    this.isSuccess = true;\n    this.isCancel = false;\n    this.isError = false;\n    this.progress = 100;\n    if (notify) {\n      this.onSuccess(data);\n    }\n  }\n\n  public _onError(error: any, notify: boolean = true): void {\n    this.index = void 0;\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = true;\n    this.isSuccess = false;\n    this.isCancel = false;\n    this.isError = true;\n    this.progress = 0;\n    if (notify) {\n      this.onError(error);\n    }\n  }\n\n  public _onCancel(notify: boolean = true): void {\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = false;\n    this.isSuccess = false;\n    this.isCancel = true;\n    this.isError = false;\n    this.progress = 0;\n    this.index = void 0;\n    if (notify) {\n      this.onCancel();\n    }\n  }\n\n  public _onComplete(notify: boolean = true): void {\n    if (notify) {\n      this.onComplete();\n    }\n  }\n\n  public onBeforeUpload(): any {\n    return {};\n  }\n\n  public onProgress(progress: number): any {\n    return { progress };\n  }\n\n  public onSuccess(data: any): any {\n    return { data };\n  }\n\n  public onError(error: any): any {\n    return { error };\n  }\n\n  public onCancel(): any {\n    return {};\n  }\n\n  public onComplete(): any {\n    return {};\n  }\n\n  get pendingUpload(): boolean {\n    return !this.isUploaded && !this.isUploading && !this.isCancel;\n   }\n\n}\n","import { Subscription } from 'rxjs';\n\nimport { IFileService } from '../../../interfaces/file-service.interface';\nimport { Codes } from '../../../util/codes';\nimport { OFileItem } from './o-file-item.class';\n\nexport class OFileUploader {\n\n  public entity: string;\n  public files: OFileItem[] = [];\n  public isUploading: boolean = false;\n  public progress: number = 0;\n  public nextIndex: number = 0;\n  public splitUpload: boolean = true;\n  public data: object;\n\n  protected _uploadSuscription: Subscription;\n\n  constructor(\n    protected service: IFileService,\n    entity: string\n  ) {\n    this.entity = entity;\n  }\n\n  public addFile(fileItem: OFileItem): void {\n    this.files.push(fileItem);\n    this.progress = this._getTotalProgress();\n  }\n\n  /**\n   * Cancels the upload of all files and remove them from the file list.\n   */\n  clear(): void {\n    this.cancel();\n    while (this.files.length) {\n      this.files[0].remove();\n    }\n    this.progress = 0;\n  }\n\n  /**\n   * Removes a file from the file list, it cancels upload if needed.\n   * @param value the file to remove\n   */\n  removeFile(value: any): void {\n    const index = this.getIndexOfItem(value);\n    const item = this.files[index];\n    if (item) {\n      if (item.isUploading) {\n        item.cancel();\n      }\n      this.files.splice(index, 1);\n      this.progress = this._getTotalProgress();\n    }\n  }\n\n  public upload(): void {\n    this.files.forEach((item: OFileItem) => {\n      if (item.pendingUpload) {\n        item.prepareToUpload();\n      }\n    });\n    if (this.splitUpload) {\n      this.files.forEach((item: OFileItem) => {\n        if (item.pendingUpload) {\n          this.uploadItem(item);\n        }\n      });\n    } else {\n      this.uploadItems(this.files);\n    }\n  }\n\n  /**\n   * Uploads a single file on a single request.\n   * @param item the file to upload\n   */\n  public uploadItem(item: OFileItem): void {\n    item.prepareToUpload();\n    if (this.isUploading || item.isUploading) {\n      return;\n    }\n    this.isUploading = true;\n    item.isUploading = true;\n\n    this._onBeforeUploadItem(item);\n\n    if (this.service === undefined) {\n      console.warn('No service configured! aborting upload');\n      return;\n    }\n    if (this._uploadSuscription) {\n      this._uploadSuscription.unsubscribe();\n    }\n\n    const self = this;\n    this._uploadSuscription = item._uploadSuscription = this.service.upload([item], this.entity, this.data).subscribe(\n      resp => {\n        if (resp.loaded && resp.total) {\n          const progress = Math.round(resp.loaded * 100 / resp.total);\n          self._onProgressItem(item, progress);\n        } else if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self._onSuccessItem(item, resp);\n        } else {\n          console.error('uploadItem error');\n          self._onErrorItem(item, 'Unknow error');\n        }\n      },\n      err => self._onErrorItem(item, err),\n      () => self._onCompleteItem(item)\n    );\n  }\n\n  /**\n   * Upload a set of files on a single request.\n   * @param items the array of files to upload\n   */\n  public uploadItems(items: OFileItem[]): void {\n    if (this.isUploading || items.some(item => item.isUploading)) {\n      return;\n    }\n    this.isUploading = true;\n\n    this._onBeforeUploadAll();\n\n    if (this.service === undefined) {\n      console.warn('No service configured! aborting upload');\n      return;\n    }\n    if (this._uploadSuscription) {\n      this._uploadSuscription.unsubscribe();\n    }\n\n    const self = this;\n    this._uploadSuscription = this.service.upload(items, this.entity, this.data).subscribe(resp => {\n      if (resp.loaded && resp.total) {\n        const progress = Math.round(resp.loaded * 100 / resp.total);\n        self._onProgressAll(progress);\n      } else if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        self._onSuccessAll(resp);\n      } else {\n        console.error('uploadItems error');\n      }\n    },\n      err => self._onErrorAll(err),\n      () => self._onCompleteAll()\n    );\n  }\n\n  /**\n   * Cancels the upload of all files.\n   */\n  public cancel(): void {\n    if (this.splitUpload) {\n      this.files.forEach(item => item.cancel());\n    } else {\n      if (this._uploadSuscription) {\n        this._uploadSuscription.unsubscribe();\n      }\n      this._onCancelAll();\n      this._onCompleteAll();\n    }\n  }\n\n  /**\n   * Cancels the the file upload.\n   * @param value the file to cancel its upload\n   */\n  public cancelItem(value: OFileItem): void {\n    const index = this.getIndexOfItem(value);\n    const item = this.files[index];\n    if (item && item.isUploading && this.splitUpload) {\n      item._uploadSuscription.unsubscribe();\n    }\n    this._onCancelItem(item);\n    this._onCompleteItem(item);\n  }\n\n  public getNotUploadedItems(): OFileItem[] {\n    return this.files.filter((item: OFileItem) => !item.isUploaded);\n  }\n\n  public getIndexOfItem(value: any): number {\n    return typeof value === 'number' ? value : this.files.indexOf(value);\n  }\n\n  public onBeforeUploadItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onBeforeUploadAll(): any {\n    return {};\n  }\n\n  public onProgressItem(fileItem: OFileItem, progress: any): any {\n    return { fileItem, progress };\n  }\n\n  public onProgressAll(progress: any): any {\n    return { progress };\n  }\n\n  public onCancelItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onCancelAll(): any {\n    return {};\n  }\n\n  public onSuccessItem(fileItem: OFileItem, response: any): any {\n    return { fileItem, response };\n  }\n\n  public onSuccessAll(response: any): any {\n    return { response };\n  }\n\n  public onErrorItem(fileItem: OFileItem, error: any): any {\n    return { fileItem, error };\n  }\n\n  public onErrorAll(error: any): any {\n    return { error };\n  }\n\n  public onCompleteItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onCompleteAll(): any {\n    return void 0;\n  }\n\n  protected _onBeforeUploadItem(item: OFileItem): void {\n    item._onBeforeUpload();\n    this.onBeforeUploadItem(item);\n  }\n\n  protected _onBeforeUploadAll(): void {\n    this.files.forEach(item => item._onBeforeUpload(false));\n    this.onBeforeUploadAll();\n  }\n\n  protected _onProgressItem(item: OFileItem, progress: number): void {\n    const total = this._getTotalProgress(progress);\n    this.progress = total;\n    item._onProgress(progress);\n    this.onProgressItem(item, progress);\n    this.onProgressAll(total);\n  }\n\n  protected _onProgressAll(progress: number): void {\n    const total = this._getTotalProgress(progress);\n    this.progress = total;\n    this.onProgressAll(total);\n  }\n\n  protected _onSuccessItem(item: OFileItem, response: any): void {\n    item._onSuccess(response);\n    this.onSuccessItem(item, response);\n  }\n\n  protected _onSuccessAll(response: any): void {\n    this.files.forEach(item => item._onSuccess(response, false));\n    this.onSuccessAll(response);\n  }\n\n  protected _onErrorItem(item: OFileItem, error: any): void {\n    item._onError(error);\n    this.onErrorItem(item, error);\n  }\n\n  protected _onErrorAll(error: any): void {\n    this.files.forEach(item => item._onError(error, false));\n    this.onErrorAll(error);\n  }\n\n  protected _onCancelItem(item: OFileItem): void {\n    item._onCancel();\n    this.onCancelItem(item);\n  }\n\n  protected _onCancelAll(): void {\n    this.files.forEach(item => item._onCancel(false));\n    this.onCancelAll();\n  }\n\n  protected _onCompleteItem(item: OFileItem): void {\n    item._onComplete();\n    this.onCompleteItem(item);\n    const nextItem = this._getReadyItems()[0];\n    this.isUploading = false;\n    if (nextItem) {\n      nextItem.upload();\n      return;\n    }\n    this.onCompleteAll();\n    this.progress = this._getTotalProgress();\n  }\n\n  protected _onCompleteAll(): void {\n    this.files.forEach(item => item._onComplete(false));\n    this.isUploading = false;\n    this.onCompleteAll();\n    this.progress = this._getTotalProgress();\n  }\n\n  protected _getReadyItems(): OFileItem[] {\n    return this.files\n      .filter((item: OFileItem) => (item.isReady && !item.isUploading))\n      .sort((item1: OFileItem, item2: OFileItem) => item1.index - item2.index);\n  }\n\n  protected _getTotalProgress(value: number = 0): number {\n    const notUploaded = this.getNotUploadedItems().length;\n    const uploaded = notUploaded ? this.files.length - notUploaded : this.files.length;\n    const ratio = this.splitUpload ? 100 / this.files.length : 100;\n    const current = value * ratio / 100;\n    return Math.round(uploaded * ratio + current);\n  }\n\n}\n","import { Component, ElementRef, EventEmitter, forwardRef, Inject, Injector, OnInit, Optional, ViewChild } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { IFileService } from '../../../interfaces/file-service.interface';\nimport { fileServiceFactory } from '../../../services/factories';\nimport { OntimizeFileService } from '../../../services/ontimize/ontimize-file.service';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { OFileItem } from './o-file-item.class';\nimport { OFileUploader } from './o-file-uploader.class';\n\nexport const DEFAULT_INPUTS_O_FILE_INPUT = [\n  'oattr: attr',\n  'olabel: label',\n  'floatLabel: float-label',\n  'oplaceholder: placeholder',\n  'tooltip',\n  'tooltipPosition: tooltip-position',\n  'tooltipShowDelay: tooltip-show-delay',\n  'tooltipHideDelay: tooltip-hide-delay',\n  'enabled',\n  'orequired: required',\n  'service',\n  'entity',\n  'serviceType : service-type',\n  'width',\n  'readOnly: read-only',\n  'clearButton: clear-button',\n\n  // accept-file-type [string]: file types allowed on the file input, separated by ';'. Default: no value.\n  // file_extension, audio/*, video/*, image/*, media_type. See https://www.w3schools.com/tags/att_input_accept.asp\n  'acceptFileType: accept-file-type',\n\n  // max-file-size [number]: maximum file size allowed, in bytes. Default: no value.\n  'maxFileSize: max-file-size',\n\n  // multiple [boolean]: multiple file selection allowed. Default: no.\n  'multiple',\n\n  // max-files [number]: maximum number of files allowed. Default: -1.\n  'maxFiles: max-files',\n\n  // show-info [boolean]: show files information. Default: no.\n  'showInfo: show-info',\n\n  // split-upload [boolean]: each file is uploaded in a request (true) or all files are uploaded in a single request (false). Default: yes.\n  'splitUpload: split-upload',\n\n  // additional-data [JSON]: used to send aditional information in the upload request.\n  'additionalData: additional-data',\n  'appearance',\n  'hideRequiredMarker:hide-required-marker',\n  'labelVisible:label-visible'\n];\n\nexport const DEFAULT_OUTPUTS_O_FILE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  'onBeforeUpload',\n  'onBeforeUploadFile',\n  'onProgress',\n  'onProgressFile',\n  'onCancel',\n  'onCancelFile',\n  'onUpload',\n  'onUploadFile',\n  'onComplete',\n  'onCompleteFile',\n  'onError',\n  'onErrorFile'\n];\n\n@Component({\n  selector: 'o-file-input',\n  templateUrl: './o-file-input.component.html',\n  styleUrls: ['./o-file-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_FILE_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_FILE_INPUT,\n  providers: [\n    { provide: OntimizeFileService, useFactory: fileServiceFactory, deps: [Injector] }\n  ]\n})\nexport class OFileInputComponent extends OFormDataComponent implements OnInit {\n\n  public uploader: OFileUploader;\n  public fileService: IFileService;\n  @ViewChild('inputFile', { static: false })\n  public inputFile: ElementRef;\n\n  public autoBinding: boolean = false;\n  public autoRegistering: boolean = false;\n  @InputConverter()\n  public showInfo: boolean = false;\n  @InputConverter()\n  public multiple: boolean = false;\n  @InputConverter()\n  public splitUpload: boolean = true;\n  public acceptFileType: string;\n  public maxFileSize: number;\n  @InputConverter()\n  public maxFiles: number = -1;\n\n  public onBeforeUpload: EventEmitter<any> = new EventEmitter<any>();\n  public onBeforeUploadFile: EventEmitter<any> = new EventEmitter<any>();\n  public onProgress: EventEmitter<any> = new EventEmitter<any>();\n  public onProgressFile: EventEmitter<any> = new EventEmitter<any>();\n  public onCancel: EventEmitter<any> = new EventEmitter<any>();\n  public onCancelFile: EventEmitter<any> = new EventEmitter<any>();\n  public onUpload: EventEmitter<any> = new EventEmitter<any>();\n  public onUploadFile: EventEmitter<any> = new EventEmitter<any>();\n  public onComplete: EventEmitter<any> = new EventEmitter<any>();\n  public onCompleteFile: EventEmitter<any> = new EventEmitter<any>();\n  public onError: EventEmitter<any> = new EventEmitter<any>();\n  public onErrorFile: EventEmitter<any> = new EventEmitter<any>();\n\n  protected service: string;\n  protected entity: string;\n  protected serviceType: string;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector,\n  ) {\n    super(form, elRef, injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.initialize();\n\n    this.uploader.onBeforeUploadAll = () => this.onBeforeUpload.emit();\n    this.uploader.onBeforeUploadItem = item => this.onBeforeUploadFile.emit(item);\n    this.uploader.onProgressAll = progress => this.onProgress.emit(progress);\n    this.uploader.onProgressItem = (item, progress) => this.onProgressFile.emit({ item: item, progress: progress });\n    this.uploader.onCancelAll = () => this.onCancel.emit();\n    this.uploader.onCancelItem = item => this.onCancelFile.emit();\n    this.uploader.onSuccessAll = response => this.onUpload.emit({ response: response });\n    this.uploader.onSuccessItem = (item, response) => this.onUploadFile.emit({ item: item, response: response });\n    this.uploader.onCompleteAll = () => this.onComplete.emit();\n    this.uploader.onCompleteItem = item => this.onCompleteFile.emit(item);\n    this.uploader.onErrorAll = error => this.onError.emit(error);\n    this.uploader.onErrorItem = (item, error) => this.onErrorFile.emit({ item: item, error: error });\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (!this.service) {\n      this.service = this.form.service;\n    }\n    if (!this.entity) {\n      this.entity = this.form.entity;\n    }\n\n    this.configureService();\n    this.uploader = new OFileUploader(this.fileService, this.entity);\n    this.uploader.splitUpload = this.splitUpload;\n  }\n\n  public configureService(): void {\n    let loadingService: any = OntimizeFileService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.fileService = this.injector.get<OntimizeFileService>(loadingService);\n      if (this.fileService) {\n        const serviceCfg: any = this.fileService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.fileService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (this.acceptFileType) {\n      validators.push(this.filetypeValidator.bind(this));\n    }\n    if (this.maxFileSize) {\n      validators.push(this.maxFileSizeValidator.bind(this));\n    }\n    if (this.multiple && this.maxFiles !== -1) {\n      validators.push(this.maxFilesValidator.bind(this));\n    }\n    return validators;\n  }\n\n  public fileSelected(event: Event): void {\n    let value: string = '';\n    if (event) {\n      const target: any = event.target || event.srcElement;\n      if (target.files.length > 0) {\n        const files: FileList = target.files;\n        if (!this.multiple) {\n          this.uploader.clear();\n        }\n        for (let i = 0, f: File; i < files.length; i++) {\n          f = files[i];\n          const fileItem: OFileItem = new OFileItem(f, this.uploader);\n          this.uploader.addFile(fileItem);\n        }\n        value = this.uploader.files.map(file => file.name).join(', ');\n\n        window.setTimeout(() => {\n          this.setValue(value !== '' ? value : undefined, { changeType: OValueChangeEvent.USER_CHANGE });\n          if (this._fControl) {\n            this._fControl.markAsTouched();\n          }\n        }, 0);\n      }\n    }\n  }\n\n  /**\n   * Override super.onClickClearValue();\n   * super.clearValue() vs super.onClickClearValue()\n   *  * super.clearValue() emit OValueChangeEvent.PROGRAMMATIC_CHANGE\n   *  * super.onClickClearValue() emit OValueChangeEvent.USER_CHANGE\n   */\n  public onClickClearValue(e: Event): void {\n    super.onClickClearValue(e);\n    this.uploader.clear();\n  }\n\n  /**\n   * Override super.clearValue();\n   */\n  public clearValue(): void {\n    super.clearValue();\n    this.uploader.clear();\n  }\n\n  public onClickUpload(e: Event): void {\n    e.stopPropagation();\n    if (this.isValid) {\n      this.upload();\n    }\n  }\n\n  public upload(): void {\n    this.uploader.upload();\n  }\n\n  get files(): OFileItem[] {\n    return this.uploader.files;\n  }\n\n  get additionalData(): any {\n    if (this.uploader) {\n      return this.uploader.data;\n    }\n    return null;\n  }\n\n  set additionalData(data: any) {\n    if (this.uploader) {\n      this.uploader.data = data;\n    }\n  }\n\n  public innerOnChange(event: any): void {\n    this.ensureOFormValue(event);\n    if (this._fControl && this._fControl.touched) {\n      this._fControl.markAsDirty();\n    }\n    this.onChange.emit(event);\n  }\n\n  protected filetypeValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.acceptFileType) {\n      const regex: RegExp = new RegExp(this.acceptFileType.replace(';', '|'));\n      if (!this.files.every(file => file.type.match(regex) !== null || file.name.substr(file.name.lastIndexOf('.')).match(regex) !== null)) {\n        return {\n          fileType: {\n            allowedFileTypes: this.acceptFileType.replace(';', ', ')\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxFileSizeValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.maxFileSize) {\n      if (!this.files.every(file => file.size < this.maxFileSize)) {\n        return {\n          fileSize: {\n            maxFileSize: this.maxFileSize\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxFilesValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.multiple && this.maxFiles !== -1) {\n      if (this.maxFiles < this.files.length) {\n        return {\n          numFile: {\n            maxFiles: this.maxFiles\n          }\n        };\n      }\n    }\n    return {};\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OFileInputComponent } from './o-file-input.component';\n\n@NgModule({\n  declarations: [OFileInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OFileInputComponent]\n})\nexport class OFileInputModule { }\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ValidatorFn } from '@angular/forms';\nimport moment from 'moment';\nimport { NgxMaterialTimepickerComponent } from 'ngx-material-timepicker';\n\nimport { InputConverter, NumberConverter } from '../../../decorators/input-converter';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OValidators } from '../../../validators/o-validators';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../../o-form-data-component.class';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\n\nexport type OHourValueType = 'string' | 'timestamp';\n\nexport const DEFAULT_INPUTS_O_HOUR_INPUT = [\n  'format',\n  'textInputEnabled: text-input-enabled',\n  'min',\n  'max',\n  'valueType: value-type',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_HOUR_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-hour-input',\n  templateUrl: './o-hour-input.component.html',\n  styleUrls: ['./o-hour-input.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  outputs: DEFAULT_OUTPUTS_O_HOUR_INPUT,\n  inputs: DEFAULT_INPUTS_O_HOUR_INPUT,\n  host: {\n    '[class.o-hour-input]': 'true'\n  }\n})\nexport class OHourInputComponent extends OFormDataComponent implements OnInit, AfterViewInit {\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  public min: string;\n  public max: string;\n  protected _format: number = Codes.TWENTY_FOUR_HOUR_FORMAT;\n  protected onKeyboardInputDone = false;\n  protected _valueType: OHourValueType = 'timestamp';\n\n  @ViewChild('picker', { static: false })\n  public picker: NgxMaterialTimepickerComponent;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'TIMESTAMP';\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    this.modifyPickerMethods();\n  }\n\n  public onKeyDown(e: KeyboardEvent): void {\n    if (!Codes.isHourInputAllowed(e)) {\n      e.preventDefault();\n    }\n  }\n\n  public innerOnBlur(event: any): void {\n    if (this.onKeyboardInputDone) {\n      this.updateValeOnInputChange(event);\n    }\n    super.innerOnBlur(event);\n  }\n\n  public registerOnFormControlChange(): void {\n    // This component does not need this subscription\n  }\n\n  get formatString(): string {\n    return (this.format === Codes.TWENTY_FOUR_HOUR_FORMAT ? Codes.HourFormat.TWENTY_FOUR : Codes.HourFormat.TWELVE);\n  }\n\n  public open(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    if (this.picker) {\n      this.picker.open();\n    }\n  }\n\n  setTime(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    // getting value from super so we can always get a string value\n    const value = super.getValue();\n    this.picker.updateTime(value);\n  }\n\n  public setTimestampValue(value: any, options?: FormValueOptions): void {\n    let parsedValue;\n    const momentV = Util.isDefined(value) ? moment(value) : value;\n    if (momentV && momentV.isValid()) {\n      parsedValue = momentV.utcOffset(0).format(this.formatString);\n    }\n    this.setValue(parsedValue, options);\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (this.format === Codes.TWENTY_FOUR_HOUR_FORMAT) {\n      validators.push(OValidators.twentyFourHourFormatValidator);\n    } else {\n      validators.push(OValidators.twelveHourFormatValidator);\n    }\n    return validators;\n  }\n\n  public onFormControlChange(value: any): void {\n    if (this.oldValue === value) {\n      return;\n    }\n    super.onFormControlChange(value);\n  }\n\n  set format(val: number) {\n    const old = this._format;\n    let parsedVal = NumberConverter(val);\n    if (parsedVal !== Codes.TWELVE_FOUR_HOUR_FORMAT && parsedVal !== Codes.TWENTY_FOUR_HOUR_FORMAT) {\n      parsedVal = Codes.TWENTY_FOUR_HOUR_FORMAT;\n    }\n    this._format = parsedVal;\n    if (parsedVal !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get format(): number {\n    return this._format;\n  }\n\n  set valueType(val: any) {\n    this._valueType = this.convertToOHourValueType(val);\n  }\n\n  get valueType(): any {\n    return this._valueType;\n  }\n\n  public convertToOHourValueType(val: any): OHourValueType {\n    const result: OHourValueType = 'string';\n    const lowerVal = (val || '').toLowerCase();\n    if (lowerVal === 'string' || lowerVal === 'timestamp') {\n      return lowerVal;\n    }\n    return result;\n  }\n\n  public onChangeEvent(arg: any): void {\n    this.onTimepickerChange(arg.target.value);\n  }\n\n  public onTimepickerChange(event: string): void {\n    const value = this.getValueAsString(event);\n    /** emitModelToViewChange: false  because onChange event is trigger in ngModelChange */\n    this.setValue(value, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  protected modifyPickerMethods(): void {\n    if (this.picker && this.picker.inputElement) {\n      this.picker.inputElement.addEventListener('change', () => {\n        this.onKeyboardInputDone = true;\n      });\n    }\n  }\n\n  public ensureOFormValue(arg: any): void {\n\n    if (arg != null) {\n      if (this.valueType === 'timestamp') {\n        // because of the ngx-material-timepicker especification, its stored value must be always a string\n        if (arg instanceof OFormValue) {\n          arg.value = this.getValueAsString(arg.value);\n        } else {\n          arg = this.getValueAsString(arg);\n        }\n      }\n    }\n    super.ensureOFormValue(arg);\n  }\n\n  protected updateValeOnInputChange(blurEvent: any): void {\n    if (this.onKeyboardInputDone) {\n      // ngx-material-timepicker does not allow writing characters on input, so we add 'AM/PM' in order to make validation work properly\n      const value = this.parseHour(blurEvent.currentTarget.value);\n      this.setValue(value);\n    }\n    this.onKeyboardInputDone = false;\n  }\n\n  /**\n   * Receives an hour input introduced by the user and returns the hour formated acording current format\n   * @param value\n   */\n  protected parseHour(value: string): string {\n    const strArray = value.split(':');\n    let hour: any = strArray[0];\n\n    if (Codes.TWELVE_FOUR_HOUR_FORMAT === this.format) {\n      if (hour) {\n        hour = parseInt(hour, 10);\n        const period = hour <= 12 ? ' AM' : ' PM';\n        if (hour > 12) {\n          hour = hour - 12;\n        }\n        strArray[0] = hour;\n        value = strArray.join(':') + period;\n      }\n    } else if (Codes.TWENTY_FOUR_HOUR_FORMAT === this.format) {\n      // do nothing\n    }\n    return value;\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue): void {\n    this.onChange.emit(newValue);\n    super.emitOnValueChange(type, newValue, oldValue);\n  }\n\n  public getValue(): any {\n    let value = super.getValue();\n    if (this.valueType === 'timestamp') {\n      const valueTimestamp = moment(value, this.formatString).valueOf();\n      if (!isNaN(valueTimestamp)) {\n        value = valueTimestamp;\n      }\n    }\n    return value;\n  }\n\n  protected getValueAsString(val: any): string {\n    let value;\n    if (typeof val === 'number') {\n      value = moment(val).format(this.formatString);\n    } else {\n      value = this.convertToFormatString(val);\n    }\n    return value;\n  }\n\n  protected convertToFormatString(value): string {\n    if (value === '00:00' || !Util.isDefined(value)) {\n      return value;\n    }\n    const formatStr = this.format === Codes.TWENTY_FOUR_HOUR_FORMAT ? 'HH:mm' : 'hh:mm a';\n    let result;\n    if (typeof value === 'number') {\n      result = moment(value).format(formatStr);\n    } else {\n      result = value ? moment(value, 'h:mm A').format(formatStr) : value;\n    }\n    return result;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OHourInputComponent } from './o-hour-input.component';\n\n@NgModule({\n  declarations: [OHourInputComponent],\n  imports: [OSharedModule, CommonModule, NgxMaterialTimepickerModule],\n  exports: [OHourInputComponent]\n})\nexport class OHourInputModule { }\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  NgZone,\n  OnDestroy,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { Util } from '../../../util/util';\n\ndeclare var CKEDITOR: any;\n\nconst defaults = {\n  contentsCss: [''],\n  customConfig: ''\n};\n\n@Component({\n  // tslint:disable-next-line: component-selector\n  selector: 'ck-editor',\n  template: `<textarea #ck></textarea>`,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => CKEditorComponent),\n    multi: true\n  }],\n  exportAs: 'ckEditor'\n})\nexport class CKEditorComponent implements AfterViewInit, OnDestroy, ControlValueAccessor {\n\n  protected ckIns: any;\n  protected identifier: string;\n  protected innerValue: string = '';\n\n  public get instance() {\n    return this.ckIns;\n  }\n\n  protected _readonly: boolean = false;\n\n  @Input()\n  set readonly(value: boolean) {\n    this._readonly = value;\n    setTimeout(() => {\n      if (Util.isDefined(this.ckIns) && Util.isDefined(this.ckIns.editable())) {\n        this.ckIns.setReadOnly(this.readonly);\n      }\n    });\n  }\n\n  get readonly(): boolean {\n    return this._readonly;\n  }\n\n  @Input() public config: any = {};\n  @Input() public skin: string = 'moono-lisa';\n  @Input() public language: string = 'en';\n  @Input() public fullPage: boolean = false;\n  @Input() public inline: boolean = false;\n  @Input() public id: string;\n\n  @Output() change = new EventEmitter();\n  @Output() ready = new EventEmitter();\n  @Output() blur = new EventEmitter();\n  @Output() focus = new EventEmitter();\n\n  @ViewChild('ck', { static: false }) public ck: ElementRef;\n\n  constructor(\n    protected ngZone: NgZone\n  ) { }\n\n  protected static getRandomIdentifier(id: string = '') {\n    return 'editor-' + (id !== '' ? id : Math.round(Math.random() * 100000000));\n  }\n\n  ngOnDestroy() {\n    this.destroyCKEditor();\n  }\n\n  ngAfterViewInit() {\n    this.destroyCKEditor();\n    this.initCKEditor(CKEditorComponent.getRandomIdentifier(this.id));\n  }\n\n  public initCKEditor(identifier: string) {\n    if (typeof CKEDITOR === 'undefined') {\n      return console.warn('CKEditor 4.x is missing (http://ckeditor.com/)');\n    }\n\n    this.identifier = identifier;\n    this.ck.nativeElement.setAttribute('name', this.identifier);\n\n    const opt = Object.assign({}, defaults, this.config, {\n      readOnly: this.readonly,\n      skin: this.skin,\n      language: this.language,\n      fullPage: this.fullPage,\n      inline: this.inline,\n      width: '100%'\n    });\n    this.ckIns = this.inline\n      ? CKEDITOR.inline(this.ck.nativeElement, opt)\n      : CKEDITOR.replace(this.ck.nativeElement, opt);\n    this.ckIns.setData(this.innerValue);\n\n    this.ckIns.on('change', () => {\n      const val = this.ckIns.getData();\n      this.updateValue(val);\n    });\n\n    this.ckIns.on('instanceReady', (evt: any) => {\n      this.ngZone.run(() => {\n        this.ready.emit(evt);\n      });\n    });\n\n    this.ckIns.on('blur', (evt: any) => {\n      this.ngZone.run(() => {\n        this.blur.emit(evt);\n        this.propagateTouch();\n      });\n    });\n\n    this.ckIns.on('focus', (evt: any) => {\n      this.ngZone.run(() => {\n        this.focus.emit(evt);\n      });\n    });\n  }\n\n  public destroyCKEditor() {\n    if (this.ckIns) {\n      this.ckIns.removeAllListeners();\n      if (CKEDITOR.instances.hasOwnProperty(this.ckIns.name)) {\n        CKEDITOR.remove(CKEDITOR.instances[this.ckIns.name]);\n      }\n      this.ckIns.destroy();\n      this.ckIns = null;\n      const editorEl = document.querySelector('#cke_' + this.identifier);\n      if (Util.isDefined(editorEl) && Util.isDefined(editorEl.parentElement)) {\n        editorEl.parentElement.removeChild(editorEl);\n      }\n    }\n  }\n\n  protected updateValue(value: string) {\n    this.ngZone.run(() => {\n      this.innerValue = value;\n      this.propagateChange(value);\n      this.propagateTouch();\n      this.change.emit(value);\n    });\n  }\n\n  writeValue(value: any): void {\n    this.innerValue = value || '';\n    if (this.ckIns) {\n      // Fix bug that can't emit change event when set non-html tag value twice in fullpage mode.\n      this.ckIns.setData(this.innerValue);\n      const val = this.ckIns.getData();\n      this.ckIns.setData(val);\n    }\n  }\n\n  protected propagateChange(_: any) {\n    // do nothing\n  }\n\n  protected propagateTouch() {\n    // do nothing\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.propagateTouch = fn;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { CKEditorComponent } from './ck-editor.component';\n\n@NgModule({\n  exports: [\n    FormsModule,\n    CKEditorComponent\n  ],\n  declarations: [CKEditorComponent]\n})\nexport class CKEditorModule { }\n","import { animate, state, style, transition, trigger } from '@angular/animations';\nimport { AfterViewInit, ChangeDetectorRef, Component, ElementRef, Injector, OnInit, ViewChild } from '@angular/core';\nimport { ValidatorFn, Validators } from '@angular/forms';\nimport { MatTab, MatTabGroup } from '@angular/material';\n\nimport { NumberConverter } from '../../../decorators/input-converter';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { CKEditorComponent } from '../../material/ckeditor/ck-editor.component';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_HTML_INPUT = [\n  'oattr: attr',\n  'data',\n  'autoBinding: automatic-binding',\n  'autoRegistering: automatic-registering',\n  'orequired: required',\n  'minLength: min-length',\n  'maxLength: max-length',\n  'readOnly: read-only',\n  'sqlType: sql-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_HTML_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'onFocus',\n  'onBlur'\n];\n\n@Component({\n  selector: 'o-html-input',\n  templateUrl: './o-html-input.component.html',\n  styleUrls: ['./o-html-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_HTML_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_HTML_INPUT,\n  animations: [\n    trigger('transitionMessages', [\n      state('enter', style({ opacity: 1, transform: 'translateY(0%)' })),\n      transition('void => enter', [\n        style({ opacity: 0, transform: 'translateY(-100%)' }),\n        animate('300ms cubic-bezier(0.55, 0, 0.55, 0.2)'),\n      ]),\n    ])\n  ]\n})\nexport class OHTMLInputComponent extends OFormDataComponent implements OnInit, AfterViewInit {\n\n  protected _minLength: number = -1;\n  protected _maxLength: number = -1;\n\n  @ViewChild('ckEditor', { static: false }) ckEditor: CKEditorComponent;\n\n  protected tabGroupContainer: MatTabGroup;\n  protected tabContainer: MatTab;\n\n  /** State of the mat-hint and mat-error animations. */\n  _subscriptAnimationState: string = '';\n\n  protected _changeDetectorRef: ChangeDetectorRef;\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.form = form;\n    this.elRef = elRef;\n    this._changeDetectorRef = this.injector.get(ChangeDetectorRef);\n    try {\n      this.tabGroupContainer = this.injector.get(MatTabGroup);\n      this.tabContainer = this.injector.get(MatTab);\n    } catch (error) {\n      // Do nothing due to not always is contained on tab.\n    }\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    const self = this;\n    if (this.form) {\n      this.form.beforeCloseDetail.subscribe(() => this.destroyCKEditor());\n      this.form.beforeUpdateMode.subscribe(() => this.destroyCKEditor());\n    }\n\n    if (this.tabGroupContainer) {\n      this.tabGroupContainer.selectedTabChange.subscribe((evt: any) => {\n        self.destroyCKEditor();\n        if (self.isInActiveTab()) {\n          self.ckEditor.initCKEditor(self.oattr);\n        }\n      });\n    }\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    // Avoid animations on load.\n    this._subscriptAnimationState = 'enter';\n    this._changeDetectorRef.detectChanges();\n  }\n\n\n  hasError(error: string): boolean {\n    const result = super.hasError(error);\n    this._subscriptAnimationState = result ? 'enter' : 'void';\n    return result;\n  }\n\n  isInActiveTab(): boolean {\n    let result: boolean = !(this.tabGroupContainer && this.tabContainer);\n    if (!result) {\n      const self = this;\n      this.tabGroupContainer._tabs.forEach((tab, index) => {\n        if (tab === self.tabContainer) {\n          result = (self.tabGroupContainer.selectedIndex === index);\n        }\n      });\n    }\n    return result;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (this.minLength >= 0) {\n      validators.push(Validators.minLength(this.minLength));\n    }\n    if (this.maxLength >= 0) {\n      validators.push(Validators.maxLength(this.maxLength));\n    }\n    return validators;\n  }\n\n  clearValue(): void {\n    super.clearValue();\n    this.ckEditor.instance.updateElement();\n    this.ckEditor.instance.setData('');\n  }\n\n  destroyCKEditor() {\n    if (this.ckEditor) {\n      this.ckEditor.destroyCKEditor();\n    }\n  }\n\n  getCKEditor(): any {\n    return this.ckEditor.instance;\n  }\n\n  set minLength(val: number) {\n    const old = this._minLength;\n    this._minLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get minLength(): number {\n    return this._minLength;\n  }\n\n  set maxLength(val: number) {\n    const old = this._maxLength;\n    this._maxLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get maxLength(): number {\n    return this._maxLength;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { CKEditorModule } from '../../material/ckeditor/ck-editor.module';\nimport { OHTMLInputComponent } from './o-html-input.component';\n\n@NgModule({\n  declarations: [OHTMLInputComponent],\n  imports: [CKEditorModule, CommonModule, OSharedModule],\n  exports: [OHTMLInputComponent]\n})\nexport class OHTMLInputModule { }\n","import { AfterViewInit, Component, Inject, Injector, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { OSearchInputComponent } from '../../input/search-input/o-search-input.component';\n\nexport const DEFAULT_INPUTS_O_LIST_PICKER_DIALOG = [\n  'data',\n  'visibleColumns: visible-columns',\n  'filter'\n];\n\n@Component({\n  selector: 'o-list-picker-dialog',\n  templateUrl: './o-list-picker-dialog.component.html',\n  styleUrls: ['./o-list-picker-dialog.component.scss'],\n  inputs: DEFAULT_INPUTS_O_LIST_PICKER_DIALOG,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list-picker-dialog]': 'true'\n  }\n})\nexport class OListPickerDialogComponent implements AfterViewInit {\n\n  public filter: boolean = true;\n  public visibleData: any = [];\n  public searchVal: string;\n\n  @ViewChild('searchInput', { static: false })\n  public searchInput: OSearchInputComponent;\n\n  protected data: any[] = [];\n  public menuColumns: string;\n  protected visibleColsArray: string[];\n  protected _startIndex: number = 0;\n  protected recordsNumber: number = 100;\n  protected scrollThreshold: number = 200;\n\n  constructor(\n    public dialogRef: MatDialogRef<OListPickerDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.data && Util.isArray(data.data)) {\n      this.data = data.data;\n    }\n    if (data.visibleColumns && Util.isArray(data.visibleColumns)) {\n      this.visibleColsArray = data.visibleColumns;\n    }\n    if (data.queryRows !== undefined) {\n      this.recordsNumber = data.queryRows;\n    }\n    if (data.filter !== undefined) {\n      this.filter = data.filter;\n    }\n    if (data.menuColumns) {\n      this.menuColumns = data.menuColumns;\n    }\n    this.searchVal = data.searchVal;\n    this.startIndex = 0;\n  }\n\n  public ngAfterViewInit(): void {\n    if (Util.isDefined(this.searchVal) && this.searchInput !== undefined && this.searchVal.length > 0) {\n      this.searchInput.getFormControl().setValue(this.searchVal, {\n        emitEvent: false\n      });\n      //TODO improve: Added setTimeout for resolving ExpressionChangedAfterItHasBeenCheckedError error because the observables dont work\n      setTimeout(() => this.searchInput.onSearch.emit(this.searchVal));\n    }\n  }\n\n  get startIndex(): number {\n    return this._startIndex;\n  }\n\n  set startIndex(val: number) {\n    this._startIndex = val;\n    this.visibleData = this.data.slice(this.startIndex, this.recordsNumber);\n  }\n\n  public onClickListItem(e: any, value: any): void {\n    this.dialogRef.close(value);\n  }\n\n  public trackByFn(index: number, item: any): number {\n    return index;\n  }\n\n  public onScroll(event: any): void {\n    if (event && event.target && this.visibleData.length < this.data.length) {\n      const pendingScroll = event.target.scrollHeight - (event.target.scrollTop + event.target.clientHeight);\n      if (!isNaN(pendingScroll) && pendingScroll <= this.scrollThreshold) {\n        let index = this.visibleData.length;\n        const searchVal = this.searchInput.getValue();\n        if (Util.isDefined(searchVal) && searchVal.length > 0) {\n          index = this.visibleData[this.visibleData.length - 1]['_parsedIndex'];\n        }\n        let appendData = this.data.slice(index, this.visibleData.length + this.recordsNumber);\n        if (appendData.length) {\n          appendData = this.transform(appendData, {\n            filtervalue: this.searchInput.getValue(),\n            filtercolumns: this.visibleColsArray\n          });\n          if (appendData.length) {\n            this.visibleData = this.visibleData.concat(appendData);\n          }\n        }\n      }\n    }\n  }\n\n  public onFilterList(searchVal: any): void {\n    let transformData = this.transform(this.data, {\n      filtervalue: searchVal,\n      filtercolumns: this.visibleColsArray\n    });\n    this._startIndex = 0;\n    this.visibleData = transformData.slice(this.startIndex, this.recordsNumber);\n  }\n\n  public isEmptyData(): boolean {\n    return Util.isDefined(this.visibleData) ? this.visibleData.length === 0 : true;\n  }\n\n  private transform(value: any[], args: any): any {\n    if (!args || args.length <= 1) {\n      return value;\n    }\n\n    const filterValue = args['filtervalue'] ? args['filtervalue'] : '';\n    const filterColumns = args['filtercolumns'];\n\n    if (!filterColumns || !filterValue || filterValue.length === 0) {\n      return value;\n    }\n\n    if (value === undefined || value === null) {\n      return value;\n    }\n\n    return value.filter(item => {\n      for (let i = 0; i < filterColumns.length; i++) {\n        const colName = filterColumns[i];\n        if (this._isBlank(colName)) {\n          continue;\n        }\n        let origValue = item[colName];\n        if (origValue) {\n          origValue = origValue.toString();\n          if (this._isBlank(origValue)) {\n            continue;\n          }\n\n          if (origValue.toUpperCase().indexOf(filterValue.toUpperCase()) > -1) {\n            return item;\n          }\n        }\n      }\n    });\n  }\n\n  private _isBlank(value: string): boolean {\n    return !Util.isDefined(value) || value.length === 0;\n  }\n\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnChanges,\n  OnInit,\n  Optional,\n  SimpleChange,\n  ViewChild\n} from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatDialog, MatDialogConfig, MatDialogRef, MatInput } from '@angular/material';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OntimizeServiceProvider } from '../../../services/factories';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { OFormControl } from '../o-form-control.class';\nimport { DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT, DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT, OFormServiceComponent } from '../o-form-service-component.class';\nimport { OListPickerDialogComponent } from './o-list-picker-dialog.component';\n\nexport const DEFAULT_INPUTS_O_LIST_PICKER = [\n  ...DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'filter',\n  'dialogWidth : dialog-width',\n  'dialogHeight : dialog-height',\n  'queryRows: query-rows',\n  'textInputEnabled: text-input-enabled',\n  'dialogDisableClose: dialog-disable-close',\n  'dialogClass: dialog-class'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_PICKER = [\n  ...DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT,\n  'onDialogAccept',\n  'onDialogCancel'\n];\n\n@Component({\n  selector: 'o-list-picker',\n  templateUrl: './o-list-picker.component.html',\n  styleUrls: ['./o-list-picker.component.scss'],\n  providers: [\n    OntimizeServiceProvider,\n    { provide: OFormServiceComponent, useExisting: forwardRef(() => OListPickerComponent) }\n  ],\n  inputs: DEFAULT_INPUTS_O_LIST_PICKER,\n  outputs: DEFAULT_OUTPUTS_O_LIST_PICKER\n})\nexport class OListPickerComponent extends OFormServiceComponent implements AfterViewInit, OnChanges, OnInit {\n\n  /* Outputs */\n  public onDialogAccept: EventEmitter<any> = new EventEmitter();\n  public onDialogCancel: EventEmitter<any> = new EventEmitter();\n  /* End outputs */\n\n  public stateCtrl: FormControl;\n\n  /* Inputs */\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  @InputConverter()\n  public dialogDisableClose: boolean = false;\n  @InputConverter()\n  protected filter: boolean = true;\n  protected dialogWidth: string;\n  protected dialogHeight: string = '55%';\n  protected dialogClass: string;\n  @InputConverter()\n  protected queryRows: number;\n\n  /*Override clearButton = true */\n  // @InputConverter()\n  // public clearButton: boolean = true;\n  /* End inputs */\n\n  protected matDialog: MatDialog;\n  protected dialogRef: MatDialogRef<OListPickerDialogComponent>;\n\n  @ViewChild('inputModel', { static: false }) protected inputModel: MatInput;\n  @ViewChild('visibleInput', { static: false }) protected visibleInput: ElementRef;\n  protected visibleInputValue: any;\n\n  protected blurTimer;\n  protected blurDelay = 200;\n  protected blurPrevent = false;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n    this.matDialog = this.injector.get<MatDialog>(MatDialog);\n    this.stateCtrl = new FormControl();\n    /* overwritte clearButton to true */\n    this.clearButton = true;\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    super.ngOnChanges(changes);\n    if (typeof (changes.staticData) !== 'undefined') {\n      this.cacheQueried = true;\n      this.setDataArray(changes.staticData.currentValue);\n    }\n  }\n\n  public createFormControl(): OFormControl {\n    this._fControl = super.createFormControl();\n    this._fControl.fControlChildren = [this.stateCtrl];\n    return this._fControl;\n  }\n\n  public ensureOFormValue(value: any): void {\n    super.ensureOFormValue(value);\n    // This call make the component querying its data multiple times, but getting description value is needed\n    this.syncDataIndex(false);\n  }\n\n  public setEnabled(value: boolean): void {\n    super.setEnabled(value);\n    value ? this.stateCtrl.enable() : this.stateCtrl.disable();\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    } else if (this.queryOnBind) {\n      // TODO do it better. When changing tabs it is necessary to invoke new query\n      this.syncDataIndex();\n    }\n  }\n\n  public getDescriptionValue(): string {\n    let descTxt = '';\n    if (this.descriptionColArray && this._currentIndex !== undefined) {\n      const self = this;\n      this.descriptionColArray.forEach((descCol, index) => {\n        const txt = self.dataArray[self._currentIndex][descCol];\n        if (txt) {\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  public onClickClear(e: Event): void {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.isReadOnly && this.enabled) {\n      clearTimeout(this.blurTimer);\n      this.blurPrevent = true;\n      this.setValue(undefined);\n    }\n  }\n\n  public onClickInput(e: Event): void {\n    if (!this.textInputEnabled) {\n      this.onClickListpicker(e);\n    }\n  }\n\n  public onClickListpicker(e: Event): void {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.isReadOnly && this.enabled) {\n      clearTimeout(this.blurTimer);\n      this.openDialog();\n    }\n  }\n\n  public onDialogClose(evt: any): void {\n    this.dialogRef = null;\n    this.visibleInputValue = undefined;\n    if (evt instanceof Object && typeof evt[this.valueColumn] !== 'undefined') {\n      const self = this;\n      window.setTimeout(() => {\n        self.setValue(evt[self.valueColumn], { changeType: OValueChangeEvent.USER_CHANGE });\n        if (self._fControl) {\n          self._fControl.markAsTouched();\n          self._fControl.markAsDirty();\n        }\n        self.onDialogAccept.emit();\n      }, 0);\n    } else {\n      this.onDialogCancel.emit();\n    }\n  }\n\n  public innerOnBlur(evt: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      const self = this;\n      this.blurTimer = setTimeout(() => {\n        if (!self.blurPrevent) {\n          self._fControl.markAsTouched();\n          self.onBlur.emit(evt);\n          if (self.visibleInputValue !== undefined && self.visibleInputValue.length > 0) {\n            self.openDialog();\n          } else if (self.visibleInputValue !== undefined) {\n            self.setValue(undefined);\n            self.visibleInputValue = undefined;\n          } else {\n            self._fControl.markAsTouched();\n          }\n        }\n        self.blurPrevent = false;\n      }, this.blurDelay);\n    }\n  }\n\n  public onVisibleInputChange(event: any): void {\n    this.visibleInputValue = event.target.value;\n  }\n\n  public onKeydownEnter(val: any): void {\n    clearTimeout(this.blurTimer);\n    this.blurPrevent = true;\n    this.visibleInputValue = val;\n    this.openDialog();\n  }\n\n  protected setFormValue(val: any, options?: FormValueOptions, setDirty: boolean = false): void {\n    super.setFormValue(val, options, setDirty);\n    this.stateCtrl.setValue(this.getDescriptionValue());\n  }\n\n  protected openDialog(): void {\n    const cfg: MatDialogConfig = {\n      role: 'dialog',\n      disableClose: this.dialogDisableClose,\n      panelClass: ['cdk-overlay-list-picker', 'o-dialog-class', this.dialogClass],\n      data: {\n        data: this.getDialogDataArray(this.dataArray),\n        filter: this.filter,\n        searchVal: this.visibleInputValue,\n        menuColumns: this.visibleColumns, // TODO: improve this, this is passed to `o-search-input` of the dialog\n        visibleColumns: this.visibleColArray,\n        queryRows: this.queryRows\n      }\n    };\n    if (this.dialogWidth !== undefined) {\n      cfg.width = this.dialogWidth;\n    }\n    if (this.dialogHeight !== undefined) {\n      cfg.height = this.dialogHeight;\n    }\n    this.dialogRef = this.matDialog.open(OListPickerDialogComponent, cfg);\n\n    this.dialogRef.afterClosed().subscribe(result => {\n      this.onDialogClose(result);\n    });\n  }\n\n  protected getDialogDataArray(dataArray: any[]): any[] {\n    const result: any[] = [];\n    const self = this;\n    dataArray.forEach((item, itemIndex) => {\n      let element = '';\n      self.visibleColArray.forEach((visibleCol, index) => {\n        element += item[visibleCol];\n        if ((index + 1) < self.visibleColArray.length) {\n          element += self.separator;\n        }\n      });\n      const newItem = Object.assign({}, item);\n      newItem._parsedVisibleColumnText = element;\n      newItem._parsedIndex = itemIndex;\n      result.push(newItem);\n    });\n    return result;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OSearchInputModule } from '../search-input/o-search-input.module';\nimport { OListPickerDialogComponent } from './o-list-picker-dialog.component';\nimport { OListPickerComponent } from './o-list-picker.component';\n\n@NgModule({\n  declarations: [OListPickerDialogComponent, OListPickerComponent],\n  imports: [CommonModule, OSharedModule, OSearchInputModule],\n  exports: [OListPickerComponent],\n  entryComponents: [OListPickerDialogComponent]\n})\nexport class OListPickerModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnInit, Optional, ViewEncapsulation } from '@angular/core';\nimport { ValidatorFn } from '@angular/forms';\n\nimport { OValidators } from '../../../validators/o-validators';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  OTextInputComponent,\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_NIF_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_NIF_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-nif-input',\n  templateUrl: './o-nif-input.component.html',\n  styleUrls: ['./o-nif-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_NIF_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_NIF_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class ONIFInputComponent extends OTextInputComponent implements OnInit {\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    // Inject NIF validator\n    validators.push(OValidators.nifValidator);\n    return validators;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextInputModule } from '../text-input/o-text-input.module';\nimport { ONIFInputComponent } from './o-nif-input.component';\n\n@NgModule({\n  declarations: [ONIFInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [ONIFInputComponent]\n})\nexport class ONIFInputModule {\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnInit, Optional, ViewEncapsulation } from '@angular/core';\n\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  OTextInputComponent,\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_PASSWORD_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_PASSWORD_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-password-input',\n  templateUrl: './o-password-input.component.html',\n  styleUrls: ['./o-password-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_PASSWORD_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_PASSWORD_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OPasswordInputComponent extends OTextInputComponent implements OnInit {\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextInputModule } from '../text-input/o-text-input.module';\nimport { OPasswordInputComponent } from './o-password-input.component';\n\n@NgModule({\n  declarations: [OPasswordInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [OPasswordInputComponent]\n})\nexport class OPasswordInputModule {\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport {\n  DEFAULT_INPUTS_O_REAL_INPUT,\n  DEFAULT_OUTPUTS_O_REAL_INPUT,\n  ORealInputComponent,\n} from '../real-input/o-real-input.component';\n\nexport const DEFAULT_INPUTS_O_PERCENT_INPUT = [\n  ...DEFAULT_INPUTS_O_REAL_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_PERCENT_INPUT = [\n  ...DEFAULT_OUTPUTS_O_REAL_INPUT\n];\n\n@Component({\n  selector: 'o-percent-input',\n  templateUrl: './o-percent-input.component.html',\n  styleUrls: ['./o-percent-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_PERCENT_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_PERCENT_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OPercentInputComponent extends ORealInputComponent implements OnInit {\n\n  @InputConverter()\n  grouping: boolean = true;\n\n  public ngOnInit() {\n    if (typeof (this.min) === 'undefined') {\n      this.min = 0;\n    }\n    if (typeof (this.max) === 'undefined') {\n      this.max = 100;\n    }\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ORealInputModule } from '../real-input/o-real-input.module';\nimport { OPercentInputComponent } from './o-percent-input.component';\n\n@NgModule({\n  declarations: [OPercentInputComponent],\n  imports: [CommonModule, OSharedModule, ORealInputModule],\n  exports: [OPercentInputComponent]\n})\nexport class OPercentInputModule { }\n","import { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { MatRadioChange } from '@angular/material';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OntimizeServiceProvider } from '../../../services/factories';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT, DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT, OFormServiceComponent } from '../o-form-service-component.class';\n\nexport const DEFAULT_INPUTS_O_RADIO = [\n  ...DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'translate',\n  'layout',\n  'labelPosition: label-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_RADIO = [\n  ...DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT\n];\n\n@Component({\n  selector: 'o-radio',\n  templateUrl: './o-radio.component.html',\n  styleUrls: ['./o-radio.component.scss'],\n  inputs: DEFAULT_INPUTS_O_RADIO,\n  outputs: DEFAULT_OUTPUTS_O_RADIO,\n  providers: [\n    OntimizeServiceProvider\n  ],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-radio]': 'true'\n  }\n})\nexport class ORadioComponent extends OFormServiceComponent implements AfterViewInit {\n\n  /* Inputs */\n  @InputConverter()\n  public translate: boolean = false;\n  public layout: 'row' | 'column' = 'column';\n  public labelPosition: 'before' | 'after' = 'after';\n  /* End inputs*/\n\n  value: OFormValue;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  onMatRadioGroupChange(e: MatRadioChange): void {\n    const newValue = e.value;\n    this.setValue(newValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  getOptionDescriptionValue(item: any = {}) {\n    let descTxt = '';\n    if (this.descriptionColArray && this.descriptionColArray.length > 0) {\n      const self = this;\n      this.descriptionColArray.forEach((col, index) => {\n        let txt = item[col];\n        if (txt) {\n          if (self.translate && self.translateService) {\n            txt = self.translateService.get(txt);\n          }\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  getValueColumn(item: any) {\n    if (item && item.hasOwnProperty(this.valueColumn)) {\n      let option = item[this.valueColumn];\n      if (option === 'undefined') {\n        option = null;\n      }\n      return option;\n    }\n    return void 0;\n  }\n\n  getDescriptionValue() {\n    if (Util.isDefined(this.descriptionColArray) && this.descriptionColArray.length) {\n      const currItem = this.dataArray.find(e => e[this.valueColumn] === this.getValue());\n      if (Util.isDefined(currItem)) {\n        return this.descriptionColArray.map(col => (this.translate && this.translateService) ? this.translateService.get(currItem[col]) : currItem[col]).join(this.separator);\n      }\n    }\n    return '';\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ORadioComponent } from './o-radio.component';\n\n@NgModule({\n  declarations: [ORadioComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORadioComponent]\n})\nexport class ORadioModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { ThemePalette } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/oFormValue';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_SLIDETOGGLE = [\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  // color: Theme color palette for the component.\n  'color',\n  // label-position: Whether the label should appear after or before the slide-toggle. Defaults to 'after'\n  'labelPosition: label-position',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_SLIDETOGGLE = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-slide-toggle',\n  inputs: DEFAULT_INPUTS_O_SLIDETOGGLE,\n  outputs: DEFAULT_OUTPUTS_O_SLIDETOGGLE,\n  templateUrl: './o-slide-toggle.component.html',\n  styleUrls: ['./o-slide-toggle.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-slide-toggle]': 'true'\n  }\n})\nexport class OSlideToggleComponent extends OFormDataComponent {\n\n  public trueValue: number | boolean | string = true;\n  public falseValue: number | boolean | string = false;\n  public booleanType: 'number' | 'boolean' | 'string' = 'boolean';\n  public color: ThemePalette;\n  public labelPosition: 'before' | 'after' = 'after';\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'BOOLEAN';\n    this.defaultValue = false;\n  }\n\n  initialize() {\n    //First, the sqlType must be initialized  before calling super.initialize because it overwritte the value\n    if (!Util.isDefined(this.sqlType)) {\n      switch (this.booleanType) {\n        case 'number':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'string':\n          this.sqlType = 'VARCHAR';\n          break;\n        case 'boolean':\n        default:\n          this.sqlType = 'BOOLEAN';\n      }\n    }\n    this.defaultValue = this.falseValue;\n    super.initialize();\n  }\n\n  ensureOFormValue(value: any) {\n    if (value instanceof OFormValue) {\n      if (!Util.isDefined(value.value)) {\n        value.value = this.falseValue;\n      }\n      this.value = new OFormValue(value.value);\n    } else {\n      this.value = new OFormValue(value === this.trueValue ? this.trueValue : this.falseValue);\n    }\n  }\n\n  isChecked(): boolean {\n    if (this.value instanceof OFormValue) {\n      return this.value.value === this.trueValue;\n    }\n    return false;\n  }\n\n  onClickBlocker(e: MouseEvent) {\n    e.stopPropagation();\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OSlideToggleComponent } from './o-slide-toggle.component';\n\n@NgModule({\n  declarations: [OSlideToggleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSlideToggleComponent]\n})\nexport class OSlideToggleModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\n\nimport { OFormComponent } from '../../../components/form/o-form.component';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_SLIDER_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'color',\n  'invert',\n  'max',\n  'min',\n  'step',\n  'thumbLabel:thumb-label',\n  'tickInterval:tick-interval',\n  'layout',\n  'oDisplayWith:display-with'\n];\n\nexport const DEFAULT_OUTPUTS_O_SLIDER_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport type SliderDisplayFunction = (value: number | null) => string | number;\n\n@Component({\n  selector: 'o-slider',\n  host: {\n    class: 'o-slider'\n  },\n  templateUrl: 'o-slider.component.html',\n  styleUrls: ['./o-slider.component.scss'],\n  inputs: DEFAULT_INPUTS_O_SLIDER_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_SLIDER_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OSliderComponent extends OFormDataComponent {\n\n  public color: string;\n  public layout: 'row' | 'column' = 'row';\n\n  @InputConverter()\n  public vertical: boolean = false;\n\n  @InputConverter()\n  public invert: boolean = false;\n\n  @InputConverter()\n  public thumbLabel: boolean = false;\n\n  @InputConverter()\n  min: number;\n\n  @InputConverter()\n  max: number;\n\n  @InputConverter()\n  step: number = 1;\n\n  set tickInterval(value: any) {\n    this._tickInterval = value;\n  }\n  get tickInterval() {\n    return this._tickInterval;\n  }\n  _tickInterval: 'auto' | number = 0;\n\n\n  oDisplayWith: SliderDisplayFunction;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n  }\n\n  onClickBlocker(evt: Event) {\n    evt.stopPropagation();\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OSliderComponent } from './o-slider.component';\n\n@NgModule({\n  declarations: [OSliderComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSliderComponent]\n})\nexport class OSliderModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  OTextInputComponent,\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_TEXTAREA_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT,\n  'columns',\n  'rows'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXTAREA_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-textarea-input',\n  templateUrl: './o-textarea-input.component.html',\n  styleUrls: ['./o-textarea-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TEXTAREA_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TEXTAREA_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OTextareaInputComponent extends OTextInputComponent {\n\n  @InputConverter()\n  public rows: number = 5;\n  @InputConverter()\n  public columns: number = 3;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  public isResizable(): boolean {\n    let resizable = true;\n    if (!this.enabled || this.isReadOnly) {\n      resizable = false;\n    }\n    return resizable;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextareaInputComponent } from './o-textarea-input.component';\n\n@NgModule({\n  declarations: [OTextareaInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OTextareaInputComponent]\n})\nexport class OTextareaInputModule { }\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport moment from 'moment';\nimport { merge, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { DateFilterFunction } from '../../../types/date-filter-function.type';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { ODateInputComponent } from '../date-input/o-date-input.component';\nimport { OHourInputComponent } from '../hour-input/o-hour-input.component';\nimport { OFormControl } from '../o-form-control.class';\n\nexport const DEFAULT_INPUTS_O_TIME_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'oDateFormat: date-format',\n  'oDateLocale: date-locale',\n  'oDateStartView: date-start-view',\n  'oDateMinDate: date-min',\n  'oDateMaxDate: date-max',\n  'oDateTouchUi: date-touch-ui',\n  'oDateStartAt: date-start-at',\n  'oDateFilterDate: date-filter-date',\n  'oDateTextInputEnabled: date-text-input-enabled',\n  'oHourFormat: hour-format',\n  'oHourMin: hour-min',\n  'oHourMax: hour-max',\n  'oHourTextInputEnabled: hour-text-input-enabled',\n  'oHourPlaceholder: hour-placeholder',\n  'oDatePlaceholder: date-placeholder'\n];\n\nexport const DEFAULT_OUTPUTS_O_TIME_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-time-input',\n  templateUrl: './o-time-input.component.html',\n  styleUrls: ['./o-time-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TIME_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TIME_INPUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-time-input]': 'true'\n  }\n})\nexport class OTimeInputComponent extends OFormDataComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public oDateFormat: string = 'L';\n  public oDateLocale: any;\n  public oDateStartView: 'month' | 'year' = 'month';\n  public oDateMinDate: any;\n  public oDateMaxDate: any;\n  @InputConverter()\n  public oDateTouchUi: boolean;\n  public oDateStartAt: any;\n  public oDateFilterDate: DateFilterFunction;\n  @InputConverter()\n  public oDateTextInputEnabled: boolean = true;\n  public oHourFormat: number = 24;\n  public oHourMin: string;\n  public oHourMax: string;\n  @InputConverter()\n  public oHourTextInputEnabled: boolean = true;\n  public oHourPlaceholder = '';\n  public oDatePlaceholder = '';\n\n  protected blockGroupValueChanges: boolean;\n  protected formGroup: FormGroup = new FormGroup({});\n\n  @ViewChild('dateInput', { static: true })\n  protected dateInput: ODateInputComponent;\n\n  @ViewChild('hourInput', { static: true })\n  protected hourInput: OHourInputComponent;\n\n  protected subscription: Subscription = new Subscription();\n\n  public dateAttr = 'dateInput';\n  public hourAttr = 'hourInput';\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector,\n    protected cd: ChangeDetectorRef) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'DATE';\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n\n    this.dateAttr += '_' + this.oattr;\n    this.hourAttr += '_' + this.oattr;\n\n    const self = this;\n    this.subscription.add(\n      merge(this.dateInput.onValueChange, this.hourInput.onValueChange).subscribe((event: OValueChangeEvent) => {\n        if (event.isUserChange()) {\n          self.updateComponentValue();\n          const newValue = self._fControl.value;\n          self.emitOnValueChange(OValueChangeEvent.USER_CHANGE, newValue, self.oldValue);\n          self.oldValue = newValue;\n        }\n      })\n    );\n  }\n\n  public ngAfterViewInit(): void {\n    this.modifyFormControls();\n    super.ngAfterViewInit();\n    this.registerFormControls();\n    this.setInnerComponentsData();\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public createFormControl(cfg, validators): OFormControl {\n    this._fControl = super.createFormControl(cfg, validators);\n    this._fControl.fControlChildren = [this.dateInput, this.hourInput];\n    return this._fControl;\n  }\n\n  public onFormControlChange(value: any): void {\n    super.onFormControlChange(value);\n    this.setInnerComponentsData();\n  }\n\n  public setValue(newValue: any, options?: FormValueOptions): void {\n    const changed = this.oldValue !== newValue;\n    super.setValue(newValue, options);\n    if (changed) {\n      this.setInnerComponentsData();\n    }\n  }\n\n  public onClickClearValue(event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n    this.blockGroupValueChanges = true;\n    this.clearValue();\n    this.blockGroupValueChanges = false;\n  }\n\n  protected setInnerComponentsData(): void {\n    let dateValue: any;\n    let hourValue: any;\n    if (Util.isDefined(this.value) && Util.isDefined(this.value.value)) {\n      const momentD = moment(this.value.value);\n      if (momentD.isValid()) {\n        dateValue = momentD.clone().startOf('day').valueOf();\n        hourValue = momentD.clone().valueOf() - dateValue;\n      }\n    }\n    if (this.dateInput) {\n      this.dateInput.setValue(dateValue);\n    }\n    if (this.hourInput) {\n      this.hourInput.setTimestampValue(hourValue);\n    }\n    this.cd.detectChanges();\n  }\n\n  protected updateComponentValue(): void {\n    if (!this.value) {\n      this.value = new OFormValue();\n    }\n    let timeValue: number;\n    const values = this.formGroup.getRawValue();\n    const mDate = (values[this.dateAttr] ? moment(values[this.dateAttr]) : moment()).startOf('day');\n    const mHour = moment(values[this.hourAttr], this.hourInput.formatString);\n    timeValue = mDate.clone()\n      .set('hour', mHour.get('hour'))\n      .set('minute', mHour.get('minutes'))\n      .valueOf();\n    if (this._fControl) {\n      this._fControl.setValue(timeValue);\n      this._fControl.markAsDirty();\n    }\n    this.ensureOFormValue(timeValue);\n  }\n\n  protected modifyFormControls(): void {\n    if (this.dateInput) {\n      const self = this;\n      this.dateInput.getFormGroup = () => {\n        return self.formGroup;\n      };\n    }\n\n    if (this.hourInput) {\n      const self = this;\n      this.hourInput.getFormGroup = () => {\n        return self.formGroup;\n      };\n    }\n\n    if (this.form) {\n      this.form.formGroup.removeControl(this.dateAttr);\n      this.form.formGroup.removeControl(this.hourAttr);\n    }\n  }\n\n  protected registerFormControls(): void {\n    if (this.dateInput && this.dateInput.getFormControl()) {\n      this.formGroup.registerControl(this.dateAttr, this.dateInput.getFormControl());\n    }\n    if (this.hourInput) {\n      if (this.hourInput.getFormControl()) {\n        this.formGroup.registerControl(this.hourAttr, this.hourInput.getFormControl());\n      }\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ODateInputModule } from '../date-input/o-date-input.module';\nimport { OHourInputModule } from '../hour-input/o-hour-input.module';\nimport { OTimeInputComponent } from './o-time-input.component';\n\n@NgModule({\n  declarations: [OTimeInputComponent],\n  imports: [CommonModule, ODateInputModule, OHourInputModule, OSharedModule],\n  exports: [OTimeInputComponent]\n})\nexport class OTimeInputModule { }\n","export const REG_LANGUAGE = /^([a-z]{2})[-|_]([A-Z]{2})$/;\n\nexport default class LocaleCode {\n\n  static getLanguageCode(code) {\n    const match = code.match(REG_LANGUAGE);\n    let result = code.toLowerCase();\n    if (match && match.length > 1) {\n      result = match[1].toLowerCase();\n    }\n    return result;\n  }\n\n  static getCountryCode(code) {\n    const match = code.match(REG_LANGUAGE);\n    let result = code.toLowerCase();\n    if (match && match.length > 2) {\n      result = match[2].toLowerCase();\n    } else {\n      /*Exception pt is locale id of Portuguese Brazil\n      and pt-PT is Portuguese Portugal */\n      if (result === 'pt') {\n        result = 'br';\n      }\n    }\n    return result;\n  }\n}\n","import { Component, EventEmitter, Injector, ViewEncapsulation } from '@angular/core';\n\nimport { AppConfig } from '../../config/app-config';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport LocaleCode from '../../util/locale';\n\nexport const DEFAULT_INPUTS_O_LANGUAGE_SELECTOR = [\n  'useFlagIcons: use-flag-icons'\n];\n\nexport const DEFAULT_OUTPUTS_LANGUAGE_SELECTOR = [\n  'onChange'\n];\n\n@Component({\n  selector: 'o-language-selector',\n  inputs: DEFAULT_INPUTS_O_LANGUAGE_SELECTOR,\n  outputs: DEFAULT_OUTPUTS_LANGUAGE_SELECTOR,\n  templateUrl: './o-language-selector.component.html',\n  styleUrls: ['./o-language-selector.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-language-selector]': 'true'\n  }\n})\n\nexport class OLanguageSelectorComponent {\n\n  @InputConverter()\n  useFlagIcons: boolean = false;\n\n  onChange: EventEmitter<object> = new EventEmitter<object>();\n\n  protected translateService: OTranslateService;\n  protected appConfig: AppConfig;\n  protected availableLangs: string[];\n\n  constructor(protected injector: Injector) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appConfig = this.injector.get(AppConfig);\n    this.availableLangs = this.appConfig.getConfiguration().applicationLocales;\n  }\n\n  getFlagClass(lang: string) {\n    let flagName = LocaleCode.getCountryCode(lang);\n    flagName = (flagName !== 'en') ? flagName : 'gb';\n    return 'flag-icon-' + flagName;\n  }\n\n  getAvailableLangs(): string[] {\n    return this.availableLangs;\n  }\n\n  configureI18n(lang: any) {\n    if (this.translateService && this.translateService.getCurrentLang() !== lang) {\n      this.translateService.use(lang);\n      this.onChange.emit(lang);\n    }\n  }\n\n  getCurrentLang(): string {\n    return this.translateService.getCurrentLang();\n  }\n\n  getCurrentCountry(): string {\n    return LocaleCode.getCountryCode(this.getCurrentLang());\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OLanguageSelectorComponent } from './o-language-selector.component';\n\n@NgModule({\n  declarations: [OLanguageSelectorComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OLanguageSelectorComponent]\n})\nexport class OLanguageSelectorModule {\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  QueryList,\n  SimpleChange,\n  ViewEncapsulation\n} from '@angular/core';\nimport { merge, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { IListItem } from '../../interfaces/o-list-item.interface';\nimport { IList } from '../../interfaces/o-list.interface';\nimport { OntimizeServiceProvider } from '../../services/factories';\nimport { OListInitializationOptions } from '../../types/o-list-initialization-options.type';\nimport { OQueryDataArgs } from '../../types/query-data-args.type';\nimport { SQLOrder } from '../../types/sql-order.type';\nimport { ObservableWrapper } from '../../util/async';\nimport { Codes } from '../../util/codes';\nimport { ServiceUtils } from '../../util/service.utils';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\nimport { DEFAULT_INPUTS_O_SERVICE_COMPONENT, OServiceComponent } from '../o-service-component.class';\nimport { OListItemDirective } from './list-item/o-list-item.directive';\n\nexport const DEFAULT_INPUTS_O_LIST = [\n  ...DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n\n  // quick-filter-columns [string]: columns of the filter, separated by ';'. Default: no value.\n  'quickFilterColumns: quick-filter-columns',\n\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n\n  'route',\n\n  'selectable',\n\n  'odense : dense',\n\n  // delete-button [no|yes]: show delete button when user select items. Default: yes.\n  'deleteButton: delete-button',\n\n  // sort-columns [string]: initial sorting, with the format column:[ASC|DESC], separated by ';'. Default: no value.\n  'sortColumns: sort-columns',\n\n  // insert-button-position [ top | bottom ]: position of the insert button. Default: 'bottom'\n  'insertButtonPosition:insert-button-position',\n\n  // insert-button-floatable [no|yes]: Indicates whether or not to position of the insert button is floating . Default: 'yes'\n  'insertButtonFloatable:insert-button-floatable'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST = [\n  'onClick',\n  'onDoubleClick',\n  'onInsertButtonClick',\n  'onItemDeleted',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\n@Component({\n  selector: 'o-list',\n  providers: [\n    OntimizeServiceProvider\n  ],\n  inputs: DEFAULT_INPUTS_O_LIST,\n  outputs: DEFAULT_OUTPUTS_O_LIST,\n  templateUrl: './o-list.component.html',\n  styleUrls: ['./o-list.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list]': 'true'\n  }\n})\nexport class OListComponent extends OServiceComponent implements IList, AfterContentInit, AfterViewInit, OnDestroy, OnInit, OnChanges {\n\n  public listItemComponents: IListItem[] = [];\n\n  @ContentChildren(OListItemDirective)\n  public listItemDirectives: QueryList<OListItemDirective>;\n\n  /* Inputs */\n  @InputConverter()\n  public refreshButton: boolean = true;\n  @InputConverter()\n  public selectable: boolean = false;\n  @InputConverter()\n  public odense: boolean = false;\n  @InputConverter()\n  public deleteButton: boolean = true;\n  @InputConverter()\n  public insertButtonFloatable: boolean = true;\n  public quickFilterColumns: string;\n  public route: string;\n  public sortColumns: string;\n  /* End Inputs */\n\n  public sortColArray: SQLOrder[] = [];\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onInsertButtonClick: EventEmitter<any> = new EventEmitter();\n  public onItemDeleted: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n\n  public selection = new SelectionModel<Element>(true, []);\n  public enabledDeleteButton: boolean = false;\n  public insertButtonPosition: 'top' | 'bottom' = 'bottom';\n  protected dataResponseArray: any[] = [];\n  protected storePaginationState: boolean = false;\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n    this.subscription.add(this.selection.changed.subscribe(() => this.enabledDeleteButton = !this.selection.isEmpty()));\n  }\n\n  public ngAfterViewInit(): void {\n    super.afterViewInit();\n    this.parseSortColumns();\n    this.filterCaseSensitive = this.state.hasOwnProperty('filter-case-sensitive') ?\n      this.state['filter-case-sensitive'] : this.filterCaseSensitive;\n    if (Util.isDefined(this.searchInputComponent)) {\n      this.registerQuickFilter(this.searchInputComponent);\n    }\n  }\n\n  public ngAfterContentInit(): void {\n    this.setListItemDirectivesData();\n    this.listItemDirectives.changes.subscribe(() => this.setListItemDirectivesData());\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n    this.subscription.unsubscribe();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    if (changes.staticData !== undefined) {\n      this.dataResponseArray = changes.staticData.currentValue;\n      const filter = (this.state && this.state.filterValue) ? this.state.filterValue : undefined;\n      this.filterData(filter);\n    }\n  }\n\n  public getComponentKey(): string {\n    return 'OListComponent_' + this.oattr;\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (this.staticData && this.staticData.length) {\n      this.dataResponseArray = this.staticData;\n    }\n    if (!Util.isDefined(this.quickFilterColumns)) {\n      this.quickFilterColumns = this.columns;\n    }\n    this.quickFilterColArray = Util.parseArray(this.quickFilterColumns, true);\n    let initialQueryLength: number;\n    if (this.state.hasOwnProperty('queryRecordOffset')) {\n      initialQueryLength = this.state.queryRecordOffset;\n    }\n    this.state.queryRecordOffset = 0;\n    if (!this.state.hasOwnProperty('totalQueryRecordsNumber')) {\n      this.state.totalQueryRecordsNumber = 0;\n    }\n    if (this.queryOnInit) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: initialQueryLength || this.queryRows\n      };\n      this.queryData(void 0, queryArgs);\n    }\n  }\n\n  public reinitialize(options: OListInitializationOptions): void {\n    super.reinitialize(options);\n  }\n\n  public registerListItemDirective(item: OListItemDirective): void {\n    if (item) {\n      item.onClick(directiveItem => this.onItemDetailClick(directiveItem));\n      item.onDoubleClick(directiveItem => this.onItemDetailDoubleClick(directiveItem));\n    }\n  }\n\n  public getDense(): boolean {\n    return this.odense;\n  }\n\n  public onListItemClicked(onNext: (item: OListItemDirective) => void): object {\n    return ObservableWrapper.subscribe(this.onClick, onNext);\n  }\n\n  public onItemDetailClick(item: OListItemDirective | IListItem): void {\n    const data = item.getItemData();\n    if (this.oenabled && this.detailMode === Codes.DETAIL_MODE_CLICK) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(data);\n    }\n    ObservableWrapper.callEmit(this.onClick, data);\n  }\n\n  public onItemDetailDoubleClick(item: OListItemDirective | IListItem): void {\n    const data = item.getItemData();\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(data);\n    }\n    ObservableWrapper.callEmit(this.onDoubleClick, data);\n  }\n\n  public getDataToStore(): object {\n    const dataToStore = super.getDataToStore();\n    if (!this.storePaginationState) {\n      delete dataToStore['queryRecordOffset'];\n    }\n    if (this.quickFilter && Util.isDefined(this.quickFilterComponent)) {\n      dataToStore['quickFilterActiveColumns'] = this.quickFilterComponent.getActiveColumns().join(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    dataToStore['filter-case-sensitive'] = this.isFilterCaseSensitive();\n    return dataToStore;\n  }\n\n  public reloadData(): void {\n    let queryArgs: OQueryDataArgs = {};\n    if (this.pageable) {\n      this.state.queryRecordOffset = 0;\n      queryArgs = {\n        length: Math.max(this.queryRows, this.dataResponseArray.length),\n        replace: true\n      };\n    }\n    if (this.selectable) {\n      // this.selectedItems = [];\n      this.clearSelection();\n      this.state.selectedIndexes = [];\n    }\n    this.queryData(void 0, queryArgs);\n  }\n\n  public reloadPaginatedDataFromStart(): void {\n    this.dataResponseArray = [];\n    this.reloadData();\n  }\n\n  /**\n   * Filters data locally\n   * @param value the filtering value\n   */\n  public filterData(value: string, loadMore?: boolean): void {\n    if (this.state) {\n      this.state.filterValue = value;\n    }\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: this.queryRows,\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n    } else if (value && value.length > 0 && this.dataResponseArray && this.dataResponseArray.length > 0) {\n      const self = this;\n      const caseSensitive = this.isFilterCaseSensitive();\n      const filteredData = this.dataResponseArray.filter(item => {\n        return self.getQuickFilterColumns().some(col => {\n          const regExpStr = Util.escapeSpecialCharacter(Util.normalizeString(value, !caseSensitive));\n          return new RegExp(regExpStr).test(Util.normalizeString(item[col] + '', !caseSensitive));\n        });\n      });\n      this.setDataArray(filteredData);\n    } else {\n      this.setDataArray(this.dataResponseArray);\n    }\n  }\n\n  public isItemSelected(item: any): boolean {\n    return this.selection.isSelected(item);\n  }\n\n  public updateSelectedState(item: object, isSelected: boolean): void {\n    const selectedIndexes = this.state.selectedIndexes || [];\n    const itemIndex = this.dataResponseArray.indexOf(item);\n    if (isSelected && selectedIndexes.indexOf(itemIndex) === -1) {\n      selectedIndexes.push(itemIndex);\n    } else if (!isSelected) {\n      selectedIndexes.splice(selectedIndexes.indexOf(itemIndex), 1);\n    }\n    this.state.selectedIndexes = selectedIndexes;\n  }\n\n  public onScroll(e: Event): void {\n    if (this.pageable) {\n      const pendingRegistries = this.dataResponseArray.length < this.state.totalQueryRecordsNumber;\n      if (!this.loadingSubject.value && pendingRegistries) {\n        const element = e.target as any;\n        if (element.offsetHeight + element.scrollTop + 5 >= element.scrollHeight) {\n          const queryArgs: OQueryDataArgs = {\n            offset: this.state.queryRecordOffset,\n            length: this.queryRows\n          };\n          this.queryData(void 0, queryArgs);\n        }\n      }\n    }\n  }\n\n  public remove(clearSelectedItems: boolean = false): void {\n    const selectedItems = this.getSelectedItems();\n    if (selectedItems.length > 0) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n        if (res === true) {\n          if (this.dataService && (this.deleteMethod in this.dataService) && this.entity && (this.keysArray.length > 0)) {\n            const filters = ServiceUtils.getArrayProperties(selectedItems, this.keysArray);\n            merge(filters.map((kv => this.dataService[this.deleteMethod](kv, this.entity)))).subscribe(obs => obs.subscribe(() => {\n              ObservableWrapper.callEmit(this.onItemDeleted, selectedItems);\n            }, error => {\n              this.dialogService.alert('ERROR', 'MESSAGES.ERROR_DELETE');\n            }, () => {\n              this.reloadData();\n            }));\n          } else {\n            this.deleteLocalItems();\n          }\n        } else if (clearSelectedItems) {\n          this.clearSelection();\n        }\n      });\n    }\n  }\n\n  public add(e?: Event): void {\n    this.onInsertButtonClick.emit(e);\n    super.insertDetail();\n  }\n\n  public parseSortColumns(): void {\n    const sortColumnsParam = this.state['sort-columns'] || this.sortColumns;\n    this.sortColArray = ServiceUtils.parseSortColumns(sortColumnsParam);\n  }\n\n  public getQueryArguments(filter: object, ovrrArgs?: OQueryDataArgs): any[] {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    if (this.pageable) {\n      queryArguments[6] = this.sortColArray;\n    }\n    return queryArguments;\n  }\n\n  registerItem(item: IListItem): void {\n    this.listItemComponents.push(item);\n    if (this.dataResponseArray.length > 0) {\n      item.setItemData(this.dataResponseArray[this.listItemComponents.length - 1]);\n    }\n  }\n\n  protected setListItemDirectivesData(): void {\n    this.listItemDirectives.forEach((element: OListItemDirective, index) => {\n      element.setItemData(this.dataResponseArray[index]);\n      element.setListComponent(this);\n      this.registerListItemDirective(element);\n    });\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    if (Util.isArray(data)) {\n      let respDataArray = data;\n      if (this.pageable && !replace) {\n        respDataArray = (this.dataResponseArray || []).concat(data);\n      }\n\n      const selectedIndexes = this.state.selectedIndexes || [];\n      for (const selIndex of selectedIndexes) {\n        if (selIndex < this.dataResponseArray.length) {\n          this.selection.select(this.dataResponseArray[selIndex]);\n        }\n      }\n      this.dataResponseArray = respDataArray;\n      if (!this.pageable) {\n        this.filterData(this.state.filterValue);\n      } else {\n        this.setDataArray(this.dataResponseArray);\n      }\n    } else {\n      this.setDataArray([]);\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.dataResponseArray);\n  }\n\n}\n","import {\n  AfterContentInit,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  QueryList,\n  Renderer2,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { MatLine, MatListAvatarCssMatStyler, MatListItem } from '@angular/material';\n\nimport { IListItem } from '../../../interfaces/o-list-item.interface';\nimport { Util } from '../../../util/util';\nimport { OListComponent } from '../o-list.component';\n\n@Component({\n  selector: 'o-list-item',\n  templateUrl: './o-list-item.component.html',\n  styleUrls: ['./o-list-item.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list-item]': 'true'\n  }\n})\nexport class OListItemComponent implements OnInit, IListItem, AfterContentInit {\n\n  public modelData: any;\n  protected _isSelected: boolean = false;\n\n  @ContentChildren(MatLine)\n  protected _lines: QueryList<MatLine>;\n\n  @ViewChild('innerListItem', { static: true })\n  protected _innerListItem: MatListItem;\n\n  @ContentChild(MatListAvatarCssMatStyler, { static: false })\n  set _hasAvatar(avatar: MatListAvatarCssMatStyler) {\n    const listItemNativeEl = this.elRef.nativeElement.getElementsByTagName('mat-list-item');\n    if (listItemNativeEl && listItemNativeEl.length === 1) {\n      if ((avatar !== null && avatar !== undefined)) {\n        this._renderer.addClass(listItemNativeEl[0], 'mat-list-avatar');\n      } else {\n        this._renderer.removeClass(listItemNativeEl[0], 'mat-list-avatar');\n      }\n    }\n  }\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListComponent)) public _list: OListComponent\n  ) { }\n\n  public ngOnInit() {\n    this._list.registerItem(this);\n  }\n\n  public ngAfterContentInit(): void {\n    const matLinesRef = this._lines;\n\n    const ngAfterContentInitOriginal = this._innerListItem.ngAfterContentInit;\n    // tslint:disable-next-line: space-before-function-paren\n    this._innerListItem.ngAfterContentInit = function () {\n      const emptyDiv = this._element.nativeElement.querySelector('.mat-list-text:empty');\n      if (emptyDiv) {\n        emptyDiv.remove();\n      }\n      this._lines = matLinesRef;\n      ngAfterContentInitOriginal.apply(this);\n    };\n  }\n\n  public onClick(e?: Event): void {\n    if (!this._list.detailButtonInRow) {\n      this._list.onItemDetailClick(this);\n    }\n  }\n\n  public onDoubleClick(e?: Event): void {\n    if (!this._list.detailButtonInRow) {\n      this._list.onItemDetailDoubleClick(this);\n    }\n  }\n\n  public onDetailIconClicked(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this._list.viewDetail(this.modelData);\n  }\n\n  public onEditIconClicked(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this._list.editDetail(this.modelData);\n  }\n\n  public setItemData(data: any): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  public getItemData(): any {\n    return this.modelData;\n  }\n\n  public onCheckboxChange(e?: Event): void {\n    if (this._list.selectable) {\n      this._list.setSelected(this.modelData);\n    }\n  }\n\n  get isSelected(): boolean {\n    return this._list.selection.isSelected(this.modelData);\n  }\n\n}\n","import { ElementRef, EventEmitter, Injector, Renderer2 } from '@angular/core';\n\nimport { Util } from '../../../util/util';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\n\nexport const DEFAULT_INPUTS_O_TEXT_RENDERER = [\n  'title',\n  'primaryText : primary-text',\n  'secondaryText : secondary-text',\n  'icon'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXT_RENDERER = [\n  'onIconClick : icon-action'\n];\n\nexport class OListItemTextRenderer {\n\n  /* inputs variables */\n  protected _title: string;\n  protected _primaryText: string;\n  protected _secondaryText: string;\n  protected _icon: string;\n\n  onIconClick: EventEmitter<object> = new EventEmitter<object>();\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    protected _listItem: OListItemComponent\n  ) { }\n\n  modifyMatListItemElement() {\n    if (this.elRef.nativeElement && this.elRef.nativeElement.parentElement) {\n      const listItem = this.elRef.nativeElement.parentElement.parentElement;\n      if (listItem && listItem.nodeName === 'MAT-LIST-ITEM') {\n        let linesNo = 3;\n        if (this.title === undefined) {\n          linesNo--;\n        }\n        if (this.primaryText === undefined) {\n          linesNo--;\n        }\n        if (this.secondaryText === undefined) {\n          linesNo--;\n        }\n        listItem.classList.add('mat-' + linesNo + '-line');\n        listItem.querySelector('.mat-list-text').remove();\n      }\n    }\n  }\n\n  onActionIconClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onIconClick.emit(e);\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get primaryText(): string {\n    return this._primaryText;\n  }\n\n  set primaryText(val: string) {\n    this._primaryText = val;\n  }\n\n  get secondaryText(): string {\n    return this._secondaryText;\n  }\n\n  set secondaryText(val: string) {\n    this._secondaryText = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\nimport { OListItemComponent } from '../../list-item/o-list-item.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_RENDERER,\n  DEFAULT_OUTPUTS_O_TEXT_RENDERER,\n  OListItemTextRenderer,\n} from '../o-list-item-text-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_AVATAR = [\n  ...DEFAULT_INPUTS_O_TEXT_RENDERER,\n  'avatar',\n  'emptyAvatar: empty-avatar',\n  // avatar-type [base64|url]: avatar type (extern url or base64). Default: no value.\n  'avatarType: avatar-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR = [\n  ...DEFAULT_OUTPUTS_O_TEXT_RENDERER\n];\n\n@Component({\n  selector: 'o-list-item-avatar',\n  templateUrl: './o-list-item-avatar.component.html',\n  styleUrls: ['./o-list-item-avatar.component.scss'],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_AVATAR,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-avatar]': 'true'\n  }\n})\nexport class OListItemAvatarComponent extends OListItemTextRenderer implements AfterViewInit, OnInit {\n\n  protected avatar: string;\n  protected avatarType: string;\n  protected emptyAvatar: string;\n  protected _avatarSrc: SafeResourceUrl;\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) protected _listItem: OListItemComponent,\n    public sanitizer: DomSanitizer\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  ngOnInit() {\n    let avatarValue: any = this.avatar;\n    if (!this.avatar) {\n      avatarValue = this.emptyAvatar;\n    } else {\n      switch (this.avatarType) {\n        case 'base64':\n          avatarValue = ('data:image/png;base64,' + ((typeof (avatarValue.bytes) !== 'undefined') ? avatarValue.bytes : avatarValue));\n          break;\n        case 'url':\n        default:\n          avatarValue = this.avatar;\n          break;\n      }\n    }\n    this.avatarSrc = this.sanitizer.bypassSecurityTrustResourceUrl(avatarValue);\n  }\n\n  get avatarSrc(): SafeResourceUrl {\n    return this._avatarSrc;\n  }\n\n  set avatarSrc(val: SafeResourceUrl) {\n    this._avatarSrc = val;\n  }\n\n}\n","import { ElementRef, EventEmitter, Injector, Renderer2 } from '@angular/core';\n\nimport { Util } from '../../../util/util';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\n\nexport const DEFAULT_INPUTS_O_CARD_RENDERER = [\n  'title',\n  'subtitle',\n  'image',\n  'showImage: show-image',\n  'action1Text: action-1-text',\n  'action2Text: action-2-text'\n];\n\nexport const DEFAULT_OUTPUTS_O_CARD_RENDERER = [\n  'onAction1Click: action-1',\n  'onAction2Click: action-2'\n];\n\nexport class OListItemCardRenderer {\n\n  /* inputs variables */\n  protected _title: string;\n  protected _subtitle: string;\n  protected _image: string;\n  protected _showImage: boolean = true;\n  protected _action1Text: string;\n  protected _action2Text: string;\n\n  onAction1Click: EventEmitter<object> = new EventEmitter<object>();\n  onAction2Click: EventEmitter<object> = new EventEmitter<object>();\n  /* end of inputs variables */\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    protected _listItem: OListItemComponent\n  ) { }\n\n  modifyMatListItemElement() {\n    if (this.elRef.nativeElement && this.elRef.nativeElement.parentElement) {\n      const matListItem = this.elRef.nativeElement.parentElement.parentElement;\n      matListItem.querySelector('.mat-list-text').remove();\n      matListItem.classList.add('o-card-item');\n    }\n  }\n\n  onAction1ButtonClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onAction1Click.emit(e);\n  }\n\n  onAction2ButtonClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onAction2Click.emit(e);\n  }\n\n  compareListHeight(height: string) {\n    return (height === this._listItem._list.rowHeight) || undefined;\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get subtitle(): string {\n    return this._subtitle;\n  }\n\n  set subtitle(val: string) {\n    this._subtitle = val;\n  }\n\n  get image(): string {\n    return this._image;\n  }\n\n  set image(val: string) {\n    this._image = val;\n  }\n\n  get showImage(): boolean {\n    return this._showImage;\n  }\n\n  set showImage(val: boolean) {\n    this._showImage = val;\n  }\n\n  get action1Text(): string {\n    return this._action1Text;\n  }\n\n  set action1Text(val: string) {\n    this._action1Text = val;\n  }\n\n  get action2Text(): string {\n    return this._action2Text;\n  }\n\n  set action2Text(val: string) {\n    this._action2Text = val;\n  }\n\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  Optional,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { Util } from '../../../../util/util';\nimport { OListItemComponent } from '../../list-item/o-list-item.component';\nimport {\n  DEFAULT_INPUTS_O_CARD_RENDERER,\n  DEFAULT_OUTPUTS_O_CARD_RENDERER,\n  OListItemCardRenderer,\n} from '../o-list-item-card-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_CARD_IMAGE = [\n  ...DEFAULT_INPUTS_O_CARD_RENDERER,\n  'avatar'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_CARD_IMAGE = [\n  ...DEFAULT_OUTPUTS_O_CARD_RENDERER\n];\n\n@Component({\n  selector: 'o-list-item-card-image',\n  templateUrl: './o-list-item-card-image.component.html',\n  styleUrls: ['./o-list-item-card-image.component.scss'],\n  inputs: [\n    ...DEFAULT_INPUTS_O_LIST_ITEM_CARD_IMAGE,\n    'content',\n    'avatar',\n    'icon',\n    'collapsible',\n    'collapsed'\n  ],\n  outputs: [\n    ...DEFAULT_OUTPUTS_O_LIST_ITEM_CARD_IMAGE,\n    'onIconClick : icon-action'\n  ],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-card-image]': 'true'\n  }\n})\nexport class OListItemCardImageComponent extends OListItemCardRenderer implements AfterViewInit {\n\n  protected _content: string;\n  protected _avatar: string;\n  protected _icon: string;\n  @InputConverter()\n  protected _collapsible: boolean = false;\n  @InputConverter()\n  protected _collapsed: boolean = true;\n\n  onIconClick: EventEmitter<object> = new EventEmitter<object>();\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  onActionIconClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onIconClick.emit(e);\n  }\n\n  get content(): string {\n    return this._content;\n  }\n\n  set content(val: string) {\n    this._content = val;\n  }\n\n  get avatar(): string {\n    return this._avatar;\n  }\n\n  set avatar(val: string) {\n    this._avatar = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n  get collapsible(): boolean {\n    return this._collapsible;\n  }\n\n  set collapsible(val: boolean) {\n    this._collapsible = val;\n  }\n\n  get collapsed(): boolean {\n    return this._collapsed;\n  }\n\n  set collapsed(val: boolean) {\n    this._collapsed = val;\n  }\n\n}\n\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  Optional,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { OListItemComponent } from '../../list-item/o-list-item.component';\nimport {\n  DEFAULT_INPUTS_O_CARD_RENDERER,\n  DEFAULT_OUTPUTS_O_CARD_RENDERER,\n  OListItemCardRenderer,\n} from '../o-list-item-card-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_CARD = [\n  ...DEFAULT_INPUTS_O_CARD_RENDERER\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_CARD = [\n  ...DEFAULT_OUTPUTS_O_CARD_RENDERER\n];\n\n@Component({\n  selector: 'o-list-item-card',\n  templateUrl: './o-list-item-card.component.html',\n  styleUrls: ['./o-list-item-card.component.scss'],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_CARD,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_CARD,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-card]': 'true'\n  }\n})\nexport class OListItemCardComponent extends OListItemCardRenderer implements AfterViewInit {\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n}\n\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { OListItemComponent } from '../../list-item/o-list-item.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_RENDERER,\n  DEFAULT_OUTPUTS_O_TEXT_RENDERER,\n  OListItemTextRenderer,\n} from '../o-list-item-text-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_TEXT = [\n  ...DEFAULT_INPUTS_O_TEXT_RENDERER,\n  'iconPosition : icon-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_TEXT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_RENDERER\n];\n\n@Component({\n  selector: 'o-list-item-text',\n  templateUrl: './o-list-item-text.component.html',\n  styleUrls: ['./o-list-item-text.component.scss'],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_TEXT,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_TEXT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true'\n  }\n})\nexport class OListItemTextComponent extends OListItemTextRenderer implements OnInit, AfterViewInit {\n\n  public ICON_POSITION_LEFT = 'left';\n  public ICON_POSITION_RIGHT = 'right';\n\n  public _iconPosition: string;\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) protected _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n    this.elRef.nativeElement.classList.add('o-list-item-text');\n  }\n\n  ngOnInit(): void {\n    if (!this.iconPosition || [this.ICON_POSITION_LEFT, this.ICON_POSITION_RIGHT].indexOf(this.iconPosition.toLowerCase()) === -1) {\n      this.iconPosition = this.ICON_POSITION_RIGHT;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  get iconPosition(): string {\n    return this._iconPosition;\n  }\n\n  set iconPosition(val: string) {\n    this._iconPosition = val;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatCheckbox } from '@angular/material';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OSearchInputModule } from '../input/search-input/o-search-input.module';\nimport { OListItemComponent } from './list-item/o-list-item.component';\nimport { OListComponent } from './o-list.component';\nimport { OListItemAvatarComponent } from './renderers/avatar/o-list-item-avatar.component';\nimport { OListItemCardImageComponent } from './renderers/card-image/o-list-item-card-image.component';\nimport { OListItemCardComponent } from './renderers/card/o-list-item-card.component';\nimport { OListItemTextComponent } from './renderers/text/o-list-item-text.component';\n\n@NgModule({\n  declarations: [\n    OListComponent,\n    OListItemComponent,\n    OListItemAvatarComponent,\n    OListItemCardImageComponent,\n    OListItemCardComponent,\n    OListItemTextComponent\n  ],\n  imports: [CommonModule, OSearchInputModule, OSharedModule, RouterModule],\n  exports: [\n    OListComponent,\n    OListItemComponent,\n    OListItemAvatarComponent,\n    OListItemCardImageComponent,\n    OListItemCardComponent,\n    OListItemTextComponent\n  ],\n  entryComponents: [MatCheckbox]\n})\nexport class OListModule { }\n","export enum ColumnValueFilterOperator { IN, LESS_EQUAL, MORE_EQUAL, BETWEEN, EQUAL }\n\nexport type OColumnValueFilter = {\n  attr: string;\n  operator: ColumnValueFilterOperator;\n  values: any;\n};\n","export type TableFilterByColumnData = {\n  value: any;\n  selected: boolean;\n  renderedValue?: any;\n  tableIndex?: number;\n};\n\nexport enum TableFilterByColumnDialogResult {\n  ACCEPT,\n  CANCEL,\n  CLEAR\n}\n","import { BehaviorSubject, Observable } from 'rxjs';\n\nimport { OTableColumnCalculated } from '../../../interfaces/o-table-column-calculated.interface';\nimport { OTableColumn } from '../../../interfaces/o-table-column.interface';\nimport { Expression } from '../../../types/expression.type';\nimport { OColumnAggregate } from '../../../types/o-column-aggregate.type';\nimport { OColumnTooltip } from '../../../types/o-column-tooltip.type';\nimport { OperatorFunction } from '../../../types/operation-function.type';\nimport { Codes, Util } from '../../../util';\nimport { OBaseTableCellRenderer } from './cell-renderer/o-base-table-cell-renderer.class';\n\nexport class OColumn {\n  attr: string;\n  name: string;\n  title: string;\n  type: string;\n  sqlType: number;\n  className: string;\n  orderable: boolean;\n  _searchable: boolean;\n  searching: boolean; // this column is used to filter in quickfilter\n  visible: boolean;\n  renderer: OBaseTableCellRenderer;\n  editor: any;\n  protected _editing: boolean = false;\n  _width: string;\n  minWidth: string;\n  maxWidth: string;\n  aggregate: OColumnAggregate;\n  calculate: string | OperatorFunction;\n  definition: OTableColumn;\n  tooltip: OColumnTooltip;\n  resizable: boolean;\n  DOMWidth: number;\n  filterExpressionFunction: (columnAttr: string, quickFilter?: string) => Expression;\n\n  private multilineSubject: BehaviorSubject<boolean> = new BehaviorSubject(this.multiline);\n  public isMultiline: Observable<boolean> = this.multilineSubject.asObservable();\n  private _multiline: boolean;\n\n  get editing(): boolean {\n    return this._editing;\n  }\n\n  set editing(val: boolean) {\n    if (this.type === 'boolean' && this.editor && this.editor.autoCommit) {\n      this._editing = false;\n    }\n    this._editing = this.editor != null && val;\n  }\n\n  setDefaultProperties(args: any) {\n    this.type = 'string';\n    this.className = 'o-column-' + (this.type) + ' ';\n    this.orderable = args.orderable;\n    this.resizable = args.resizable;\n    this.searchable = true;\n    this.searching = true;\n    // column without 'attr' should contain only renderers that do not depend on cell data, but row data (e.g. actions)\n    this.name = this.attr;\n    this.title = this.attr;\n    this.multiline = false;\n  }\n\n  setColumnProperties(column: OTableColumn & OTableColumnCalculated) {\n    this.title = Util.isDefined(column.title) ? column.title : column.attr;\n    this.definition = column;\n    this.multiline = column.multiline;\n\n    if (Util.isDefined(column.minWidth)) {\n      this.minWidth = column.minWidth;\n    }\n    if (Util.isDefined(column.maxWidth)) {\n      this.maxWidth = column.maxWidth;\n    }\n    if (Util.isDefined(column.orderable)) {\n      this.orderable = column.orderable;\n    }\n    if (Util.isDefined(column.resizable)) {\n      this.resizable = column.resizable;\n    }\n    if (Util.isDefined(column.searchable)) {\n      this.searchable = column.searchable;\n    }\n    if (Util.isDefined(column.renderer)) {\n      this.renderer = column.renderer;\n    }\n    if (Util.isDefined(column.editor)) {\n      this.editor = column.editor;\n    }\n    if (Util.isDefined(column.type)) {\n      this.type = column.type;\n      this.className = 'o-column-' + (this.type) + ' ';\n    }\n    if (Util.isDefined(column.getSQLType)) {\n      this.sqlType = column.getSQLType();\n    }\n    if (Util.isDefined(column.class)) {\n      this.className = Util.isDefined(this.className) ? (this.className + ' ' + column.class) : column.class;\n    }\n    // if (column instanceof OTableColumnCalculatedComponent) {\n    if (Util.isDefined(column.operation) || Util.isDefined(column.functionOperation)) {\n      this.calculate = column.operation ? column.operation : column.functionOperation;\n    }\n    // }\n    if (Util.isDefined(column.tooltip) && column.tooltip) {\n      this.tooltip = {\n        value: column.tooltipValue,\n        function: column.tooltipFunction\n      };\n    }\n    if (Util.isDefined(column.filterExpressionFunction)) {\n      this.filterExpressionFunction = column.filterExpressionFunction;\n    }\n  }\n\n  set searchable(val: boolean) {\n    this._searchable = val;\n    this.searching = val;\n  }\n\n  get searchable(): boolean {\n    return this._searchable;\n  }\n\n  set multiline(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._multiline = val;\n    this.multilineSubject.next(this._multiline);\n  }\n\n  get multiline(): boolean {\n    return this._multiline;\n  }\n\n  hasTooltip(): boolean {\n    return Util.isDefined(this.tooltip);\n  }\n\n  getTooltip(rowData: any): any {\n    if (!this.hasTooltip()) {\n      return undefined;\n    }\n    let tooltip;\n    if (Util.isDefined(this.tooltip.value)) {\n      tooltip = this.tooltip.value;\n    } else if (Util.isDefined(this.tooltip.function)) {\n      try {\n        tooltip = this.tooltip.function(rowData);\n      } catch (e) {\n        console.warn('o-table-column tooltip-function didnt worked');\n      }\n    } else {\n      tooltip = Util.isDefined(this.renderer) ? this.renderer.getTooltip(rowData[this.name], rowData) : rowData[this.name];\n    }\n    return tooltip;\n  }\n\n  getMinWidth() {\n    if (Util.isDefined(this.width)) {\n      return this.width;\n    }\n    return this.minWidth;\n  }\n\n  getMinWidthValue() {\n    return Util.extractPixelsValue(this.minWidth, Codes.DEFAULT_COLUMN_MIN_WIDTH);\n  }\n\n  getMaxWidthValue() {\n    const value = Util.extractPixelsValue(this.maxWidth);\n    return value ? value : undefined;\n  }\n\n  getRenderWidth(horizontalScrolled: boolean, clientWidth: number) {\n    if (Util.isDefined(this.width)) {\n      return this.width;\n    }\n    const minValue = Util.extractPixelsValue(this.minWidth, Codes.DEFAULT_COLUMN_MIN_WIDTH);\n    if (Util.isDefined(minValue) && clientWidth > 0 && clientWidth < minValue) {\n      this.DOMWidth = minValue;\n    }\n\n    if (Util.isDefined(this.maxWidth)) {\n      const maxValue = Util.extractPixelsValue(this.maxWidth);\n      if (Util.isDefined(maxValue) && clientWidth > maxValue) {\n        this.DOMWidth = maxValue;\n      }\n    }\n    const defaultWidth = (horizontalScrolled) ? undefined : 'auto';\n    return Util.isDefined(this.DOMWidth) ? (this.DOMWidth + 'px') : defaultWidth;\n  }\n\n  set width(val: string) {\n    let widthVal = val;\n    const pxVal = Util.extractPixelsValue(val);\n    if (Util.isDefined(pxVal)) {\n      this.DOMWidth = pxVal;\n      widthVal = undefined;\n    }\n    this._width = widthVal;\n  }\n\n  get width(): string {\n    return this._width;\n  }\n\n\n  getWidthToStore(): any {\n    return this._width || this.DOMWidth;\n  }\n\n  setWidth(val: number) {\n    this.width = val + 'px';\n    this.DOMWidth = val;\n  }\n\n  getTitleAlignClass() {\n    if (Util.isDefined(this.definition)) {\n      return this.definition.titleAlign || Codes.COLUMN_TITLE_ALIGN_CENTER;\n    }\n    // default title align\n    return Codes.COLUMN_TITLE_ALIGN_CENTER;\n  }\n\n  getFilterValue(cellValue: any, rowValue?: any): any[] {\n    if (this.renderer) {\n      return this.renderer.getFilter(cellValue, rowValue);\n    } else {\n      return [cellValue];\n    }\n  }\n\n  useCustomFilterFunction(): boolean {\n    return this.searching && this.visible && this.renderer != null && this.renderer.filterFunction != null;\n  }\n\n  useQuickfilterFunction(): boolean {\n    return this.searching && this.visible && !(this.renderer != null && this.renderer.filterFunction != null);\n  }\n\n}\n","import { OTableOptions } from '../../../interfaces/o-table-options.interface';\nimport { Codes } from '../../../util/codes';\nimport { OColumn } from '../column/o-column.class';\n\nexport class DefaultOTableOptions implements OTableOptions {\n\n  columns: Array<OColumn> = [];\n  filter: boolean = true;\n  filterCaseSensitive: boolean = false;\n\n  protected _visibleColumns: Array<any> = [];\n  protected _selectColumn: OColumn;\n  protected _expandableColumn: OColumn;\n\n  constructor() {\n    this.selectColumn = new OColumn();\n    this.selectColumn.name = Codes.NAME_COLUMN_SELECT;\n    this.selectColumn.title = '';\n    this.selectColumn.visible = false;\n  }\n\n  get visibleColumns(): Array<any> {\n    return this._visibleColumns;\n  }\n\n  set visibleColumns(arg: Array<any>) {\n    this._visibleColumns = arg;\n    this.columns.forEach((oCol: OColumn) => {\n      oCol.visible = this._visibleColumns.indexOf(oCol.attr) !== -1;\n    });\n  }\n\n  get columnsInsertables(): Array<string> {\n    return this._visibleColumns.map((col: string) => {\n      return col + Codes.SUFFIX_COLUMN_INSERTABLE;\n    });\n  }\n\n  get selectColumn(): OColumn {\n    return this._selectColumn;\n  }\n\n  set selectColumn(val: OColumn) {\n    this._selectColumn = val;\n    this.selectColumn.name = Codes.NAME_COLUMN_SELECT;\n    this.selectColumn.title = '';\n    this.selectColumn.visible = false;\n  }\n\n  get expandableColumn(): OColumn {\n    return this._expandableColumn;\n  }\n\n  set expandableColumn(val: OColumn) {\n    this._expandableColumn = val;\n    this._expandableColumn.name = Codes.NAME_COLUMN_EXPANDABLE;\n    this._expandableColumn.title = '';\n    this._expandableColumn.visible = true;\n    this._expandableColumn.resizable = false;\n    this._expandableColumn.searchable = false;\n  }\n\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Inject, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatCheckboxChange, MatDialogRef, MatSelectionList, MatSlideToggleChange } from '@angular/material';\nimport { BehaviorSubject, fromEvent, Observable } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { ColumnValueFilterOperator, OColumnValueFilter } from '../../../../../types/o-column-value-filter.type';\nimport { TableFilterByColumnData, TableFilterByColumnDialogResult } from '../../../../../types/o-table-filter-by-column-data.type';\nimport { Codes } from '../../../../../util';\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OFilterColumn } from '../../header/table-columns-filter/columns/o-table-columns-filter-column.component';\n\n@Component({\n  selector: 'o-table-filter-by-column-data-dialog',\n  templateUrl: 'o-table-filter-by-column-data-dialog.component.html',\n  styleUrls: ['o-table-filter-by-column-data-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-filter-by-column-dialog]': 'true'\n  }\n})\nexport class OTableFilterByColumnDataDialogComponent implements AfterViewInit {\n\n  public acceptAction = TableFilterByColumnDialogResult.ACCEPT;\n  public cancelAction = TableFilterByColumnDialogResult.CANCEL;\n  public clearAction = TableFilterByColumnDialogResult.CLEAR;\n\n  column: OColumn;\n  preloadValues: boolean = true;\n  mode: string;\n  public onSortFilterValuesChange: EventEmitter<OFilterColumn> = new EventEmitter();\n  private isCustomFilterSubject = new BehaviorSubject<boolean>(false);\n  isCustomFilter: Observable<boolean> = this.isCustomFilterSubject.asObservable();\n\n  private isDefaultFilterSubject = new BehaviorSubject<boolean>(false);\n  isDefaultFilter: Observable<boolean> = this.isDefaultFilterSubject.asObservable();\n\n  fcText = new FormControl();\n  fcFrom = new FormControl();\n  fcTo = new FormControl();\n\n  protected columnData: Array<TableFilterByColumnData> = [];\n  protected tableData: Array<any> = [];\n\n  private listDataSubject = new BehaviorSubject<Array<TableFilterByColumnData>>([]);\n  protected _listData: Observable<Array<TableFilterByColumnData>> = this.listDataSubject.asObservable();\n\n\n  @ViewChild('filter', { static: false }) filter: ElementRef;\n  @ViewChild('filterValueList', { static: false }) filterValueList: MatSelectionList;\n  public activeSortDirection: 'asc' | 'desc' | '' = '';\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableFilterByColumnDataDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.column) {\n      this.column = data.column;\n    }\n    let previousFilter: OColumnValueFilter = {\n      attr: undefined,\n      operator: undefined,\n      values: undefined\n    };\n    if (data.mode) {\n      this.isDefaultFilterSubject.next(data.mode === 'default');\n      this.isCustomFilterSubject.next(data.mode === 'custom');\n      this.mode = data.mode;\n    }\n\n    if (data.previousFilter) {\n      previousFilter = data.previousFilter;\n      this.isCustomFilterSubject.next([ColumnValueFilterOperator.LESS_EQUAL, ColumnValueFilterOperator.MORE_EQUAL, ColumnValueFilterOperator.BETWEEN, ColumnValueFilterOperator.EQUAL].indexOf(previousFilter.operator) !== -1);\n    }\n\n    if (data.hasOwnProperty('preloadValues')) {\n      this.preloadValues = data.preloadValues;\n    }\n    if (data.activeSortDirection) {\n      this.activeSortDirection = data.activeSortDirection;\n    }\n\n    if (data.tableData && Array.isArray(data.tableData)) {\n      this.tableData = data.tableData;\n      this.getDistinctValues(data.tableData, previousFilter);\n      this.initializeCustomFilterValues(previousFilter);\n      this.initializeDataList(previousFilter);\n    }\n    if (data.mode) {\n      this.mode = data.mode;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.initializeFilterEvent();\n  }\n\n  get listData(): Observable<Array<TableFilterByColumnData>> {\n    return this._listData;\n  }\n\n  set listData(arg: Observable<Array<TableFilterByColumnData>>) {\n    this._listData = arg;\n  }\n\n  initializeDataList(filter?: OColumnValueFilter): void {\n    if (this.preloadValues || (filter && filter.operator === ColumnValueFilterOperator.IN)) {\n      if (this.activeSortDirection === Codes.ASC_SORT || this.activeSortDirection === Codes.DESC_SORT) {\n        this.sortData();\n      } else {\n        this.listDataSubject.next(this.columnData.slice());\n      }\n    }\n  }\n\n  initializeFilterEvent() {\n    if (this.filter) {\n      const self = this;\n      fromEvent(this.filter.nativeElement, 'keyup')\n        .pipe(debounceTime(150))\n        .pipe(distinctUntilChanged())\n        .subscribe(() => {\n          let filterValue: string = self.filter.nativeElement.value;\n          filterValue = Util.normalizeString(filterValue);\n          if (filterValue.indexOf('*') !== -1) {\n            self.listDataSubject.next(self.columnData.filter(item => new RegExp('^' + Util.normalizeString(filterValue).split('*').join('.*') + '$').test(Util.normalizeString(item.renderedValue))));\n          } else {\n            self.listDataSubject.next(self.columnData.filter(item => (Util.normalizeString(item.renderedValue).indexOf(filterValue) !== -1)));\n          }\n        });\n    }\n  }\n\n  initializeCustomFilterValues(filter: OColumnValueFilter): void {\n    if (filter.operator !== ColumnValueFilterOperator.IN) {\n      if (ColumnValueFilterOperator.EQUAL === filter.operator) {\n        if (this.isTextType()) {\n          this.fcText.setValue(filter.values);\n        }\n      }\n      if (filter.operator === ColumnValueFilterOperator.BETWEEN) {\n        if (this.isDateType()) {\n          this.fcFrom.setValue(new Date(filter.values[0]));\n          this.fcTo.setValue(new Date(filter.values[1]));\n        } else {\n          this.fcFrom.setValue(filter.values[0]);\n          this.fcTo.setValue(filter.values[1]);\n        }\n      } else {\n        if (filter.operator === ColumnValueFilterOperator.MORE_EQUAL) {\n          if (this.isDateType()) {\n            this.fcFrom.setValue(new Date(filter.values));\n          } else {\n            this.fcFrom.setValue(filter.values);\n          }\n        }\n        if (filter.operator === ColumnValueFilterOperator.LESS_EQUAL) {\n          if (this.isDateType()) {\n            this.fcTo.setValue(new Date(filter.values));\n          } else {\n            this.fcTo.setValue(filter.values);\n          }\n        }\n      }\n    }\n  }\n\n  get selectedValues(): Array<TableFilterByColumnData> {\n    return this.filterValueList ? this.filterValueList.selectedOptions.selected : [];\n  }\n\n  areAllSelected(): boolean {\n    return this.selectedValues.length === this.columnData.length;\n  }\n\n  isIndeterminate(): boolean {\n    return this.selectedValues.length > 0 && this.selectedValues.length !== this.columnData.length;\n  }\n\n  onSelectAllChange(event: MatCheckboxChange) {\n    if (event.checked) {\n      this.filterValueList.selectAll();\n    } else {\n      this.filterValueList.deselectAll();\n    }\n  }\n\n  getDistinctValues(data: Array<any>, filter: OColumnValueFilter): void {\n    const colRenderedValues = this.getColumnDataUsingRenderer();\n    const colValues: any[] = data.map(elem => elem[this.column.attr]);\n\n    colRenderedValues.forEach((renderedValue, i) => {\n      if (!this.columnData.find(item => item.renderedValue === renderedValue)) {\n        this.columnData.push({\n          renderedValue: renderedValue,\n          value: colValues[i],\n          selected: filter.operator === ColumnValueFilterOperator.IN && (filter.values || []).indexOf(colValues[i]) !== -1,\n          // storing the first index where this renderedValue is obtained. In the template of this component the column renderer will obtain the\n          // row value of this index\n          tableIndex: i\n        });\n      }\n    });\n  }\n\n  getColumnValuesFilter(): OColumnValueFilter {\n    const filter = {\n      attr: this.column.attr,\n      operator: undefined,\n      values: undefined\n    };\n\n    if (!this.isCustomFilterSubject.getValue()) {\n      if (this.selectedValues.length) {\n        filter.operator = ColumnValueFilterOperator.IN;\n        filter.values = this.selectedValues.map((item) => item.value);\n      }\n    } else {\n      if (this.fcText.value) {\n        filter.operator = ColumnValueFilterOperator.EQUAL;\n        filter.values = this.getTypedValue(this.fcText);\n      }\n      if (this.fcFrom.value && this.fcTo.value) {\n        filter.operator = ColumnValueFilterOperator.BETWEEN;\n        const fromValue = this.getTypedValue(this.fcFrom);\n        const toValue = this.getTypedValue(this.fcTo);\n        filter.values = fromValue <= toValue ? [fromValue, toValue] : [toValue, fromValue];\n      } else {\n        if (this.fcFrom.value) {\n          filter.operator = ColumnValueFilterOperator.MORE_EQUAL;\n          filter.values = this.getTypedValue(this.fcFrom);\n        }\n        if (this.fcTo.value) {\n          filter.operator = ColumnValueFilterOperator.LESS_EQUAL;\n          filter.values = this.getTypedValue(this.fcTo);\n        }\n      }\n    }\n    return filter;\n  }\n\n  clearValues() {\n    if (this.isTextType()) {\n      this.fcText.setValue(undefined);\n    } else {\n      if (this.isDateType() || this.isNumericType) {\n        this.fcFrom.setValue(undefined);\n        this.fcTo.setValue(undefined);\n      }\n    }\n  }\n\n  onClickSortValues() {\n    switch (this.activeSortDirection) {\n      case 'asc':\n        this.activeSortDirection = 'desc';\n        break;\n      case 'desc':\n        this.activeSortDirection = '';\n        break;\n      default:\n        this.activeSortDirection = 'asc';\n        break;\n    }\n    this.onSortFilterValuesChange.emit(this.getFilterColumn());\n    this.sortData();\n  }\n\n  sortData() {\n    const sortedData = Object.assign([], this.columnData);\n    if (this.activeSortDirection !== '') {\n      this.listDataSubject.next(sortedData.sort(this.sortFunction.bind(this)));\n    } else {\n      this.listDataSubject.next(sortedData);\n    }\n\n  }\n\n  sortFunction(a: any, b: any): number {\n    let propertyA: number | string = '';\n    let propertyB: number | string = '';\n    [propertyA, propertyB] = [a['value'], b['value']];\n\n    const valueA = typeof propertyA === 'undefined' ? '' : propertyA === '' ? propertyA : isNaN(+propertyA) ? propertyA.toString().trim().toLowerCase() : +propertyA;\n    const valueB = typeof propertyB === 'undefined' ? '' : propertyB === '' ? propertyB : isNaN(+propertyB) ? propertyB.toString().trim().toLowerCase() : +propertyB;\n    return (valueA <= valueB ? -1 : 1) * (this.activeSortDirection === 'asc' ? 1 : -1);\n  }\n\n  onSlideChange(e: MatSlideToggleChange): void {\n    this.isCustomFilterSubject.next(e.checked);\n\n    if (!e.checked) {\n      // Selection mode\n      this.initializeDataList();\n      const self = this;\n      setTimeout(() => {\n        self.initializeFilterEvent();\n      }, 0);\n    }\n  }\n\n  isTextType(): boolean {\n    return !this.isNumericType() && !this.isDateType();\n  }\n\n  isNumericType(): boolean {\n    return ['integer', 'real', 'currency'].indexOf(this.column.type) !== -1;\n  }\n\n  isDateType(): boolean {\n    return 'date' === this.column.type;\n  }\n\n  getRowValue(i: number): any {\n    return this.tableData[i];\n  }\n\n  getFixedDimensionClass() {\n    return this.mode === 'selection' || this.mode === 'default';\n  }\n\n  getSortByAlphaIcon() {\n    let icon = 'ontimize:sort_by_alpha';\n    if (this.activeSortDirection !== '') {\n      icon += '_' + this.activeSortDirection;\n    }\n    return icon;\n  }\n\n  getFilterColumn(): OFilterColumn {\n    let obj: OFilterColumn = { attr: '', sort: '' };\n    obj.attr = this.column.attr;\n    obj.sort = this.activeSortDirection;\n    return obj;\n  }\n\n  protected getTypedValue(control: FormControl): any {\n    let value = control.value;\n    if (this.isNumericType()) {\n      value = control.value;\n    }\n    if (this.isDateType()) {\n      value = control.value.valueOf();\n    }\n    return value;\n  }\n\n  protected getColumnDataUsingRenderer() {\n    const useRenderer = this.column.renderer && this.column.renderer.getCellData;\n    return this.tableData.map((row) => useRenderer ? this.column.renderer.getCellData(row[this.column.attr], row) : row[this.column.attr]);\n  }\n}\n","import { OTablePaginator } from '../../../../../interfaces/o-table-paginator.interface';\n\nexport class OBaseTablePaginator implements OTablePaginator {\n\n  protected _pageIndex: number = 0;\n  protected _pageSize: number = 10;\n  protected _pageSizeOptions: Array<any>;\n  showFirstLastButtons: boolean = true;\n\n  constructor() {\n    this._pageIndex = 0;\n    this._pageSizeOptions = [10, 25, 50, 100];\n  }\n\n  get pageLenght(): number {\n    return this._pageSize;\n  }\n\n  set pageLenght(value: number) {\n    this._pageSize = value;\n  }\n\n  get pageIndex(): number {\n    return this._pageIndex;\n  }\n\n  set pageIndex(value: number) {\n    this._pageIndex = value;\n  }\n\n  get pageSize(): number {\n    return this._pageSize;\n  }\n\n  set pageSize(value: number) {\n    const parsedValue = parseInt(`${value}`, 10);\n    if (isNaN(parsedValue) || parsedValue < 0) {\n      this._pageSize = this._pageSizeOptions[0];\n    } else {\n      this._pageSize = parsedValue;\n    }\n    const result = this.pageSizeOptions.find(option => option === this._pageSize);\n    if (!result) {\n      this._pageSizeOptions.push(this._pageSize);\n      this._pageSizeOptions.sort((i: number, j: number) => i - j);\n    }\n  }\n\n  get pageSizeOptions(): Array<any> {\n    return this._pageSizeOptions;\n  }\n\n  set pageSizeOptions(value: Array<any>) {\n    this._pageSizeOptions = value;\n  }\n\n  public isShowingAllRows(selectedLength): boolean {\n    // return this._pageSizeOptions.indexOf(selectedLength) === (this._pageSizeOptions.length - 1);\n    // temporal while not having an option for showing all records in paginated tables\n    return false;\n  }\n}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\nexport type OFilterColumn = {\n  attr: string;\n  sort: 'asc' | 'desc' | '';\n};\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER_COLUMN = [\n  // attr [string]: column name.\n  'attr',\n  // sort [asc|desc]: initial sorting, with the format column:[ASC|DESC].\n  'sort'\n];\n\n@Component({\n  selector: 'o-table-columns-filter-column',\n  template: ' ',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER_COLUMN\n})\n\nexport class OTableColumnsFilterColumnComponent {\n\n  public attr: string = '';\n  public sort: 'asc' | 'desc' | '' = '';\n\n}\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injector, OnInit, ContentChildren, QueryList } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OTableColumnsFilterColumnComponent, OFilterColumn } from './columns/o-table-columns-filter-column.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER = [\n  // columns [string]: columns that might be filtered, separated by ';'. Default: all visible columns.\n  'columns',\n  // preloadValues [true|false|yes|no]: indicates whether or not to show the list values when the filter dialog is opened. Default: true.\n  'preloadValues: preload-values',\n  // mode [default | selection |  custom]\n  'mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER = [\n];\n\n@Component({\n  selector: 'o-table-columns-filter',\n  template: ' ',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER\n})\n\nexport class OTableColumnsFilterComponent implements OnInit {\n\n  public static DEFAULT_COMPARISON_TYPE = 'VIEW';\n  public static MODEL_COMPARISON_TYPE = 'MODEL';\n  public static OTableColumnsFilterModes = ['default', 'selection', 'custom'];\n\n  protected _columns: string;\n  protected _mode: string = 'default';\n  @InputConverter()\n  preloadValues: boolean = true;\n\n  get mode(): string {\n    return this._mode;\n  }\n\n  @InputConverter()\n  set mode(val: string) {\n    const m = OTableColumnsFilterComponent.OTableColumnsFilterModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._mode = m;\n    } else {\n      console.error('Invalid `o-table-columns-filter` mode (' + val + ')');\n    }\n  }\n\n  protected _columnsArray: Array<OFilterColumn> = [];\n  protected columnsComparisonProperty: object = {};\n\n  @ContentChildren(OTableColumnsFilterColumnComponent, { descendants: true }) filterColumns: QueryList<OTableColumnsFilterColumnComponent>;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) { }\n\n  ngOnInit() {\n    if (this.columnsArray.length === 0) {\n      this.columnsArray = this.table.oTableOptions.visibleColumns;\n    }\n    const self = this;\n    let columns = Util.parseArray(this._columns, true);\n\n    columns.forEach((colData, i, arr) => {\n      const colDef = colData.split(Codes.TYPE_SEPARATOR);\n      const colName = colDef[0];\n      let compType = (colDef[1] || '').toUpperCase();\n      if ([OTableColumnsFilterComponent.DEFAULT_COMPARISON_TYPE, OTableColumnsFilterComponent.MODEL_COMPARISON_TYPE].indexOf(compType) === -1) {\n        compType = OTableColumnsFilterComponent.DEFAULT_COMPARISON_TYPE;\n      }\n      arr[i] = colName;\n      self.columnsComparisonProperty[colName] = compType;\n    });\n\n    this.table.setOTableColumnsFilter(this);\n  }\n\n  ngAfterContentInit() {\n    if (Util.isDefined(this.filterColumns)) {\n      this.columnsArray = this.columnsArray.concat(this.parseFilterColumns(this.filterColumns));\n    }\n  }\n\n  isColumnFilterable(attr: string): boolean {\n    return Util.isDefined(this.columnsArray.find(x => x.attr === attr));\n  }\n\n  getSortValueOfFilterColumn(attr: string): string {\n    let sortValue = '';\n    if (Util.isDefined(this.columnsArray) && this.columnsArray.find(x => x.attr === attr)) {\n      sortValue = this.columnsArray.find(x => x.attr === attr).sort;\n    }\n    return sortValue;\n  }\n\n  getColumnComparisonValue(column: OColumn, val: any): any {\n    if (!column || this.columnsComparisonProperty[column.attr] === OTableColumnsFilterComponent.MODEL_COMPARISON_TYPE) {\n      return val;\n    } else {\n      return column.renderer ? column.renderer.getCellData(val) : val;\n    }\n  }\n\n  set columns(arg: string) {\n    this._columns = arg;\n    this._columnsArray = this.parseColumns(this._columns);\n  }\n\n  set columnsArray(arg: OFilterColumn[]) {\n    this._columnsArray = arg;\n  }\n\n  get columnsArray(): OFilterColumn[] {\n    return this._columnsArray;\n  }\n\n  parseColumns(columns: string) {\n    return columns.split(';')\n      .map(x => {\n        let obj: OFilterColumn = { attr: '', sort: '' };\n        obj.attr = x;\n        obj.sort = '';\n        return obj;\n      });\n  }\n\n  parseFilterColumns(columns: QueryList<OTableColumnsFilterColumnComponent>) {\n    return columns\n      .map(x => {\n        let obj: OFilterColumn = { attr: '', sort: '' };\n        obj.attr = x.attr;\n        obj.sort = x.sort;\n        return obj;\n      });\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\n\nexport const DEFAULT_INPUTS_O_TABLE_OPTION = [\n  'oattr: attr',\n  'enabled',\n  'icon',\n  // show-active-icon [string][yes|no|true|false]: show icon when option is active. Default :no.\n  'showActiveIcon : show-active-icon',\n  'olabel: label',\n  'active'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_OPTION = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-table-option',\n  templateUrl: './o-table-option.component.html',\n  styleUrls: ['./o-table-option.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_OPTION,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_OPTION,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-option]': 'true',\n  }\n})\n\nexport class OTableOptionComponent {\n\n  public static O_TABLE_OPTION_ACTIVE_CLASS = 'o-table-option-active';\n\n  onClick: EventEmitter<object> = new EventEmitter<object>();\n\n  oattr: string;\n  @InputConverter()\n  enabled: boolean = true;\n  icon: string;\n  olabel: string;\n  @InputConverter()\n  showActiveIcon: boolean = false;\n  @InputConverter()\n  active: boolean = false;\n\n  cd: ChangeDetectorRef;\n\n  constructor(\n    protected injector: Injector,\n    public elRef: ElementRef\n  ) {\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n    } catch (e) {\n    }\n  }\n\n  innerOnClick() {\n    this.onClick.emit();\n    this.setActive(!this.active);\n  }\n\n  showActiveOptionIcon() {\n    return this.showActiveIcon && this.active;\n  }\n\n  setActive(val: boolean) {\n    this.active = val;\n    this.cd.detectChanges();\n  }\n\n}\n","import { DataSource } from '@angular/cdk/collections';\nimport { EventEmitter } from '@angular/core';\nimport { MatPaginator } from '@angular/material';\nimport { BehaviorSubject, merge, Observable, Subject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { OTableDataSource } from '../../../interfaces/o-table-datasource.interface';\nimport { OTableOptions } from '../../../interfaces/o-table-options.interface';\nimport { ColumnValueFilterOperator, OColumnValueFilter } from '../../../types/o-column-value-filter.type';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OColumn } from '../column/o-column.class';\nimport { OTableComponent } from '../o-table.component';\nimport { OTableDao } from './o-table.dao';\nimport { OMatSort } from './sort/o-mat-sort';\n\nexport const SCROLLVIRTUAL = 'scroll';\n\nexport interface ITableOScrollEvent {\n  type: string;\n  data: number;\n}\n\nexport class OTableScrollEvent implements ITableOScrollEvent {\n  public data: number;\n  public type: string;\n\n  constructor(data: number) {\n    this.data = data;\n    this.type = SCROLLVIRTUAL;\n  }\n}\n\nexport class DefaultOTableDataSource extends DataSource<any> implements OTableDataSource {\n  dataTotalsChange = new BehaviorSubject<any[]>([]);\n  get data(): any[] { return this.dataTotalsChange.value; }\n\n  protected _database: OTableDao;\n  protected _paginator: MatPaginator;\n  protected _tableOptions: OTableOptions;\n  protected _sort: OMatSort;\n\n  protected _quickFilterChange = new BehaviorSubject('');\n  protected _columnValueFilterChange = new Subject();\n  protected _loadDataScrollableChange = new BehaviorSubject<OTableScrollEvent>(new OTableScrollEvent(1));\n\n  protected filteredData: any[] = [];\n  protected aggregateData: any = {};\n\n  onRenderedDataChange: EventEmitter<any> = new EventEmitter<any>();\n\n  // load data in scroll\n  get loadDataScrollable(): number { return this._loadDataScrollableChange.getValue().data || 1; }\n  set loadDataScrollable(page: number) {\n    this._loadDataScrollableChange.next(new OTableScrollEvent(page));\n  }\n\n  protected _renderedData: any[] = [];\n  resultsLength: number = 0;\n\n  get quickFilter(): string { return this._quickFilterChange.value || ''; }\n  set quickFilter(filter: string) {\n    this._quickFilterChange.next(filter);\n  }\n\n  private columnValueFilters: Array<OColumnValueFilter> = [];\n\n  constructor(protected table: OTableComponent) {\n    super();\n    this._database = table.daoTable;\n    if (this._database) {\n      this.resultsLength = this._database.data.length;\n    }\n    if (table.paginator) {\n      this._paginator = table.matpaginator;\n    }\n    this._tableOptions = table.oTableOptions;\n    this._sort = table.sort;\n  }\n\n  sortFunction(a: any, b: any): number {\n    return this._sort.sortFunction(a, b);\n  }\n\n  get renderedData(): any[] {\n    return this._renderedData;\n  }\n\n  set renderedData(arg: any[]) {\n    this._renderedData = arg;\n    this.onRenderedDataChange.emit();\n  }\n\n  /**\n   * Connect function called by the table to retrieve one stream containing the data to render.\n   */\n  connect(): Observable<any[]> {\n    const displayDataChanges: any[] = [\n      this._database.dataChange\n    ];\n\n    if (!this.table.pageable) {\n\n      if (this._sort) {\n        displayDataChanges.push(this._sort.oSortChange);\n      }\n\n      if (this._tableOptions.filter) {\n        displayDataChanges.push(this._quickFilterChange);\n      }\n\n      if (this._paginator) {\n        displayDataChanges.push(this._paginator.page);\n      } else {\n        displayDataChanges.push(this._loadDataScrollableChange);\n      }\n    }\n\n    if (this.table.oTableColumnsFilterComponent) {\n      displayDataChanges.push(this._columnValueFilterChange);\n    }\n\n    return merge(...displayDataChanges).pipe(map((x: any) => {\n      let data = Object.assign([], this._database.data);\n      /*\n        it is necessary to first calculate the calculated columns and\n        then filter and sort the data\n      */\n      if (x instanceof OTableScrollEvent) {\n        this.renderedData = data.slice(0, (x.data * Codes.LIMIT_SCROLLVIRTUAL) - 1);\n      } else {\n        if (this.existsAnyCalculatedColumn()) {\n          data = this.getColumnCalculatedData(data);\n        }\n\n        if (!this.table.pageable) {\n          data = this.getColumnValueFilterData(data);\n          data = this.getQuickFilterData(data);\n          data = this.getSortedData(data);\n        }\n\n        this.filteredData = Object.assign([], data);\n\n        if (this.table.pageable) {\n          const totalRecordsNumber = this.table.getTotalRecordsNumber();\n          this.resultsLength = totalRecordsNumber !== undefined ? totalRecordsNumber : data.length;\n        } else {\n          this.resultsLength = data.length;\n          data = this.getPaginationData(data);\n        }\n\n        /** in pagination virtual only show OTableComponent.LIMIT items for better performance of the table */\n        if (!this.table.pageable && !this.table.paginationControls && data.length > Codes.LIMIT_SCROLLVIRTUAL) {\n          const datapaginate = data.slice(0, (this.table.pageScrollVirtual * Codes.LIMIT_SCROLLVIRTUAL) - 1);\n          data = datapaginate;\n        }\n\n        this.renderedData = data;\n        // If a o-table-column-aggregate exists then emit observable\n        // if (this.table.showTotals) {\n        //   this.dataTotalsChange.next(this.renderedData);\n        // }\n\n        this.aggregateData = this.getAggregatesData(data);\n      }\n      return this.renderedData;\n    }));\n  }\n\n  getAggregatesData(data: any[]): any {\n    const self = this;\n    const obj = {};\n\n    if (typeof this._tableOptions === 'undefined') {\n      return obj;\n    }\n\n    this._tableOptions.columns.forEach((column: OColumn) => {\n      let totalValue = '';\n      if (column.aggregate && column.visible) {\n        totalValue = self.calculateAggregate(data, column);\n      }\n      const key = column.attr;\n      obj[key] = totalValue;\n    });\n\n    return obj;\n  }\n\n  /**\n   * Method that get value the columns calculated\n   * @param data data of the database\n   */\n  getColumnCalculatedData(data: any[]): any[] {\n    const self = this;\n    const calculatedCols = this._tableOptions.columns.filter((oCol: OColumn) => oCol.visible && oCol.calculate !== undefined);\n    return data.map((row: any) => {\n      calculatedCols.forEach((oColumn: OColumn) => {\n        let value;\n        if (typeof oColumn.calculate === 'string') {\n          value = self.transformFormula(oColumn.calculate, row);\n        } else if (typeof oColumn.calculate === 'function') {\n          value = oColumn.calculate(row);\n        }\n        row[oColumn.attr] = isNaN(value) ? 0 : value;\n      });\n      return row;\n    });\n  }\n\n  protected transformFormula(formulaArg, row): string {\n    let formula = formulaArg;\n    // 1. replace columns by values of row\n    const columnsAttr = this._tableOptions.columns.map((oCol: OColumn) => oCol.attr);\n    columnsAttr.forEach((column: string) => {\n      formula = formula.replace(column, row[column]);\n    });\n\n    let resultFormula = '';\n    // 2. Transform formula\n    try {\n      resultFormula = (new Function('return ' + formula))();\n    } catch (e) {\n      console.error('Operation defined in the calculated column is incorrect ');\n    }\n    // 3. Return result\n    return resultFormula;\n  }\n\n  getQuickFilterData(data: any[]): any[] {\n    let filterData = this.quickFilter;\n    if (filterData !== undefined && filterData.length > 0) {\n      if (!this._tableOptions.filterCaseSensitive) {\n        filterData = filterData.toLowerCase();\n      }\n      return data.filter((item: any) => {\n        // Getting custom columns filter columns result\n        const passCustomFilter = this.fulfillsCustomFilterFunctions(filterData, item);\n        // Getting other searchable columns standard result\n        const passSearchString = this.fulfillsQuickfilter(filterData, item);\n        return passCustomFilter || passSearchString;\n      });\n    } else {\n      return data;\n    }\n  }\n\n  getPaginationData(data: any[]): any[] {\n    if (!this._paginator || isNaN(this._paginator.pageSize)) {\n      return data;\n    }\n    let startIndex = isNaN(this._paginator.pageSize) ? 0 : this._paginator.pageIndex * this._paginator.pageSize;\n    if (data.length > 0 && data.length < startIndex) {\n      startIndex = 0;\n      this._paginator.pageIndex = 0;\n    }\n    return data.splice(startIndex, this._paginator.pageSize);\n  }\n\n  disconnect() {\n    this.onRenderedDataChange.complete();\n    this.dataTotalsChange.complete();\n    this._quickFilterChange.complete();\n    this._columnValueFilterChange.complete();\n    this._loadDataScrollableChange.complete();\n  }\n\n  protected fulfillsCustomFilterFunctions(filter: string, item: any) {\n    const customFilterCols = this.table.oTableOptions.columns.filter(oCol => oCol.useCustomFilterFunction());\n    return customFilterCols.some(oCol => oCol.renderer.filterFunction(item[oCol.attr], item, filter));\n  }\n\n  protected fulfillsQuickfilter(filter: string, item: any): boolean {\n    const columns = this._tableOptions.columns.filter((oCol: OColumn) => oCol.useQuickfilterFunction());\n    let searchStr = columns.map((oCol: OColumn) => oCol.getFilterValue(item[oCol.attr], item).join(' ')).join(' ');\n    if (!this._tableOptions.filterCaseSensitive) {\n      searchStr = searchStr.toLowerCase();\n    }\n    return searchStr.indexOf(filter) !== -1;\n  }\n\n  /** Returns a sorted copy of the database data. */\n  protected getSortedData(data: any[]): any[] {\n    return this._sort.getSortedData(data);\n  }\n\n  /**\n   * Returns the data the table stores. No filters are applied.\n   */\n  getTableData(): any[] {\n    return this._database.data;\n  }\n\n  /** Return data of the visible columns of the table without rendering */\n  getCurrentData(): any[] {\n    return this.getData();\n  }\n\n  getCurrentAllData(): any[] {\n    return this.getAllData(false, false);\n  }\n\n  /** Return data of the visible columns of the table  rendering */\n  getCurrentRendererData(): any[] {\n    return this.getRenderedData(this.renderedData);\n  }\n\n  /** Return all data of the table rendering */\n  getAllRendererData(): any[] {\n    return this.getAllData(true, true);\n  }\n\n  /** Return sql types of the current data */\n  get sqlTypes(): any {\n    return this._database.sqlTypes;\n  }\n\n  protected getData() {\n    return this.renderedData;\n  }\n\n  public getRenderedData(data: any[]) {\n    const visibleColumns = this._tableOptions.columns.filter(oCol => oCol.visible);\n    return data.map((row) => {\n      const obj = {};\n      visibleColumns.forEach((oCol: OColumn) => {\n        const useRenderer = oCol.renderer && oCol.renderer.getCellData;\n        obj[oCol.attr] = useRenderer ? oCol.renderer.getCellData(row[oCol.attr], row) : row[oCol.attr];\n      });\n      return obj;\n    });\n  }\n\n  protected getAllData(usingRendererers?: boolean, onlyVisibleColumns?: boolean) {\n    let tableColumns = this._tableOptions.columns;\n    if (onlyVisibleColumns) {\n      tableColumns = this._tableOptions.columns.filter(oCol => oCol.visible);\n    }\n    return this.filteredData.map((row) => {\n      const obj = {};\n      tableColumns.forEach((oCol: OColumn) => {\n        const useRenderer = usingRendererers && oCol.renderer && oCol.renderer.getCellData;\n        obj[oCol.attr] = useRenderer ? oCol.renderer.getCellData(row[oCol.attr], row) : row[oCol.attr];\n      });\n      return obj;\n    });\n  }\n\n  private getRenderersData(data: any[], tableColumns: OColumn[]): any[] {\n    return data.map((row) => {\n      // render each column\n      const obj = Object.assign({}, row);\n      tableColumns.forEach((oCol: OColumn) => {\n        obj[oCol.attr] = oCol.renderer.getCellData(row[oCol.attr], row);\n      });\n      return obj;\n    });\n  }\n\n  public getColumnData(ocolumn: string) {\n    return this.renderedData.map((row) => {\n      // render each column\n      const obj = {};\n      if (ocolumn) {\n        obj[ocolumn] = row[ocolumn];\n      }\n      return obj;\n    });\n  }\n\n  initializeColumnsFilters(filters: OColumnValueFilter[]) {\n    this.columnValueFilters = [];\n    filters.forEach(filter => {\n      this.columnValueFilters.push(filter);\n    });\n    if (!this.table.pageable) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  isColumnValueFilterActive(): boolean {\n    return this.columnValueFilters.length !== 0;\n  }\n\n  getColumnValueFilters(): OColumnValueFilter[] {\n    return this.columnValueFilters;\n  }\n\n  getColumnValueFilterByAttr(attr: string): OColumnValueFilter {\n    return this.columnValueFilters.filter(item => item.attr === attr)[0];\n  }\n\n  clearColumnFilters(trigger: boolean = true) {\n    this.columnValueFilters = [];\n    if (trigger) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  clearColumnFilter(attr: string, trigger: boolean = true) {\n    this.columnValueFilters = this.columnValueFilters.filter(x => x.attr !== attr);\n    if (trigger) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  addColumnFilter(filter: OColumnValueFilter) {\n    const existingFilter = this.getColumnValueFilterByAttr(filter.attr);\n    if (existingFilter) {\n      const idx = this.columnValueFilters.indexOf(existingFilter);\n      this.columnValueFilters.splice(idx, 1);\n    }\n\n    if (\n      (ColumnValueFilterOperator.IN === filter.operator && filter.values.length > 0) ||\n      (ColumnValueFilterOperator.EQUAL === filter.operator && filter.values) ||\n      (ColumnValueFilterOperator.BETWEEN === filter.operator && filter.values.length === 2) ||\n      ((ColumnValueFilterOperator.LESS_EQUAL === filter.operator || ColumnValueFilterOperator.MORE_EQUAL === filter.operator) && filter.values)\n    ) {\n      this.columnValueFilters.push(filter);\n    }\n\n    // If the table is paginated, filter will be applied on remote query\n    if (!this.table.pageable) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  getColumnValueFilterData(data: any[]): any[] {\n    this.columnValueFilters.forEach(filter => {\n      const filterColumn = this.table.oTableOptions.columns.find(col => col.attr === filter.attr);\n      if (filterColumn) {\n        switch (filter.operator) {\n          case ColumnValueFilterOperator.IN:\n            data = data.filter((item: any) => {\n              if (filterColumn.renderer && filterColumn.renderer.filterFunction) {\n                return filterColumn.renderer.filterFunction(item[filter.attr], item);\n              } else {\n                const colValues = filterColumn.getFilterValue(item[filter.attr], item).map(f => Util.normalizeString(f));\n                const filterValues = filter.values.map(f => Util.normalizeString(f));\n                return filterValues.some(value => colValues.indexOf(value) !== -1);\n              }\n            });\n            break;\n          case ColumnValueFilterOperator.EQUAL:\n            const normalizedValue = Util.normalizeString(filter.values);\n            data = data.filter(item => {\n              const colValues = filterColumn.getFilterValue(item[filter.attr], item).map(f => Util.normalizeString(f));\n              let regExp;\n              if (normalizedValue.includes('*')) {\n                regExp = new RegExp('^' + normalizedValue.split('*').join('.*') + '$');\n              }\n              return colValues.some(colValue => regExp ? regExp.test(colValue) : colValue.includes(normalizedValue));\n            });\n            break;\n          case ColumnValueFilterOperator.BETWEEN:\n            data = data.filter(item => item[filter.attr] >= filter.values[0] && item[filter.attr] <= filter.values[1]);\n            break;\n          case ColumnValueFilterOperator.MORE_EQUAL:\n            data = data.filter(item => item[filter.attr] >= filter.values);\n            break;\n          case ColumnValueFilterOperator.LESS_EQUAL:\n            data = data.filter(item => item[filter.attr] <= filter.values);\n            break;\n        }\n      }\n    });\n    return data;\n  }\n\n  getAggregateData(column: OColumn) {\n    const obj = {};\n    let totalValue = '';\n\n    if (typeof this._tableOptions === 'undefined') {\n      return new Array(obj);\n    }\n    totalValue = this.aggregateData[column.attr];\n    return totalValue;\n  }\n\n  calculateAggregate(data: any[], column: OColumn): any {\n    let resultAggregate;\n    const operator = column.aggregate.operator;\n    if (typeof operator === 'string') {\n      switch (operator.toLowerCase()) {\n        case 'count':\n          resultAggregate = this.count(column.attr, data);\n          break;\n        case 'min':\n          resultAggregate = this.min(column.attr, data);\n          break;\n        case 'max':\n          resultAggregate = this.max(column.attr, data);\n          break;\n        case 'avg':\n          resultAggregate = this.avg(column.attr, data);\n          break;\n        default:\n          resultAggregate = this.sum(column.attr, data);\n          break;\n      }\n    } else {\n      const columnData: any[] = this.getColumnData(column.attr);\n      if (typeof operator === 'function') {\n        resultAggregate = operator(columnData);\n      }\n    }\n    return resultAggregate;\n  }\n\n  sum(column, data): number {\n    let value = 0;\n    if (data) {\n      value = data.reduce((acumulator, currentValue) => {\n        return acumulator + (isNaN(currentValue[column]) ? 0 : currentValue[column]);\n      }, value);\n    }\n    return value;\n  }\n\n  count(column, data): number {\n    let value = 0;\n    if (data) {\n      value = data.reduce((acumulator, currentValue, currentIndex) => {\n        return acumulator + 1;\n      }, 0);\n    }\n    return value;\n  }\n\n  avg(column, data): number {\n    return this.sum(column, data) / this.count(column, data);\n  }\n\n  min(column, data): number {\n    const tempMin = data.map(x => x[column]);\n    return Math.min(...tempMin);\n  }\n\n  max(column, data): number {\n    const tempMin = data.map(x => x[column]);\n    return Math.max(...tempMin);\n  }\n\n  protected existsAnyCalculatedColumn(): boolean {\n    return this._tableOptions.columns.find((oCol: OColumn) => oCol.calculate !== undefined) !== undefined;\n  }\n\n  updateRenderedRowData(rowData: any) {\n    const tableKeys = this.table.getKeys();\n    const record = this.renderedData.find((data: any) => {\n      let found = true;\n      for (let i = 0, len = tableKeys.length; i < len; i++) {\n        const key = tableKeys[i];\n        if (data[key] !== rowData[key]) {\n          found = false;\n          break;\n        }\n      }\n      return found;\n    });\n    if (Util.isDefined(record)) {\n      Object.assign(record, rowData);\n    }\n  }\n}\n\n\n\n","import { Injectable } from '@angular/core';\n\nimport { OTableComponent } from '../o-table.component';\nimport { DefaultOTableDataSource } from './default-o-table.datasource';\n\n@Injectable()\nexport class OTableDataSourceService {\n\n  constructor() { }\n\n  getInstance(table: OTableComponent) {\n    return new DefaultOTableDataSource(table);\n  }\n}\n","import { OTableConfiguration } from '../../../types/o-table-configuration.type';\nimport { OTableFiltersStatus } from '../../../types/o-table-filter-status.type';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OColumn } from '../column/o-column.class';\nimport { OTableComponent } from '../o-table.component';\n\nexport class OTableStorage {\n\n  public static STORED_FILTER_KEY = 'stored-filter';\n  public static USER_STORED_FILTERS_KEY = 'user-stored-filters';\n\n  public static STORED_CONFIGURATION_KEY = 'stored-configuration';\n  public static STORED_PROPERTIES_KEY = 'stored-properties';\n  public static STORED_CONFIGURATIONS_KEY = 'user-stored-configurations';\n\n  constructor(\n    protected table: OTableComponent\n  ) { }\n\n  getDataToStore() {\n    const dataToStore = {\n      filter: this.table.oTableQuickFilterComponent ? this.table.oTableQuickFilterComponent.value : ''\n    };\n\n    const properties = ['sort', 'columns-display', 'columns-filter', 'quick-filter', 'page', 'selection', 'initial-configuration', 'filter-columns', 'filter-column-active-by-default'];\n    \n    Object.assign(dataToStore, this.getTablePropertiesToStore(properties));\n\n    const storedFiltersArr = this.getStoredFilters();\n    if (storedFiltersArr.length > 0) {\n      dataToStore[OTableStorage.USER_STORED_FILTERS_KEY] = storedFiltersArr;\n    }\n    const storedConfigurationsArr = this.getStoredConfigurations();\n    if (storedConfigurationsArr.length > 0) {\n      dataToStore[OTableStorage.STORED_CONFIGURATIONS_KEY] = storedConfigurationsArr;\n    }\n\n    return dataToStore;\n  }\n\n  getTablePropertiesToStore(properties: string[]) {\n    const result = {};\n    properties.forEach(prop => {\n      Object.assign(result, this.getTablePropertyToStore(prop));\n    });\n    return result;\n  }\n\n  getTablePropertyToStore(property: string) {\n    let result = {};\n    switch (property) {\n      case 'sort':\n        result = this.getSortState();\n        break;\n      case 'columns-display':\n        result = this.getColumnsDisplayState();\n        break;\n      case 'quick-filter':\n        result = this.getColumnsQuickFilterState();\n        break;\n      case 'columns-filter':\n        result = this.getColumnFiltersState();\n        break;\n      case 'page':\n        result = this.getPageState();\n        break;\n      case 'selection':\n        result = this.getSelectionState();\n        break;\n      case 'initial-configuration':\n        result = this.getInitialConfigurationState();\n        break;\n      case 'filter-column-active-by-default':\n        result = this.getFilterColumnActiveByDefaultState();\n        break;\n      case 'filter-columns':\n        result = this.getFilterColumnsState();\n        break;\n    }\n    return result;\n  }\n\n  getFilterColumnsState(): any {\n    const result = {};\n    if (this.table.state.hasOwnProperty('filter-columns') && this.table.state['filter-columns']) {\n      result['filter-columns'] = this.table.state['filter-columns'];\n    } else if (this.table.filterColumns) {\n      result['filter-columns'] = this.table.filterColumns;\n    }\n\n    return result;\n  }\n\n  reset() {\n    const state: any = {};\n    state[OTableStorage.USER_STORED_FILTERS_KEY] = this.table.state[OTableStorage.USER_STORED_FILTERS_KEY];\n    state[OTableStorage.STORED_CONFIGURATIONS_KEY] = this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY];\n    if (this.table.pageable) {\n      state.totalQueryRecordsNumber = this.table.state.totalQueryRecordsNumber;\n    }\n    state.currentPage = 0;\n    this.table.state = state;\n  }\n\n  protected getSortState() {\n    const result = {};\n    const sortColumnsArray = this.table.sort.getSortColumns();\n    if (sortColumnsArray.length > 0) {\n      const sortColumns = [];\n      sortColumnsArray.forEach(sortData => {\n        sortColumns.push(sortData.id + Codes.COLUMNS_ALIAS_SEPARATOR + sortData.direction);\n      });\n      result['sort-columns'] = sortColumns.join(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    return result;\n  }\n\n  protected getFilterColumnActiveByDefaultState() {\n    const result = {};\n    if (this.table.oTableColumnsFilterComponent) {\n      result['filter-column-active-by-default'] = this.table.showFilterByColumnIcon;\n    }\n    return result;\n  }\n\n  protected getColumnFiltersState() {\n    const result = {};\n    if (this.table.oTableColumnsFilterComponent) {\n      const columnValueFilters = this.table.dataSource.getColumnValueFilters();\n      if (columnValueFilters.length > 0) {\n        result['column-value-filters'] = columnValueFilters;\n      }\n    }\n    return result;\n  }\n\n\n  protected getColumnsDisplayState() {\n    const result = {};\n    const oColumnsData = [];\n    this.table.oTableOptions.columns.forEach((oCol: OColumn) => {\n      oColumnsData.push({\n        attr: oCol.attr,\n        visible: oCol.visible,\n        width: oCol.getWidthToStore()\n      });\n    });\n    result['oColumns-display'] = oColumnsData;\n    result['select-column-visible'] = this.table.oTableOptions.selectColumn.visible;\n    return result;\n  }\n\n  protected getColumnsQuickFilterState() {\n    const result: any = {};\n    const tableOptions = this.table.oTableOptions;\n    const oColumnsData = [];\n    tableOptions.columns.forEach((oCol: OColumn) => {\n      oColumnsData.push({\n        attr: oCol.attr,\n        searchable: oCol.searchable,\n        searching: oCol.searching\n      });\n    });\n    result.oColumns = oColumnsData;\n    result['filter-case-sensitive'] = tableOptions.filterCaseSensitive;\n    return result;\n  }\n\n  protected getPageState(): any {\n    const result: any = {\n      'query-rows': this.table.matpaginator ? this.table.matpaginator.pageSize : ''\n    };\n    if (this.table.currentPage > 0 && this.table.storePaginationState) {\n      result.currentPage = this.table.currentPage;\n    }\n    if (this.table.pageable && this.table.storePaginationState) {\n      const state = this.table.state;\n      result.totalQueryRecordsNumber = state.totalQueryRecordsNumber;\n      result.queryRecordOffset = Math.max(\n        (state.queryRecordOffset - this.table.dataSource.renderedData.length),\n        (state.queryRecordOffset - this.table.queryRows)\n      );\n    }\n    return result;\n  }\n\n  protected getSelectionState(): any {\n    const result: any = {\n      selection: []\n    };\n    if (this.table && this.table.keepSelectedItems) {\n      // storing selected items keys values\n      const selection = [];\n      this.table.getSelectedItems().forEach(item => {\n        const data = {};\n        this.table.getKeys().forEach(key => {\n          data[key] = item[key];\n        });\n        selection.push(data);\n      });\n      result.selection = selection;\n    }\n    return result;\n  }\n\n  protected getInitialConfigurationState(): any {\n    let result = {};\n    let initialConfiguration = {};\n\n    let oColumnsData = [];\n    const self = this;\n    Util.parseArray(this.table.visibleColumns, true).forEach((x: string) => {\n      let oCol = self.table.getOColumn(x);\n      oColumnsData.push({\n        attr: oCol.attr,\n        visible: true,\n        width: oCol.definition ? oCol.definition.originalWidth : undefined\n      });\n    });\n\n    initialConfiguration['oColumns-display'] = oColumnsData;\n    initialConfiguration['sort-columns'] = this.table.sortColumns;\n    initialConfiguration['select-column-visible'] = this.table.oTableOptions.selectColumn.visible;\n    initialConfiguration['filter-case-sensitive'] = this.table.filterCaseSensitive;\n    initialConfiguration['query-rows'] = this.table.originalQueryRows;\n    initialConfiguration['filter-column-active-by-default'] = this.table.originalFilterColumnActiveByDefault;\n    initialConfiguration['filter-columns'] = this.table.originalFilterColumns;\n\n    result['initial-configuration'] = initialConfiguration;\n\n    return result;\n  }\n\n  setStoredFilters(filters: Array<OTableFiltersStatus>) {\n    return this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = filters;\n  }\n\n  getStoredFilters() {\n    return this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] || [];\n  }\n\n  getStoredFilter(filterName: string) {\n    return this.getStoredFilters().find((item: OTableFiltersStatus) => item.name === filterName);\n  }\n\n  getStoredFilterConf(filterName: string) {\n    return (this.getStoredFilter(filterName) || {})[OTableStorage.STORED_FILTER_KEY];\n  }\n\n  deleteStoredFilter(filterName: string) {\n    const storedFilters = this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] || [];\n    const index = storedFilters.findIndex((item: OTableFiltersStatus) => item.name === filterName);\n    if (index >= 0) {\n      storedFilters.splice(index, 1);\n      this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = storedFilters;\n    }\n  }\n\n  storeFilter(filterArgs: OTableFiltersStatus) {\n    const result = {};\n    const storedFilter = {};\n    Object.assign(storedFilter, this.getColumnFiltersState());\n    Object.assign(storedFilter, this.getColumnsQuickFilterState());\n\n    result[OTableStorage.STORED_FILTER_KEY] = storedFilter;\n    Object.assign(result, filterArgs);\n    const existingFilters = this.getStoredFilters();\n    existingFilters.push(result);\n    this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = existingFilters;\n  }\n\n  getStoredColumnsFilters(arg?: any) {\n    const stateObj = arg || this.table.state;\n    return stateObj['column-value-filters'] || [];\n  }\n\n  getStoredFiltersColumns(arg?: any) {\n    const stateObj = arg || this.table.state;\n    return stateObj['filter-columns'] || [];\n  }\n\n  getStoredConfigurations() {\n    return this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] || [];\n  }\n\n  getStoredConfiguration(configurationName: string) {\n    return this.getStoredConfigurations().find((item: OTableConfiguration) => item.name === configurationName);\n  }\n\n  storeConfiguration(configurationAgs: OTableConfiguration, tableProperties: any[]) {\n    const result = {};\n    this.table.storePaginationState = true;\n    const storedConfiguration = this.getTablePropertiesToStore(tableProperties);\n    this.table.storePaginationState = false;\n\n    result[OTableStorage.STORED_CONFIGURATION_KEY] = storedConfiguration;\n    Object.assign(result, configurationAgs);\n    result[OTableStorage.STORED_PROPERTIES_KEY] = tableProperties;\n    const existingConfigurations = this.getStoredConfigurations();\n    existingConfigurations.push(result);\n    this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] = existingConfigurations;\n  }\n\n  deleteStoredConfiguration(configurationName: string) {\n    const storedConfigurations = this.getStoredConfigurations();\n    const index = storedConfigurations.findIndex((item: OTableConfiguration) => item.name === configurationName);\n    if (index >= 0) {\n      storedConfigurations.splice(index, 1);\n      this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] = storedConfigurations;\n    }\n  }\n\n}\n","import { BehaviorSubject, merge, Observable, of } from 'rxjs';\n\nimport { OQueryDataArgs } from '../../../types/query-data-args.type';\n\n\nexport class OTableDao {\n\n  usingStaticData: boolean = false;\n\n  protected loadingTimer;\n  protected _isLoadingResults: boolean = false;\n\n  /** Stream that emits whenever the data has been modified. */\n  dataChange = new BehaviorSubject<any[]>([]);\n  sqlTypesChange = new BehaviorSubject<object>({});\n  get data(): any[] { return this.dataChange.value; }\n  get sqlTypes(): object { return this.sqlTypesChange.value; }\n\n  constructor(\n    private dataService: any,\n    private entity: string,\n    private methods: any\n  ) { }\n\n  /**\n   * Call the service query and emit data has ben modified\n   */\n  getQuery(queryArgs: OQueryDataArgs): Observable<any> {\n    this.isLoadingResults = true;\n    return this.dataService[this.methods.query].apply(this.dataService, queryArgs);\n  }\n\n  removeQuery(filters: any): Observable<any> {\n    return merge(...filters.map((kv => this.dataService[this.methods.delete](kv, this.entity))));\n  }\n\n  insertQuery(av: object, sqlTypes?: object): Observable<any> {\n    if (this.usingStaticData) {\n      this.data.push(av);\n      return of(this.data);\n    } else {\n      return this.dataService[this.methods.insert](av, this.entity, sqlTypes);\n    }\n  }\n\n  updateQuery(kv: object, av: object, sqlTypes?: object): Observable<any> {\n    if (this.usingStaticData) {\n      return of(this.data);\n    } else {\n      return this.dataService[this.methods.update](kv, av, this.entity, sqlTypes);\n    }\n  }\n\n  /**\n   * Set data array and emit data has ben modified\n   * @param data\n   */\n  setDataArray(data: Array<any>) {\n    this.dataChange.next(data);\n    this.isLoadingResults = false;\n    return of(data);\n  }\n\n  setAsynchronousColumn(value: Array<any>, rowData: any) {\n    // Object.assign(this.data[rowIndex], value);\n    let index = null;\n    for (let i = 0; i < this.data.length; i++) {\n      if (this.data[i] === rowData) {\n        index = i;\n        break;\n      }\n    }\n    if (index !== null) {\n      Object.assign(this.data[index], value);\n    }\n  }\n\n  get isLoadingResults(): boolean {\n    return this._isLoadingResults;\n  }\n\n  set isLoadingResults(val: boolean) {\n    if (val) {\n      this.cleanTimer();\n      this.loadingTimer = setTimeout(() => {\n        this._isLoadingResults = val;\n      }, 500);\n    } else {\n      this.cleanTimer();\n      this._isLoadingResults = val;\n    }\n  }\n\n  protected cleanTimer() {\n    if (this.loadingTimer) {\n      clearTimeout(this.loadingTimer);\n    }\n  }\n\n}\n","import { Component, ViewEncapsulation, ChangeDetectionStrategy, TemplateRef, ContentChild, EventEmitter, Output } from '@angular/core';\nimport { InputConverter } from '../../../../../decorators/input-converter';\n\nexport const DEFAULT_OUTPUTS_O_TABLE_ROW_EXPANDABLE = [\n  'onExpanded',\n  'onCollapsed'\n];\n\nexport const DEFAULT_INPUTS_O_TABLE_ROW_EXPANDABLE = [\n  // icon-expand : Icon name to expand. Default: add\n  'iconExpand:icon-expand',\n  // icon-collapse : Icon name to expand. Default:remove\n  'iconCollapse:icon-collapse',\n  // Indicates whether or not to show a expandable column. Default:true\n  'expandableColumnVisible:expandable-column-visible'\n];\n\n/** Change event object emitted by OTableRowExpanded. */\nexport class OTableRowExpandedChange {\n  /** The data for row expandable. */\n  data: any;\n  /** row index for row expandable */\n  rowIndex: number;\n}\n\n\n@Component({\n  selector: 'o-table-row-expandable',\n  template: ' ',\n  outputs: DEFAULT_OUTPUTS_O_TABLE_ROW_EXPANDABLE,\n  inputs: DEFAULT_INPUTS_O_TABLE_ROW_EXPANDABLE,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableRowExpandableComponent {\n\n  constructor() { }\n\n  @ContentChild(TemplateRef, { static: false }) templateRef: TemplateRef<any>;\n  @Output() onExpanded = new EventEmitter<OTableRowExpandedChange>();\n  @Output() onCollapsed = new EventEmitter<OTableRowExpandedChange>();\n  private _iconCollapse: string = 'remove';\n  private _iconExpand: string = 'add';\n\n  @InputConverter()\n  public expandableColumnVisible: boolean = true;\n\n  set iconCollapse(value: string) {\n    this._iconCollapse = value;\n  }\n\n  get iconCollapse() {\n    return this._iconCollapse;\n  }\n\n  set iconExpand(value: string) {\n    this._iconExpand = value;\n  }\n\n  get iconExpand() {\n    return this._iconExpand;\n  }\n\n}\n","import { Directive, EventEmitter, Output } from '@angular/core';\nimport { MatSort, MatSortable } from '@angular/material';\n\nimport { SQLOrder } from '../../../../types/sql-order.type';\nimport { Codes } from '../../../../util/codes';\nimport { Util } from '../../../../util/util';\n\nexport type OMatSortGroupedData = {\n  key: any;\n  values: any[];\n};\n\n@Directive({\n  selector: '[oMatSort]',\n  exportAs: 'oMatSort',\n  inputs: ['disabled: oMatSortDisabled']\n})\nexport class OMatSort extends MatSort {\n\n  activeArray: Array<MatSortable> = [];\n  directionById: any = {};\n\n  protected multipleSort: boolean;\n  protected activeSortColumn: string;\n  protected activeSortDirection: string;\n\n  @Output('matSortChange') readonly oSortChange: EventEmitter<any> = new EventEmitter<any>();\n\n  setMultipleSort(val: boolean) {\n    this.multipleSort = val;\n  }\n\n  getSortColumns(): any[] {\n    const activeData = [];\n    this.activeArray.forEach((s: MatSortable) => {\n      activeData.push({\n        id: s.id,\n        direction: this.directionById[s.id]\n      });\n    });\n    return activeData;\n  }\n\n  setTableInfo(sortColArray: Array<SQLOrder>) {\n    sortColArray.forEach((colData: SQLOrder) => {\n      const sortDirection: any = colData.ascendent ? Codes.ASC_SORT : Codes.DESC_SORT;\n      this.activeArray.push({\n        id: colData.columnName,\n        start: sortDirection,\n        disableClear: false\n      });\n      this.directionById[colData.columnName] = sortDirection;\n    });\n  }\n\n  addSortColumn(sortable: MatSortable): void {\n    if (this.isActive(sortable)) {\n      // workaround for having a propper work in getNextSortDirection;\n      this.direction = this.directionById[sortable.id];\n      this.directionById[sortable.id] = this.getNextSortDirection(sortable);\n      this.direction = '';\n      if (this.directionById[sortable.id] === '') {\n        this.deleteSortColumn(sortable.id);\n      }\n    } else {\n      if (!this.multipleSort) {\n        this.activeArray = [];\n        this.directionById = {};\n      }\n      this.activeArray.push(sortable);\n      this.directionById[sortable.id] = sortable.start ? sortable.start : this.start;\n    }\n    const activeData = this.getSortColumns();\n    this._stateChanges.next();\n    this.oSortChange.emit(activeData);\n  }\n\n  protected deleteSortColumn(id: string) {\n    delete this.directionById[id];\n    for (let i = 0, len = this.activeArray.length; i < len; i++) {\n      if (this.activeArray[i].id === id) {\n        this.activeArray.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  isActive(sortable: MatSortable): boolean {\n    return Util.isDefined(this.activeArray.find((s: MatSortable) => sortable.id === s.id));\n  }\n\n  hasDirection(id: any): boolean {\n    let direction;\n    if (Util.isDefined(this.directionById[id])) {\n      direction = this.directionById[id];\n    }\n    return (direction === 'asc' || direction === 'desc');\n  }\n\n  getSortedData(data: any[]): any[] {\n    const sortColumns = this.getSortColumns();\n    if (sortColumns.length === 0 || data.length === 0) {\n      return data;\n    }\n    this.sortables.forEach((value, key) => {\n      this.deregister(value);\n    });\n    return this.sortByColumns(data, sortColumns);\n  }\n\n  protected sortByColumns(data: any[], sortColumns: any[]) {\n    const sortFunctionBind = this.sortFunction.bind(this);\n    for (let i = 0, len = sortColumns.length; i < len; i++) {\n      const sortC = sortColumns[i];\n      this.activeSortColumn = sortC.id;\n      this.activeSortDirection = sortC.direction;\n      if (i === 0) {\n        data = data.sort(sortFunctionBind);\n      } else {\n        const groupedData: OMatSortGroupedData[] = this.getDataGrouped(data, sortColumns, i);\n        if (groupedData.length >= data.length) {\n          break;\n        }\n        data = this.sortGroupedData(groupedData);\n      }\n    }\n    return data;\n  }\n\n  protected getDataGrouped(data: any, sortColumns: any[], index: number): OMatSortGroupedData[] {\n    const propArr = [];\n    sortColumns.forEach((item, i) => {\n      if (i < index) {\n        propArr.push(item.id);\n      }\n    });\n    if (propArr.length === 0) {\n      return data;\n    }\n    const result: OMatSortGroupedData[] = [];\n    data.forEach(item => {\n      let value = '';\n      propArr.forEach(prop => {\n        value += item[prop];\n      });\n\n      const filtered = result.filter(resItem => resItem.key === value);\n      if (filtered.length === 0) {\n        result.push({\n          key: value,\n          values: [item]\n        });\n      } else if (filtered.length === 1) {\n        filtered[0].values.push(item);\n      }\n    });\n    return result;\n  }\n\n  protected sortGroupedData(groupedData: OMatSortGroupedData[]): any[] {\n    const self = this;\n    return groupedData.reduce((obj: any, item: any) => {\n      const arr = item.values;\n      const sorted = arr.length <= 1 ? arr : arr.sort(self.sortFunction.bind(self));\n      obj.push(...sorted);\n      return obj;\n    }, []);\n  }\n\n  sortFunction(a: any, b: any): number {\n    let propertyA: number | string = '';\n    let propertyB: number | string = '';\n    [propertyA, propertyB] = [a[this.activeSortColumn], b[this.activeSortColumn]];\n\n    const valueA = typeof propertyA === 'undefined' ? '' : propertyA === '' ? propertyA : isNaN(+propertyA) ? propertyA.toString().trim().toLowerCase() : +propertyA;\n    const valueB = typeof propertyB === 'undefined' ? '' : propertyB === '' ? propertyB : isNaN(+propertyB) ? propertyB.toString().trim().toLowerCase() : +propertyB;\n    return (valueA <= valueB ? -1 : 1) * (this.activeSortDirection === 'asc' ? 1 : -1);\n  }\n\n}\n","import { CdkColumnDef } from '@angular/cdk/table';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Optional, ViewEncapsulation } from '@angular/core';\nimport { ArrowViewStateTransition, matSortAnimations, MatSortHeader, MatSortHeaderIntl } from '@angular/material';\n\nimport { OMatSort } from './o-mat-sort';\n\n@Component({\n  selector: '[o-mat-sort-header]',\n  exportAs: 'oMatSortHeader',\n  templateUrl: './sort-header.html',\n  styleUrls: ['./sort-header.scss'],\n  host: {\n    '(click)': '_handleClick()',\n    '(mouseenter)': '_setIndicatorHintVisible(true)',\n    '(longpress)': '_setIndicatorHintVisible(true)',\n    '(mouseleave)': '_setIndicatorHintVisible(false)',\n    '[attr.aria-sort]': '_getAriaSortAttribute()',\n    '[class.mat-sort-header-disabled]': '_isDisabled()',\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: ['disabled'],\n  animations: [\n    matSortAnimations.indicator,\n    matSortAnimations.leftPointer,\n    matSortAnimations.rightPointer,\n    matSortAnimations.arrowOpacity,\n    matSortAnimations.arrowPosition,\n    matSortAnimations.allowChildren,\n  ]\n})\n// tslint:disable-next-line: component-class-suffix\nexport class OMatSortHeader extends MatSortHeader {\n\n  constructor(public _intl: MatSortHeaderIntl,\n    changeDetectorRef: ChangeDetectorRef,\n    @Optional() public _sort: OMatSort,\n    @Optional() public _cdkColumnDef: CdkColumnDef) {\n\n    super(_intl, changeDetectorRef, _sort, _cdkColumnDef);\n  }\n\n  _handleClick() {\n    if (this._isDisabled()) { return; }\n\n    this._sort.addSortColumn(this);\n\n    // Do not show the animation if the header was already shown in the right position.\n    if (this._viewState.toState === 'hint' || this._viewState.toState === 'active') {\n      this._disableViewStateAnimation = true;\n    }\n\n    // If the arrow is now sorted, animate the arrow into place. Otherwise, animate it away into\n    // the direction it is facing.\n    const viewState: ArrowViewStateTransition = this._isSorted() ?\n      { fromState: this._arrowDirection, toState: 'active' } :\n      { fromState: 'active', toState: this._arrowDirection };\n    this._setAnimationTransitionState(viewState);\n\n    this._showIndicatorHint = false;\n  }\n\n  _isSorted() {\n    return this._sort.isActive(this) && this._sort.hasDirection(this.id);\n  }\n\n  _updateArrowDirection() {\n    this._arrowDirection = this._isSorted() ?\n      this._sort.directionById[this.id] :\n      (this.start || this._sort.start);\n  }\n\n  refresh() {\n    if (this._sort.isActive(this)) {\n      this._setAnimationTransitionState({\n        fromState: this._sort.directionById[this.id],\n        toState: 'active'\n      });\n      this._showIndicatorHint = false;\n    } else {\n      this._viewState.toState = 'active';\n      this._intl.changes.next();\n    }\n  }\n\n  getSortIndicatorNumbered(): string {\n    let result = '';\n    // if there is only one sorted column the number is not displayed\n    if (this._sort.activeArray.length < 2) { return result; }\n    const index = this._sort.activeArray.findIndex(x => x.id === this.id);\n    if (index > -1) {\n      result += index + 1;\n    }\n    return result;\n  }\n\n  getSortIndicatorNumberedClass() {\n    return 'o-table-header-indicator-numbered o-mat-sort-indicator-numbered-' + this._arrowDirection;\n  }\n}\n","import { animate, state, style, transition, trigger } from '@angular/animations';\nimport { SelectionChange, SelectionModel } from '@angular/cdk/collections';\nimport { DomPortalOutlet, TemplatePortal } from '@angular/cdk/portal';\nimport {\n  AfterViewInit,\n  ApplicationRef,\n  ChangeDetectionStrategy,\n  Component,\n  ComponentFactoryResolver,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  Optional,\n  QueryList,\n  TemplateRef,\n  ViewChild,\n  ViewChildren,\n  ViewContainerRef,\n  ViewEncapsulation,\n  ViewRef\n} from '@angular/core';\nimport { MatCheckboxChange, MatDialog, MatMenu, MatPaginator, MatTab, MatTabGroup, PageEvent } from '@angular/material';\nimport { BehaviorSubject, combineLatest, Observable, of, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { BooleanConverter, InputConverter } from '../../decorators/input-converter';\nimport { ServiceResponse } from '../../interfaces';\nimport { IOContextMenuContext } from '../../interfaces/o-context-menu.interface';\nimport { OTableButton } from '../../interfaces/o-table-button.interface';\nimport { OTableButtons } from '../../interfaces/o-table-buttons.interface';\nimport { OTableDataSource } from '../../interfaces/o-table-datasource.interface';\nimport { OTableMenu } from '../../interfaces/o-table-menu.interface';\nimport { OnClickTableEvent } from '../../interfaces/o-table-onclick.interface';\nimport { OTableOptions } from '../../interfaces/o-table-options.interface';\nimport { OTablePaginator } from '../../interfaces/o-table-paginator.interface';\nimport { OTableQuickfilter } from '../../interfaces/o-table-quickfilter.interface';\nimport { OntimizeServiceProvider } from '../../services/factories';\nimport { SnackBarService } from '../../services/snackbar.service';\nimport { TableFilterByColumnDialogResult } from '../../types';\nimport { Expression } from '../../types/expression.type';\nimport { OColumnAggregate } from '../../types/o-column-aggregate.type';\nimport { ColumnValueFilterOperator, OColumnValueFilter } from '../../types/o-column-value-filter.type';\nimport { OPermissions } from '../../types/o-permissions.type';\nimport { OTableInitializationOptions } from '../../types/o-table-initialization-options.type';\nimport { OTableMenuPermissions } from '../../types/o-table-menu-permissions.type';\nimport { OTablePermissions } from '../../types/o-table-permissions.type';\nimport { OQueryDataArgs } from '../../types/query-data-args.type';\nimport { QuickFilterFunction } from '../../types/quick-filter-function.type';\nimport { SQLOrder } from '../../types/sql-order.type';\nimport { ObservableWrapper } from '../../util/async';\nimport { Codes } from '../../util/codes';\nimport { FilterExpressionUtils } from '../../util/filter-expression.utils';\nimport { PermissionsUtils } from '../../util/permissions';\nimport { ServiceUtils } from '../../util/service.utils';\nimport { SQLTypes } from '../../util/sqltypes';\nimport { Util } from '../../util/util';\nimport { OContextMenuComponent } from '../contextmenu/o-context-menu.component';\nimport { OFormComponent } from '../form/o-form.component';\nimport { DEFAULT_INPUTS_O_SERVICE_COMPONENT, OServiceComponent } from '../o-service-component.class';\nimport { OTableColumnCalculatedComponent } from './column/calculated/o-table-column-calculated.component';\nimport { OColumn } from './column/o-column.class';\nimport { OTableColumnComponent } from './column/o-table-column.component';\nimport { DefaultOTableOptions } from './extensions/default-o-table-options.class';\nimport { OTableFilterByColumnDataDialogComponent } from './extensions/dialog/filter-by-column/o-table-filter-by-column-data-dialog.component';\nimport { OBaseTablePaginator } from './extensions/footer/paginator/o-base-table-paginator.class';\nimport { OFilterColumn } from './extensions/header/table-columns-filter/columns/o-table-columns-filter-column.component';\nimport { OTableColumnsFilterComponent } from './extensions/header/table-columns-filter/o-table-columns-filter.component';\nimport { OTableInsertableRowComponent } from './extensions/header/table-insertable-row/o-table-insertable-row.component';\nimport { OTableOptionComponent } from './extensions/header/table-option/o-table-option.component';\nimport { OTableDataSourceService } from './extensions/o-table-datasource.service';\nimport { OTableStorage } from './extensions/o-table-storage.class';\nimport { OTableDao } from './extensions/o-table.dao';\nimport { OTableRowExpandableComponent, OTableRowExpandedChange } from './extensions/row/table-row-expandable/o-table-row-expandable.component';\nimport { OMatSort } from './extensions/sort/o-mat-sort';\nimport { OMatSortHeader } from './extensions/sort/o-mat-sort-header';\n\nexport const DEFAULT_INPUTS_O_TABLE = [\n  ...DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n\n  // visible-columns [string]: visible columns, separated by ';'. Default: no value.\n  'visibleColumns: visible-columns',\n\n  // editable-columns [string]: columns that can be edited directly over the table, separated by ';'. Default: no value.\n  // 'editableColumns: editable-columns',\n\n  // sort-columns [string]: initial sorting, with the format column:[ASC|DESC], separated by ';'. Default: no value.\n  'sortColumns: sort-columns',\n\n  'quickFilterCallback: quick-filter-function',\n\n  // delete-button [no|yes]: show delete button. Default: yes.\n  'deleteButton: delete-button',\n\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n\n  // columns-visibility-button [no|yes]: show columns visibility button. Default: yes.\n  'columnsVisibilityButton: columns-visibility-button',\n\n  // // columns-resize-button [no|yes]: show columns resize button. Default: yes.\n  // 'columnsResizeButton: columns-resize-button',\n\n  // // columns-group-button [no|yes]: show columns group button. Default: yes.\n  // 'columnsGroupButton: columns-group-button',\n\n  // export-button [no|yes]: show export button. Default: yes.\n  'exportButton: export-button',\n\n  // show-configuration-option [yes|no|true|false]: show configuration button in header. Default: yes.\n  'showConfigurationOption: show-configuration-option',\n\n  // show-buttons-text [yes|no|true|false]: show text of header buttons. Default: yes.\n  'showButtonsText: show-buttons-text',\n\n  // select-all-checkbox [yes|no|true|false]:  show in the menu the option of selection check boxes . Default: no.\n  'selectAllCheckbox: select-all-checkbox',\n\n  // pagination-controls [yes|no|true|false]: show pagination controls. Default: yes.\n  'paginationControls: pagination-controls',\n\n  // fix-header [yes|no|true|false]: fixed header and footer when the content is greather than its own height. Default: no.\n  'fixedHeader: fixed-header',\n\n  // show-title [yes|no|true|false]: show the table title. Default: no.\n  'showTitle: show-title',\n\n  // edition-mode [none | inline | click | dblclick]: edition mode. Default none\n  'editionMode: edition-mode',\n\n  // selection-mode [none | simple | multiple ]: selection mode. Default multiple\n  'selectionMode: selection-mode',\n\n  'horizontalScroll: horizontal-scroll',\n\n  'showPaginatorFirstLastButtons: show-paginator-first-last-buttons',\n\n  'autoAlignTitles: auto-align-titles',\n\n  'multipleSort: multiple-sort',\n  // select-all-checkbox-visible [yes|no|true|false]: show selection check boxes.Default: no.\n  'selectAllCheckboxVisible: select-all-checkbox-visible',\n\n  'orderable',\n\n  'resizable',\n\n  // enabled [yes|no|true|false]: enables de table. Default: yes\n  'enabled',\n\n  'keepSelectedItems: keep-selected-items',\n\n  // export-mode ['visible'|'local'|'all']: sets the mode to export data. Default: 'visible'\n  'exportMode: export-mode',\n\n  // exportServiceType [ string ]: The service used by the table for exporting it's data, it must implement 'IExportService' interface. Default: 'OntimizeExportService'\n  'exportServiceType: export-service-type',\n\n  // auto-adjust [true|false]: Auto adjust column width to fit its content. Default: false\n  'autoAdjust: auto-adjust',\n\n  // show-filter-option [yes|no|true|false]: show filter menu option in the header menu. Default: yes.\n  'showFilterOption: show-filter-option',\n\n  // visible-export-dialog-buttons [string]: visible buttons in export dialog, separated by ';'. Default/no configured: show all. Empty value: hide all.\n  'visibleExportDialogButtons: visible-export-dialog-buttons',\n\n  // row-class [function, (rowData: any, rowIndex: number) => string | string[]]: adds the class or classes returned by the provided function to the table rows.\n  'rowClass: row-class',\n\n  // filter-column-active-by-default [yes|no|true|false]: show icon filter by default in the table\n  'filterColumnActiveByDefault:filter-column-active-by-default'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE = [\n  'onClick',\n  'onDoubleClick',\n  'onRowSelected',\n  'onRowDeselected',\n  'onRowDeleted',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\n@Component({\n  selector: 'o-table',\n  templateUrl: './o-table.component.html',\n  styleUrls: ['./o-table.component.scss'],\n  providers: [\n    OntimizeServiceProvider,\n    OTableDataSourceService\n  ],\n  animations: [\n    trigger('detailExpand', [\n      state('collapsed', style({ height: '0px', minHeight: '0' })),\n      state('expanded', style({ height: '*' })),\n      transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)')),\n    ])\n  ],\n  inputs: DEFAULT_INPUTS_O_TABLE,\n  outputs: DEFAULT_OUTPUTS_O_TABLE,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table]': 'true',\n    '[class.ontimize-table]': 'true',\n    '[class.o-table-fixed]': 'fixedHeader',\n    '[class.o-table-disabled]': '!enabled',\n    '(document:click)': 'handleDOMClick($event)'\n  }\n})\nexport class OTableComponent extends OServiceComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  public static DEFAULT_BASE_SIZE_SPINNER = 100;\n  public static FIRST_LAST_CELL_PADDING = 24;\n  public static EXPANDED_ROW_CONTAINER_CLASS = 'expanded-row-container-';\n\n  protected snackBarService: SnackBarService;\n\n  public paginator: OTablePaginator;\n  @ViewChild(MatPaginator, { static: false }) matpaginator: MatPaginator;\n  @ViewChild(OMatSort, { static: true }) sort: OMatSort;\n\n  // only for insideTabBugWorkaround\n  @ViewChildren(OMatSortHeader) protected sortHeaders: QueryList<OMatSortHeader>;\n\n  @ViewChild('spinnerContainer', { read: ElementRef, static: false })\n  spinnerContainer: ElementRef;\n\n  @ContentChild(OTableRowExpandableComponent, { static: false })\n  tableRowExpandable: OTableRowExpandableComponent;\n\n  _filterColumns: Array<OFilterColumn>;\n  portalHost: DomPortalOutlet;\n\n  get diameterSpinner() {\n    const minHeight = OTableComponent.DEFAULT_BASE_SIZE_SPINNER;\n    let height = 0;\n    if (this.spinnerContainer && this.spinnerContainer.nativeElement) {\n      height = this.spinnerContainer.nativeElement.offsetHeight;\n    }\n    if (height > 0 && height <= 100) {\n      return Math.floor(height - (height * 0.1));\n    } else {\n      return minHeight;\n    }\n  }\n\n  public tableContextMenu: OContextMenuComponent;\n\n  @InputConverter()\n  selectAllCheckbox: boolean = false;\n  @InputConverter()\n  exportButton: boolean = true;\n  @InputConverter()\n  showConfigurationOption: boolean = true;\n  @InputConverter()\n  columnsVisibilityButton: boolean = true;\n  @InputConverter()\n  showFilterOption: boolean = true;\n  @InputConverter()\n  showButtonsText: boolean = true;\n\n\n  originalFilterColumnActiveByDefault: boolean = false;\n  @InputConverter()\n  set filterColumnActiveByDefault(value: boolean) {\n    const result = BooleanConverter(value);\n    this.originalFilterColumnActiveByDefault = result;\n    this.showFilterByColumnIcon = result;\n  }\n\n  get filterColumnActiveByDefault(): boolean {\n    return this.showFilterByColumnIcon;\n  }\n\n  protected _oTableOptions: OTableOptions;\n\n  get oTableOptions(): OTableOptions {\n    return this._oTableOptions;\n  }\n\n  set oTableOptions(value: OTableOptions) {\n    this._oTableOptions = value;\n  }\n\n  set quickFilter(value: boolean) {\n    value = Util.parseBoolean(String(value));\n    this._quickFilter = value;\n    this._oTableOptions.filter = value;\n  }\n\n  get quickFilter(): boolean {\n    return this._quickFilter;\n  }\n\n  protected filterCaseSensitivePvt: boolean = false;\n  @InputConverter()\n  set filterCaseSensitive(value: boolean) {\n    this.filterCaseSensitivePvt = BooleanConverter(value);\n    if (this._oTableOptions) {\n      this._oTableOptions.filterCaseSensitive = this.filterCaseSensitivePvt;\n    }\n  }\n  get filterCaseSensitive(): boolean {\n    return this.filterCaseSensitivePvt;\n  }\n  @InputConverter()\n  insertButton: boolean = true;\n  @InputConverter()\n  refreshButton: boolean = true;\n  @InputConverter()\n  deleteButton: boolean = true;\n  @InputConverter()\n  paginationControls: boolean = true;\n  @InputConverter()\n  fixedHeader: boolean = false;\n  @InputConverter()\n  showTitle: boolean = false;\n  editionMode: string = Codes.DETAIL_MODE_NONE;\n  selectionMode: string = Codes.SELECTION_MODE_MULTIPLE;\n\n  protected _horizontalScroll = false;\n  @InputConverter()\n  set horizontalScroll(value: boolean) {\n    this._horizontalScroll = BooleanConverter(value);\n    this.refreshColumnsWidth();\n\n  }\n\n  get horizontalScroll(): boolean {\n    return this._horizontalScroll;\n  }\n\n  @InputConverter()\n  showPaginatorFirstLastButtons: boolean = true;\n  @InputConverter()\n  autoAlignTitles: boolean = false;\n  @InputConverter()\n  multipleSort: boolean = true;\n  @InputConverter()\n  orderable: boolean = true;\n  @InputConverter()\n  resizable: boolean = true;\n  @InputConverter()\n  autoAdjust: boolean = false;\n\n  protected _enabled: boolean = true;\n  get enabled(): boolean {\n    return this._enabled;\n  }\n  set enabled(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._enabled = val;\n  }\n  protected _selectAllCheckboxVisible: boolean;\n  set selectAllCheckboxVisible(value: boolean) {\n    this._selectAllCheckboxVisible = BooleanConverter(this.state['select-column-visible']) || BooleanConverter(value);\n    this._oTableOptions.selectColumn.visible = this._selectAllCheckboxVisible;\n    this.initializeCheckboxColumn();\n  }\n\n  get selectAllCheckboxVisible(): boolean {\n    return this._selectAllCheckboxVisible;\n  }\n\n  @InputConverter()\n  keepSelectedItems: boolean = true;\n\n  public exportMode: string = Codes.EXPORT_MODE_VISIBLE;\n  public exportServiceType: string;\n  public visibleExportDialogButtons: string;\n  public daoTable: OTableDao | null;\n  public dataSource: OTableDataSource | null;\n  public visibleColumns: string;\n  public sortColumns: string;\n  public rowClass: (rowData: any, rowIndex: number) => string | string[];\n\n  /*parsed inputs variables */\n  protected _visibleColArray: Array<string> = [];\n\n  get visibleColArray(): Array<any> {\n    return this._visibleColArray;\n  }\n\n  set visibleColArray(arg: Array<any>) {\n    const permissionsBlocked = this.permissions ? this.permissions.columns.filter(col => col.visible === false).map(col => col.attr) : [];\n    const permissionsChecked = arg.filter(value => permissionsBlocked.indexOf(value) === -1);\n    this._visibleColArray = permissionsChecked;\n    if (this._oTableOptions) {\n      const containsSelectionCol = this._oTableOptions.visibleColumns.indexOf(Codes.NAME_COLUMN_SELECT) !== -1;\n      const containsExpandableCol = this._oTableOptions.visibleColumns.indexOf(Codes.NAME_COLUMN_EXPANDABLE) !== -1;\n      if (containsSelectionCol) {\n        this._visibleColArray.unshift(Codes.NAME_COLUMN_SELECT);\n      }\n      if (containsSelectionCol && containsExpandableCol) {\n        this._visibleColArray = [this._visibleColArray[0]].concat(Codes.NAME_COLUMN_EXPANDABLE, this._visibleColArray.splice(1));\n\n      } else {\n        if (containsExpandableCol) {\n          this._visibleColArray.unshift(Codes.NAME_COLUMN_EXPANDABLE);\n        }\n      }\n      this._oTableOptions.visibleColumns = this._visibleColArray;\n    }\n  }\n\n  sortColArray: Array<SQLOrder> = [];\n  /*end of parsed inputs variables */\n\n  protected tabGroupContainer: MatTabGroup;\n  protected tabContainer: MatTab;\n  tabGroupChangeSubscription: Subscription;\n\n  protected pendingQuery: boolean = false;\n  protected pendingQueryFilter = undefined;\n\n  protected setStaticData: boolean = false;\n  protected avoidQueryColumns: Array<any> = [];\n  protected asyncLoadColumns: Array<any> = [];\n  protected asyncLoadSubscriptions: object = {};\n\n  protected querySubscription: Subscription;\n  protected contextMenuSubscription: Subscription;\n  protected finishQuerySubscription: boolean = false;\n\n  public onClick: EventEmitter<OnClickTableEvent> = new EventEmitter();\n  public onDoubleClick: EventEmitter<OnClickTableEvent> = new EventEmitter();\n  public onRowSelected: EventEmitter<any> = new EventEmitter();\n  public onRowDeselected: EventEmitter<any> = new EventEmitter();\n  public onRowDeleted: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onReinitialize: EventEmitter<any> = new EventEmitter();\n  public onContentChange: EventEmitter<any> = new EventEmitter();\n  public onVisibleColumnsChange: EventEmitter<any> = new EventEmitter();\n  public onFilterByColumnChange: EventEmitter<any> = new EventEmitter();\n\n  protected selectionChangeSubscription: Subscription;\n\n  public oTableFilterByColumnDataDialogComponent: OTableFilterByColumnDataDialogComponent;\n  public oTableColumnsFilterComponent: OTableColumnsFilterComponent;\n  public showFilterByColumnIcon: boolean = false;\n\n\n  private showTotalsSubject = new BehaviorSubject<boolean>(false);\n  public showTotals: Observable<boolean> = this.showTotalsSubject.asObservable();\n  private loadingSortingSubject = new BehaviorSubject<boolean>(false);\n  protected loadingSorting: Observable<boolean> = this.loadingSortingSubject.asObservable();\n  private loadingScrollSubject = new BehaviorSubject<boolean>(false);\n  public loadingScroll: Observable<boolean> = this.loadingScrollSubject.asObservable();\n\n  public oTableInsertableRowComponent: OTableInsertableRowComponent;\n  public showFirstInsertableRow: boolean = false;\n  public showLastInsertableRow: boolean = false;\n  public expandableItem = new SelectionModel<Element>(false, []);\n\n  protected clickTimer;\n  protected clickDelay = 200;\n  protected clickPrevent = false;\n  protected editingCell: any;\n  protected editingRow: any;\n\n  protected _currentPage: number = 0;\n\n  set currentPage(val: number) {\n    this._currentPage = val;\n    if (this.paginator) {\n      this.paginator.pageIndex = val;\n      if (this.matpaginator) {\n        this.matpaginator.pageIndex = val;\n      }\n    }\n  }\n\n  get currentPage(): number {\n    return this._currentPage;\n  }\n\n  public oTableQuickFilterComponent: OTableQuickfilter;\n  protected sortSubscription: Subscription;\n  protected onRenderedDataChange: Subscription;\n  protected previousRendererData;\n\n  quickFilterCallback: QuickFilterFunction;\n\n  @ViewChild('tableBody', { static: false })\n  protected tableBodyEl: ElementRef;\n  @ViewChild('tableHeader', { read: ElementRef, static: false })\n  tableHeaderEl: ElementRef;\n  @ViewChild('tableToolbar', { read: ElementRef, static: false })\n  tableToolbarEl: ElementRef;\n\n  horizontalScrolled: boolean;\n  public onUpdateScrolledState: EventEmitter<any> = new EventEmitter();\n  public rowWidth;\n\n  oTableStorage: OTableStorage;\n  storePaginationState: boolean = false;\n\n  /* In the case the table havent paginationControl and pageable, the table has pagination virtual*/\n  pageScrollVirtual = 1;\n\n  protected permissions: OTablePermissions;\n  matMenu: MatMenu;\n\n  @ViewChild('tableMenu', { static: false })\n  oTableMenu: OTableMenu;\n\n  @ContentChildren(OTableOptionComponent)\n  tableOptions: QueryList<OTableOptionComponent>;\n\n  oTableButtons: OTableButtons;\n\n  @ContentChildren('o-table-button')\n  tableButtons: QueryList<OTableButton>;\n\n  @ContentChild('o-table-quickfilter', { static: true })\n  quickfilterContentChild: OTableQuickfilter;\n\n  @ViewChild('exportOptsTemplate', { static: false })\n  exportOptsTemplate: TemplateRef<any>;\n\n  @HostListener('window:resize', [])\n  updateScrolledState(): void {\n    if (this.horizontalScroll) {\n      setTimeout(() => {\n        const bodyWidth = this.tableBodyEl.nativeElement.clientWidth;\n        const scrollWidth = this.tableBodyEl.nativeElement.scrollWidth;\n        const previousState = this.horizontalScrolled;\n        this.horizontalScrolled = scrollWidth > bodyWidth;\n        if (previousState !== this.horizontalScrolled) {\n          this.onUpdateScrolledState.emit(this.horizontalScrolled);\n        }\n      }, 0);\n    }\n    this.refreshColumnsWidth();\n  }\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    protected dialog: MatDialog,\n    private _viewContainerRef: ViewContainerRef,\n    private appRef: ApplicationRef,\n    private _componentFactoryResolver: ComponentFactoryResolver,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n\n    this._oTableOptions = new DefaultOTableOptions();\n    this._oTableOptions.selectColumn = this.createOColumn();\n\n    try {\n      this.tabGroupContainer = this.injector.get(MatTabGroup);\n      this.tabContainer = this.injector.get(MatTab);\n    } catch (error) {\n      // Do nothing due to not always is contained on tab.\n    }\n\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.oTableStorage = new OTableStorage(this);\n  }\n\n  ngOnInit() {\n    this.initialize();\n    if (this.oTableButtons) {\n      this.oTableButtons.registerButtons(this.tableButtons.toArray());\n    }\n  }\n\n  ngAfterViewInit() {\n    this.afterViewInit();\n    this.initTableAfterViewInit();\n    if (this.oTableMenu) {\n      this.matMenu = this.oTableMenu.matMenu;\n      this.oTableMenu.registerOptions(this.tableOptions.toArray());\n    }\n    if (this.tableRowExpandable) {\n      this.createExpandableColumn();\n    }\n  }\n\n  protected createExpandableColumn() {\n    this._oTableOptions.expandableColumn = new OColumn();\n    this._oTableOptions.expandableColumn.visible = this.tableRowExpandable && this.tableRowExpandable.expandableColumnVisible;\n    this.updateStateExpandedColumn();\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  getSuffixColumnInsertable() {\n    return Codes.SUFFIX_COLUMN_INSERTABLE;\n  }\n\n  getActionsPermissions(): OPermissions[] {\n    return this.permissions ? (this.permissions.actions || []) : [];\n  }\n\n  getMenuPermissions(): OTableMenuPermissions {\n    const result: OTableMenuPermissions = this.permissions ? this.permissions.menu : undefined;\n    return result ? result : {\n      visible: true,\n      enabled: true,\n      items: []\n    };\n  }\n\n  getOColumnPermissions(attr: string): OPermissions {\n    const columns = this.permissions ? (this.permissions.columns || []) : [];\n    return columns.find(comp => comp.attr === attr) || { attr: attr, enabled: true, visible: true };\n  }\n\n  protected getActionPermissions(attr: string): OPermissions {\n    const actionsPerm = this.permissions ? (this.permissions.actions || []) : [];\n    const permissions: OPermissions = actionsPerm.find(p => p.attr === attr);\n    return permissions || {\n      attr: attr,\n      visible: true,\n      enabled: true\n    };\n  }\n\n  protected checkEnabledActionPermission(attr: string) {\n    const actionsPerm = this.permissions ? (this.permissions.actions || []) : [];\n    const permissions: OPermissions = actionsPerm.find(p => p.attr === attr);\n    const enabledPermision = PermissionsUtils.checkEnabledPermission(permissions);\n    if (!enabledPermision) {\n      this.snackBarService.open('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n    }\n    return enabledPermision;\n  }\n\n  /**\n   * Method what initialize vars and configuration\n   */\n  initialize(): any {\n    super.initialize();\n\n    this._oTableOptions = new DefaultOTableOptions();\n    if (this.tabGroupContainer && this.tabContainer) {\n      this.registerTabListener();\n    }\n\n    // Initialize params of the table\n    this.initializeParams();\n\n    this.initializeDao();\n\n    this.permissions = this.permissionsService.getTablePermissions(this.oattr, this.actRoute);\n  }\n\n  protected initializeDao() {\n    // Configure dao methods\n    const queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    const methods = {\n      query: queryMethodName,\n      update: this.updateMethod,\n      delete: this.deleteMethod,\n      insert: this.insertMethod\n    };\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.daoTable = new OTableDao(undefined, this.entity, methods);\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n      this.daoTable = new OTableDao(this.dataService, this.entity, methods);\n    }\n  }\n\n  reinitialize(options: OTableInitializationOptions): void {\n    if (options) {\n      const clonedOpts = Object.assign({}, options);\n      if (clonedOpts.hasOwnProperty('entity')) {\n        this.entity = clonedOpts.entity;\n      }\n      if (clonedOpts.hasOwnProperty('service')) {\n        this.service = clonedOpts.service;\n      }\n      if (clonedOpts.hasOwnProperty('columns')) {\n        this.columns = clonedOpts.columns;\n      }\n      if (clonedOpts.hasOwnProperty('visibleColumns')) {\n        this.visibleColumns = clonedOpts.visibleColumns;\n      }\n      if (clonedOpts.hasOwnProperty('keys')) {\n        this.keys = clonedOpts.keys;\n      }\n      if (clonedOpts.hasOwnProperty('sortColumns')) {\n        this.sortColumns = clonedOpts.sortColumns;\n      }\n      if (clonedOpts.hasOwnProperty('parentKeys')) {\n        this.parentKeys = clonedOpts.parentKeys;\n      }\n\n      if (clonedOpts.hasOwnProperty('filterColumns')) {\n        if (!this.oTableColumnsFilterComponent) {\n          this.oTableColumnsFilterComponent = new OTableColumnsFilterComponent(this.injector, this);\n          this.oTableMenu.onVisibleFilterOptionChange.next(this.filterColumnActiveByDefault);\n        }\n        this.oTableColumnsFilterComponent.columns = clonedOpts.filterColumns;\n      }\n    }\n\n    this.destroy();\n    this.initialize();\n    this.oTableStorage.reset();\n    this.initTableAfterViewInit();\n    this.onReinitialize.emit(null);\n  }\n\n  protected initTableAfterViewInit() {\n    this.parseVisibleColumns();\n    this.setDatasource();\n    this.registerDataSourceListeners();\n    this.parseSortColumns();\n    this.registerSortListener();\n    this.setFiltersConfiguration(this.state);\n    this.addDefaultRowButtons();\n\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    if (this.tabGroupChangeSubscription) {\n      this.tabGroupChangeSubscription.unsubscribe();\n    }\n\n    if (this.selectionChangeSubscription) {\n      this.selectionChangeSubscription.unsubscribe();\n    }\n    if (this.sortSubscription) {\n      this.sortSubscription.unsubscribe();\n    }\n    if (this.onRenderedDataChange) {\n      this.onRenderedDataChange.unsubscribe();\n    }\n\n    if (this.contextMenuSubscription) {\n      this.contextMenuSubscription.unsubscribe();\n    }\n    Object.keys(this.asyncLoadSubscriptions).forEach(idx => {\n      if (this.asyncLoadSubscriptions[idx]) {\n        this.asyncLoadSubscriptions[idx].unsubscribe();\n      }\n    });\n  }\n\n  /**\n   * Method update store localstorage, call of the ILocalStorage\n   */\n  getDataToStore() {\n    return this.oTableStorage.getDataToStore();\n  }\n\n  registerQuickFilter(arg: any) {\n    const quickFilter = (arg as OTableQuickfilter);\n    // forcing quickFilterComponent to be undefined, table uses oTableQuickFilterComponent\n    this.quickFilterComponent = undefined;\n    this.oTableQuickFilterComponent = quickFilter;\n    this.oTableQuickFilterComponent.setValue(this.state.filter, false);\n  }\n\n  registerPagination(value: OTablePaginator) {\n    this.paginationControls = true;\n    this.paginator = value;\n  }\n\n  registerContextMenu(value: OContextMenuComponent): void {\n    this.tableContextMenu = value;\n    this.contextMenuSubscription = this.tableContextMenu.onShow.subscribe((params: IOContextMenuContext) => {\n      params.class = 'o-table-context-menu ' + this.rowHeight;\n      if (params.data && !this.selection.isSelected(params.data.rowValue)) {\n        this.clearSelection();\n        this.selectedRow(params.data.rowValue);\n      }\n    });\n  }\n\n  registerDefaultColumn(column: string) {\n    if (Util.isDefined(this.getOColumn(column))) {\n      // a default column definition trying to replace an already existing definition\n      return;\n    }\n    const colDef: OColumn = this.createOColumn(column, this);\n    this.pushOColumnDefinition(colDef);\n  }\n\n  /**\n   * Store all columns and properties in var columnsArray\n   * @param column\n   */\n  registerColumn(column: OTableColumnComponent | OTableColumnCalculatedComponent | any) {\n    const columnAttr = (typeof column === 'string') ? column : column.attr;\n    const columnPermissions: OPermissions = this.getOColumnPermissions(columnAttr);\n    if (!columnPermissions.visible) {\n      return;\n    }\n\n    if (typeof column === 'string') {\n      this.registerDefaultColumn(column);\n      return;\n    }\n\n    const columnDef = this.getOColumn(column.attr);\n    if (Util.isDefined(columnDef) && Util.isDefined(columnDef.definition)) {\n      // a o-table-column definition trying to replace an already existing o-table-column definition\n      return;\n    }\n    const colDef: OColumn = this.createOColumn(column.attr, this, column);\n    let columnWidth = column.width;\n    const storedCols = this.state['oColumns-display'];\n\n    if (Util.isDefined(storedCols)) {\n      const storedData = storedCols.find(oCol => oCol.attr === colDef.attr);\n      if (Util.isDefined(storedData) && Util.isDefined(storedData.width)) {\n        // check that the width of the columns saved in the initial configuration\n        // in the local storage is different from the original value\n        if (this.state.hasOwnProperty('initial-configuration')) {\n          if (this.state['initial-configuration'].hasOwnProperty('oColumns-display')) {\n            const initialStoredCols = this.state['initial-configuration']['oColumns-display'];\n            initialStoredCols.forEach(element => {\n              if (colDef.attr === element.attr && element.width === colDef.definition.originalWidth) {\n                columnWidth = storedData.width;\n              }\n            });\n          } else {\n            columnWidth = storedData.width;\n          }\n        }\n      }\n    }\n    if (Util.isDefined(columnWidth)) {\n      colDef.width = columnWidth;\n    }\n    if (column && (column.asyncLoad || column.type === 'action')) {\n      this.avoidQueryColumns.push(column.attr);\n      if (column.asyncLoad) {\n        this.asyncLoadColumns.push(column.attr);\n      }\n    }\n    this.pushOColumnDefinition(colDef);\n  }\n\n  protected pushOColumnDefinition(colDef: OColumn) {\n    colDef.visible = (this._visibleColArray.indexOf(colDef.attr) !== -1);\n    // Find column definition by name\n    const alreadyExisting = this.getOColumn(colDef.attr);\n    if (alreadyExisting !== undefined) {\n      const replacingIndex = this._oTableOptions.columns.indexOf(alreadyExisting);\n      this._oTableOptions.columns[replacingIndex] = colDef;\n    } else {\n      this._oTableOptions.columns.push(colDef);\n    }\n    this.refreshEditionModeWarn();\n  }\n\n  protected refreshEditionModeWarn() {\n    if (this.editionMode !== Codes.DETAIL_MODE_NONE) {\n      return;\n    }\n    const editableColumns = this._oTableOptions.columns.filter(col => {\n      return Util.isDefined(col.editor);\n    });\n    if (editableColumns.length > 0) {\n      console.warn('Using a column with a editor but there is no edition-mode defined');\n    }\n  }\n\n  registerColumnAggregate(column: OColumnAggregate) {\n    this.showTotalsSubject.next(true);\n    const alreadyExisting = this.getOColumn(column.attr);\n    if (alreadyExisting !== undefined) {\n      const replacingIndex = this._oTableOptions.columns.indexOf(alreadyExisting);\n      this._oTableOptions.columns[replacingIndex].aggregate = column;\n    }\n  }\n\n  parseVisibleColumns() {\n    if (this.state.hasOwnProperty('oColumns-display')) {\n      // filtering columns that might be in state storage but not in the actual table definition\n      let stateCols = [];\n      this.state['oColumns-display'].forEach((oCol, index) => {\n        const isVisibleColInColumns = this._oTableOptions.columns.find(col => col.attr === oCol.attr) !== undefined;\n        if (isVisibleColInColumns) {\n          stateCols.push(oCol);\n        } else {\n          console.warn('Unable to load the column ' + oCol.attr + ' from the localstorage');\n        }\n      });\n      stateCols = this.checkChangesVisibleColummnsInInitialConfiguration(stateCols);\n      this.visibleColArray = stateCols.filter(item => item.visible).map(item => item.attr);\n    } else {\n      this.visibleColArray = Util.parseArray(this.visibleColumns, true);\n      this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => this.visibleColArray.indexOf(a.attr) - this.visibleColArray.indexOf(b.attr));\n    }\n  }\n\n  checkChangesVisibleColummnsInInitialConfiguration(stateCols) {\n    if (this.state.hasOwnProperty('initial-configuration')) {\n      if (this.state['initial-configuration'].hasOwnProperty('oColumns-display')) {\n\n        const originalVisibleColArray = this.state['initial-configuration']['oColumns-display'].map(x => {\n          if (x.visible === true) {\n            return x.attr;\n          }\n        });\n        const visibleColArray = Util.parseArray(this.visibleColumns, true);\n\n        // Find values in visible-columns that they arent in original-visible-columns in localstorage\n        // in this case you have to add this column to this.visibleColArray\n        const colToAddInVisibleCol = Util.differenceArrays(visibleColArray, originalVisibleColArray);\n        if (colToAddInVisibleCol.length > 0) {\n          colToAddInVisibleCol.forEach((colAdd, index) => {\n            if (stateCols.filter(col => col.attr === colAdd).length > 0) {\n              stateCols = stateCols.map(col => {\n                if (colToAddInVisibleCol.indexOf(col.attr) > -1) {\n                  col.visible = true;\n                }\n                return col;\n              });\n            } else {\n              this.colArray.forEach((element, i) => {\n                if (element === colAdd) {\n                  stateCols.splice(i + 1, 0,\n                    {\n                      attr: colAdd,\n                      visible: true,\n                      width: undefined\n                    });\n                }\n\n              });\n            }\n          });\n        }\n\n        // Find values in original-visible-columns in localstorage that they arent in this.visibleColArray\n        // in this case you have to delete this column to this.visibleColArray\n        const colToDeleteInVisibleCol = Util.differenceArrays(originalVisibleColArray, visibleColArray);\n        if (colToDeleteInVisibleCol.length > 0) {\n          stateCols = stateCols.map(col => {\n            if (colToDeleteInVisibleCol.indexOf(col.attr) > -1) {\n              col.visible = false;\n            }\n            return col;\n          });\n        }\n      }\n    }\n    return stateCols;\n  }\n\n  parseSortColumns() {\n    const sortColumnsParam = this.state['sort-columns'] || this.sortColumns;\n    this.sortColArray = ServiceUtils.parseSortColumns(sortColumnsParam);\n\n    // checking the original sort columns with the sort columns in initial configuration in local storage\n    if (this.state['sort-columns'] && this.state['initial-configuration']['sort-columns']) {\n\n      const initialConfigSortColumnsArray = ServiceUtils.parseSortColumns(this.state['initial-configuration']['sort-columns']);\n      const originalSortColumnsArray = ServiceUtils.parseSortColumns(this.sortColumns);\n      // Find values in visible-columns that they arent in original-visible-columns in localstorage\n      // in this case you have to add this column to this.visibleColArray\n      const colToAddInVisibleCol = Util.differenceArrays(originalSortColumnsArray, initialConfigSortColumnsArray);\n      if (colToAddInVisibleCol.length > 0) {\n        colToAddInVisibleCol.forEach(colAdd => {\n          this.sortColArray.push(colAdd);\n        });\n      }\n\n      const colToDelInVisibleCol = Util.differenceArrays(initialConfigSortColumnsArray, originalSortColumnsArray);\n      if (colToDelInVisibleCol.length > 0) {\n        colToDelInVisibleCol.forEach((colDel) => {\n          this.sortColArray.forEach((col, i) => {\n            if (col.columnName === colDel.columnName) {\n              this.sortColArray.splice(i, 1);\n            }\n          });\n        });\n      }\n    }\n\n    // ensuring column existence and checking its orderable state\n    for (let i = this.sortColArray.length - 1; i >= 0; i--) {\n      const colName = this.sortColArray[i].columnName;\n      const oCol = this.getOColumn(colName);\n      if (!Util.isDefined(oCol) || !oCol.orderable) {\n        this.sortColArray.splice(i, 1);\n      }\n    }\n  }\n\n  initializeParams(): void {\n    // If visible-columns is not present then visible-columns is all columns\n    if (!this.visibleColumns) {\n      this.visibleColumns = this.columns;\n    }\n\n    if (this.colArray.length) {\n      this.colArray.forEach((x: string) => this.registerColumn(x));\n\n      let columnsOrder = [];\n      if (this.state.hasOwnProperty('oColumns-display')) {\n        columnsOrder = this.state['oColumns-display'].map(item => item.attr);\n      } else {\n        columnsOrder = this.colArray.filter(attr => this.visibleColArray.indexOf(attr) === -1);\n        columnsOrder.push(...this.visibleColArray);\n      }\n\n      this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => {\n        if (columnsOrder.indexOf(a.attr) === -1) {\n          // if it is not in local storage because it is new, keep order\n          return 0;\n        } else {\n          return columnsOrder.indexOf(a.attr) - columnsOrder.indexOf(b.attr);\n        }\n      });\n\n    }\n\n    // Initialize quickFilter\n    this._oTableOptions.filter = this.quickFilter;\n\n    if (this.state.hasOwnProperty('currentPage')) {\n      this.currentPage = this.state.currentPage;\n    }\n\n    // Initialize paginator\n    if (!this.paginator && this.paginationControls) {\n      this.paginator = new OBaseTablePaginator();\n      this.paginator.pageSize = this.queryRows;\n      this.paginator.pageIndex = this.currentPage;\n      this.paginator.showFirstLastButtons = this.showPaginatorFirstLastButtons;\n    }\n\n    if (!Util.isDefined(this.selectAllCheckboxVisible)) {\n      this._oTableOptions.selectColumn.visible = !!this.state['select-column-visible'];\n    } else {\n      // checking the original selectAllCheckboxVisible with select-column-visible in initial configuration in local storage\n      if (this.state.hasOwnProperty('initial-configuration') && this.state['initial-configuration'].hasOwnProperty('select-column-visible')\n        && this.selectAllCheckboxVisible === this.state['initial-configuration']['select-column-visible']) {\n        this._oTableOptions.selectColumn.visible = !!this.state['select-column-visible'];\n      } else {\n        this._oTableOptions.selectColumn.visible = this.selectAllCheckboxVisible;\n      }\n    }\n\n    //Initialize show filter by column icon\n    this.showFilterByColumnIcon = this.originalFilterColumnActiveByDefault;\n\n    this.initializeCheckboxColumn();\n\n  }\n  updateStateExpandedColumn() {\n    if (!this.tableRowExpandable || !this.tableRowExpandable.expandableColumnVisible) { return; }\n    if (this._oTableOptions.visibleColumns[0] === Codes.NAME_COLUMN_SELECT && this._oTableOptions.visibleColumns[1] !== Codes.NAME_COLUMN_EXPANDABLE) {\n      this._oTableOptions.visibleColumns = [this._oTableOptions.visibleColumns[0]].concat(Codes.NAME_COLUMN_EXPANDABLE, this._oTableOptions.visibleColumns.splice(1));\n    } else if (this._oTableOptions.visibleColumns[0] !== Codes.NAME_COLUMN_EXPANDABLE) {\n      this._oTableOptions.visibleColumns.unshift(Codes.NAME_COLUMN_EXPANDABLE);\n    }\n  }\n\n  registerTabListener() {\n    // When table is contained into tab component, it is necessary to init table component when attached to DOM.\n    this.tabGroupChangeSubscription = this.tabGroupContainer.selectedTabChange.subscribe((evt) => {\n      let interval;\n      const timerCallback = (tab: MatTab) => {\n        if (tab && tab.content.isAttached) {\n          clearInterval(interval);\n          if (tab === this.tabContainer) {\n            this.insideTabBugWorkaround();\n            if (this.pendingQuery) {\n              this.queryData(this.pendingQueryFilter);\n            }\n          }\n        }\n      };\n      interval = setInterval(() => { timerCallback(evt.tab); }, 100);\n    });\n  }\n\n  protected insideTabBugWorkaround() {\n    this.sortHeaders.forEach(sortH => {\n      sortH.refresh();\n    });\n  }\n\n  registerSortListener() {\n    if (Util.isDefined(this.sort)) {\n      this.sortSubscription = this.sort.oSortChange.subscribe(this.onSortChange.bind(this));\n      this.sort.setMultipleSort(this.multipleSort);\n\n      if (Util.isDefined(this._oTableOptions.columns) && (this.sortColArray.length > 0)) {\n        this.sort.setTableInfo(this.sortColArray);\n      }\n    }\n  }\n\n  protected onSortChange(sortArray: any[]) {\n    this.sortColArray = [];\n    sortArray.forEach((sort) => {\n      if (sort.direction !== '') {\n        this.sortColArray.push({\n          columnName: sort.id,\n          ascendent: sort.direction === Codes.ASC_SORT\n        });\n      }\n    });\n    if (this.pageable) {\n      this.reloadData();\n    } else {\n      this.loadingSortingSubject.next(true);\n      this.cd.detectChanges();\n    }\n  }\n\n  setDatasource() {\n    const dataSourceService = this.injector.get(OTableDataSourceService);\n    this.dataSource = dataSourceService.getInstance(this);\n  }\n\n  protected registerDataSourceListeners() {\n    if (!this.pageable) {\n      this.onRenderedDataChange = this.dataSource.onRenderedDataChange.subscribe(() => {\n        setTimeout(() => {\n          this.loadingSortingSubject.next(false);\n          if (this.cd && !(this.cd as ViewRef).destroyed) {\n            this.cd.detectChanges();\n          }\n        }, 500);\n      });\n    }\n  }\n\n  get showLoading() {\n    return combineLatest([this.loading, this.loadingSorting, this.loadingScroll])\n      .pipe(map((res: any[]) => (res[0] || res[1] || res[2])));\n  }\n\n  public getExpandedRowContainerClass(rowIndex: number): string {\n    return OTableComponent.EXPANDED_ROW_CONTAINER_CLASS + rowIndex;\n  }\n\n  public getExpandableItems(): any[] {\n    return this.expandableItem.selected;\n  }\n\n  public toogleRowExpandable(item: any, rowIndex: number, event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n\n    this.expandableItem.toggle(item);\n\n\n\n    if (this.getStateExpand(item) === 'collapsed') {\n      this.portalHost.detach();\n      this.cd.detectChanges();\n      const eventTableRowExpandableChange = this.emitTableRowExpandableChangeEvent(item, rowIndex);\n      this.tableRowExpandable.onCollapsed.emit(eventTableRowExpandableChange);\n    } else {\n      this.portalHost = new DomPortalOutlet(\n        this.elRef.nativeElement.querySelector('.' + this.getExpandedRowContainerClass(rowIndex)),\n        this._componentFactoryResolver,\n        this.appRef,\n        this.injector\n      );\n\n      const templatePortal = new TemplatePortal(this.tableRowExpandable.templateRef, this._viewContainerRef, { $implicit: item });\n      this.portalHost.attachTemplatePortal(templatePortal);\n      setTimeout(() => {\n        const eventTableRowExpandableChange = this.emitTableRowExpandableChangeEvent(item, rowIndex);\n        this.tableRowExpandable.onExpanded.emit(eventTableRowExpandableChange);\n      }, 250);\n\n\n    }\n  }\n\n  private emitTableRowExpandableChangeEvent(data, rowIndex) {\n    const event = new OTableRowExpandedChange();\n    event.rowIndex = rowIndex;\n    event.data = data;\n\n    return event;\n  }\n\n  public isExpanded(data: any): boolean {\n    return this.expandableItem.isSelected(data);\n  }\n\n  public getStateExpand(row) {\n    return this.isExpanded(row) ? 'expanded' : 'collapsed';\n  }\n\n  public isColumnExpandable(): boolean {\n    return (Util.isDefined(this.tableRowExpandable) && Util.isDefined(this._oTableOptions.expandableColumn)) ? this._oTableOptions.expandableColumn.visible : false;\n  }\n\n  public hasExpandedRow(): boolean {\n    return Util.isDefined(this.tableRowExpandable);\n  }\n\n  public getNumVisibleColumns(): number {\n    return this.oTableOptions.visibleColumns.length;\n  }\n\n  /**\n   * This method manages the call to the service\n   * @param filter\n   * @param ovrrArgs\n   */\n  queryData(filter?: any, ovrrArgs?: OQueryDataArgs) {\n    // If tab exists and is not active then wait for queryData\n    if (this.isInsideInactiveTab()) {\n      this.pendingQuery = true;\n      this.pendingQueryFilter = filter;\n      return;\n    }\n    this.pendingQuery = false;\n    this.pendingQueryFilter = undefined;\n    super.queryData(filter, ovrrArgs);\n  }\n\n  protected isInsideInactiveTab(): boolean {\n    let result: boolean = false;\n    if (this.tabContainer && this.tabGroupContainer) {\n      result = !(this.tabContainer.isActive || (this.tabGroupContainer.selectedIndex === this.tabContainer.position));\n    }\n    return result;\n  }\n\n  getComponentFilter(existingFilter: any = {}): any {\n    let filter = existingFilter;\n    if (this.pageable) {\n      if (Object.keys(filter).length > 0) {\n        const parentItemExpr = FilterExpressionUtils.buildExpressionFromObject(filter);\n        filter = {};\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] = parentItemExpr;\n      }\n      const beColFilter = this.getColumnFiltersExpression();\n      // Add column filters basic expression to current filter\n      if (beColFilter && !Util.isDefined(filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY])) {\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] = beColFilter;\n      } else if (beColFilter) {\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] =\n          FilterExpressionUtils.buildComplexExpression(filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY], beColFilter, FilterExpressionUtils.OP_AND);\n      }\n    }\n    return super.getComponentFilter(filter);\n  }\n\n  protected getQuickFilterExpression(): Expression {\n    if (Util.isDefined(this.oTableQuickFilterComponent) && this.pageable) {\n      return this.oTableQuickFilterComponent.filterExpression;\n    }\n    return undefined;\n  }\n\n  protected getColumnFiltersExpression(): Expression {\n    // Apply column filters\n    const columnFilters: OColumnValueFilter[] = this.dataSource.getColumnValueFilters();\n    const beColumnFilters: Array<Expression> = [];\n    columnFilters.forEach(colFilter => {\n      // Prepare basic expressions\n      switch (colFilter.operator) {\n        case ColumnValueFilterOperator.IN:\n          if (Util.isArray(colFilter.values)) {\n            const besIn: Array<Expression> = colFilter.values.map(value => FilterExpressionUtils.buildExpressionEquals(colFilter.attr, value));\n            let beIn: Expression = besIn.pop();\n            besIn.forEach(be => {\n              beIn = FilterExpressionUtils.buildComplexExpression(beIn, be, FilterExpressionUtils.OP_OR);\n            });\n            beColumnFilters.push(beIn);\n          }\n          break;\n        case ColumnValueFilterOperator.BETWEEN:\n          if (Util.isArray(colFilter.values) && colFilter.values.length === 2) {\n            let beFrom = FilterExpressionUtils.buildExpressionMoreEqual(colFilter.attr, colFilter.values[0]);\n            let beTo = FilterExpressionUtils.buildExpressionLessEqual(colFilter.attr, colFilter.values[1]);\n            beColumnFilters.push(FilterExpressionUtils.buildComplexExpression(beFrom, beTo, FilterExpressionUtils.OP_AND));\n          }\n          break;\n        case ColumnValueFilterOperator.EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionLike(colFilter.attr, colFilter.values));\n          break;\n        case ColumnValueFilterOperator.LESS_EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionLessEqual(colFilter.attr, colFilter.values));\n          break;\n        case ColumnValueFilterOperator.MORE_EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionMoreEqual(colFilter.attr, colFilter.values));\n          break;\n      }\n\n    });\n    // Build complete column filters basic expression\n    let beColFilter: Expression = beColumnFilters.pop();\n    beColumnFilters.forEach(be => {\n      beColFilter = FilterExpressionUtils.buildComplexExpression(beColFilter, be, FilterExpressionUtils.OP_AND);\n    });\n    return beColFilter;\n  }\n\n  updatePaginationInfo(queryRes: any) {\n    super.updatePaginationInfo(queryRes);\n  }\n\n  protected setData(data: any, sqlTypes: any) {\n    this.daoTable.sqlTypesChange.next(sqlTypes);\n    this.daoTable.setDataArray(data);\n    this.updateScrolledState();\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.daoTable.data);\n  }\n\n  showDialogError(error: string, errorOptional?: string) {\n    if (Util.isDefined(error) && !Util.isObject(error)) {\n      this.dialogService.alert('ERROR', error);\n    } else {\n      this.dialogService.alert('ERROR', errorOptional);\n    }\n  }\n\n  projectContentChanged() {\n    setTimeout(() => {\n      this.loadingSortingSubject.next(false);\n    }, 500);\n    this.loadingScrollSubject.next(false);\n\n    if (this.previousRendererData !== this.dataSource.renderedData) {\n      this.previousRendererData = this.dataSource.renderedData;\n      ObservableWrapper.callEmit(this.onContentChange, this.dataSource.renderedData);\n    }\n\n    if (this.state.hasOwnProperty('selection') && this.dataSource.renderedData.length > 0 && this.getSelectedItems().length === 0) {\n      this.state.selection.forEach(selectedItem => {\n        // finding selected item data in the table rendered data\n        const foundItem = this.dataSource.renderedData.find(data => {\n          let result = true;\n          Object.keys(selectedItem).forEach(key => {\n            result = result && (data[key] === selectedItem[key]);\n          });\n          return result;\n        });\n        if (foundItem) {\n          this.selection.select(foundItem);\n        }\n      });\n    }\n  }\n\n  getAttributesValuesToQuery(): Array<string> {\n    const columns = super.getAttributesValuesToQuery();\n    if (this.avoidQueryColumns.length > 0) {\n      for (let i = columns.length - 1; i >= 0; i--) {\n        const col = columns[i];\n        if (this.avoidQueryColumns.indexOf(col) !== -1) {\n          columns.splice(i, 1);\n        }\n      }\n    }\n    return columns;\n  }\n\n  getQueryArguments(filter: object, ovrrArgs?: OQueryDataArgs): Array<any> {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    queryArguments[3] = this.getSqlTypesForFilter(queryArguments[1]);\n    Object.assign(queryArguments[3], ovrrArgs ? ovrrArgs.sqltypes || {} : {});\n    if (this.pageable) {\n      queryArguments[5] = this.paginator.isShowingAllRows(queryArguments[5]) ? this.state.totalQueryRecordsNumber : queryArguments[5];\n      queryArguments[6] = this.sortColArray;\n    }\n    return queryArguments;\n  }\n\n  getSqlTypesForFilter(filter): object {\n    const allSqlTypes = {};\n    this._oTableOptions.columns.forEach((col: OColumn) => {\n      if (col.sqlType) {\n        allSqlTypes[col.attr] = col.sqlType;\n      }\n    });\n    Object.assign(allSqlTypes, this.getSqlTypes());\n    const filterCols = Util.getValuesFromObject(filter);\n    const sqlTypes = {};\n    Object.keys(allSqlTypes).forEach(key => {\n      if (filterCols.indexOf(key) !== -1 && allSqlTypes[key] !== SQLTypes.OTHER) {\n        sqlTypes[key] = allSqlTypes[key];\n      }\n    });\n    return sqlTypes;\n  }\n\n  onExportButtonClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onExportButtonClicked();\n    }\n  }\n\n  onChangeColumnsVisibilityClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onChangeColumnsVisibilityClicked();\n    }\n  }\n\n  onMatTableContentChanged() {\n    //\n  }\n\n  add() {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_INSERT)) {\n      return;\n    }\n    super.insertDetail();\n  }\n\n  remove(clearSelectedItems: boolean = false) {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_DELETE)) {\n      return;\n    }\n    const selectedItems = this.getSelectedItems();\n    if (selectedItems.length > 0) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n        if (res === true) {\n          if (this.dataService && (this.deleteMethod in this.dataService) && this.entity && (this.keysArray.length > 0)) {\n            const filters = ServiceUtils.getArrayProperties(selectedItems, this.keysArray);\n            this.daoTable.removeQuery(filters).subscribe(() => {\n              ObservableWrapper.callEmit(this.onRowDeleted, selectedItems);\n            }, error => {\n              this.showDialogError(error, 'MESSAGES.ERROR_DELETE');\n            }, () => {\n              this.reloadData();\n            });\n          } else {\n            this.deleteLocalItems();\n          }\n        } else if (clearSelectedItems) {\n          this.clearSelection();\n        }\n      });\n    }\n  }\n\n  refresh() {\n    this.reloadData();\n  }\n\n  showAndSelectAllCheckbox() {\n    if (this.isSelectionModeMultiple()) {\n      if (this.selectAllCheckbox) {\n        this._oTableOptions.selectColumn.visible = true;\n      }\n      this.initializeCheckboxColumn();\n      this.selectAll();\n    }\n  }\n\n  reloadPaginatedDataFromStart() {\n    if (this.pageable) {\n      // Initialize page index\n      this.currentPage = 0;\n      this.reloadData();\n    }\n  }\n\n  reloadData() {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_REFRESH)) {\n      return;\n    }\n    Object.assign(this.state, this.oTableStorage.getTablePropertyToStore('selection'));\n    this.clearSelection();\n    this.finishQuerySubscription = false;\n    this.pendingQuery = true;\n    // this.pageScrollVirtual = 1;\n    let queryArgs: OQueryDataArgs;\n    if (this.pageable) {\n      queryArgs = {\n        offset: this.currentPage * this.queryRows,\n        length: this.queryRows\n      };\n    }\n    this.editingCell = undefined;\n    this.queryData(void 0, queryArgs);\n  }\n\n  handleClick(item: any, rowIndex: number, $event: MouseEvent) {\n    this.clickTimer = setTimeout(() => {\n      if (!this.clickPrevent) {\n        this.doHandleClick(item, rowIndex, $event);\n      }\n      this.clickPrevent = false;\n    }, this.clickDelay);\n  }\n\n  doHandleClick(item: any, rowIndex: number, $event: MouseEvent) {\n    if (!this.oenabled) {\n      return;\n    }\n    if ((this.detailMode === Codes.DETAIL_MODE_CLICK)) {\n      this.onClick.emit({ row: item, rowIndex: rowIndex, mouseEvent: $event });\n      this.saveDataNavigationInLocalStorage();\n      this.selection.clear();\n      this.selectedRow(item);\n      this.viewDetail(item);\n      return;\n    }\n    if (this.isSelectionModeMultiple() && ($event.ctrlKey || $event.metaKey)) {\n      // TODO: test $event.metaKey on MAC\n      this.selectedRow(item);\n      this.onClick.emit({ row: item, rowIndex: rowIndex, mouseEvent: $event });\n    } else if (this.isSelectionModeMultiple() && $event.shiftKey) {\n      this.handleMultipleSelection(item);\n    } else if (!this.isSelectionModeNone()) {\n      const selectedItems = this.getSelectedItems();\n      if (this.selection.isSelected(item) && selectedItems.length === 1 && this.editionEnabled) {\n        return;\n      } else {\n        this.clearSelectionAndEditing();\n      }\n      this.selectedRow(item);\n      this.onClick.emit({ row: item, rowIndex: rowIndex, mouseEvent: $event });\n    }\n  }\n\n  handleMultipleSelection(item: any) {\n    if (this.selection.selected.length > 0) {\n      const first = this.dataSource.renderedData.indexOf(this.selection.selected[0]);\n      const last = this.dataSource.renderedData.indexOf(item);\n      const indexFrom = Math.min(first, last);\n      const indexTo = Math.max(first, last);\n      this.clearSelection();\n      this.dataSource.renderedData.slice(indexFrom, indexTo + 1).forEach(e => this.selectedRow(e));\n      ObservableWrapper.callEmit(this.onClick, this.selection.selected);\n    }\n  }\n\n  protected saveDataNavigationInLocalStorage() {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  handleDoubleClick(item: any, event?) {\n    clearTimeout(this.clickTimer);\n    this.clickPrevent = true;\n    ObservableWrapper.callEmit(this.onDoubleClick, item);\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item);\n    }\n  }\n\n  get editionEnabled(): boolean {\n    return this._oTableOptions.columns.some(item => item.editing);\n  }\n\n  handleDOMClick(event) {\n    if (this._oTableOptions.selectColumn.visible) {\n      return;\n    }\n\n    if (this.editionEnabled) {\n      return;\n    }\n\n    const overlayContainer = document.body.getElementsByClassName('cdk-overlay-container')[0];\n    if (overlayContainer && overlayContainer.contains(event.target)) {\n      return;\n    }\n\n    const tableContainer = this.elRef.nativeElement.querySelector('.o-table-container');\n    const tableContent = this.elRef.nativeElement.querySelector('.o-table-container table.mat-table');\n    if (tableContainer && tableContent && tableContainer.contains(event.target) && !tableContent.contains(event.target)) {\n      this.clearSelection();\n    }\n  }\n\n  handleCellClick(column: OColumn, row: any, event?) {\n    if (this.oenabled && column.editor\n      && (this.detailMode !== Codes.DETAIL_MODE_CLICK)\n      && (this.editionMode === Codes.DETAIL_MODE_CLICK)) {\n\n      this.activateColumnEdition(column, row, event);\n    }\n  }\n\n  handleCellDoubleClick(column: OColumn, row: any, event?) {\n    if (this.oenabled && column.editor\n      && (!Codes.isDoubleClickMode(this.detailMode))\n      && (Codes.isDoubleClickMode(this.editionMode))) {\n\n      this.activateColumnEdition(column, row, event);\n    }\n  }\n\n  protected activateColumnEdition(column: OColumn, row: any, event?) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (event && column.editing && this.editingCell === event.currentTarget) {\n      return;\n    }\n    const columnPermissions: OPermissions = this.getOColumnPermissions(column.attr);\n    if (columnPermissions.enabled === false) {\n      console.warn(`${column.attr} edition not allowed due to permissions`);\n      return;\n    }\n\n    this.clearSelectionAndEditing();\n    this.selectedRow(row);\n    if (event) {\n      this.editingCell = event.currentTarget;\n    }\n    const rowData = {};\n    this.keysArray.forEach((key) => {\n      rowData[key] = row[key];\n    });\n    rowData[column.attr] = row[column.attr];\n    this.editingRow = row;\n    column.editing = true;\n    column.editor.startEdition(rowData);\n    this.cd.detectChanges();\n  }\n\n  updateCellData(column: OColumn, data: any, saveChanges: boolean) {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_UPDATE)) {\n      const res = new Observable(innerObserver => {\n        innerObserver.error();\n      });\n      return res;\n    }\n    column.editing = false;\n    this.editingCell = undefined;\n    if (saveChanges && this.editingRow !== undefined) {\n      Object.assign(this.editingRow, data);\n    }\n    this.editingRow = undefined;\n    if (saveChanges && column.editor.updateRecordOnEdit) {\n      const toUpdate = {};\n      toUpdate[column.attr] = data[column.attr];\n      const kv = this.extractKeysFromRecord(data);\n      return this.updateRecord(kv, toUpdate);\n    }\n    return undefined;\n  }\n\n  protected getKeysValues(): any[] {\n    const data = this.getAllValues();\n    return data.map((row) => {\n      const obj = {};\n      this.keysArray.forEach((key) => {\n        if (row[key] !== undefined) {\n          obj[key] = row[key];\n        }\n      });\n\n      return obj;\n    });\n  }\n\n  onShowsSelects() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onShowsSelects();\n    }\n  }\n\n  initializeCheckboxColumn() {\n    // Initializing row selection listener\n    if (!this.selectionChangeSubscription && this._oTableOptions.selectColumn.visible) {\n      this.selectionChangeSubscription = this.selection.changed.subscribe((selectionData: SelectionChange<any>) => {\n        if (selectionData && selectionData.added.length > 0) {\n          ObservableWrapper.callEmit(this.onRowSelected, selectionData.added);\n        }\n        if (selectionData && selectionData.removed.length > 0) {\n          ObservableWrapper.callEmit(this.onRowDeselected, selectionData.removed);\n        }\n      });\n    }\n    this.updateSelectionColumnState();\n  }\n\n  protected updateSelectionColumnState() {\n    if (!this._oTableOptions.selectColumn.visible) {\n      this.clearSelection();\n    }\n    if (this._oTableOptions.visibleColumns && this._oTableOptions.selectColumn.visible\n      && this._oTableOptions.visibleColumns[0] !== Codes.NAME_COLUMN_SELECT) {\n      this._oTableOptions.visibleColumns.unshift(Codes.NAME_COLUMN_SELECT);\n    } else if (this._oTableOptions.visibleColumns && !this._oTableOptions.selectColumn.visible\n      && this._oTableOptions.visibleColumns[0] === Codes.NAME_COLUMN_SELECT) {\n      this._oTableOptions.visibleColumns.shift();\n    }\n    this.updateStateExpandedColumn();\n  }\n\n  public isAllSelected(): boolean {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.dataSource ? this.dataSource.renderedData.length : undefined;\n    return numSelected > 0 && numSelected === numRows;\n  }\n\n  public masterToggle(event: MatCheckboxChange): void {\n    event.checked ? this.selectAll() : this.clearSelection();\n  }\n\n  public selectAll(): void {\n    this.dataSource.renderedData.forEach(row => this.selection.select(row));\n  }\n\n  public selectionCheckboxToggle(event: MatCheckboxChange, row: any): void {\n    if (this.isSelectionModeSingle()) {\n      this.clearSelection();\n    }\n    this.selectedRow(row);\n  }\n\n  public selectedRow(row: any): void {\n    this.setSelected(row);\n    this.cd.detectChanges();\n  }\n\n  get showDeleteButton(): boolean {\n    return this.deleteButton;\n  }\n\n  getTrackByFunction(): (index: number, item: any) => string {\n    const self = this;\n\n    return (index: number, item: any) => {\n      if (self.hasScrollableContainer() && index < (self.pageScrollVirtual - 1) * Codes.LIMIT_SCROLLVIRTUAL) {\n        return null;\n      }\n\n      let itemId: string = '';\n      const keysLenght = self.keysArray.length;\n      self.keysArray.forEach((key: string, idx: number) => {\n        const suffix = idx < (keysLenght - 1) ? ';' : '';\n        itemId += item[key] + suffix;\n      });\n\n\n      const asyncAndVisible = self.asyncLoadColumns.filter(c => self._oTableOptions.visibleColumns.indexOf(c) !== -1);\n      if (self.asyncLoadColumns.length && asyncAndVisible.length > 0 && !self.finishQuerySubscription) {\n        self.queryRowAsyncData(index, item);\n        if (self.paginator && index === (self.paginator.pageSize - 1)) {\n          self.finishQuerySubscription = true;\n        }\n        return itemId;\n      } else {\n        return itemId;\n      }\n    };\n  }\n\n  queryRowAsyncData(rowIndex: number, rowData: any) {\n    const kv = ServiceUtils.getObjectProperties(rowData, this.keysArray);\n    // Repeating checking of visible column\n    const av = this.asyncLoadColumns.filter(c => this._oTableOptions.visibleColumns.indexOf(c) !== -1);\n    if (av.length === 0) {\n      // Skipping query if there are not visible asyncron columns\n      return;\n    }\n    const columnQueryArgs = [kv, av, this.entity, undefined, undefined, undefined, undefined];\n    const queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    if (this.dataService && (queryMethodName in this.dataService) && this.entity) {\n      if (this.asyncLoadSubscriptions[rowIndex]) {\n        this.asyncLoadSubscriptions[rowIndex].unsubscribe();\n      }\n      this.asyncLoadSubscriptions[rowIndex] = this.dataService[queryMethodName]\n        .apply(this.dataService, columnQueryArgs)\n        .subscribe((res: ServiceResponse) => {\n          if (res.isSuccessful()) {\n            let data;\n            if (Util.isArray(res.data) && res.data.length === 1) {\n              data = res.data[0];\n            } else if (Util.isObject(res.data)) {\n              data = res.data;\n            }\n            this.daoTable.setAsynchronousColumn(data, rowData);\n            this.cd.detectChanges();\n          }\n        });\n    }\n  }\n\n  getValue() {\n    return this.dataSource.getCurrentData();\n  }\n\n  getAllValues() {\n    return this.dataSource.getCurrentAllData();\n  }\n\n  getAllRenderedValues() {\n    return this.dataSource.getAllRendererData();\n  }\n\n  getRenderedValue() {\n    return this.dataSource.getCurrentRendererData();\n  }\n\n  getSqlTypes() {\n    return Util.isDefined(this.dataSource.sqlTypes) ? this.dataSource.sqlTypes : {};\n  }\n\n  setOTableColumnsFilter(tableColumnsFilter: OTableColumnsFilterComponent) {\n    this.oTableColumnsFilterComponent = tableColumnsFilter;\n  }\n\n  get filterColumns() {\n\n    if (this.state.hasOwnProperty('initial-configuration') &&\n      this.state['initial-configuration'].hasOwnProperty('filter-columns') &&\n      this.state.hasOwnProperty('filter-columns') &&\n      this.state['initial-configuration']['filter-columns'] === this.originalFilterColumns) {\n      if (this.state.hasOwnProperty('filter-columns')) {\n        return this.state['filter-columns'];\n      }\n    }\n\n    return this.originalFilterColumns;\n  }\n\n  get originalFilterColumns(): Array<OFilterColumn> {\n    let sortColumnsFilter = [];\n    if (this.oTableColumnsFilterComponent) {\n      sortColumnsFilter = this.oTableColumnsFilterComponent.columnsArray;\n    }\n    return sortColumnsFilter;\n  }\n\n  getStoredColumnsFilters() {\n    return this.oTableStorage.getStoredColumnsFilters();\n  }\n\n  onFilterByColumnClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onFilterByColumnClicked();\n    }\n  }\n\n  onStoreFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onStoreFilterClicked();\n    }\n  }\n\n  onLoadFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onLoadFilterClicked();\n    }\n  }\n\n  onClearFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onClearFilterClicked();\n    }\n  }\n\n  clearFilters(triggerDatasourceUpdate: boolean = true): void {\n    this.dataSource.clearColumnFilters(triggerDatasourceUpdate);\n    if (this.oTableMenu && this.oTableMenu.columnFilterOption) {\n      this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon);\n    }\n    this.onFilterByColumnChange.emit(this.dataSource.getColumnValueFilters());\n    if (this.oTableQuickFilterComponent) {\n      this.oTableQuickFilterComponent.setValue(void 0);\n    }\n  }\n\n  clearColumnFilter(attr: string, triggerDatasourceUpdate: boolean = true): void {\n    this.dataSource.clearColumnFilter(attr, triggerDatasourceUpdate);\n    this.onFilterByColumnChange.emit(this.dataSource.getColumnValueFilters());\n    this.reloadPaginatedDataFromStart();\n  }\n\n  filterByColumn(columnValueFilter: OColumnValueFilter) {\n    this.dataSource.addColumnFilter(columnValueFilter);\n    this.onFilterByColumnChange.emit(this.dataSource.getColumnValueFilters());\n    this.reloadPaginatedDataFromStart();\n  }\n\n  clearColumnFilters(triggerDatasourceUpdate: boolean = true): void {\n    this.dataSource.clearColumnFilters(triggerDatasourceUpdate);\n    this.onFilterByColumnChange.emit(this.dataSource.getColumnValueFilters());\n    this.reloadPaginatedDataFromStart();\n  }\n\n  isColumnFilterable(column: OColumn): boolean {\n    return (this.oTableColumnsFilterComponent && this.oTableColumnsFilterComponent.isColumnFilterable(column.attr));\n  }\n\n  isModeColumnFilterable(column: OColumn): boolean {\n    return this.showFilterByColumnIcon &&\n      (this.oTableColumnsFilterComponent && this.oTableColumnsFilterComponent.isColumnFilterable(column.attr));\n  }\n\n  isColumnFilterActive(column: OColumn): boolean {\n    return this.showFilterByColumnIcon &&\n      this.dataSource.getColumnValueFilterByAttr(column.attr) !== undefined;\n  }\n\n  openColumnFilterDialog(column: OColumn, event: Event) {\n    event.stopPropagation();\n    event.preventDefault();\n    const dialogRef = this.dialog.open(OTableFilterByColumnDataDialogComponent, {\n      data: {\n        previousFilter: this.dataSource.getColumnValueFilterByAttr(column.attr),\n        column: column,\n        activeSortDirection: this.getSortFilterColumn(column),\n        tableData: this.dataSource.getTableData(),\n        preloadValues: this.oTableColumnsFilterComponent.preloadValues,\n        mode: this.oTableColumnsFilterComponent.mode\n      },\n      minWidth: '380px',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      switch (result) {\n        case TableFilterByColumnDialogResult.ACCEPT:\n          const columnValueFilter = dialogRef.componentInstance.getColumnValuesFilter();\n          this.filterByColumn(columnValueFilter);\n          break;\n        case TableFilterByColumnDialogResult.CLEAR:\n          const col = dialogRef.componentInstance.column;\n          this.clearColumnFilter(col.attr);\n          break;\n      }\n    });\n    dialogRef.componentInstance.onSortFilterValuesChange.subscribe(sortedFilterableColumn => {\n      // guardar en localstorage el cambio\n      this.storeFilterColumns(sortedFilterableColumn);\n    });\n  }\n\n  storeFilterColumns(sortColumnFilter: OFilterColumn) {\n    if (this.state.hasOwnProperty('filter-columns') && this.state['filter-columns']) {\n      let storeSortColumnsFilterState = this.oTableStorage.getFilterColumnsState();\n      //if exists in state then updated sort value\n      if (storeSortColumnsFilterState['filter-columns'].filter(x => x.attr === sortColumnFilter.attr).length > 0) {\n        storeSortColumnsFilterState['filter-columns'].forEach(element => {\n          if (element.attr === sortColumnFilter.attr) {\n            element.sort = sortColumnFilter.sort;\n          }\n        });\n      } else {\n        //else exists in state then added filter column\n        storeSortColumnsFilterState['filter-columns'].push(sortColumnFilter);\n      }\n      this.state['filter-columns'] = storeSortColumnsFilterState['filter-columns'];\n    } else {\n      this.state['filter-columns'] = this.filterColumns;\n    }\n\n  }\n\n  getSortFilterColumn(column: OColumn): string {\n    let sortColumn;\n    // at first, get state in localstorage\n    if (this.state.hasOwnProperty('filter-columns')) {\n      this.state['filter-columns'].forEach((element: OFilterColumn) => {\n        if (element.attr === column.attr) {\n          sortColumn = element.sort;\n        }\n      });\n    }\n\n    //if not value in localstorage, get sort value in o-table-column-filter-column component\n    if (!Util.isDefined(sortColumn) && this.oTableColumnsFilterComponent) {\n      sortColumn = this.oTableColumnsFilterComponent.getSortValueOfFilterColumn(column.attr);\n    }\n\n    //if either value in o-table-column-filter-column or localstorage, get sort value in sortColArray\n    if (!Util.isDefined(sortColumn)) {\n      if (this.sortColArray.find(x => x.columnName === column.attr)) {\n        sortColumn = this.isColumnSortActive(column) ? 'asc' : 'desc'\n      }\n    }\n\n\n\n    return sortColumn;\n  }\n\n  get disableTableMenuButton(): boolean {\n    return !!(this.permissions && this.permissions.menu && this.permissions.menu.enabled === false);\n  }\n\n  get showTableMenuButton(): boolean {\n    const permissionHidden = !!(this.permissions && this.permissions.menu && this.permissions.menu.visible === false);\n    if (permissionHidden) {\n      return false;\n    }\n    const staticOpt = this.selectAllCheckbox || this.exportButton || this.showConfigurationOption || this.columnsVisibilityButton || (this.showFilterOption && this.oTableColumnsFilterComponent !== undefined);\n    return staticOpt || this.tableOptions.length > 0;\n  }\n\n  setOTableInsertableRow(tableInsertableRow: OTableInsertableRowComponent) {\n    const insertPerm: OPermissions = this.getActionPermissions(PermissionsUtils.ACTION_INSERT);\n    if (insertPerm.visible) {\n      tableInsertableRow.enabled = insertPerm.enabled;\n      this.oTableInsertableRowComponent = tableInsertableRow;\n      this.showFirstInsertableRow = this.oTableInsertableRowComponent.isFirstRow();\n      this.showLastInsertableRow = !this.showFirstInsertableRow;\n      this.oTableInsertableRowComponent.initializeEditors();\n    }\n  }\n\n  clearSelectionAndEditing() {\n    this.selection.clear();\n    this._oTableOptions.columns.forEach(item => {\n      item.editing = false;\n    });\n  }\n\n  useDetailButton(column: OColumn): boolean {\n    return column.type === 'editButtonInRow' || column.type === 'detailButtonInRow';\n  }\n\n  onDetailButtonClick(column: OColumn, row: any, event: any) {\n    event.preventDefault();\n    event.stopPropagation();\n    switch (column.type) {\n      case 'editButtonInRow':\n        this.editDetail(row);\n        break;\n      case 'detailButtonInRow':\n        this.viewDetail(row);\n        break;\n    }\n  }\n\n  getDetailButtonIcon(column: OColumn) {\n    let result = '';\n    switch (column.type) {\n      case 'editButtonInRow':\n        result = this.editButtonInRowIcon;\n        break;\n      case 'detailButtonInRow':\n        result = this.detailButtonInRowIcon;\n        break;\n    }\n    return result;\n  }\n\n  usePlainRender(column: OColumn, row: any): boolean {\n    return !this.useDetailButton(column) && !column.renderer && (!column.editor || (!column.editing || !this.selection.isSelected(row)));\n  }\n\n  useCellRenderer(column: OColumn, row: any): boolean {\n    return column.renderer && (!column.editing || column.editing && !this.selection.isSelected(row));\n  }\n\n  useCellEditor(column: OColumn, row: any): boolean {\n    // TODO Add column.editor instanceof OTableCellEditorBooleanComponent to condition\n    if (column.editor && column.editor.autoCommit) {\n      return false;\n    }\n    return column.editor && column.editing && this.selection.isSelected(row);\n  }\n\n  isSelectionModeMultiple(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_MULTIPLE;\n  }\n\n  isSelectionModeSingle(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_SINGLE;\n  }\n\n  isSelectionModeNone(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_NONE;\n  }\n\n  onChangePage(evt: PageEvent) {\n    this.finishQuerySubscription = false;\n    if (!this.pageable) {\n      this.currentPage = evt.pageIndex;\n      return;\n    }\n    const tableState = this.state;\n\n    const goingBack = evt.pageIndex < this.currentPage;\n    this.currentPage = evt.pageIndex;\n    const pageSize = this.paginator.isShowingAllRows(evt.pageSize) ? tableState.totalQueryRecordsNumber : evt.pageSize;\n\n    const oldQueryRows = this.queryRows;\n    const changingPageSize = (oldQueryRows !== pageSize);\n    this.queryRows = pageSize;\n\n    let newStartRecord;\n    let queryLength;\n\n    if (goingBack || changingPageSize) {\n      newStartRecord = (this.currentPage * this.queryRows);\n      queryLength = this.queryRows;\n    } else {\n      newStartRecord = Math.max(tableState.queryRecordOffset, (this.currentPage * this.queryRows));\n      const newEndRecord = Math.min(newStartRecord + this.queryRows, tableState.totalQueryRecordsNumber);\n      queryLength = Math.min(this.queryRows, newEndRecord - newStartRecord);\n    }\n\n    const queryArgs: OQueryDataArgs = {\n      offset: newStartRecord,\n      length: queryLength\n    };\n    this.finishQuerySubscription = false;\n    this.queryData(void 0, queryArgs);\n  }\n\n  getOColumn(attr: string): OColumn {\n    return this._oTableOptions ? this._oTableOptions.columns.find(item => item.name === attr) : undefined;\n  }\n\n  insertRecord(recordData: any, sqlTypes?: object): Observable<any> {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_INSERT)) {\n      return undefined;\n    }\n    if (!Util.isDefined(sqlTypes)) {\n      const allSqlTypes = this.getSqlTypes();\n      sqlTypes = {};\n      Object.keys(recordData).forEach(key => {\n        sqlTypes[key] = allSqlTypes[key];\n      });\n    }\n    return this.daoTable.insertQuery(recordData, sqlTypes);\n  }\n\n  updateRecord(filter: any, updateData: any, sqlTypes?: object): Observable<any> {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return of(this.dataSource.data);\n    }\n    const sqlTypesArg = sqlTypes || {};\n    if (!Util.isDefined(sqlTypes)) {\n      const allSqlTypes = this.getSqlTypes();\n      Object.keys(filter).forEach(key => {\n        sqlTypesArg[key] = allSqlTypes[key];\n      });\n      Object.keys(updateData).forEach(key => {\n        sqlTypesArg[key] = allSqlTypes[key];\n      });\n    }\n    return this.daoTable.updateQuery(filter, updateData, sqlTypesArg);\n  }\n\n  getDataArray() {\n    return this.daoTable.data;\n  }\n\n  setDataArray(data: Array<any>) {\n    if (this.daoTable) {\n      // remote pagination has no sense when using static-data\n      this.pageable = false;\n      this.staticData = data;\n      this.daoTable.usingStaticData = true;\n      this.daoTable.setDataArray(this.staticData);\n    }\n  }\n\n  protected deleteLocalItems() {\n    const dataArray = this.getDataArray();\n    const selectedItems = this.getSelectedItems();\n    selectedItems.forEach((selectedItem: any) => {\n      for (let j = dataArray.length - 1; j >= 0; --j) {\n        if (Util.equals(selectedItem, dataArray[j])) {\n          dataArray.splice(j, 1);\n          break;\n        }\n      }\n    });\n    this.clearSelection();\n    this.setDataArray(dataArray);\n  }\n\n  isColumnSortActive(column: OColumn): boolean {\n    const found = this.sortColArray.find(sortC => sortC.columnName === column.attr);\n    return found !== undefined;\n  }\n\n  isColumnDescSortActive(column: OColumn): boolean {\n    const found = this.sortColArray.find(sortC => sortC.columnName === column.attr && !sortC.ascendent);\n    return found !== undefined;\n  }\n\n  hasTabGroupChangeSubscription(): boolean {\n    return this.tabGroupChangeSubscription !== undefined;\n  }\n\n  isEmpty(value: any): boolean {\n    return !Util.isDefined(value) || ((typeof value === 'string') && !value);\n  }\n\n  setFiltersConfiguration(conf: any) {\n    // initialize filterCaseSensitive\n\n    /*\n      Checking the original filterCaseSensitive with the filterCaseSensitive in initial configuration in local storage\n      if filterCaseSensitive in initial configuration is equals to original filterCaseSensitive input\n      filterCaseSensitive will be the value in local storage\n    */\n    if (Util.isDefined(this.filterCaseSensitive) && this.state.hasOwnProperty('initial-configuration') &&\n      this.state['initial-configuration'].hasOwnProperty('filter-case-sensitive') &&\n      this.filterCaseSensitive === conf['initial-configuration']['filter-case-sensitive']) {\n      this.filterCaseSensitive = conf.hasOwnProperty('filter-case-sensitive') ? conf['filter-case-sensitive'] : this.filterCaseSensitive;\n    }\n\n    const storedColumnFilters = this.oTableStorage.getStoredColumnsFilters(conf);\n\n\n    if (Util.isDefined(this.filterColumnActiveByDefault) && this.state.hasOwnProperty('initial-configuration') &&\n      this.state['initial-configuration'].hasOwnProperty('filter-column-active-by-default') &&\n      this.originalFilterColumnActiveByDefault !== conf['initial-configuration']['filter-column-active-by-default']) {\n      this.showFilterByColumnIcon = this.originalFilterColumnActiveByDefault;\n    } else {\n      const filterColumnActiveByDefaultState = conf.hasOwnProperty('filter-column-active-by-default') ? conf['filter-column-active-by-default'] : this.filterColumnActiveByDefault;\n      this.showFilterByColumnIcon = filterColumnActiveByDefaultState || storedColumnFilters.length > 0;\n    }\n\n    if (this.oTableMenu && this.oTableMenu.columnFilterOption) {\n      this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon);\n    }\n\n    if (this.oTableColumnsFilterComponent) {\n      this.dataSource.initializeColumnsFilters(storedColumnFilters);\n    }\n\n    if (this.oTableQuickFilterComponent) {\n      this.oTableQuickFilterComponent.setValue(conf.filter);\n      const storedColumnsData = conf.oColumns || [];\n      storedColumnsData.forEach((oColData: any) => {\n        const oCol = this.getOColumn(oColData.attr);\n        if (oCol) {\n          if (oColData.hasOwnProperty('searching')) {\n            oCol.searching = oColData.searching;\n          }\n        }\n      });\n    }\n  }\n\n  onStoreConfigurationClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onStoreConfigurationClicked();\n    }\n  }\n\n  onApplyConfigurationClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onApplyConfigurationClicked();\n    }\n  }\n\n  applyDefaultConfiguration() {\n    this.oTableStorage.reset();\n    this.initializeParams();\n    this.parseVisibleColumns();\n    this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => this.visibleColArray.indexOf(a.attr) - this.visibleColArray.indexOf(b.attr));\n    this.insideTabBugWorkaround();\n    this.onReinitialize.emit(null);\n    this.clearFilters(false);\n    this.reloadData();\n  }\n\n  applyConfiguration(configurationName: string) {\n    const storedConfiguration = this.oTableStorage.getStoredConfiguration(configurationName);\n    if (storedConfiguration) {\n      const properties = storedConfiguration[OTableStorage.STORED_PROPERTIES_KEY] || [];\n      const conf = storedConfiguration[OTableStorage.STORED_CONFIGURATION_KEY];\n      properties.forEach(property => {\n        switch (property) {\n          case 'sort':\n            this.state['sort-columns'] = conf['sort-columns'];\n            this.parseSortColumns();\n            break;\n          case 'columns-display':\n            this.state['oColumns-display'] = conf['oColumns-display'];\n            this.parseVisibleColumns();\n            this.state['select-column-visible'] = conf['select-column-visible'];\n            this.initializeCheckboxColumn();\n            break;\n          case 'quick-filter':\n          case 'columns-filter':\n            this.setFiltersConfiguration(conf);\n            break;\n          case 'page':\n            this.state.currentPage = conf.currentPage;\n            this.currentPage = conf.currentPage;\n            if (this.pageable) {\n              this.state.totalQueryRecordsNumber = conf.totalQueryRecordsNumber;\n              this.state.queryRecordOffset = conf.queryRecordOffset;\n            }\n            this.queryRows = conf['query-rows'];\n            break;\n        }\n      });\n      this.reloadData();\n    }\n  }\n\n  getTitleAlignClass(oCol: OColumn) {\n    let align;\n    const hasTitleAlign = Util.isDefined(oCol.definition) && Util.isDefined(oCol.definition.titleAlign);\n    const autoAlign = (this.autoAlignTitles && !hasTitleAlign) || (hasTitleAlign && oCol.definition.titleAlign === Codes.COLUMN_TITLE_ALIGN_AUTO);\n    if (!autoAlign) {\n      return oCol.getTitleAlignClass();\n    }\n    switch (oCol.type) {\n      case 'image':\n      case 'date':\n      case 'action':\n      case 'boolean':\n        align = Codes.COLUMN_TITLE_ALIGN_CENTER;\n        break;\n      case 'currency':\n      case 'integer':\n      case 'real':\n      case 'percentage':\n        align = Codes.COLUMN_TITLE_ALIGN_END;\n        break;\n      case 'service':\n      default:\n        align = Codes.COLUMN_TITLE_ALIGN_START;\n        break;\n    }\n    return align;\n  }\n\n  public getCellAlignClass(column: OColumn): string {\n    return Util.isDefined(column.definition) && Util.isDefined(column.definition.contentAlign) ? 'o-' + column.definition.contentAlign : '';\n  }\n\n  onTableScroll(e) {\n    if (this.hasScrollableContainer()) {\n      const tableViewHeight = e.target.offsetHeight; // viewport: ~500px\n      const tableScrollHeight = e.target.scrollHeight; // length of all table\n      const scrollLocation = e.target.scrollTop; // how far user scrolled\n\n      // If the user has scrolled within 200px of the bottom, add more data\n      const buffer = 100;\n      const limit_SCROLLVIRTUAL = tableScrollHeight - tableViewHeight - buffer;\n      if (scrollLocation > limit_SCROLLVIRTUAL) {\n        this.getDataScrollable();\n      }\n    }\n  }\n\n  getDataScrollable(): any {\n    const pageVirtualBefore = this.pageScrollVirtual;\n    const pageVirtualEnd = Math.ceil(this.dataSource.resultsLength / Codes.LIMIT_SCROLLVIRTUAL);\n\n    if (pageVirtualEnd !== this.pageScrollVirtual) {\n      this.pageScrollVirtual++;\n    }\n\n    // throw event change scroll\n    if (pageVirtualBefore !== this.pageScrollVirtual) {\n      this.loadingScrollSubject.next(true);\n      this.dataSource.loadDataScrollable = this.pageScrollVirtual;\n    }\n  }\n\n  hasScrollableContainer(): boolean {\n    return this.dataSource && !this.paginationControls && !this.pageable;\n  }\n\n  protected addDefaultRowButtons() {\n    // check permissions\n    if (this.editButtonInRow) {\n      this.addButtonInRow('editButtonInRow');\n    }\n    if (this.detailButtonInRow) {\n      this.addButtonInRow('detailButtonInRow');\n    }\n  }\n\n  protected addButtonInRow(name: string) {\n    const colDef: OColumn = this.createOColumn(name, this);\n    colDef.type = name;\n    colDef.visible = true;\n    colDef.searchable = false;\n    colDef.orderable = false;\n    colDef.resizable = false;\n    colDef.title = undefined;\n    colDef.width = '48px';\n    this.pushOColumnDefinition(colDef);\n    this._oTableOptions.visibleColumns.push(name);\n  }\n\n  get headerHeight() {\n    let height = 0;\n    if (this.tableHeaderEl && this.tableHeaderEl.nativeElement) {\n      height += this.tableHeaderEl.nativeElement.offsetHeight;\n    }\n    if (this.tableToolbarEl && this.tableToolbarEl.nativeElement) {\n      height += this.tableToolbarEl.nativeElement.offsetHeight;\n    }\n    return height;\n  }\n\n  isDetailMode(): boolean {\n    return this.detailMode !== Codes.DETAIL_MODE_NONE;\n  }\n\n  copyAll() {\n    Util.copyToClipboard(JSON.stringify(this.getRenderedValue()));\n  }\n\n  copySelection() {\n    const selectedItems = this.dataSource.getRenderedData(this.getSelectedItems());\n    Util.copyToClipboard(JSON.stringify(selectedItems));\n  }\n\n  viewDetail(item: any): void {\n    if (!this.checkEnabledActionPermission('detail')) {\n      return;\n    }\n    super.viewDetail(item);\n  }\n\n  editDetail(item: any): void {\n    if (!this.checkEnabledActionPermission('edit')) {\n      return;\n    }\n    super.editDetail(item);\n  }\n\n  getOColumnFromTh(th: any): OColumn {\n    let result: OColumn;\n    const classList: any[] = [].slice.call((th as Element).classList);\n    const columnClass = classList.find((className: string) => (className.startsWith('mat-column-')));\n    if (Util.isDefined(columnClass)) {\n      result = this.getOColumn(columnClass.substr('mat-column-'.length));\n    }\n    return result;\n  }\n\n  getThWidthFromOColumn(oColumn: OColumn): any {\n    let widthColumn: number;\n    const thArray = [].slice.call(this.tableHeaderEl.nativeElement.children);\n    for (const th of thArray) {\n      const classList: any[] = [].slice.call((th as Element).classList);\n      const columnClass = classList.find((className: string) => (className === 'mat-column-' + oColumn.attr));\n      if (columnClass && columnClass.length > 1) {\n        widthColumn = th.clientWidth;\n        break;\n      }\n    }\n    return widthColumn;\n  }\n\n  getColumnInsertable(name): string {\n    return name + this.getSuffixColumnInsertable();\n  }\n\n  isRowSelected(row: any): boolean {\n    return !this.isSelectionModeNone() && this.selection.isSelected(row);\n  }\n\n  protected getColumnsWidthFromDOM() {\n    if (Util.isDefined(this.tableHeaderEl)) {\n      [].slice.call(this.tableHeaderEl.nativeElement.children).forEach(thEl => {\n        const oCol: OColumn = this.getOColumnFromTh(thEl);\n        if (Util.isDefined(oCol) && thEl.clientWidth > 0 && oCol.DOMWidth !== thEl.clientWidth) {\n          oCol.DOMWidth = thEl.clientWidth;\n        }\n      });\n    }\n  }\n\n  refreshColumnsWidth() {\n    setTimeout(() => {\n      this._oTableOptions.columns.filter(c => c.visible).forEach(c => {\n        if (Util.isDefined(c.definition) && Util.isDefined(c.definition.width)) {\n          c.width = c.definition.width;\n        }\n        c.getRenderWidth(this.horizontalScroll, this.getClientWidthColumn(c));\n      });\n      this.cd.detectChanges();\n    }, 0);\n  }\n\n  private createOColumn(attr?: string, table?: OTableComponent, column?: OTableColumnComponent & OTableColumnCalculatedComponent): OColumn {\n    const instance = new OColumn();\n    if (attr) {\n      instance.attr = attr;\n    }\n    if (table) {\n      instance.setDefaultProperties({\n        orderable: this.orderable,\n        resizable: this.resizable\n      });\n    }\n    if (column) {\n      instance.setColumnProperties(column);\n    }\n    return instance;\n  }\n\n  public registerOTableButtons(arg: OTableButtons) {\n    this.oTableButtons = arg;\n    if (this.oTableButtons) {\n      this.oTableButtons.registerButtons(this.tableButtons.toArray());\n    }\n  }\n\n  public getClientWidthColumn(col: OColumn): number {\n    return col.DOMWidth || this.getThWidthFromOColumn(col);\n  }\n\n  public getMinWidthColumn(col: OColumn): string {\n    return Util.extractPixelsValue(col.minWidth, Codes.DEFAULT_COLUMN_MIN_WIDTH) + 'px';\n  }\n\n}\n","import { EventEmitter, HostListener, Injector, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\n\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { OTableColumn } from '../../../../interfaces/o-table-column.interface';\nimport { SnackBarService } from '../../../../services/snackbar.service';\nimport { OTranslateService } from '../../../../services/translate/o-translate.service';\nimport { ObservableWrapper } from '../../../../util/async';\nimport { Util } from '../../../../util/util';\nimport { OTableComponent } from '../../o-table.component';\nimport { OColumn } from '../o-column.class';\nimport { OTableColumnComponent } from '../o-table-column.component';\n\n// import { OTableColumnComponent } from '../o-table-column.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR = [\n  'orequired: required',\n  'showPlaceHolder: show-placeholder',\n  'olabel: label',\n  'updateRecordOnEdit: update-record-on-edit',\n  'showNotificationOnEdit: show-notification-on-edit',\n  'enabled'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR = [\n  'editionStarted',\n  'editionCancelled',\n  'editionCommitted',\n  'onPostUpdateRecord'\n];\n\nexport class OBaseTableCellEditor implements OnInit {\n\n  protected translateService: OTranslateService;\n\n  @InputConverter()\n  orequired: boolean = false;\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  olabel: string;\n  @InputConverter()\n  updateRecordOnEdit: boolean = true;\n  @InputConverter()\n  showNotificationOnEdit: boolean = true;\n  protected _enabled: boolean = true;\n\n  protected _tableColumn: OTableColumn;\n  protected _table: OTableComponent;\n\n  protected _rowData: any;\n\n  formControl: FormControl;\n  controlArgs: any;\n\n  formGroup: FormGroup = new FormGroup({});\n\n  editionStarted: EventEmitter<object> = new EventEmitter<object>();\n  editionCancelled: EventEmitter<object> = new EventEmitter<object>();\n  editionCommitted: EventEmitter<object> = new EventEmitter<object>();\n\n  onPostUpdateRecord: EventEmitter<object> = new EventEmitter<object>();\n\n  public editorCreated: EventEmitter<object> = new EventEmitter<object>();\n\n  inputRef: any;\n\n  protected type: string;\n  registerInColumn: boolean = true;\n\n  protected snackBarService: SnackBarService;\n  protected oldValue: any;\n\n  @HostListener('document:keyup', ['$event'])\n  onDocumentKeyup(event: KeyboardEvent) {\n    this.handleKeyup(event);\n  }\n\n  constructor(protected injector: Injector) {\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.tableColumn = this.injector.get(OTableColumnComponent);\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit(): void {\n    this.initialize();\n  }\n\n  public initialize(): void {\n    this.createFormControl();\n    this.registerEditor();\n    this.editorCreated.emit(this);\n  }\n\n  protected handleKeyup(event: KeyboardEvent) {\n    const oColumn = this.table.getOColumn(this.tableColumnAttr);\n    if (!oColumn || !oColumn.editing) {\n      return;\n    }\n    if (event.keyCode === 27) {\n      // escape\n      this.onEscClicked();\n    } else if (event.keyCode === 13 || event.keyCode === 9) {\n      // intro or tab\n      this.commitEdition();\n    }\n  }\n\n  createFormControl() {\n    if (!this.formControl) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControl = new FormControl(cfg, validators);\n      this.formGroup.addControl(Math.random().toString(36), this.formControl);\n    }\n  }\n\n  registerEditor() {\n    if (this.registerInColumn && !Util.isDefined(this.tableColumn.editor)) {\n      this.tableColumn.registerEditor(this);\n      if (!Util.isDefined(this.type) && Util.isDefined(this.tableColumn.type)) {\n        this.type = this.tableColumn.type;\n      }\n    }\n  }\n\n  getCellData(): any {\n    return this._rowData[this.tableColumnAttr];\n  }\n\n  startEdition(data: any) {\n    this.formGroup.reset();\n    this.rowData = data;\n    if (!this.isSilentControl()) {\n      this.editionStarted.emit(this._rowData);\n    }\n  }\n\n  endEdition(saveChanges) {\n    const oColumn: OColumn = this.table.getOColumn(this.tableColumnAttr);\n    if (oColumn) {\n      const self = this;\n      const updateObserver = this.table.updateCellData(oColumn, this._rowData, saveChanges);\n      if (updateObserver) {\n        updateObserver.subscribe(res => {\n          self.onUpdateSuccess(res);\n          self.table.cd.detectChanges();\n        }, error => {\n          self._rowData[self.tableColumnAttr] = self.oldValue;\n          self.table.dataSource.updateRenderedRowData(self._rowData);\n          self.table.showDialogError(error, 'MESSAGES.ERROR_UPDATE');\n          self.table.cd.detectChanges();\n        });\n      } else {\n        self.table.cd.detectChanges();\n      }\n    }\n  }\n\n  commitEdition() {\n    if (!this.formControl.invalid) {\n      this.oldValue = this._rowData[this.tableColumnAttr];\n      this._rowData[this.tableColumnAttr] = this.formControl.value;\n      if (!this.isSilentControl()) {\n        this.endEdition(true);\n        this.editionCommitted.emit(this._rowData);\n      }\n    }\n  }\n\n  get tableColumn(): OTableColumn {\n    return this._tableColumn;\n  }\n\n  set tableColumn(arg: OTableColumn) {\n    this._tableColumn = arg;\n    if (arg) {\n      this._table = arg.table;\n    }\n  }\n\n  get tableColumnAttr(): string {\n    if (this._tableColumn) {\n      return this._tableColumn.attr;\n    }\n    return undefined;\n  }\n\n  set table(arg: OTableComponent) {\n    this._table = arg;\n  }\n\n  get table(): OTableComponent {\n    return this._table;\n  }\n\n  get rowData(): any {\n    return this._rowData;\n  }\n\n  set rowData(arg: any) {\n    this._rowData = arg;\n    const cellData = this.getCellData();\n    this.formControl.setValue(cellData);\n    this.formControl.markAsTouched();\n\n    if (this.inputRef && this.inputRef.nativeElement.type === 'text') {\n      this.inputRef.nativeElement.setSelectionRange(0, String(cellData).length);\n    }\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = [];\n    if (this.orequired) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  hasError(error: string): boolean {\n    return this.formControl && this.formControl.touched && this.hasErrorExclusive(error);\n  }\n\n  hasErrorExclusive(error: string): boolean {\n    let hasError = false;\n    const errorsOrder = ['matDatepickerMax', 'matDatepickerMin', 'matDatepickerFilter', 'matDatepickerParse', 'required'];\n    const errors = this.formControl.errors;\n    if (Util.isDefined(errors)) {\n      if (Object.keys(errors).length === 1) {\n        return errors.hasOwnProperty(error);\n      } else {\n        for (let i = 0, len = errorsOrder.length; i < len; i++) {\n          hasError = errors.hasOwnProperty(errorsOrder[i]);\n          if (hasError) {\n            hasError = (errorsOrder[i] === error);\n            break;\n          }\n        }\n      }\n    }\n    return hasError;\n  }\n\n  getErrorValue(error: string, prop: string): string {\n    return this.formControl.hasError(error) ? this.formControl.getError(error)[prop] || '' : '';\n  }\n\n  onEscClicked() {\n    if (!this.isSilentControl()) {\n      this.endEdition(false);\n      this.editionCancelled.emit(this._rowData);\n    }\n  }\n\n  protected isSilentControl(): boolean {\n    return this.controlArgs !== undefined && this.controlArgs.silent;\n  }\n\n  getPlaceholder(): string {\n    return this.showPlaceHolder ?\n      this.translateService.get(this.olabel || this.tableColumn ? (this.tableColumn.title || this.tableColumnAttr) : this.tableColumnAttr) :\n      undefined;\n  }\n\n  protected onUpdateSuccess(res: any) {\n    ObservableWrapper.callEmit(this.onPostUpdateRecord, this._rowData);\n    if (this.showNotificationOnEdit) {\n      this.snackBarService.open('MESSAGES.UPDATED', { icon: 'check_circle' });\n    }\n  }\n\n  set enabled(arg: boolean) {\n    this._enabled = arg;\n    if (this.formControl) {\n      this._enabled ? this.formControl.enable() : this.formControl.disable();\n    }\n  }\n\n  get enabled(): boolean {\n    return this._enabled;\n  }\n\n  getFormControl() {\n    return this.formControl;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Injector,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MatCheckboxChange } from '@angular/material';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { Util } from '../../../../../util/util';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR,\n  OBaseTableCellEditor,\n} from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'indeterminateOnNull: indeterminate-on-null',\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  'autoCommit: auto-commit'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  selector: 'o-table-cell-editor-boolean',\n  templateUrl: './o-table-cell-editor-boolean.component.html',\n  styleUrls: ['./o-table-cell-editor-boolean.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-cell-editor-boolean]': 'true'\n  }\n})\n\nexport class OTableCellEditorBooleanComponent extends OBaseTableCellEditor implements OnInit {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  indeterminate: boolean = false;\n\n  @InputConverter()\n  indeterminateOnNull: boolean = false;\n  trueValue: any;\n  falseValue: any;\n\n  booleanType: string = 'boolean';\n\n  @InputConverter()\n  autoCommit: boolean = true;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  initialize() {\n    super.initialize();\n    this.parseInputs();\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue, 10);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue, 10);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    const self = this;\n    setTimeout(() => {\n      // using setTimeout to forcing this code execution after super.activateColumnEdition column.editing = true line\n      if (self.autoCommit) {\n        const isTrue = (self.formControl.value === self.trueValue);\n        self.formControl.setValue(isTrue ? self.falseValue : self.trueValue, { emitEvent: false });\n        self.commitEdition();\n      } else {\n        const isTrue = (self.formControl.value === self.trueValue);\n        self.formControl.setValue(isTrue ? self.trueValue : self.falseValue, { emitEvent: false });\n      }\n    }, 0);\n  }\n\n  getCellData() {\n    let cellData = super.getCellData();\n    this.indeterminate = this.indeterminateOnNull && !Util.isDefined(cellData);\n    if (!this.indeterminate) {\n      cellData = this.parseValueByType(cellData);\n    }\n    return cellData;\n  }\n\n  hasCellDataTrueValue(cellData: any): boolean {\n    let result: boolean;\n    if (Util.isDefined(cellData)) {\n      result = (cellData === this.trueValue);\n      if (this.booleanType === 'string' && !Util.isDefined(this.trueValue)) {\n        result = Util.parseBoolean(cellData, false);\n      }\n    }\n    return result;\n  }\n\n  protected parseValueByType(val: any): any {\n    let result = val;\n    const cellIsTrue = this.hasCellDataTrueValue(val);\n    const value = cellIsTrue ? this.trueValue : this.falseValue;\n    switch (this.booleanType) {\n      case 'string':\n        result = this.translateService.get(value);\n        break;\n      case 'number':\n        result = parseInt(value, 10);\n        break;\n      default:\n        break;\n    }\n    return result;\n  }\n\n  onChange(arg: MatCheckboxChange) {\n    this.formControl.setValue(arg.checked ? this.trueValue : this.falseValue, { emitEvent: false });\n    this.commitEdition();\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Injector,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { DateAdapter, MAT_DATE_LOCALE, MatDatepicker, MatDatepickerInputEvent } from '@angular/material';\nimport moment from 'moment';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { MomentService } from '../../../../../services/moment.service';\nimport { OntimizeMomentDateAdapter } from '../../../../../shared/material/date/ontimize-moment-date-adapter';\nimport { DateFilterFunction } from '../../../../../types/date-filter-function.type';\nimport { ODateValueType } from '../../../../../types/o-date-value.type';\nimport { Util } from '../../../../../util/util';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR,\n  OBaseTableCellEditor,\n} from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'format',\n  'locale',\n  'oStartView: start-view',\n  'min',\n  'max',\n  'oTouchUi: touch-ui',\n  'startAt: start-at',\n  'filterDate: filter-date',\n  // value-type [timestamp|string]: type must be defined to be able to save its value,\n  // e.g. classic ontimize server dates come as timestamps (number), but to be able to save them they have to be send as strings with\n  // the format 'YYYY-MM-DD HH:mm:ss'Default: timestamp.\n  'dateValueType: date-value-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  selector: 'o-table-cell-editor-date',\n  templateUrl: './o-table-cell-editor-date.component.html',\n  styleUrls: ['./o-table-cell-editor-date.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: DateAdapter, useClass: OntimizeMomentDateAdapter, deps: [MAT_DATE_LOCALE] }\n  ]\n})\n\nexport class OTableCellEditorDateComponent extends OBaseTableCellEditor implements OnInit {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n  @ViewChild('input', { static: false }) inputRef: ElementRef;\n\n  format: string = 'L';\n  protected locale: string;\n  oStartView: 'month' | 'year' = 'month';\n  protected min: string;\n  protected max: string;\n  @InputConverter()\n  oTouchUi: boolean = false;\n  protected startAt: string;\n  filterDate: DateFilterFunction;\n  _dateValueType: ODateValueType = 'timestamp';\n\n  oStartAt: Date;\n  oMinDate: Date;\n  oMaxDate: Date;\n\n  private momentSrv: MomentService;\n  minDateString: string;\n  maxDateString: string;\n\n  protected datepicker: MatDatepicker<Date>;\n  constructor(\n    protected injector: Injector,\n    protected momentDateAdapter: DateAdapter<OntimizeMomentDateAdapter>\n  ) {\n    super(injector);\n    this.momentSrv = this.injector.get(MomentService);\n  }\n\n  initialize(): void {\n    super.initialize();\n    if (!this.locale) {\n      this.locale = this.momentSrv.getLocale();\n    }\n    if (this.format) {\n      (this.momentDateAdapter as any).oFormat = this.format;\n    }\n\n    this.momentDateAdapter.setLocale(this.locale);\n    if (this.startAt) {\n      this.oStartAt = new Date(this.startAt);\n    }\n\n    if (this.min) {\n      const date = new Date(this.min);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.oMinDate = date;\n        this.minDateString = momentD.format(this.format);\n      }\n    }\n\n    if (this.max) {\n      const date = new Date(this.max);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.oMaxDate = date;\n        this.maxDateString = momentD.format(this.format);\n      }\n    }\n  }\n\n  protected handleKeyup(event: KeyboardEvent) {\n    const oColumn = this.table.getOColumn(this.tableColumn.attr);\n    if (!oColumn) {\n      return;\n    }\n    if (!oColumn.editing && this.datepicker && this.datepicker.opened) {\n      this.datepicker.close();\n    } else {\n      super.handleKeyup(event);\n    }\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    if (!this.startAt) {\n      this.oStartAt = this.getCellData();\n    }\n  }\n\n  getCellData(): any {\n    const value = super.getCellData();\n    if (Util.isDefined(value)) {\n      let result = value;\n      let m;\n      switch (this.dateValueType) {\n        case 'string':\n          m = moment(value, this.format);\n          break;\n        case 'date':\n          break;\n        case 'iso-8601':\n        case 'timestamp':\n        default:\n          m = moment(value);\n          break;\n      }\n      if (Util.isDefined(m)) {\n        result = m.toDate();\n      }\n      return result;\n    }\n    return value;\n  }\n\n  commitEdition() {\n    // !this.datepicker.opened &&\n    if (!this.formControl.invalid) {\n      this.oldValue = this._rowData[this.tableColumnAttr];\n      this._rowData[this.tableColumnAttr] = this.getValueByValyType();\n      if (!this.isSilentControl()) {\n        this.endEdition(true);\n        this.editionCommitted.emit(this._rowData);\n      }\n    }\n  }\n\n  protected getValueByValyType(): any {\n    let result = this.formControl.value;\n    const m = moment(this.formControl.value);\n    switch (this.dateValueType) {\n      case 'string':\n        result = m.format(this.format);\n        break;\n      case 'date':\n        result = new Date(result);\n        break;\n      case 'iso-8601':\n        result = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        result = m.valueOf();\n        break;\n    }\n    return result;\n  }\n\n  onDateChange(event: MatDatepickerInputEvent<any>) {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    let val = isValid ? event.value.valueOf() : event.value;\n    const m = moment(val);\n    switch (this.dateValueType) {\n      case 'string':\n        if (val) {\n          val = m.format(this.format);\n        }\n        break;\n      case 'date':\n        val = new Date(val);\n        break;\n      case 'iso-8601':\n        val = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        break;\n    }\n\n    this.formControl.setValue(val, {\n      emitModelToViewChange: false,\n      emitEvent: false\n    });\n  }\n\n  openDatepicker(d: MatDatepicker<Date>) {\n    this.datepicker = d;\n    d.open();\n  }\n\n  set dateValueType(val: any) {\n    this._dateValueType = Util.convertToODateValueType(val);\n  }\n\n  get dateValueType(): any {\n    return this._dateValueType;\n  }\n\n  onClosed() {\n    this.inputRef.nativeElement.focus();\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\nimport { FormControl, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR,\n  OBaseTableCellEditor,\n} from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'min',\n  'max',\n  'step'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  selector: 'o-table-cell-editor-integer',\n  templateUrl: './o-table-cell-editor-integer.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER\n})\n\nexport class OTableCellEditorIntegerComponent extends OBaseTableCellEditor {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 1;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  getCellData() {\n    const cellData = super.getCellData();\n    const intValue = parseInt(cellData, 10);\n    return isNaN(intValue) ? undefined : intValue;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (typeof (this.min) !== 'undefined') {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (typeof (this.max) !== 'undefined') {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        min: {\n          requiredMin: this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        max: {\n          requiredMax: this.max\n        }\n      };\n    }\n    return {};\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\nimport { FormControl, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER,\n} from '../integer/o-table-cell-editor-integer.component';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER\n];\n\n@Component({\n  selector: 'o-table-cell-editor-real',\n  templateUrl: './o-table-cell-editor-real.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL\n})\n\nexport class OTableCellEditorRealComponent extends OBaseTableCellEditor {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 0.01;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  getCellData() {\n    const cellData = super.getCellData();\n    const floatValue = parseFloat(cellData);\n    return isNaN(floatValue) ? undefined : floatValue;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (typeof (this.min) !== 'undefined') {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (typeof (this.max) !== 'undefined') {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        min: {\n          requiredMin: this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        max: {\n          requiredMax: this.max\n        }\n      };\n    }\n    return {};\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Injector, TemplateRef, ViewChild } from '@angular/core';\n\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR,\n  OBaseTableCellEditor,\n} from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  selector: 'o-table-cell-editor-text',\n  templateUrl: './o-table-cell-editor-text.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT\n})\n\nexport class OTableCellEditorTextComponent extends OBaseTableCellEditor {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n  @ViewChild('input', { static: false }) inputRef: ElementRef;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n\n}\n","import {\n  AfterViewChecked,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  HostListener,\n  Injector,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl, ValidatorFn } from '@angular/forms';\nimport { DateAdapter, MAT_DATE_LOCALE, MatDatepicker, MatDatepickerInput, MatDatepickerInputEvent } from '@angular/material';\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\nimport moment from 'moment';\nimport { NgxMaterialTimepickerComponent } from 'ngx-material-timepicker';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { MomentService } from '../../../../../services/moment.service';\nimport { FormValueOptions } from '../../../../../types/form-value-options.type';\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR,\n  OBaseTableCellEditor,\n} from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'oDateFormat: date-format',\n  'oDateLocale: date-locale',\n  'oDateStartView: date-start-view',\n  'oMinDate: date-min',\n  'oMaxDate: date-max',\n  'oDateTouchUi: date-touch-ui',\n  'oDateStartAt: date-start-at',\n  'oHourFormat: hour-format',\n  'oHourMin: hour-min',\n  'oHourMax: hour-max',\n  'oHourPlaceholder: hour-placeholder',\n  'oDatePlaceholder: date-placeholder'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  selector: 'o-table-cell-editor-time',\n  templateUrl: './o-table-cell-editor-time.component.html',\n  styleUrls: ['./o-table-cell-editor-time.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] }\n  ],\n})\n\nexport class OTableCellEditorTimeComponent extends OBaseTableCellEditor implements OnInit, AfterViewChecked {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  @ViewChild('dateInput', { static: false })\n  protected dateInput: ElementRef;\n\n  @ViewChild('hourInput', { static: false })\n  protected hourInput: ElementRef;\n\n  @ViewChild('picker', { static: false })\n  public picker: NgxMaterialTimepickerComponent;\n\n  oStartView: 'month' | 'year' = 'month';\n\n  @ViewChild(MatDatepickerInput, { static: false })\n  public datepickerInput: MatDatepickerInput<Date>;\n\n  formControlHour: FormControl;\n  formControlDate: FormControl;\n\n  public oDateFormat: string = 'L';\n  public oHourMax: string;\n  public oHourMin: string;\n  @InputConverter()\n  public oDateTouchUi: boolean;\n  public oDateStartAt: string;\n\n  private _oDateLocale;\n  protected oHourPlaceholder: string;\n  protected oDatePlaceholder: string;\n  public oHourFormat: number = Codes.TWENTY_FOUR_HOUR_FORMAT;\n  protected onKeyboardInputDone = false;\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  protected _minDateString: string;\n  protected _maxDateString: string;\n  protected datepicker: MatDatepicker<Date>;\n  private momentSrv: MomentService;\n\n  // only true when hour input is focused\n  public enabledCommitOnTabPress: boolean = false;\n  protected activeKeys: object = {};\n\n  @HostListener('document:keydown', ['$event'])\n  onDocumentKeydown(event: KeyboardEvent) {\n    this.handleKeydown(event);\n  }\n\n  constructor(\n    protected injector: Injector,\n    private adapter: DateAdapter<any>\n  ) {\n    super(injector);\n    this.momentSrv = this.injector.get(MomentService);\n  }\n\n  initialize(): void {\n    super.initialize();\n    this.createInternalFormControl();\n    if (!this._oDateLocale) {\n      this.oDateLocale = this.momentSrv.getLocale();\n    }\n\n    if (this.oMinDate) {\n      const date = new Date(this.oMinDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.minDateString = momentD.format(this.oDateFormat);\n      }\n    }\n\n    if (this.oMaxDate) {\n      const date = new Date(this.oMaxDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.maxDateString = momentD.format(this.oDateFormat);\n      }\n    }\n  }\n\n  createInternalFormControl() {\n    if (!this.formControlDate) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControlDate = new FormControl(cfg, validators);\n      this.formGroup.addControl('dateInput', this.formControlDate);\n    }\n\n    if (!this.formControlHour) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControlHour = new FormControl(cfg, validators);\n      this.formGroup.addControl('hourInput', this.formControlHour);\n    }\n  }\n\n  public ngAfterViewChecked(): void {\n    this.modifyPickerMethods();\n  }\n\n  setTime(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.picker.updateTime(this.formControlHour.value);\n  }\n\n  onDateChange(event: MatDatepickerInputEvent<any>) {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    const val = isValid ? event.value.valueOf() : moment().startOf('day');\n\n    this.formControlDate.setValue(val, {\n      emitModelToViewChange: false,\n      emitEvent: false\n    });\n    this.updateComponentValue();\n  }\n\n  protected updateValeOnInputChange(blurEvent: any): void {\n    if (this.onKeyboardInputDone) {\n      let value: string = blurEvent.currentTarget.value;\n      // ngx-material-timepicker does not allow writing characters on input, so we add 'AM/PM' in order to make validation work properly\n      value = this.parseHour(value);\n      this.formControlHour.setValue(value);\n    }\n    this.onKeyboardInputDone = false;\n  }\n\n  /**\n   * Receives an hour input introduced by the user and returns the hour formated acording current format\n   * @param value\n   */\n  protected parseHour(value: string): string {\n    const strArray = value.split(':');\n    let hour: any = strArray[0];\n\n    if (Codes.TWELVE_FOUR_HOUR_FORMAT === this.oHourFormat) {\n      if (hour) {\n        hour = parseInt(hour, 10);\n        const period = hour <= 12 ? ' AM' : ' PM';\n        if (hour > 12) {\n          hour = hour - 12;\n        }\n        strArray[0] = hour;\n        value = strArray.join(':') + period;\n      }\n    }\n    return value;\n  }\n\n  public onHourChange(event) {\n    let value;\n    if (event instanceof Event) {\n      this.updateValeOnInputChange(event);\n    } else {\n      value = this.convertToFormatString(event);\n      /** emitModelToViewChange: false  because onChange event is trigger in ngModelChange */\n      this.formControlHour.setValue(value, {\n        emitEvent: false,\n        emitModelToViewChange: false\n      });\n    }\n    this.updateComponentValue();\n  }\n\n  public setTimestampValue(value: any, options?: FormValueOptions): void {\n    let parsedValue;\n    const momentV = Util.isDefined(value) ? moment(value) : value;\n    if (momentV && momentV.isValid()) {\n      parsedValue = momentV.utcOffset(0).format(this.formatString);\n    }\n    this.formControlHour.setValue(parsedValue, options);\n  }\n\n  protected convertToFormatString(value): string {\n    if (value === '00:00' || !Util.isDefined(value)) {\n      return value;\n    }\n    const formatStr = this.oHourFormat === Codes.TWENTY_FOUR_HOUR_FORMAT ? 'HH:mm' : 'hh:mm a';\n    let result;\n    if (typeof value === 'number') {\n      result = moment(value).format(formatStr);\n    } else {\n      result = value ? moment(value, 'h:mm A').format(formatStr) : value;\n    }\n    return result;\n  }\n\n  openDatepicker(d: MatDatepicker<Date>) {\n    this.datepicker = d;\n    d.open();\n  }\n\n  getPlaceholderHour() {\n    let placeholder = '';\n    if (this.oHourPlaceholder) {\n      placeholder = this.translateService.get(this.oHourPlaceholder);\n    } else {\n      placeholder = super.getPlaceholder();\n    }\n    return placeholder;\n  }\n\n  getPlaceholderDate() {\n    let placeholder = '';\n    if (this.oDatePlaceholder) {\n      placeholder = this.translateService.get(this.oDatePlaceholder);\n    } else {\n      placeholder = super.getPlaceholder();\n    }\n    return placeholder;\n  }\n\n  public open(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    if (this.picker) {\n      this.picker.open();\n    }\n  }\n\n  protected handleKeydown(e: KeyboardEvent) {\n    this.activeKeys[e.keyCode] = true;\n  }\n\n  protected handleKeyup(e: KeyboardEvent) {\n    this.activeKeys[e.keyCode] = false;\n    const oColumn = this.table.getOColumn(this.tableColumn.attr);\n    if (!oColumn) {\n      return;\n    }\n    if (e.keyCode === 9 && (this.activeKeys[16] || !this.enabledCommitOnTabPress)) {\n      // tab + shift or tab pressed with focus in the date component\n      return;\n    }\n    if (!oColumn.editing && this.datepicker && this.datepicker.opened) {\n      this.datepicker.close();\n    } else {\n      super.handleKeyup(e);\n    }\n  }\n\n  protected updateComponentValue(): void {\n\n    let timeValue: number;\n    const values = this.formGroup.getRawValue();\n    const mDate = (values['dateInput'] ? moment(values['dateInput']) : moment()).startOf('day');\n\n    const mHour = moment(values['hourInput'], this.formatString);\n    timeValue = mDate.clone()\n      .set('hour', mHour.get('hour'))\n      .set('minute', mHour.get('minutes'))\n      .valueOf();\n\n    if (this.formControl) {\n      this.formControl.setValue(timeValue);\n      this.formControl.markAsDirty();\n    }\n  }\n\n  protected modifyPickerMethods(): void {\n    if (this.picker && this.picker.inputElement) {\n      this.picker.inputElement.addEventListener('change', () => {\n        this.onKeyboardInputDone = true;\n      });\n    }\n    // if (this.picker) {\n    //   const ngxTimepicker = this.picker.timepickerInput;\n    //   if (ngxTimepicker && ngxTimepicker.onInput) {\n    //     ngxTimepicker.onInput = (value: string) => this.onKeyboardInputDone = true;\n    //   }\n    // }\n  }\n\n  hasErrorDate(error: string): boolean {\n    return this.formControlDate && this.formControlDate.touched && this.hasErrorExclusive(error);\n  }\n\n  hasErrorExclusive(error: string): boolean {\n    let hasError = false;\n    const errorsOrder = ['matDatepickerMax', 'matDatepickerMin', 'matDatepickerFilter', 'matDatepickerParse', 'required'];\n    const errors = this.formControlDate.errors;\n    if (Util.isDefined(errors)) {\n      if (Object.keys(errors).length === 1) {\n        return errors.hasOwnProperty(error);\n      } else {\n        for (let i = 0, len = errorsOrder.length; i < len; i++) {\n          hasError = errors.hasOwnProperty(errorsOrder[i]);\n          if (hasError) {\n            hasError = (errorsOrder[i] === error);\n            break;\n          }\n        }\n      }\n    }\n    return hasError;\n  }\n  hasErrorHour(error: string): boolean {\n    return this.formControlHour && this.formControlHour.touched;\n  }\n\n  getCellDataDate(): any {\n    const value = super.getCellData();\n    if (Util.isDefined(value)) {\n      const m = moment(value);\n      let result = value;\n      if (Util.isDefined(m)) {\n        result = m.toDate();\n      }\n      return result;\n    }\n    return value;\n  }\n\n  getCellDataHour(): any {\n    const value = super.getCellData();\n    if (Util.isDefined(value)) {\n      const m = moment(value);\n      let result = value;\n      if (Util.isDefined(m)) {\n        result = m.format(Codes.formatString(this.oHourFormat));\n      }\n      return result;\n    }\n    return value;\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    const cellDataDate = this.getCellDataDate();\n    this.formControlDate.setValue(cellDataDate);\n\n    const cellDataHour = this.getCellDataHour();\n    this.formControlHour.setValue(cellDataHour);\n    this.formGroup.markAsTouched();\n  }\n\n  get formatString(): string {\n    return Codes.formatString(this.oHourFormat);\n  }\n\n  get minDateString(): string {\n    return this._minDateString;\n  }\n\n  set minDateString(val: string) {\n    this._minDateString = val;\n  }\n\n  get maxDateString(): string {\n    return this._maxDateString;\n  }\n\n  set maxDateString(val: string) {\n    this._maxDateString = val;\n  }\n\n  public set oDateLocale(value: string) {\n    this._oDateLocale = value;\n    if (Util.isDefined(this._oDateLocale)) {\n      this.adapter.setLocale(value);\n    }\n  }\n\n  get minDate(): Date {\n    return new Date(this.oMinDate);\n  }\n\n  get maxDate(): Date {\n    return new Date(this.oMaxDate);\n  }\n\n  onDatepickerClosed() {\n    this.dateInput.nativeElement.focus();\n  }\n\n  onTimepickerClosed() {\n    this.hourInput.nativeElement.focus();\n  }\n\n  commitEdition() {\n    if (!this.formGroup.invalid) {\n      super.commitEdition();\n    }\n  }\n\n  onKeyDown(e: KeyboardEvent): void {\n    if (!Codes.isHourInputAllowed(e)) {\n      e.preventDefault();\n    }\n  }\n\n}\n","import { OTableCellEditorBooleanComponent, DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN } from './boolean/o-table-cell-editor-boolean.component';\nimport { OTableCellEditorDateComponent, DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE } from './date/o-table-cell-editor-date.component';\nimport { OTableCellEditorIntegerComponent } from './integer/o-table-cell-editor-integer.component';\nimport { OTableCellEditorRealComponent, DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL } from './real/o-table-cell-editor-real.component';\nimport { OTableCellEditorTextComponent, DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT, DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT } from './text/o-table-cell-editor-text.component';\nimport { OTableCellEditorTimeComponent, DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME } from './time/o-table-cell-editor-time.component';\n\nexport const O_TABLE_CELL_EDITORS = [\n  OTableCellEditorBooleanComponent,\n  OTableCellEditorDateComponent,\n  OTableCellEditorIntegerComponent,\n  OTableCellEditorRealComponent,\n  OTableCellEditorTextComponent,\n  OTableCellEditorTimeComponent\n];\n\nexport const O_TABLE_CELL_EDITORS_INPUTS = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL, // includes Integer\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME,\n];\n\nexport const O_TABLE_CELL_EDITORS_OUTPUTS = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT\n];\n\nexport const editorsMapping = {\n  boolean: OTableCellEditorBooleanComponent,\n  date: OTableCellEditorDateComponent,\n  integer: OTableCellEditorIntegerComponent,\n  real: OTableCellEditorRealComponent,\n  percentage: OTableCellEditorRealComponent,\n  currency: OTableCellEditorRealComponent,\n  text: OTableCellEditorTextComponent,\n  time: OTableCellEditorTimeComponent\n};\n","import { AfterContentInit, Injector, PipeTransform, TemplateRef, OnInit } from '@angular/core';\n\nimport { OTableColumn } from '../../../../interfaces/o-table-column.interface';\nimport { Util } from '../../../../util/util';\nimport { OTableComponent } from '../../o-table.component';\nimport { OTableColumnComponent } from '../o-table-column.component';\n\nexport const DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER = [\n  'filterSource: filter-source',\n  'filterFunction: filter-function'\n];\n\nexport class OBaseTableCellRenderer implements OnInit, AfterContentInit {\n\n  public templateref: TemplateRef<any>;\n  public tableColumn: OTableColumn;\n  public _filterSource: 'render' | 'data' | 'both' = 'render';\n  public filterFunction: (cellValue: any, rowValue: any, quickFilter?: string) => boolean;\n\n  protected type: string;\n  protected pipeArguments: any;\n  protected componentPipe: PipeTransform;\n\n  constructor(protected injector: Injector) {\n    this.tableColumn = this.injector.get(OTableColumnComponent);\n  }\n\n  public ngOnInit() {\n    this.initialize();\n  }\n\n  public initialize(): void {\n\n  }\n\n  public ngAfterContentInit(): void {\n    if (typeof this.filterFunction !== 'function') {\n      this.filterFunction = undefined;\n    }\n    this.registerRenderer();\n  }\n\n  get table(): OTableComponent {\n    return this.tableColumn.table;\n  }\n\n  get column(): string {\n    return this.tableColumn.attr;\n  }\n\n  public registerRenderer(): void {\n    this.tableColumn.registerRenderer(this);\n    if (!Util.isDefined(this.type) && Util.isDefined(this.tableColumn.type)) {\n      this.type = this.tableColumn.type;\n    }\n  }\n\n  /**\n   * Returns the displayed table cell value\n   * @param cellvalue the internal table cell value\n   * @param rowvalue the table row value\n   */\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    let parsedValue: string;\n    if (this.componentPipe && this.pipeArguments !== undefined && cellvalue !== undefined) {\n      parsedValue = this.componentPipe.transform(cellvalue, this.pipeArguments);\n    } else {\n      parsedValue = cellvalue;\n    }\n    return parsedValue;\n  }\n\n  public getTooltip(cellValue: any, rowValue: any): string {\n    return this.getCellData(cellValue, rowValue);\n  }\n\n  set filterSource(val: string) {\n    const lowerVal = (val || '').toLowerCase();\n    this._filterSource = (lowerVal === 'render' || lowerVal === 'data' || lowerVal === 'both') ? lowerVal : 'render';\n  }\n\n  get filterSource(): string {\n    return this._filterSource;\n  }\n\n  getFilter(cellValue: any, rowValue?: any): any[] {\n    let result;\n    switch (this.filterSource) {\n      case 'render':\n        result = [this.getCellData(cellValue, rowValue)];\n        break;\n      case 'data':\n        result = [cellValue];\n        break;\n      case 'both':\n        result = [cellValue, this.getCellData(cellValue, rowValue)];\n        break;\n    }\n    return result;\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  'icon',\n  'svgIcon:svg-icon',\n  'action',\n  'text',\n  'iconPosition: icon-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-action',\n  templateUrl: './o-table-cell-renderer-action.component.html',\n  styleUrls: ['./o-table-cell-renderer-action.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION\n})\nexport class OTableCellRendererActionComponent extends OBaseTableCellRenderer implements OnInit {\n\n  onClick: EventEmitter<object> = new EventEmitter<object>();\n  action: string;\n  _icon: string;\n  text: string;\n  iconPosition: string;\n  public svgIcon: string;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'action';\n    this.tableColumn.orderable = false;\n    this.tableColumn.searchable = false;\n  }\n\n  initialize() {\n    super.initialize();\n    if (this.table) {\n      const oCol = this.table.getOColumn(this.tableColumn.attr);\n      oCol.title = Util.isDefined(this.tableColumn.title) ? this.tableColumn.title : undefined;\n    }\n    this.iconPosition = Util.parseIconPosition(this.iconPosition);\n  }\n\n  getCellData(value: any) {\n    return value;\n  }\n\n  innerOnClick(event, rowData) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (Util.isDefined(this.action)) {\n      switch (this.action.toLowerCase()) {\n        case 'detail':\n          this.table.viewDetail(rowData);\n          break;\n        case 'edit':\n          this.table.editDetail(rowData);\n          break;\n        default:\n          break;\n      }\n    } else {\n      this.onClick.emit(rowData);\n    }\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(arg: string) {\n    this._icon = arg;\n  }\n\n  isIconPositionLeft() {\n    return Util.isDefined(this.icon) && this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n\n  isIconPositionRight() {\n    return Util.isDefined(this.icon) && this.iconPosition === Codes.ICON_POSITION_RIGHT;\n  }\n\n  isSvgIconPositionRight() {\n    return Util.isDefined(this.svgIcon) && this.iconPosition === Codes.ICON_POSITION_RIGHT;\n  }\n\n  isSvgIconPositionLeft() {\n    return Util.isDefined(this.svgIcon) && this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\nimport { Util } from '../../../../../util/util';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  // true-value [string]: true value. Default: no value.\n  'trueValue: true-value',\n  // false-value [string]: false value. Default: no value.\n  'falseValue: false-value',\n  // false-value [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n\n  'renderTrueValue: render-true-value',\n  'renderFalseValue: render-false-value',\n  // [string|number|icon|image]\n  'renderType: render-type'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-boolean',\n  templateUrl: './o-table-cell-renderer-boolean.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN\n})\nexport class OTableCellRendererBooleanComponent extends OBaseTableCellRenderer implements OnInit {\n\n  trueValue: any;\n  falseValue: any;\n  protected _renderTrueValue: any;\n  protected _renderFalseValue: any;\n\n  protected _renderType: string = 'string';\n  protected _booleanType: string = 'boolean';\n  protected translateService: OTranslateService;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true })\n  templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'boolean';\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  initialize() {\n    super.initialize();\n    this.parseInputs();\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue, 10);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue, 10);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  hasCellDataTrueValue(cellData: any): boolean {\n    let result: boolean;\n    if (Util.isDefined(cellData)) {\n      result = (cellData === this.trueValue);\n      if (this.booleanType === 'string' && !Util.isDefined(this.trueValue)) {\n        result = Util.parseBoolean(cellData, false);\n      }\n    }\n    return result;\n  }\n\n  getCellData(cellvalue: any, rowvalue?: any) {\n    let result = cellvalue;\n    const cellIsTrue = this.hasCellDataTrueValue(cellvalue);\n    const value = cellIsTrue ? this.trueValue : this.falseValue;\n    switch (this.renderType) {\n      case 'string':\n        result = this.translateService.get(value);\n        break;\n      case 'number':\n        result = value;\n        break;\n      default:\n        break;\n    }\n    return result;\n  }\n\n  get booleanType(): string {\n    return this._booleanType;\n  }\n\n  set booleanType(arg: string) {\n    arg = (arg || '').toLowerCase();\n    if (['number', 'boolean', 'string'].indexOf(arg) === -1) {\n      arg = 'boolean';\n    }\n    this._booleanType = arg;\n  }\n\n  get renderType(): string {\n    return this._renderType;\n  }\n\n  set renderType(arg: string) {\n    arg = (arg || '').toLowerCase();\n    if (['string', 'number', 'icon', 'image'].indexOf(arg) === -1) {\n      arg = 'string';\n    }\n    this._renderType = arg;\n  }\n\n  get renderTrueValue(): string {\n    return this._renderTrueValue || this.trueValue;\n  }\n\n  set renderTrueValue(arg: string) {\n    this._renderTrueValue = arg;\n  }\n\n  get renderFalseValue(): string {\n    return this._renderFalseValue || this.falseValue;\n  }\n\n  set renderFalseValue(arg: string) {\n    this._renderFalseValue = arg;\n  }\n}\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  Injector,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { IIntegerPipeArgument, OIntegerPipe } from '../../../../../pipes/o-integer.pipe';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  // grouping [no|yes]: grouping thousands. Default: yes.\n  'grouping',\n  // thousand-separator [string]: thousands separator when grouping. Default: comma (,).\n  'thousandSeparator: thousand-separator'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-integer',\n  templateUrl: './o-table-cell-renderer-integer.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER\n})\nexport class OTableCellRendererIntegerComponent extends OBaseTableCellRenderer implements AfterContentInit, OnInit {\n\n  @InputConverter()\n  protected grouping: boolean = true;\n  protected thousandSeparator: string = ',';\n  protected componentPipe: OIntegerPipe;\n  protected pipeArguments: IIntegerPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'integer';\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OIntegerPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    this.pipeArguments = {\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { IRealPipeArgument, ORealPipe } from '../../../../../pipes/o-real.pipe';\nimport { NumberService } from '../../../../../services/number.service';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER,\n  OTableCellRendererIntegerComponent,\n} from '../integer/o-table-cell-renderer-integer.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER,\n  // decimal-separator [string]: decimal separator. Default: dot (.).\n  'decimalSeparator: decimal-separator',\n  'minDecimalDigits: min-decimal-digits',\n  'maxDecimalDigits: max-decimal-digits'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-real',\n  templateUrl: './o-table-cell-renderer-real.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL\n})\nexport class OTableCellRendererRealComponent extends OTableCellRendererIntegerComponent implements OnInit {\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  protected decimalSeparator: string = '.';\n  protected numberService: NumberService;\n\n  protected componentPipe: ORealPipe;\n  protected pipeArguments: IRealPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'real';\n    this.numberService = this.injector.get(NumberService);\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new ORealPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    this.pipeArguments = {\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { ICurrencyPipeArgument, OCurrencyPipe } from '../../../../../pipes/o-currency.pipe';\nimport { CurrencyService } from '../../../../../services/currency.service';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\nimport { DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL } from '../real/o-table-cell-renderer-real.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL,\n\n  // currency-symbol [string]: currency symbol. Default: dollar ($).\n  'currencySymbol: currency-symbol',\n\n  // currency-symbol-position [left|right]: position of the currency symbol. Default: left.\n  'currencySymbolPosition: currency-symbol-position'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-currency',\n  templateUrl: './o-table-cell-renderer-currency.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY\n})\nexport class OTableCellRendererCurrencyComponent extends OBaseTableCellRenderer implements OnInit {\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  protected currencySymbol: string;\n  protected currencySymbolPosition: string;\n  protected decimalSeparator: string = '.';\n\n  protected grouping: boolean = true;\n  protected thousandSeparator: string = ',';\n\n  protected currencyService: CurrencyService;\n\n  protected componentPipe: OCurrencyPipe;\n  protected pipeArguments: ICurrencyPipeArgument;\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'currency';\n    this.currencyService = this.injector.get(CurrencyService);\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OCurrencyPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    if (typeof this.currencySymbol === 'undefined') {\n      this.currencySymbol = this.currencyService.symbol;\n    }\n    if (typeof this.currencySymbolPosition === 'undefined') {\n      this.currencySymbolPosition = this.currencyService.symbolPosition;\n    }\n\n    this.pipeArguments = {\n      currencySimbol: this.currencySymbol,\n      currencySymbolPosition: this.currencySymbolPosition,\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { IMomentPipeArgument, OMomentPipe } from '../../../../../pipes/o-moment.pipe';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  // format [string]: date format. See MomentJS (http://momentjs.com/).\n  'format'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-date',\n  templateUrl: './o-table-cell-renderer-date.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE\n})\nexport class OTableCellRendererDateComponent extends OBaseTableCellRenderer implements OnInit {\n\n  protected componentPipe: OMomentPipe;\n  protected pipeArguments: IMomentPipeArgument;\n\n  protected format: string;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'date';\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OMomentPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    // Called after the constructor, initializing input properties, and the first call to ngOnChanges.\n    this.pipeArguments = {\n      format: this.format\n    };\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../o-column.class';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  // image-type [base64|url]: image type (extern url or base64). Default: no value.\n  'imageType: image-type',\n  // empty-image [string]: url of the image to be shown if the column has not any value. Default: no value.\n  'emptyImage: empty-image',\n  // avatar [no|yes]: view image as avatar (circle), only at presentation level. Default: no.\n  'avatar'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_IMAGE = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-image',\n  templateUrl: './o-table-cell-renderer-image.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE\n})\nexport class OTableCellRendererImageComponent extends OBaseTableCellRenderer implements OnInit {\n\n  public imageType: string;\n  public emptyImage: string;\n  protected _source: string;\n  avatar: string;\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'image';\n    this.tableColumn.orderable = false;\n    this.tableColumn.searchable = false;\n  }\n\n  initialize() {\n    super.initialize();\n    if (this.table) {\n      const oCol: OColumn = this.table.getOColumn(this.tableColumn.attr);\n      oCol.title = Util.isDefined(this.tableColumn.title) ? this.tableColumn.title : undefined;\n      oCol.definition.contentAlign = oCol.definition.contentAlign ? oCol.definition.contentAlign : 'center';\n    }\n  }\n\n  getSource(cellData: any) {\n    this._source = '';\n    switch (this.imageType) {\n      case 'base64':\n        this._source = cellData ? ('data:image/png;base64,' + ((typeof (cellData.bytes) !== 'undefined') ? cellData.bytes : cellData)) : this.emptyImage;\n        break;\n      case 'url':\n        this._source = cellData ? cellData : this.emptyImage;\n        break;\n      default:\n        this._source = this.emptyImage;\n        break;\n    }\n    return this._source;\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { IPercentPipeArgument, OPercentageValueBaseType, OPercentPipe } from '../../../../../pipes/o-percentage.pipe';\nimport { NumberService } from '../../../../../services/number.service';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL,\n  OTableCellRendererRealComponent,\n} from '../real/o-table-cell-renderer-real.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL,\n  'valueBase: value-base'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-percentage',\n  templateUrl: './o-table-cell-renderer-percentage.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE\n})\nexport class OTableCellRendererPercentageComponent extends OTableCellRendererRealComponent implements OnInit {\n\n  decimalSeparator: string = '.';\n  minDecimalDigits = 0;\n  maxDecimalDigits = 0;\n  valueBase: OPercentageValueBaseType = 1;\n\n  protected numberService: NumberService;\n\n  protected componentPipe: OPercentPipe;\n  protected pipeArguments: IPercentPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'percentage';\n    this.numberService = this.injector.get(NumberService);\n\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OPercentPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    this.pipeArguments = {\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator,\n      valueBase: this.valueBase\n    };\n  }\n\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, Injector, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ServiceResponse } from '../../../../../interfaces/service-response.interface';\nimport { ITranslatePipeArgument, OTranslatePipe } from '../../../../../pipes/o-translate.pipe';\nimport { DialogService } from '../../../../../services/dialog.service';\nimport { OntimizeServiceProvider } from '../../../../../services/factories';\nimport { OntimizeService } from '../../../../../services/ontimize/ontimize.service';\nimport { Expression } from '../../../../../types/expression.type';\nimport { Codes } from '../../../../../util/codes';\nimport { FilterExpressionUtils } from '../../../../../util/filter-expression.utils';\nimport { ServiceUtils } from '../../../../../util/service.utils';\nimport { SQLTypes } from '../../../../../util/sqltypes';\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../o-column.class';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  'entity',\n  'service',\n  'columns',\n  'translate',\n  'valueColumn: value-column',\n  'parentKeys: parent-keys',\n  'queryMethod: query-method',\n  'serviceType : service-type',\n  'translateArgsFn: translate-params'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-service',\n  templateUrl: './o-table-cell-renderer-service.component.html',\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    // Service renderer must have its own service instance in order to avoid overriding table service configuration\n    OntimizeServiceProvider\n  ]\n})\nexport class OTableCellRendererServiceComponent extends OBaseTableCellRenderer implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  public rowData: any;\n  public cellValues = [];\n  public renderValue: any;\n  public responseMap = {};\n\n  /* Inputs */\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected translate: boolean = false;\n  protected valueColumn: string;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n\n  /* Internal variables */\n  protected colArray: string[] = [];\n  protected dataService: any;\n  protected _pKeysEquiv = {};\n  protected querySubscription: Subscription;\n  protected dialogService: DialogService;\n\n  public translateArgsFn: (rowData: any) => any[];\n  protected componentPipe: OTranslatePipe;\n  protected pipeArguments: ITranslatePipeArgument = {};\n\n  protected editorSuscription: Subscription;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'service';\n    this.dialogService = injector.get(DialogService);\n  }\n\n  public initialize(): void {\n    super.initialize();\n    if (this.table) {\n      const oCol: OColumn = this.table.getOColumn(this.column);\n      oCol.definition.contentAlign = oCol.definition.contentAlign ? oCol.definition.contentAlign : 'center';\n    }\n\n    this.colArray = Util.parseArray(this.columns, true);\n    const pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n    this.configureService();\n  }\n\n  public ngAfterViewInit(): void {\n    const oCol: OColumn = this.table.getOColumn(this.column);\n    if (Util.isDefined(oCol.editor)) {\n      this.editorSuscription = oCol.editor.onPostUpdateRecord.subscribe((data: any) => {\n        this.queryData(data[this.tableColumn.attr], data);\n      });\n    }\n  }\n\n  public ngOnDestroy(): void {\n    if (this.editorSuscription) {\n      this.editorSuscription.unsubscribe();\n    }\n  }\n\n  public getDescriptionValue(cellvalue: any, rowValue: any): string {\n    if (cellvalue !== undefined && this.cellValues.indexOf(cellvalue) === -1) {\n      this.queryData(cellvalue, rowValue);\n      this.cellValues.push(cellvalue);\n    }\n    return '';\n  }\n\n  public queryData(cellvalue, parentItem?: any): void {\n    const self = this;\n    if (!this.dataService || !(this.queryMethod in this.dataService) || !this.entity) {\n      console.warn('Service not properly configured! aborting query');\n      return;\n    }\n    const filter = ServiceUtils.getFilterUsingParentKeys(parentItem, this._pKeysEquiv);\n    const tableColAlias = Object.keys(this._pKeysEquiv).find(key => this._pKeysEquiv[key] === this.column);\n    if (Util.isDefined(tableColAlias)) {\n      if (!filter[tableColAlias]) {\n        filter[tableColAlias] = cellvalue;\n      }\n    } else {\n      filter[this.column] = cellvalue;\n    }\n    this.querySubscription = this.dataService[this.queryMethod](filter, this.colArray, this.entity)\n      .subscribe((resp: ServiceResponse) => {\n        if (resp.isSuccessful()) {\n          self.responseMap[cellvalue] = resp.data[0][self.valueColumn];\n        }\n      }, err => {\n        console.error(err);\n        if (err && typeof err !== 'object') {\n          this.dialogService.alert('ERROR', err);\n        } else {\n          this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n        }\n      });\n  }\n\n  public configureService(): void {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    return this.responseMap[cellvalue];\n  }\n\n  public getFilterExpression(quickFilter: string): Expression {\n    const oCol: OColumn = this.table.getOColumn(this.column);\n    let result: Expression;\n    const cacheValue = Object.keys(this.responseMap).find(key => Util.normalizeString(this.responseMap[key]).indexOf(Util.normalizeString(quickFilter)) !== -1);\n    if (cacheValue) {\n      result = FilterExpressionUtils.buildExpressionEquals(this.column, SQLTypes.parseUsingSQLType(cacheValue, SQLTypes.getSQLTypeKey(oCol.sqlType)));\n    }\n    return result;\n  }\n\n  public setComponentPipe(): void {\n    this.componentPipe = new OTranslatePipe(this.injector);\n  }\n\n  public responseValue(cellvalue: any, rowvalue?: any): string {\n    if (this.translate) {\n      this.pipeArguments = this.translateArgsFn ? { values: this.translateArgsFn(rowvalue) } : {};\n      return super.getCellData(cellvalue, rowvalue);\n    } else {\n      return cellvalue;\n    }\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { IMomentPipeArgument, OMomentPipe } from '../../../../../pipes/o-moment.pipe';\nimport { Util } from '../../../../../util/util';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  'format'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-time',\n  templateUrl: './o-table-cell-renderer-time.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME\n})\nexport class OTableCellRendererTimeComponent extends OBaseTableCellRenderer implements OnInit {\n\n  protected componentPipe: OMomentPipe;\n  protected pipeArguments: IMomentPipeArgument;\n\n  protected _format: string = 'L HH:mm a';\n  protected locale: string;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'time';\n    this.setComponentPipe();\n  }\n\n  set format(value: string) {\n    if (Util.isDefined(value)) {\n      this._format = value;\n    }\n  }\n  setComponentPipe() {\n    this.componentPipe = new OMomentPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    this.pipeArguments = {\n      format: this._format\n    };\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\n\nimport { ITranslatePipeArgument, OTranslatePipe } from '../../../../../pipes/o-translate.pipe';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  // translate-params [(rowData: any) => any[]]: function that receives the row data and return the parameters for the translate pipe.\n  'translateArgsFn: translate-params'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-translate',\n  templateUrl: './o-table-cell-renderer-translate.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE\n})\nexport class OTableCellRendererTranslateComponent extends OBaseTableCellRenderer {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true })\n  public templateref: TemplateRef<any>;\n\n  public translateArgsFn: (rowData: any) => any[];\n\n  protected componentPipe: OTranslatePipe;\n  protected pipeArguments: ITranslatePipeArgument = {};\n\n  constructor(protected injector: Injector) {\n    super(injector);\n\n    this.tableColumn.type = 'translate';\n\n    this.setComponentPipe();\n  }\n\n  public setComponentPipe(): void {\n    this.componentPipe = new OTranslatePipe(this.injector);\n  }\n\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    this.pipeArguments = this.translateArgsFn ? { values: this.translateArgsFn(rowvalue) } : {};\n    return super.getCellData(cellvalue, rowvalue);\n  }\n\n}\n","import { OTableCellRendererActionComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION, DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION } from './action/o-table-cell-renderer-action.component';\nimport { OTableCellRendererBooleanComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN } from './boolean/o-table-cell-renderer-boolean.component';\nimport { OTableCellRendererCurrencyComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY } from './currency/o-table-cell-renderer-currency.component';\nimport { OTableCellRendererDateComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE } from './date/o-table-cell-renderer-date.component';\nimport { OTableCellRendererImageComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE } from './image/o-table-cell-renderer-image.component';\nimport { OTableCellRendererIntegerComponent } from './integer/o-table-cell-renderer-integer.component';\nimport { OTableCellRendererPercentageComponent } from './percentage/o-table-cell-renderer-percentage.component';\nimport { OTableCellRendererRealComponent } from './real/o-table-cell-renderer-real.component';\nimport { OTableCellRendererServiceComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE } from './service/o-table-cell-renderer-service.component';\nimport { OTableCellRendererTimeComponent } from './time/o-table-cell-renderer-time.component';\nimport { OTableCellRendererTranslateComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE } from './translate/o-table-cell-renderer-translate.component';\n\nexport const O_TABLE_CELL_RENDERERS = [\n  OTableCellRendererActionComponent,\n  OTableCellRendererDateComponent,\n  OTableCellRendererBooleanComponent,\n  OTableCellRendererImageComponent,\n  OTableCellRendererIntegerComponent,\n  OTableCellRendererRealComponent,\n  OTableCellRendererCurrencyComponent,\n  OTableCellRendererPercentageComponent,\n  OTableCellRendererServiceComponent,\n  OTableCellRendererTranslateComponent,\n  OTableCellRendererTimeComponent\n];\n\nexport const O_TABLE_CELL_RENDERERS_INPUTS = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY, // includes Integer and Real\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE\n];\n\nexport const O_TABLE_CELL_RENDERERS_OUTPUTS = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION\n];\n\nexport const renderersMapping = {\n  action: OTableCellRendererActionComponent,\n  boolean: OTableCellRendererBooleanComponent,\n  currency: OTableCellRendererCurrencyComponent,\n  date: OTableCellRendererDateComponent,\n  image: OTableCellRendererImageComponent,\n  integer: OTableCellRendererIntegerComponent,\n  percentage: OTableCellRendererPercentageComponent,\n  real: OTableCellRendererRealComponent,\n  service: OTableCellRendererServiceComponent,\n  translate: OTableCellRendererTranslateComponent,\n  time: OTableCellRendererTimeComponent\n};\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OTableColumn } from '../../../interfaces/o-table-column.interface';\nimport { DateFilterFunction } from '../../../types/date-filter-function.type';\nimport { Expression } from '../../../types/expression.type';\nimport { ODateValueType } from '../../../types/o-date-value.type';\nimport { Codes } from '../../../util/codes';\nimport { SQLTypes } from '../../../util/sqltypes';\nimport { Util } from '../../../util/util';\nimport { OTableComponent } from '../o-table.component';\nimport { editorsMapping, O_TABLE_CELL_EDITORS_INPUTS, O_TABLE_CELL_EDITORS_OUTPUTS } from './cell-editor/cell-editor';\nimport {\n  O_TABLE_CELL_RENDERERS_INPUTS,\n  O_TABLE_CELL_RENDERERS_OUTPUTS,\n  renderersMapping,\n} from './cell-renderer/cell-renderer';\nimport { OPercentageValueBaseType } from '../../../pipes/o-percentage.pipe';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN = [\n\n  // attr [string]: column name.\n  'attr',\n\n  // title [string]: column title. Default: no value.\n  'title',\n\n  // title-align [start | center | end]: column title alignment. Default: center.\n  'titleAlign: title-align',\n\n  // content-align [start | center | end]: column content alignment.\n  'contentAlign: content-align',\n\n  // orderable [no|yes]: column can be sorted. Default: yes.\n  'orderable',\n\n  // searchable [no|yes]: searchings are performed into column content. Default: yes.\n  'searchable',\n\n  // type [boolean|integer|real|currency|date|image]: column type. Default: no value (string).\n  'type',\n\n  // editable [no|yes]: column can be edited directly over the table. Default: no.\n  'editable',\n\n  'width',\n\n  // only in pixels\n  'minWidth: min-width',\n\n  // only in pixels\n  'maxWidth: max-width',\n\n  // async-load [no|yes|true|false]: asynchronous query. Default: no\n  'asyncLoad : async-load',\n\n  // sqltype[string]: Data type according to Java standard. See SQLType class. Default: 'OTHER'\n  'sqlType: sql-type',\n\n  'tooltip',\n\n  'tooltipValue: tooltip-value',\n\n  'tooltipFunction: tooltip-function',\n\n  'multiline',\n\n  'resizable',\n\n  'filterExpressionFunction: filter-expression-function',\n\n  'class',\n\n  ...O_TABLE_CELL_RENDERERS_INPUTS,\n  ...O_TABLE_CELL_EDITORS_INPUTS\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN = [\n  ...O_TABLE_CELL_RENDERERS_OUTPUTS,\n  ...O_TABLE_CELL_EDITORS_OUTPUTS\n];\n\n@Component({\n  selector: 'o-table-column',\n  templateUrl: './o-table-column.component.html',\n  styleUrls: ['./o-table-column.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN\n})\nexport class OTableColumnComponent implements OTableColumn, OnDestroy, OnInit, AfterViewInit {\n\n  public renderer: any;\n  public editor: any;\n\n  public type: string;\n  public attr: string;\n  public title: string;\n  public titleAlign: string;\n  public contentAlign: 'start' | 'center' | 'end';\n  public sqlType: string;\n  protected _SQLType: number;\n  protected _defaultSQLTypeKey: string = 'OTHER';\n  protected _orderable: boolean;\n  protected _resizable: boolean;\n  protected _searchable: boolean = true;\n  @InputConverter()\n  public editable: boolean = false;\n  public width: string;\n  public minWidth: string;\n  public maxWidth: string;\n  @InputConverter()\n  public tooltip: boolean = false;\n  tooltipValue: string;\n  tooltipFunction: (rowData: any) => any;\n  public class: string;\n\n  set multiline(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._multiline = val;\n  }\n  get multiline(): boolean {\n    return this._multiline;\n  }\n  protected _multiline: boolean = false;\n\n  filterExpressionFunction: (columnAttr: string, quickFilter?: string) => Expression;\n\n  /* input renderer base */\n  public _filterSource: 'render' | 'data' | 'both' = 'render';\n  public filterFunction: (cellValue: any, rowValue: any, quickFilter?: string) => boolean;\n  /* input renderer date */\n  protected format: string;\n  /* input renderer integer */\n  protected grouping: any = true;\n  protected thousandSeparator: string = ',';\n  /* input renderer real */\n  protected decimalSeparator: string = '.';\n\n  /* input renderer currency */\n  protected currencySymbol: string;\n  protected currencySymbolPosition: string;\n\n  /* input renderer boolean */\n  protected trueValue: any;\n  protected falseValue: any;\n  protected renderTrueValue: any;\n  protected renderFalseValue: any;\n  protected renderType: string = 'string';\n  protected booleanType: string = 'boolean';\n\n  /* input image */\n  protected imageType: string;\n  protected avatar: string;\n  protected emptyImage: string;\n\n  /* input renderer action */\n  protected icon: string;\n  protected action: string;\n  protected text: string;\n  protected iconPosition: string;\n\n  /* input renderer service */\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected valueColumn: string;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n\n  /* input renderer translate */\n  protected translateArgsFn: (rowData: any) => any[];\n  /* input time */\n  oDateFormat = 'L';\n  oHourFormat = 24;\n\n  /* input renderer percentage */\n  valueBase: OPercentageValueBaseType = 1;\n\n  /* input editor */\n  @InputConverter()\n  protected orequired: boolean = false;\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  olabel: string;\n  @InputConverter()\n  updateRecordOnEdit: boolean = true;\n  @InputConverter()\n  showNotificationOnEdit: boolean = false;\n\n  /* input editor date */\n  protected locale: string;\n  protected oStartView: 'month' | 'year' = 'month';\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  @InputConverter()\n  protected oTouchUi: boolean = false;\n  protected oStartAt: string;\n  protected filterDate: DateFilterFunction;\n  protected dateValueType: ODateValueType = 'timestamp';\n\n  /* input editor integer */\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number;\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  /* input editor boolean */\n  @InputConverter()\n  indeterminateOnNull: boolean = false;\n  @InputConverter()\n  autoCommit: boolean;\n\n  /* output cell renderer action */\n  onClick: EventEmitter<object> = new EventEmitter<object>();\n\n  /* output cell editor */\n  editionStarted: EventEmitter<object> = new EventEmitter<object>();\n  editionCancelled: EventEmitter<object> = new EventEmitter<object>();\n  editionCommitted: EventEmitter<object> = new EventEmitter<object>();\n  onPostUpdateRecord: EventEmitter<object> = new EventEmitter<object>();\n\n  @InputConverter()\n  asyncLoad: boolean = false;\n\n  @ViewChild('container', { read: ViewContainerRef, static: true })\n  container: ViewContainerRef;\n\n  private subscriptions = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected resolver: ComponentFactoryResolver,\n    protected injector: Injector\n  ) {\n  }\n\n  static addEditor(type: string, editorClassReference: any) {\n    if (!editorsMapping.hasOwnProperty(type) && Util.isDefined(editorClassReference)) {\n      editorsMapping[type] = editorClassReference;\n    }\n  }\n\n  ngOnInit() {\n    this.grouping = Util.parseBoolean(this.grouping, true);\n    this.titleAlign = this.parseTitleAlign();\n    this.table.registerColumn(this);\n    this.subscriptions.add(this.table.onReinitialize.subscribe(() => this.table.registerColumn(this)));\n  }\n\n  ngAfterViewInit(): void {\n    this.createRenderer();\n    this.createEditor();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  parseTitleAlign(): string {\n    const align = (this.titleAlign || '').toLowerCase();\n    return Codes.AVAILABLE_COLUMN_TITLE_ALIGNS.indexOf(align) !== -1 ? align : undefined;\n  }\n\n  get originalWidth() {\n    let originalWidth = this.width;\n    const pxVal = Util.extractPixelsValue(this.width);\n    if (Util.isDefined(pxVal)) {\n      originalWidth = pxVal + '';\n\n    }\n    return originalWidth;\n  }\n\n  protected createRenderer(): void {\n    if (!Util.isDefined(this.renderer) && Util.isDefined(this.type)) {\n      const componentRef = renderersMapping[this.type];\n      if (componentRef !== undefined) {\n        const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(componentRef);\n        if (factory) {\n          const ref = this.container.createComponent(factory);\n          const newRenderer = ref.instance;\n          newRenderer.filterSource = this.filterSource;\n          newRenderer.filterFunction = this.filterFunction;\n          switch (this.type) {\n            case 'currency':\n              newRenderer.currencySymbol = this.currencySymbol;\n              newRenderer.currencySymbolPosition = this.currencySymbolPosition;\n              newRenderer.decimalSeparator = this.decimalSeparator;\n              newRenderer.minDecimalDigits = this.minDecimalDigits;\n              newRenderer.maxDecimalDigits = this.maxDecimalDigits;\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'date':\n              newRenderer.format = this.format;\n              break;\n            case 'time':\n              newRenderer.format = this.format;\n              break;\n            case 'integer':\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'boolean':\n              newRenderer.trueValue = this.trueValue;\n              newRenderer.falseValue = this.falseValue;\n              newRenderer.renderTrueValue = this.renderTrueValue;\n              newRenderer.renderFalseValue = this.renderFalseValue;\n              newRenderer.renderType = this.renderType;\n              newRenderer.booleanType = this.booleanType;\n              break;\n            case 'percentage':\n              newRenderer.valueBase = this.valueBase;\n            // tslint:disable-next-line:no-switch-case-fall-through\n            case 'real':\n              newRenderer.decimalSeparator = this.decimalSeparator;\n              newRenderer.minDecimalDigits = this.minDecimalDigits;\n              newRenderer.maxDecimalDigits = this.maxDecimalDigits;\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'image':\n              newRenderer.imageType = this.imageType;\n              newRenderer.avatar = this.avatar;\n              newRenderer.emptyImage = this.emptyImage;\n              break;\n            case 'action':\n              newRenderer.icon = this.icon;\n              newRenderer.action = this.action;\n              newRenderer.text = this.text;\n              newRenderer.iconPosition = this.iconPosition;\n              newRenderer.onClick = this.onClick;\n              break;\n            case 'service':\n              newRenderer.entity = this.entity;\n              newRenderer.service = this.service;\n              newRenderer.columns = this.columns;\n              newRenderer.valueColumn = this.valueColumn;\n              newRenderer.parentKeys = this.parentKeys;\n              newRenderer.queryMethod = this.queryMethod;\n              newRenderer.serviceType = this.serviceType;\n              break;\n            case 'translate':\n              newRenderer.translateArgsFn = this.translateArgsFn;\n              break;\n          }\n          this.registerRenderer(newRenderer);\n        }\n      }\n    }\n  }\n\n  buildCellEditor(type: string, resolver: ComponentFactoryResolver, container: ViewContainerRef, propsOrigin: any) {\n    let editor;\n    const componentRef = editorsMapping[type] || editorsMapping.text;\n    if (componentRef === undefined) {\n      return editor;\n    }\n    const factory: ComponentFactory<any> = resolver.resolveComponentFactory(componentRef);\n    if (factory) {\n      const ref = container.createComponent(factory);\n      editor = ref.instance;\n      if (propsOrigin !== undefined) {\n        switch (type) {\n          case 'date':\n            editor.format = propsOrigin.format;\n            editor.locale = propsOrigin.locale;\n            editor.oStartView = propsOrigin.oStartView;\n            editor.oMinDate = propsOrigin.oMinDate;\n            editor.oMaxDate = propsOrigin.oMaxDate;\n            editor.oTouchUi = propsOrigin.oTouchUi;\n            editor.oStartAt = propsOrigin.oStartAt;\n            editor.filterDate = propsOrigin.filterDate;\n            editor.dateValueType = propsOrigin.dateValueType;\n            break;\n          case 'time':\n            editor.oDateFormat = propsOrigin.oDateFormat;\n            editor.oHourFormat = propsOrigin.oHourFormat;\n            editor.oDateLocale = propsOrigin.oDateLocale;\n            editor.oMinDate = propsOrigin.oMinDate;\n            editor.oMaxDate = propsOrigin.oMaxDate;\n\n            editor.oTouchUi = propsOrigin.oTouchUi;\n            editor.oDateStartAt = propsOrigin.oDateStartAt;\n            editor.oDateTextInputEnabled = propsOrigin.oDateTextInputEnabled;\n\n            editor.oHourMin = propsOrigin.oHourMin;\n            editor.oHourMax = propsOrigin.oHourMax;\n            editor.oHourTextInputEnabled = propsOrigin.oHourTextInputEnabled;\n            editor.oHourPlaceholder = propsOrigin.oHourPlaceholder;\n            editor.oDatePlaceholder = propsOrigin.oDatePlaceholder;\n            break;\n          case 'boolean':\n            editor.booleanType = propsOrigin.booleanType;\n            editor.indeterminateOnNull = propsOrigin.indeterminateOnNull;\n            editor.autoCommit = propsOrigin.autoCommit;\n            editor.trueValue = propsOrigin.trueValue;\n            editor.falseValue = propsOrigin.falseValue;\n            break;\n          case 'integer':\n          case 'percentage':\n          case 'currency':\n          case 'real':\n            editor.min = propsOrigin.min;\n            editor.max = propsOrigin.max;\n            editor.step = Util.isDefined(propsOrigin.step) ? propsOrigin.step : editor.step;\n            break;\n          case 'image':\n            break;\n          default:\n            break;\n        }\n        editor.olabel = propsOrigin.olabel;\n        editor.type = propsOrigin.type;\n      }\n    }\n    return editor;\n  }\n\n  protected createEditor() {\n    if (!Util.isDefined(this.editor) && this.editable) {\n      const newEditor = this.buildCellEditor(this.type, this.resolver, this.container, this);\n      if (newEditor) {\n        newEditor.orequired = this.orequired;\n        newEditor.showPlaceHolder = this.showPlaceHolder;\n        newEditor.updateRecordOnEdit = this.updateRecordOnEdit;\n        newEditor.showNotificationOnEdit = this.showNotificationOnEdit;\n        newEditor.editionStarted = this.editionStarted;\n        newEditor.editionCancelled = this.editionCancelled;\n        newEditor.editionCommitted = this.editionCommitted;\n        newEditor.onPostUpdateRecord = this.onPostUpdateRecord;\n        this.registerEditor(newEditor);\n      }\n    }\n  }\n\n  public registerRenderer(renderer: any) {\n    this.renderer = renderer;\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol !== undefined) {\n      oCol.renderer = this.renderer;\n    }\n    this.renderer.initialize();\n  }\n\n  public registerEditor(editor: any) {\n    this.editor = editor;\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol !== undefined) {\n      oCol.editor = this.editor;\n    }\n    this.editor.initialize();\n  }\n\n  set orderable(val: any) {\n    this._orderable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.orderable = this._orderable;\n    }\n  }\n\n  get orderable(): any {\n    return this._orderable;\n  }\n\n  set resizable(val: any) {\n    this._resizable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.resizable = this._resizable;\n    }\n  }\n\n  get resizable(): any {\n    return this._resizable;\n  }\n\n  set searchable(val: any) {\n    this._searchable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.searchable = this._searchable;\n    }\n  }\n\n  get searchable(): any {\n    return this._searchable;\n  }\n\n  getSQLType(): number {\n    if (!(this.sqlType && this.sqlType.length > 0)) {\n      switch (this.type) {\n        case 'date':\n          this.sqlType = 'TIMESTAMP';\n          break;\n        case 'integer':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'boolean':\n          this.sqlType = 'BOOLEAN';\n          break;\n        case 'real':\n        case 'percentage':\n        case 'currency':\n          this.sqlType = 'DOUBLE';\n          break;\n      }\n    }\n    const sqlt = this.sqlType && this.sqlType.length > 0 ? this.sqlType : this._defaultSQLTypeKey;\n    this._SQLType = SQLTypes.getSQLTypeValue(sqlt);\n    return this._SQLType;\n  }\n\n  set filterSource(val: string) {\n    const lowerVal = (val || '').toLowerCase();\n    this._filterSource = (lowerVal === 'render' || lowerVal === 'data' || lowerVal === 'both') ? lowerVal : 'render';\n  }\n\n  get filterSource(): string {\n    return this._filterSource;\n  }\n}\n","import { ChangeDetectionStrategy, Component, ComponentFactoryResolver, forwardRef, Inject, Injector } from '@angular/core';\n\nimport { OTableColumnCalculated } from '../../../../interfaces/o-table-column-calculated.interface';\nimport { OperatorFunction } from '../../../../types/operation-function.type';\nimport { OTableComponent } from '../../o-table.component';\nimport { DEFAULT_INPUTS_O_TABLE_COLUMN, OTableColumnComponent } from '../o-table-column.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_CALCULATED = [\n  ...DEFAULT_INPUTS_O_TABLE_COLUMN,\n  // operation [string]: operation .\n  'operation',\n  // operation-function [funtion]: callback title. Default: no value.\n  'functionOperation: operation-function'\n];\n\n@Component({\n  selector: 'o-table-column-calculated',\n  templateUrl: './o-table-column-calculated.component.html',\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_CALCULATED,\n  providers: [\n    {\n      provide: OTableColumnComponent,\n      useExisting: forwardRef(() => OTableColumnCalculatedComponent)\n    }\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\n\nexport class OTableColumnCalculatedComponent extends OTableColumnComponent implements OTableColumnCalculated {\n\n  public operation: string;\n  public functionOperation: OperatorFunction;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected resolver: ComponentFactoryResolver,\n    protected injector: Injector) {\n    super(table, resolver, injector);\n\n  }\n\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { OTranslateService } from '../../../../services/translate/o-translate.service';\nimport { ColumnValueFilterOperator, OColumnValueFilter } from '../../../../types/o-column-value-filter.type';\nimport { Util } from '../../../../util/util';\nimport { OContextMenuComponent } from '../../../contextmenu/o-context-menu.component';\nimport { OColumn } from '../../column/o-column.class';\nimport { OTableComponent } from '../../o-table.component';\n\nexport const DEFAULT_TABLE_CONTEXT_MENU_INPUTS = [\n  'contextMenu: context-menu',\n  'showInsert: insert',\n  'showEdit: edit',\n  'showViewDetail: view-detail',\n  'showCopy: copy',\n  'showSelectAll: select-all',\n  'showRefresh: refresh',\n  'showDelete: delete',\n  'showFilter: filter'\n];\n\n@Component({\n  selector: 'o-table-context-menu',\n  templateUrl: './o-table-context-menu.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_TABLE_CONTEXT_MENU_INPUTS\n})\nexport class OTableContextMenuComponent implements AfterViewInit {\n  public contextMenu: OContextMenuComponent;\n  public isVisibleInsert: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleEdit: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleDetail: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleCopy: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleSelectAll: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleRefresh: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleDelete: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleFilter: BehaviorSubject<boolean> = new BehaviorSubject(true);\n\n  set showInsert(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleInsert.next(value);\n  }\n\n  get showInsert(): boolean {\n    return this.isVisibleInsert.getValue();\n  }\n\n  set showEdit(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleEdit.next(value);\n  }\n\n  get showEdit(): boolean {\n    return this.isVisibleEdit.getValue();\n  }\n\n  set showViewDetail(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleDetail.next(value);\n  }\n\n  get showViewDetail(): boolean {\n    return this.isVisibleDetail.getValue();\n  }\n\n  set showCopy(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleCopy.next(value);\n  }\n\n  get showCopy(): boolean {\n    return this.isVisibleCopy.getValue();\n  }\n\n  @InputConverter()\n  set showSelectAll(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.table.isSelectionModeNone() ? this.isVisibleSelectAll.next(false) : this.isVisibleSelectAll.next(value);\n  }\n\n  get showSelectAll(): boolean {\n    return this.isVisibleSelectAll.getValue();\n  }\n\n  set showRefresh(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleRefresh.next(value);\n  }\n\n  get showRefresh(): boolean {\n    return this.isVisibleRefresh.getValue();\n  }\n\n  set showDelete(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleDelete.next(value);\n  }\n\n  get showDelete(): boolean {\n    return this.isVisibleDelete.getValue();\n  }\n\n  set showFilter(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleFilter.next(value);\n  }\n\n  get showFilter(): boolean {\n    return this.isVisibleFilter.getValue();\n  }\n\n  @ViewChild('defaultContextMenu', { static: false })\n  protected defaultContextMenu: OContextMenuComponent;\n  protected row: any;\n  protected column: OColumn;\n  protected translateService: OTranslateService;\n  protected contextMenuSubscription: Subscription = new Subscription();\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  public ngAfterViewInit(): void {\n    const itemsParsed = this.defaultContextMenu.oContextMenuItems.toArray();\n    if (this.contextMenu) {\n      const items = itemsParsed.concat(this.contextMenu.oContextMenuItems.toArray());\n      this.defaultContextMenu.oContextMenuItems.reset(items);\n    } else {\n      this.defaultContextMenu.oContextMenuItems.reset(itemsParsed);\n    }\n    if (!Util.isDefined(this.showSelectAll)) {\n      this.isVisibleSelectAll.next(this.table.selectAllCheckbox);\n    }\n    this.table.registerContextMenu(this.defaultContextMenu);\n    this.registerContextMenuListeners();\n  }\n\n  public registerContextMenuListeners() {\n    this.contextMenuSubscription.add(this.defaultContextMenu.onClose.subscribe((param: any) => {\n      if (!this.table.isSelectionModeMultiple()) {\n        this.table.clearSelection();\n      }\n    }));\n\n    this.contextMenuSubscription.add(this.defaultContextMenu.onShow.subscribe((param: any) => {\n      this.initProperties(param);\n    }));\n  }\n\n  public gotoDetails(event): void {\n    const data = event.data.rowValue;\n    this.table.viewDetail(data);\n  }\n\n  public edit(event): void {\n    this.table.doHandleClick(event.data.rowValue, event.data.rowIndex, event);\n  }\n\n  public add(): void {\n    this.table.add();\n  }\n\n  public selectAll(): void {\n    this.table.showAndSelectAllCheckbox();\n  }\n\n  public unSelectAll(): void {\n    this.table.selection.clear();\n  }\n\n  public copyAll(): void {\n    this.table.copyAll();\n  }\n\n  public copyCell(event): void {\n    const cell_data = this.defaultContextMenu.origin.innerText;\n    Util.copyToClipboard(cell_data);\n  }\n\n  public copySelection(): void {\n    this.table.copySelection();\n  }\n\n  public copyRow(event): void {\n    const data = JSON.stringify(this.table.dataSource.getRenderedData([event.data.rowValue]));\n    Util.copyToClipboard(data);\n  }\n\n  public delete(event): void {\n    this.table.remove();\n  }\n\n  public refresh(): void {\n    this.table.refresh();\n  }\n\n  public filterByValue(event): void {\n    this.table.showFilterByColumnIcon = true;\n    const columValueFilter: OColumnValueFilter = {\n      attr: this.column.attr,\n      operator: ColumnValueFilterOperator.IN,\n      values: [this.row[this.column.attr]]\n    };\n    this.table.dataSource.addColumnFilter(columValueFilter);\n    this.table.reloadPaginatedDataFromStart();\n  }\n\n  get labelFilterByColumn(): string {\n    return (this.column && this.column.attr) ? this.translateService.get('TABLE_CONTEXT_MENU.FILTER_BY') + ' ' + this.translateService.get(this.column.attr) : '';\n  }\n\n  public filterByColumn(event): void {\n    if (this.table.oTableMenu) {\n      this.table.showFilterByColumnIcon = true;\n      this.table.oTableMenu.columnFilterOption.active = true;\n      this.table.openColumnFilterDialog(this.column, event.event);\n    }\n  }\n\n  public checkVisibleFilter(): void {\n    let isVisible = false;\n    if (this.column) {\n      isVisible = this.showFilter && this.table.isColumnFilterable(this.column);\n    }\n    this.isVisibleFilter.next(isVisible);\n  }\n\n  protected initProperties(param: any): void {\n    const data = param.data;\n    if (data) {\n      const columnName = data.cellName;\n      this.column = this.table.getOColumn(columnName);\n      this.row = data.rowValue;\n      this.checkVisibleFilter();\n    }\n  }\n\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { Component, EventEmitter, Inject, Injector, OnInit, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\n\nimport { DialogService } from '../../../../../services/dialog.service';\nimport { OTableConfiguration } from '../../../../../types/o-table-configuration.type';\n\n@Component({\n  selector: 'o-table-apply-configuration-dialog',\n  templateUrl: './o-table-apply-configuration-dialog.component.html',\n  styleUrls: ['./o-table-apply-configuration-dialog.component.scss']\n})\nexport class OTableApplyConfigurationDialogComponent implements OnInit {\n\n  public default_configuration = 'OTableApplyConfigurationDialogComponent-default';\n  public configurations: OTableConfiguration[] = [];\n\n  public onDelete: EventEmitter<string> = new EventEmitter();\n\n  @ViewChild(MatSelectionList, { static: true })\n  protected configurationList: MatSelectionList;\n\n  protected dialogService: DialogService;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableApplyConfigurationDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: OTableConfiguration[],\n    protected injector: Injector\n  ) {\n    this.loadConfigurations(data);\n    this.dialogService = this.injector.get(DialogService);\n  }\n\n  public ngOnInit(): void {\n    this.configurationList.selectedOptions = new SelectionModel<MatListOption>(false);\n  }\n\n  public loadConfigurations(configurations: OTableConfiguration[]): void {\n    this.configurations = configurations;\n  }\n\n  public removeConfiguration(configurationName: string): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION').then(result => {\n      if (result) {\n        this.onDelete.emit(configurationName);\n      }\n    });\n  }\n\n  public isDefaultConfigurationSelected(): boolean {\n    const selected: MatListOption[] = this.configurationList.selectedOptions.selected;\n    const selectedValue = selected.length ? selected[0].value : void 0;\n    return selectedValue === this.default_configuration;\n  }\n\n  public getSelectedConfigurationName(): string {\n    const selected: MatListOption[] = this.configurationList.selectedOptions.selected;\n    return selected.length ? selected[0].value : void 0;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class OTableExportButtonService {\n\n  public export$: Subject<string> = new Subject();\n\n}\n","export class OTableExportConfiguration {\n  columns: Array<any>;\n  columnNames: object;\n  sqlTypes: object;\n  service: string;\n  serviceType: string;\n  data?: any[];\n  filter?: object;\n  mode: string;\n  entity: string;\n  visibleButtons: string;\n  options?: any;\n}\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { ChangeDetectionStrategy, Component, Inject, Injector, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { IExportService } from '../../../../../interfaces/export-service.interface';\nimport { OntimizeExportServiceProvider } from '../../../../../services/factories';\nimport { OntimizeExportService } from '../../../../../services/ontimize/ontimize-export.service';\nimport { SnackBarService } from '../../../../../services/snackbar.service';\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\nimport { Codes } from '../../../../../util/codes';\nimport { SQLTypes } from '../../../../../util/sqltypes';\nimport { Util } from '../../../../../util/util';\nimport { OTableExportButtonService } from '../../export-button/o-table-export-button.service';\nimport { OTableExportConfiguration } from '../../header/table-menu/o-table-export-configuration.class';\n\n@Component({\n  selector: 'o-table-export-dialog',\n  templateUrl: 'o-table-export-dialog.component.html',\n  styleUrls: ['o-table-export-dialog.component.scss'],\n  providers: [\n    OntimizeExportServiceProvider\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class: 'o-table-export-dialog'\n  },\n  encapsulation: ViewEncapsulation.None\n})\nexport class OTableExportDialogComponent implements OnInit, OnDestroy {\n\n  protected snackBarService: SnackBarService;\n  protected exportService: IExportService;\n  protected translateService: OTranslateService;\n  protected oTableExportButtonService: OTableExportButtonService;\n  protected visibleButtons: string[];\n  private subscription: Subscription = new Subscription();\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableExportDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) public config: OTableExportConfiguration\n  ) {\n    this.snackBarService = injector.get(SnackBarService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.oTableExportButtonService = this.injector.get(OTableExportButtonService);\n\n    if (config && Util.isDefined(config.visibleButtons)) {\n      this.visibleButtons = Util.parseArray(config.visibleButtons.toLowerCase(), true);\n    }\n  }\n\n  ngOnInit() {\n    this.initialize();\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  initialize(): void {\n    this.configureService();\n    this.subscription.add(\n      this.oTableExportButtonService.export$.pipe(filter(type => ['xlsx', 'html', 'pdf'].indexOf(type) === -1)).subscribe(e => this.export(e))\n    );\n  }\n\n  configureService(): void {\n    let loadingService: any = OntimizeExportService;\n    if (this.config.serviceType) {\n      loadingService = this.config.serviceType;\n    }\n    this.exportService = this.injector.get(loadingService);\n    const serviceCfg = this.exportService.getDefaultServiceConfiguration(this.config.service);\n    this.exportService.configureService(serviceCfg, Codes.EXPORT_MODE_ALL === this.config.mode);\n  }\n\n  export(exportType: string, button?: any): void {\n    if (button) {\n      button.disabled = true;\n    }\n    const exportData = {\n      data: this.config.data,\n      columns: this.config.columns,\n      columnNames: this.config.columnNames,\n      sqlTypes: this.config.sqlTypes,\n      filter: this.config.filter\n    };\n\n    this.proccessExportData(exportData.data, exportData.sqlTypes);\n    this.dialogRef.close(true);\n    this.exportService.exportData(exportData, exportType, this.config.entity).subscribe(\n      res => {\n        this.snackBarService.open('MESSAGES.SUCCESS_EXPORT_TABLE_DATA', { icon: 'check_circle' });\n      },\n      err => {\n        this.handleError(err);\n      }\n    );\n  }\n\n  proccessExportData(data: object[], sqlTypes: object): void {\n    // Parse boolean\n    Object.keys(sqlTypes).forEach(key => {\n      if (SQLTypes.BOOLEAN === sqlTypes[key]) {\n        const yes = this.translateService.get('YES');\n        const no = this.translateService.get('NO');\n        data.forEach(row => {\n          if (row[key]) {\n            row[key] = Util.parseBoolean(row[key]) ? yes : no;\n          }\n        });\n      }\n    });\n  }\n\n  isButtonVisible(btn: string): boolean {\n    return !this.visibleButtons || (this.visibleButtons.indexOf(btn) !== -1);\n  }\n\n  protected handleError(err): void {\n    if (err instanceof HttpErrorResponse) {\n      this.snackBarService.open(err.message, { icon: 'error' });\n    } else {\n      this.snackBarService.open('MESSAGES.ERROR_EXPORT_TABLE_DATA', { icon: 'error' });\n    }\n  }\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Inject,\n  Injector,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\n\nimport { DialogService } from '../../../../../services/dialog.service';\nimport { OTableFiltersStatus } from '../../../../../types/o-table-filter-status.type';\n\n@Component({\n  selector: 'o-table-load-filter-dialog',\n  templateUrl: './o-table-load-filter-dialog.component.html',\n  styleUrls: ['./o-table-load-filter-dialog.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableLoadFilterDialogComponent implements OnInit {\n\n  @ViewChild(MatSelectionList, { static: true }) filterList: MatSelectionList;\n\n  filters: Array<OTableFiltersStatus> = [];\n\n  onDelete: EventEmitter<string> = new EventEmitter();\n\n  protected dialogService: DialogService;\n  protected cd: ChangeDetectorRef;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableLoadFilterDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: Array<OTableFiltersStatus>,\n    protected injector: Injector\n  ) {\n    this.loadFilters(data);\n    this.dialogService = this.injector.get(DialogService);\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n    } catch (e) {\n      // no parent form\n    }\n  }\n\n  ngOnInit(): void {\n    this.filterList.selectedOptions = new SelectionModel<MatListOption>(false);\n  }\n\n  loadFilters(filters: Array<OTableFiltersStatus>): void {\n    this.filters = filters;\n  }\n\n  getSelectedFilterName(): string {\n    const selected: MatListOption[] = this.filterList.selectedOptions.selected;\n    return selected.length ? selected[0].value : void 0;\n  }\n\n  removeFilter(filterName: string): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_REMOVE_FILTER').then(result => {\n      if (result) {\n        this.onDelete.emit(filterName);\n        this.cd.detectChanges();\n      }\n    });\n  }\n\n}\n","import { Injector, QueryList, ViewChildren } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\n\nimport { O_MAT_ERROR_OPTIONS, OMatErrorComponent } from '../../../../shared/material/o-mat-error/o-mat-error';\nimport { OMatErrorOptions } from '../../../../types/o-mat-error.type';\nimport { Codes } from '../../../../util/codes';\nimport { Util } from '../../../../util/util';\n\nexport class OTableBaseDialogClass {\n\n  protected errorOptions: OMatErrorOptions;\n  @ViewChildren(OMatErrorComponent)\n  protected oMatErrorChildren: QueryList<OMatErrorComponent>;\n  protected formControl: AbstractControl;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    try {\n      this.errorOptions = this.injector.get(O_MAT_ERROR_OPTIONS) || {};\n    } catch (e) {\n      this.errorOptions = {};\n    }\n  }\n\n  protected setFormControl(formControl: AbstractControl) {\n    this.formControl = formControl;\n  }\n\n  get tooltipClass(): string {\n    let result: string;\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && Util.isDefined(this.formControl) && this.formControlHasErrors()) {\n      result = `o-tooltip o-mat-error`;\n    }\n    return result;\n  }\n\n  get tooltipText(): string {\n    let result: string;\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && this.formControlHasErrors() && this.oMatErrorChildren && this.oMatErrorChildren.length > 0) {\n      result = '';\n      this.oMatErrorChildren.forEach((oMatError: OMatErrorComponent) => {\n        result += `${oMatError.text}\\n`;\n      });\n    }\n    return result;\n  }\n\n  protected formControlHasErrors(): boolean {\n    return Util.isDefined(this.formControl) && this.formControl.touched && Util.isDefined(this.formControl.errors);\n  }\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, Injector, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatCheckboxChange, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\n\nimport { OTableBaseDialogClass } from '../o-table-base-dialog.class';\n\n@Component({\n  selector: 'o-table-store-configuration-dialog',\n  templateUrl: './o-table-store-configuration-dialog.component.html',\n  styleUrls: ['./o-table-store-configuration-dialog.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableStoreConfigurationDialogComponent extends OTableBaseDialogClass implements AfterViewInit {\n\n  @ViewChild('propertiesList', { static: false })\n  public propertiesList: MatSelectionList;\n\n  public properties: any[] = [{\n    property: 'sort',\n    name: 'TABLE.DIALOG.PROPERTIES.SORT',\n    info: 'TABLE.DIALOG.PROPERTIES.SORT.INFO'\n  }, {\n    property: 'columns-display',\n    name: 'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY',\n    info: 'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO'\n  }, {\n    property: 'quick-filter',\n    name: 'TABLE.DIALOG.PROPERTIES.QUICK_FILTER',\n    info: 'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO'\n  }, {\n    property: 'columns-filter',\n    name: 'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER',\n    info: 'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO'\n  }, {\n    property: 'page',\n    name: 'TABLE.DIALOG.PROPERTIES.PAGE',\n    info: 'TABLE.DIALOG.PROPERTIES.PAGE.INFO'\n  }];\n\n  public formGroup: FormGroup = new FormGroup({\n    name: new FormControl('', [\n      Validators.required\n    ]),\n    description: new FormControl('')\n  });\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableStoreConfigurationDialogComponent>,\n    protected injector: Injector\n  ) {\n    super(injector);\n    this.setFormControl(this.formGroup.get('name'));\n  }\n\n  public ngAfterViewInit(): void {\n    this.propertiesList.selectAll();\n  }\n\n  public areAllSelected(): boolean {\n    return this.propertiesList && this.propertiesList.options && this.propertiesList.options.length === this.propertiesList.selectedOptions.selected.length;\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    event.checked ? this.propertiesList.selectAll() : this.propertiesList.deselectAll();\n  }\n\n  public getConfigurationAttributes(): any {\n    return this.formGroup.value;\n  }\n\n  public getSelectedTableProperties(): any[] {\n    const selected: MatListOption[] = this.propertiesList.selectedOptions.selected;\n    return selected.length ? selected.map(item => item.value) : [];\n  }\n\n  public isIndeterminate(): boolean {\n    return !this.areAllSelected();\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Inject, Injector } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { OTableFiltersStatus } from '../../../../../types/o-table-filter-status.type';\nimport { OTableBaseDialogClass } from '../o-table-base-dialog.class';\n\n@Component({\n  selector: 'o-table-store-filter-dialog',\n  templateUrl: './o-table-store-filter-dialog.component.html',\n  styleUrls: ['./o-table-store-filter-dialog.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableStoreFilterDialogComponent extends OTableBaseDialogClass {\n\n  filterNames: Array<string> = [];\n  formGroup: FormGroup = new FormGroup({\n    name: new FormControl('', [\n      Validators.required,\n      this.filterNameValidator.bind(this)\n    ]),\n    description: new FormControl('')\n  });\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableStoreFilterDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) data: Array<string>\n  ) {\n    super(injector);\n    this.setFormControl(this.formGroup.get('name'));\n    this.loadFilterNames(data);\n  }\n\n  loadFilterNames(filterNames): void {\n    this.filterNames = filterNames;\n  }\n\n  getFilterAttributes(): OTableFiltersStatus {\n    return this.formGroup.value;\n  }\n\n  protected filterNameValidator(control: FormControl) {\n    const ctrlValue: string = control.value;\n    if (this.filterNames.indexOf(ctrlValue) !== -1) {\n      return { filterNameAlreadyExists: true };\n    }\n    return {};\n  }\n\n}\n","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, Injector, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../../column/o-column.class';\n\n@Component({\n  selector: 'o-table-visible-columns-dialog',\n  templateUrl: 'o-table-visible-columns-dialog.component.html',\n  styleUrls: ['o-table-visible-columns-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-visible-columns-dialog]': 'true'\n  }\n})\nexport class OTableVisibleColumnsDialogComponent {\n\n  columns: Array<any> = [];\n  protected cd: ChangeDetectorRef;\n  rowHeight: string = Codes.DEFAULT_ROW_HEIGHT;\n\n  constructor(\n    protected injector: Injector,\n    public dialogRef: MatDialogRef<OTableVisibleColumnsDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);      \n    } catch (e) {\n      // no parent form\n    }\n    if (Util.isArray(data.columnsData) && Util.isArray(data.visibleColumns)) {      \n      data.columnsData.forEach((oCol: OColumn) => {\n        this.columns.push({\n          attr: oCol.attr,\n          title: oCol.title,\n          visible: oCol.visible,\n          showInList: data.visibleColumns.indexOf(oCol.attr) !== -1 || oCol.definition !== undefined\n        });\n      });\n    }\n    if (Util.isDefined(data.rowHeight)) {\n      this.rowHeight = data.rowHeight;\n    }\n  }\n\n  getVisibleColumns(): Array<string> {\n    return this.columns.filter(col => col.visible).map(col => col.attr);\n  }\n\n  getColumnsOrder(): Array<string> {\n    return this.columns.map(col => col.attr);\n  }\n\n  onClickColumn(col: OColumn): void {\n    col.visible = !col.visible;\n  }\n\n  drop(event: CdkDragDrop<string[]>) {\n    moveItemInArray(this.columns, event.previousIndex, event.currentIndex);\n  }\n}\n","import { OTableApplyConfigurationDialogComponent } from './apply-configuration/o-table-apply-configuration-dialog.component';\nimport { OTableExportDialogComponent } from './export/o-table-export-dialog.component';\nimport { OTableFilterByColumnDataDialogComponent } from './filter-by-column/o-table-filter-by-column-data-dialog.component';\nimport { OTableLoadFilterDialogComponent } from './load-filter/o-table-load-filter-dialog.component';\nimport { OTableStoreConfigurationDialogComponent } from './store-configuration/o-table-store-configuration-dialog.component';\nimport { OTableStoreFilterDialogComponent } from './store-filter/o-table-store-filter-dialog.component';\nimport { OTableVisibleColumnsDialogComponent } from './visible-columns/o-table-visible-columns-dialog.component';\n\nexport const O_TABLE_DIALOGS = [\n  OTableApplyConfigurationDialogComponent,\n  OTableExportDialogComponent,\n  OTableStoreConfigurationDialogComponent,\n  OTableLoadFilterDialogComponent,\n  OTableStoreFilterDialogComponent,\n  OTableVisibleColumnsDialogComponent,\n  OTableFilterByColumnDataDialogComponent\n];\n","import { Component, EventEmitter, Injector } from '@angular/core';\n\nimport { OTableExportButtonService } from './o-table-export-button.service';\n\nexport const DEFAULT_INPUTS_O_TABLE_EXPORT_BUTTON = [\n  'icon',\n  'svgIcon : svg-icon',\n  'olabel: label',\n  'exportType: export-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_EXPORT_BUTTON = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-table-export-button',\n  templateUrl: './o-table-export-button.component.html',\n  inputs: DEFAULT_INPUTS_O_TABLE_EXPORT_BUTTON,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_EXPORT_BUTTON\n})\nexport class OTableExportButtonComponent {\n\n  public icon: string;\n  public svgIcon: string;\n  public olabel: string;\n  public onClick: EventEmitter<any> = new EventEmitter();\n  protected exportType: string;\n  protected oTableExportButtonService: OTableExportButtonService;\n\n  constructor(\n    private injector: Injector\n  ) {\n    this.oTableExportButtonService = this.injector.get(OTableExportButtonService);\n  }\n\n  click() {\n    this.onClick.emit(this.exportType);\n    this.oTableExportButtonService.export$.next(this.exportType);\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { AggregateFunction } from '../../../../../types/aggregate-function.type';\nimport { OColumnAggregate } from '../../../../../types/o-column-aggregate.type';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_TABLE_COLUMN_AGGREGATE = [\n  // attr [string]: column name.\n  'attr',\n\n  // title [string]: Title for the header total column\n  'title',\n\n  // aggregate [sum | count | avg | min |max]\n  'aggregate',\n\n  // function-aggregate [ (value: any[]) => number] Function that calculates a value on the values of the column 'attr'\n  'functionAggregate: function-aggregate'\n];\n\n@Component({\n  selector: 'o-table-column-aggregate',\n  templateUrl: './o-table-column-aggregate.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_TABLE_COLUMN_AGGREGATE\n})\nexport class OTableColumnAggregateComponent implements OnDestroy, OnInit {\n  public static DEFAULT_AGGREGATE = 'SUM';\n\n  public attr: string;\n  public aggregate: string;\n  public table: OTableComponent;\n  public title: string = '';\n  protected _aggregateFunction: AggregateFunction;\n\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) table: OTableComponent,\n    protected injector: Injector) {\n    this.table = table;\n  }\n\n  get functionAggregate(): AggregateFunction {\n    return this._aggregateFunction;\n  }\n\n  set functionAggregate(val: AggregateFunction) {\n    this._aggregateFunction = val;\n  }\n\n  getColumnData(attr) {\n    let columnData = [];\n    if (this.table.dataSource) {\n      columnData = this.table.dataSource.getColumnData(attr);\n    }\n    return columnData;\n  }\n\n  ngOnInit() {\n    if (!this.attr) {\n      return;\n    }\n\n    const ocolumnaggregate: OColumnAggregate = {};\n    ocolumnaggregate.attr = this.attr;\n    if (this.title) {\n      ocolumnaggregate.title = this.title;\n    }\n\n    ocolumnaggregate.operator = this.aggregate ? this.aggregate : (this.functionAggregate ? this.functionAggregate : OTableColumnAggregateComponent.DEFAULT_AGGREGATE);\n    this.table.registerColumnAggregate(ocolumnaggregate);\n\n    this.subscription.add(this.table.onReinitialize.subscribe(() => this.table.registerColumnAggregate(ocolumnaggregate)));\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef, forwardRef, Inject, Injector, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\nimport { OTableComponent } from './../../../o-table.component';\n\n@Directive({\n  selector: '[oTableExpandedFooter]'\n})\nexport class OTableExpandedFooterDirective implements AfterViewInit {\n\n  private spanMessageNotResults: any;\n  private translateService: OTranslateService;\n  private tableBody: any;\n  private tableHeader: any;\n  private tdTableWithMessage: any;\n  private onContentChangeSubscription: Subscription;\n  private onVisibleColumnsChangeSubscription: Subscription;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    public element: ElementRef,\n    private renderer: Renderer2,\n    protected injector: Injector\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n\n  ngAfterViewInit() {\n    if (this.element.nativeElement.childNodes[2]) {\n      this.tableBody = this.element.nativeElement.childNodes[1];\n      this.tableHeader = this.element.nativeElement.childNodes[0];\n    }\n    this.registerContentChange();\n    this.registerVisibleColumnsChange();\n  }\n\n  registerContentChange() {\n    /** Create a tr with a td and inside put the message and add to tbody\n    * <tr><td><span> {message}</span><td><tr>\n    */\n    let tr = this.renderer.createElement('tr');\n    this.tdTableWithMessage = this.renderer.createElement('td');\n    this.renderer.addClass(tr, 'o-table-no-results');\n    tr.appendChild(this.tdTableWithMessage);\n    this.renderer.appendChild(this.tableBody, tr);\n\n    const self = this;\n    this.onContentChangeSubscription = this.table.onContentChange.subscribe((data) => {\n      self.updateMessageNotResults(data);\n      self.table.cd.detectChanges();\n    });\n  }\n\n  registerVisibleColumnsChange() {\n    const self = this;\n    this.onVisibleColumnsChangeSubscription = this.table.onVisibleColumnsChange.subscribe(() => {\n      self.updateColspanTd();\n    });\n\n  }\n\n  updateMessageNotResults(data) {\n    // reset span message\n    if (this.spanMessageNotResults) {\n      this.renderer.removeChild(this.element.nativeElement, this.spanMessageNotResults);\n    }\n    //generate new message\n    if (data.length === 0) {\n\n      let result = '';\n      result = this.translateService.get('TABLE.EMPTY');\n      if (this.table.quickFilter && this.table.oTableQuickFilterComponent &&\n        this.table.oTableQuickFilterComponent.value && this.table.oTableQuickFilterComponent.value.length > 0) {\n        result += this.translateService.get('TABLE.EMPTY_USING_FILTER', [(this.table.oTableQuickFilterComponent.value)]);\n      }\n      this.spanMessageNotResults = this.renderer.createElement('span');\n      let messageNotResults = this.renderer.createText(result);\n      this.tdTableWithMessage.setAttribute('colspan', this.tableHeader.querySelectorAll('th').length);\n      this.renderer.appendChild(this.spanMessageNotResults, messageNotResults);\n      this.renderer.appendChild(this.tdTableWithMessage, this.spanMessageNotResults);\n    }\n  }\n\n  /* Update colspan in td that show message not results */\n  updateColspanTd() {\n    if (this.tdTableWithMessage) {\n      this.tdTableWithMessage.setAttribute('colspan', this.tableHeader.querySelectorAll('th').length);\n    }\n  }\n\n  destroy() {\n    if (this.onContentChangeSubscription) {\n      this.onContentChangeSubscription.unsubscribe();\n    }\n\n    if (this.onVisibleColumnsChangeSubscription) {\n      this.onVisibleColumnsChangeSubscription.unsubscribe();\n    }\n  }\n}\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injector, OnInit } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { OTablePaginator } from '../../../../../interfaces/o-table-paginator.interface';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OBaseTablePaginator } from './o-base-table-paginator.class';\n\nexport const DEFAULT_PAGINATOR_TABLE = [\n  // page-size [number]: Number of items to display on a page. By default set to 50.\n  'pageSize: page-size',\n  'showFirstLastButtons: show-first-last-buttons'\n];\n\n@Component({\n  selector: 'o-table-paginator',\n  template: ' ',\n  inputs: DEFAULT_PAGINATOR_TABLE,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTablePaginatorComponent extends OBaseTablePaginator implements OTablePaginator, OnInit {\n\n  protected _pageIndex: number = 0;\n  protected _pageSize: number = 10;\n  protected _pageSizeOptions: Array<any>;\n\n  @InputConverter()\n  showFirstLastButtons: boolean = true;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    super();\n    this.pageSize = this.table.queryRows;\n    this.pageIndex = this.table.currentPage;\n    this.showFirstLastButtons = this.table.showPaginatorFirstLastButtons;\n  }\n\n  ngOnInit() {\n    this.table.registerPagination(this);\n  }\n\n  get pageIndex(): number {\n    return this._pageIndex;\n  }\n\n  set pageIndex(value: number) {\n    this._pageIndex = value;\n    if (this.table.matpaginator) {\n      this.table.matpaginator.pageIndex = this._pageIndex;\n    }\n  }\n\n  public isShowingAllRows(selectedLength: number): boolean {\n    // return this._pageSizeOptions.indexOf(selectedLength) === (this._pageSizeOptions.length - 1);\n    // temporal while not having an option for showing all records in paginated tables\n    return false;\n  }\n}\n","import { OTableColumnAggregateComponent } from './aggregate/o-table-column-aggregate.component';\nimport { OTablePaginatorComponent } from './paginator/o-table-paginator.component';\n\nexport const O_TABLE_FOOTER_COMPONENTS = [\n  OTablePaginatorComponent,\n  OTableColumnAggregateComponent\n];\n","import { Injectable, Injector } from '@angular/core';\nimport { MatPaginatorIntl } from '@angular/material';\n\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\n\n@Injectable()\nexport class OTableMatPaginatorIntl extends MatPaginatorIntl {\n\n  itemsPerPageLabel;\n  nextPageLabel;\n  previousPageLabel;\n  translateService: OTranslateService;\n  protected onLanguageChangeSubscribe: any;\n\n  constructor(protected injector: Injector) {\n    super();\n    this.translateService = this.injector.get(OTranslateService);\n    this.itemsPerPageLabel = this.translateService.get('TABLE.PAGINATE.ITEMSPERPAGELABEL');\n    this.nextPageLabel = this.translateService.get('TABLE.PAGINATE.NEXT');\n    this.previousPageLabel = this.translateService.get('TABLE.PAGINATE.PREVIOUS');\n    this.firstPageLabel = this.translateService.get('TABLE.PAGINATE.FIRST');\n    this.lastPageLabel = this.translateService.get('TABLE.PAGINATE.LAST');\n    this.getRangeLabel = this.getORangeLabel;\n\n    this.onLanguageChangeSubscribe = this.translateService.onLanguageChanged.subscribe(res => {\n      this.itemsPerPageLabel = this.translateService.get('TABLE.PAGINATE.ITEMSPERPAGELABEL');\n      this.nextPageLabel = this.translateService.get('TABLE.PAGINATE.NEXT');\n      this.previousPageLabel = this.translateService.get('TABLE.PAGINATE.PREVIOUS');\n      this.firstPageLabel = this.translateService.get('TABLE.PAGINATE.FIRST');\n      this.lastPageLabel = this.translateService.get('TABLE.PAGINATE.LAST');\n      this.getRangeLabel = this.getORangeLabel;\n      this.changes.next();\n    });\n  }\n\n  getORangeLabel(page: number, pageSize: number, length: number): string {\n    if (!isNaN(pageSize) && (length === 0 || pageSize === 0)) {\n      return `0  ${this.translateService.get('TABLE.PAGINATE.RANGE_LABEL')} ${length}`;\n    }\n    length = Math.max(length, 0);\n    let startIndex = page * pageSize;\n    // If the start index exceeds the list length, do not try and fix the end index to the end.\n    let endIndex = startIndex < length ?\n      Math.min(startIndex + pageSize, length) :\n      startIndex + pageSize;\n\n    // option show all\n    if (isNaN(pageSize)) {\n      startIndex = 0;\n      endIndex = length;\n    }\n\n    return `${startIndex + 1} - ${endIndex}  ${this.translateService.get('TABLE.PAGINATE.RANGE_LABEL')} ${length}`;\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OTableButton } from '../../../../../interfaces/o-table-button.interface';\n\nexport const DEFAULT_INPUTS_O_TABLE_BUTTON = [\n  'oattr: attr',\n  'enabled',\n  'icon',\n  'svgIcon: svg-icon',\n  'iconPosition: icon-position',\n  'olabel: label'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_BUTTON = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-table-button',\n  templateUrl: './o-table-button.component.html',\n  styleUrls: ['./o-table-button.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_BUTTON,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_BUTTON,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-button]': 'true',\n  }\n})\nexport class OTableButtonComponent implements OTableButton, OnInit {\n\n  public onClick: EventEmitter<object> = new EventEmitter<object>();\n\n  public oattr: string;\n  @InputConverter()\n  public enabled: boolean = true;\n  public icon: string;\n  public svgIcon: string;\n  public olabel: string;\n  public iconPosition: string;\n\n  constructor(\n    protected injector: Injector,\n    public elRef: ElementRef,\n    @Inject(forwardRef(() => OTableComponent)) protected _table: OTableComponent\n  ) { }\n\n  public ngOnInit(): void {\n    if (!Util.isDefined(this.icon) && !Util.isDefined(this.svgIcon)) {\n      this.icon = 'priority_high';\n    }\n    this.iconPosition = Util.parseIconPosition(this.iconPosition);\n  }\n\n  public innerOnClick(event): void {\n    event.stopPropagation();\n    this.onClick.emit();\n  }\n\n  public isIconPositionLeft(): boolean {\n    return this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n\n  get table(): OTableComponent {\n    return this._table;\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { OTableButtons } from '../../../../../interfaces/o-table-buttons.interface';\nimport { OPermissions } from '../../../../../types/o-permissions.type';\nimport { PermissionsUtils } from '../../../../../util/permissions';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OTableButtonComponent } from '../table-button/o-table-button.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_BUTTONS = [\n  // insert-button [no|yes]: show insert button. Default: yes.\n  'insertButton: insert-button',\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n  // delete-button [no|yes]: show delete button. Default: yes.\n  'deleteButton: delete-button'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_BUTTONS = [];\n\n@Component({\n  selector: 'o-table-buttons',\n  templateUrl: './o-table-buttons.component.html',\n  styleUrls: ['./o-table-buttons.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_BUTTONS,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_BUTTONS,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-buttons]': 'true',\n  }\n})\nexport class OTableButtonsComponent implements OTableButtons, OnInit, OnDestroy {\n\n  /* Inputs */\n  @InputConverter()\n  public insertButton: boolean = true;\n  @InputConverter()\n  public refreshButton: boolean = true;\n  @InputConverter()\n  public deleteButton: boolean = true;\n  /* End of inputs */\n\n  public enabledInsertButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n  public enabledRefreshButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n  public enabledDeleteButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  protected permissions: OPermissions[];\n  protected mutationObservers: MutationObserver[] = [];\n  protected subscription: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.permissions = this.table.getActionsPermissions();\n  }\n\n  public ngOnInit(): void {\n    const insertPerm: OPermissions = this.getPermissionByAttr('insert');\n    const refreshPerm: OPermissions = this.getPermissionByAttr('refresh');\n    const deletePerm: OPermissions = this.getPermissionByAttr('delete');\n\n    if (this.insertButton && (insertPerm && insertPerm.enabled === false)) {\n      this.enabledInsertButton.next(false);\n    }\n    if (this.refreshButton && (refreshPerm && refreshPerm.enabled === false)) {\n      this.enabledRefreshButton.next(false);\n    }\n    this.subscription = this.table.selection.changed.subscribe(() =>\n      deletePerm ? this.enabledDeleteButton.next(deletePerm.enabled && !this.table.selection.isEmpty()) : this.enabledDeleteButton.next(!this.table.selection.isEmpty())\n    );\n    this.table.registerOTableButtons(this);\n  }\n\n  public ngOnDestroy(): void {\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  public add(): void {\n    this.table.add();\n  }\n\n  public reloadData(): void {\n    this.table.reloadData();\n  }\n\n  public remove(): void {\n    this.table.remove();\n  }\n\n  public getPermissionByAttr(attr: string): OPermissions {\n    return this.permissions.find((perm: OPermissions) => perm.attr === attr);\n  }\n\n  public registerButtons(oTableButtons: OTableButtonComponent[]): void {\n    const fixedButtons = ['insert', 'refresh', 'delete'];\n    const userItems: OPermissions[] = this.permissions.filter((perm: OPermissions) => fixedButtons.indexOf(perm.attr) === -1);\n    const self = this;\n    userItems.forEach((perm: OPermissions) => {\n      const button = oTableButtons.find((oTableButton: OTableButtonComponent) => oTableButton.oattr === perm.attr);\n      self.setPermissionsToOTableButton(perm, button);\n    });\n  }\n\n  get showInsertOButton(): boolean {\n    if (!this.insertButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('insert');\n    return !(perm && perm.visible === false);\n  }\n\n  get showRefreshOButton(): boolean {\n    if (!this.refreshButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('refresh');\n    return !(perm && perm.visible === false);\n  }\n\n  get showDeleteOButton(): boolean {\n    if (!this.deleteButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('delete');\n    return !(perm && perm.visible === false);\n  }\n\n  protected setPermissionsToOTableButton(perm: OPermissions, button: OTableButtonComponent): void {\n    if (perm.visible === false && button) {\n      button.elRef.nativeElement.remove();\n    } else if (perm.enabled === false && button) {\n      button.enabled = false;\n      const buttonEL = button.elRef.nativeElement.querySelector('button');\n      const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n      this.mutationObservers.push(obs);\n    }\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  forwardRef,\n  HostListener,\n  Inject,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER = [\n  'column'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER = [\n  // 'resizing',\n  // 'resized'\n];\n\n@Component({\n  selector: 'o-table-column-resizer',\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER,\n  templateUrl: './o-table-column-resizer.component.html',\n  styleUrls: ['./o-table-column-resizer.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-column-resizer]': 'true',\n    '[class.disabled]': 'isDisabled',\n  }\n})\nexport class OTableColumnResizerComponent implements OnInit, OnDestroy {\n\n  column: OColumn;\n  @InputConverter()\n  disabled: boolean = false;\n\n  // resizing = new EventEmitter<boolean>();\n  // resized = new EventEmitter<number>();\n  protected startWidth: any;\n  protected minWidth: any;\n  protected maxWidth: any;\n\n  protected startX: any;\n\n  protected headerEl: any;\n\n  protected nextOColumns: OColumn[];\n\n  protected dragListeners: Array<() => void> = [];\n  protected isResizing: boolean = false;\n  protected blockedMinCols = [];\n  protected blockedMaxCols = [];\n\n  protected columnsStartWidth = {};\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected elRef: ElementRef,\n    protected ngZone: NgZone,\n    protected renderer: Renderer2\n  ) { }\n\n  ngOnInit(): void {\n    if (!this.isDisabled) {\n      this.headerEl = this.getHeaderEL();\n      if (this.headerEl) {\n        this.nextOColumns = this.getFollowingOColumns();\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.stopDragging();\n  }\n\n  onClick(event: MouseEvent) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  get isDisabled(): boolean {\n    return this.column && !this.column.resizable;\n  }\n\n  @HostListener('mousedown', ['$event'])\n  onMousedown(e: MouseEvent) {\n    if (!this.isDisabled) {\n      this.startResize(e);\n    }\n  }\n\n  onMouseup() {\n    this.isResizing = false;\n    this.stopDragging();\n    // this.resize.emit(this.element.clientWidth);\n  }\n\n  protected stopDragging() {\n    this.isResizing = false;\n    this.columnsStartWidth = {};\n    while (this.dragListeners.length > 0) {\n      const fct = this.dragListeners.pop();\n      if (fct) {\n        fct();\n      }\n    }\n  }\n\n  startResize(startEvent: MouseEvent): void {\n    startEvent.preventDefault();\n    startEvent.stopPropagation();\n    if (!Util.isDefined(this.headerEl)) {\n      return;\n    }\n    const DOMWidth = this.table.getClientWidthColumn(this.column);\n    this.startX = startEvent.screenX;\n    this.startWidth = DOMWidth;\n    this.minWidth = this.column.getMinWidthValue();\n    this.initializeWidthData();\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mouseup', (e: MouseEvent) => this.stopDragging()));\n    });\n\n    if (!(startEvent instanceof MouseEvent)) {\n      return;\n    }\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mousemove', (e: MouseEvent) => this.resizeEvent(e)));\n    });\n    this.isResizing = true;\n  }\n\n  protected resizeEvent(event: MouseEvent): void {\n    if (!this.isResizing || !(event instanceof MouseEvent)) {\n      return;\n    }\n    const movementX = (event.screenX - this.startX);\n    if (movementX === 0) {\n      return;\n    }\n    const newColumnWidth = this.startWidth + movementX;\n\n    const lessThanMin = newColumnWidth < this.minWidth;\n    const moreThanMax = newColumnWidth > this.maxWidth;\n    if (lessThanMin || moreThanMax) {\n      return;\n    }\n    if (!this.table.horizontalScroll) {\n      this.calculateNewColumnsWidth(movementX, newColumnWidth);\n      this.updateBlockedCols();\n    } else {\n      this.column.setWidth(newColumnWidth);\n    }\n    this.table.cd.detectChanges();\n  }\n\n  protected getHeaderEL(): Node {\n    let element;\n    let currentEl: Node = this.elRef.nativeElement.parentElement;\n    while (!element && currentEl) {\n      if (currentEl.nodeName === 'TH') {\n        element = currentEl;\n      } else {\n        currentEl = currentEl.parentElement;\n      }\n    }\n    return currentEl;\n  }\n\n  protected getFollowingOColumns(): OColumn[] {\n    const result: OColumn[] = [];\n    let nextTh: any = this.headerEl.nextSibling;\n    const self = this;\n    while (nextTh) {\n      const oCol: OColumn = self.table.getOColumnFromTh(nextTh);\n      if (Util.isDefined(oCol)) {\n        result.push(oCol);\n      }\n      nextTh = nextTh.nextSibling;\n    }\n    return result;\n  }\n\n  protected updateBlockedCols() {\n    const self = this;\n    this.blockedMinCols = [];\n    this.blockedMaxCols = [];\n    const columns = [this.column, ...this.nextOColumns];\n    columns.forEach(oCol => {\n      const DOMWidth = this.table.getClientWidthColumn(oCol);\n      if (DOMWidth <= oCol.getMinWidthValue()) {\n        self.blockedMinCols.push(oCol.attr);\n      }\n      const maxW = oCol.getMaxWidthValue();\n      if (Util.isDefined(maxW) && DOMWidth >= maxW) {\n        self.blockedMaxCols.push(oCol.attr);\n      }\n    });\n  }\n\n  protected calculateNewColumnsWidth(movementX: number, newColumnWidth: number) {\n    const positive = (movementX > 0);\n    if (positive) {\n      this.calculateUsingNextColumnsRestrictions(movementX, newColumnWidth);\n    } else {\n      this.calculateUsingOwnColumnRestriction(movementX, newColumnWidth);\n    }\n  }\n\n  protected calculateUsingNextColumnsRestrictions(movementX: number, newColumnWidth: number) {\n    const availableCols = this.nextOColumns.length - this.blockedMinCols.length;\n    if (availableCols <= 0) {\n      return;\n    }\n    const widthRatio = movementX / availableCols;\n    const cols = this.nextOColumns.filter((oCol: OColumn) => this.blockedMinCols.indexOf(oCol.attr) === -1);\n    cols.forEach(oCol => {\n      let newWidth = (this.columnsStartWidth[oCol.attr] - widthRatio);\n      const minWidth = oCol.getMinWidthValue();\n      if (newWidth <= minWidth) {\n        newWidth = minWidth;\n        this.blockedMinCols.push(oCol.attr);\n      }\n      oCol.setWidth(newWidth);\n    });\n    this.column.setWidth(newColumnWidth);\n  }\n\n  protected calculateUsingOwnColumnRestriction(movementX: number, newColumnWidth: number) {\n    let widthRatio = Math.abs(movementX) / this.nextOColumns.length;\n    let widthDifference = 0;\n    if (widthRatio > 0 && this.blockedMaxCols.length < this.nextOColumns.length) {\n      const cols = this.nextOColumns.filter((oCol: OColumn) => this.blockedMaxCols.indexOf(oCol.attr) === -1);\n      cols.forEach(oCol => {\n        let newWidthValue = (this.columnsStartWidth[oCol.attr] + widthRatio);\n        const maxWidth = oCol.getMaxWidthValue();\n        if (maxWidth && newWidthValue > maxWidth) {\n          const diff = newWidthValue - maxWidth;\n          newWidthValue = maxWidth;\n          this.blockedMaxCols.push(oCol.attr);\n          const notBlocked = this.nextOColumns.length - this.blockedMaxCols.length;\n          widthRatio += notBlocked > 0 ? Math.floor(diff / notBlocked) : 0;\n        }\n        const DOMWidth = this.table.getClientWidthColumn(oCol);\n        widthDifference += newWidthValue - DOMWidth;\n        oCol.setWidth(newWidthValue);\n      });\n    }\n    const newWidth = Math.min(this.startWidth - widthDifference, newColumnWidth);\n    this.column.setWidth(newWidth);\n  }\n\n  protected initializeWidthData() {\n    let maxWidth = this.column.getMaxWidthValue();\n    let nextColMinWidthAcum = 0;\n    let nextColWidthAcum = 0;\n    this.nextOColumns.forEach((col: OColumn) => {\n      nextColMinWidthAcum += col.getMinWidthValue();\n      const DOMWidth = this.table.getClientWidthColumn(col);\n      nextColWidthAcum += DOMWidth;\n      this.columnsStartWidth[col.attr] = DOMWidth;\n    });\n    const calcMaxWidth = this.headerEl.clientWidth + (nextColWidthAcum - nextColMinWidthAcum);\n    if (Util.isDefined(maxWidth)) {\n      maxWidth = Math.min(maxWidth, calcMaxWidth);\n    } else {\n      maxWidth = calcMaxWidth;\n    }\n    this.maxWidth = maxWidth;\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ComponentFactoryResolver,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n} from '@angular/core';\nimport { FormControl, ValidatorFn, Validators } from '@angular/forms';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { SnackBarService } from '../../../../../services/snackbar.service';\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\nimport { OPermissions } from '../../../../../types/o-permissions.type';\nimport { Observable, ObservableWrapper } from '../../../../../util/async';\nimport { Util } from '../../../../../util/util';\nimport { OBaseTableCellEditor } from '../../../column/cell-editor/o-base-table-cell-editor.class';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW = [\n  // columns [string]: columns that can be inserted, separated by ';'. Default: all visible columns.\n  'columns',\n  'requiredColumns : required-columns',\n  // position [first |last ] default: last\n  'position',\n  'showPlaceHolder: show-placeholder',\n  'includeParentKeys: include-parent-keys'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW = [\n  'onPostInsertRecord'\n];\n\n@Component({\n  selector: 'o-table-insertable-row',\n  template: ' ',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW\n})\n\nexport class OTableInsertableRowComponent implements OnInit {\n\n  public static AVAILABLE_ROW_POSITIONS = ['first', 'last'];\n  public static DEFAULT_ROW_POSITION = 'last';\n\n  protected columns: string;\n  protected columnsArray: Array<string> = [];\n\n  protected requiredColumns: string;\n  protected requiredColumnsArray: Array<string> = [];\n\n  onPostInsertRecord: EventEmitter<any> = new EventEmitter();\n  columnEditors: any = {};\n  trWrapper: EventTarget;\n\n  protected position: string = OTableInsertableRowComponent.DEFAULT_ROW_POSITION;\n\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  @InputConverter()\n  includeParentKeys: boolean = true;\n\n  enabled = true;\n  rowData = {};\n  protected controls: any = {};\n  translateService: OTranslateService;\n  snackBarService: SnackBarService;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent,\n    protected resolver: ComponentFactoryResolver\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  ngOnInit() {\n    this.columnsArray = Util.parseArray(this.columns, true);\n    if (this.columnsArray.length === 0) {\n      this.columnsArray = this.table.oTableOptions.visibleColumns;\n    }\n    this.requiredColumnsArray = Util.parseArray(this.requiredColumns, true);\n    if (OTableInsertableRowComponent.AVAILABLE_ROW_POSITIONS.indexOf((this.position || '').toLowerCase()) === -1) {\n      this.position = OTableInsertableRowComponent.DEFAULT_ROW_POSITION;\n    }\n    this.table.setOTableInsertableRow(this);\n  }\n\n  isFirstRow(): boolean {\n    return this.position === 'first';\n  }\n\n  isColumnInsertable(column: OColumn): boolean {\n    return (this.columnsArray.indexOf(column.attr) !== -1);\n  }\n\n  isColumnRequired(column: OColumn): boolean {\n    return (this.requiredColumnsArray.indexOf(column.attr) !== -1);\n  }\n\n  initializeEditors(): void {\n    const self = this;\n    this.table.oTableOptions.columns.forEach((col, i, array) => {\n      if (self.isColumnInsertable(col)) {\n        const columnEditorType = col.editor ? col.editor.type : col.type;\n        if (col.definition) {\n          const editor: OBaseTableCellEditor = col.definition.buildCellEditor(columnEditorType, this.resolver, col.definition.container, col.definition);\n          this.columnEditors[col.attr] = editor;\n          let disabledCol = !this.enabled;\n          if (!disabledCol) {\n            const columnPermissions: OPermissions = this.table.getOColumnPermissions(col.attr);\n            disabledCol = columnPermissions.enabled === false;\n          }\n          editor.enabled = !disabledCol;\n          editor.showPlaceHolder = this.showPlaceHolder || editor.showPlaceHolder;\n          editor.table = self.table;\n          editor.tableColumn = col.editor ? col.editor.tableColumn : col.definition;\n          editor.orequired = this.isColumnRequired(col);\n          editor.formControl = this.getControl(col, disabledCol);\n          editor.controlArgs = { silent: true };\n          editor.rowData = self.rowData;\n          editor.startEdition(self.rowData);\n          editor.formControl.markAsUntouched();\n          col.editor = editor;\n        }\n      }\n      array[i] = col;\n    });\n  }\n\n  useCellEditor(column: OColumn): boolean {\n    return this.isColumnInsertable(column) && Util.isDefined(this.columnEditors[column.attr]);\n  }\n\n  getControl(column: OColumn, disabled: boolean = false): FormControl {\n    if (!this.controls[column.attr]) {\n      const validators: ValidatorFn[] = this.resolveValidators(column);\n      const cfg = {\n        value: undefined,\n        disabled: disabled\n      };\n      this.controls[column.attr] = new FormControl(cfg, validators);\n    }\n    return this.controls[column.attr];\n  }\n\n  resolveValidators(column: OColumn): ValidatorFn[] {\n    const validators: ValidatorFn[] = [];\n    if (this.isColumnRequired(column)) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  getPlaceholder(column: OColumn): string {\n    let showPlaceHolder = this.showPlaceHolder;\n    const cellEditor = this.columnEditors[column.attr];\n    if (cellEditor) {\n      showPlaceHolder = cellEditor.showPlaceHolder;\n    } else if (column.definition) {\n      showPlaceHolder = showPlaceHolder || column.definition.showPlaceHolder;\n    }\n    return showPlaceHolder ? this.translateService.get(column.title) : undefined;\n  }\n\n  handleKeyboardEvent(event: KeyboardEvent) {\n    if (event.keyCode !== 13) {\n      // not intro\n      return;\n    }\n    this.trWrapper = event.currentTarget;\n\n    event.preventDefault();\n    event.stopPropagation();\n    this.insertRecord();\n  }\n\n  insertRecord() {\n    const self = this;\n    if (!this.validateFields()) {\n      // this.table.showDialogError('TABLE.ROW_VALIDATION_ERROR');\n      return;\n    }\n    const values = this.getAttributesValuesToInsert();\n    const insertObservable: Observable<any> = this.table.insertRecord(values);\n    if (insertObservable) {\n      insertObservable.subscribe(res => {\n        self.onInsertSuccess(res);\n      }, error => {\n        self.table.showDialogError(error, 'MESSAGES.ERROR_INSERT');\n      });\n    }\n  }\n\n  protected validateFields(): boolean {\n    let valid = true;\n    // columns with no editor defined\n    Object.keys(this.controls).forEach((controlKey) => {\n      const control = this.controls[controlKey];\n      control.markAsTouched();\n      valid = valid && control.valid;\n    });\n    return valid;\n  }\n\n  protected getAttributesValuesToInsert(): object {\n    let attrValues = {};\n    if (this.includeParentKeys) {\n      attrValues = this.table.getParentKeysValues();\n    }\n    Object.keys(this.controls).forEach((controlKey) => {\n      attrValues[controlKey] = this.controls[controlKey].value;\n    });\n    return attrValues;\n  }\n\n  protected onInsertSuccess(res: any) {\n    ObservableWrapper.callEmit(this.onPostInsertRecord, res);\n    this.snackBarService.open('MESSAGES.INSERTED', { icon: 'check_circle' });\n    this.cleanFields();\n\n    if (this.table.daoTable.usingStaticData) {\n      this.table.setDataArray(res);\n    } else {\n      this.table.reloadData();\n    }\n  }\n\n  protected cleanFields() {\n    // columns with no editor defined\n    const controlKeys = Object.keys(this.controls);\n    controlKeys.forEach((controlKey) => {\n      this.controls[controlKey].setValue(void 0);\n    });\n    const firstInputEl = (this.trWrapper as any).querySelector('input');\n    if (firstInputEl) {\n      setTimeout(() => {\n        firstInputEl.focus();\n      });\n    }\n  }\n\n  columnHasError(column: OColumn, error: string): boolean {\n    const control = this.controls[column.attr];\n    return control && control.touched && control.hasError(error);\n  }\n\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation,\n  EventEmitter\n} from '@angular/core';\nimport { MatDialog, MatMenu } from '@angular/material';\nimport { Observable, BehaviorSubject, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { OTableMenu } from '../../../../../interfaces/o-table-menu.interface';\nimport { DialogService } from '../../../../../services/dialog.service';\nimport { SnackBarService } from '../../../../../services/snackbar.service';\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\nimport { OPermissions } from '../../../../../types/o-permissions.type';\nimport { OTableMenuPermissions } from '../../../../../types/o-table-menu-permissions.type';\nimport { Codes } from '../../../../../util/codes';\nimport { PermissionsUtils } from '../../../../../util/permissions';\nimport { Util } from '../../../../../util/util';\nimport { OTableCellRendererImageComponent } from '../../../column/cell-renderer/image/o-table-cell-renderer-image.component';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OTableApplyConfigurationDialogComponent } from '../../dialog/apply-configuration/o-table-apply-configuration-dialog.component';\nimport { OTableExportDialogComponent } from '../../dialog/export/o-table-export-dialog.component';\nimport { OTableLoadFilterDialogComponent } from '../../dialog/load-filter/o-table-load-filter-dialog.component';\nimport { OTableStoreConfigurationDialogComponent } from '../../dialog/store-configuration/o-table-store-configuration-dialog.component';\nimport { OTableStoreFilterDialogComponent } from '../../dialog/store-filter/o-table-store-filter-dialog.component';\nimport { OTableVisibleColumnsDialogComponent } from '../../dialog/visible-columns/o-table-visible-columns-dialog.component';\nimport { OTableOptionComponent } from '../table-option/o-table-option.component';\nimport { OTableExportConfiguration } from './o-table-export-configuration.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_MENU = [\n  // select-all-checkbox [yes|no|true|false]: show selection check boxes. Default: no.\n  'selectAllCheckbox: select-all-checkbox',\n\n  // export-button [no|yes]: show export button. Default: yes.\n  'exportButton: export-button',\n\n  // columns-visibility-button [no|yes]: show columns visibility button. Default: yes.\n  'columnsVisibilityButton: columns-visibility-button',\n\n  // show-configuration-option [yes|no|true|false]: show configuration button in header. Default: yes.\n  'showConfigurationOption: show-configuration-option',\n\n  // show-filter-option [yes|no|true|false]: show filter menu option in the header menu\n  'showFilterOption: show-filter-option'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_MENU = [];\n\n@Component({\n  selector: 'o-table-menu',\n  templateUrl: './o-table-menu.component.html',\n  styleUrls: ['./o-table-menu.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_MENU,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_MENU,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-menu]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableMenuComponent implements OTableMenu, OnInit, AfterViewInit, OnDestroy {\n\n  /* Inputs */\n  @InputConverter()\n  selectAllCheckbox: boolean = false;\n  @InputConverter()\n  exportButton: boolean = true;\n  @InputConverter()\n  showConfigurationOption: boolean = true;\n  @InputConverter()\n  showFilterOption: boolean = true;\n  @InputConverter()\n  columnsVisibilityButton: boolean = true;\n\n  public onVisibleFilterOptionChange: EventEmitter<any> = new EventEmitter();\n  /* End of inputs */\n\n  protected dialogService: DialogService;\n  protected translateService: OTranslateService;\n  protected snackBarService: SnackBarService;\n\n  @ViewChild('menu', { static: true })\n  matMenu: MatMenu;\n  @ViewChild('selectAllCheckboxOption', { static: false })\n  selectAllCheckboxOption: OTableOptionComponent;\n  @ViewChild('exportButtonOption', { static: false })\n  exportButtonOption: OTableOptionComponent;\n  @ViewChild('columnsVisibilityButtonOption', { static: false })\n  columnsVisibilityButtonOption: OTableOptionComponent;\n  @ViewChild('filterMenuButton', { read: ElementRef, static: false })\n  filterMenuButton: ElementRef;\n  @ViewChild('configurationMenuButton', { read: ElementRef, static: false })\n  configurationMenuButton: ElementRef;\n\n  @ViewChild('filterMenu', { static: false })\n  filterMenu: MatMenu;\n  @ViewChild('configurationMenu', { static: false })\n  configurationMenu: MatMenu;\n  @ViewChild('columnFilterOption', { static: false })\n  columnFilterOption: OTableOptionComponent;\n\n  private showColumnsFilterOptionSubject = new BehaviorSubject<boolean>(false);\n  public showColumnsFilterOption: Observable<boolean> = this.showColumnsFilterOptionSubject.asObservable();\n\n  protected permissions: OTableMenuPermissions;\n  protected mutationObservers: MutationObserver[] = [];\n\n  private subscription: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected dialog: MatDialog,\n    protected cd: ChangeDetectorRef,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n    const self = this;\n\n    this.subscription = this.onVisibleFilterOptionChange.subscribe((x: boolean) => self.showColumnsFilterOptionSubject.next(x));\n  }\n\n  ngOnInit() {\n    this.permissions = this.table.getMenuPermissions();\n  }\n\n  get isColumnFilterOptionActive() {\n    return this.table && this.table.showFilterByColumnIcon;\n  }\n\n  ngAfterViewInit() {\n\n    this.showColumnsFilterOptionSubject.next(this.table.oTableColumnsFilterComponent !== undefined);\n\n\n    if (!this.permissions.items || this.permissions.items.length === 0) {\n      return;\n    }\n    if (this.selectAllCheckboxOption && !this.enabledSelectAllCheckbox) {\n      this.disableOTableOptionComponent(this.selectAllCheckboxOption);\n    }\n    if (this.exportButtonOption && !this.enabledExportButton) {\n      this.disableOTableOptionComponent(this.exportButtonOption);\n    }\n    if (this.columnsVisibilityButtonOption && !this.enabledColumnsVisibilityButton) {\n      this.disableOTableOptionComponent(this.columnsVisibilityButtonOption);\n    }\n    if (this.filterMenuButton && !this.enabledFilterMenu) {\n      this.disableButton(this.filterMenuButton);\n    }\n    if (this.configurationMenuButton && !this.enabledConfigurationMenu) {\n      this.disableButton(this.configurationMenuButton);\n    }\n\n    this.cd.detectChanges();\n  }\n\n  protected disableOTableOptionComponent(comp: OTableOptionComponent) {\n    comp.enabled = false;\n    const buttonEL = comp.elRef.nativeElement.querySelector('button');\n    const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n    this.mutationObservers.push(obs);\n  }\n\n  protected disableButton(buttonEL: ElementRef) {\n    buttonEL.nativeElement.disabled = true;\n    const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL.nativeElement);\n    this.mutationObservers.push(obs);\n  }\n\n  ngOnDestroy() {\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n    this.subscription.unsubscribe();\n  }\n\n  registerOptions(oTableOptions: OTableOptionComponent[]) {\n    const items: OPermissions[] = this.permissions.items || [];\n    const fixedOptions = ['select-all-checkbox', 'export', 'show-hide-columns', 'filter', 'configuration'];\n    const userItems: OPermissions[] = items.filter((perm: OPermissions) => fixedOptions.indexOf(perm.attr) === -1);\n    const self = this;\n    userItems.forEach((perm: OPermissions) => {\n      const option = oTableOptions.find((oTableOption: OTableOptionComponent) => oTableOption.oattr === perm.attr);\n      self.setPermissionsToOTableOption(perm, option);\n    });\n  }\n\n  protected setPermissionsToOTableOption(perm: OPermissions, option: OTableOptionComponent) {\n    if (perm.visible === false && option) {\n      option.elRef.nativeElement.remove();\n    } else if (perm.enabled === false && option) {\n      option.enabled = false;\n      const buttonEL = option.elRef.nativeElement.querySelector('button');\n      const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n      this.mutationObservers.push(obs);\n    }\n  }\n\n  getPermissionByAttr(attr: string) {\n    const items: OPermissions[] = this.permissions.items || [];\n    return items.find((perm: OPermissions) => perm.attr === attr);\n  }\n\n  get isSelectAllOptionActive(): boolean {\n    return this.table.oTableOptions.selectColumn.visible;\n  }\n\n  get showSelectAllCheckbox(): boolean {\n    if (!this.selectAllCheckbox) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('select-all-checkbox');\n    return this.showFilterOption && !(perm && perm.visible === false);\n  }\n\n  get rowHeightObservable(): Observable<string> {\n    return this.table.rowHeightObservable;\n  }\n  get enabledSelectAllCheckbox(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('select-all-checkbox');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showExportButton(): boolean {\n    if (!this.exportButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('export');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledExportButton(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('export');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showColumnsVisibilityButton(): boolean {\n    if (!this.columnsVisibilityButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('show-hide-columns');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledColumnsVisibilityButton(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('show-hide-columns');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showFilterMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('filter');\n    return this.showFilterOption && !(perm && perm.visible === false);\n  }\n\n  get enabledFilterMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('filter');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showConfigurationMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('configuration');\n    return this.showConfigurationOption && !(perm && perm.visible === false);\n  }\n\n  get enabledConfigurationMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('configuration');\n    return !(perm && perm.enabled === false);\n  }\n\n  onShowsSelects() {\n    const tableOptions = this.table.oTableOptions;\n    tableOptions.selectColumn.visible = !tableOptions.selectColumn.visible;\n    this.table.initializeCheckboxColumn();\n  }\n\n  onExportButtonClicked() {\n    const tableOptions = this.table.oTableOptions;\n    const exportCnfg: OTableExportConfiguration = new OTableExportConfiguration();\n\n    // get column's attr whose renderer is OTableCellRendererImageComponent\n    const colsNotIncluded: string[] = tableOptions.columns.filter(c => void 0 !== c.renderer && c.renderer instanceof OTableCellRendererImageComponent).map(c => c.attr);\n    colsNotIncluded.push(Codes.NAME_COLUMN_SELECT);\n\n    // Table data/filters\n    switch (this.table.exportMode) {\n      case Codes.EXPORT_MODE_ALL:\n        exportCnfg.filter = this.table.getComponentFilter();\n        break;\n      case Codes.EXPORT_MODE_LOCAL:\n        exportCnfg.data = this.table.getAllRenderedValues();\n        colsNotIncluded.forEach(attr => exportCnfg.data.forEach(row => delete row[attr]));\n        break;\n      default:\n        exportCnfg.data = this.table.getRenderedValue();\n        colsNotIncluded.forEach(attr => exportCnfg.data.forEach(row => delete row[attr]));\n        break;\n    }\n    exportCnfg.mode = this.table.exportMode;\n    exportCnfg.entity = this.table.entity;\n\n    // Table columns\n    exportCnfg.columns = tableOptions.visibleColumns.filter(c => colsNotIncluded.indexOf(c) === -1);\n    // Table column names\n    const tableColumnNames = {};\n    tableOptions.visibleColumns.filter(c => colsNotIncluded.indexOf(c) === -1).forEach(c => {\n      const oColumn = tableOptions.columns.find(oc => oc.attr === c);\n      tableColumnNames[c] = this.translateService.get(oColumn.title ? oColumn.title : oColumn.attr);\n    });\n    exportCnfg.columnNames = tableColumnNames;\n    // Table column sqlTypes\n    exportCnfg.sqlTypes = this.table.getSqlTypes();\n    // Table service, needed for configuring ontimize export service with table service configuration\n    exportCnfg.service = this.table.service;\n    exportCnfg.serviceType = this.table.exportServiceType;\n    exportCnfg.visibleButtons = this.table.visibleExportDialogButtons;\n    exportCnfg.options = this.table.exportOptsTemplate;\n\n    this.dialog.open(OTableExportDialogComponent, {\n      data: exportCnfg,\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n  }\n\n  onChangeColumnsVisibilityClicked() {\n    const dialogRef = this.dialog.open(OTableVisibleColumnsDialogComponent, {\n      data: {\n        visibleColumns: Util.parseArray(this.table.visibleColumns, true),\n        columnsData: this.table.oTableOptions.columns,\n        rowHeight: this.table.rowHeight\n      },\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.table.visibleColArray = dialogRef.componentInstance.getVisibleColumns();\n        const columnsOrder = dialogRef.componentInstance.getColumnsOrder();\n        this.table.oTableOptions.columns.sort((a: OColumn, b: OColumn) => columnsOrder.indexOf(a.attr) - columnsOrder.indexOf(b.attr));\n        this.table.cd.detectChanges();\n        this.table.refreshColumnsWidth();\n        this.table.onVisibleColumnsChange.emit(this.table.visibleColArray);\n      }\n    });\n  }\n\n  onFilterByColumnClicked() {\n    if (this.table.showFilterByColumnIcon && this.table.dataSource.isColumnValueFilterActive()) {\n      const self = this;\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN').then(res => {\n        if (res) {\n          self.table.clearColumnFilters();\n        }\n        self.table.showFilterByColumnIcon = !res;\n      });\n    } else {\n      this.table.showFilterByColumnIcon = !this.table.showFilterByColumnIcon;\n    }\n  }\n\n  public onStoreFilterClicked(): void {\n    const dialogRef = this.dialog.open(OTableStoreFilterDialogComponent, {\n      data: this.table.oTableStorage.getStoredFilters().map(filter => filter.name),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.table.oTableStorage.storeFilter(dialogRef.componentInstance.getFilterAttributes());\n      }\n    });\n  }\n\n  public onLoadFilterClicked(): void {\n    const dialogRef = this.dialog.open(OTableLoadFilterDialogComponent, {\n      data: this.table.oTableStorage.getStoredFilters(),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.componentInstance.onDelete.subscribe(filterName => this.table.oTableStorage.deleteStoredFilter(filterName));\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const selectedFilterName: string = dialogRef.componentInstance.getSelectedFilterName();\n        if (selectedFilterName) {\n          const storedFilter = this.table.oTableStorage.getStoredFilterConf(selectedFilterName);\n          if (storedFilter) {\n            this.table.setFiltersConfiguration(storedFilter);\n            this.table.reloadPaginatedDataFromStart();\n          }\n        }\n      }\n    });\n  }\n\n  onClearFilterClicked(): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_CLEAR_FILTER').then(result => {\n      if (result) {\n        this.table.clearFilters();\n        this.table.reloadPaginatedDataFromStart();\n      }\n    });\n  }\n\n  public onStoreConfigurationClicked(): void {\n    const dialogRef = this.dialog.open(OTableStoreConfigurationDialogComponent, {\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const configurationData = dialogRef.componentInstance.getConfigurationAttributes();\n        const tableProperties = dialogRef.componentInstance.getSelectedTableProperties();\n        self.table.oTableStorage.storeConfiguration(configurationData, tableProperties);\n      }\n    });\n  }\n\n  public onApplyConfigurationClicked(): void {\n    const dialogRef = this.dialog.open(OTableApplyConfigurationDialogComponent, {\n      data: this.table.oTableStorage.getStoredConfigurations(),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.componentInstance.onDelete.subscribe(configurationName => this.table.oTableStorage.deleteStoredConfiguration(configurationName));\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && dialogRef.componentInstance.isDefaultConfigurationSelected()) {\n        self.table.applyDefaultConfiguration();\n      } else if (result) {\n        const selectedConfigurationName: string = dialogRef.componentInstance.getSelectedConfigurationName();\n        if (selectedConfigurationName) {\n          self.table.applyConfiguration(selectedConfigurationName);\n        }\n      }\n    });\n  }\n\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatCheckboxChange, MatMenu } from '@angular/material';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { O_INPUTS_OPTIONS } from '../../../../../config/app-config';\nimport { OTableOptions } from '../../../../../interfaces/o-table-options.interface';\nimport { OTableQuickfilter } from '../../../../../interfaces/o-table-quickfilter.interface';\nimport { Expression } from '../../../../../types/expression.type';\nimport { OInputsOptions } from '../../../../../types/o-inputs-options.type';\nimport { FilterExpressionUtils } from '../../../../../util/filter-expression.utils';\nimport { Util } from '../../../../../util/util';\nimport {\n  OTableCellRendererServiceComponent,\n} from '../../../column/cell-renderer/service/o-table-cell-renderer-service.component';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_QUICKFILTER = [];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER = [\n  'onChange'\n];\n\n@Component({\n  selector: 'o-table-quickfilter',\n  templateUrl: './o-table-quickfilter.component.html',\n  styleUrls: ['./o-table-quickfilter.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_QUICKFILTER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-quickfilter]': 'true',\n  }\n})\nexport class OTableQuickfilterComponent implements OTableQuickfilter, OnInit, AfterViewInit, OnDestroy {\n\n  @ViewChild('filter', { static: false })\n  public filter: ElementRef;\n\n  @ViewChild('menu', { static: true })\n  public matMenu: MatMenu;\n\n  public value: string;\n  public onChange: EventEmitter<string> = new EventEmitter<string>();\n\n  public formControl;\n\n  protected oInputsOptions: OInputsOptions;\n  protected quickFilterObservable: Subscription;\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.formControl = new FormControl();\n  }\n\n  public ngOnInit(): void {\n    this.table.registerQuickFilter(this);\n    // workaround because 'x-position=\"before\"' was not working in the template\n    this.matMenu.xPosition = 'before';\n  }\n\n  public ngAfterViewInit(): void {\n    this.initializeEventFilter();\n\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  public ngOnDestroy(): void {\n    if (this.quickFilterObservable) {\n      this.quickFilterObservable.unsubscribe();\n    }\n  }\n\n  get oTableOptions(): OTableOptions {\n    return this.table.oTableOptions;\n  }\n\n  get quickFilterColumns(): OColumn[] {\n    return this.table.oTableOptions.columns.filter(oCol => {\n      // CHECK: Why columns with renderers are not filtered?\n      // return oCol.searchable && oCol.visible && !Util.isDefined(oCol.renderer);\n      return oCol.searchable && oCol.visible;\n    });\n  }\n\n  get filterExpression(): Expression {\n    let result: Expression = this.getUserFilter();\n    if (!Util.isDefined(result) && Util.isDefined(this.value) && this.value.length > 0) {\n      const expressions: Expression[] = [];\n      this.oTableOptions.columns\n        .filter((oCol: OColumn) => oCol.searching && oCol.visible && this.isFilterableColumn(oCol))\n        .forEach((oCol: OColumn) => {\n          // CHECK: Why columns with renderers are not filtered?\n          // if (!oCol.renderer) {\n          if (oCol.filterExpressionFunction) {\n            expressions.push(oCol.filterExpressionFunction(oCol.attr, this.value));\n          } else if (oCol.renderer instanceof OTableCellRendererServiceComponent) {\n            // Filter column with service renderer. Look for the value in the renderer cache\n            const expr = oCol.renderer.getFilterExpression(this.value);\n            if (expr) {\n              expressions.push(expr);\n            }\n            // }\n            //  else if (SQLTypes.isNumericSQLType(oCol.sqlType)) {\n            //   // Filter numeric column\n            //   const numValue: any = SQLTypes.parseUsingSQLType(this.value, SQLTypes.getSQLTypeKey(oCol.sqlType));\n            //   if (numValue) {\n            //     expressions.push(FilterExpressionUtils.buildExpressionEquals(oCol.attr, numValue));\n            //   }\n          } else {\n            // Default\n            expressions.push(FilterExpressionUtils.buildExpressionLike(oCol.attr, this.value));\n          }\n        });\n      if (expressions.length > 0) {\n        result = expressions.reduce((a, b) => FilterExpressionUtils.buildComplexExpression(a, b, FilterExpressionUtils.OP_OR));\n      }\n    }\n    return result;\n  }\n\n  public getUserFilter(): Expression {\n    let result: Expression;\n    if (this.table.quickFilterCallback instanceof Function) {\n      const userFilter = this.table.quickFilterCallback(this.value);\n      if (Util.isDefined(userFilter) && FilterExpressionUtils.instanceofExpression(userFilter)) {\n        result = (userFilter as Expression);\n      } else if (Util.isDefined(userFilter)) {\n        result = FilterExpressionUtils.buildExpressionFromObject(userFilter);\n      }\n    }\n    return result;\n  }\n\n  public initializeEventFilter(): void {\n    if (this.filter && !this.quickFilterObservable) {\n      this.quickFilterObservable = fromEvent(this.filter.nativeElement, 'keyup')\n        .pipe(debounceTime(150))\n        .pipe(distinctUntilChanged())\n        .subscribe(() => {\n          const filterVal = this.filter.nativeElement.value;\n          if (!this.table.dataSource || this.value === filterVal) {\n            return;\n          }\n          this.setValue(filterVal);\n          this.onChange.emit(this.value);\n        });\n\n      // if exists filter value in storage then filter result table\n      const filterValue = this.value || this.filter.nativeElement.value;\n      // this.filter.nativeElement.value = filterValue;\n      this.formControl.setValue(filterValue);\n      if (this.table.dataSource && filterValue && filterValue.length) {\n        this.table.dataSource.quickFilter = filterValue;\n      }\n    }\n  }\n\n  public setValue(value: any, trigger: boolean = true): void {\n    this.value = value;\n    if (trigger && this.table && this.table.dataSource) {\n      this.table.dataSource.quickFilter = this.value;\n    }\n  }\n\n  public onMenuClosed(): void {\n    this.setValue(this.value);\n    this.onChange.emit(this.value);\n  }\n\n  public isChecked(column: OColumn): boolean {\n    return column.searching;\n  }\n\n  public onCheckboxChange(column: OColumn, event: MatCheckboxChange): void {\n    column.searching = event.checked;\n  }\n\n  public showCaseSensitiveCheckbox(): boolean {\n    return this.table.showCaseSensitiveCheckbox();\n  }\n\n  public areAllColumnsChecked(): boolean {\n    let result: boolean = true;\n    this.quickFilterColumns.forEach((col: OColumn) => {\n      result = result && col.searching;\n    });\n    return result;\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    this.quickFilterColumns.forEach((col: OColumn) => {\n      col.searching = event.checked;\n    });\n  }\n\n  protected isFilterableColumn(column: OColumn): boolean {\n    return !column.renderer || (\n      column.type === 'string' ||\n      column.type === 'translate' ||\n      column.type === 'integer' ||\n      column.type === 'real' ||\n      column.type === 'percentage' ||\n      column.type === 'currency' ||\n      column.type === 'service'\n    );\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { OColumnValueFilter } from '../../../../../types/o-column-value-filter.type';\nimport { OColumn } from '../../../column';\nimport { OTableComponent } from '../../../o-table.component';\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER_ICON = [\n  'column'\n]\n\n@Component({\n  selector: 'o-table-header-column-filter-icon',\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER_ICON,\n  templateUrl: './o-table-header-column-filter-icon.component.html',\n  styleUrls: ['./o-table-header-column-filter-icon.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-column-filter-icon]': 'true'\n  }\n})\nexport class OTableHeaderColumnFilterIconComponent implements OnInit, OnDestroy {\n\n  public column: OColumn;\n  public columnValueFilters: Array<OColumnValueFilter> = [];\n\n  public isColumnFilterActive: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  public indicatorNumber: BehaviorSubject<string> = new BehaviorSubject('');\n  private subscription = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent\n  ) {\n    const self = this;\n    const sFilterByColumnChange = this.table.onFilterByColumnChange.subscribe(x => {\n      self.updateStateColumnFilter(x);\n    });\n    this.subscription.add(sFilterByColumnChange);\n  }\n\n  ngOnInit(): void {\n    this.updateStateColumnFilter(this.table.dataSource.getColumnValueFilters());\n  }\n\n  public updateStateColumnFilter(columnValueFilters: Array<OColumnValueFilter>) {\n    this.columnValueFilters = columnValueFilters;\n    this.indicatorNumber.next(this.getFilterIndicatorNumbered());\n    this.isColumnFilterActive.next(this.getColumnValueFilterByAttr() !== undefined);\n  }\n\n  public getColumnValueFilterByAttr(): OColumnValueFilter {\n    return this.columnValueFilters.filter(item => item.attr === this.column.attr)[0];\n  }\n\n  public openColumnFilterDialog(event) {\n    this.table.openColumnFilterDialog(this.column, event);\n  }\n\n  public getFilterIndicatorNumbered(): string {\n    let result = '';\n\n    const columnsValueFilters = this.columnValueFilters;\n    if (columnsValueFilters.length < 2) { return result; }\n\n    const index = columnsValueFilters.findIndex(x => x.attr === this.column.attr);\n    if (index > -1) {\n      result += index + 1;\n    }\n\n    return result;\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","import { OTableButtonComponent } from './table-button/o-table-button.component';\nimport { OTableButtonsComponent } from './table-buttons/o-table-buttons.component';\nimport { OTableColumnResizerComponent } from './table-column-resizer/o-table-column-resizer.component';\nimport { OTableColumnsFilterComponent } from './table-columns-filter/o-table-columns-filter.component';\nimport { OTableInsertableRowComponent } from './table-insertable-row/o-table-insertable-row.component';\nimport { OTableMenuComponent } from './table-menu/o-table-menu.component';\nimport { OTableOptionComponent } from './table-option/o-table-option.component';\nimport { OTableQuickfilterComponent } from './table-quickfilter/o-table-quickfilter.component';\nimport { OTableColumnsFilterColumnComponent } from './table-columns-filter/columns/o-table-columns-filter-column.component';\nimport { OTableHeaderColumnFilterIconComponent } from './table-header-column-filter-icon/o-table-header-column-filter-icon.component';\n\nexport const O_TABLE_HEADER_COMPONENTS = [\n  OTableButtonComponent,\n  OTableButtonsComponent,\n  OTableColumnResizerComponent,\n  OTableColumnsFilterComponent,\n  OTableMenuComponent,\n  OTableOptionComponent,\n  OTableInsertableRowComponent,\n  OTableQuickfilterComponent,\n  OTableColumnsFilterColumnComponent,\n  OTableHeaderColumnFilterIconComponent\n];\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'oTableRowClass' })\nexport class OTableRowClassPipe implements PipeTransform {\n\n  transform(rowData: any, rowIndex: number, rowClassFn?: (row: any, index: number) => string | string[]): string | string[] {\n    return rowClassFn ? rowClassFn(rowData, rowIndex) : '';\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef, forwardRef, Inject, OnDestroy, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OTableComponent } from '../../o-table.component';\n\n@Directive({\n  selector: '[oTableRow]'\n})\nexport class OTableRowDirective implements AfterViewInit, OnDestroy {\n  protected resizeSubscription: Subscription;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected elementRef: ElementRef,\n    protected renderer: Renderer2\n  ) {\n  }\n\n  ngAfterViewInit() {\n    this.registerResize();\n  }\n\n  ngOnDestroy(): void {\n    if (this.resizeSubscription) {\n      this.resizeSubscription.unsubscribe();\n    }\n  }\n\n  registerResize() {\n    if (this.table.horizontalScroll) {\n      const self = this;\n      this.table.onUpdateScrolledState.subscribe(scrolled => {\n        setTimeout(() => {\n          if (scrolled) {\n            self.calculateRowWidth();\n          } else {\n            self.setRowWidth(undefined);\n          }\n        }, 0);\n      });\n    }\n  }\n\n  calculateRowWidth() {\n    if (!this.table.horizontalScroll) {\n      return;\n    }\n    if (this.alreadyScrolled) {\n      this.setRowWidth(this.table.rowWidth);\n    }\n    let totalWidth: number = 0;\n    try {\n      this.elementRef.nativeElement.childNodes.forEach(element => {\n        if (element && element.tagName && element.tagName.toLowerCase() === 'mat-cell') {\n          totalWidth += element.clientWidth;\n        }\n      });\n    } catch (error) {\n      //\n    }\n    if (!isNaN(totalWidth) && totalWidth > 0) {\n      totalWidth += 48;\n      this.setRowWidth(totalWidth);\n    }\n  }\n\n  setRowWidth(value: number) {\n    const widthValue = value !== undefined ? value + 'px' : 'auto';\n    this.renderer.setStyle(this.elementRef.nativeElement, 'width', widthValue);\n    this.table.rowWidth = value;\n  }\n\n  get alreadyScrolled(): boolean {\n    return this.table.rowWidth !== undefined;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MAT_SORT_HEADER_INTL_PROVIDER } from '@angular/material';\n\nimport { OMatSort } from './o-mat-sort';\nimport { OMatSortHeader } from './o-mat-sort-header';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [OMatSort, OMatSortHeader],\n  declarations: [OMatSort, OMatSortHeader],\n  providers: [MAT_SORT_HEADER_INTL_PROVIDER]\n})\nexport class OMatSortModule { }\n","import { DragDropModule } from '@angular/cdk/drag-drop';\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatPaginatorIntl } from '@angular/material';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OContextMenuModule } from '../contextmenu/o-context-menu.module';\nimport { OTableColumnCalculatedComponent } from './column/calculated/o-table-column-calculated.component';\nimport { O_TABLE_CELL_EDITORS } from './column/cell-editor/cell-editor';\nimport { O_TABLE_CELL_RENDERERS } from './column/cell-renderer/cell-renderer';\nimport { OTableColumnComponent } from './column/o-table-column.component';\nimport { OTableContextMenuComponent } from './extensions/contextmenu/o-table-context-menu.component';\nimport { O_TABLE_DIALOGS } from './extensions/dialog/o-table-dialog-components';\nimport { OTableExportButtonComponent } from './extensions/export-button/o-table-export-button.component';\nimport { OTableExportButtonService } from './extensions/export-button/o-table-export-button.service';\nimport { OTableColumnAggregateComponent } from './extensions/footer/aggregate/o-table-column-aggregate.component';\nimport { OTableExpandedFooterDirective } from './extensions/footer/expanded/o-table-expanded-footer.directive';\nimport { O_TABLE_FOOTER_COMPONENTS } from './extensions/footer/o-table-footer-components';\nimport { OTableMatPaginatorIntl } from './extensions/footer/paginator/o-table-mat-paginator-intl';\nimport { O_TABLE_HEADER_COMPONENTS } from './extensions/header/o-table-header-components';\nimport { OTableRowClassPipe } from './extensions/pipes/o-table-row-class.pipe';\nimport { OTableRowDirective } from './extensions/row/o-table-row.directive';\nimport { OMatSortModule } from './extensions/sort/o-mat-sort-module';\nimport { OTableComponent } from './o-table.component';\nimport { OTableRowExpandableComponent } from './extensions/row/table-row-expandable/o-table-row-expandable.component';\nimport { PortalModule } from '@angular/cdk/portal';\n\n@NgModule({\n  declarations: [\n    OTableComponent,\n    OTableColumnComponent,\n    OTableColumnCalculatedComponent,\n    OTableContextMenuComponent,\n    OTableRowDirective,\n    OTableExpandedFooterDirective,\n    OTableExportButtonComponent,\n    OTableRowClassPipe,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_DIALOGS,\n    ...O_TABLE_HEADER_COMPONENTS,\n    ...O_TABLE_FOOTER_COMPONENTS,\n    OTableRowExpandableComponent\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule,\n    CdkTableModule,\n    DragDropModule,\n    PortalModule,\n    OContextMenuModule,\n    ObserversModule,\n    OMatSortModule,\n    NgxMaterialTimepickerModule\n  ],\n  exports: [\n    OTableComponent,\n    OTableColumnComponent,\n    CdkTableModule,\n    OTableColumnCalculatedComponent,\n    OTableContextMenuComponent,\n    OTableRowDirective,\n    OTableExpandedFooterDirective,\n    OMatSortModule,\n    OTableExportButtonComponent,\n    OTableRowClassPipe,\n    ...O_TABLE_HEADER_COMPONENTS,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_FOOTER_COMPONENTS,\n    OTableRowExpandableComponent\n  ],\n  entryComponents: [\n    OTableColumnAggregateComponent,\n    OTableContextMenuComponent,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_DIALOGS\n  ],\n  providers: [\n    OTableExportButtonService,\n    { provide: MatPaginatorIntl, useClass: OTableMatPaginatorIntl }\n  ]\n})\nexport class OTableModule { }\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { HostListener, Injectable, Injector } from '@angular/core';\nimport { Observable, Subscriber, Subscription, timer } from 'rxjs';\n\nimport { AppConfig } from '../config/app-config';\nimport { ServiceResponse } from '../interfaces/service-response.interface';\nimport { ORemoteConfiguration, ORemoteConfigurationColumns } from '../types/remote-configuration.type';\nimport { SessionInfo } from '../types/session-info.type';\nimport { Codes } from '../util/codes';\nimport { Util } from '../util/util';\nimport { LocalStorageService } from './local-storage.service';\nimport { LoginStorageService } from './login-storage.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ORemoteConfigurationService {\n\n  public static DEFAULT_COLUMN_USER = 'USER_';\n  public static DEFAULT_COLUMN_APPID = 'APP_UUID';\n  public static DEFAULT_COLUMN_CONFIG = 'CONFIGURATION';\n  public static DEFAULT_STORAGE_TIMEOUT = 60000;\n\n  protected localStorageService: LocalStorageService;\n  protected loginStorageService: LoginStorageService;\n  protected httpClient: HttpClient;\n  protected _appConfig: AppConfig;\n  protected _url: string;\n  protected _uuid: string;\n  protected _timeout: number;\n  protected timerSubscription: Subscription;\n  protected storeSubscription: Subscription;\n\n  protected _columns: ORemoteConfigurationColumns = {\n    user: ORemoteConfigurationService.DEFAULT_COLUMN_USER,\n    appId: ORemoteConfigurationService.DEFAULT_COLUMN_APPID,\n    configuration: ORemoteConfigurationService.DEFAULT_COLUMN_CONFIG\n  };\n\n  @HostListener('window:beforeunload', [])\n  beforeunloadHandler() {\n    this.finalize().subscribe(() => {\n      //\n    });\n  }\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._appConfig = this.injector.get(AppConfig);\n    this.loginStorageService = this.injector.get(LoginStorageService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n\n    this.httpClient = this.injector.get(HttpClient);\n    this._uuid = this._appConfig.getConfiguration().uuid;\n\n    if (this._appConfig.useRemoteConfiguration()) {\n      this._url = this._appConfig.getRemoteConfigurationEndpoint();\n\n      const remoteConfig: ORemoteConfiguration = this._appConfig.getRemoteConfigurationConfig();\n      this._columns = (remoteConfig && remoteConfig.columns) ? Object.assign(this._columns, remoteConfig.columns) : this._columns;\n\n      this._timeout = (remoteConfig && remoteConfig.timeout) ? remoteConfig.timeout : ORemoteConfigurationService.DEFAULT_STORAGE_TIMEOUT;\n      const self = this;\n      this.localStorageService.onSetLocalStorage.subscribe(() => {\n        if (self.storeSubscription) {\n          self.storeSubscription.unsubscribe();\n        }\n      });\n    }\n  }\n\n  public getUserConfiguration(): Observable<ServiceResponse> {\n    const self = this;\n    const observable = new Observable((observer: Subscriber<ServiceResponse>) => {\n      const sessionInfo = self.loginStorageService.getSessionInfo();\n      if (!self.hasSession(sessionInfo)) {\n        observer.error();\n        return;\n      }\n      const url = self._url + '/search';\n      const body: any = {};\n      body[self._columns.user] = sessionInfo.user;\n      body[self._columns.appId] = self._uuid;\n      const options = {\n        headers: self.buildHeaders()\n      };\n      self.httpClient.post(url, body, options).subscribe((resp: ServiceResponse) => {\n        if (resp && resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE && Util.isDefined(resp.data)) {\n          observer.next(resp);\n        } else {\n          observer.error();\n        }\n      },\n        (error) => observer.error(error),\n        () => observer.complete());\n    });\n    return observable;\n  }\n\n  public storeUserConfiguration(): Observable<any> {\n    const self = this;\n    if (self.storeSubscription) {\n      self.storeSubscription.unsubscribe();\n    }\n    const observable = new Observable((observer: Subscriber<ServiceResponse>) => {\n      const sessionInfo = self.loginStorageService.getSessionInfo();\n      if (!self._appConfig.useRemoteConfiguration() || !self.hasSession(sessionInfo)) {\n        observer.next();\n        observer.complete();\n        return;\n      }\n      const url = self._url;\n      const body: any = { filter: {}, data: {} };\n      body.filter[self._columns.user] = sessionInfo.user;\n      body.filter[self._columns.appId] = self._uuid;\n      let userData = self.localStorageService.getSessionUserComponentsData() || '';\n      try {\n        userData = btoa(JSON.stringify(userData));\n      } catch (e) {\n        userData = '';\n      }\n      body.data[self._columns.configuration] = userData;\n      const options = {\n        headers: self.buildHeaders()\n      };\n      self.httpClient.put(url, body, options).subscribe((resp: ServiceResponse) => {\n        if (resp && resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          observer.next(resp);\n        } else {\n          observer.error();\n        }\n      }, (error) => observer.error(error),\n        () => observer.complete());\n    });\n    return observable;\n  }\n\n  public initialize(): Observable<any> {\n    const self = this;\n    return new Observable(observer => {\n      if (self._appConfig.useRemoteConfiguration()) {\n        self.timerSubscription = timer(self._timeout, self._timeout).subscribe(() => {\n          self.storeSubscription = self.storeUserConfiguration().subscribe(() => {\n            //\n          });\n        });\n        self.getUserConfiguration().subscribe((resp: ServiceResponse) => {\n          let storedConf;\n          if (Util.isArray(resp.data)) {\n            storedConf = resp.data[0][self._columns.configuration];\n          } else {\n            storedConf = resp.data;\n          }\n          if (Util.isDefined(storedConf)) {\n            let componentsData;\n            try {\n              const decoded = atob(storedConf);\n              componentsData = JSON.parse(decoded);\n            } catch (e) {\n              componentsData = {};\n            }\n            self.localStorageService.storeSessionUserComponentsData(componentsData);\n          }\n          observer.next();\n        }, () => {\n          observer.next();\n        });\n      } else {\n        observer.next();\n      }\n    });\n  }\n\n  public finalize(): Observable<any> {\n    if (this.timerSubscription) {\n      this.timerSubscription.unsubscribe();\n    }\n    return this.storeUserConfiguration();\n  }\n\n  protected hasSession(sessionInfo: SessionInfo): boolean {\n    return Util.isDefined(sessionInfo) && Util.isDefined(sessionInfo.user) && Util.isDefined(sessionInfo.id);\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    const sessionInfo = this.loginStorageService.getSessionInfo();\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8',\n      Authorization: 'Bearer ' + sessionInfo.id\n    });\n  }\n\n}\n","import { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { combineLatest, Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../config/app-config';\nimport { IAuthService } from '../interfaces/auth-service.interface';\nimport { ILoginService } from '../interfaces/login-service.interface';\nimport { DialogService } from '../services/dialog.service';\nimport { PermissionsService } from '../services/permissions/permissions.service';\nimport { ORemoteConfigurationService } from '../services/remote-config.service';\nimport { Config } from '../types/config.type';\nimport { SessionInfo } from '../types/session-info.type';\nimport { ObservableWrapper } from '../util/async';\nimport { Codes } from '../util/codes';\nimport { ServiceUtils } from '../util/service.utils';\nimport { LoginStorageService } from './login-storage.service';\nimport { OntimizeService } from './ontimize/ontimize.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginService implements ILoginService {\n\n  public onLogin: EventEmitter<any> = new EventEmitter();\n  public onLogout: EventEmitter<any> = new EventEmitter();\n\n  private _user: string;\n  private _config: Config;\n  private router: Router;\n  private ontService: OntimizeService;\n  private dialogService: DialogService;\n  private loginStorageService: LoginStorageService;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this.router = this.injector.get(Router);\n    this.loginStorageService = this.injector.get(LoginStorageService);\n    const sessionInfo = this.loginStorageService.getSessionInfo();\n    if (sessionInfo && sessionInfo.id && sessionInfo.user && sessionInfo.user.length > 0) {\n      this._user = sessionInfo.user;\n    }\n    this.dialogService = injector.get(DialogService);\n  }\n\n  public get user(): string {\n    return this._user;\n  }\n\n  public get localStorageKey(): string {\n    return this.loginStorageService._localStorageKey;\n  }\n\n  public configureOntimizeAuthService(config: object): void {\n    this.ontService = this.injector.get(OntimizeService);\n    const servConf = {};\n    servConf[Codes.SESSION_KEY] = this.loginStorageService.getSessionInfo();\n    this.ontService.configureService(servConf);\n  }\n\n  public retrieveAuthService(): Promise<IAuthService> {\n    return new Promise<IAuthService>(resolve => {\n      if (this.ontService !== undefined) {\n        resolve(this.ontService);\n      } else {\n        this.configureOntimizeAuthService(this._config);\n        resolve(this.ontService);\n      }\n    });\n  }\n\n  public login(user: string, password: string): Observable<any> {\n    this._user = user;\n    const dataObservable: Observable<any> = new Observable(observer => {\n      this.retrieveAuthService().then(service => {\n        service.startsession(user, password).subscribe(resp => {\n          this.onLoginSuccess(resp);\n          const permissionsService = this.injector.get(PermissionsService);\n          const remoteConfigService = this.injector.get(ORemoteConfigurationService);\n          const pendingArray = [];\n          pendingArray.push(permissionsService.getUserPermissionsAsPromise());\n          pendingArray.push(remoteConfigService.initialize());\n          combineLatest(pendingArray).subscribe(() => {\n            observer.next();\n            observer.complete();\n          });\n        }, error => {\n          this.onLoginError(error);\n          observer.error(error);\n        });\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public onLoginSuccess(sessionId: string | number): void {\n    // save user and sessionid into local storage\n    const session = {\n      user: this._user,\n      id: sessionId\n    };\n    this.loginStorageService.storeSessionInfo(session);\n    ObservableWrapper.callEmit(this.onLogin, session);\n  }\n\n  public onLoginError(error: any): void {\n    this.dialogService.alert('ERROR', 'MESSAGES.ERROR_LOGIN');\n  }\n\n  public logout(): Observable<any> {\n    ObservableWrapper.callEmit(this.onLogout, null);\n    const sessionInfo = this.loginStorageService.getSessionInfo();\n    const dataObservable: Observable<any> = new Observable(innerObserver => {\n      this.retrieveAuthService().then(service => {\n        service.endsession(sessionInfo.user, sessionInfo.id).subscribe(resp => {\n          const remoteConfigService = this.injector.get(ORemoteConfigurationService);\n          remoteConfigService.finalize().subscribe(() => {\n            this.onLogoutSuccess(resp);\n            innerObserver.next();\n            innerObserver.complete();\n          });\n        }, error => {\n          this.onLogoutError(error);\n          innerObserver.error(error);\n        });\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public onLogoutSuccess(sessionId: number): void {\n    if (sessionId === 0) {\n      this.sessionExpired();\n    }\n  }\n\n  public onLogoutError(error: any): void {\n    console.error('Error on logout');\n  }\n\n  public sessionExpired(): void {\n    this.loginStorageService.sessionExpired();\n  }\n\n  public isLoggedIn(): boolean {\n    return this.loginStorageService.isLoggedIn();\n  }\n\n  public logoutAndRedirect(): void {\n    this.logout().subscribe(() => {\n      ServiceUtils.redirectLogin(this.router, false);\n    });\n  }\n\n  public logoutWithConfirmationAndRedirect(): void {\n    this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_LOGOUT').then(res => {\n      if (res) {\n        this.logoutAndRedirect();\n      }\n    });\n  }\n\n  public getSessionInfo(): SessionInfo {\n    return this.loginStorageService.getSessionInfo();\n  }\n\n  public storeSessionInfo(info: SessionInfo): void {\n    this.loginStorageService.storeSessionInfo(info);\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nexport interface UserInfo {\n  username?: string;\n  avatar?: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OUserInfoService {\n  protected storedInfo: UserInfo;\n  private subject = new Subject<any>();\n\n  constructor(protected injector: Injector) {\n  }\n\n  setUserInfo(info: UserInfo) {\n    this.storedInfo = info;\n    this.subject.next(info);\n  }\n\n  getUserInfo(): UserInfo {\n    return this.storedInfo;\n  }\n\n  getUserInfoObservable(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n}\n","import { Component, ElementRef, Injector, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { DialogService } from '../../services/dialog.service';\nimport { LoginService } from '../../services/login.service';\nimport { OUserInfoService, UserInfo } from '../../services/o-user-info.service';\n\nexport const DEFAULT_INPUTS_O_USER_INFO = [];\n\nexport const DEFAULT_OUTPUTS_O_USER_INFO = [];\n\n@Component({\n  selector: 'o-user-info',\n  inputs: DEFAULT_INPUTS_O_USER_INFO,\n  outputs: DEFAULT_OUTPUTS_O_USER_INFO,\n  templateUrl: './o-user-info.component.html',\n  styleUrls: ['./o-user-info.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-user-info]': 'true'\n  }\n})\nexport class OUserInfoComponent implements OnDestroy {\n\n  protected dialogService: DialogService;\n  protected loginService: LoginService;\n  protected oUserInfoService: OUserInfoService;\n\n  userInfoSubscription: Subscription;\n  protected userInfo: UserInfo;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    protected router: Router\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.loginService = this.injector.get(LoginService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n\n    this.userInfo = this.oUserInfoService.getUserInfo();\n    this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n      this.userInfo = res;\n    });\n  }\n\n  ngOnDestroy() {\n    this.userInfoSubscription.unsubscribe();\n  }\n\n  onLogoutClick() {\n    this.loginService.logoutWithConfirmationAndRedirect();\n  }\n\n  onSettingsClick() {\n    this.router.navigate(['main/settings']);\n  }\n\n  get existsUserInfo(): boolean {\n    return this.userInfo !== undefined;\n  }\n\n  get avatar(): string {\n    return this.userInfo ? this.userInfo.avatar : undefined;\n  }\n\n  get username(): string {\n    return this.userInfo ? this.userInfo.username : undefined;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OUserInfoComponent } from './o-user-info.component';\n\n@NgModule({\n  declarations: [OUserInfoComponent],\n  imports: [CommonModule, OSharedModule, RouterModule],\n  exports: [OUserInfoComponent]\n})\nexport class OUserInfoModule { }\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\nimport { Observable, Subject } from 'rxjs';\n\nimport { OTranslateService } from '../services/translate/o-translate.service';\n\nexport interface ModuleInfo {\n  name?: string;\n  route?: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OModulesInfoService {\n  protected storedInfo: ModuleInfo;\n  protected actRoute: ActivatedRoute;\n  protected router: Router;\n  protected translateService: OTranslateService;\n\n  private subject = new Subject<any>();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.actRoute = this.injector.get(ActivatedRoute);\n    this.translateService = this.injector.get(OTranslateService);\n\n    this.router.events.subscribe(ev => {\n      if (ev instanceof NavigationEnd) {\n        const translation = this.translateService.get(ev.url);\n        if (translation !== ev.url) {\n          this.setModuleInfo({\n            name: translation\n          });\n        }\n      }\n    });\n  }\n\n  setModuleInfo(info: ModuleInfo) {\n    this.storedInfo = info;\n    this.subject.next(info);\n  }\n\n  getModuleInfo(): ModuleInfo {\n    return this.storedInfo;\n  }\n\n  getModuleChangeObservable(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n}\n","import { Component, ElementRef, EventEmitter, Injector, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { DialogService } from '../../services/dialog.service';\nimport { OModulesInfoService } from '../../services/o-modules-info.service';\nimport { ServiceUtils } from '../../util/service.utils';\n\nexport const DEFAULT_INPUTS_O_APP_HEADER = [\n  'showUserInfo: show-user-info',\n  'showLanguageSelector: show-language-selector',\n  'useFlagIcons: use-flag-icons'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_HEADER = [\n  'onSidenavToggle'\n];\n\n@Component({\n  selector: 'o-app-header',\n  inputs: DEFAULT_INPUTS_O_APP_HEADER,\n  outputs: DEFAULT_OUTPUTS_O_APP_HEADER,\n  templateUrl: './o-app-header.component.html',\n  styleUrls: ['./o-app-header.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-header]': 'true'\n  }\n})\nexport class OAppHeaderComponent implements OnDestroy {\n\n  protected dialogService: DialogService;\n  protected modulesInfoService: OModulesInfoService;\n  protected _headerTitle = '';\n\n  protected modulesInfoSubscription: Subscription;\n\n  @InputConverter()\n  showUserInfo: boolean = true;\n  @InputConverter()\n  showLanguageSelector: boolean = true;\n  @InputConverter()\n  useFlagIcons: boolean = false;\n\n  public onSidenavToggle = new EventEmitter<void>();\n\n  constructor(\n    protected router: Router,\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.modulesInfoService = this.injector.get(OModulesInfoService);\n\n    this.modulesInfoSubscription = this.modulesInfoService.getModuleChangeObservable().subscribe(res => {\n      this.headerTitle = res.name;\n    });\n  }\n\n  ngOnDestroy() {\n    this.modulesInfoSubscription.unsubscribe();\n  }\n\n  onLogoutClick() {\n    this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_LOGOUT').then(res => {\n      if (res) {\n        ServiceUtils.redirectLogin(this.router, false);\n      }\n    });\n  }\n\n  get headerTitle(): string {\n    return this._headerTitle;\n  }\n\n  set headerTitle(value: string) {\n    this._headerTitle = value;\n  }\n\n  get showHeaderTitle(): boolean {\n    return this._headerTitle.length > 0;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OLanguageSelectorModule } from '../language-selector/o-language-selector.module';\nimport { OUserInfoModule } from '../user-info/o-user-info.module';\nimport { OAppHeaderComponent } from './o-app-header.component';\n\n@NgModule({\n  imports: [CommonModule, OLanguageSelectorModule, OUserInfoModule, OSharedModule],\n  declarations: [OAppHeaderComponent],\n  exports: [OAppHeaderComponent]\n})\nexport class OAppHeaderModule { }\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MediaObserver } from '@angular/flex-layout';\nimport { MatSidenav } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { MenuGroup, MenuItemUserInfo } from '../../interfaces/app-menu.interface';\nimport { AppMenuService } from '../../services/app-menu.service';\nimport { OUserInfoService, UserInfo } from '../../services/o-user-info.service';\nimport { MenuRootItem } from '../../types/menu-root-item.type';\nimport { Codes, OAppLayoutMode, OSidenavMode } from '../../util/codes';\nimport { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV = [\n  'opened',\n  'showUserInfo: show-user-info',\n  'showToggleButton: show-toggle-button',\n  'openedSidenavImg: opened-sidenav-image',\n  'closedSidenavImg: closed-sidenav-image',\n  'layoutMode: layout-mode',\n  'sidenavMode: sidenav-mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV = [\n  'onSidenavOpenedChange',\n  'onSidenavOpenedStart',\n  'onSidenavClosedStart',\n  'onSidenavToggle',\n  'afterSidenavToggle'\n];\n\n@Component({\n  selector: 'o-app-sidenav',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV,\n  templateUrl: './o-app-sidenav.component.html',\n  styleUrls: ['./o-app-sidenav.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-sidenav]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OAppSidenavComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  @ViewChild(MatSidenav, { static: false })\n  sidenav: MatSidenav;\n\n  protected routerSubscription: Subscription;\n  appMenuService: AppMenuService;\n  protected _menuRootArray: MenuRootItem[] = [];\n  protected _layoutMode: OAppLayoutMode = Codes.APP_LAYOUT_MODE_DESKTOP;\n  protected _sidenavMode: OSidenavMode;\n  @InputConverter()\n  protected opened: boolean = true;\n  _showUserInfo: boolean = true;\n  _showToggleButton: boolean = true;\n  openedSidenavImg: string;\n  closedSidenavImg: string;\n\n  onSidenavOpenedChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n  onSidenavOpenedStart: EventEmitter<void> = new EventEmitter<void>();\n  onSidenavClosedStart: EventEmitter<void> = new EventEmitter<void>();\n  onSidenavToggle: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterSidenavToggle: EventEmitter<boolean> = new EventEmitter<boolean>();\n  protected oUserInfoService: OUserInfoService;\n  protected userInfoSubscription: Subscription;\n  protected userInfo: UserInfo;\n\n  protected mediaWatch: Subscription;\n  protected manuallyClosed: boolean = false;\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef,\n    protected media: MediaObserver\n  ) {\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRootArray = this.appMenuService.getMenuRoots();\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    const self = this;\n    this.mediaWatch = this.media.asObservable().subscribe(() => {\n      if (self.isScreenSmall() && self.sidenav) {\n        self.sidenav.close();\n      }\n    });\n  }\n\n  @HostListener('window:resize', [])\n  onResize() {\n    if (!this.manuallyClosed && !this.isScreenSmall() && !this.isMobileMode()) {\n      this.sidenav.open();\n    }\n  }\n\n  ngOnInit() {\n    this.routerSubscription = this.router.events.subscribe(() => {\n      if (this.isScreenSmall()) {\n        this.sidenav.close();\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.showUserInfo && this.showToggleButton) {\n      this.userInfo = this.oUserInfoService.getUserInfo();\n      this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n        this.userInfo = res;\n        this.refreshMenuRoots();\n      });\n    }\n    this.refreshMenuRoots();\n  }\n\n  get layoutMode(): OAppLayoutMode {\n    return this._layoutMode;\n  }\n\n  set layoutMode(val: OAppLayoutMode) {\n    const m = Codes.OAppLayoutModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._layoutMode = m;\n    }\n  }\n\n  get sidenavMode(): OSidenavMode {\n    return this._sidenavMode;\n  }\n\n  set sidenavMode(val: OSidenavMode) {\n    const m = Codes.OSidenavModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._sidenavMode = m;\n    }\n  }\n\n  protected refreshMenuRoots() {\n    if (this.showUserInfo && this.userInfo && this._showToggleButton) {\n      const firstRoot = this.menuRootArray[0];\n      const alreadyExistsUserInfo = firstRoot ? firstRoot.id === 'user-info' : false;\n      if (alreadyExistsUserInfo) {\n        const userInfoItem: MenuItemUserInfo = (this.menuRootArray[0] as MenuGroup).items[0] as MenuItemUserInfo;\n        userInfoItem.id = this.userInfo.username;\n        userInfoItem.name = this.userInfo.username;\n        userInfoItem.user = this.userInfo.username;\n        userInfoItem.avatar = this.userInfo.avatar;\n      } else {\n        const userInfoItem: MenuItemUserInfo = {\n          id: this.userInfo.username,\n          name: this.userInfo.username,\n          user: this.userInfo.username,\n          avatar: this.userInfo.avatar\n        };\n        const menuGroupUserInfo: MenuGroup = {\n          id: 'user-info',\n          name: 'APP_LAYOUT.USER_PROFILE',\n          items: [userInfoItem],\n          opened: true,\n          icon: 'person_pin'\n        };\n        this.menuRootArray.unshift(menuGroupUserInfo);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n    }\n    if (this.userInfoSubscription) {\n      this.userInfoSubscription.unsubscribe();\n    }\n  }\n\n  isScreenSmall(): boolean {\n    return !this.manuallyClosed && this.media.isActive('lt-sm');\n  }\n\n  isMobileMode(): boolean {\n    return this._layoutMode === Codes.APP_LAYOUT_MODE_MOBILE;\n  }\n\n  isDesktopMode(): boolean {\n    return this._layoutMode === Codes.APP_LAYOUT_MODE_DESKTOP;\n  }\n\n  isSidenavOpened(): boolean {\n    return this.opened && !this.isMobileMode() && !this.isScreenSmall();\n  }\n\n  get menuRootArray(): MenuRootItem[] {\n    return this._menuRootArray;\n  }\n\n  set menuRootArray(val: MenuRootItem[]) {\n    this._menuRootArray = val;\n  }\n\n  toggleSidenav() {\n    const promise = this.sidenav.opened ? this.sidenav.close() : this.sidenav.open();\n    const self = this;\n    promise.then(() => {\n      self.afterSidenavToggle.emit(self.sidenav.opened);\n    });\n    this.cd.detectChanges();\n    this.opened = this.sidenav.opened;\n    this.manuallyClosed = !this.opened;\n    this.onSidenavToggle.emit(this.sidenav.opened);\n  }\n\n  get showUserInfo(): boolean {\n    return this._showUserInfo;\n  }\n\n  set showUserInfo(arg: boolean) {\n    this._showUserInfo = arg;\n  }\n\n  get showToggleButton(): boolean {\n    return this._showToggleButton;\n  }\n\n  set showToggleButton(arg: boolean) {\n    this._showToggleButton = arg;\n  }\n\n  onMenuItemClick(): void {\n    if (this.isMobileMode()) {\n      this.sidenav.close();\n    }\n  }\n\n  sidenavClosedStart() {\n    this.onSidenavClosedStart.emit();\n  }\n\n  sidenavOpenedStart() {\n    this.onSidenavOpenedStart.emit();\n  }\n\n  sidenavOpenedChange() {\n    this.onSidenavOpenedChange.emit();\n  }\n}\n\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE = [\n  'openedSrc: opened-src',\n  'closedSrc: closed-src'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE = [\n];\n\n@Component({\n  selector: 'o-app-sidenav-image',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE,\n  templateUrl: './o-app-sidenav-image.component.html',\n  styleUrls: ['./o-app-sidenav-image.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-sidenav-image]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OAppSidenavImageComponent implements OnInit, OnDestroy {\n\n  protected sidenav: OAppSidenavComponent;\n  protected openedSrc: string;\n  protected closedSrc: string;\n  private _src: string;\n\n  protected sidenavOpenSubs: Subscription;\n  protected sidenavCloseSubs: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n  }\n\n  ngOnInit() {\n    if (this.sidenav) {\n      const self = this;\n      this.sidenavOpenSubs = this.sidenav.onSidenavClosedStart.subscribe(() => {\n        self.updateImage();\n      });\n      this.sidenavCloseSubs = this.sidenav.onSidenavOpenedStart.subscribe(() => {\n        self.updateImage();\n      });\n    }\n    this.updateImage();\n  }\n\n  ngOnDestroy() {\n    if (this.sidenavOpenSubs) {\n      this.sidenavOpenSubs.unsubscribe();\n    }\n    if (this.sidenavCloseSubs) {\n      this.sidenavCloseSubs.unsubscribe();\n    }\n  }\n\n  updateImage() {\n    if (this.sidenav && this.sidenav.sidenav && this.sidenav.sidenav.opened) {\n      this.setOpenedImg();\n    } else {\n      this.setClosedImg();\n    }\n    this.cd.detectChanges();\n  }\n\n  set src(val: string) {\n    this._src = val;\n  }\n\n  get src() {\n    return this._src;\n  }\n\n  setOpenedImg() {\n    this.src = this.openedSrc;\n  }\n\n  setClosedImg() {\n    this.src = this.closedSrc;\n  }\n\n  get showImage(): boolean {\n    return (this._src !== undefined && this._src.length > 0);\n  }\n}\n","import { animate, state, style, transition, trigger } from '@angular/animations';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { MenuGroup } from '../../../interfaces/app-menu.interface';\nimport { AppMenuService } from '../../../services/app-menu.service';\nimport { PermissionsService } from '../../../services/permissions/permissions.service';\nimport { OTranslateService } from '../../../services/translate/o-translate.service';\nimport { OPermissions } from '../../../types/o-permissions.type';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { Util } from '../../../util/util';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP = [\n  'menuGroup : menu-group',\n  'sidenavOpened : sidenav-opened'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP = [\n  'onItemClick'\n];\n\n@Component({\n  selector: 'o-app-sidenav-menu-group',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP,\n  templateUrl: './o-app-sidenav-menu-group.component.html',\n  styleUrls: ['./o-app-sidenav-menu-group.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  animations: [\n    trigger('contentExpansion', [\n      state('collapsed', style({ height: '0px' })),\n      state('expanded', style({ height: '*' })),\n      transition('collapsed => expanded', animate('200ms ease-in')),\n      transition('expanded => collapsed', animate('200ms ease-out'))\n    ])\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': 'getClass()',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OAppSidenavMenuGroupComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public onItemClick: EventEmitter<any> = new EventEmitter<any>();\n\n  protected translateService: OTranslateService;\n  protected permissionsService: PermissionsService;\n\n  appMenuService: AppMenuService;\n  protected sidenav: OAppSidenavComponent;\n  protected sidenavSubscription: Subscription;\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  public menuGroup: MenuGroup;\n\n  @InputConverter()\n  sidenavOpened: boolean = true;\n\n  hidden: boolean;\n  disabled: boolean;\n  protected _contentExpansion;\n\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.permissionsService = this.injector.get(PermissionsService);\n\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n  }\n\n  ngOnInit() {\n    this.parsePermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.menuGroup.id === 'user-info' && this.sidenav) {\n      const self = this;\n      this.sidenavSubscription = this.sidenav.onSidenavOpenedChange.subscribe((opened) => {\n        self.disabled = ((!opened && Util.isDefined(opened)) || (Util.isDefined(self.permissions) && self.permissions && self.permissions.enabled === false));\n        self.updateContentExpansion();\n        self.cd.markForCheck();\n      });\n    }\n    this.updateContentExpansion();\n  }\n\n  ngOnDestroy() {\n    if (this.sidenavSubscription) {\n      this.sidenavSubscription.unsubscribe();\n    }\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.permissionsService.getMenuPermissions(this.menuGroup.id);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.hidden = this.permissions.visible === false;\n    this.disabled = this.permissions.enabled === false;\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  onClick() {\n    if (this.disabled) {\n      return;\n    }\n    this.menuGroup.opened = !this.menuGroup.opened;\n    this.updateContentExpansion();\n  }\n\n  updateContentExpansion() {\n    let isOpened = this.menuGroup && this.menuGroup.opened;\n    if (this.menuGroup.id === 'user-info') {\n      isOpened = (this.sidenav && this.sidenav.sidenav && this.sidenav.sidenav.opened) && isOpened;\n    }\n    this.contentExpansion = isOpened ? 'expanded' : 'collapsed';\n  }\n\n  get contentExpansion(): string {\n    return this._contentExpansion;\n  }\n\n  set contentExpansion(val: string) {\n    this._contentExpansion = val;\n    this.cd.detectChanges();\n  }\n\n  get tooltip() {\n    let result = this.translateService.get(this.menuGroup.name);\n    if (Util.isDefined(this.menuGroup.tooltip)) {\n      result += ': ' + this.translateService.get(this.menuGroup.tooltip);\n    }\n    return result;\n  }\n\n  onMenuItemClick(e: Event): void {\n    this.onItemClick.emit(e);\n  }\n\n  getClass() {\n    let className = 'o-app-sidenav-menu-group';\n    if (this.menuGroup.class) {\n      className += ' ' + this.menuGroup.class;\n    }\n    return className;\n  }\n}\n","import { Component, EventEmitter, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { OAppSidenavComponent } from '../../components/app-sidenav/o-app-sidenav.component';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { Codes, OAppLayoutMode, OSidenavMode } from '../../util/codes';\nimport { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_APP_LAYOUT = [\n  'mode',\n  'sidenavMode: sidenav-mode',\n  'sidenavOpened: sidenav-opened',\n  '_showHeader: show-header',\n  'showUserInfo: show-user-info',\n  'showLanguageSelector: show-language-selector',\n  'useFlagIcons: use-flag-icons',\n  'openedSidenavImg: opened-sidenav-image',\n  'closedSidenavImg: closed-sidenav-image'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_LAYOUT: any[] = [\n  'beforeOpenSidenav',\n  'afterOpenSidenav',\n  'beforeCloseSidenav',\n  'afterCloseSidenav'\n];\n\n@Component({\n  selector: 'o-app-layout',\n  inputs: DEFAULT_INPUTS_O_APP_LAYOUT,\n  outputs: DEFAULT_OUTPUTS_O_APP_LAYOUT,\n  templateUrl: './o-app-layout.component.html',\n  styleUrls: ['./o-app-layout.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class OAppLayoutComponent {\n\n  @InputConverter()\n  sidenavOpened: boolean = true;\n  @InputConverter()\n  showUserInfo: boolean = true;\n  @InputConverter()\n  showLanguageSelector: boolean = true;\n  @InputConverter()\n  useFlagIcons: boolean = false;\n  @InputConverter()\n  protected _showHeader: boolean;\n\n  @ViewChild('appSidenav', { static: false })\n  public appSidenav: OAppSidenavComponent;\n\n  protected _mode: OAppLayoutMode;\n  protected _sidenavMode: OSidenavMode;\n\n  openedSidenavImg: string;\n  closedSidenavImg: string;\n\n  beforeOpenSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterOpenSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  beforeCloseSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterCloseSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  get showHeader(): boolean {\n    return this._showHeader;\n  }\n\n  set showHeader(val: boolean) {\n    this._showHeader = val;\n  }\n\n  get mode(): OAppLayoutMode {\n    return this._mode;\n  }\n\n  set mode(val: OAppLayoutMode) {\n    const m = Codes.OAppLayoutModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._mode = m;\n      if (this._mode === 'mobile' && !Util.isDefined(this.showHeader)) {\n        this.showHeader = true;\n      }\n    } else {\n      console.error('Invalid `o-app-layout` mode (' + val + ')');\n    }\n  }\n\n  get sidenavMode(): OSidenavMode {\n    return this._sidenavMode;\n  }\n\n  set sidenavMode(val: OSidenavMode) {\n    const m = Codes.OSidenavModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._sidenavMode = m;\n    } else {\n      console.error('Invalid `o-app-layout` sidenav-mode (' + val + ')');\n    }\n  }\n\n  sidenavToggle(opened: boolean) {\n    opened ? this.beforeOpenSidenav.emit() : this.beforeCloseSidenav.emit();\n  }\n\n  afterToggle(opened: boolean) {\n    opened ? this.afterOpenSidenav.emit() : this.afterCloseSidenav.emit();\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport {\n  MenuItemAction,\n  MenuItemLocale,\n  MenuItemLogout,\n  MenuItemRoute,\n  MenuItemUserInfo,\n} from '../../../interfaces/app-menu.interface';\nimport { OAppLayoutComponent } from '../../../layouts/app-layout/o-app-layout.component';\nimport { DialogService } from '../../../services/dialog.service';\nimport { LoginService } from '../../../services/login.service';\nimport { OUserInfoService } from '../../../services/o-user-info.service';\nimport { PermissionsService } from '../../../services/permissions/permissions.service';\nimport { OTranslateService } from '../../../services/translate/o-translate.service';\nimport { OPermissions } from '../../../types/o-permissions.type';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { Util } from '../../../util/util';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM = [\n  'menuItem : menu-item',\n  'menuItemType : menu-item-type',\n  'sidenavOpened : sidenav-opened',\n  'disabled'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-app-sidenav-menu-item',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM,\n  templateUrl: './o-app-sidenav-menu-item.component.html',\n  styleUrls: ['./o-app-sidenav-menu-item.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': 'getClass()',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OAppSidenavMenuItemComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public onClick: EventEmitter<any> = new EventEmitter<any>();\n\n  protected translateService: OTranslateService;\n  protected loginService: LoginService;\n  protected dialogService: DialogService;\n  protected permissionsService: PermissionsService;\n  protected oUserInfoService: OUserInfoService;\n  protected userInfoSubscription: Subscription;\n\n  protected sidenav: OAppSidenavComponent;\n  protected router: Router;\n\n  menuItem: any; // TODO MenuRootItem;\n  menuItemType: string;\n  @InputConverter()\n  sidenavOpened: boolean = true;\n  @InputConverter()\n  disabled: boolean = false;\n\n  protected appSidenavToggleSubscription: Subscription;\n  protected routerSubscription: Subscription;\n  protected oAppLayoutComponent: OAppLayoutComponent;\n\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  hidden: boolean;\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.loginService = this.injector.get(LoginService);\n    this.dialogService = this.injector.get(DialogService);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n    this.oAppLayoutComponent = this.injector.get(OAppLayoutComponent);\n    this.router = this.injector.get(Router);\n    this.routerSubscription = this.router.events.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  ngOnInit() {\n    this.parsePermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.isUserInfoItem() && this.sidenav) {\n      this.setUserInfoImage();\n      this.appSidenavToggleSubscription = this.sidenav.onSidenavOpenedChange.subscribe(() => {\n        if (this.sidenav.sidenav.opened) {\n          this.setUserInfoImage();\n          this.setUserInfoImage();\n        }\n      });\n      this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n        if (Util.isDefined(res.avatar) && this.sidenav.sidenav.opened) {\n          (this.menuItem as MenuItemUserInfo).avatar = res.avatar;\n          this.setUserInfoImage();\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.appSidenavToggleSubscription) {\n      this.appSidenavToggleSubscription.unsubscribe();\n    }\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n    if (this.userInfoSubscription) {\n      this.userInfoSubscription.unsubscribe();\n    }\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.permissionsService.getMenuPermissions(this.menuItem.id);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.hidden = this.permissions.visible === false;\n    if (!this.disabled) {\n      // if the disabled input is true it means that its parent is disabled using permissions\n      this.disabled = this.permissions.enabled === false;\n    }\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  public setUserInfoImage() {\n    const imgEl = this.elRef.nativeElement.getElementsByClassName('o-user-info-image')[0];\n    if (imgEl !== undefined) {\n      const item = this.menuItem as MenuItemUserInfo;\n      imgEl.setAttribute('style', 'background-image: url(\\'' + item.avatar + '\\')');\n    }\n    this.cd.detectChanges();\n  }\n\n  executeItemAction() {\n    const actionItem = (this.menuItem as MenuItemAction);\n    if (Util.parseBoolean(actionItem.confirm, false)) {\n      this.dialogService.confirm('CONFIRM', actionItem.confirmText || 'MESSAGES.CONFIRM_ACTION').then(result => result ? actionItem.action() : null);\n    } else {\n      actionItem.action();\n    }\n  }\n\n  configureI18n() {\n    const localeItem = (this.menuItem as MenuItemLocale);\n    if (this.isConfiguredLang()) {\n      return;\n    }\n    if (this.translateService) {\n      this.translateService.use(localeItem.locale);\n    }\n  }\n\n  isConfiguredLang() {\n    const localeItem = (this.menuItem as MenuItemLocale);\n    if (this.translateService) {\n      return (this.translateService.getCurrentLang() === localeItem.locale);\n    }\n    return false;\n  }\n\n  logout() {\n    const menuItem = (this.menuItem as MenuItemLogout);\n    if (Util.parseBoolean(menuItem.confirm, true)) {\n      this.loginService.logoutWithConfirmationAndRedirect();\n    } else {\n      this.loginService.logoutAndRedirect();\n    }\n  }\n\n  navigate() {\n    const route = (this.menuItem as MenuItemRoute).route;\n    if (this.router.url !== route) {\n      this.router.navigate([route]);\n    }\n  }\n\n  triggerClick(e: Event) {\n    if (this.disabled) {\n      return;\n    }\n    switch (this.menuItemType) {\n      case 'action':\n        this.executeItemAction();\n        break;\n      case 'locale':\n        this.configureI18n();\n        break;\n      case 'logout':\n        this.logout();\n        break;\n      case 'route':\n        this.navigate();\n        break;\n      default:\n        break;\n    }\n    this.onClick.emit(e);\n  }\n\n  isRouteItem(): boolean {\n    return this.menuItemType === 'route';\n  }\n\n  isActionItem(): boolean {\n    return this.menuItemType === 'action';\n  }\n\n  isLocaleItem(): boolean {\n    return this.menuItemType === 'locale';\n  }\n\n  isLogoutItem(): boolean {\n    return this.menuItemType === 'logout';\n  }\n\n  isUserInfoItem(): boolean {\n    return this.menuItemType === 'user-info';\n  }\n\n  isDefaultItem(): boolean {\n    return this.menuItemType === 'default';\n  }\n\n  get useFlagIcons(): boolean {\n    return this.oAppLayoutComponent && this.oAppLayoutComponent.useFlagIcons;\n  }\n\n  isActiveItem(): boolean {\n    if (!this.isRouteItem()) {\n      return false;\n    }\n    const route = (this.menuItem as MenuItemRoute).route;\n    return this.router.url === route || this.router.url.startsWith(route + '/');\n  }\n\n  get tooltip(): string {\n    let result = this.translateService.get(this.menuItem.name);\n    if (Util.isDefined(this.menuItem.tooltip)) {\n      result += ': ' + this.translateService.get(this.menuItem.tooltip);\n    }\n    return result;\n  }\n\n  getClass() {\n    let className = 'o-app-sidenav-menu-item';\n    if (this.menuItem.class) {\n      className += ' ' + this.menuItem.class;\n    }\n    return className;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OLanguageSelectorModule } from '../language-selector/o-language-selector.module';\nimport { OAppSidenavImageComponent } from './image/o-app-sidenav-image.component';\nimport { OAppSidenavMenuGroupComponent } from './menu-group/o-app-sidenav-menu-group.component';\nimport { OAppSidenavMenuItemComponent } from './menu-item/o-app-sidenav-menu-item.component';\nimport { OAppSidenavComponent } from './o-app-sidenav.component';\n\n@NgModule({\n    imports: [CommonModule, OSharedModule, RouterModule, OLanguageSelectorModule],\n    declarations: [\n        OAppSidenavComponent,\n        OAppSidenavMenuGroupComponent,\n        OAppSidenavImageComponent,\n        OAppSidenavMenuItemComponent\n    ],\n    exports: [OAppSidenavComponent]\n})\nexport class OAppSidenavModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'o-app-layout-header',\n  templateUrl: './o-app-layout-header.component.html',\n})\nexport class OAppLayoutHeaderComponent {\n\n}\n","import { Component } from '@angular/core';\n\nexport const DEFAULT_INPUTS_O_APP_LAYOUT_SIDENAV = [\n  'position'\n];\n\n@Component({\n  selector: 'o-app-layout-sidenav',\n  templateUrl: './o-app-layout-sidenav.component.html',\n  inputs: DEFAULT_INPUTS_O_APP_LAYOUT_SIDENAV\n})\nexport class OAppLayoutSidenavComponent {\n\n  position: 'start' | 'end' = 'end';\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OAppHeaderModule } from '../../components/app-header/o-app-header.module';\nimport { OAppSidenavModule } from '../../components/app-sidenav/o-app-sidenav.module';\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OAppLayoutHeaderComponent } from './app-layout-header/o-app-layout-header.component';\nimport { OAppLayoutSidenavComponent } from './app-layout-sidenav/o-app-layout-sidenav.component';\nimport { OAppLayoutComponent } from './o-app-layout.component';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule, OAppSidenavModule, OAppHeaderModule],\n  declarations: [OAppLayoutComponent, OAppLayoutHeaderComponent, OAppLayoutSidenavComponent],\n  exports: [OAppLayoutComponent, OAppLayoutHeaderComponent, OAppLayoutSidenavComponent]\n})\nexport class OAppLayoutModule { }\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Injector,\n  OnDestroy,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { MenuGroup } from '../../interfaces/app-menu.interface';\nimport { AppMenuService } from '../../services/app-menu.service';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport { MenuRootItem } from '../../types/menu-root-item.type';\n\nexport const DEFAULT_INPUTS_O_MENU_LAYOUT = [\n  'parentMenuId : parent-menu-id'\n];\n\nexport const DEFAULT_OUTPUTS_O_MENU_LAYOUT = [\n];\n\n@Component({\n  selector: 'o-card-menu-layout',\n  templateUrl: './o-card-menu-layout.component.html',\n  styleUrls: ['./o-card-menu-layout.component.scss'],\n  inputs: DEFAULT_INPUTS_O_MENU_LAYOUT,\n  outputs: DEFAULT_OUTPUTS_O_MENU_LAYOUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-menu-layout]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OCardMenuLayoutComponent implements AfterViewInit, OnDestroy {\n\n  protected translateService: OTranslateService;\n  protected translateServiceSubscription: Subscription;\n  protected appMenuService: AppMenuService;\n  protected menuRoots: MenuRootItem[];\n  protected cardItemsArray: MenuRootItem[];\n  protected parentMenuId: string;\n\n  constructor(\n    private injector: Injector,\n    private cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRoots = this.appMenuService.getMenuRoots();\n\n    this.translateServiceSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  public ngAfterViewInit(): void {\n    this.setCardMenuItems();\n  }\n\n  public ngOnDestroy(): void {\n    if (this.translateServiceSubscription) {\n      this.translateServiceSubscription.unsubscribe();\n    }\n  }\n\n  public setCardMenuItems(): void {\n    let cardItemsAux = [];\n    if (!this.parentMenuId) {\n      cardItemsAux = this.menuRoots.filter(item => !this.appMenuService.isMenuGroup(item));\n    } else {\n      cardItemsAux = this.getItemsFilteredByParentId(this.menuRoots);\n    }\n\n    this.cardItems = cardItemsAux;\n  }\n\n  get cardItems(): MenuRootItem[] {\n    return this.cardItemsArray;\n  }\n\n  set cardItems(val: MenuRootItem[]) {\n    this.cardItemsArray = val;\n    this.cd.detectChanges();\n  }\n\n  protected getItemsFilteredByParentId(array: MenuRootItem[]): MenuRootItem[] {\n    let result: MenuRootItem[];\n    const groups = array.filter(item => this.appMenuService.isMenuGroup(item));\n\n    for (let i = 0, len = groups.length; i < len; i++) {\n      const menuGroup = (groups[i] as MenuGroup);\n      if (menuGroup.id === this.parentMenuId) {\n        result = menuGroup.items;\n        break;\n      } else {\n        result = this.getItemsFilteredByParentId(menuGroup.items);\n      }\n    }\n    return result;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OCardMenuItemModule } from '../../components/card-menu-item/o-card-menu-item.module';\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OCardMenuLayoutComponent } from './o-card-menu-layout.component';\n\n@NgModule({\n  declarations: [OCardMenuLayoutComponent],\n  imports: [CommonModule, OCardMenuItemModule, OSharedModule],\n  exports: [OCardMenuLayoutComponent]\n})\nexport class OCardMenuLayoutModule { }\n","import {\n  AfterViewInit,\n  Component,\n  ComponentFactoryResolver,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  QueryList,\n  ViewChild,\n  ViewChildren,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MatTabChangeEvent, MatTabGroup } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { DialogService } from '../../../services/dialog.service';\nimport { ONavigationItem } from '../../../services/navigation.service';\nimport { FormLayoutDetailComponentData } from '../../../types/form-layout-detail-component-data.type';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OFormLayoutManagerContentDirective } from '../directives/o-form-layout-manager-content.directive';\nimport { OFormLayoutManagerComponent } from '../o-form-layout-manager.component';\nimport { OFormLayoutTabGroup } from '../../../interfaces/o-form-layout-tab-group.interface';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP = [\n  'title',\n  'options'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP = [\n  'onMainTabSelected',\n  'onSelectedTabChange',\n  'onCloseTab'\n];\n\n@Component({\n  selector: 'o-form-layout-tabgroup',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP,\n  outputs: DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP,\n  templateUrl: './o-form-layout-tabgroup.component.html',\n  styleUrls: ['./o-form-layout-tabgroup.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-tabgroup]': 'true'\n  }\n})\nexport class OFormLayoutTabGroupComponent implements OFormLayoutTabGroup, AfterViewInit, OnDestroy {\n\n  public data: FormLayoutDetailComponentData[] = [];\n  public selectedTabIndex: number | null;\n  public title: string;\n  public options: any;\n  public showLoading = new BehaviorSubject<boolean>(false);\n  protected _state: any;\n\n  @ViewChild('tabGroup', { static: false }) tabGroup: MatTabGroup;\n  @ViewChildren(OFormLayoutManagerContentDirective) tabsDirectives: QueryList<OFormLayoutManagerContentDirective>;\n\n  protected closeTabSubscription: Subscription;\n  protected tabsDirectivesSubscription: Subscription;\n  protected router: Router;\n  protected loading: boolean = false;\n  protected dialogService: DialogService;\n\n  public onMainTabSelected: EventEmitter<any> = new EventEmitter<any>();\n  public onSelectedTabChange: EventEmitter<any> = new EventEmitter<any>();\n  public onCloseTab: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(\n    protected injector: Injector,\n    protected componentFactoryResolver: ComponentFactoryResolver,\n    protected location: ViewContainerRef,\n    protected elRef: ElementRef,\n    @Inject(forwardRef(() => OFormLayoutManagerComponent)) protected formLayoutManager: OFormLayoutManagerComponent\n  ) {\n    this.dialogService = injector.get(DialogService);\n    this.router = this.injector.get(Router);\n  }\n\n  ngAfterViewInit() {\n\n    this.tabsDirectivesSubscription = this.tabsDirectives.changes.subscribe(changes => {\n      if (this.tabsDirectives.length) {\n        const tabItem = this.tabsDirectives.last;\n        const tabData = this.data[tabItem.index];\n        if (tabData && !tabData.rendered) {\n          this.createTabComponent(tabData, tabItem);\n        }\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.tabsDirectivesSubscription) {\n      this.tabsDirectivesSubscription.unsubscribe();\n    }\n    if (this.closeTabSubscription) {\n      this.closeTabSubscription.unsubscribe();\n    }\n  }\n\n\n  public get disableAnimation() {\n    return this.options && this.options.disableAnimation;\n  }\n\n  public get headerPosition() {\n    let headerPosition;\n    if (this.options && this.options.headerPosition) {\n      headerPosition = this.options.headerPosition;\n    }\n    return headerPosition;\n  }\n\n  public get color() {\n    let color;\n    if (this.options && this.options.color) {\n      color = this.options.color;\n    }\n    return color;\n  }\n\n  public get backgroundColor() {\n    let backgroundColor;\n    if (this.options && this.options.backgroundColor) {\n      backgroundColor = this.options.backgroundColor;\n    }\n    return backgroundColor;\n  }\n\n  public get templateMatTabLabel() {\n    let templateMatTabLabel;\n    if (this.options && this.options.templateMatTabLabel) {\n      templateMatTabLabel = this.options.templateMatTabLabel;\n    }\n    return templateMatTabLabel;\n  }\n\n  public get icon() {\n    let icon;\n    if (this.options && this.options.icon) {\n      icon = this.options.icon;\n    }\n    return icon;\n  }\n\n  public get isIconPositionLeft() {\n    return this.options && this.options.iconPosition === 'left';\n  }\n\n  addTab(compData: FormLayoutDetailComponentData) {\n    let addNewComp = true;\n    const navData: ONavigationItem = this.formLayoutManager.navigationService.getLastItem();\n    if (navData && navData.isInsertFormRoute()) {\n      const existingData = this.data.find(item => item.insertionMode);\n      addNewComp = !existingData;\n    }\n    const newCompParams = compData.params;\n    if (addNewComp) {\n      this.data.forEach(comp => {\n        const currParams = comp.params || {};\n        Object.keys(currParams).forEach(key => {\n          addNewComp = addNewComp && (currParams[key] !== newCompParams[key]);\n        });\n      });\n    }\n    if (addNewComp) {\n      this.data.push(compData);\n    } else {\n      this.reloadTab(compData);\n    }\n  }\n\n  reloadTab(compData: FormLayoutDetailComponentData) {\n    let compIndex = -1;\n    const compParams = compData.params;\n    this.data.forEach((comp, i) => {\n      const currParams = comp.params || {};\n      const sameParams = Util.isEquivalent(currParams, compParams);\n      if (sameParams) {\n        compIndex = i;\n      }\n    });\n    if (compIndex >= 0) {\n      this.tabGroup.selectedIndex = (compIndex + 1);\n    }\n  }\n\n  onTabSelectChange(arg: MatTabChangeEvent) {\n    if (this.formLayoutManager && this.tabGroup.selectedIndex === 0) {\n      this.formLayoutManager.updateIfNeeded();\n      this.onMainTabSelected.emit();\n    }\n    if (Util.isDefined(this.state) && Util.isDefined(this.state.tabsData)) {\n      if (this.state.tabsData.length > 1) {\n        if ((arg.index === this.state.tabsData.length) && Util.isDefined(this.state.selectedIndex)) {\n          this.selectedTabIndex = this.state.selectedIndex;\n          this.state = undefined;\n        }\n      } else {\n        this.state = undefined;\n      }\n    }\n    this.onSelectedTabChange.emit(this.data[this.selectedTabIndex - 1]);\n  }\n\n  closeTab(id: string) {\n    if (!this.formLayoutManager) {\n      return;\n    }\n    const onCloseTabAccepted: EventEmitter<any> = new EventEmitter<any>();\n    const self = this;\n    this.closeTabSubscription = onCloseTabAccepted.asObservable().subscribe(res => {\n      if (res) {\n        let closedTabData;\n        for (let i = self.data.length - 1; i >= 0; i--) {\n          if (self.data[i].id === id) {\n            closedTabData = self.data.splice(i, 1)[0];\n            break;\n          }\n        }\n        self.onCloseTab.emit(closedTabData);\n      }\n    });\n    const tabData = this.data.find((item: FormLayoutDetailComponentData) => item.id === id);\n    if (Util.isDefined(tabData) && tabData.modified) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.FORM_CHANGES_WILL_BE_LOST').then(res => {\n        onCloseTabAccepted.emit(res);\n      });\n    } else {\n      onCloseTabAccepted.emit(true);\n    }\n  }\n\n  createTabComponent(tabData: FormLayoutDetailComponentData, content: OFormLayoutManagerContentDirective) {\n    const component = tabData.component;\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n    const viewContainerRef: ViewContainerRef = content.viewContainerRef;\n    viewContainerRef.clear();\n    viewContainerRef.createComponent(componentFactory);\n    tabData.rendered = true;\n  }\n\n  getFormCacheData(idArg: string): FormLayoutDetailComponentData {\n    return this.data.filter(cacheItem => cacheItem.id === idArg)[0];\n  }\n\n  getLastTabId(): string {\n    return this.data.length > 0 ? this.data[this.data.length - 1].id : undefined;\n  }\n\n  getRouteOfActiveItem(): any[] {\n    const route = [];\n    if (this.data.length && this.tabGroup.selectedIndex > 0) {\n      const urlSegments = this.data[this.tabGroup.selectedIndex - 1].urlSegments || [];\n      urlSegments.forEach((segment) => {\n        route.push(segment.path);\n      });\n      return route;\n    }\n    return route;\n  }\n\n  setModifiedState(modified: boolean, id: string) {\n    for (let i = 0, len = this.data.length; i < len; i++) {\n      if (this.data[i].id === id) {\n        this.data[i].modified = modified;\n        break;\n      }\n    }\n  }\n\n  updateNavigation(data: any, id: string, insertionMode?: boolean) {\n    const index = this.data.findIndex((item: any) => item.id === id);\n    if (index >= 0) {\n      let label = this.formLayoutManager.getLabelFromData(data);\n      this.tabGroup.selectedIndex = (index + 1);\n      label = label.length ? label : this.formLayoutManager.getLabelFromUrlParams(this.data[index].params);\n      this.data[index].label = label;\n      this.data[index].insertionMode = insertionMode;\n      if (Object.keys(data).length > 0) {\n        this.data[index].formDataByLabelColumns = this.formLayoutManager.getFormDataFromLabelColumns(data);\n      }\n    }\n  }\n\n  updateActiveData(data: any) {\n    const index = this.tabGroup.selectedIndex - 1;\n    if (Util.isDefined(this.data[index])) {\n      this.data[index] = Object.assign(this.data[index], data);\n    }\n  }\n\n  getDataToStore(): object {\n    const tabsData = [];\n    this.data.forEach((data: FormLayoutDetailComponentData) => {\n      tabsData.push({\n        params: data.params,\n        queryParams: data.queryParams,\n        urlSegments: data.urlSegments,\n        url: data.url\n      });\n    });\n    return {\n      tabsData: tabsData,\n      selectedIndex: this.tabGroup.selectedIndex\n    };\n  }\n\n  initializeComponentState(state: any) {\n    if (Util.isDefined(state) && Util.isDefined(state.tabsData) && Util.isDefined(state.tabsData[0])) {\n      this.state = state;\n      const extras = {};\n      extras[Codes.QUERY_PARAMS] = state.tabsData[0].queryParams;\n      const self = this;\n      if (this.formLayoutManager) {\n        this.formLayoutManager.setAsActiveFormLayoutManager();\n      }\n      this.router.navigate([state.tabsData[0].url], extras).then(val => {\n        if (self.data[0]) {\n          setTimeout(() => {\n            self.createTabsFromState();\n          }, 0);\n        }\n      });\n    }\n  }\n\n  protected createTabsFromState() {\n    const self = this;\n    const tabComponent = self.data[0].component;\n    this.state.tabsData.forEach((tabData: any, index: number) => {\n      if (tabComponent && index > 0) {\n        setTimeout(() => {\n          const newDetailData = self.createDetailComponent(tabComponent, tabData);\n          self.data.push(newDetailData);\n        }, 0);\n      }\n    });\n  }\n\n  protected createDetailComponent(component: any, paramsObj: any) {\n    const newDetailComp: FormLayoutDetailComponentData = {\n      params: paramsObj.params,\n      queryParams: paramsObj.queryParams,\n      urlSegments: paramsObj.urlSegments,\n      component: component,\n      url: paramsObj.url,\n      id: Math.random().toString(36),\n      label: '',\n      modified: false\n    };\n    return newDetailComp;\n  }\n\n  set state(arg: any) {\n    this._state = arg;\n    if (Util.isDefined(arg)) {\n      this.showLoading.next(true);\n    } else {\n      this.showLoading.next(false);\n    }\n  }\n\n  get state(): any {\n    return this._state;\n  }\n\n  getParams(): any {\n    return Util.isDefined(this.data[0]) ? this.data[0].params : undefined;\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OFormLayoutDialogComponent } from './dialog/o-form-layout-dialog.component';\nimport { OFormLayoutDialogOptionsComponent } from './dialog/options/o-form-layout-dialog-options.component';\nimport { OFormLayoutManagerContentDirective } from './directives/o-form-layout-manager-content.directive';\nimport { CanActivateFormLayoutChildGuard } from './guards/o-form-layout-can-activate-child.guard';\nimport { OFormLayoutManagerComponent } from './o-form-layout-manager.component';\nimport { OFormLayoutTabGroupComponent } from './tabgroup/o-form-layout-tabgroup.component';\nimport { OFormLayoutTabGroupOptionsComponent } from './tabgroup/options/o-form-layout-tabgroup-options.component';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule],\n  declarations: [\n    OFormLayoutDialogComponent,\n    OFormLayoutManagerComponent,\n    OFormLayoutTabGroupComponent,\n    OFormLayoutManagerContentDirective,\n    OFormLayoutDialogOptionsComponent,\n    OFormLayoutTabGroupOptionsComponent\n  ],\n  exports: [\n    OFormLayoutManagerComponent,\n    OFormLayoutDialogOptionsComponent,\n    OFormLayoutTabGroupOptionsComponent\n  ],\n  entryComponents: [OFormLayoutDialogComponent],\n  providers: [{\n    provide: CanActivateFormLayoutChildGuard,\n    useClass: CanActivateFormLayoutChildGuard\n  }],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OFormLayoutManagerModule { }\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivateChild, Router, RouterStateSnapshot } from '@angular/router';\n\nimport { Util } from '../../util/util';\nimport { ShareCanActivateChildService } from '../share-can-activate-child.service';\nimport { SnackBarService } from '../snackbar.service';\nimport { PermissionsService } from './permissions.service';\n\n@Injectable()\nexport class PermissionsGuardService implements CanActivateChild {\n\n  protected router: Router;\n  protected permissionsService: PermissionsService;\n  protected snackBarService: SnackBarService;\n  protected shareCanActivateChildService: ShareCanActivateChildService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.shareCanActivateChildService = this.injector.get(ShareCanActivateChildService);\n    this.shareCanActivateChildService.setPermissionsGuard(this);\n  }\n\n  canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    let restricted: boolean = false;\n    const oPermission = childRoute.data ? childRoute.data['oPermission'] : undefined;\n    const permissionId: string = (oPermission || {})['permissionId'];\n    if (Util.isDefined(permissionId)) {\n      restricted = this.permissionsService.isPermissionIdRouteRestricted(permissionId);\n      if (restricted) {\n        let msg = 'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION';\n        const route: string = oPermission['restrictedPermissionsRedirect'];\n        if (Util.isDefined(route)) {\n          msg = 'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION';\n          this.router.navigate([route]);\n        }\n        this.snackBarService.open(msg);\n      }\n    }\n    return !restricted;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Injector, NgModule } from '@angular/core';\n\nimport { permissionsServiceFactory } from '../factories';\nimport { OntimizePermissionsService } from './ontimize-permissions.service';\nimport { PermissionsGuardService } from './permissions-can-activate.guard';\nimport { PermissionsService } from './permissions.service';\n\nexport function getPermissionsServiceProvider(injector: Injector) {\n  return new PermissionsService(injector);\n}\n\n@NgModule({\n  imports: [CommonModule],\n  providers: [\n    { provide: PermissionsGuardService, useClass: PermissionsGuardService },\n    { provide: PermissionsService, useFactory: getPermissionsServiceProvider, deps: [Injector] },\n    { provide: OntimizePermissionsService, useFactory: permissionsServiceFactory, deps: [Injector] }\n  ]\n})\nexport class OPermissionsModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injector } from '@angular/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { combineLatest, Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../../config/app-config';\nimport { Codes } from '../../util/codes';\nimport { OTranslateService } from './o-translate.service';\n\nexport class OTranslateHttpLoader extends TranslateHttpLoader {\n\n  static BUNDLE_KEY = 'key';\n  static BUNDLE_VALUE = 'value';\n\n  protected appConfig: AppConfig;\n  protected httpClient: HttpClient;\n\n  constructor(\n    httpClient: HttpClient,\n    prefix: string = OTranslateService.ASSETS_PATH,\n    suffix: string = OTranslateService.ASSETS_EXTENSION,\n    protected injector: Injector\n  ) {\n    super(httpClient, prefix, suffix);\n    this.appConfig = this.injector.get(AppConfig);\n    this.httpClient = httpClient;\n  }\n\n  getAssetsPath(): string {\n    return this.prefix;\n  }\n\n  getAssetsExtension(): string {\n    return this.suffix;\n  }\n\n  getLocalTranslation(lang: string): Observable<any> {\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n    super.getTranslation(lang)\n      .subscribe((res) => {\n        innerObserver.next(res);\n        innerObserver.complete();\n      }, error => {\n        innerObserver.next(undefined);\n      },\n        () => innerObserver.complete());\n    return dataObservable;\n  }\n\n  getTranslation(lang: string): any {\n    const translationOrigins: any[] = [];\n\n    translationOrigins.push(this.getLocalTranslation(lang));\n\n    if (this.appConfig.useRemoteBundle()) {\n      translationOrigins.push(this.getRemoteBundle(lang));\n    }\n\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n\n    combineLatest(translationOrigins).subscribe((res: any[]) => {\n      const staticBundle = res[0] || {};\n      const remoteBundle = res[1] || {};\n      const allBundles = Object.assign(staticBundle, remoteBundle);\n      innerObserver.next(allBundles);\n    });\n    return dataObservable;\n  }\n\n  getRemoteBundle(lang: string): Observable<any> {\n    const bundleEndpoint = this.appConfig.getBundleEndpoint();\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n    if (!bundleEndpoint) {\n      innerObserver.next([]);\n    }\n    const url = bundleEndpoint + '?lang=' + lang;\n\n    this.httpClient.get(url).subscribe((resp: any) => {\n      let response = {};\n      if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        response = this.parseBundleResponse(resp.data);\n      }\n      innerObserver.next(response);\n    },\n      error => {\n        console.log('Remote Bundle service is not available');\n        innerObserver.next(error);\n      },\n      () => innerObserver.complete()\n    );\n\n    return dataObservable;\n  }\n\n  protected parseBundleResponse(data: any[]): any {\n    const result = {};\n    data.forEach((item) => {\n      result[item[OTranslateHttpLoader.BUNDLE_KEY]] = item[OTranslateHttpLoader.BUNDLE_VALUE];\n    });\n    return result;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TranslateDefaultParser } from '@ngx-translate/core';\n\nimport { Util } from '../../util/util';\n\n@Injectable()\nexport class OTranslateParser extends TranslateDefaultParser {\n  public templateMatcher: RegExp = /{\\s?([0-9][^{}\\s]*)\\s?}/g;\n\n  public interpolate(expr: string, params?: any): string {\n    if (typeof expr !== 'string' || !params) {\n      return expr;\n    }\n    return expr.replace(this.templateMatcher, (substring: string, index: string) => {\n      const argValue = Util.isDefined(params[index]) ? params[index] : '';\n      return !isNaN(parseInt(index, 10)) ? argValue : substring;\n    });\n  }\n}\n","import { Injector } from '@angular/core';\n\nimport { APP_CONFIG, AppConfig } from '../config/app-config';\nimport { Config } from '../types/config.type';\n\nexport class AppConfigFactory {\n  config: Config;\n  constructor(protected injector: Injector) {\n    this.config = this.injector.get(APP_CONFIG);\n  }\n\n  public factory(): any {\n    return new AppConfig(this.config);\n  }\n}\n\nexport function appConfigFactory(injector: Injector) {\n  return new AppConfigFactory(injector).factory();\n}\n","import { LOCATION_INITIALIZED } from '@angular/common';\nimport { Injector, Provider } from '@angular/core';\nimport { MAT_RIPPLE_GLOBAL_OPTIONS } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { combineLatest } from 'rxjs';\n\nimport { AppConfig, O_INPUTS_OPTIONS } from '../config/app-config';\nimport { appConfigFactory } from '../services/app-config.provider';\nimport { OntimizeServiceProvider } from '../services/factories';\nimport { LocalStorageService } from '../services/local-storage.service';\nimport { NavigationService } from '../services/navigation.service';\nimport { OntimizeMatIconRegistry } from '../services/ontimize-icon-registry.service';\nimport { OntimizeServiceResponseAdapter } from '../services/ontimize/ontimize-service-response.adapter';\nimport { ORemoteConfigurationService } from '../services/remote-config.service';\nimport { OTranslateService } from '../services/translate/o-translate.service';\nimport { Error403Component } from '../shared/components/error403/o-error-403.component';\nimport { O_MAT_ERROR_OPTIONS } from '../shared/material/o-mat-error/o-mat-error';\nimport { Config } from '../types/config.type';\nimport { Codes } from '../util/codes';\nimport { Util } from '../util/util';\n\nfunction addPermissionsRouteGuard(injector: Injector) {\n  const route = injector.get(Router);\n  const exists403 = route.config.find(r => r.path === Codes.FORBIDDEN_ROUTE);\n  if (!exists403) {\n    route.config.push({ path: Codes.FORBIDDEN_ROUTE, component: Error403Component });\n  }\n}\n\nexport function appInitializerFactory(injector: Injector, config: Config, oTranslate: OTranslateService) {\n  return () => new Promise<any>((resolve: any) => {\n    const observableArray = [];\n    const locationInitialized = injector.get(LOCATION_INITIALIZED, Promise.resolve(null));\n    locationInitialized.then(() => {\n      const storedLang = oTranslate.getStoredLanguage();\n      const configLang = config['locale'];\n      const browserLang = oTranslate.getBrowserLang();\n      let userLang = Util.isDefined(config['defaultLocale']) ? config['defaultLocale'] : 'en';\n      let defaultLang = Util.isDefined(config['defaultLocale']) ? config['defaultLocale'] : 'en';\n      if (storedLang) {\n        userLang = storedLang;\n      } else if (configLang) {\n        userLang = configLang;\n        defaultLang = configLang;\n      } else if (browserLang) {\n        userLang = browserLang;\n        defaultLang = browserLang;\n      }\n      oTranslate.setDefaultLang(defaultLang);\n\n      const locales = new Set(config.applicationLocales || []);\n      locales.add('en');\n      locales.add(userLang);\n\n      // initialize available locales array if needed\n      if (!config.applicationLocales) {\n        config.applicationLocales = [...locales];\n      }\n\n      if (config.uuid == null || config.uuid === '') {\n        console.error('Your app must have an \\'uuid\\' property defined on your app.config file. Otherwise, your application will not work correctly.');\n        alert('Your app must have an \\'uuid\\' property defined on your app.config file. Otherwise, your application will not work correctly.');\n      }\n      injector.get(NavigationService).initialize();\n      injector.get(OntimizeMatIconRegistry).initialize();\n      injector.get(LocalStorageService).setBackwardCompatibility();\n      addPermissionsRouteGuard(injector);\n      observableArray.push(oTranslate.setAppLang(userLang));\n      const remoteConfigService = injector.get(ORemoteConfigurationService);\n      observableArray.push(remoteConfigService.initialize());\n      combineLatest(observableArray).subscribe(() => {\n        resolve();\n      });\n    });\n  });\n}\n\nexport const ONTIMIZE_PROVIDERS: Provider[] = [\n  { provide: AppConfig, useFactory: appConfigFactory, deps: [Injector] },\n  OntimizeServiceProvider,\n  OntimizeServiceResponseAdapter,\n  // disabled global ripple\n  { provide: MAT_RIPPLE_GLOBAL_OPTIONS, useValue: { disabled: true } },\n  { provide: O_MAT_ERROR_OPTIONS, useValue: {} },\n  { provide: O_INPUTS_OPTIONS, useValue: {} }\n];\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OExpandableContainerComponent } from './o-expandable-container.component';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule],\n  exports: [OExpandableContainerComponent],\n  declarations: [\n   OExpandableContainerComponent\n  ],\n\n})\nexport class OExpandableContainerModule { }\n","import { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { APP_INITIALIZER, Injector, NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule, NoopAnimationsModule } from '@angular/platform-browser/animations';\nimport { TranslateLoader, TranslateModule, TranslateParser } from '@ngx-translate/core';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\n\nimport { OBarMenuModule } from '../components/bar-menu/o-bar-menu.module';\nimport { OBreadcrumbModule } from '../components/breadcrumb/o-breadcrumb.module';\nimport { OButtonToggleModule } from '../components/button-toggle/o-button-toggle.module';\nimport { OButtonModule } from '../components/button/o-button.module';\nimport { OCardMenuItemModule } from '../components/card-menu-item/o-card-menu-item.module';\nimport { OColumnCollapsibleModule } from '../components/container/column-collapsible/o-column-collapsible.module';\nimport { OColumnModule } from '../components/container/column/o-column.module';\nimport { ORowCollapsibleModule } from '../components/container/row-collapsible/o-row-collapsible.module';\nimport { ORowModule } from '../components/container/row/o-row.module';\nimport { OContextMenuModule } from '../components/contextmenu/o-context-menu.module';\nimport { OFilterBuilderModule } from '../components/filter-builder/o-filter-builder.module';\nimport { OFormContainerModule } from '../components/form-container/o-form-container.module';\nimport { OFormModule } from '../components/form/o-form.module';\nimport { OGridModule } from '../components/grid/o-grid.module';\nimport { OImageModule } from '../components/image/o-image.module';\nimport { OCheckboxModule } from '../components/input/checkbox/o-checkbox.module';\nimport { OComboModule } from '../components/input/combo/o-combo.module';\nimport { OCurrencyInputModule } from '../components/input/currency-input/o-currency-input.module';\nimport { ODateInputModule } from '../components/input/date-input/o-date-input.module';\nimport { ODateRangeInputModule } from '../components/input/date-range/o-daterange-input.module';\nimport { OEmailInputModule } from '../components/input/email-input/o-email-input.module';\nimport { OFileInputModule } from '../components/input/file-input/o-file-input.module';\nimport { OHourInputModule } from '../components/input/hour-input/o-hour-input.module';\nimport { OHTMLInputModule } from '../components/input/html-input/o-html-input.module';\nimport { OIntegerInputModule } from '../components/input/integer-input/o-integer-input.module';\nimport { OListPickerModule } from '../components/input/listpicker/o-list-picker.module';\nimport { ONIFInputModule } from '../components/input/nif-input/o-nif-input.module';\nimport { OPasswordInputModule } from '../components/input/password-input/o-password-input.module';\nimport { OPercentInputModule } from '../components/input/percent-input/o-percent-input.module';\nimport { ORadioModule } from '../components/input/radio/o-radio.module';\nimport { ORealInputModule } from '../components/input/real-input/o-real-input.module';\nimport { OSearchInputModule } from '../components/input/search-input/o-search-input.module';\nimport { OSlideToggleModule } from '../components/input/slide-toggle/o-slide-toggle.module';\nimport { OSliderModule } from '../components/input/slider/o-slider.module';\nimport { OTextInputModule } from '../components/input/text-input/o-text-input.module';\nimport { OTextareaInputModule } from '../components/input/textarea-input/o-textarea-input.module';\nimport { OTimeInputModule } from '../components/input/time-input/o-time-input.module';\nimport { OLanguageSelectorModule } from '../components/language-selector/o-language-selector.module';\nimport { OListModule } from '../components/list/o-list.module';\nimport { OTableModule } from '../components/table/o-table.module';\nimport { OUserInfoModule } from '../components/user-info/o-user-info.module';\nimport { APP_CONFIG, AppConfig } from '../config/app-config';\nimport { OAppLayoutModule } from '../layouts/app-layout/o-app-layout.module';\nimport { OCardMenuLayoutModule } from '../layouts/card-menu-layout/o-card-menu-layout.module';\nimport { OFormLayoutManagerModule } from '../layouts/form-layout/o-form-layout-manager.module';\nimport { OPermissionsModule } from '../services/permissions/o-permissions.module';\nimport { OTranslateHttpLoader } from '../services/translate/o-translate-http-loader';\nimport { OTranslateParser } from '../services/translate/o-translate.parser';\nimport { OTranslateService } from '../services/translate/o-translate.service';\nimport { OSharedModule } from '../shared/shared.module';\nimport { Util } from '../util/util';\nimport { appInitializerFactory } from './o-providers';\nimport { OExpandableContainerModule } from '../components/expandable-container/o-expandable-container.module';\n\nexport const INTERNAL_ONTIMIZE_MODULES_EXPORTED: any = [\n  // Standard modules\n  HttpClientModule,\n  OSharedModule,\n\n  // Ontimize modules\n  OBarMenuModule,\n  OBreadcrumbModule,\n  OButtonModule,\n  OButtonToggleModule,\n  OCheckboxModule,\n  OComboModule,\n  OColumnModule,\n  OColumnCollapsibleModule,\n  OContextMenuModule,\n  ORowModule,\n  ORowCollapsibleModule,\n  OFilterBuilderModule,\n  OFormModule,\n  OFormContainerModule,\n  OImageModule,\n  OCurrencyInputModule,\n  ODateInputModule,\n  OEmailInputModule,\n  OFileInputModule,\n  OHTMLInputModule,\n  OIntegerInputModule,\n  OListPickerModule,\n  ONIFInputModule,\n  OPasswordInputModule,\n  OPercentInputModule,\n  ORealInputModule,\n  OTextInputModule,\n  OTextareaInputModule,\n  OListModule,\n  OSearchInputModule,\n  OTableModule,\n  OAppLayoutModule,\n  OFormLayoutManagerModule,\n  OUserInfoModule,\n  OLanguageSelectorModule,\n  OCardMenuItemModule,\n  OCardMenuLayoutModule,\n  OHourInputModule,\n  OTimeInputModule,\n  OGridModule,\n  ORadioModule,\n  OSlideToggleModule,\n  OSliderModule,\n  ODateRangeInputModule,\n  OExpandableContainerModule\n];\n\n// AoT requires an exported function for factories\nexport function OHttpLoaderFactory(http: HttpClient, injector: Injector, appConfig: AppConfig) {\n  const i18nConf = appConfig.getI18nAssetsConfiguration();\n  let i18nPath;\n  let i18nExtension;\n  if (Util.isDefined(i18nConf)) {\n    if (Util.isDefined(i18nConf.path)) {\n      i18nPath = i18nConf.path;\n    }\n    if (Util.isDefined(i18nConf.extension)) {\n      i18nExtension = i18nConf.extension;\n    }\n  }\n  return new OTranslateHttpLoader(http, i18nPath, i18nExtension, injector);\n}\n\nexport function OTranslateParserFactory() {\n  return new OTranslateParser();\n}\n\nexport const INTERNAL_ONTIMIZE_MODULES: any = [\n  HttpClientModule,\n\n  // // Ngx-translate\n  TranslateModule.forRoot({\n    loader: {\n      provide: TranslateLoader,\n      useFactory: OHttpLoaderFactory,\n      deps: [HttpClient, Injector, AppConfig]\n    },\n    parser: {\n      provide: TranslateParser,\n      useFactory: OTranslateParserFactory\n    }\n  }),\n  // DndModule.forRoot(),\n  NgxMaterialTimepickerModule,\n  OSharedModule,\n\n  // Ontimize modules\n  OBarMenuModule,\n  OBreadcrumbModule,\n  OButtonModule,\n  OButtonToggleModule,\n  OCardMenuItemModule,\n  OColumnModule,\n  OColumnCollapsibleModule,\n  ORowModule,\n  ORowCollapsibleModule,\n  OContextMenuModule,\n  OFilterBuilderModule,\n  OFormModule,\n  OFormContainerModule,\n  OGridModule,\n  OImageModule,\n\n  OCheckboxModule,\n  OComboModule,\n  OCurrencyInputModule,\n  ODateInputModule,\n  ODateRangeInputModule,\n  OEmailInputModule,\n  OFileInputModule,\n  OHourInputModule,\n  OHTMLInputModule,\n  OIntegerInputModule,\n  OListPickerModule,\n  ONIFInputModule,\n  OPasswordInputModule,\n  OPercentInputModule,\n  ORadioModule,\n  ORealInputModule,\n  OSearchInputModule,\n  OSlideToggleModule,\n  OTextInputModule,\n  OTextareaInputModule,\n  OTimeInputModule,\n\n  OLanguageSelectorModule,\n  OListModule,\n  OTableModule,\n  OUserInfoModule,\n\n  OAppLayoutModule,\n  OCardMenuLayoutModule,\n  OFormLayoutManagerModule,\n  OExpandableContainerModule\n];\n\n@NgModule({\n  providers: [{\n    provide: APP_INITIALIZER,\n    useFactory: appInitializerFactory,\n    deps: [Injector, APP_CONFIG, OTranslateService],\n    multi: true\n  }]\n})\nexport class OntimizeWebTranslateModule { }\n\nexport const ONTIMIZE_MODULES: any = [\n  BrowserModule,\n  BrowserAnimationsModule,\n  OntimizeWebTranslateModule,\n  OPermissionsModule\n];\n\nexport const ONTIMIZE_MODULES_WITHOUT_ANIMATIONS: any = [\n  NoopAnimationsModule,\n  OntimizeWebTranslateModule,\n  OPermissionsModule\n];\n\n","import { CUSTOM_ELEMENTS_SCHEMA, ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { APP_CONFIG } from './config/app-config';\nimport { INTERNAL_ONTIMIZE_MODULES, INTERNAL_ONTIMIZE_MODULES_EXPORTED } from './config/o-modules';\nimport { ONTIMIZE_PROVIDERS } from './config/o-providers';\nimport { ODialogComponent } from './shared/components/dialog/o-dialog.component';\nimport { OSnackBarComponent } from './shared/components/snackbar/o-snackbar.component';\nimport { Config } from './types/config.type';\n\n@NgModule({\n  declarations: [],\n  imports: INTERNAL_ONTIMIZE_MODULES,\n  exports: [INTERNAL_ONTIMIZE_MODULES_EXPORTED],\n  entryComponents: [\n    ODialogComponent,\n    OSnackBarComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OntimizeWebModule {\n  static forRoot(config: Config): ModuleWithProviders {\n    return {\n      ngModule: OntimizeWebModule,\n      providers: [\n        ...ONTIMIZE_PROVIDERS,\n        { provide: APP_CONFIG, useValue: config }\n      ]\n    };\n  }\n}\n","import { NgModuleRef } from '@angular/core';\n// import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\n// export function ontimizeBootstrap(appModule: any): Promise<NgModuleRef<any>> {\n//   const promise = platformBrowserDynamic().bootstrapModule(appModule);\n//   promise.then(moduleRef => {\n//     console.log('Bootstrap Successful');\n//     return ontimizePostBootstrap(moduleRef);\n//   }).catch(err => {\n//     console.error(err.message);\n//   });\n\n//   return promise;\n// }\n\nexport function ontimizePostBootstrap(ngModuleRef: NgModuleRef<any>): NgModuleRef<any> {\n  // Hiding loader...\n  const loader: HTMLElement = document && document.getElementById('loader-wrapper');\n  if (loader && loader.parentNode) {\n    loader.parentNode.removeChild(loader);\n  }\n  return ngModuleRef;\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\n\nimport { OUserInfoService } from '../services/o-user-info.service';\nimport { Codes } from '../util/codes';\nimport { LoginStorageService } from './login-storage.service';\nimport { PermissionsService } from './permissions/permissions.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuardService implements CanActivate {\n\n  protected router: Router;\n  protected loginStorageService: LoginStorageService;\n  protected oUserInfoService: OUserInfoService;\n  protected permissionsService: PermissionsService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.loginStorageService = this.injector.get(LoginStorageService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    this.permissionsService = this.injector.get(PermissionsService);\n  }\n\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<boolean> | boolean {\n    const isLoggedIn = this.loginStorageService.isLoggedIn();\n    let result: Promise<boolean> | boolean = isLoggedIn;\n    if (!isLoggedIn) {\n      this.permissionsService.restart();\n      this.router.navigate([Codes.LOGIN_ROUTE]);\n    }\n    if (isLoggedIn) {\n      this.setUserInformation();\n      if (!this.permissionsService.hasPermissions()) {\n        result = this.permissionsService.getUserPermissionsAsPromise();\n      }\n    }\n    return result;\n  }\n\n  setUserInformation() {\n    const sessionInfo = this.loginStorageService.getSessionInfo();\n    // TODO query user information\n    this.oUserInfoService.setUserInfo({\n      username: sessionInfo.user,\n      avatar: './assets/images/user_profile.png'\n    });\n  }\n}\n","import 'reflect-metadata';\n\nimport { Component } from '@angular/core';\n\nexport function OComponent(newCompAnnotations: any) {\n\n  function OComponentInner(target: Function) {\n    const parentTarget = Object.getPrototypeOf(target.prototype).constructor;\n    const parentAnnotations = Reflect.getMetadata('annotations', parentTarget);\n    if (parentAnnotations) {\n      const parentAnnotation = parentAnnotations[0];\n      copyDecorators(newCompAnnotations, parentAnnotation);\n    } else if (parentTarget.hasOwnProperty('decorators')) {\n      const parentDecorators = getDecorators(parentTarget);\n      copyDecorators(newCompAnnotations, parentDecorators);\n    }\n    const metadata = new Component(newCompAnnotations);\n    Reflect.defineMetadata('annotations', [metadata], target);\n  }\n  return OComponentInner;\n}\n\nfunction isPresent(obj) {\n  return obj !== undefined && obj !== null;\n}\n\nfunction getDecorators(target: any) {\n  let decoratorsObj;\n  const decorators = target.decorators[0];\n  if (decorators && decorators.args && decorators.args[0]) {\n    decoratorsObj = decorators.args[0];\n  }\n  return decoratorsObj;\n}\n\nfunction copyDecorators(newComp: any, parent: any) {\n  Object.keys(parent).forEach(key => {\n    if (isPresent(parent[key])) {\n      if (!isPresent(newComp[key])) {\n        if (typeof newComp[key] === 'function') {\n          newComp[key] = newComp[key].call(this, parent[key]);\n        } else {\n          newComp[key] = parent[key];\n        }\n      }\n    }\n    if (!isPresent(newComp[key])) {\n      newComp[key] = parent[key];\n    }\n  });\n}\n","export type AlertType = 'info' | 'warn' | 'error';\n\nexport class ODialogConfig {\n\n  /* The type of preconfigured alert dialogs */\n  alertType?: AlertType;\n\n  /* The text of 'ok' button */\n  okButtonText?: string;\n\n  /* The text of 'cancel' button */\n  cancelButtonText?: string;\n\n  /* The material icon of the dialog */\n  icon?: string;\n}\n"],"names":["tslib_1.__values","trigger","filter","tslib_1.__extends","moment","CORE_TRANSLATIONS.MAP","tslib_1.__decorate","timer","state","_moment","OFormValue"],"mappings":"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"}
