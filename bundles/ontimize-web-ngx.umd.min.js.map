{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://ontimize-web-ngx/lib/util/base64.ts","ng://ontimize-web-ngx/lib/util/codes.ts","ng://ontimize-web-ngx/lib/util/util.ts","ng://ontimize-web-ngx/lib/config/app-config.ts","ng://ontimize-web-ngx/lib/util/async.ts","ng://ontimize-web-ngx/lib/components/list/list-item/o-list-item.directive.ts","ng://ontimize-web-ngx/lib/directives/keyboard-listener.directive.ts","ng://ontimize-web-ngx/lib/decorators/input-converter.ts","ng://ontimize-web-ngx/lib/shared/components/dialog/o-dialog.component.ts","ng://ontimize-web-ngx/lib/services/dialog.service.ts","ng://ontimize-web-ngx/lib/components/form/OFormValue.ts","ng://ontimize-web-ngx/lib/util/sqltypes.ts","ng://ontimize-web-ngx/lib/util/service.utils.ts","ng://ontimize-web-ngx/lib/services/login-storage.service.ts","ng://ontimize-web-ngx/lib/services/base-service-response.class.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-service-response.class.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-service-response.adapter.ts","ng://ontimize-web-ngx/lib/services/parser/o-service-response.parser.ts","ng://ontimize-web-ngx/lib/services/base-service.class.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-base-service.class.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize.service.ts","ng://ontimize-web-ngx/lib/services/permissions/ontimize-ee-permissions.service.ts","ng://ontimize-web-ngx/lib/services/permissions/ontimize-permissions.service.ts","ng://ontimize-web-ngx/lib/services/permissions/permissions.service.ts","ng://ontimize-web-ngx/lib/shared/components/validation/o-validator.component.ts","ng://ontimize-web-ngx/lib/shared/material/o-mat-error/o-mat-error.ts","ng://ontimize-web-ngx/lib/util/permissions.ts","ng://ontimize-web-ngx/lib/components/input/o-form-control.class.ts","ng://ontimize-web-ngx/lib/i18n/i18n.ts","ng://ontimize-web-ngx/lib/services/moment.service.ts","ng://ontimize-web-ngx/lib/shared/components/snackbar/o-snackbar.component.ts","ng://ontimize-web-ngx/lib/services/snackbar.service.ts","ng://ontimize-web-ngx/lib/util/filter-expression.utils.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-ee.service.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-export.service.ts","ng://ontimize-web-ngx/lib/services/ontimize/ontimize-file.service.ts","ng://ontimize-web-ngx/lib/services/factories.ts","ng://ontimize-web-ngx/lib/services/translate/o-translate.service.ts","ng://ontimize-web-ngx/lib/components/o-component.class.ts","ng://ontimize-web-ngx/lib/components/o-value-change-event.class.ts","ng://ontimize-web-ngx/lib/components/o-form-data-component.class.ts","ng://ontimize-web-ngx/lib/components/input/o-form-service-component.class.ts","ng://ontimize-web-ngx/lib/directives/locker.directive.ts","ng://ontimize-web-ngx/lib/directives/o-hidden.directive.ts","ng://ontimize-web-ngx/lib/directives/o-tab-group.directive.ts","ng://ontimize-web-ngx/lib/config/o-directives.ts","ng://ontimize-web-ngx/lib/pipes/columns-filter.pipe.ts","ng://ontimize-web-ngx/lib/services/number.service.ts","ng://ontimize-web-ngx/lib/services/currency.service.ts","ng://ontimize-web-ngx/lib/pipes/o-currency.pipe.ts","ng://ontimize-web-ngx/lib/pipes/o-integer.pipe.ts","ng://ontimize-web-ngx/lib/pipes/o-moment.pipe.ts","ng://ontimize-web-ngx/lib/pipes/o-real.pipe.ts","ng://ontimize-web-ngx/lib/pipes/o-percentage.pipe.ts","ng://ontimize-web-ngx/lib/pipes/o-translate.pipe.ts","ng://ontimize-web-ngx/lib/pipes/order-by.pipe.ts","ng://ontimize-web-ngx/lib/services/local-storage.service.ts","ng://ontimize-web-ngx/lib/services/o-breadcrumb.service.ts","ng://ontimize-web-ngx/lib/services/navigation.service.ts","ng://ontimize-web-ngx/lib/shared/components/error403/o-error-403.component.ts","ng://ontimize-web-ngx/lib/shared/components/validation/o-error.component.ts","ng://ontimize-web-ngx/lib/services/ontimize-icon-registry.service.ts","ng://ontimize-web-ngx/lib/shared/material/date/mat-date-formats.factory.ts","ng://ontimize-web-ngx/lib/shared/material/custom.material.module.ts","ng://ontimize-web-ngx/lib/shared/material/o-mat-error/o-mat-error.module.ts","ng://ontimize-web-ngx/lib/shared/shared.module.ts","ng://ontimize-web-ngx/lib/services/app-menu.service.ts","ng://ontimize-web-ngx/lib/components/bar-menu/o-bar-menu.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/o-base-menu-item.class.ts","ng://ontimize-web-ngx/lib/components/bar-menu/locale-menu-item/o-locale-bar-menu-item.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/menu-group/o-bar-menu-group.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/menu-item/o-bar-menu-item.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/menu-nested/o-bar-menu-nested.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/menu-separator/o-bar-menu-separator.component.ts","ng://ontimize-web-ngx/lib/components/bar-menu/o-bar-menu.module.ts","ng://ontimize-web-ngx/lib/components/breadcrumb/o-breadcrumb.component.ts","ng://ontimize-web-ngx/lib/components/breadcrumb/o-breadcrumb.module.ts","ng://ontimize-web-ngx/lib/components/button-toggle/o-button-toggle.component.ts","ng://ontimize-web-ngx/lib/components/button-toggle/o-button-toggle-group/o-button-toggle-group.component.ts","ng://ontimize-web-ngx/lib/components/button-toggle/o-button-toggle.module.ts","ng://ontimize-web-ngx/lib/components/button/o-button.component.ts","ng://ontimize-web-ngx/lib/components/button/o-button.module.ts","ng://ontimize-web-ngx/lib/components/card-menu-item/o-card-menu-item.component.ts","ng://ontimize-web-ngx/lib/components/card-menu-item/o-card-menu-item.module.ts","ng://ontimize-web-ngx/lib/components/container/o-container-component.class.ts","ng://ontimize-web-ngx/lib/components/container/o-container-collapsible-component.class.ts","ng://ontimize-web-ngx/lib/components/container/column-collapsible/o-column-collapsible.component.ts","ng://ontimize-web-ngx/lib/components/container/column-collapsible/o-column-collapsible.module.ts","ng://ontimize-web-ngx/lib/components/container/column/o-column.component.ts","ng://ontimize-web-ngx/lib/components/container/column/o-column.module.ts","ng://ontimize-web-ngx/lib/components/container/row-collapsible/o-row-collapsible.component.ts","ng://ontimize-web-ngx/lib/components/container/row-collapsible/o-row-collapsible.module.ts","ng://ontimize-web-ngx/lib/components/container/row/o-row.component.ts","ng://ontimize-web-ngx/lib/components/container/row/o-row.module.ts","ng://ontimize-web-ngx/lib/components/contextmenu/o-content-menu.class.ts","ng://ontimize-web-ngx/lib/components/contextmenu/context-menu-item/o-context-menu-item.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/context-menu-group/o-context-menu-group.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/context-menu-separator/o-context-menu-separator.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/context-menu/o-wrapper-content-menu/o-wrapper-content-menu.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/context-menu/o-context-menu-content.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/o-context-menu.service.ts","ng://ontimize-web-ngx/lib/components/contextmenu/o-context-menu.component.ts","ng://ontimize-web-ngx/lib/components/contextmenu/o-context-menu.directive.ts","ng://ontimize-web-ngx/lib/components/contextmenu/o-context-menu.module.ts","ng://ontimize-web-ngx/lib/components/form-container/o-form-container.component.ts","ng://ontimize-web-ngx/lib/components/form/cache/o-form.cache.class.ts","ng://ontimize-web-ngx/lib/components/form/guards/o-form-can-deactivate.guard.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/directives/o-form-layout-manager-content.directive.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/dialog/o-form-layout-dialog.component.ts","ng://ontimize-web-ngx/lib/services/o-form-layout-manager.service.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/dialog/options/o-form-layout-dialog-options.component.ts","ng://ontimize-web-ngx/lib/services/share-can-activate-child.service.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/guards/o-form-layout-can-activate-child.guard.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/tabgroup/options/o-form-layout-tabgroup-options.component.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/o-form-layout-manager.component.ts","ng://ontimize-web-ngx/lib/components/form/navigation/o-form.navigation.class.ts","ng://ontimize-web-ngx/lib/components/form/o-form.component.ts","ng://ontimize-web-ngx/lib/components/filter-builder/o-filter-builder.component.ts","ng://ontimize-web-ngx/lib/components/filter-builder/o-filter-builder-clear.directive.ts","ng://ontimize-web-ngx/lib/components/filter-builder/o-filter-builder-query.directive.ts","ng://ontimize-web-ngx/lib/components/filter-builder/o-filter-builder.module.ts","ng://ontimize-web-ngx/lib/components/form-container/o-form-container.module.ts","ng://ontimize-web-ngx/lib/components/form/navigation/o-form-navigation.component.ts","ng://ontimize-web-ngx/lib/components/form/toolbar/o-form-toolbar.component.ts","ng://ontimize-web-ngx/lib/components/form/toolbar/o-form-toolbar.module.ts","ng://ontimize-web-ngx/lib/components/form/o-form.module.ts","ng://ontimize-web-ngx/lib/components/input/search-input/o-search-input.component.ts","ng://ontimize-web-ngx/lib/components/input/search-input/o-search-input.module.ts","ng://ontimize-web-ngx/lib/components/grid/grid-item/o-grid-item.component.ts","ng://ontimize-web-ngx/lib/components/grid/grid-item/o-grid-item.directive.ts","ng://ontimize-web-ngx/lib/components/o-service-base-component.class.ts","ng://ontimize-web-ngx/lib/components/o-service-component.class.ts","ng://ontimize-web-ngx/lib/components/grid/o-grid.component.ts","ng://ontimize-web-ngx/lib/components/grid/o-grid.module.ts","ng://ontimize-web-ngx/lib/components/image/fullscreen/fullscreen-dialog.component.ts","ng://ontimize-web-ngx/lib/components/image/o-image.component.ts","ng://ontimize-web-ngx/lib/components/image/o-image.module.ts","ng://ontimize-web-ngx/lib/components/input/checkbox/o-checkbox.component.ts","ng://ontimize-web-ngx/lib/components/input/checkbox/o-checkbox.module.ts","ng://ontimize-web-ngx/lib/components/input/combo/combo-search/o-combo-search.component.ts","ng://ontimize-web-ngx/lib/components/input/combo/o-combo.component.ts","ng://ontimize-web-ngx/lib/components/input/combo/o-combo.module.ts","ng://ontimize-web-ngx/lib/components/input/text-input/o-text-input.component.ts","ng://ontimize-web-ngx/lib/components/input/text-input/o-text-input.module.ts","ng://ontimize-web-ngx/lib/components/input/integer-input/o-integer-input.component.ts","ng://ontimize-web-ngx/lib/components/input/integer-input/o-integer-input.module.ts","ng://ontimize-web-ngx/lib/components/input/real-input/o-real-input.component.ts","ng://ontimize-web-ngx/lib/components/input/real-input/o-real-input.module.ts","ng://ontimize-web-ngx/lib/components/input/currency-input/o-currency-input.component.ts","ng://ontimize-web-ngx/lib/components/input/currency-input/o-currency-input.module.ts","ng://ontimize-web-ngx/lib/shared/material/date/ontimize-moment-date-adapter.ts","ng://ontimize-web-ngx/lib/components/input/date-input/o-date-input.component.ts","ng://ontimize-web-ngx/lib/components/input/date-input/o-date-input.module.ts","ng://ontimize-web-ngx/lib/components/input/date-range/o-daterange-picker.component.ts","ng://ontimize-web-ngx/lib/components/input/date-range/o-daterange-input.directive.ts","ng://ontimize-web-ngx/lib/components/input/date-range/o-daterange-input.component.ts","ng://ontimize-web-ngx/lib/components/input/date-range/o-daterange-input.module.ts","ng://ontimize-web-ngx/lib/validators/o-validators.ts","ng://ontimize-web-ngx/lib/components/input/email-input/o-email-input.component.ts","ng://ontimize-web-ngx/lib/components/input/email-input/o-email-input.module.ts","ng://ontimize-web-ngx/lib/components/input/file-input/o-file-item.class.ts","ng://ontimize-web-ngx/lib/components/input/file-input/o-file-uploader.class.ts","ng://ontimize-web-ngx/lib/components/input/file-input/o-file-input.component.ts","ng://ontimize-web-ngx/lib/components/input/file-input/o-file-input.module.ts","ng://ontimize-web-ngx/lib/components/input/hour-input/o-hour-input.component.ts","ng://ontimize-web-ngx/lib/components/input/hour-input/o-hour-input.module.ts","ng://ontimize-web-ngx/lib/components/material/ckeditor/ck-editor.component.ts","ng://ontimize-web-ngx/lib/components/material/ckeditor/ck-editor.module.ts","ng://ontimize-web-ngx/lib/components/input/html-input/o-html-input.component.ts","ng://ontimize-web-ngx/lib/components/input/html-input/o-html-input.module.ts","ng://ontimize-web-ngx/lib/components/input/listpicker/o-list-picker-dialog.component.ts","ng://ontimize-web-ngx/lib/components/input/listpicker/o-list-picker.component.ts","ng://ontimize-web-ngx/lib/components/input/listpicker/o-list-picker.module.ts","ng://ontimize-web-ngx/lib/components/input/nif-input/o-nif-input.component.ts","ng://ontimize-web-ngx/lib/components/input/nif-input/o-nif-input.module.ts","ng://ontimize-web-ngx/lib/components/input/password-input/o-password-input.component.ts","ng://ontimize-web-ngx/lib/components/input/password-input/o-password-input.module.ts","ng://ontimize-web-ngx/lib/components/input/percent-input/o-percent-input.component.ts","ng://ontimize-web-ngx/lib/components/input/percent-input/o-percent-input.module.ts","ng://ontimize-web-ngx/lib/components/input/radio/o-radio.component.ts","ng://ontimize-web-ngx/lib/components/input/radio/o-radio.module.ts","ng://ontimize-web-ngx/lib/components/input/slide-toggle/o-slide-toggle.component.ts","ng://ontimize-web-ngx/lib/components/input/slide-toggle/o-slide-toggle.module.ts","ng://ontimize-web-ngx/lib/components/input/slider/o-slider.component.ts","ng://ontimize-web-ngx/lib/components/input/slider/o-slider.module.ts","ng://ontimize-web-ngx/lib/components/input/textarea-input/o-textarea-input.component.ts","ng://ontimize-web-ngx/lib/components/input/textarea-input/o-textarea-input.module.ts","ng://ontimize-web-ngx/lib/components/input/time-input/o-time-input.component.ts","ng://ontimize-web-ngx/lib/components/input/time-input/o-time-input.module.ts","ng://ontimize-web-ngx/lib/util/locale.ts","ng://ontimize-web-ngx/lib/components/language-selector/o-language-selector.component.ts","ng://ontimize-web-ngx/lib/components/language-selector/o-language-selector.module.ts","ng://ontimize-web-ngx/lib/components/list/o-list.component.ts","ng://ontimize-web-ngx/lib/components/list/list-item/o-list-item.component.ts","ng://ontimize-web-ngx/lib/components/list/renderers/o-list-item-text-renderer.class.ts","ng://ontimize-web-ngx/lib/components/list/renderers/avatar/o-list-item-avatar.component.ts","ng://ontimize-web-ngx/lib/components/list/renderers/o-list-item-card-renderer.class.ts","ng://ontimize-web-ngx/lib/components/list/renderers/card-image/o-list-item-card-image.component.ts","ng://ontimize-web-ngx/lib/components/list/renderers/card/o-list-item-card.component.ts","ng://ontimize-web-ngx/lib/components/list/renderers/text/o-list-item-text.component.ts","ng://ontimize-web-ngx/lib/components/list/o-list.module.ts","ng://ontimize-web-ngx/lib/types/o-column-value-filter.type.ts","ng://ontimize-web-ngx/lib/components/table/column/o-column.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/default-o-table-options.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/filter-by-column/o-table-filter-by-column-data-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/paginator/o-base-table-paginator.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-option/o-table-option.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/default-o-table.datasource.ts","ng://ontimize-web-ngx/lib/components/table/extensions/o-table-datasource.service.ts","ng://ontimize-web-ngx/lib/components/table/extensions/o-table-storage.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/o-table.dao.ts","ng://ontimize-web-ngx/lib/components/table/extensions/sort/o-mat-sort.ts","ng://ontimize-web-ngx/lib/components/table/extensions/sort/o-mat-sort-header.ts","ng://ontimize-web-ngx/lib/components/table/o-table.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/o-base-table-cell-editor.class.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/boolean/o-table-cell-editor-boolean.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/date/o-table-cell-editor-date.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/integer/o-table-cell-editor-integer.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/real/o-table-cell-editor-real.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/text/o-table-cell-editor-text.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/time/o-table-cell-editor-time.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-editor/cell-editor.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/o-base-table-cell-renderer.class.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/action/o-table-cell-renderer-action.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/boolean/o-table-cell-renderer-boolean.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/integer/o-table-cell-renderer-integer.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/real/o-table-cell-renderer-real.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/currency/o-table-cell-renderer-currency.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/date/o-table-cell-renderer-date.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/image/o-table-cell-renderer-image.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/percentage/o-table-cell-renderer-percentage.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/service/o-table-cell-renderer-service.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/time/o-table-cell-renderer-time.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/translate/o-table-cell-renderer-translate.component.ts","ng://ontimize-web-ngx/lib/components/table/column/cell-renderer/cell-renderer.ts","ng://ontimize-web-ngx/lib/components/table/column/o-table-column.component.ts","ng://ontimize-web-ngx/lib/components/table/column/calculated/o-table-column-calculated.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/contextmenu/o-table-context-menu.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/apply-configuration/o-table-apply-configuration-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/export-button/o-table-export-button.service.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-menu/o-table-export-configuration.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/export/o-table-export-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/load-filter/o-table-load-filter-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/o-table-base-dialog.class.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/store-configuration/o-table-store-configuration-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/store-filter/o-table-store-filter-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/visible-columns/o-table-visible-columns-dialog.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/dialog/o-table-dialog-components.ts","ng://ontimize-web-ngx/lib/components/table/extensions/export-button/o-table-export-button.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/aggregate/o-table-column-aggregate.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/expanded/o-table-expanded-footer.directive.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/paginator/o-table-paginator.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/o-table-footer-components.ts","ng://ontimize-web-ngx/lib/components/table/extensions/footer/paginator/o-table-mat-paginator-intl.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-button/o-table-button.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-buttons/o-table-buttons.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-column-resizer/o-table-column-resizer.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-columns-filter/o-table-columns-filter.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-insertable-row/o-table-insertable-row.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-menu/o-table-menu.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/table-quickfilter/o-table-quickfilter.component.ts","ng://ontimize-web-ngx/lib/components/table/extensions/header/o-table-header-components.ts","ng://ontimize-web-ngx/lib/components/table/extensions/pipes/o-table-row-class.pipe.ts","ng://ontimize-web-ngx/lib/components/table/extensions/row/o-table-row.directive.ts","ng://ontimize-web-ngx/lib/components/table/extensions/sort/o-mat-sort-module.ts","ng://ontimize-web-ngx/lib/components/table/o-table.module.ts","ng://ontimize-web-ngx/lib/services/remote-config.service.ts","ng://ontimize-web-ngx/lib/services/login.service.ts","ng://ontimize-web-ngx/lib/services/o-user-info.service.ts","ng://ontimize-web-ngx/lib/components/user-info/o-user-info.component.ts","ng://ontimize-web-ngx/lib/components/user-info/o-user-info.module.ts","ng://ontimize-web-ngx/lib/services/o-modules-info.service.ts","ng://ontimize-web-ngx/lib/components/app-header/o-app-header.component.ts","ng://ontimize-web-ngx/lib/components/app-header/o-app-header.module.ts","ng://ontimize-web-ngx/lib/components/app-sidenav/o-app-sidenav.component.ts","ng://ontimize-web-ngx/lib/components/app-sidenav/image/o-app-sidenav-image.component.ts","ng://ontimize-web-ngx/lib/components/app-sidenav/menu-group/o-app-sidenav-menu-group.component.ts","ng://ontimize-web-ngx/lib/layouts/app-layout/o-app-layout.component.ts","ng://ontimize-web-ngx/lib/components/app-sidenav/menu-item/o-app-sidenav-menu-item.component.ts","ng://ontimize-web-ngx/lib/components/app-sidenav/o-app-sidenav.module.ts","ng://ontimize-web-ngx/lib/layouts/app-layout/app-layout-header/o-app-layout-header.component.ts","ng://ontimize-web-ngx/lib/layouts/app-layout/app-layout-sidenav/o-app-layout-sidenav.component.ts","ng://ontimize-web-ngx/lib/layouts/app-layout/o-app-layout.module.ts","ng://ontimize-web-ngx/lib/layouts/card-menu-layout/o-card-menu-layout.component.ts","ng://ontimize-web-ngx/lib/layouts/card-menu-layout/o-card-menu-layout.module.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/tabgroup/o-form-layout-tabgroup.component.ts","ng://ontimize-web-ngx/lib/layouts/form-layout/o-form-layout-manager.module.ts","ng://ontimize-web-ngx/lib/services/permissions/permissions-can-activate.guard.ts","ng://ontimize-web-ngx/lib/services/permissions/o-permissions.module.ts","ng://ontimize-web-ngx/lib/services/translate/o-translate-http-loader.ts","ng://ontimize-web-ngx/lib/services/translate/o-translate.parser.ts","ng://ontimize-web-ngx/lib/services/app-config.provider.ts","ng://ontimize-web-ngx/lib/config/o-providers.ts","ng://ontimize-web-ngx/lib/config/o-modules.ts","ng://ontimize-web-ngx/lib/ontimize-web-ngx.module.ts","ng://ontimize-web-ngx/lib/services/auth-guard.service.ts","ng://ontimize-web-ngx/lib/decorators/o-component.ts","ng://ontimize-web-ngx/lib/shared/components/dialog/o-dialog.config.ts","ng://ontimize-web-ngx/lib/MainLauncher.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","\nexport class Base64 {\n  private static PADCHAR: string = '=';\n  private static ALPHA: string = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n  public static decode(s: string): string {\n    let pads = 0,\n      i, b10, imax = s.length,\n      x = [];\n\n    s = String(s);\n\n    if (imax === 0) {\n      return s;\n    }\n\n    if (s.charAt(imax - 1) === this.PADCHAR) {\n      pads = 1;\n      if (s.charAt(imax - 2) === this.PADCHAR) {\n        pads = 2;\n      }\n      imax -= 4;\n    }\n\n    for (i = 0; i < imax; i += 4) {\n      b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6) | this.getByte64(s, i + 3);\n      x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255, b10 & 255));\n    }\n\n    switch (pads) {\n      case 1:\n        b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6);\n        x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255));\n        break;\n      case 2:\n        b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12);\n        x.push(String.fromCharCode(b10 >> 16));\n        break;\n    }\n\n    return x.join('');\n  }\n\n  public static encode(s: string): string {\n    s = String(s);\n\n    let i, b10, x = [],\n      imax = s.length - s.length % 3;\n\n    if (s.length === 0) {\n      return s;\n    }\n\n    for (i = 0; i < imax; i += 3) {\n      b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8) | this.getByte(s, i + 2);\n      x.push(this.ALPHA.charAt(b10 >> 18));\n      x.push(this.ALPHA.charAt((b10 >> 12) & 63));\n      x.push(this.ALPHA.charAt((b10 >> 6) & 63));\n      x.push(this.ALPHA.charAt(b10 & 63));\n    }\n\n    switch (s.length - imax) {\n      case 1:\n        b10 = this.getByte(s, i) << 16;\n        x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.PADCHAR + this.PADCHAR);\n        break;\n      case 2:\n        b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8);\n        x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.ALPHA.charAt((b10 >> 6) & 63) + this.PADCHAR);\n        break;\n    }\n\n    return x.join('');\n  }\n\n  private static getByte(s: string, i: number): number {\n    const x = s.charCodeAt(i);\n    return x;\n  }\n\n  private static getByte64(s: string, i: number): number {\n    const idx = this.ALPHA.indexOf(s.charAt(i));\n    return idx;\n  }\n\n}\n","export type OAppLayoutMode = 'mobile' | 'desktop';\nexport type OSidenavMode = 'over' | 'push' | 'side';\nexport class Codes {\n\n  public static PAGINATED_QUERY_METHOD = 'advancedQuery';\n  public static DELETE_METHOD = 'delete';\n  public static INSERT_METHOD = 'insert';\n  public static UPDATE_METHOD = 'update';\n  public static QUERY_METHOD = 'query';\n\n  public static DEFAULT_QUERY_ROWS = 10;\n\n  public static DETAIL_ICON = 'chevron_right';\n  public static EDIT_ICON = 'mode_edit';\n\n  public static DEFAULT_ROW_HEIGHT = 'medium';\n  public static AVAILABLE_ROW_HEIGHTS_VALUES = ['small', 'medium', 'large'];\n\n  public static DETAIL_MODE_NONE = 'none';\n  public static DETAIL_MODE_CLICK = 'click';\n  public static DETAIL_MODE_DBLCLICK_VALUES = ['dblclick', 'doubleclick'];\n\n  public static EDITION_MODE_NONE = 'none';\n  public static EDITION_MODE_CLICK = 'click';\n  public static EDITION_MODE_DBLCLICK_VALUES = ['dblclick', 'doubleclick'];\n\n  public static SELECTION_MODE_NONE = 'none';\n  public static SELECTION_MODE_SINGLE = 'single';\n  public static SELECTION_MODE_MULTIPLE = 'multiple';\n\n  public static EXPORT_MODE_VISIBLE = 'visible';\n  public static EXPORT_MODE_LOCAL = 'local';\n  public static EXPORT_MODE_ALL = 'all';\n\n  public static HYPHEN_SEPARATOR = '-';\n  public static SPACE_SEPARATOR = ' ';\n  public static COLUMNS_ALIAS_SEPARATOR = ':';\n  public static ARRAY_INPUT_SEPARATOR = ';';\n  public static TYPE_SEPARATOR = ':';\n  public static VALUES_SEPARATOR = '=';\n  public static ASC_SORT = 'asc';\n  public static DESC_SORT = 'desc';\n\n  public static TYPE_INT = 'int';\n\n  public static ROUTE_SEPARATOR = '/';\n  public static ROUTE_VARIABLE_CHAR = ':';\n\n  public static PARENT_KEYS_KEY = 'pk';\n  public static QUERY_PARAMS = 'queryParams';\n  public static IS_DETAIL = 'isdetail';\n\n  public static LANGUAGE_KEY = 'lang';\n  public static SESSION_KEY = 'session';\n  public static SESSION_EXPIRED_KEY = 'session-expired';\n\n  public static LOGIN_ROUTE = '/login';\n  public static FORBIDDEN_ROUTE = '403';\n  public static DEFAULT_EDIT_ROUTE = 'edit';\n  public static DEFAULT_DETAIL_ROUTE = undefined;\n  public static DEFAULT_INSERT_ROUTE = 'new';\n\n  public static IGNORE_CAN_DEACTIVATE = 'ignore_can_deactivate';\n\n  public static ONTIMIZE_SUCCESSFUL_CODE = 0;\n  public static ONTIMIZE_FAILED_CODE = 1;\n  public static ONTIMIZE_UNAUTHORIZED_CODE = 3;\n\n  public static ICON_POSITION_LEFT = 'left';\n  public static ICON_POSITION_RIGHT = 'right';\n\n  public static COLUMN_TITLE_ALIGN_START = 'start';\n  public static COLUMN_TITLE_ALIGN_CENTER = 'center';\n  public static COLUMN_TITLE_ALIGN_END = 'end';\n  public static COLUMN_TITLE_ALIGN_AUTO = 'auto';\n  public static AVAILABLE_COLUMN_TITLE_ALIGNS =\n    [Codes.COLUMN_TITLE_ALIGN_START, Codes.COLUMN_TITLE_ALIGN_CENTER, Codes.COLUMN_TITLE_ALIGN_END, Codes.COLUMN_TITLE_ALIGN_AUTO];\n\n  public static O_MAT_ERROR_STANDARD = 'standard';\n  public static O_MAT_ERROR_LITE = 'lite';\n\n  public static O_INPUTS_OPTIONS_COLOR_ACCENT = 'accent';\n  public static HourFormat = {\n    TWELVE: 'hh:mm a',\n    TWENTY_FOUR: 'HH:mm a',\n  };\n\n  // OFormComponent\n  public static CLOSE_DETAIL_ACTION: string = 'CLOSE';\n  public static BACK_ACTION: string = 'BACK';\n  public static RELOAD_ACTION: string = 'RELOAD';\n  public static GO_EDIT_ACTION: string = 'GO_EDIT';\n  public static EDIT_ACTION: string = 'EDIT';\n  public static INSERT_ACTION: string = 'INSERT';\n  public static GO_INSERT_ACTION: string = 'GO_INSERT';\n  public static DELETE_ACTION: string = 'DELETE';\n  public static UNDO_LAST_CHANGE_ACTION: string = 'UNDO_LAST_CHANGE';\n\n  // OTableComponent\n  public static DEFAULT_COLUMN_MIN_WIDTH = 80;\n  public static NAME_COLUMN_SELECT = 'select';\n  public static SUFFIX_COLUMN_INSERTABLE = '_insertable';\n  public static LIMIT_SCROLLVIRTUAL = 50;\n\n  public static TWENTY_FOUR_HOUR_FORMAT = 24;\n  public static TWELVE_FOUR_HOUR_FORMAT = 12;\n\n  public static OAppLayoutModes: OAppLayoutMode[] = ['mobile', 'desktop'];\n  public static OSidenavModes: OSidenavMode[] = ['over', 'push', 'side'];\n\n  public static OAppLayoutMode = ['mobile', 'desktop'];\n  public static OSidenavMode = ['over', 'push', 'side'];\n\n  public static APP_LAYOUT_MODE_DESKTOP: OAppLayoutMode = 'desktop';\n  public static APP_LAYOUT_MODE_MOBILE: OAppLayoutMode = 'mobile';\n\n  static isDoubleClickMode(value: string): boolean {\n    return Codes.DETAIL_MODE_DBLCLICK_VALUES.indexOf(value) !== -1;\n  }\n\n  static isValidRowHeight(value: string): boolean {\n    return Codes.AVAILABLE_ROW_HEIGHTS_VALUES.indexOf(value) !== -1;\n  }\n\n  static getIsDetailObject(): any {\n    const res = {};\n    res[Codes.IS_DETAIL] = 'true';\n    return res;\n  }\n\n  static formatString(format: number) {\n    return (format === Codes.TWENTY_FOUR_HOUR_FORMAT ? Codes.HourFormat.TWENTY_FOUR : Codes.HourFormat.TWELVE);\n  }\n\n  static isHourInputAllowed(e: KeyboardEvent): boolean {\n    // Allow: backspace, delete, tab, escape, enter\n    if ([46, 8, 9, 27, 13].some(n => n === e.keyCode) ||\n      (e.key === ':') ||\n      // Allow: Ctrl/cmd+A\n      (e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: Ctrl/cmd+C\n      (e.keyCode === 67 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: Ctrl/cmd+X\n      (e.keyCode === 88 && (e.ctrlKey === true || e.metaKey === true)) ||\n      // Allow: home, end, left, right, up, down\n      (e.keyCode >= 35 && e.keyCode <= 40)) {\n      return true;\n    }\n    return !((e.keyCode < 48 || e.keyCode > 57) && (e.keyCode < 96 || e.keyCode > 105));\n  }\n}\n","import { IDataService } from '../interfaces/data-service.interface';\nimport { IFormDataComponent } from '../interfaces/form-data-component.interface';\nimport { IPermissionsService } from '../interfaces/permissions-service.interface';\nimport { ODateValueType } from '../types/o-date-value.type';\nimport { Base64 } from './base64';\nimport { Codes } from './codes';\n\nexport class Util {\n\n  static isObject(val: any): boolean {\n    const valType = typeof val;\n    return valType === 'object';\n  }\n\n  static isArray(val: any): boolean {\n    return val instanceof Array;\n  }\n\n  static parseBoolean(value: string, defaultValue?: boolean): boolean {\n    if ((typeof value === 'string') && (value.toUpperCase() === 'TRUE' || value.toUpperCase() === 'YES')) {\n      return true;\n    } else if ((typeof value === 'string') && (value.toUpperCase() === 'FALSE' || value.toUpperCase() === 'NO')) {\n      return false;\n    } else if (Util.isDefined(defaultValue)) {\n      return defaultValue;\n    }\n    return false;\n  }\n\n  static parseArray(value: string, excludeRepeated: boolean = false): string[] {\n    let result = [];\n    if (value) {\n      result = value.split(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    if (excludeRepeated && result.length > 0) {\n      result = Array.from(new Set(result));\n    }\n    return result;\n  }\n\n  /**\n   * Returns an object with parent keys equivalences.\n   * @param  pKeysArray Array of strings. Accepted format: key | key:alias\n   * @returns Object\n   */\n  static parseParentKeysEquivalences(pKeysArray: Array<string>, separator: string = ':'): object {\n    const equivalences = {};\n    if (pKeysArray && pKeysArray.length > 0) {\n      pKeysArray.forEach(item => {\n        const aux = item.split(separator);\n        if (aux && aux.length === 2) {\n          if (/.+\\[.+\\]/.test(aux[1])) {\n            const equivKey = aux[1].substring(0, aux[1].indexOf('['));\n            const equivValue = aux[1].substring(aux[1].indexOf('[') + 1, aux[1].indexOf(']'));\n            const equiv = {};\n            equiv[equivKey] = equivValue;\n            equivalences[aux[0]] = equiv;\n          } else {\n            equivalences[aux[0]] = aux[1];\n          }\n        } else if (aux && aux.length === 1) {\n          equivalences[item] = item;\n        }\n      });\n    }\n    return equivalences;\n  }\n\n  static encodeParentKeys(parentKeys: object): string {\n    let encoded: string = '';\n    if (parentKeys) {\n      encoded = Base64.encode(JSON.stringify(parentKeys));\n    }\n    return encoded;\n  }\n\n  static decodeParentKeys(parentKeys: string): object {\n    let decoded = {};\n    if (parentKeys && parentKeys.length > 0) {\n      const d = Base64.decode(parentKeys);\n      decoded = JSON.parse(d);\n    }\n    return decoded;\n  }\n\n  static isArrayEmpty(array: any[]): boolean {\n    if (array && array.length === 0) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Checks wether specified service as argument implements 'IDataService' interface\n   * @param arg The service instance for checking.\n   * @returns boolean\n   */\n  static isDataService(arg: any): arg is IDataService {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IDataService).getDefaultServiceConfiguration !== undefined &&\n      (arg as IDataService).configureService !== undefined);\n  }\n\n  /**\n   * Checks wether specified service as argument implements 'IDataService' interface\n   * @param arg The service instance for checking.\n   * @returns boolean\n   */\n  static isPermissionsService(arg: any): arg is IPermissionsService {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IPermissionsService).loadPermissions !== undefined);\n  }\n\n  /**\n   * Checks wether specified component as argument implements 'IFormDataComponent' interface\n   * @param arg The component instance for checking.\n   * @returns boolean\n   */\n  static isFormDataComponent(arg: any): arg is IFormDataComponent {\n    if (arg === undefined || arg === null) {\n      return false;\n    }\n    return ((arg as IFormDataComponent).isAutomaticBinding !== undefined);\n  }\n\n  /**\n   * Compare is equal two objects\n   * @param a Object 1\n   * @param b Object 2\n   *\n   */\n  static isEquivalent(a, b) {\n    // Create arrays of property names\n    const aProps = Object.getOwnPropertyNames(a);\n    const bProps = Object.getOwnPropertyNames(b);\n\n    // If number of properties is different, objects are not equivalent\n    if (aProps.length !== bProps.length) {\n      return false;\n    }\n\n    for (let i = 0; i < aProps.length; i++) {\n      const propName = aProps[i];\n      // If values of same property are not equal, objects are not equivalent\n      let bValue = b[propName];\n      if (typeof a[propName] === 'number') {\n        const intB = parseInt(bValue, 10);\n        bValue = isNaN(intB) ? bValue : intB;\n      }\n      if (a[propName] !== bValue) {\n        return false;\n      }\n    }\n\n    // If we made it this far, objects are considered equivalent\n    return true;\n  }\n\n  static equals(o1: any, o2: any): boolean {\n    if (o1 === o2) {\n      return true;\n    }\n    if (o1 === null || o2 === null) {\n      return false;\n    }\n    if (o1 !== o1 && o2 !== o2) {\n      // NaN === NaN\n      return true;\n    }\n    const t1 = typeof o1;\n    const t2 = typeof o2;\n    let length: number;\n    let key: any;\n    let keySet: any;\n    if (t1 === t2 && t1 === 'object') {\n      if (Array.isArray(o1)) {\n        if (!Array.isArray(o2)) {\n          return false;\n        }\n        length = o1.length;\n        if (length === o2.length) {\n          for (key = 0; key < length; key++) {\n            if (!Util.equals(o1[key], o2[key])) {\n              return false;\n            }\n          }\n          return true;\n        }\n      } else {\n        if (Array.isArray(o2)) {\n          return false;\n        }\n        keySet = Object.create(null);\n        for (key in o1) {\n          if (!Util.equals(o1[key], o2[key])) {\n            return false;\n          }\n          keySet[key] = true;\n        }\n        for (key in o2) {\n          if (!(key in keySet) && typeof o2[key] !== 'undefined') {\n            return false;\n          }\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n\n  static isDefined(value: any): boolean {\n    return typeof value !== 'undefined' && value !== null;\n  }\n\n  /**\n   * Returns the provided string in lowercase and without accent marks.\n   * @param value the text to normalize\n   */\n  static normalizeString(value: string, toLowerCase: boolean = true): string {\n    if (value && value.length) {\n      let result = value.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n      if (toLowerCase) {\n        result = result.toLowerCase();\n      }\n      return result;\n    }\n    return '';\n  }\n\n  /**\n   * Returns the provided array flattend.\n   * @param array the array to flat\n   */\n  static flatten(array: Array<any>): Array<any> {\n    return [].concat(...array);\n  }\n\n  /**\n   * Returns a list with all the values from the provided object.\n   * @param obj the object\n   */\n  static getValuesFromObject(obj: object = {}): Array<any> {\n    const array: Array<any> = [];\n    Object.keys(obj).forEach(key => {\n      if (typeof obj[key] === 'object') {\n        array.push(Util.getValuesFromObject(obj[key]));\n      }\n      array.push(obj[key]);\n    });\n    return Util.flatten(array);\n  }\n\n  static parseIconPosition(value: string, defaultValue?: string): string {\n    let result = defaultValue || Codes.ICON_POSITION_LEFT;\n    const availablePositions = [Codes.ICON_POSITION_LEFT, Codes.ICON_POSITION_RIGHT];\n    if (value && value.length) {\n      result = value.toLowerCase();\n    }\n    if (availablePositions.indexOf(result) === -1) {\n      result = defaultValue || Codes.ICON_POSITION_LEFT;\n    }\n    return result;\n  }\n\n  static copyToClipboard(data: string) {\n    document.addEventListener('copy', (e: ClipboardEvent) => {\n      e.clipboardData.setData('text/plain', data);\n      e.preventDefault();\n      document.removeEventListener('copy', null);\n    });\n    document.execCommand('copy');\n  }\n\n  static checkPixelsValueString(value: string): boolean {\n    return typeof value === 'string' ? value.toLowerCase().endsWith('px') : false;\n  }\n\n  static extractPixelsValue(value: any, defaultValue?: number): number {\n    let result: number = typeof value === 'number' ? value : undefined;\n    if (Util.checkPixelsValueString(value)) {\n      const parsed = parseFloat(value.substr(0, value.length - 'px'.length));\n      result = isNaN(parsed) ? defaultValue : parsed;\n    }\n    return Util.isDefined(result) ? result : defaultValue;\n  }\n  /**\n   * Added class 'accent' in <mat-form-field> and set the color  accent in the icons\n   * @param elRef\n   * @param oInputsOptions\n   */\n\n  static parseOInputsOptions(elRef, oInputsOptions) {\n\n    if (oInputsOptions.iconColor === Codes.O_INPUTS_OPTIONS_COLOR_ACCENT) {\n      const matFormFieldEL = elRef.nativeElement.getElementsByTagName('mat-form-field')[0];\n      if (Util.isDefined(matFormFieldEL)) {\n        matFormFieldEL.classList.add('accent');\n      }\n    }\n  }\n\n\n  /**\n   *  Return string with escaped special character\n   */\n  static escapeSpecialCharacter(S: string): string {\n\n    const str = String(S);\n\n    const cpList = Array.from(str[Symbol.iterator]());\n\n    const cuList = [];\n    for (const c of cpList) {\n      // i. If c is a SpecialCharacter then do:\n      if ('^$\\\\.*+?()[]{}|'.indexOf(c) !== -1) {\n        // a. Append \"\\\" to cuList.\n        cuList.push('\\\\');\n      }\n      // Append c to cpList.\n      cuList.push(c);\n    }\n    const L = cuList.join('');\n    return L;\n\n  }\n\n  static differenceArrays(array1: Array<any>, array2: Array<any>): Array<any> {\n    const difference = array1.filter(obj => {\n      return !array2.some(obj2 => {\n        return this.equals(obj, obj2);\n      });\n    });\n    return difference;\n  }\n\n  static convertToODateValueType(val: any): ODateValueType {\n    let result: ODateValueType = 'timestamp';\n    const lowerVal = (val || '').toLowerCase();\n    if (lowerVal === 'string' || lowerVal === 'date' || lowerVal === 'timestamp' || lowerVal === 'iso-8601') {\n      result = lowerVal;\n    }\n    return result;\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { Config } from '../types/config.type';\nimport { MenuRootItem } from '../types/menu-root-item.type';\nimport { OInputsOptions } from '../types/o-inputs-options.type';\nimport { ORemoteConfiguration } from '../types/remote-configuration.type';\nimport { Util } from '../util/util';\n\nconst DEFAULT_LOCAL_STORAGE_KEY = undefined;\nconst DEFAULT_CONFIG: Config = {\n  uuid: DEFAULT_LOCAL_STORAGE_KEY,\n  title: 'Ontimize Web App'\n};\n\nexport const O_INPUTS_OPTIONS = new InjectionToken<OInputsOptions>('o-inputs-options');\n\nexport const APP_CONFIG = new InjectionToken<Config>('app.config');\n\nexport class AppConfig {\n  private _config: Config;\n\n  constructor(config?) {\n    this._config = (config && Util.isObject(config) && !Array.isArray(config)) ? config : {};\n  }\n\n  public getConfiguration(): Config {\n    return Object.assign(DEFAULT_CONFIG, this._config);\n  }\n\n  public getServiceConfiguration(): any {\n    return this._config.servicesConfiguration || {};\n  }\n\n  public getMenuConfiguration(): MenuRootItem[] {\n    return this._config.appMenuConfiguration || [];\n  }\n\n  public useRemoteBundle(): boolean {\n    return Util.isDefined(this._config.bundle);\n  }\n\n  public getBundleEndpoint(): string {\n    let result: string;\n    const existsBundleConf = this.useRemoteBundle();\n    if (existsBundleConf && Util.isDefined(this._config.bundle.endpoint)) {\n      result = this._config.bundle.endpoint;\n    } else if (existsBundleConf && Util.isDefined(this._config.bundle.path)) {\n      result = this._config.apiEndpoint + '/' + this._config.bundle.path;\n    }\n    return result;\n  }\n\n  public getI18nAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.i18n)) {\n      return this._config.assets.i18n;\n    }\n    return undefined;\n  }\n\n  public getCssAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.css)) {\n      return this._config.assets.css;\n    }\n    return undefined;\n  }\n\n  public getImagesAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.images)) {\n      return this._config.assets.images;\n    }\n    return undefined;\n  }\n\n  public getJsAssetsConfiguration(): any {\n    if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.js)) {\n      return this._config.assets.js;\n    }\n    return undefined;\n  }\n\n  public getRemoteConfigurationConfig(): ORemoteConfiguration {\n    return this._config.remoteConfig;\n  }\n\n  public useRemoteConfiguration(): boolean {\n    return Util.isDefined(this._config.remoteConfig);\n  }\n\n  public getRemoteConfigurationEndpoint(): string {\n    let result: string;\n    const existsRemoteConf = this.useRemoteConfiguration();\n    if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.endpoint)) {\n      result = this._config.remoteConfig.endpoint;\n    } else if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.path)) {\n      result = this._config.apiEndpoint + '/' + this._config.remoteConfig.path;\n    }\n    return result;\n  }\n\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Code copied from '@angular/core/src/facade/async of RC4. On RC5 this classes are removed!!\n */\nimport { EventEmitter } from '@angular/core';\n\nexport { Observable, Subject } from 'rxjs';\n\nexport function noop() {\n  // nothing to do\n}\n\nexport class ObservableWrapper {\n  // TODO(vsavkin): when we use rxnext, try inferring the generic type from the first arg\n  static subscribe<T>(\n    emitter: any, onNext: (value: T) => void, onError?: (exception: any) => void,\n    onComplete: () => void = () => {\n      // nothing to do\n    }): object {\n    onError = (typeof onError === 'function') && onError || noop;\n    onComplete = (typeof onComplete === 'function') && onComplete || noop;\n    return emitter.subscribe({ next: onNext, error: onError, complete: onComplete });\n  }\n\n  static isObservable(obs: any): boolean { return !!obs.subscribe; }\n\n  /**\n   * Returns whether `obs` has any subscribers listening to events.\n   */\n  static hasSubscribers(obs: EventEmitter<any>): boolean { return obs.observers.length > 0; }\n\n  static dispose(subscription: any) { subscription.unsubscribe(); }\n\n  /**\n   * @deprecated - use callEmit() instead\n   */\n  static callNext(emitter: EventEmitter<any>, value: any) { emitter.emit(value); }\n\n  static callEmit(emitter: EventEmitter<any>, value: any) { emitter.emit(value); }\n\n  static callError(emitter: EventEmitter<any>, error: any) { emitter.error(error); }\n\n  static callComplete(emitter: EventEmitter<any>) { emitter.complete(); }\n\n}\n\n","import { Directive, ElementRef, EventEmitter, HostListener, Input, OnDestroy, OnInit, Renderer2 } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { IList } from '../../../interfaces/o-list.interface';\nimport { ObservableWrapper } from '../../../util/async';\nimport { Codes } from '../../../util/codes';\n\n@Directive({\n  selector: 'o-list-item, mat-list-item[o-list-item], mat-card[o-list-item]',\n  exportAs: 'olistitem',\n  host: {\n    '[class.o-list-item]': 'true',\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  }\n})\nexport class OListItemDirective implements OnInit, OnDestroy {\n\n  public mdClick: EventEmitter<any> = new EventEmitter();\n  public mdDoubleClick: EventEmitter<any> = new EventEmitter();\n\n  @Input('o-list-item')\n  public modelData: object;\n\n  @Input()\n  public selectable: boolean = false;\n\n  protected _list: IList;\n  protected subcription: any;\n\n  constructor(\n    public _el: ElementRef,\n    private renderer: Renderer2,\n    public actRoute: ActivatedRoute\n  ) { }\n\n  public ngOnInit(): void {\n    this.subcription = this.actRoute.params.subscribe(params => this.updateActiveState(params));\n  }\n\n  public ngOnDestroy(): void {\n    if (this.subcription) {\n      this.subcription.unsubscribe();\n    }\n  }\n\n  @HostListener('mouseenter')\n  public onMouseEnter(): void {\n    if (!this.selectable && this._list.detailMode !== Codes.DETAIL_MODE_NONE) {\n      this.renderer.setStyle(this._el.nativeElement, 'cursor', 'pointer');\n    }\n  }\n\n  public updateActiveState(params): void {\n    if (this._list) {\n      const aKeys = this._list.getKeys();\n      if (this.modelData) {\n        let _act = false;\n        if (aKeys.length > 0) {\n          for (let k = 0; k < aKeys.length; ++k) {\n            const key = aKeys[k];\n            const id = params[key];\n            _act = (this.modelData[key] === id);\n            if (_act === false) {\n              break;\n            }\n          }\n        }\n        if (_act) {\n          this._el.nativeElement.classList.add('mat-active');\n        } else {\n          this._el.nativeElement.classList.remove('mat-active');\n        }\n      } else {\n        this._el.nativeElement.classList.remove('mat-active');\n      }\n    }\n  }\n\n  public onItemClicked(e?: Event): void {\n    if (!this.selectable) {\n      ObservableWrapper.callEmit(this.mdClick, this);\n    }\n  }\n\n  public onClick(onNext: (item: OListItemDirective) => void): object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onItemDoubleClicked(e?: Event): void {\n    if (!this.selectable) {\n      ObservableWrapper.callEmit(this.mdDoubleClick, this);\n    }\n  }\n\n  public onDoubleClick(onNext: (item: OListItemDirective) => void): object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  public isSelected(): boolean {\n    return this._list.isItemSelected(this.modelData);\n  }\n\n  public onSelect(): void {\n    this._list.setSelected(this.modelData);\n  }\n\n  public setListComponent(list: IList): void {\n    this._list = list;\n  }\n\n  public setItemData(data: any): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  public getItemData(): any {\n    return this.modelData;\n  }\n\n}\n","import { Directive, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\n\nimport { Util } from '../util/util';\n\n@Directive({\n  selector: '[oKeyboardListener]'\n})\nexport class OKeyboardListenerDirective implements OnInit {\n\n  @Input() keyboardKeys: string;\n  @Output() onKeysPressed: EventEmitter<object> = new EventEmitter<object>();\n\n  protected keyboardNumberKeysArray: Array<number> = [];\n  protected activeKeys: object = {};\n\n  @HostListener('keydown', ['$event'])\n  keyDown(e: KeyboardEvent) {\n    const pressedCode = e.keyCode;\n    if (this.keyboardNumberKeysArray.indexOf(pressedCode) !== -1) {\n      this.activeKeys[pressedCode] = true;\n      this.checkNeededKeys(e);\n    }\n  }\n\n  @HostListener('keyup', ['$event'])\n  keyUp(e: KeyboardEvent) {\n    const pressedCode = e.keyCode;\n    if (this.keyboardNumberKeysArray.indexOf(pressedCode) !== -1) {\n      this.activeKeys[pressedCode] = false;\n    }\n  }\n\n  ngOnInit(): void {\n    this.parseKeyboardKeys();\n  }\n\n  parseKeyboardKeys() {\n    const keysAsStringArray = Util.parseArray(this.keyboardKeys);\n    keysAsStringArray.forEach(key => {\n      try {\n        this.keyboardNumberKeysArray.push(parseInt(key, 10));\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n\n  checkNeededKeys(e: KeyboardEvent) {\n    let trigger = true;\n    this.keyboardNumberKeysArray.forEach(key => {\n      trigger = trigger && this.activeKeys[key];\n    });\n    if (trigger) {\n      e.preventDefault();\n      e.stopPropagation();\n      // this.activeKeys = {};\n      this.onKeysPressed.emit();\n    }\n  }\n\n}\n","export function StringConverter(value: any) {\n  if (value == null || typeof value === 'string') {\n    return value;\n  }\n  return value.toString();\n}\n\nexport function BooleanConverter(value: any) {\n  if (value == null || typeof value === 'boolean') {\n    return value;\n  }\n  return value.toString() === 'true' || value.toString() === 'yes';\n}\n\nexport function NumberConverter(value: any) {\n  if (value == null || typeof value === 'number') {\n    return value;\n  }\n  return parseFloat(value.toString());\n}\n\nfunction createConverterIfNeeded(metadata: any, converter?: (value: any) => any) {\n  if (converter != null) {\n    return converter;\n  }\n  switch (metadata.name) {\n    case 'String':\n      converter = StringConverter;\n      break;\n    case 'Boolean':\n      converter = BooleanConverter;\n      break;\n    case 'Number':\n      converter = NumberConverter;\n      break;\n  }\n  return converter;\n}\n\nexport function InputConverter(converter?: (value: any) => any) {\n\n  return (target: object, key: string | symbol) => {\n    const metadata = (Reflect as any).getMetadata('design:type', target, key);\n    if (metadata == null) {\n      throw new Error('The reflection metadata could not be found.');\n    }\n    converter = createConverterIfNeeded(metadata, converter);\n    if (converter == null) {\n      throw new Error('There is no converter for the given property type \"' + metadata.name + '\".');\n    }\n\n    const stringKey = typeof key === 'string' ? key : key.toString();\n    const definition = Object.getOwnPropertyDescriptor(target, key);\n\n    Object.defineProperty(target, key, {\n      // tslint:disable-next-line:space-before-function-paren\n      get: definition != null ? definition.get : function () {\n        return this['__' + stringKey];\n      },\n      set: definition != null ?\n        (newValue) => {\n          definition.set(converter(newValue));\n          // tslint:disable-next-line:space-before-function-paren\n        } : function (newValue) {\n          this['__' + stringKey] = converter(newValue);\n        },\n      enumerable: true,\n      configurable: true\n    });\n  };\n}\n","import { Component, ViewEncapsulation } from '@angular/core';\nimport { MatDialogRef } from '@angular/material';\n\nimport { ODialogConfig } from './o-dialog.config';\n\n@Component({\n  selector: 'o-dialog',\n  templateUrl: './o-dialog.component.html',\n  styleUrls: ['./o-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-dialog]': 'true'\n  }\n})\nexport class ODialogComponent {\n\n  protected static DEFAULT_OK_BUTTON_TEXT = 'OK';\n  protected static DEFAULT_CANCEL_BUTTON_TEXT = 'CANCEL';\n\n  protected _title: string;\n  protected _message: string;\n  protected _okButtonText: string;\n  protected _cancelButtonText: string;\n  protected _twoOptions: boolean;\n  protected _useIcon: boolean;\n  protected _icon: string;\n  protected _alertType: string;\n\n  constructor(\n    public dialogRef: MatDialogRef<ODialogComponent>) {\n  }\n\n  onOkClick() {\n    if (this.dialogRef) {\n      this.dialogRef.close(true);\n    }\n  }\n\n  public alert(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public info(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'info';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'info';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public warn(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'warn';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'warning';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public error(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    config.alertType = 'error';\n    if (typeof (config.icon) === 'undefined') {\n      config.icon = 'error';\n    }\n    this.configureDefaultAlert(title, message, config);\n  }\n\n  public confirm(title: string, message: string, config?: ODialogConfig) {\n    config = this.ensureConfig(config);\n    this.configureDefaultAlert(title, message, config);\n    this.twoOptions = true;\n  }\n\n  /* Utility methods */\n  protected ensureConfig(config: ODialogConfig): ODialogConfig {\n    if (!config) {\n      config = {};\n    }\n    return config;\n  }\n\n  protected configureDefaultAlert(title: string, message: string, config?: ODialogConfig) {\n    this.twoOptions = false;\n    this.title = title;\n    this.message = message;\n\n    this.icon = (typeof (config.icon) !== 'undefined') ? config.icon : undefined;\n    if (this.icon !== undefined) {\n      this.useIcon = true;\n    }\n    this.alertType = config.alertType;\n\n    this.okButtonText = (typeof (config.okButtonText) !== 'undefined') ? config.okButtonText : ODialogComponent.DEFAULT_OK_BUTTON_TEXT;\n    this.cancelButtonText = (typeof (config.cancelButtonText) !== 'undefined') ? config.cancelButtonText : ODialogComponent.DEFAULT_CANCEL_BUTTON_TEXT;\n  }\n\n  get isInfo(): boolean {\n    return this.alertType === 'info';\n  }\n\n  get isWarn(): boolean {\n    return this.alertType === 'warn';\n  }\n\n  get isError(): boolean {\n    return this.alertType === 'error';\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get message(): string {\n    return this._message;\n  }\n\n  set message(val: string) {\n    this._message = val;\n  }\n\n  get okButtonText(): string {\n    return this._okButtonText;\n  }\n\n  set okButtonText(val: string) {\n    this._okButtonText = val;\n  }\n\n  get cancelButtonText(): string {\n    return this._cancelButtonText;\n  }\n\n  set cancelButtonText(val: string) {\n    this._cancelButtonText = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n  get alertType(): string {\n    return this._alertType;\n  }\n\n  set alertType(val: string) {\n    this._alertType = val;\n  }\n\n\n  get twoOptions(): boolean {\n    return this._twoOptions;\n  }\n\n  set twoOptions(val: boolean) {\n    this._twoOptions = val;\n  }\n\n  get useIcon(): boolean {\n    return this._useIcon;\n  }\n\n  set useIcon(val: boolean) {\n    this._useIcon = val;\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { MatDialog, MatDialogConfig, MatDialogRef } from '@angular/material';\nimport { Observable } from 'rxjs';\n\nimport { ODialogComponent } from '../shared/components/dialog/o-dialog.component';\nimport { ODialogConfig } from '../shared/components/dialog/o-dialog.config';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DialogService {\n\n  protected ng2Dialog: MatDialog;\n  dialogRef: MatDialogRef<ODialogComponent>;\n\n  constructor(protected injector: Injector) {\n    this.ng2Dialog = this.injector.get(MatDialog);\n  }\n\n  public get dialog(): ODialogComponent {\n    if (this.dialogRef) {\n      return this.dialogRef.componentInstance;\n    }\n    return undefined;\n  }\n\n  public alert(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    const self = this;\n    const observable = new Observable(observer => {\n      self.openDialog(observer);\n      self.dialogRef.componentInstance.alert(title, message, config);\n    });\n    return observable.toPromise();\n  }\n\n  public info(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    const self = this;\n    const observable = new Observable(observer => {\n      self.openDialog(observer);\n      self.dialogRef.componentInstance.info(title, message, config);\n    });\n    return observable.toPromise();\n  }\n\n  public warn(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    const self = this;\n    const observable = new Observable(observer => {\n      self.openDialog(observer);\n      self.dialogRef.componentInstance.warn(title, message, config);\n    });\n    return observable.toPromise();\n  }\n\n  public error(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    const self = this;\n    const observable = new Observable(observer => {\n      self.openDialog(observer);\n      self.dialogRef.componentInstance.error(title, message, config);\n    });\n    return observable.toPromise();\n  }\n\n  public confirm(title: string, message: string, config?: ODialogConfig): Promise<any> {\n    const self = this;\n    const observable = new Observable(observer => {\n      self.openDialog(observer);\n      self.dialogRef.componentInstance.confirm(title, message, config);\n    });\n    return observable.toPromise();\n  }\n\n  protected openDialog(observer) {\n    const cfg: MatDialogConfig = {\n      role: 'alertdialog',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-dialog-service']\n    };\n    this.dialogRef = this.ng2Dialog.open(ODialogComponent, cfg);\n    this.dialogRef.afterClosed().subscribe(result => {\n      result = result === undefined ? false : result;\n      observer.next(result);\n      observer.complete();\n      this.dialogRef = null;\n    });\n  }\n\n}\n","export class OFormValue {\n  value: any;\n  constructor(value?: any) {\n    this.value = value;\n  }\n}\n","export class SQLTypes {\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BIT</code>.\n   */\n  public static BIT = -7;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TINYINT</code>.\n   */\n  public static TINYINT = -6;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>SMALLINT</code>.\n   */\n  public static SMALLINT = 5;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>INTEGER</code>.\n   */\n  public static INTEGER = 4;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BIGINT</code>.\n   */\n  public static BIGINT = -5;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>FLOAT</code>.\n   */\n  public static FLOAT = 6;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>REAL</code>.\n   */\n  public static REAL = 7;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DOUBLE</code>.\n   */\n  public static DOUBLE = 8;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>NUMERIC</code>.\n   */\n  public static NUMERIC = 2;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DECIMAL</code>.\n   */\n  public static DECIMAL = 3;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>CHAR</code>.\n   */\n  public static CHAR = 1;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>VARCHAR</code>.\n   */\n  public static VARCHAR = 12;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>LONGVARCHAR</code>.\n   */\n  public static LONGVARCHAR = -1;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>DATE</code>.\n   */\n  public static DATE = 91;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TIME</code>.\n   */\n  public static TIME = 92;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>TIMESTAMP</code>.\n   */\n  public static TIMESTAMP = 93;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>BINARY</code>.\n   */\n  public static BINARY = -2;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>VARBINARY</code>.\n   */\n  public static VARBINARY = -3;\n\n  /**\n   * <P>The constant in the Java programming language, sometimes referred\n   * to as a type code, that identifies the generic SQL type\n   * <code>LONGVARBINARY</code>.\n   */\n  public static LONGVARBINARY = -4;\n\n  /**\n   * <P>The constant in the Java programming language\n   * that identifies the generic SQL value\n   * <code>NULL</code>.\n   */\n  public static NULL = 0;\n\n  /**\n   * The constant in the Java programming language that indicates\n   * that the SQL type is database-specific and\n   * gets mapped to a Java object that can be accessed via\n   * the methods <code>getObject</code> and <code>setObject</code>.\n   */\n  public static OTHER = 1111;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>JAVA_OBJECT</code>.\n   * @since 1.2\n   */\n  public static JAVA_OBJECT = 2000;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>DISTINCT</code>.\n   * @since 1.2\n   */\n  public static DISTINCT = 2001;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>STRUCT</code>.\n   * @since 1.2\n   */\n  public static STRUCT = 2002;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>ARRAY</code>.\n   * @since 1.2\n   */\n  public static ARRAY = 2003;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>BLOB</code>.\n   * @since 1.2\n   */\n  public static BLOB = 2004;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>CLOB</code>.\n   * @since 1.2\n   */\n  public static CLOB = 2005;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type\n   * <code>REF</code>.\n   * @since 1.2\n   */\n  public static REF = 2006;\n\n  /**\n   * The constant in the Java programming language, somtimes referred to\n   * as a type code, that identifies the generic SQL type <code>DATALINK</code>.\n   *\n   * @since 1.4\n   */\n  public static DATALINK = 70;\n\n  /**\n   * The constant in the Java programming language, somtimes referred to\n   * as a type code, that identifies the generic SQL type <code>BOOLEAN</code>.\n   *\n   * @since 1.4\n   */\n  public static BOOLEAN = 16;\n\n  // ------------------------- JDBC 4.0 -----------------------------------\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>ROWID</code>\n   *\n   * @since 1.6\n   *\n   */\n  public static ROWID = -8;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NCHAR</code>\n   *\n   * @since 1.6\n   */\n  public static NCHAR = -15;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NVARCHAR</code>.\n   *\n   * @since 1.6\n   */\n  public static NVARCHAR = -9;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>LONGNVARCHAR</code>.\n   *\n   * @since 1.6\n   */\n  public static LONGNVARCHAR = -16;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>NCLOB</code>.\n   *\n   * @since 1.6\n   */\n  public static NCLOB = 2011;\n\n  public static BASE64 = 6464;\n\n  /**\n   * The constant in the Java programming language, sometimes referred to\n   * as a type code, that identifies the generic SQL type <code>XML</code>.\n   *\n   * @since 1.6\n   */\n  public static SQLXML = 2009;\n\n  public static getSQLTypeValue(type: string): number {\n    let value: number;\n    type = type ? type.toUpperCase() : '';\n    switch (type) {\n      case 'BIT':\n        value = SQLTypes.BIT;\n        break;\n      case 'TINYINT':\n        value = SQLTypes.TINYINT;\n        break;\n      case 'SMALLINT':\n        value = SQLTypes.SMALLINT;\n        break;\n      case 'INTEGER':\n        value = SQLTypes.INTEGER;\n        break;\n      case 'BIGINT':\n        value = SQLTypes.BIGINT;\n        break;\n      case 'FLOAT':\n        value = SQLTypes.FLOAT;\n        break;\n      case 'REAL':\n        value = SQLTypes.REAL;\n        break;\n      case 'DOUBLE':\n        value = SQLTypes.DOUBLE;\n        break;\n      case 'NUMERIC':\n        value = SQLTypes.NUMERIC;\n        break;\n      case 'DECIMAL':\n        value = SQLTypes.DECIMAL;\n        break;\n      case 'CHAR':\n        value = SQLTypes.CHAR;\n        break;\n      case 'VARCHAR':\n        value = SQLTypes.VARCHAR;\n        break;\n      case 'LONGVARCHAR':\n        value = SQLTypes.LONGVARCHAR;\n        break;\n      case 'DATE':\n        value = SQLTypes.DATE;\n        break;\n      case 'TIME':\n        value = SQLTypes.TIME;\n        break;\n      case 'TIMESTAMP':\n        value = SQLTypes.TIMESTAMP;\n        break;\n      case 'BINARY':\n        value = SQLTypes.BINARY;\n        break;\n      case 'VARBINARY':\n        value = SQLTypes.VARBINARY;\n        break;\n      case 'LONGVARBINARY':\n        value = SQLTypes.LONGVARBINARY;\n        break;\n      case 'NULL':\n        value = SQLTypes.NULL;\n        break;\n      case 'OTHER':\n        value = SQLTypes.OTHER;\n        break;\n      case 'JAVA_OBJECT':\n        value = SQLTypes.JAVA_OBJECT;\n        break;\n      case 'DISTINCT':\n        value = SQLTypes.DISTINCT;\n        break;\n      case 'STRUCT':\n        value = SQLTypes.STRUCT;\n        break;\n      case 'ARRAY':\n        value = SQLTypes.ARRAY;\n        break;\n      case 'BLOB':\n        value = SQLTypes.BLOB;\n        break;\n      case 'CLOB':\n        value = SQLTypes.CLOB;\n        break;\n      case 'REF':\n        value = SQLTypes.REF;\n        break;\n      case 'DATALINK':\n        value = SQLTypes.DATALINK;\n        break;\n      case 'BOOLEAN':\n        value = SQLTypes.BOOLEAN;\n        break;\n      case 'ROWID':\n        value = SQLTypes.ROWID;\n        break;\n      case 'NCHAR':\n        value = SQLTypes.NCHAR;\n        break;\n      case 'NVARCHAR':\n        value = SQLTypes.NVARCHAR;\n        break;\n      case 'LONGNVARCHAR':\n        value = SQLTypes.LONGNVARCHAR;\n        break;\n      case 'NCLOB':\n        value = SQLTypes.NCLOB;\n        break;\n      case 'SQLXML':\n        value = SQLTypes.SQLXML;\n        break;\n      case 'BASE64':\n        value = SQLTypes.BASE64;\n        break;\n      default:\n        value = SQLTypes.OTHER;\n        break;\n    }\n    return value;\n  }\n\n  public static getSQLTypeKey(type: number): string {\n    let value: string;\n    switch (type) {\n      case SQLTypes.BIT:\n        value = 'BIT';\n        break;\n      case SQLTypes.TINYINT:\n        value = 'TINYINT';\n        break;\n      case SQLTypes.SMALLINT:\n        value = 'SMALLINT';\n        break;\n      case SQLTypes.INTEGER:\n        value = 'INTEGER';\n        break;\n      case SQLTypes.BIGINT:\n        value = 'BIGINT';\n        break;\n      case SQLTypes.FLOAT:\n        value = 'FLOAT';\n        break;\n      case SQLTypes.REAL:\n        value = 'REAL';\n        break;\n      case SQLTypes.DOUBLE:\n        value = 'DOUBLE';\n        break;\n      case SQLTypes.NUMERIC:\n        value = 'NUMERIC';\n        break;\n      case SQLTypes.DECIMAL:\n        value = 'DECIMAL';\n        break;\n      case SQLTypes.CHAR:\n        value = 'CHAR';\n        break;\n      case SQLTypes.VARCHAR:\n        value = 'VARCHAR';\n        break;\n      case SQLTypes.LONGVARCHAR:\n        value = 'LONGVARCHAR';\n        break;\n      case SQLTypes.DATE:\n        value = 'DATE';\n        break;\n      case SQLTypes.TIME:\n        value = 'TIME';\n        break;\n      case SQLTypes.TIMESTAMP:\n        value = 'TIMESTAMP';\n        break;\n      case SQLTypes.BINARY:\n        value = 'BINARY';\n        break;\n      case SQLTypes.VARBINARY:\n        value = 'VARBINARY';\n        break;\n      case SQLTypes.LONGVARBINARY:\n        value = 'LONGVARBINARY';\n        break;\n      case SQLTypes.NULL:\n        value = 'NULL';\n        break;\n      case SQLTypes.OTHER:\n        value = 'OTHER';\n        break;\n      case SQLTypes.JAVA_OBJECT:\n        value = 'JAVA_OBJECT';\n        break;\n      case SQLTypes.DISTINCT:\n        value = 'DISTINCT';\n        break;\n      case SQLTypes.STRUCT:\n        value = 'STRUCT';\n        break;\n      case SQLTypes.ARRAY:\n        value = 'ARRAY';\n        break;\n      case SQLTypes.BLOB:\n        value = 'BLOB';\n        break;\n      case SQLTypes.CLOB:\n        value = 'CLOB';\n        break;\n      case SQLTypes.REF:\n        value = 'REF';\n        break;\n      case SQLTypes.DATALINK:\n        value = 'DATALINK';\n        break;\n      case SQLTypes.BOOLEAN:\n        value = 'BOOLEAN';\n        break;\n      case SQLTypes.ROWID:\n        value = 'ROWID';\n        break;\n      case SQLTypes.NCHAR:\n        value = 'NCHAR';\n        break;\n      case SQLTypes.NVARCHAR:\n        value = 'NVARCHAR';\n        break;\n      case SQLTypes.LONGNVARCHAR:\n        value = 'LONGNVARCHAR';\n        break;\n      case SQLTypes.NCLOB:\n        value = 'NCLOB';\n        break;\n      case SQLTypes.SQLXML:\n        value = 'SQLXML';\n        break;\n      case SQLTypes.BASE64:\n        value = 'BASE64';\n        break;\n      default:\n        value = 'OTHER';\n        break;\n    }\n    return value;\n  }\n\n  public static parseUsingSQLType(arg: any, type: string): any {\n    let value = arg;\n    type = type ? type.toUpperCase() : '';\n    try {\n      switch (type) {\n        case 'TINYINT':\n        case 'SMALLINT':\n        case 'INTEGER':\n        case 'BIGINT':\n          value = Number(arg);\n          break;\n        case 'FLOAT':\n        case 'REAL':\n        case 'DOUBLE':\n        case 'NUMERIC':\n        case 'DECIMAL':\n          value = parseFloat(arg);\n          break;\n        default:\n          break;\n      }\n    } catch (err) {\n      console.error('SQLTypes.parseUsingSQLType error');\n    }\n    return value;\n  }\n\n  public static isNumericSQLType(arg: number): boolean {\n    return [\n      SQLTypes.TINYINT,\n      SQLTypes.SMALLINT,\n      SQLTypes.INTEGER,\n      SQLTypes.BIGINT,\n      SQLTypes.FLOAT,\n      SQLTypes.REAL,\n      SQLTypes.DOUBLE,\n      SQLTypes.NUMERIC,\n      SQLTypes.DECIMAL\n    ].indexOf(arg) !== -1;\n  }\n\n}\n","import { Router } from '@angular/router';\n\nimport { OFormComponent } from '../components/form/o-form.component';\nimport { OFormValue } from '../components/form/OFormValue';\nimport { SQLOrder } from '../types/sql-order.type';\nimport { Codes } from './codes';\nimport { SQLTypes } from './sqltypes';\nimport { Util } from './util';\n\nexport class ServiceUtils {\n\n  static getParentKeysFromForm(parentKeysObject: object, form: OFormComponent) {\n    const result = {};\n    const ownKeys = Object.keys(parentKeysObject || {});\n\n    const formComponents = form ? form.getComponents() : {};\n    const existsComponents = Object.keys(formComponents).length > 0;\n\n    const formDataProperties = form ? form.getDataValues() : {};\n    const existsProperties = Object.keys(formDataProperties).length > 0;\n\n    const urlData = form ? form.getFormNavigation().getFilterFromUrlParams() : {};\n    const existsUrlData = Object.keys(urlData).length > 0;\n    if (existsUrlData) {\n      form.keysArray.forEach((key: string, i: number) => {\n        if (urlData.hasOwnProperty(key)) {\n          urlData[key] = SQLTypes.parseUsingSQLType(urlData[key], form.keysSqlTypesArray[i]);\n        }\n      });\n    }\n\n    if (existsComponents || existsProperties || existsUrlData) {\n      ownKeys.forEach(ownKey => {\n        const keyValue = parentKeysObject[ownKey];\n        // Parent key equivalence may be an object\n        const isEquivObject = Util.isObject(keyValue);\n        const formFieldAttr = isEquivObject ? Object.keys(keyValue)[0] : keyValue;\n        let currentData;\n        if (formComponents.hasOwnProperty(formFieldAttr)) {\n          const component = formComponents[formFieldAttr];\n          // Is service component (combo, listpicker, radio)\n          if ('getSelectedRecord' in component && isEquivObject) {\n            currentData = ((component as any).getSelectedRecord() || {})[keyValue[formFieldAttr]];\n          } else {\n            currentData = component.getValue();\n          }\n        } else if (formDataProperties.hasOwnProperty(formFieldAttr)) {\n          const formPropValue = formDataProperties[formFieldAttr];\n          currentData = formPropValue instanceof OFormValue ? formPropValue.value : formPropValue;\n        } else if (urlData.hasOwnProperty(formFieldAttr)) {\n          currentData = urlData[formFieldAttr];\n        }\n        if (Util.isDefined(currentData)) {\n          switch (typeof (currentData)) {\n            case 'string':\n              if (currentData.trim().length > 0) {\n                result[ownKey] = currentData.trim();\n              }\n              break;\n            case 'number':\n              if (!isNaN(currentData)) {\n                result[ownKey] = currentData;\n              }\n              break;\n          }\n        }\n      });\n    }\n    return result;\n  }\n\n  static filterContainsAllParentKeys(parentKeysFilter, parentKeys): boolean {\n    const pkKeys = Object.keys(parentKeys);\n    if ((pkKeys.length > 0) && Util.isDefined(parentKeysFilter)) {\n      const parentKeysFilterKeys = Object.keys(parentKeysFilter);\n      return pkKeys.every(a => parentKeysFilterKeys.indexOf(a) !== -1);\n    }\n    return true;\n  }\n\n  static getFilterUsingParentKeys(parentItem: any, parentKeysObject: object) {\n    const filter = {};\n    const ownKeys = Object.keys(parentKeysObject);\n    if (ownKeys.length > 0 && Util.isDefined(parentItem)) {\n      ownKeys.forEach(ownKey => {\n        const parentKey = parentKeysObject[ownKey];\n        if (parentItem.hasOwnProperty(parentKey)) {\n          let currentData = parentItem[parentKey];\n          if (currentData instanceof OFormValue) {\n            currentData = currentData.value;\n          }\n          filter[ownKey] = currentData;\n        }\n      });\n    }\n    return filter;\n  }\n\n  static getArrayProperties(array: any[], properties: any[]): any[] {\n    const result = array.map(item => {\n      return ServiceUtils.getObjectProperties(item, properties);\n    });\n    return result;\n  }\n\n  static getObjectProperties(object: any, properties: any[]): any {\n    const objectProperties = {};\n    properties.forEach(key => {\n      objectProperties[key] = object[key];\n    });\n    return objectProperties;\n  }\n\n  static parseSortColumns(sortColumns: string): Array<SQLOrder> {\n    const sortColArray = [];\n    if (sortColumns) {\n      const cols = Util.parseArray(sortColumns);\n      cols.forEach(col => {\n        const colDef = col.split(Codes.TYPE_SEPARATOR);\n        if (colDef.length > 0) {\n          const colName = colDef[0];\n          const colSort = colDef[1] || Codes.ASC_SORT;\n          sortColArray.push({\n            columnName: colName,\n            ascendent: colSort === Codes.ASC_SORT\n          });\n        }\n      });\n    }\n    return sortColArray;\n  }\n\n  static redirectLogin(router: Router, sessionExpired: boolean = false) {\n    const arg = {};\n    arg[Codes.SESSION_EXPIRED_KEY] = sessionExpired;\n    const extras = {};\n    extras[Codes.QUERY_PARAMS] = arg;\n    router.navigate([Codes.LOGIN_ROUTE], extras);\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { AppConfig } from '../config/app-config';\nimport { Config } from '../types/config.type';\nimport { SessionInfo } from '../types/session-info.type';\nimport { Codes } from '../util/codes';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginStorageService {\n  private _config: Config;\n  public _localStorageKey: string;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this._localStorageKey = this._config.uuid;\n  }\n\n  public getSessionInfo(): SessionInfo {\n    const info = localStorage.getItem(this._localStorageKey);\n    if (!info) {\n      return {};\n    }\n    const stored = JSON.parse(info);\n    return stored[Codes.SESSION_KEY] || {};\n  }\n\n  public storeSessionInfo(sessionInfo: SessionInfo): void {\n    if (sessionInfo !== undefined) {\n      const info = localStorage.getItem(this._localStorageKey);\n      let stored = null;\n      if (info && info.length > 0) {\n        stored = JSON.parse(info);\n      } else {\n        stored = {};\n      }\n      stored[Codes.SESSION_KEY] = sessionInfo;\n      localStorage.setItem(this._localStorageKey, JSON.stringify(stored));\n    }\n  }\n\n  public sessionExpired(): void {\n    const sessionInfo = this.getSessionInfo();\n    delete sessionInfo.id;\n    delete sessionInfo.user;\n    this.storeSessionInfo(sessionInfo);\n  }\n\n  public isLoggedIn(): boolean {\n    const sessionInfo = this.getSessionInfo();\n    if (sessionInfo && sessionInfo.id && sessionInfo.user && sessionInfo.user.length > 0) {\n      if (typeof sessionInfo.id === 'number' && (isNaN(sessionInfo.id) || sessionInfo.id < 0)) {\n        return false;\n      }\n      return true;\n    }\n    return false;\n  }\n}\n","import { ServiceResponse } from '../interfaces/service-response.interface';\nimport { Codes } from '../util/codes';\n\nexport abstract class BaseServiceResponse implements ServiceResponse {\n\n  constructor(\n    public code: number,\n    public data: any,\n    public message: string,\n    public sqlTypes?: { [key: string]: number; },\n    public startRecordIndex?: number,\n    public totalQueryRecordsNumber?: number\n  ) {\n  }\n\n  isSuccessful(): boolean {\n    return this.code === Codes.ONTIMIZE_SUCCESSFUL_CODE;\n  }\n\n  isFailed(): boolean {\n    return this.code === Codes.ONTIMIZE_FAILED_CODE;\n  }\n\n  isUnauthorized(): boolean {\n    return this.code === Codes.ONTIMIZE_UNAUTHORIZED_CODE;\n  }\n}\n","import { BaseServiceResponse } from '../base-service-response.class';\n\nexport class OntimizeServiceResponse extends BaseServiceResponse {\n\n}\n","import { HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\nimport { ServiceResponseAdapter } from '../../interfaces/service-response-adapter.interface';\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { OntimizeServiceResponse } from './ontimize-service-response.class';\n\n@Injectable()\nexport class OntimizeServiceResponseAdapter implements ServiceResponseAdapter<OntimizeServiceResponse> {\n\n  adapt(res: HttpResponse<any>): ServiceResponse {\n    return new OntimizeServiceResponse(\n      res.body.code,\n      res.body.data,\n      res.body.message,\n      res.body.sqlTypes,\n      res.body.startRecordIndex,\n      res.body.totalQueryRecordsNumber\n    );\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Subscriber } from 'rxjs';\n\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { BaseService } from '../base-service.class';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OntimizeServiceResponseParser {\n\n  constructor(\n    protected injector: Injector\n  ) { }\n\n  parseSuccessfulResponse(resp: ServiceResponse, subscriber: Subscriber<ServiceResponse>, service: BaseService) {\n    if (resp && resp.isUnauthorized()) {\n      service.clientErrorFallback(401);\n    } else if (resp && resp.isFailed()) {\n      subscriber.error(resp.message);\n    } else if (resp && resp.isSuccessful()) {\n      subscriber.next(resp);\n    } else {\n      // Unknow state -> error\n      subscriber.error('Service unavailable');\n    }\n  }\n\n  parseUnsuccessfulResponse(error, subscriber: Subscriber<ServiceResponse>, service: BaseService) {\n    if (error) {\n      switch (error.status) {\n        case 401:\n        case 403:\n        case 404:\n        case 405:\n          service.clientErrorFallback(error.status);\n          break;\n        case 500:\n        case 501:\n        case 502:\n        case 503:\n        case 504:\n        default:\n          subscriber.error(error);\n          service.serverErrorFallback(error.status);\n          break;\n      }\n    } else {\n      subscriber.error(error);\n    }\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable, Subscriber } from 'rxjs';\nimport { map, share } from 'rxjs/operators';\n\nimport { AppConfig } from '../config/app-config';\nimport { ServiceResponseAdapter } from '../interfaces/service-response-adapter.interface';\nimport { ServiceResponse } from '../interfaces/service-response.interface';\nimport { HttpRequestOptions } from '../types';\nimport { Config } from '../types/config.type';\nimport { ServiceRequestParam } from '../types/service-request-param.type';\nimport { Codes } from '../util/codes';\nimport { BaseServiceResponse } from './base-service-response.class';\nimport { LoginStorageService } from './login-storage.service';\nimport { OntimizeServiceResponseAdapter } from './ontimize/ontimize-service-response.adapter';\nimport { OntimizeServiceResponseParser } from './parser/o-service-response.parser';\n\nexport class BaseService {\n\n  protected httpClient: HttpClient;\n  protected router: Router;\n\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n  protected responseParser: OntimizeServiceResponseParser;\n  protected loginStorageService: LoginStorageService;\n  protected adapter: ServiceResponseAdapter<BaseServiceResponse>;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this.router = this.injector.get(Router);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n    this.responseParser = this.injector.get(OntimizeServiceResponseParser);\n    this.loginStorageService = this.injector.get(LoginStorageService);\n    this.configureAdapter();\n  }\n\n  public configureAdapter() {\n    this.adapter = this.injector.get(OntimizeServiceResponseAdapter);\n  }\n\n  public configureService(config: any): void {\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig.apiEndpoint;\n  }\n\n  public getDefaultServiceConfiguration(serviceName?: string): any {\n    const configuration = this._config.getServiceConfiguration();\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = this.loginStorageService.getSessionInfo();\n    return servConfig;\n  }\n\n  public get urlBase(): string {\n    return this._urlBase;\n  }\n\n  public set urlBase(value: string) {\n    this._urlBase = value;\n  }\n\n  public doRequest(param: ServiceRequestParam): Observable<ServiceResponse> {\n\n    const dataObservable: Observable<ServiceResponse> = new Observable((observer: Subscriber<ServiceResponse>) => {\n      const options = param.options || {\n        headers: this.buildHeaders()\n      };\n      options.observe = 'response';\n      let requestObs: Observable<ServiceResponse>;\n      switch (param.method) {\n        case 'GET':\n          requestObs = this.httpClient.get<ServiceResponse>(param.url, options);\n          break;\n        case 'PUT':\n          requestObs = this.httpClient.put<ServiceResponse>(param.url, param.body, options);\n          break;\n        case 'DELETE':\n          const deleteOptions: HttpRequestOptions = {\n            headers: options.headers,\n            body: param.body\n          };\n          deleteOptions.observe = 'response';\n          requestObs = this.httpClient.delete<ServiceResponse>(param.url, deleteOptions);\n          break;\n        case 'POST':\n        default:\n          requestObs = this.httpClient.post<ServiceResponse>(param.url, param.body, options);\n          break;\n      }\n\n      requestObs.pipe(\n        map((data: any) => this.adapter.adapt(data))\n      ).subscribe(resp => {\n        (param.successCallback || this.parseSuccessfulResponse).bind(this)(resp, observer);\n      }, error => {\n        (param.errorCallBack || this.parseUnsuccessfulResponse).bind(this)(error, observer);\n      }, () => observer.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8'\n    });\n  }\n\n  public clientErrorFallback(errorCode: number) {\n\n  }\n\n  public serverErrorFallback(errorCode: number) {\n\n  }\n\n  /*\n   * Successful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseSuccessfulResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.responseParser.parseSuccessfulResponse(resp, observer, this);\n  }\n\n  protected parseSuccessfulQueryResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseSuccessfulResponse(resp, observer);\n  }\n\n  protected parseSuccessfulAdvancedQueryResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseSuccessfulResponse(resp, observer);\n  }\n\n  protected parseSuccessfulInsertResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseSuccessfulResponse(resp, observer);\n  }\n\n  protected parseSuccessfulUpdateResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseSuccessfulResponse(resp, observer);\n  }\n\n  protected parseSuccessfulDeleteResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseSuccessfulResponse(resp, observer);\n  }\n\n  /*\n   * Unsuccessful response parsers, there is one parser for each CRUD method which calls to the common parser.\n   * User can overwrite the chosen methods parsers or the common parser\n   */\n  protected parseUnsuccessfulResponse(error: any, observer: Subscriber<ServiceResponse>) {\n    this.responseParser.parseUnsuccessfulResponse(error, observer, this);\n  }\n\n  protected parseUnsuccessfulQueryResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseUnsuccessfulResponse(resp, observer);\n  }\n\n  protected parseUnsuccessfulAdvancedQueryResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseUnsuccessfulResponse(resp, observer);\n  }\n\n  protected parseUnsuccessfulInsertResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseUnsuccessfulResponse(resp, observer);\n  }\n\n  protected parseUnsuccessfulUpdateResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseUnsuccessfulResponse(resp, observer);\n  }\n\n  protected parseUnsuccessfulDeleteResponse(resp: ServiceResponse, observer: Subscriber<ServiceResponse>) {\n    this.parseUnsuccessfulResponse(resp, observer);\n  }\n\n}\n","import { Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { IAuthService } from '../../interfaces/auth-service.interface';\nimport { ServiceUtils } from '../../util/service.utils';\nimport { BaseService } from '../base-service.class';\n\nexport class OntimizeBaseService extends BaseService implements IAuthService {\n\n  protected _sessionid: string;\n  protected _startSessionPath: string;\n\n  public kv = {};\n  public av: string[] = [];\n  public sqltypes = {};\n  public pagesize: number = 10;\n  public offset: number = 0;\n  public orderby: Array<object> = [];\n  public totalsize: number = -1;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  public configureService(config: any): void {\n    super.configureService(config);\n    this._sessionid = config.session ? config.session.id : -1;\n  }\n\n  public startsession(user: string, password: string): Observable<any> {\n    return null;\n  }\n\n  public endsession(user: string, sessionId: number): Observable<any> {\n    return null;\n  }\n\n  public hassession(user: string, sessionId: string | number): Observable<boolean> {\n    return null;\n  }\n\n  public redirectLogin(sessionExpired: boolean = false) {\n    if (sessionExpired) {\n      this.loginStorageService.sessionExpired();\n    }\n    ServiceUtils.redirectLogin(this.router, sessionExpired);\n  }\n\n  public clientErrorFallback(errorCode: number) {\n    if (errorCode === 401) {\n      this.redirectLogin(true);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { IDataService } from '../../interfaces/data-service.interface';\nimport { Util } from '../../util/util';\nimport { OntimizeBaseService } from './ontimize-base-service.class';\n\n@Injectable()\nexport class OntimizeService extends OntimizeBaseService implements IDataService {\n\n  public entity: string = '';\n\n  protected user: string;\n\n  public configureService(config: any): void {\n    super.configureService(config);\n    this._startSessionPath = this._appConfig.startSessionPath ? this._appConfig.startSessionPath : '/startsession';\n    this.user = config.session ? config.session.user : '';\n    if (config.entity !== undefined) {\n      this.entity = config.entity;\n    }\n    // TODO init other params like 'kv', 'av', etc.\n  }\n\n  public startsession(user: string, password: string): Observable<string | number> {\n    const encodedPassword = encodeURIComponent(password);\n    const url = this.urlBase + this._startSessionPath + '?user=' + user + '&password=' + encodedPassword;\n    const dataObservable: Observable<string | number> = new Observable(_startSessionObserver => {\n      this.httpClient.get(url).subscribe((resp: number) => {\n        if (resp >= 0) {\n          _startSessionObserver.next(resp);\n        } else {\n          // Invalid sessionId...\n          _startSessionObserver.error('Invalid user or password');\n        }\n      }, error => _startSessionObserver.error(error));\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public endsession(user: string, sessionId: number): Observable<number> {\n    const url = this.urlBase + '/endsession?user=' + user + '&sessionid=' + sessionId;\n    const dataObservable: Observable<any> = new Observable(_closeSessionObserver => {\n      this.httpClient.get(url).subscribe(resp => {\n        _closeSessionObserver.next(resp);\n      }, error => {\n        if (error.status === 401 || error.status === 0 || !error.ok) {\n          _closeSessionObserver.next(0);\n        } else {\n          _closeSessionObserver.error(error);\n        }\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public hassession(user: string, sessionId: number): Observable<boolean> {\n    const dataObservable: Observable<any> = new Observable(observer => {\n      const url = this.urlBase + '/hassession?user=' + user + '&sessionid=' + sessionId;\n      this.httpClient.get(url).subscribe(resp => {\n        observer.next(resp);\n      }, error => observer.error(error));\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public query(kv?: object, av?: Array<string>, entity?: string, sqltypes?: object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    // TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = `${this.urlBase}/query`;\n\n    const body = JSON.stringify({\n      user: this.user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulQueryResponse,\n      errorCallBack: this.parseUnsuccessfulQueryResponse\n    });\n  }\n\n  public advancedQuery(kv?: object, av?: Array<string>, entity?: string, sqltypes?: object,\n    offset?: number, pagesize?: number, orderby?: Array<object>): Observable<any> {\n\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    // TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n    orderby = (Util.isDefined(orderby)) ? orderby : this.orderby;\n    offset = (Util.isDefined(offset)) ? offset : this.offset;\n    pagesize = (Util.isDefined(pagesize)) ? pagesize : this.pagesize;\n\n    const url = `${this.urlBase}/advancedquery`;\n\n    const body = JSON.stringify({\n      user: this.user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes,\n      offset: offset,\n      pageSize: pagesize,\n      orderBy: orderby\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulAdvancedQueryResponse,\n      errorCallBack: this.parseUnsuccessfulAdvancedQueryResponse\n    });\n  }\n\n  public insert(av: object = {}, entity?: string, sqltypes?: object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = `${this.urlBase}/insert`;\n\n    const body = JSON.stringify({\n      user: this.user,\n      sessionid: this._sessionid,\n      entity: entity,\n      av: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulInsertResponse,\n      errorCallBack: this.parseUnsuccessfulInsertResponse\n    });\n  }\n\n\n  public update(kv: object = {}, av: object = {}, entity?: string, sqltypes?: object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = `${this.urlBase}/update`;\n\n    const body = JSON.stringify({\n      user: this.user,\n      sessionid: this._sessionid,\n      entity: entity,\n      kv: kv,\n      av: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulUpdateResponse,\n      errorCallBack: this.parseUnsuccessfulUpdateResponse\n    });\n  }\n\n  public delete(kv: object = {}, entity?: string, sqltypes?: object): Observable<any> {\n    entity = (Util.isDefined(entity)) ? entity : this.entity;\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = `${this.urlBase}/delete`;\n\n    const body = JSON.stringify({\n      user: this.user,\n      sessionid: this._sessionid,\n      entity: entity,\n      kv: kv,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulDeleteResponse,\n      errorCallBack: this.parseUnsuccessfulDeleteResponse\n    });\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../../config/app-config';\nimport { IPermissionsService } from '../../interfaces/permissions-service.interface';\nimport { Config } from '../../types/config.type';\nimport { OntimizeEEPermissionsConfig } from '../../types/ontimize-ee-permissions-config.type';\nimport { Codes } from '../../util/codes';\nimport { Util } from '../../util/util';\nimport { LoginStorageService } from '../login-storage.service';\n\n@Injectable()\nexport class OntimizeEEPermissionsService implements IPermissionsService {\n  public static DEFAULT_PERMISSIONS_PATH = '/loadPermissions';\n  public static PERMISSIONS_KEY = 'permission';\n\n  public path: string = '';\n\n  protected httpClient: HttpClient;\n  protected _sessionid: number = -1;\n  protected _user: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  getDefaultServiceConfiguration(permissionsConfig: OntimizeEEPermissionsConfig): any {\n    const serviceName: string = permissionsConfig ? permissionsConfig.service : undefined;\n\n    const loginStorageService = this.injector.get(LoginStorageService);\n    const configuration = this._config.getServiceConfiguration();\n\n    let servConfig = {};\n    if (serviceName && configuration.hasOwnProperty(serviceName)) {\n      servConfig = configuration[serviceName];\n    }\n    servConfig[Codes.SESSION_KEY] = loginStorageService.getSessionInfo();\n    return servConfig;\n  }\n\n  configureService(permissionsConfig: OntimizeEEPermissionsConfig): void {\n    const config = this.getDefaultServiceConfiguration(permissionsConfig);\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig.apiEndpoint;\n    this._sessionid = config.session ? config.session.id : -1;\n    this._user = config.session ? config.session.user : '';\n    this.path = config.path ? config.path : OntimizeEEPermissionsService.DEFAULT_PERMISSIONS_PATH;\n  }\n\n  loadPermissions(): Observable<any> {\n    const url = this._urlBase + this.path;\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.get(url, options).subscribe((res: any) => {\n        let permissions = {};\n        if ((res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) && Util.isDefined(res.data)) {\n          const response = res.data;\n          if ((response.length === 1) && Util.isObject(response[0])) {\n            try {\n              permissions = JSON.parse(response[0][OntimizeEEPermissionsService.PERMISSIONS_KEY]);\n            } catch (e) {\n              console.warn('[OntimizeEEPermissionsService: permissions parsing failed]');\n            }\n          }\n        }\n        _innerObserver.next(permissions);\n\n      }, error => {\n        _innerObserver.error(error);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8',\n      Authorization: 'Bearer ' + this._sessionid\n    });\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../../config/app-config';\nimport { IPermissionsService } from '../../interfaces/permissions-service.interface';\nimport { Config } from '../../types/config.type';\nimport { OntimizePermissionsConfig } from '../../types/ontimize-permissions-config.type';\nimport { Codes } from '../../util/codes';\nimport { Util } from '../../util/util';\nimport { LoginStorageService } from '../login-storage.service';\n\n@Injectable()\nexport class OntimizePermissionsService implements IPermissionsService {\n\n  public entity: string = '';\n  public keyColumn: string;\n  public valueColumn: string;\n\n  protected httpClient: HttpClient;\n  protected _sessionid: number = -1;\n  protected _user: string;\n  protected _urlBase: string;\n  protected _appConfig: Config;\n  protected _config: AppConfig;\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._config = this.injector.get(AppConfig);\n    this._appConfig = this._config.getConfiguration();\n  }\n\n  getDefaultServiceConfiguration(): any {\n    const loginStorageService = this.injector.get(LoginStorageService);\n    const servConfig = {};\n    servConfig[Codes.SESSION_KEY] = loginStorageService.getSessionInfo();\n    return servConfig;\n  }\n\n  configureService(permissionsConfig: OntimizePermissionsConfig): void {\n    const config = this.getDefaultServiceConfiguration();\n    this._urlBase = config.urlBase ? config.urlBase : this._appConfig.apiEndpoint;\n    this._sessionid = config.session ? config.session.id : -1;\n    this._user = config.session ? config.session.user : '';\n\n    if (Util.isDefined(permissionsConfig)) {\n      if (permissionsConfig.entity !== undefined) {\n        this.entity = permissionsConfig.entity;\n      }\n      if (permissionsConfig.keyColumn !== undefined) {\n        this.keyColumn = permissionsConfig.keyColumn;\n      }\n      if (permissionsConfig.valueColumn !== undefined) {\n        this.valueColumn = permissionsConfig.valueColumn;\n      }\n    }\n  }\n\n  loadPermissions(): Observable<any> {\n    const kv: object = {};\n    kv[this.keyColumn] = this._user;\n\n    const av = [this.valueColumn];\n\n    const url = this._urlBase + '/query';\n    const options = {\n      headers: this.buildHeaders()\n    };\n    const body = JSON.stringify({\n      user: this._user,\n      sessionid: this._sessionid,\n      type: 1,\n      entity: this.entity,\n      kv: kv,\n      av: av\n    });\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(_innerObserver => {\n      self.httpClient.post(url, body, options).subscribe((res: any) => {\n        let permissions = {};\n        if ((res.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) && Util.isDefined(res.data)) {\n          const response = res.data;\n          if ((response.length === 1) && Util.isObject(response[0])) {\n            const permissionsResp = response[0];\n            try {\n              permissions = permissionsResp.hasOwnProperty(self.valueColumn) ? JSON.parse(permissionsResp[self.valueColumn]) : {};\n            } catch (e) {\n              console.warn('[OntimizePermissionsService: permissions parsing failed]');\n            }\n          }\n        }\n        _innerObserver.next(permissions);\n      }, error => {\n        _innerObserver.error(error);\n      }, () => _innerObserver.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8'\n    });\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../../config/app-config';\nimport { OComponentPermissions } from '../../types/o-component-permissions.type';\nimport { OFormPermissions } from '../../types/o-form-permissions.type';\nimport { OPermissionsDefinition } from '../../types/o-permissions-definition.type';\nimport { OPermissions } from '../../types/o-permissions.type';\nimport { ORoutePermissions } from '../../types/o-route-permissions.type';\nimport { OTableMenuPermissions } from '../../types/o-table-menu-permissions.type';\nimport { OTablePermissions } from '../../types/o-table-permissions.type';\nimport { Util } from '../../util/util';\nimport { OntimizeEEPermissionsService } from './ontimize-ee-permissions.service';\nimport { OntimizePermissionsService } from './ontimize-permissions.service';\n\n@Injectable()\nexport class PermissionsService {\n\n  protected permissionsService: any;\n  protected ontimizePermissionsConfig: any;\n\n  protected permissions: OPermissionsDefinition;\n\n  constructor(protected injector: Injector) {\n    const appConfig = this.injector.get(AppConfig).getConfiguration();\n\n    if (Util.isDefined(appConfig.permissionsConfiguration)) {\n      this.ontimizePermissionsConfig = appConfig.permissionsConfiguration;\n    }\n  }\n\n  protected configureService() {\n    const loadingService: any = OntimizePermissionsService;\n    try {\n      this.permissionsService = this.injector.get(loadingService);\n      if (Util.isPermissionsService(this.permissionsService)) {\n        if (this.permissionsService instanceof OntimizePermissionsService) {\n          (this.permissionsService as OntimizePermissionsService).configureService(this.ontimizePermissionsConfig);\n        } else if (this.permissionsService instanceof OntimizeEEPermissionsService) {\n          (this.permissionsService as OntimizeEEPermissionsService).configureService(this.ontimizePermissionsConfig);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  restart() {\n    this.permissions = undefined;\n  }\n\n  hasPermissions(): boolean {\n    return this.permissions !== undefined;\n  }\n\n  getUserPermissionsAsPromise(): Promise<boolean> {\n    const self = this;\n    return new Promise((resolve: any, reject: any) => {\n      self.permissions = {};\n      if (Util.isDefined(self.ontimizePermissionsConfig)) {\n        self.configureService();\n        self.queryPermissions().subscribe(() => {\n          resolve(true);\n        }, error => {\n          resolve(true);\n        });\n      } else {\n        resolve(true);\n      }\n    });\n  }\n\n  protected queryPermissions(): Observable<any> {\n    const self = this;\n    const dataObservable: Observable<any> = new Observable(innerObserver => {\n      self.permissionsService.loadPermissions().subscribe((res: any) => {\n        self.permissions = res;\n        innerObserver.next(res);\n      }, (err: any) => {\n        console.error('[Permissions.queryPermissions]: error', err);\n        innerObserver.error(err);\n      }, () => {\n        innerObserver.complete();\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected getPermissionIdFromActRoute(actRoute: ActivatedRoute): string {\n    let result: string;\n    let snapshot: ActivatedRouteSnapshot = actRoute.snapshot;\n    result = ((snapshot.data || {})['oPermission'] || {})['permissionId'];\n    while (Util.isDefined(snapshot.firstChild) && !Util.isDefined(result)) {\n      snapshot = snapshot.firstChild;\n      result = ((snapshot.data || {})['oPermission'] || {})['permissionId'];\n    }\n    return result;\n  }\n\n  protected getComponentPermissionsUsingRoute(attr: string, actRoute: ActivatedRoute): OComponentPermissions {\n    let result: OComponentPermissions;\n    const permissionId = this.getPermissionIdFromActRoute(actRoute);\n    if (Util.isDefined(permissionId)) {\n      const routePermissions: ORoutePermissions = (this.permissions.routes || []).find(route => route.permissionId === permissionId);\n      if (Util.isDefined(routePermissions)) {\n        result = (routePermissions.components || []).find(comp => comp.attr === attr);\n      }\n    }\n    return result;\n  }\n\n  protected getOComponentPermissions(attr: string, actRoute: ActivatedRoute, selector: string): any {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    let routePermissions: any;\n    const genericRoutePerm: OComponentPermissions = this.getComponentPermissionsUsingRoute(attr, actRoute);\n    if (genericRoutePerm && genericRoutePerm.selector === selector) {\n      routePermissions = genericRoutePerm;\n    }\n    let compPermissions: any;\n    const attrPermissions = (this.permissions.components || []).find(comp => comp.attr === attr);\n    if (attrPermissions && attrPermissions.selector === selector) {\n      compPermissions = attrPermissions;\n    }\n    return {\n      route: routePermissions,\n      component: compPermissions\n    };\n  }\n\n  getTablePermissions(attr: string, actRoute: ActivatedRoute): OTablePermissions {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const perm = this.getOComponentPermissions(attr, actRoute, 'o-table');\n    const routePerm: OTablePermissions = <OTablePermissions>perm.route;\n    const compPerm: OTablePermissions = <OTablePermissions>perm.component;\n    if (!Util.isDefined(routePerm) || !Util.isDefined(compPerm)) {\n      return compPerm || routePerm;\n    }\n    const permissions: OTablePermissions = {\n      selector: 'o-table',\n      attr: routePerm.attr,\n      menu: this.mergeOTableMenuPermissions(compPerm.menu, routePerm.menu),\n      columns: this.mergeOPermissionsArrays(compPerm.columns, routePerm.columns),\n      actions: this.mergeOPermissionsArrays(compPerm.actions, routePerm.actions),\n      contextMenu: this.mergeOPermissionsArrays(compPerm.contextMenu, routePerm.contextMenu)\n    };\n    return permissions;\n  }\n\n  getFormPermissions(attr: string, actRoute: ActivatedRoute): OFormPermissions {\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const perm = this.getOComponentPermissions(attr, actRoute, 'o-form');\n    const routePerm: OFormPermissions = <OFormPermissions>perm.route;\n    const compPerm: OFormPermissions = <OFormPermissions>perm.component;\n    if (!Util.isDefined(routePerm) || !Util.isDefined(compPerm)) {\n      return compPerm || routePerm;\n    }\n    const permissions: OFormPermissions = {\n      selector: 'o-form',\n      attr: routePerm.attr,\n      components: this.mergeOPermissionsArrays(compPerm.components, routePerm.components),\n      actions: this.mergeOPermissionsArrays(compPerm.actions, routePerm.actions)\n    };\n    return permissions;\n  }\n\n  getMenuPermissions(attr: string): OPermissions {\n    let permissions;\n    if (!Util.isDefined(this.permissions)) {\n      return undefined;\n    }\n    const allMenu: OPermissions[] = this.permissions.menu || [];\n\n    permissions = allMenu.find(comp => comp.attr === attr);\n\n    return permissions;\n  }\n\n  protected mergeOPermissionsArrays(permissionsA: OPermissions[], permissionsB: OPermissions[]): OPermissions[] {\n    if (!Util.isDefined(permissionsA) || !Util.isDefined(permissionsB)) {\n      return permissionsA || permissionsB;\n    }\n    const result = Object.assign([], permissionsA);\n    permissionsB.forEach((perm: OPermissions) => {\n      const found = result.find(r => r.attr === perm.attr);\n      if (found) {\n        found.visible = perm.visible;\n        found.enabled = perm.enabled;\n      } else {\n        result.push(perm);\n      }\n    });\n    return result;\n  }\n\n  protected mergeOTableMenuPermissions(permissionsA: OTableMenuPermissions, permissionsB: OTableMenuPermissions): OTableMenuPermissions {\n    if (!Util.isDefined(permissionsA) || !Util.isDefined(permissionsB)) {\n      return permissionsA || permissionsB;\n    }\n    const result = {\n      visible: permissionsB.visible,\n      enabled: permissionsB.enabled,\n      items: this.mergeOPermissionsArrays(permissionsA.items, permissionsB.items)\n    };\n    return result;\n  }\n\n  isPermissionIdRouteRestricted(permissionId: string): boolean {\n    const routeData = (this.permissions.routes || []).find(route => route.permissionId === permissionId);\n    return Util.isDefined(routeData) && routeData.enabled === false;\n  }\n}\n","import { Component, Injector } from '@angular/core';\nimport { ValidatorFn } from '@angular/forms';\n\nimport { ErrorData } from '../../../types/error-data.type';\nimport { Util } from '../../../util/util';\nimport { OErrorComponent } from './o-error.component';\n\nexport const DEFAULT_INPUTS_O_VALIDATOR = [\n  'validatorFn: validator-function',\n  'errorName: error-name',\n  'errorText: error-text'\n];\n\n@Component({\n  selector: 'o-validator',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_VALIDATOR\n})\nexport class OValidatorComponent {\n\n  validatorFn: ValidatorFn = null;\n  errorName: string;\n  errorText: string;\n\n  protected errorsData: ErrorData[] = [];\n\n  constructor(\n    protected injector: Injector\n  ) {\n\n  }\n\n  registerError(oError: OErrorComponent) {\n    this.errorsData.push({\n      name: oError.getName(),\n      text: oError.getText()\n    });\n  }\n\n  getValidatorFn(): ValidatorFn {\n    return this.validatorFn;\n  }\n\n  getErrorsData(): ErrorData[] {\n    let result: ErrorData[] = [];\n    if (this.errorsData.length > 0) {\n      result = this.errorsData;\n    } else if (Util.isDefined(this.errorName) && Util.isDefined(this.errorText)) {\n      result = [{\n        name: this.errorName,\n        text: this.errorText\n      }];\n    }\n    return result;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Inject,\n  InjectionToken,\n  Injector,\n  Input,\n  Optional,\n} from '@angular/core';\n\nimport { OMatErrorOptions, OMatErrorType } from '../../../types/o-mat-error.type';\nimport { Codes } from '../../../util/codes';\n\nexport const O_MAT_ERROR_OPTIONS = new InjectionToken<OMatErrorOptions>('o-mat-error-options');\n\nlet nextUniqueId = 0;\n\n@Component({\n  // tslint:disable-next-line: component-selector\n  selector: 'mat-error',\n  templateUrl: './o-mat-error.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class: 'mat-error',\n    role: 'alert',\n    '[attr.id]': 'id'\n  }\n})\nexport class OMatErrorComponent {\n  @Input() id: string = `mat-error-${nextUniqueId++}`;\n  @Input() text: string = '';\n\n  protected errorOptions: OMatErrorOptions;\n  protected errorType: OMatErrorType;\n\n  constructor(\n    protected injector: Injector,\n    protected elementRef: ElementRef,\n    protected cd: ChangeDetectorRef,\n    @Optional() @Inject(O_MAT_ERROR_OPTIONS) errorOptions: OMatErrorOptions\n  ) {\n    this.errorOptions = errorOptions ? errorOptions : {};\n    this.errorType = this.errorOptions.type || 'standard';\n  }\n\n  get isStandardError(): boolean {\n    return this.errorType === Codes.O_MAT_ERROR_STANDARD;\n  }\n}\n","import { OPermissions } from '../types/o-permissions.type';\nimport { Util } from './util';\n\nexport class PermissionsUtils {\n  public static ACTION_REFRESH = 'refresh';\n  public static ACTION_INSERT = 'insert';\n  public static ACTION_UPDATE = 'update';\n  public static ACTION_DELETE = 'delete';\n\n  public static STANDARD_ACTIONS = [\n    PermissionsUtils.ACTION_REFRESH,\n    PermissionsUtils.ACTION_INSERT,\n    PermissionsUtils.ACTION_UPDATE,\n    PermissionsUtils.ACTION_DELETE\n  ];\n\n  static checkEnabledPermission(permission: OPermissions): boolean {\n    if (Util.isDefined(permission) && permission.enabled === false) {\n      console.warn('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n      return false;\n    }\n    return true;\n  }\n\n  static registerDisabledChangesInDom(nativeElement: any, args?: any): MutationObserver {\n    const callback: Function = args && args.callback ? args.callback : PermissionsUtils.setDisabledDOMElement;\n    const checkStringValue: boolean = !!(args && args.checkStringValue);\n    if (!Util.isDefined(nativeElement)) {\n      return undefined;\n    }\n\n    const mutationObserver = new MutationObserver((mutations: MutationRecord[]) => {\n      const mutation = mutations[0];\n      if (mutation.type === 'attributes' && mutation.attributeName === 'disabled') {\n        const attribute = (mutation.target as any).attributes.getNamedItem('disabled');\n        if (attribute === null || (checkStringValue && attribute.value !== 'true')) {\n          callback(mutation);\n        }\n      }\n    });\n\n    mutationObserver.observe(nativeElement, {\n      attributes: true,\n      attributeFilter: ['disabled']\n    });\n\n    return mutationObserver;\n  }\n\n  static setDisabledDOMElement(mutation: MutationRecord) {\n    const element = <HTMLInputElement>mutation.target;\n    element.setAttribute('disabled', 'true');\n  }\n}\n","import { AbstractControlOptions, AsyncValidatorFn, FormControl, ValidatorFn } from '@angular/forms';\n\nimport { OFormDataComponent } from '../o-form-data-component.class';\n\nexport class OFormControl extends FormControl {\n  public fControlChildren: (FormControl | OFormDataComponent)[];\n\n  constructor(\n    formState: any = null,\n    validatorOrOpts?: ValidatorFn | ValidatorFn[] | AbstractControlOptions | null,\n    asyncValidator?: AsyncValidatorFn | AsyncValidatorFn[] | null\n  ) {\n    super(formState, validatorOrOpts, asyncValidator);\n  }\n\n  markAsTouched(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsTouched(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsTouched(opts);\n      } else if (x.getFormControl()) {\n        x.getFormControl().markAsTouched();\n      }\n    });\n  }\n\n  markAsDirty(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsDirty(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsDirty(opts);\n      } else if (x.getFormControl()) {\n        x.getFormControl().markAsDirty();\n      }\n    });\n  }\n\n  markAsPristine(opts: { onlySelf?: boolean } = {}): void {\n    super.markAsPristine(opts);\n    if (!this.fControlChildren) {\n      return;\n    }\n    this.fControlChildren.forEach(x => {\n      if (x instanceof FormControl) {\n        x.markAsPristine(opts);\n      } else if (x.getFormControl()) {\n        x.getFormControl().markAsPristine();\n      }\n    });\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  /**setValue(value: any, options: { } => Not override this method because there is a case where the children have a different value than the main one\n   */\n}\n","\n// tslint:disable:object-literal-key-quotes\nexport const MAP = {\n  // English\n  en: {\n    'LANGUAGE': 'Language',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Username',\n    'PASSWORD': 'Password',\n    'LOGIN': 'Login',\n    'LOGOUT': 'Logout',\n    'OK': 'Ok',\n    'ACCEPT': 'Accept',\n    'CANCEL': 'Cancel',\n    'CLOSE': 'Close',\n    'YES': 'Yes',\n    'NO': 'No',\n    'RESET': 'Reset',\n    'CONFIRM': 'Confirm',\n    'NEXT': 'Next',\n    'PREVIOUS': 'Previous',\n    'FINISH': 'Finish',\n    'SAVE': 'Save',\n    'INSERT': 'Ok',\n    'REFRESH': 'Refresh',\n    'SEARCH': 'Search',\n    'FILTER': 'Filter',\n    'DELETE': 'Delete',\n    'ADD': 'New',\n    'SELECT': 'Select',\n    'SELECT_ALL': 'Select all',\n    'INFO': 'Information',\n    'ERROR': 'Error',\n    'FOUND': 'Found',\n    'RESULTS': 'Results',\n    'TOTAL': 'Total',\n    'MONEY': 'Money',\n    'HOME': 'Home',\n    'SHOW_CONSOLE': 'Show console',\n    'FILE': 'File',\n    'OPTIONS': 'Options',\n    'EDIT': 'Edit',\n    'UNDO': 'Undo',\n    'REDO': 'Redo',\n    'COPY': 'Copy',\n    'PASTE': 'Paste',\n    'LOCK': 'Lock',\n    'EXIT': 'Exit',\n    'SETTINGS': 'Settings',\n    'FORM': 'Form',\n    'LIST': 'List',\n    'LIST.EMPTY': 'No results found',\n    'LIST.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n\n    'TABLE': 'Table',\n    'DETAIL': 'Detail',\n    'PAGE': 'Page',\n    'FIRST_PAGE': 'First',\n    'LAST_PAGE': 'Last',\n    'PREVIOUS_PAGE': 'Previous',\n    'NEXT_PAGE': 'Next',\n    'PHOTO': 'Picture',\n    'CHOOSE_FILE': 'Choose file',\n\n    'FORM_VALIDATION.REQUIRED': 'Required',\n    'FORM_VALIDATION.LENGTH': 'Invalid length',\n    'FORM_VALIDATION.MIN_LENGTH': 'Minimum length',\n    'FORM_VALIDATION.MAX_LENGTH': 'Maximum length',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Minimum number of decimal digits',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Maximum number of decimal digits',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Invalid email',\n    'FORM_VALIDATION.NIF_FORMAT': 'Invalid format (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Invalid DNI letter',\n    'FORM_VALIDATION.DATE_RANGE': 'Date outside valid range',\n    'FORM_VALIDATION.MIN_VALUE': 'Minimum value',\n    'FORM_VALIDATION.MAX_VALUE': 'Maximum value',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Date not valid format',\n    'FORM_VALIDATION.DATE_FILTER': 'Date is not valid for the defined filter',\n    'FORM_VALIDATION.DATE_MIN': 'Date min',\n    'FORM_VALIDATION.DATE_MAX': 'Date max',\n    'FORM_VALIDATION.DATERANGE_MIN': 'Date min is not in the range',\n    'FORM_VALIDATION.DATERANGE_MAX': 'Date max is not in the range',\n    'FORM_VALIDATION.DATERANGE_INVALID': 'Date range invalid',\n    'FORM_VALIDATION.FILE_TYPE': 'Invalid format',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Maximum file size',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Max. files',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Format not valid format',\n    'MESSAGES.FORM_VALIDATION_ERROR': 'Form values are not valid!',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': 'There are no values to update!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': 'Are you sure you want to continue? All unsaved changes will be lost',\n    'MESSAGES.ERROR_LOGIN': 'Login failed. Check username and/or password.',\n    'MESSAGES.ERROR_SESSION': 'Session expired.',\n    'MESSAGES.ERROR_INSERT': 'Failed to insert data.',\n    'MESSAGES.ERROR_QUERY': 'Failed to get data from the server.',\n    'MESSAGES.ERROR_UPDATE': 'Failed to save data.',\n    'MESSAGES.ERROR_DELETE': 'Failed to delete data.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Required attribute not set.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Failed to load file.',\n    'MESSAGES.CONFIRM_ACTION': 'Are you sure you want to continue?',\n    'MESSAGES.CONFIRM_LOGOUT': 'Are you sure you want to leave?',\n    'MESSAGES.CONFIRM_DELETE': 'Are you sure you want to delete the selected items?',\n    'MESSAGES.CONFIRM_CANCEL': 'Are you sure you want to cancel without saving changes?',\n    'MESSAGES.SAVING': 'Saving, please wait...',\n    'MESSAGES.SAVED': 'Saved',\n    'MESSAGES.DELETED': 'Deleted',\n    'MESSAGES.INSERTED': 'Inserted',\n    'MESSAGES.UPDATED': 'Updated',\n    'MESSAGES.NO_RESULTS': 'No results were obtained.',\n    'MESSAGES.ERROR_MISSING_LANG': 'Selected language bundle file not found',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': 'Are you sure you want to discard all active columns filters?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Failed to export table data.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Table data exported successfully.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operation is not allowed due to permissions restrictions',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navigation is not allowed due to permissions restrictions',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navigation redirected due to permissions restrictions',\n    'MESSAGES.ERROR_403_TEXT': 'You are not authorized to view this page.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Navigate back',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'No column has been selected to perform the search.',\n    'INPUT.COMBO.EMPTY': 'No results found',\n    'INPUT.COMBO.MESSAGE_TRIGGER': ' (+{0} others)',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Select all',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(empty value)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * to search for any character string',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filter by value',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Custom filter',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'From',\n    'TABLE.FILTER_BY_COLUMN.TO': 'To',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'No values',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Insert a filter',\n    'TABLE.FILTER': 'Filter',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Match uppercase and lowercase',\n    'TABLE.EMPTY': 'No results found',\n    'TABLE.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n    'TABLE.INFO': '_START_ - _END_ of _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 of 0',\n    'TABLE.INFO_FILTERED': '(filtered from _MAX_ total entries)',\n    'TABLE.INFO_POST_FIX': ' ',\n    'TABLE.LENGTH_MENU': 'Rows per page: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Loading...',\n    'TABLE.PROCESSING': 'Processing...',\n    'TABLE.SEARCH': ' ',\n    'TABLE.ZERO_RECORDS': 'No matching records found',\n    'TABLE.PAGINATE.FIRST': 'First',\n    'TABLE.PAGINATE.LAST': 'Last',\n    'TABLE.PAGINATE.NEXT': 'Next',\n    'TABLE.PAGINATE.PREVIOUS': 'Previous',\n    'TABLE.PAGINATE.RANGE_LABEL': 'of',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Items per page',\n    'TABLE.ARIA.SORT_ASCENDING': ': activate to sort column ascending',\n    'TABLE.ARIA.SORT_DESCENDING': ': activate to sort column descending',\n    'TABLE.BUTTONS.COLVIS': 'Show / hide columns',\n    'TABLE.BUTTONS.COPY_TITLE': 'Added to clipboard',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d rows copied',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 row copied',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copy to clipboard',\n    'TABLE.BUTTONS.PRINT': 'Print',\n    'TABLE.BUTTONS.EXPORT': 'Export',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Group rows',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Resize columns',\n    'TABLE.BUTTONS.FILTER': 'Filter',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Save filter',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Load filter',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Clear filter',\n    'TABLE.BUTTONS.REFRESH': 'Refresh',\n    'TABLE.BUTTONS.DELETE': 'Delete',\n    'TABLE.BUTTONS.ADD': 'New',\n    'TABLE.BUTTONS.SELECT': 'Select...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filter by column',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Save filter',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configuration',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Save configuration',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Load configuration',\n    'TABLE.BUTTONS.APPLY': 'Load',\n    'TABLE.SELECT.ROWS._': '%d selected rows',\n    'TABLE.SELECT.ROWS.0': ' ',\n    'TABLE.SELECT.ROWS.1': '1 row selected',\n    'TABLE.SHOW_ALL': 'All',\n    'TABLE.SELECT_DATE': 'Select date',\n    'TABLE.ROW_VALIDATION_ERROR': 'Row data is not valid!',\n    'TABLE.DIALOG.SAVE_FILTER': 'Select a name for the filter.',\n    'TABLE.DIALOG.FILTER_NAME': 'Name',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Description',\n    'TABLE.DIALOG.LOAD_FILTER': 'Select a filter to apply to the table',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'This acction will clear every filter on the table. Are you sure you want to continue?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': 'Are you sure you want to delete the selected filter?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'There are no filters stored',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'Already exists a filter with that name',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Enter a name and description for the configuration',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Name',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Description',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Select a configuration to apply to the table',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Default configuration',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restores the initial configuration of the table',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Select which properties you want to store',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Columns sort',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Stores the sort of each column',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Columns visibility',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Stores the columns displayed and its order and width',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Filter state',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Stores the current value of the filter',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filter by column',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Stores the filter configured on each column',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Pagination status',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Stores the pagination status',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': 'Are you sure you want to delete the selected configuration?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Select the format you want to export the table information.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Home',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detail',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'New',\n    'APP_LAYOUT.USER_PROFILE': 'My profile',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'View list',\n    'GRID.ITEMS_PER_PAGE': 'Items per page',\n    'GRID.SORT_BY': 'Sort by',\n    'GRID.SORT_BY_ASC': 'Sort by {0} ascending',\n    'GRID.SORT_BY_DESC': 'Sort by {0} descending',\n    'GRID.BUTTON_NEXT': 'Show more',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'No results found',\n    'GRID.EMPTY_USING_FILTER': ' using filter \"{0}\"',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'View detail',\n    'TABLE_CONTEXT_MENU.EDIT': 'Edit',\n    'TABLE_CONTEXT_MENU.INSERT': 'Insert',\n    'TABLE_CONTEXT_MENU.COPY': 'Copy',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copy cell',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copy row',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copy all',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copy selection',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Select all',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Deselect all',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Refresh',\n    'TABLE_CONTEXT_MENU.DELETE': 'Delete',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filter',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filter by:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filter by this value',\n    'DATERANGE.today': 'Today',\n    'DATERANGE.yesterday': 'Yesterday',\n    'DATERANGE.last_7days': 'Last 7 days',\n    'DATERANGE.last_30days': 'Last 30 days',\n    'DATERANGE.this_month': 'This month',\n    'DATERANGE.last_month': 'Last month',\n    'DATERANGE.this_year': 'This year',\n    'DATERANGE.APPLYLABEL': 'Select dates',\n    'DATERANGE.W': 'W'\n  },\n\n  // Spanish\n\n  es: {\n    'LANGUAGE': 'Idioma',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Usuario',\n    'PASSWORD': 'Contraseña',\n    'LOGIN': 'Entrar',\n    'LOGOUT': 'Salir',\n    'OK': 'Ok',\n    'ACCEPT': 'Aceptar',\n    'CANCEL': 'Cancelar',\n    'CLOSE': 'Cerrar',\n    'YES': 'Sí',\n    'NO': 'No',\n    'RESET': 'Resetear',\n    'CONFIRM': 'Confirmar',\n    'NEXT': 'Siguiente',\n    'PREVIOUS': 'Anterior',\n    'FINISH': 'Finalizar',\n    'SAVE': 'Guardar',\n    'INSERT': 'Ok',\n    'REFRESH': 'Refrescar',\n    'SEARCH': 'Buscar',\n    'FILTER': 'Filtrar',\n    'DELETE': 'Borrar',\n    'ADD': 'Nuevo',\n    'SELECT': 'Seleccionar',\n    'SELECT_ALL': 'Seleccionar todo',\n    'INFO': 'Información',\n    'ERROR': 'Error',\n    'FOUND': 'Encontrados',\n    'RESULTS': 'Resultados',\n    'TOTAL': 'Total',\n    'MONEY': 'Dinero',\n    'HOME': 'Inicio',\n    'SHOW_CONSOLE': 'Mostrar consola',\n    'FILE': 'Archivo',\n    'OPTIONS': 'Opciones',\n    'EDIT': 'Editar',\n    'UNDO': 'Deshacer',\n    'REDO': 'Rehacer',\n    'COPY': 'Copiar',\n    'PASTE': 'Pegar',\n    'LOCK': 'Bloquear',\n    'EXIT': 'Salir',\n    'SETTINGS': 'Configuración',\n    'FEATURES': 'Características',\n    'FORM': 'Formulario',\n    'LIST': 'Lista',\n    'LIST.EMPTY': 'No se han obtenido resultados',\n    'LIST.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n\n    'TABLE': 'Tabla',\n    'DETAIL': 'Detalle',\n    'PAGE': 'Página',\n    'FIRST_PAGE': 'Primera',\n    'LAST_PAGE': 'Última',\n    'PREVIOUS_PAGE': 'Anterior',\n    'NEXT_PAGE': 'Siguiente',\n    'PHOTO': 'Fotografía',\n    'CHOOSE_FILE': 'Escoger fichero',\n\n    'FORM_VALIDATION.REQUIRED': 'Requerido',\n    'FORM_VALIDATION.LENGTH': 'Longitud no válida',\n    'FORM_VALIDATION.MIN_LENGTH': 'Longitud mínima',\n    'FORM_VALIDATION.MAX_LENGTH': 'Longitud máxima',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Mínimo número de cifras decimales',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Máximo número de cifras decimales',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Email no válido',\n    'FORM_VALIDATION.NIF_FORMAT': 'Formato no válido (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Letra de DNI no válida',\n    'FORM_VALIDATION.DATE_RANGE': 'Fecha fuera del rango válido',\n    'FORM_VALIDATION.MIN_VALUE': 'Valor mínimo',\n    'FORM_VALIDATION.MAX_VALUE': 'Valor máximo',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Formato no válido',\n    'FORM_VALIDATION.DATE_FILTER': 'Fecha no es válida para el filtro definido',\n    'FORM_VALIDATION.DATE_MIN': 'Fecha mínima',\n    'FORM_VALIDATION.DATE_MAX': 'Fecha máxima',\n    'FORM_VALIDATION.DATERANGE_INVALID': 'Rango de fechas inválido',\n\n    'FORM_VALIDATION.FILE_TYPE': 'Formato no válido',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Tamaño de fichero máximo',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Número máximo de ficheros',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Formato no válido',\n\n    'MESSAGES.FORM_VALIDATION_ERROR': 'El formulario contiene campos con valores no válidos',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': '¡No existen valores para actualizar!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': '¿Está seguro de que quiere continuar? Perderá los cambios realizados',\n    'MESSAGES.ERROR_LOGIN': 'Error de inicio de sesión. Compruebe nombre de usuario y/o contraseña.',\n    'MESSAGES.ERROR_SESSION': 'La sesión ha caducado',\n    'MESSAGES.ERROR_INSERT': 'Error al insertar datos.',\n    'MESSAGES.ERROR_QUERY': 'Error al consultar datos del servidor.',\n    'MESSAGES.ERROR_UPDATE': 'Error al actualizar datos.',\n    'MESSAGES.ERROR_DELETE': 'Error al borrar datos.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Atributo requerido no proporcionado.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Error al cargar el archivo.',\n    'MESSAGES.CONFIRM_ACTION': '¿Está seguro de que quiere continuar?',\n    'MESSAGES.CONFIRM_LOGOUT': '¿Está seguro de que quiere salir?',\n    'MESSAGES.CONFIRM_DELETE': '¿Está seguro de que quiere borrar los items seleccionados?',\n    'MESSAGES.CONFIRM_CANCEL': '¿Está seguro de que quiere cancelar sin guardar los cambios?',\n    'MESSAGES.SAVING': 'Guardando, espere...',\n    'MESSAGES.SAVED': 'Guardado',\n    'MESSAGES.DELETED': 'Borrado',\n    'MESSAGES.INSERTED': 'Insertado',\n    'MESSAGES.UPDATED': 'Actualizado',\n    'MESSAGES.NO_RESULTS': 'No se obtuvieron resultados.',\n    'MESSAGES.ERROR_MISSING_LANG': 'No se ha encontrado el fichero de configuración del idioma seleccionado',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': '¿Está seguro de que quiere descartar todos los filtros de columna activos?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Error al exportar los datos de la tabla.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Se han exportado los datos de la tabla correctamente.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operación no permitida debido a restricciones de permisos.',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navegación no permitida debido a restricciones de permisos.',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navegación redirigida debido a restricciones de permisos.',\n    'MESSAGES.ERROR_403_TEXT': 'No está autorizado para ver esta página.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Volver atrás',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'No se ha seleccionado ninguna columna por la que realizar la búsqueda.',\n    'INPUT.COMBO.EMPTY': 'No hay resultados',\n    'INPUT.COMBO.MESSAGE_TRIGGER': ' (+ otros {0})',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Seleccionar todos',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(valor vacío)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * para buscar por cualquier valor',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filtro por valor',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Filtro personalizado',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'Desde',\n    'TABLE.FILTER_BY_COLUMN.TO': 'Hasta',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'No hay valores',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Introduzca un filtro',\n    'TABLE.FILTER': 'Filtrar',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Coincidir mayúsculas y minúsculas',\n    'TABLE.EMPTY': 'No se han obtenido resultados',\n    'TABLE.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n    'TABLE.INFO': '_START_ - _END_ de _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 de 0',\n    'TABLE.INFO_FILTERED': '(filtrados de un total de _MAX_ registros)',\n    'TABLE.INFO_POST_FIX': ' ',\n    'TABLE.LENGTH_MENU': 'Registros por página: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Cargando...',\n    'TABLE.PROCESSING': 'Procesando...',\n    'TABLE.SEARCH': ' ',\n    'TABLE.ZERO_RECORDS': 'No se encontraron coincidencias',\n    'TABLE.PAGINATE.FIRST': 'Primero',\n    'TABLE.PAGINATE.LAST': 'Último',\n    'TABLE.PAGINATE.NEXT': 'Siguiente',\n    'TABLE.PAGINATE.PREVIOUS': 'Anterior',\n    'TABLE.PAGINATE.RANGE_LABEL': 'de',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Registros por página',\n    'TABLE.ARIA.SORT_ASCENDING': ': activar para ordenar la columna de forma ascendente',\n    'TABLE.ARIA.SORT_DESCENDING': ': activar para ordenar la columna de forma descendente',\n    'TABLE.BUTTONS.COLVIS': 'Mostrar / ocultar columnas',\n    'TABLE.BUTTONS.COPY_TITLE': 'Copiado al portapapeles',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d registros copiados',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 registro copiado',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copiar al portapapeles',\n    'TABLE.BUTTONS.PRINT': 'Imprimir',\n    'TABLE.BUTTONS.EXPORT': 'Exportar',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Agrupar registros',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Cambiar tamaño de columnas',\n    'TABLE.BUTTONS.FILTER': 'Filtrar',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Guardar filtro',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Aplicar filtro',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Limpiar filtro',\n    'TABLE.BUTTONS.REFRESH': 'Refrescar',\n    'TABLE.BUTTONS.DELETE': 'Eliminar',\n    'TABLE.BUTTONS.ADD': 'Nuevo',\n    'TABLE.BUTTONS.SELECT': 'Seleccionar...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filtrado por columnas',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Guardar filtro',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configuración',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Guardar configuración',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Aplicar configuración',\n    'TABLE.BUTTONS.APPLY': 'Aplicar',\n    'TABLE.SELECT.ROWS._': '%d registros seleccionados',\n    'TABLE.SELECT.ROWS.0': ' ',\n    'TABLE.SELECT.ROWS.1': '1 registro seleccionado',\n    'TABLE.SHOW_ALL': 'Todo',\n    'TABLE.SELECT_DATE': 'Seleccionar fecha',\n    'TABLE.ROW_VALIDATION_ERROR': 'La fila contiene campos con valores no válidos',\n    'TABLE.DIALOG.SAVE_FILTER': 'Seleccione un nombre para el filtro.',\n    'TABLE.DIALOG.FILTER_NAME': 'Nombre',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Descripción',\n    'TABLE.DIALOG.LOAD_FILTER': 'Seleccione un filtro para aplicar a la tabla',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'Esta acción limpiará todos los filtros aplicados a la tabla. ¿Desea continuar?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': '¿Está seguro de que quiere eliminar el filtro seleccionado?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'No hay filtros almacenados',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'Ya existe un filtro con ese nombre',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Introduzca un nombre y una descripción para la configuración',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Nombre',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Descripción',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Seleccione una configuración para aplicar a la tabla',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Configuración por defecto',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restaura la configuración inicial de la tabla',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Seleccione qué propiedades desea almacenar',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Ordenación de columnas',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Almacena la ordenación de cada columna',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Visibilidad de columnas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Almacena las columnas que se muestran, el orden en el que se muestran y el ancho de cada una',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Estado del filtro',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Almacena el valor actual del filtro',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filtrado por columnas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Almacena los filtros configurados en cada una de las columnas',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Estado de paginación',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Almacena el estado de la paginación',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': '¿Está seguro de que quiere eliminar la configuración seleccionada?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Seleccione el formato al que desea exportar la información de la tabla.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Inicio',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detalle',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'Nuevo',\n    'APP_LAYOUT.USER_PROFILE': 'Mi perfil',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'Acceder',\n    'GRID.ITEMS_PER_PAGE': 'Elementos por página',\n    'GRID.SORT_BY': 'Ordenado por',\n    'GRID.SORT_BY_ASC': 'Ordenado por {0} ascendente',\n    'GRID.SORT_BY_DESC': 'Ordenado por {0} descendente',\n    'GRID.BUTTON_NEXT': 'Ver más',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'No se han obtenido resultados',\n    'GRID.EMPTY_USING_FILTER': ' usando el filtro \"{0}\"',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'Ver detalle',\n    'TABLE_CONTEXT_MENU.EDIT': 'Editar',\n    'TABLE_CONTEXT_MENU.INSERT': 'Insertar',\n    'TABLE_CONTEXT_MENU.COPY': 'Copiar',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copiar celda',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copiar celda',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copy all',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copiar selección',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Seleccionar todos',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Deseleccionar todos',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Refrescar',\n    'TABLE_CONTEXT_MENU.DELETE': 'Borrar',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filtrar',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filter by:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filtrar por este valor'\n\n  },\n  // Portuguese - BRAZIL\n  pt: {\n    'LANGUAGE': 'Idioma',\n    'LOCALE_en': 'EN',\n    'LOCALE_es': 'ES',\n    'LOCALE_pt': 'PT',\n    'USERNAME': 'Usuário',\n    'PASSWORD': 'Senha',\n    'LOGIN': 'Entrar',\n    'LOGOUT': 'Sair',\n    'OK': 'Ok',\n    'ACCEPT': 'Aceitar',\n    'CANCEL': 'Cancelar',\n    'CLOSE': 'Fechar',\n    'YES': 'Sim',\n    'NO': 'Não',\n    'RESET': 'Resetar',\n    'CONFIRM': 'Confirmar',\n    'NEXT': 'Próximo',\n    'PREVIOUS': 'Anterior',\n    'FINISH': 'Finalizar',\n    'SAVE': 'Salvar',\n    'INSERT': 'Ok',\n    'REFRESH': 'Recarregar',\n    'SEARCH': 'Buscar',\n    'FILTER': 'Filtrar',\n    'DELETE': 'Apagar',\n    'ADD': 'Novo',\n    'SELECT': 'Selecionar',\n    'SELECT_ALL': 'Selecionar Tudo',\n    'INFO': 'Informação',\n    'ERROR': 'Erro',\n    'FOUND': 'Encontrados',\n    'RESULTS': 'Resultados',\n    'TOTAL': 'Total',\n    'MONEY': 'Dinheiro',\n    'HOME': 'Início',\n    'SHOW_CONSOLE': 'Mostrar console',\n    'FILE': 'Arquivo',\n    'OPTIONS': 'Opções',\n    'EDIT': 'Editar',\n    'UNDO': 'Desfazer',\n    'REDO': 'Refazer',\n    'COPY': 'Copiar',\n    'PASTE': 'Colar',\n    'LOCK': 'Bloquear',\n    'EXIT': 'Sair',\n    'SETTINGS': 'Configuração',\n    'FEATURES': 'Características',\n    'FORM': 'Formulário',\n    'LIST': 'Lista',\n    'LIST.EMPTY': 'Nenhum resultado encontrado',\n    'LIST.EMPTY_USING_FILTER': ' usando o filtro \"{0}\"',\n\n    'TABLE': 'Tabela',\n    'DETAIL': 'Detalhe',\n    'PAGE': 'Página',\n    'FIRST_PAGE': 'Primeira',\n    'LAST_PAGE': 'Última',\n    'PREVIOUS_PAGE': 'Anterior',\n    'NEXT_PAGE': 'Próxima',\n    'PHOTO': 'Fotografia',\n    'CHOOSE_FILE': 'Escolher Arquivo',\n\n    'FORM_VALIDATION.REQUIRED': 'Requerido',\n    'FORM_VALIDATION.LENGTH': 'Longitude inválida',\n    'FORM_VALIDATION.MIN_LENGTH': 'Longitude mínima',\n    'FORM_VALIDATION.MAX_LENGTH': 'Longitude máxima',\n    'FORM_VALIDATION.MIN_DECIMAL_DIGITS': 'Mínimo número de cifras decimais',\n    'FORM_VALIDATION.MAX_DECIMAL_DIGITS': 'Máximo número de cifras decimais',\n    'FORM_VALIDATION.EMAIL_FORMAT': 'Email inválido',\n    'FORM_VALIDATION.NIF_FORMAT': 'Formato inválido (DNI: 12345678-A, NIE: X-1234567-A)',\n    'FORM_VALIDATION.DNI_LETTER': 'Letra de RG inválida',\n    'FORM_VALIDATION.DATE_RANGE': 'Data inválida',\n    'FORM_VALIDATION.MIN_VALUE': 'Valor mínimo',\n    'FORM_VALIDATION.MAX_VALUE': 'Valor máximo',\n\n    'FORM_VALIDATION.DATE_PARSE': 'Data inválida para o filtro definido',\n    'FORM_VALIDATION.DATE_FILTER': 'Fecha no es válida para el filtro definido',\n    'FORM_VALIDATION.DATE_MIN': 'Data mínima',\n    'FORM_VALIDATION.DATE_MAX': 'Data máxima',\n\n    'FORM_VALIDATION.FILE_TYPE': 'Formato no válido',\n    'FORM_VALIDATION.FILE_MAXSIZE': 'Tamanho de arquivo máximo',\n    'FORM_VALIDATION.FILE_MAXNUM': 'Número máximo de arquivos',\n    'FORM_VALIDATION.HOUR_FORMAT': 'Formato inválido',\n\n    'MESSAGES.FORM_VALIDATION_ERROR': 'O formulário apresenta campos com valores inválidos',\n    'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO': 'Não existem valores a serem atualizados!',\n    'MESSAGES.FORM_CHANGES_WILL_BE_LOST': 'Tem certeza que quer continuar? Perderá todas as alterações realizadas',\n    'MESSAGES.ERROR_LOGIN': 'Erro de início de sessão. Comprove nome de usuário e/ou senha.',\n    'MESSAGES.ERROR_SESSION': 'A sessão foi encerrada',\n    'MESSAGES.ERROR_INSERT': 'Erro ao inserir os dados.',\n    'MESSAGES.ERROR_QUERY': 'Erro na consulta de dados do servidor.',\n    'MESSAGES.ERROR_UPDATE': 'Erro de atualização dos dados.',\n    'MESSAGES.ERROR_DELETE': 'Erro ao apagar os dados.',\n    'MESSAGES.ERROR_ATTRIBUTE_REQUIRED': 'Atributo requerido não fornecido.',\n    'MESSAGES.ERROR_FILE_LOAD': 'Erro ao carregar o arquivo.',\n    'MESSAGES.CONFIRM_ACTION': 'Tem certeza que quer continuar?',\n    'MESSAGES.CONFIRM_LOGOUT': 'Tem certeza que quer sair?',\n    'MESSAGES.CONFIRM_DELETE': 'Tem certeza que quer apagar os ítens selecionados?',\n    'MESSAGES.CONFIRM_CANCEL': 'Tem certeza que quer cancelar sem salvar as alterações?',\n    'MESSAGES.SAVING': 'Salvando, aguarde...',\n    'MESSAGES.SAVED': 'Salvado',\n    'MESSAGES.DELETED': 'Apagado',\n    'MESSAGES.INSERTED': 'Inserido',\n    'MESSAGES.UPDATED': 'Atualizado',\n    'MESSAGES.NO_RESULTS': 'Nenhum resultado encontrado.',\n    'MESSAGES.ERROR_MISSING_LANG': 'Não foi encontrado o arquivo de configuração do idioma selecionado',\n    'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN': 'Tem certeza que quer descartar todos os filtros de coluna ativos?',\n    'MESSAGES.ERROR_EXPORT_TABLE_DATA': 'Erro na exportação dos dados da tabela.',\n    'MESSAGES.SUCCESS_EXPORT_TABLE_DATA': 'Os dados da tabela foram exportados corretamente.',\n    'MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION': 'Operação não permitida por falta de permissões.',\n    'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION': 'Navegação não permitida por falta de permissões.',\n    'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION': 'Navegção redirecionada por falta de permissões.',\n    'MESSAGES.ERROR_403_TEXT': 'Não tem autorização para ver esta página.',\n    'MESSAGES.ERROR_403_TEXT_BUTTON': 'Voltar',\n    'MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS': 'Não foi selecionada nenhuma coluna para realizar a busca.',\n    'INPUT.COMBO.EMPTY': 'Não existem resultados',\n    'INPUT.COMBO.MESSAGE_TRIGGER': '(+ outros {0})',\n    'TABLE.FILTER_BY_COLUMN.CHECK_ALL': 'Selecionar todos',\n    'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE': '(valor vazío)',\n    'TABLE.FILTER_BY_COLUMN.HINT_STAR': 'Use * para buscar por quaisquer valores',\n    'TABLE.FILTER_BY_COLUMN.BY_VALUE': 'Filtro por valor',\n    'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER': 'Filtro personalizado',\n    'TABLE.FILTER_BY_COLUMN.FROM': 'De',\n    'TABLE.FILTER_BY_COLUMN.TO': 'Até',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY': 'Não existem valores',\n    'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER': 'Introduza um filtro',\n    'TABLE.FILTER': 'Filtrar',\n    'TABLE.FILTER.CASE_SENSITIVE': 'Coincidir maiúsculas e minúsculas',\n    'TABLE.EMPTY': 'Nenhum resultado encontrado.',\n    'TABLE.EMPTY_USING_FILTER': 'usando o filtro \\'{0}',\n    'TABLE.INFO': '_START_ - _END_ de _TOTAL_',\n    'TABLE.INFO_EMPTY': '0 - 0 de 0',\n    'TABLE.INFO_FILTERED': '(filtrados de um total de _MAX_ registros)',\n    'TABLE.INFO_POST_FIX': '',\n    'TABLE.LENGTH_MENU': 'Registros por página: _MENU_',\n    'TABLE.LOADING_RECORDS': 'Carregando...',\n    'TABLE.PROCESSING': 'Processando...',\n    'TABLE.SEARCH': '',\n    'TABLE.ZERO_RECORDS': 'Não foram encontradas coincidências',\n    'TABLE.PAGINATE.FIRST': 'Primeiro',\n    'TABLE.PAGINATE.LAST': 'Último',\n    'TABLE.PAGINATE.NEXT': 'Próximo',\n    'TABLE.PAGINATE.PREVIOUS': 'Anterior',\n    'TABLE.PAGINATE.RANGE_LABEL': 'de',\n    'TABLE.PAGINATE.ITEMSPERPAGELABEL': 'Registros por página',\n    'TABLE.ARIA.SORT_ASCENDING': ': ativar para ordenar a coluna de forma ascendente',\n    'TABLE.ARIA.SORT_DESCENDING': ': ativar para ordenar a coluna de forma descendente',\n    'TABLE.BUTTONS.COLVIS': 'Mostrar / ocultar colunas',\n    'TABLE.BUTTONS.COPY_TITLE': 'Copiado na área de transferência (clipboard)',\n    'TABLE.BUTTONS.COPY_SUCCESS._': '%d registros copiados',\n    'TABLE.BUTTONS.COPY_SUCCESS.1': '1 registro copiado',\n    'TABLE.BUTTONS.COPY_TO_CLIPBOARD': 'Copia para a área de transferência (clipboard)',\n    'TABLE.BUTTONS.PRINT': 'Imprimir',\n    'TABLE.BUTTONS.EXPORT': 'Exportar',\n    'TABLE.BUTTONS.EXCEL': 'Excel',\n    'TABLE.BUTTONS.HTML': 'HTML',\n    'TABLE.BUTTONS.PDF': 'PDF',\n    'TABLE.BUTTONS.GROUP_ROWS': 'Agrupar registros',\n    'TABLE.BUTTONS.RESIZE_COLUMNS': 'Alterar tamanho de colunas',\n    'TABLE.BUTTONS.FILTER': 'Filtrar',\n    'TABLE.BUTTONS.FILTER_SAVE': 'Guardar filtro',\n    'TABLE.BUTTONS.FILTER_LOAD': 'Aplicar filtro',\n    'TABLE.BUTTONS.FILTER_CLEAR': 'Limpar filtro',\n    'TABLE.BUTTONS.REFRESH': 'Recarregar',\n    'TABLE.BUTTONS.DELETE': 'Eliminar',\n    'TABLE.BUTTONS.ADD': 'Novo',\n    'TABLE.BUTTONS.SELECT': 'Selecionar...',\n    'TABLE.BUTTONS.FILTER_BY_COLUMN': 'Filtrado por colunas',\n    'TABLE.BUTTONS.SAVE_FILTER': 'Guardar filtro',\n    'TABLE.BUTTONS.CONFIGURATION': 'Configuração',\n    'TABLE.BUTTONS.SAVE_CONFIGURATION': 'Guardar configuração',\n    'TABLE.BUTTONS.APPLY_CONFIGURATION': 'Aplicar configuração',\n    'TABLE.BUTTONS.APPLY': 'Aplicar',\n    'TABLE.SELECT.ROWS._': '%d registros selecionados',\n    'TABLE.SELECT.ROWS.0': '',\n    'TABLE.SELECT.ROWS.1': '1 registro selecionado',\n    'TABLE.SHOW_ALL': 'Tudo',\n    'TABLE.SELECT_DATE': 'Selecionar data',\n    'TABLE.ROW_VALIDATION_ERROR': 'A linha apresenta campos com valores inválidos',\n    'TABLE.DIALOG.SAVE_FILTER': 'Selecione um nome para o filtro.',\n    'TABLE.DIALOG.FILTER_NAME': 'Nome',\n    'TABLE.DIALOG.FILTER_DESCRIPTION': 'Descrição',\n    'TABLE.DIALOG.LOAD_FILTER': 'Selecione um filtro para aplicar à tabela',\n    'TABLE.DIALOG.CONFIRM_CLEAR_FILTER': 'Esta ação limpará todos os filtros aplicados à tabela. Deseja continuar?',\n    'TABLE.DIALOG.CONFIRM_REMOVE_FILTER': 'Tem certeza que quer eliminar o filtro selecionado?',\n    'TABLE.DIALOG.EMPTY_FILTER_LIST': 'Não existem filtros armazenados',\n    'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS': 'Já existe um filtro com esse nome',\n    'TABLE.DIALOG.SAVE_CONFIGURATION': 'Introduza um nome e uma descrição para a configuração',\n    'TABLE.DIALOG.CONFIGURATION_NAME': 'Nome',\n    'TABLE.DIALOG.CONFIGURATION_DESCRIPTION': 'Descrição',\n    'TABLE.DIALOG.APPLY_CONFIGURATION': 'Selecione uma configuração para aplicar à tabela',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT': 'Configuração padrão',\n    'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION': 'Restaura a configuração inicial da tabela',\n    'TABLE.DIALOG.CONFIGURATION_PROPERTIES': 'Selecione que propriedades deseja armazenar',\n    'TABLE.DIALOG.PROPERTIES.SORT': 'Ordenação de colunas',\n    'TABLE.DIALOG.PROPERTIES.SORT.INFO': 'Armazena a ordenação de cada coluna',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY': 'Visibilidade de colunas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO': 'Armazena as colunas mostradas, a ordem em que são mostradas e a largura de cada uma',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER': 'Estado do filtro',\n    'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO': 'Armazena o valor atual do filtro',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER': 'Filtrado por colunas',\n    'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO': 'Armazena os filtros configurados em cada uma das colunas',\n    'TABLE.DIALOG.PROPERTIES.PAGE': 'Estado de paginação',\n    'TABLE.DIALOG.PROPERTIES.PAGE.INFO': 'Armazena o estado da paginação',\n    'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION': 'Tem certeza que quer eliminar a configuração selecionada?',\n    'TABLE.DIALOG.EXPORT.DESCRIPTION': 'Selecione o formato de exportação da informação da tabela.',\n    'LAYOUT_MANANGER.MAIN_TAB_LABEL': 'Início',\n    'LAYOUT_MANANGER.DIALOG_TITLE': 'Detalhe',\n    'LAYOUT_MANANGER.INSERTION_MODE_TITLE': 'Novo',\n    'APP_LAYOUT.USER_PROFILE': 'Meu perfil',\n    'CARD_MENU_LAYOUT.BUTTON_TEXT': 'Acessar',\n    'GRID.ITEMS_PER_PAGE': 'Elementos por página',\n    'GRID.SORT_BY': 'Ordenado por',\n    'GRID.SORT_BY_ASC': 'Ordenado por {0} ascendente',\n    'GRID.SORT_BY_DESC': 'Ordenado por {0} descendente',\n    'GRID.BUTTON_NEXT': 'Ver mais',\n    'GRID.TEXT_SHOWN_ITEMS': '{0} / {1}',\n    'GRID.EMPTY': 'Não existem resultados',\n    'GRID.EMPTY_USING_FILTER': 'usando o filtro \\'{0}',\n    'TABLE_CONTEXT_MENU.VIEW_DETAIL': 'Ver detalhes',\n    'TABLE_CONTEXT_MENU.EDIT': 'Editar',\n    'TABLE_CONTEXT_MENU.INSERT': 'Inserir',\n    'TABLE_CONTEXT_MENU.COPY': 'Copiar',\n    'TABLE_CONTEXT_MENU.COPY_CELL': 'Copiar célula',\n    'TABLE_CONTEXT_MENU.COPY_ROW': 'Copiar célula',\n    'TABLE_CONTEXT_MENU.COPY_ALL': 'Copiar todos',\n    'TABLE_CONTEXT_MENU.COPY_SELECTION': 'Copiar seleção',\n    'TABLE_CONTEXT_MENU.SELECT_ALL': 'Selecionar todos',\n    'TABLE_CONTEXT_MENU.DESELECT_ALL': 'Desselecionar todos',\n    'TABLE_CONTEXT_MENU.REFRESH': 'Recarregar',\n    'TABLE_CONTEXT_MENU.DELETE': 'Apagar',\n    'TABLE_CONTEXT_MENU.FILTER': 'Filtrar',\n    'TABLE_CONTEXT_MENU.FILTER_BY': 'Filtrar por:',\n    'TABLE_CONTEXT_MENU.FILTER_BY_VALUE': 'Filtrar por esse valor'\n\n  }\n};\n","import { Injectable, Injector } from '@angular/core';\nimport moment from 'moment';\n\nimport { AppConfig } from '../config/app-config';\nimport { Config } from '../types/config.type';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MomentService {\n\n  // HTML5 input date: YYYY-MM-DD // locale ES-es: DD-MM-YYYY // locale EN-en: MM-DD-YYYY // ISO 8601:\n  // YYYY-MM-DDThh:mm:ss.S // UTC: YYYY-MM-DD hh:mm:ssZ\n  static DATE_FORMATS = ['YYYY-MM-DD', 'DD-MM-YYYY', 'MM-DD-YYYY', 'YYYY-MM-DDThh:mm:ss.S', 'YYYY-MM-DDThh:mm:ss.SSSZ', 'YYYY-MM-DD hh:mm:ssZ'];\n  static defaultFormat: string = 'L';\n  private _locale: string;\n  private _config: Config;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this.load(this._config.locale);\n  }\n\n  load(locale: string) {\n    this._locale = locale;\n  }\n\n  parseDate(value: any, format?: string, locale?: string): any {\n    let result = '';\n    if (!locale) {\n      locale = this._locale;\n    }\n    if (typeof value === 'number') {\n      result = moment(new Date(value)).locale(locale).format(format ? format : MomentService.defaultFormat);\n    } else {\n      result = moment(value, MomentService.DATE_FORMATS, locale).format(format ? format : MomentService.defaultFormat);\n    }\n    result = (result === 'Invalid date') ? '' : result;\n    return result;\n  }\n\n  getLocale() {\n    return this._locale;\n  }\n\n}\n","import { Component, Injector } from '@angular/core';\nimport { MatSnackBarRef } from '@angular/material';\n\nexport declare type OSnackBarIconPosition = 'left' | 'right';\n\n/**\n * Configuration for showing a SnackBar with the SnackBar service.\n */\nexport class OSnackBarConfig {\n  /** Text shown in the action button. */\n  public action?: string;\n  /** Time the SnackBar is shown. */\n  public milliseconds?: number;\n  /** Material icon shown in the SnackBar. */\n  public icon?: string;\n  /** Position where the icon is shown. Default left. */\n  public iconPosition?: OSnackBarIconPosition;\n  /** CSS class to be added to the snack bar container */\n  public cssClass?: string;\n}\n\n@Component({\n  selector: 'o-snackbar',\n  templateUrl: 'o-snackbar.component.html',\n  styleUrls: ['o-snackbar.component.scss'],\n  host: {\n    '[class.o-snackbar]': 'true'\n  }\n})\nexport class OSnackBarComponent {\n\n  public message: string;\n  public action: string;\n  public icon: string;\n  public iconPosition: OSnackBarIconPosition = 'left';\n\n  protected snackBarRef: MatSnackBarRef<{}>;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.snackBarRef = this.injector.get(MatSnackBarRef);\n  }\n\n  public open(message: string, config?: OSnackBarConfig): void {\n    this.message = message;\n    if (config) {\n      if (config.action) {\n        this.action = config.action;\n      }\n      if (config.icon) {\n        this.icon = config.icon;\n      }\n      if (config.iconPosition) {\n        this.iconPosition = config.iconPosition;\n      }\n    }\n  }\n\n  public onAction(): void {\n    this.snackBarRef.dismissWithAction();\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { MatSnackBar, MatSnackBarConfig, MatSnackBarRef } from '@angular/material';\nimport { Observable } from 'rxjs';\n\nimport { OSnackBarComponent, OSnackBarConfig } from '../shared/components/snackbar/o-snackbar.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SnackBarService {\n\n  protected static DEFAULT_DURATION: number = 2000;\n  protected static DEFAULT_CONTAINER_CLASS: string = 'o-snackbar-container';\n\n  protected matSnackBar: MatSnackBar;\n  protected snackBarRef: MatSnackBarRef<OSnackBarComponent>;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.matSnackBar = this.injector.get(MatSnackBar);\n  }\n\n  public open(message: string, config?: OSnackBarConfig): Promise<any> {\n    const self = this;\n    const observable: Observable<any> = new Observable(observer => {\n      const containerClasses: string[] = [SnackBarService.DEFAULT_CONTAINER_CLASS];\n      if (config && config.cssClass) {\n        containerClasses.push(config.cssClass);\n      }\n\n      const matConfig: MatSnackBarConfig = {\n        duration: config && config.milliseconds ? config.milliseconds : SnackBarService.DEFAULT_DURATION,\n        panelClass: containerClasses\n      };\n      self.snackBarRef = self.matSnackBar.openFromComponent(OSnackBarComponent, matConfig);\n\n      self.snackBarRef.onAction().subscribe(arg => {\n        observer.next(arg);\n      });\n\n      self.snackBarRef.afterDismissed().subscribe(() => {\n        observer.complete();\n        self.snackBarRef = null;\n      });\n\n      self.snackBarRef.instance.open(message, config);\n    });\n    return observable.toPromise();\n  }\n\n}\n","import { BasicExpression } from '../types/basic-expression.type';\nimport { Expression } from '../types/expression.type';\nimport { FilterExpression } from '../types/filter-expression.type';\n\n/**\n * Utility class for building basic and filter expressions.\n */\nexport class FilterExpressionUtils {\n\n  /**\n   * The basic expresion key.\n   */\n  static BASIC_EXPRESSION_KEY = '@basic_expression';\n\n  /**\n   * The filter expresion key.\n   */\n  static FILTER_EXPRESSION_KEY = '@filter_expression';\n\n  /**\n   * The `OR` operator.\n   */\n  static OP_OR: string = 'OR';\n\n  /**\n   * The `AND` operator.\n   */\n  static OP_AND: string = 'AND';\n\n  /**\n   * The `LIKE` operator\n   */\n  static OP_LIKE: string = 'LIKE';\n\n  /**\n   * The `NOT LIKE` operator.\n   */\n  static OP_NOT_LIKE: string = 'NOT LIKE';\n\n  /**\n   * The `EQUAL` operator.\n   */\n  static OP_EQUAL: string = '=';\n\n  /**\n   * The `NOT EQUAL` operator.\n   */\n  static OP_NOT_EQUAL: string = '<>';\n\n  /**\n   * The `IS NULL` operator.\n   */\n  static OP_NULL: string = 'IS NULL';\n\n  /**\n   * The `IS NOT NULL` operator.\n   */\n  static OP_NOT_NULL: string = 'IS NOT NULL';\n\n  /**\n   * The `LESS` operator.\n   */\n  static OP_LESS: string = '<';\n\n  /**\n   * The `LES EQUAL` operator.\n   */\n  static OP_LESS_EQUAL: string = '<=';\n\n  /**\n   * The `MORE` operator.\n   */\n  static OP_MORE: string = '>';\n\n  /**\n   * The `MORE EQUAL` operator.\n   */\n  static OP_MORE_EQUAL: string = '>=';\n\n  /**\n   * The `IN` operator.\n   */\n  static OP_IN: string = 'IN';\n\n  /**\n   * Evaluates if the the expression provided is an instance of `BasicExpression`..\n   * @param arg the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `BasicExpression`, `false` otherwise.\n   */\n  static instanceofBasicExpression(arg: any): boolean {\n    return arg.hasOwnProperty(FilterExpressionUtils.BASIC_EXPRESSION_KEY)\n      && FilterExpressionUtils.instanceofExpression(arg[FilterExpressionUtils.BASIC_EXPRESSION_KEY]);\n  }\n\n  /**\n   * Builds a `BasicExpression` instance from the filtering expression (`Expression`) provided.\n   * @param exp the filtering expression.\n   * @returns the basic expression.\n   */\n  static buildBasicExpression(exp: Expression): BasicExpression {\n    if (exp) {\n      if (!FilterExpressionUtils.instanceofExpression(exp)) {\n        console.error('The expression provided is not an instance of \\'Expression\\'');\n      }\n      const be: BasicExpression = {\n        '@basic_expression': exp\n      };\n      return be;\n    }\n    return undefined;\n  }\n\n  /**\n   * Evaluates if an expresion is instance of `FilterExpression`.\n   * @param exp the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `FilterExpression`, `false` otherwise.\n   */\n  static instanceofFilterExpression(exp: any): boolean {\n    return exp.hasOwnProperty(FilterExpressionUtils.FILTER_EXPRESSION_KEY)\n      && FilterExpressionUtils.instanceofExpression(exp[FilterExpressionUtils.FILTER_EXPRESSION_KEY]);\n  }\n\n  /**\n   * Builds an `FilterExpression` instance from the filtering expression (`Expression`) provided.\n   * @param exp the filtering expression.\n   * @returns the `FilterExpression`.\n   */\n  static buildFilterExpression(exp: Expression): FilterExpression {\n    if (exp) {\n      if (!FilterExpressionUtils.instanceofExpression(exp)) {\n        console.error('The expression provided is not an instance of \\'Expression\\'');\n      }\n      const be: FilterExpression = {\n        '@filter_expression': exp\n      };\n      return be;\n    }\n    return undefined;\n  }\n\n  /**\n   * Evaluates if an expresion is instance of `Expression`.\n   * @param exp the expression to evaluate.\n   * @returns `true` if the provided expression is an instance of `Expression`, `false` otherwise.\n   */\n  static instanceofExpression(exp: any): boolean {\n    return exp.hasOwnProperty('lop') && exp.hasOwnProperty('op');\n  }\n\n  /**\n   * Builds a complex `Expression` instance joining two expressions with the provided operator.\n   * @param expr1 the first `Expression` to join.\n   * @param expr2 the second `Expression` to join.\n   * @param op the joining operator.\n   * @returns the complex `Expression`.\n   */\n  static buildComplexExpression(expr1: Expression, expr2: Expression, op: string): Expression {\n    if (expr1.lop === undefined && expr1.op === undefined) {\n      return expr2;\n    }\n    if (expr2.lop === undefined && expr2.op === undefined) {\n      return expr1;\n    }\n    const expr: Expression = {\n      lop: expr1,\n      op: op,\n      rop: expr2\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionEquals(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key with a NOT NULL value.\n   * @param key the key.\n   * @returns the `Expression`.\n   */\n  static buildExpressionIsNotNull(key: string): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_NULL\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key with a NULL value.\n   * @param key the key.\n   * @returns the `Expression`.\n   */\n  static buildExpressionIsNull(key: string): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NULL\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key LESS than the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionLess(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LESS,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key LESS OR EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionLessEqual(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LESS_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key MORE than the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionMore(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_MORE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key MORE OR EQUAL to the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionMoreEqual(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_MORE_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  static buildExpressionIn(key: string, values: any[]): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_IN,\n      rop: values\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key NOT LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionNotLike(key: string, value: string): Expression {\n    if (value !== undefined) {\n      value = value.replace(new RegExp('\\\\*', 'g'), '%');\n      if (value.indexOf('%') === -1) {\n        value = '%' + value + '%';\n      }\n    }\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionLike(key: string, value: string): Expression {\n    if (value !== undefined) {\n      value = value.replace(new RegExp('\\\\*', 'g'), '%');\n      if (value.indexOf('%') === -1) {\n        value = '%' + value + '%';\n      }\n    }\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key ENDS LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionLikeEnd(key: string, value: string): Expression {\n    if (value !== undefined) {\n      value = '%' + value;\n    }\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key STARTS LIKE the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionLikeStart(key: string, value: string): Expression {\n    if (value !== undefined) {\n      value = value + '%';\n    }\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_LIKE,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds an `Expression` instance for filtering the provided key NOT EQUAL the provided value.\n   * @param key the key.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildExpressionNotEquals(key: string, value: any): Expression {\n    const expr: Expression = {\n      lop: key,\n      op: FilterExpressionUtils.OP_NOT_EQUAL,\n      rop: value\n    };\n    return expr;\n  }\n\n  /**\n   * Builds a complex `Expression` for filtering the provided key with two conditions:\n   * * The first filter the provided key with a NULL value.\n   * * The second filter the provided key EQUAL to the provided value.\n   *\n   * Both expressions are joined using the provided operator.\n   * @param key the key.\n   * @param value the value.\n   * @param op the operator.\n   * @returns the `Expression`.\n   */\n  static buildExpressionNullAndValue(key: string, value: any, op: string): Expression {\n    const isNull: Expression = FilterExpressionUtils.buildExpressionIsNull(key);\n    const equals: Expression = FilterExpressionUtils.buildExpressionEquals(key, value);\n    const expr: Expression = {\n      lop: isNull,\n      op: op,\n      rop: equals\n    };\n    return expr;\n  }\n\n  /**\n   * Builds a complex `Expression` for filtering the provided keys LIKE the value provided.\n   * @param keys the keys.\n   * @param value the value.\n   * @returns the `Expression`.\n   */\n  static buildArrayExpressionLike(keys: any[], value: any): Expression {\n    let result: Expression = {\n      lop: undefined,\n      op: undefined\n    };\n    keys.forEach((col) => {\n      result = FilterExpressionUtils.stackExpressionLikeOR(col, value, result);\n    });\n    return result;\n  }\n\n  /**\n   * Builds an `Expression` instance from the provided object.\n   * @param obj the object.\n   * @returns the `Expression`.\n   */\n  static buildExpressionFromObject(obj: any): Expression {\n    let result: Expression = {\n      lop: undefined,\n      op: undefined\n    };\n    Object.keys(obj || {}).forEach((key) => {\n      result = FilterExpressionUtils.stackExpressionEqualsAND(key, obj[key], result);\n    });\n    return result;\n  }\n\n  private static stackExpressionLikeOR(key: string, value: any, expr: Expression): Expression {\n    const likeExpr = FilterExpressionUtils.buildExpressionLike(key, value);\n    if (expr.lop === undefined && expr.op === undefined) {\n      return likeExpr;\n    } else {\n      expr = FilterExpressionUtils.buildComplexExpression(expr, likeExpr, FilterExpressionUtils.OP_OR);\n    }\n    return expr;\n  }\n\n  private static stackExpressionEqualsAND(key: string, value: any, expr: Expression): Expression {\n    const equalsExpr = FilterExpressionUtils.buildExpressionEquals(key, value);\n    if (expr.lop === undefined && expr.op === undefined) {\n      return equalsExpr;\n    } else {\n      expr = FilterExpressionUtils.buildComplexExpression(expr, equalsExpr, FilterExpressionUtils.OP_AND);\n    }\n    return expr;\n  }\n\n}\n","import { HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { IDataService } from '../../interfaces/data-service.interface';\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { Util } from '../../util/util';\nimport { OntimizeBaseService } from './ontimize-base-service.class';\n\n@Injectable()\nexport class OntimizeEEService extends OntimizeBaseService implements IDataService {\n\n  public path: string = '';\n\n  public configureService(config: any): void {\n    super.configureService(config);\n    this._startSessionPath = this._appConfig.startSessionPath ? this._appConfig.startSessionPath : '/users/login';\n    this.path = config.path;\n    // TODO init other params\n  }\n\n  public startsession(user: string, password: string): Observable<string | number> {\n    const url = this.urlBase + this._startSessionPath;\n    const options: any = {\n      headers: new HttpHeaders({\n        Authorization: 'Basic ' + btoa(user + ':' + password)\n      }),\n      observe: 'response'\n    };\n    const dataObservable: Observable<string | number> = new Observable(observer => {\n      this.httpClient.post(url, null, options).subscribe((resp: any) => {\n        if (Util.isDefined(resp) && Util.isDefined(resp.headers) && Util.isDefined(resp.headers.get('X-Auth-Token'))) {\n          observer.next(resp.headers.get('X-Auth-Token'));\n        } else {\n          // Invalid sessionId ...\n          observer.error('Invalid user or password');\n        }\n      }, error => observer.error(error));\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public endsession(user: string, sessionId: any): Observable<number> {\n    const dataObservable: Observable<any> = new Observable(observer => {\n      setTimeout(() => {\n        observer.next(0);\n      }, 0);\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public hassession(user: string, sessionId: any): Observable<boolean> {\n    const dataObservable: Observable<any> = new Observable(observer => {\n      observer.next(true);\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public query(kv?: object, av?: Array<string>, entity?: string, sqltypes?: object): Observable<ServiceResponse> {\n    // TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n\n    const url = `${this.urlBase}${this.path}/${entity}/search`;\n\n    const body = JSON.stringify({\n      filter: kv,\n      columns: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulQueryResponse,\n      errorCallBack: this.parseUnsuccessfulQueryResponse\n    });\n  }\n\n  public advancedQuery(kv?: object, av?: Array<string>, entity?: string, sqltypes?: object,\n    offset?: number, pagesize?: number, orderby?: Array<object>): Observable<ServiceResponse> {\n\n    // TODO improve this -> merge between global conf and specific params of method calling\n    kv = (Util.isDefined(kv)) ? kv : this.kv;\n    av = (Util.isDefined(av)) ? av : this.av;\n    sqltypes = (Util.isDefined(sqltypes)) ? sqltypes : this.sqltypes;\n    orderby = (Util.isDefined(orderby)) ? orderby : this.orderby;\n    offset = (Util.isDefined(offset)) ? offset : this.offset;\n    pagesize = (Util.isDefined(pagesize)) ? pagesize : this.pagesize;\n\n    const url = `${this.urlBase}${this.path}/${entity}/advancedsearch`;\n\n    const body = JSON.stringify({\n      filter: kv,\n      columns: av,\n      sqltypes: sqltypes,\n      offset: offset,\n      pageSize: pagesize,\n      orderBy: orderby\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulAdvancedQueryResponse,\n      errorCallBack: this.parseUnsuccessfulAdvancedQueryResponse\n    });\n  }\n\n  public insert(av: object = {}, entity: string, sqltypes?: object): Observable<ServiceResponse> {\n\n    const url = `${this.urlBase}${this.path}/${entity}`;\n\n    const body = JSON.stringify({\n      data: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'POST',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulInsertResponse,\n      errorCallBack: this.parseUnsuccessfulInsertResponse\n    });\n  }\n\n  public update(kv: object = {}, av: object = {}, entity?: string, sqltypes?: object): Observable<ServiceResponse> {\n\n    const url = `${this.urlBase}${this.path}/${entity}`;\n\n    const body = JSON.stringify({\n      filter: kv,\n      data: av,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'PUT',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulUpdateResponse,\n      errorCallBack: this.parseUnsuccessfulUpdateResponse\n    });\n  }\n\n  public delete(kv: object = {}, entity?: string, sqltypes?: object): Observable<ServiceResponse> {\n\n    const url = `${this.urlBase}${this.path}/${entity}`;\n\n    const body = JSON.stringify({\n      filter: kv,\n      sqltypes: sqltypes\n    });\n\n    return this.doRequest({\n      method: 'DELETE',\n      url: url,\n      body: body,\n      successCallback: this.parseSuccessfulDeleteResponse,\n      errorCallBack: this.parseUnsuccessfulDeleteResponse\n    });\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    const headers = super.buildHeaders();\n    return headers.append('Authorization', 'Bearer ' + this._sessionid);\n  }\n\n}\n","import { HttpHeaders } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Observable, Subscriber } from 'rxjs';\nimport { map, share } from 'rxjs/operators';\n\nimport { IExportService } from '../../interfaces/export-service.interface';\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { HttpRequestOptions } from '../../types';\nimport { OntimizeBaseService } from './ontimize-base-service.class';\n\n@Injectable()\nexport class OntimizeExportService extends OntimizeBaseService implements IExportService {\n\n  public exportPath: string;\n  public downloadPath: string;\n  public servicePath: string;\n\n  protected _sessionid: string;\n  protected exportAll: boolean = false;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  public configureService(config: any, modeAll = false): void {\n    super.configureService(config);\n    this.exportAll = modeAll;\n    if (config.exportPath) {\n      this.exportPath = config.exportPath;\n    }\n    if (config.downloadPath) {\n      this.downloadPath = config.downloadPath;\n    }\n    if (config.path) {\n      this.servicePath = config.path;\n    }\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      Authorization: 'Bearer ' + this._sessionid\n    });\n  }\n\n  public exportData(data: any, format: string, entity?: string): Observable<any> {\n    const url = `${this.urlBase}${this.exportPath ? this.exportPath : ''}${this.servicePath}/${entity}/${format}`;\n\n    const options: HttpRequestOptions = {\n      headers: this.buildHeaders().append('Content-Type', 'application/json;charset=UTF-8'),\n      observe: 'response'\n    };\n\n    const body = JSON.stringify(data);\n    // TODO: try multipart\n    const dataObservable: Observable<ServiceResponse> = new Observable((observer: Subscriber<ServiceResponse>) => {\n      this.httpClient.post<ServiceResponse>(url, body, options).pipe(\n        map((resData: any) => this.adapter.adapt(resData))\n      ).subscribe(resp => {\n        this.parseSuccessfulExportDataResponse(format, resp, observer);\n      }, error => {\n        this.parseUnsuccessfulResponse(error, observer);\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected parseSuccessfulExportDataResponse(format: string, resp: ServiceResponse, subscriber: Subscriber<ServiceResponse>) {\n    if (resp && resp.isUnauthorized()) {\n      this.clientErrorFallback(401);\n    } else if (resp && resp.isFailed()) {\n      subscriber.error(resp.message);\n    } else if (resp && resp.isSuccessful()) {\n      this.downloadFile(resp.data[0][format + 'Id'], format)\n        .subscribe(\n          r => subscriber.next(r),\n          e => subscriber.error(e),\n          () => subscriber.complete()\n        );\n    } else {\n      // Unknow state -> error\n      subscriber.error('Service unavailable');\n    }\n\n  }\n\n  public downloadFile(fileId: string, fileExtension: string): Observable<any> {\n    const url = `${this.urlBase}${this.downloadPath ? this.downloadPath : ''}${this.servicePath}/${fileExtension}/${fileId}`;\n\n    const options: any = {\n      headers: this.buildHeaders(),\n      observe: 'response',\n      responseType: 'blob'\n    };\n\n    const dataObservable = new Observable(observer => {\n      // .map((res: any) => new Blob([res.blob()], { type: responseType }))\n      this.httpClient.get(url, options).subscribe(\n        (resp: any) => {\n          const fileData = resp.body;\n          const fileURL = URL.createObjectURL(fileData);\n          const a = document.createElement('a');\n          document.body.appendChild(a);\n          a.href = fileURL;\n          a.download = fileId + '.' + fileExtension;\n          a.click();\n          document.body.removeChild(a);\n          observer.next(fileData);\n          URL.revokeObjectURL(fileURL);\n        }, error => observer.error(error),\n        () => observer.complete()\n      );\n    });\n    return dataObservable.pipe(share());\n  }\n}\n","import { HttpEventType, HttpHeaders, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { IFileService } from '../../interfaces/file-service.interface';\nimport { OntimizeBaseService } from './ontimize-base-service.class';\n\n@Injectable()\nexport class OntimizeFileService extends OntimizeBaseService implements IFileService {\n\n  public path: string = '';\n\n  public configureService(config: any): void {\n    super.configureService(config);\n    this.path = config.path;\n  }\n\n  /**\n   * Sends file/s upload request/s\n   *\n   * @param files the array of files to upload\n   * @param entity the entity\n   */\n  public upload(files: any[], entity: string, data?: object): Observable<any> {\n\n    const dataObservable = new Observable(observer => {\n\n      const url = `${this.urlBase}${this.path}/${entity}`;\n\n      const toUpload: any = new FormData();\n      files.forEach(item => {\n        item.prepareToUpload();\n        item.isUploading = true;\n        toUpload.append('name', item.name);\n        toUpload.append('file', item.file);\n      });\n\n      if (data) {\n        toUpload.append('data', JSON.stringify(data));\n      }\n\n      const request = new HttpRequest('POST', url, toUpload, {\n        headers: this.buildHeaders(),\n        reportProgress: true\n      });\n\n      this.httpClient.request(request).subscribe(resp => {\n        if (HttpEventType.UploadProgress === resp.type) {\n          // Upload progress event received\n          const progressData = {\n            loaded: resp.loaded,\n            total: resp.total\n          };\n          observer.next(progressData);\n        } else if (HttpEventType.Response === resp.type) {\n          // Full response received\n          if (resp.body) {\n            if (resp.body['code'] === 3) {\n              this.redirectLogin(true);\n            } else if (resp.body['code'] === 1) {\n              observer.error(resp.body['message']);\n            } else if (resp.body['code'] === 0) {\n              // RESPONSE\n              observer.next(resp.body);\n            } else {\n              // Unknow state -> error\n              observer.error('Service unavailable');\n            }\n          } else {\n            observer.next(resp.body);\n          }\n        }\n      }, error => {\n        console.error(error);\n        if (error.status === 401) {\n          this.redirectLogin(true);\n        } else {\n          observer.error(error);\n        }\n      },\n        () => observer.complete());\n    });\n    return dataObservable.pipe(share());\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      Authorization: 'Bearer ' + this._sessionid\n    });\n  }\n\n\n}\n","import { InjectionToken, Injector } from '@angular/core';\n\nimport { AppConfig } from '../config/app-config';\nimport { IExportService } from '../interfaces/export-service.interface';\nimport { IFileService } from '../interfaces/file-service.interface';\nimport { IPermissionsService } from '../interfaces/permissions-service.interface';\nimport { Util } from '../util/util';\nimport { OntimizeEEService } from './ontimize/ontimize-ee.service';\nimport { OntimizeExportService } from './ontimize/ontimize-export.service';\nimport { OntimizeFileService } from './ontimize/ontimize-file.service';\nimport { OntimizeService } from './ontimize/ontimize.service';\nimport { OntimizeEEPermissionsService } from './permissions/ontimize-ee-permissions.service';\nimport { OntimizePermissionsService } from './permissions/ontimize-permissions.service';\n\n/* ----------------------------------------------------------------------------------------------------\n * ----------------------------------------- INJECTION TOKENS -----------------------------------------\n * ---------------------------------------------------------------------------------------------------- */\n\n/**\n * Injection token that can be used to replace the data service `OntimizeService` or `OntimizeEEService`.\n */\nexport const O_DATA_SERVICE = new InjectionToken('Ontimize data service');\n\n/**\n * Injection token that can be used to replace the translate service `OTranslateService`.\n */\nexport const O_TRANSLATE_SERVICE = new InjectionToken('Translate service');\n\n/**\n * Injection token that can be used to replace the file service `OntimizeFileService`.\n */\nexport const O_FILE_SERVICE = new InjectionToken<IFileService>('File uploader service');\n\n/**\n * Injection token that can be used to replace the exportation service `OntimizeExportService`.\n */\nexport const O_EXPORT_SERVICE = new InjectionToken<IExportService>('Export service');\n\n/**\n * Injection token that can be used to replace the permission service `OntimizePermissionsService or OntimizeEEPermissionsService`.\n */\nexport const O_PERMISSION_SERVICE = new InjectionToken<IPermissionsService>('Permission service');\n\n/* ----------------------------------------------------------------------------------------------------\n * --------------------------------------------- FACTORIES --------------------------------------------\n * ---------------------------------------------------------------------------------------------------- */\n\n/**\n * Creates a new instance of the data service.\n */\nexport function dataServiceFactory(injector: Injector): any {\n  const serviceClass = _getInjectionTokenValue(O_DATA_SERVICE, injector);\n  const service = _createServiceInstance(serviceClass, injector);\n  if (Util.isDefined(service)) {\n    return service;\n  }\n  const config = injector.get(AppConfig).getConfiguration();\n  if (typeof (config.serviceType) === 'undefined') {\n    return new OntimizeService(injector);\n  } else if ('OntimizeEE' === config.serviceType) {\n    return new OntimizeEEService(injector);\n  }\n  return _createServiceInstance(config.serviceType, injector);\n}\n\n/**\n * Creates a new instance of the file service.\n */\nexport function fileServiceFactory(injector: Injector): IFileService {\n  const serviceClass = _getInjectionTokenValue(O_FILE_SERVICE, injector);\n  const service = _createServiceInstance(serviceClass, injector);\n  return Util.isDefined(service) ? service : new OntimizeFileService(injector);\n}\n\n/**\n * Creates a new instance of the exportation service.\n */\nexport function exportServiceFactory(injector: Injector): IExportService {\n  const serviceClass = _getInjectionTokenValue(O_EXPORT_SERVICE, injector);\n  const service = _createServiceInstance(serviceClass, injector);\n  if (Util.isDefined(service)) {\n    return service;\n  }\n  const config = injector.get(AppConfig).getConfiguration();\n  if (typeof (config.exportServiceType) === 'undefined') {\n    return new OntimizeExportService(injector);\n  }\n  return _createServiceInstance(config.exportServiceType, injector);\n}\n\n/**\n * Creates a new instance of the permission service.\n */\nexport function permissionsServiceFactory(injector: Injector): IPermissionsService {\n  const serviceClass = _getInjectionTokenValue(O_PERMISSION_SERVICE, injector);\n  const service = _createServiceInstance(serviceClass, injector);\n  if (Util.isDefined(service)) {\n    return service;\n  }\n  const config = injector.get(AppConfig).getConfiguration();\n  if (!Util.isDefined(config.permissionsServiceType) || 'OntimizePermissions' === config.permissionsServiceType) {\n    return new OntimizePermissionsService(injector);\n  } else if ('OntimizeEEPermissions' === config.permissionsServiceType) {\n    return new OntimizeEEPermissionsService(injector);\n  }\n  return _createServiceInstance(config.permissionsServiceType, injector);\n}\n\n/* ----------------------------------------------------------------------------------------------------\n * -------------------------------------------- PROVIDERS ---------------------------------------------\n * ----------------------------------------------------------------------------------------------------\n * Using the same provider multiple times accross the project produces namespaces conflicts when\n * building with ng-packagr, so we reused the providers defined here.\n * ---------------------------------------------------------------------------------------------------- */\n\nexport let OntimizeServiceProvider = { provide: OntimizeService, useFactory: dataServiceFactory, deps: [Injector] };\n\nexport let OntimizeExportServiceProvider = { provide: OntimizeExportService, useFactory: exportServiceFactory, deps: [Injector] };\n\n/* ----------------------------------------------------------------------------------------------------\n * ----------------------------------------- Utility methods ------------------------------------------\n * ---------------------------------------------------------------------------------------------------- */\n\n/**\n * Returns the value for the provided injection token\n * @param token the injection token\n * @param injector the injector\n */\nexport function _getInjectionTokenValue<T>(token: InjectionToken<T>, injector: Injector): T {\n  let service: T;\n  try {\n    service = injector.get(token);\n  } catch (e) {\n    // No value provided for the injection token\n  }\n  return service;\n}\n\n/**\n * Returns an instance of the provided service class\n * @param clazz the class reference\n * @param injector the injector\n */\nexport function _createServiceInstance(clazz: any, injector: Injector) {\n  if (!Util.isDefined(clazz)) {\n    return;\n  }\n  const newInstance = Object.create(clazz.prototype);\n  clazz.apply(newInstance, [injector]);\n  return newInstance;\n}\n","import { HttpClient } from '@angular/common/http';\nimport { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, Subscriber } from 'rxjs';\n\nimport { AppConfig } from '../../config/app-config';\nimport * as CORE_TRANSLATIONS from '../../i18n/i18n';\nimport { MomentService } from '../../services/moment.service';\nimport { SnackBarService } from '../../services/snackbar.service';\nimport { Codes, Util } from '../../util';\nimport { ObservableWrapper } from '../../util/async';\nimport { _createServiceInstance, _getInjectionTokenValue, O_TRANSLATE_SERVICE } from '../factories';\n\n/**\n * `OTranslateService` factory.\n * Creates a new instance of the translate service.\n */\nexport function translateServiceFactory(injector: Injector): any {\n  const serviceClass = _getInjectionTokenValue(O_TRANSLATE_SERVICE, injector);\n  const service = _createServiceInstance(serviceClass, injector);\n  return Util.isDefined(service) ? service : new OTranslateService(injector);\n}\n\n@Injectable({ providedIn: 'root', useFactory: translateServiceFactory, deps: [Injector] })\nexport class OTranslateService {\n\n  public static ASSETS_PATH = './assets/i18n/';\n  public static ASSETS_EXTENSION = '.json';\n  public DEFAULT_LANG = 'en';\n  public onLanguageChanged: EventEmitter<any> = new EventEmitter();\n\n  protected ngxTranslateService: TranslateService;\n  protected momentService: MomentService;\n  protected httpClient: HttpClient;\n\n  protected localStorageKey: string;\n  protected notFoundLang: Array<string> = [];\n  protected appConfig: AppConfig;\n\n  protected existingLangFiles: Array<string> = [];\n\n  constructor(protected injector: Injector) {\n    this.ngxTranslateService = this.injector.get(TranslateService);\n    this.momentService = this.injector.get(MomentService);\n    this.httpClient = this.injector.get(HttpClient);\n    this.appConfig = this.injector.get(AppConfig);\n    this.localStorageKey = this.appConfig.getConfiguration().uuid;\n  }\n\n  public storeLanguage(language: string): void {\n    if (language) {\n      const dataStr = localStorage.getItem(this.localStorageKey);\n      const data = (dataStr && dataStr.length > 0) ? JSON.parse(dataStr) : {};\n      data[Codes.LANGUAGE_KEY] = language;\n      localStorage.setItem(this.localStorageKey, JSON.stringify(data));\n    }\n  }\n\n  public getStoredLanguage(): string {\n    const dataStr = localStorage.getItem(this.localStorageKey);\n    return dataStr ? JSON.parse(dataStr)[Codes.LANGUAGE_KEY] : void 0;\n  }\n\n  protected checkExistingLangFile(lang: string): Promise<any> {\n    const self = this;\n    return new Promise((resolve) => {\n      if (self.existingLangFiles.indexOf(lang) !== -1) {\n        resolve(true);\n        return;\n      }\n      const localeAssetsPath = (this.ngxTranslateService.currentLoader as any).prefix;\n      const localeAssetsExtension = (this.ngxTranslateService.currentLoader as any).suffix;\n      self.httpClient.get(localeAssetsPath + lang + localeAssetsExtension).subscribe(() => {\n        if (self.existingLangFiles.indexOf(lang) === -1) {\n          self.existingLangFiles.push(lang);\n        }\n        // I18N File loaded successfully\n        resolve(true);\n      }, () => {\n        // I18N File failed to load\n        if (self.notFoundLang.indexOf(lang) === -1) {\n          self.notFoundLang.push(lang);\n        }\n        resolve(false);\n      });\n    });\n  }\n\n  public setDefaultLang(lang: string): void {\n    this.ngxTranslateService.defaultLang = lang;\n    this.checkExistingLangFile(lang).then((exists) => {\n      if (!exists) {\n        console.error('Default language(' + lang + ') has no bundle file defined');\n      }\n    });\n  }\n\n  public get(text: string, values: any[] = []): string {\n    let textTranslated;\n    try {\n      const bundle = this.ngxTranslateService.get(text, values);\n      if (bundle && bundle['value']) {\n        textTranslated = bundle['value'];\n      }\n      textTranslated = textTranslated === text ? undefined : textTranslated;\n    } catch (e) {\n      textTranslated = undefined;\n    }\n    if (!textTranslated) {\n      const bundle = CORE_TRANSLATIONS.MAP[this.ngxTranslateService.currentLang] || CORE_TRANSLATIONS.MAP[this.DEFAULT_LANG];\n      if (bundle && bundle[text]) {\n        textTranslated = bundle[text];\n      } else {\n        textTranslated = text;\n      }\n    }\n    return textTranslated;\n  }\n\n  public setAppLang(lang: string): Observable<any> {\n    const observable = new Observable(observer => {\n      this.use(lang, observer);\n    });\n    return observable;\n  }\n\n  public use(lang: string, observer?: Subscriber<any>): void {\n    if (lang === undefined) {\n      const newLang = lang || this.DEFAULT_LANG;\n      // setting lang for initializING moment and other components\n      this.propagateLang(newLang, {}, observer);\n    } else {\n      this.checkExistingLangFile(lang).then((exists) => {\n        let newLang = lang;\n        if (!exists) {\n          newLang = Util.isDefined(this.appConfig['_config']['defaultLocale']) ? this.appConfig['_config']['defaultLocale'] : this.ngxTranslateService.getDefaultLang();\n          const msg = CORE_TRANSLATIONS.MAP[newLang || this.DEFAULT_LANG]['MESSAGES.ERROR_MISSING_LANG'];\n          this.injector.get(SnackBarService).open(msg, {\n            milliseconds: 2500\n          });\n        }\n        this.ngxTranslateService.use(newLang).subscribe(\n          res => {\n            this.storeLanguage(newLang);\n            this.propagateLang(newLang, res, observer);\n          }\n        );\n      });\n    }\n  }\n\n  protected propagateLang(lang: string, langRes?: any, observer?: Subscriber<any>) {\n    const coreBundle = CORE_TRANSLATIONS.MAP[lang || this.DEFAULT_LANG];\n    if (coreBundle !== undefined) {\n      const mixed = Object.assign({}, coreBundle, langRes);\n      this.ngxTranslateService.translations[lang] = mixed;\n    }\n    this.momentService.load(lang);\n    ObservableWrapper.callEmit(this.onLanguageChanged, lang);\n    if (observer) {\n      observer.next(langRes);\n    }\n  }\n\n  public getCurrentLang() {\n    return this.ngxTranslateService.currentLang;\n  }\n\n  public getBrowserLang() {\n    // copying this.ngxTranslateService.getBrowserLang() but with a fix for default selected language (browserLang)\n    if (typeof window === 'undefined' || typeof window.navigator === 'undefined') {\n      return undefined;\n    }\n    const navigator: any = window.navigator;\n    let browserLang = navigator.languages ? navigator.languages[0] : null;\n    browserLang = navigator.language || browserLang || navigator.browserLanguage || navigator.userLanguage;\n    if (browserLang.indexOf('-') !== -1) {\n      browserLang = browserLang.split('-')[0];\n    }\n    if (browserLang.indexOf('_') !== -1) {\n      browserLang = browserLang.split('_')[0];\n    }\n    return browserLang;\n  }\n\n}\n","import { Injector } from '@angular/core';\n\nimport { BooleanConverter } from '../decorators/input-converter';\nimport { IComponent } from '../interfaces/component.interface';\nimport { OTranslateService } from '../services/translate/o-translate.service';\nimport { OPermissions } from '../types/o-permissions.type';\nimport { PermissionsUtils } from '../util/permissions';\nimport { Util } from '../util/util';\n\nexport class OBaseComponent implements IComponent {\n\n  /* Inputs */\n  protected oattr: string;\n  protected _olabel: string;\n  protected oplaceholder: string;\n  protected _enabled: boolean = true;\n  protected _readOnly: boolean;\n  protected _orequired: boolean = false;\n\n  /* Internal variables */\n  protected injector: Injector;\n  protected translateService: OTranslateService;\n\n  protected _isReadOnly: boolean;\n  protected _tooltip: string;\n  protected _tooltipPosition: string = 'below';\n  protected _tooltipShowDelay: number = 500;\n  protected _tooltipHideDelay: number = 0;\n  protected permissions: OPermissions;\n\n  constructor(injector: Injector) {\n    this.injector = injector;\n    if (this.injector) {\n      this.translateService = this.injector.get<OTranslateService>(OTranslateService);\n    }\n  }\n\n  public initialize(): void {\n    if (!Util.isDefined(this._olabel)) {\n      this._olabel = this.oattr;\n    }\n    if (Util.isDefined(this.oplaceholder) && this.oplaceholder.length > 0) {\n      this.oplaceholder = this.translateService.get(this.oplaceholder);\n    }\n  }\n\n  public getAttribute(): string {\n    if (this.oattr) {\n      return this.oattr;\n    }\n    return undefined;\n  }\n\n  public setEnabled(value: boolean): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    const parsedValue = BooleanConverter(value);\n    this._enabled = parsedValue;\n  }\n\n  get placeHolder(): string {\n    return this.oplaceholder;\n  }\n\n  set placeHolder(value: string) {\n    this.oplaceholder = value;\n  }\n\n  get tooltipClass(): string {\n    return this.getTooltipClass();\n  }\n\n  protected getTooltipClass(): string {\n    return `o-tooltip ${this.tooltipPosition}`;\n  }\n\n  protected getTooltipText(): string {\n    if (Util.isDefined(this._tooltip) && this.translateService) {\n      return this.translateService.get(this._tooltip);\n    }\n    return this._tooltip;\n  }\n\n  get tooltip(): string {\n    return this.getTooltipText();\n  }\n\n  set tooltip(value: string) {\n    this._tooltip = value;\n  }\n\n  get tooltipPosition(): string {\n    return this._tooltipPosition;\n  }\n\n  set tooltipPosition(value: string) {\n    this._tooltipPosition = value;\n  }\n\n  get tooltipShowDelay(): number {\n    return this._tooltipShowDelay;\n  }\n\n  set tooltipShowDelay(value: number) {\n    this._tooltipShowDelay = value;\n  }\n\n  get tooltipHideDelay(): number {\n    return this._tooltipHideDelay;\n  }\n\n  set tooltipHideDelay(value: number) {\n    this._tooltipHideDelay = value;\n  }\n\n  get isReadOnly(): boolean {\n    return this._isReadOnly;\n  }\n\n  set isReadOnly(value: boolean) {\n    this.setIsReadOnly(value);\n  }\n\n  protected setIsReadOnly(value: boolean): void {\n    // only modifiyng read only state if the component has not its own read-only input\n    if (Util.isDefined(this.readOnly)) {\n      return;\n    }\n    if (!this.enabled) {\n      this._isReadOnly = false;\n      return;\n    }\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    this._isReadOnly = value;\n  }\n\n  get readOnly(): any {\n    return this._readOnly;\n  }\n\n  set readOnly(value: any) {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    const parsedValue = BooleanConverter(value);\n    this._readOnly = parsedValue;\n    this._isReadOnly = parsedValue;\n  }\n\n  set orequired(val: boolean) {\n    this._orequired = BooleanConverter(val);\n  }\n\n  get orequired(): boolean {\n    return this._orequired;\n  }\n\n  get isRequired(): boolean {\n    return this.orequired;\n  }\n\n  set required(value: boolean) {\n    this.orequired = value;\n  }\n\n  get enabled(): any {\n    return this._enabled;\n  }\n\n  set enabled(value: any) {\n    const parsedValue = BooleanConverter(value);\n    this.setEnabled(parsedValue);\n  }\n\n  get olabel(): string {\n    return this._olabel;\n  }\n\n  set olabel(value: string) {\n    this._olabel = value;\n  }\n\n}\n","export class OValueChangeEvent {\n  public static USER_CHANGE = 0;\n  public static PROGRAMMATIC_CHANGE = 1;\n\n  constructor(\n    public type: number,\n    public newValue: any,\n    public oldValue: any,\n    public target: any) { }\n\n  public isUserChange(): boolean {\n    return this.type === OValueChangeEvent.USER_CHANGE;\n  }\n\n  public isProgrammaticChange(): boolean {\n    return this.type === OValueChangeEvent.PROGRAMMATIC_CHANGE;\n  }\n}\n","import {\n  AfterViewInit,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Injector,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  SimpleChange,\n  ViewChildren,\n} from '@angular/core';\nimport { FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { FloatLabelType, MatFormFieldAppearance, MatSuffix } from '@angular/material';\nimport { Subscription } from 'rxjs';\n\nimport { O_INPUTS_OPTIONS } from '../config/app-config';\nimport { BooleanConverter, InputConverter } from '../decorators/input-converter';\nimport { IFormDataComponent } from '../interfaces/form-data-component.interface';\nimport { IFormDataTypeComponent } from '../interfaces/form-data-type-component.interface';\nimport { PermissionsService } from '../services/permissions/permissions.service';\nimport { OValidatorComponent } from '../shared/components/validation/o-validator.component';\nimport { O_MAT_ERROR_OPTIONS, OMatErrorComponent } from '../shared/material/o-mat-error/o-mat-error';\nimport { ErrorData } from '../types/error-data.type';\nimport { FormValueOptions } from '../types/form-value-options.type';\nimport { OInputsOptions } from '../types/o-inputs-options.type';\nimport { OMatErrorOptions } from '../types/o-mat-error.type';\nimport { OPermissions } from '../types/o-permissions.type';\nimport { Codes } from '../util/codes';\nimport { PermissionsUtils } from '../util/permissions';\nimport { SQLTypes } from '../util/sqltypes';\nimport { Util } from '../util/util';\nimport { OFormComponent } from './form/o-form.component';\nimport { OFormValue } from './form/OFormValue';\nimport { OFormControl } from './input/o-form-control.class';\nimport { OBaseComponent } from './o-component.class';\nimport { OValueChangeEvent } from './o-value-change-event.class';\n\nexport const DEFAULT_INPUTS_O_FORM_DATA_COMPONENT = [\n  'oattr: attr',\n  'olabel: label',\n  'floatLabel: float-label',\n  'oplaceholder: placeholder',\n  'tooltip',\n  'tooltipPosition: tooltip-position',\n  'tooltipShowDelay: tooltip-show-delay',\n  'tooltipHideDelay: tooltip-hide-delay',\n  'data',\n  'autoBinding: automatic-binding',\n  'autoRegistering: automatic-registering',\n  'enabled',\n  'orequired: required',\n  // sqltype[string]: Data type according to Java standard. See SQLType ngClass. Default: 'OTHER'\n  'sqlType: sql-type',\n  'width',\n  'readOnly: read-only',\n  'clearButton: clear-button',\n  'angularValidatorsFn: validators',\n  'appearance',\n  'hideRequiredMarker:hide-required-marker',\n  'labelVisible:label-visible'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT = [\n  'onChange',\n  'onValueChange',\n  'onFocus',\n  'onBlur'\n];\n\nexport class OFormDataComponent extends OBaseComponent implements IFormDataComponent, IFormDataTypeComponent,\n  OnInit, AfterViewInit, OnDestroy, OnChanges {\n\n  /* Inputs */\n  public sqlType: string;\n  @InputConverter()\n  public autoBinding: boolean = true;\n  @InputConverter()\n  public autoRegistering: boolean = true;\n  public width: string;\n  @InputConverter()\n  public clearButton: boolean = false;\n  public angularValidatorsFn: ValidatorFn[] = [];\n  @InputConverter()\n  public hideRequiredMarker: boolean = false;\n  @InputConverter()\n  public labelVisible: boolean = true;\n\n  /* Outputs */\n  public onChange: EventEmitter<object> = new EventEmitter<object>();\n  public onValueChange: EventEmitter<OValueChangeEvent> = new EventEmitter<OValueChangeEvent>();\n  public onFocus: EventEmitter<object> = new EventEmitter<object>();\n  public onBlur: EventEmitter<object> = new EventEmitter<object>();\n\n  @HostBinding('style.width')\n  get hostWidth(): string {\n    return this.width;\n  }\n\n  /* Internal variables */\n  protected value: OFormValue;\n  protected defaultValue: any = void 0;\n  protected _SQLType: number = SQLTypes.OTHER;\n  protected _defaultSQLTypeKey: string = 'OTHER';\n  protected _fControl: OFormControl;\n  protected _fControlSubscription: Subscription;\n  protected _fGroup: FormGroup;\n  protected elRef: ElementRef;\n  protected form: OFormComponent;\n  protected oldValue: any;\n\n  protected _floatLabel: FloatLabelType;\n  protected _appearance: MatFormFieldAppearance;\n\n  protected matSuffixSubscription: Subscription;\n  @ViewChildren(MatSuffix)\n  protected _matSuffixList: QueryList<MatSuffix>;\n\n  protected errorsData: ErrorData[] = [];\n  protected validatorsSubscription: Subscription;\n  @ContentChildren(OValidatorComponent)\n  protected validatorChildren: QueryList<OValidatorComponent>;\n\n  protected permissionsService: PermissionsService;\n  protected mutationObserver: MutationObserver;\n\n  protected errorOptions: OMatErrorOptions;\n  @ViewChildren(OMatErrorComponent)\n  protected oMatErrorChildren: QueryList<OMatErrorComponent>;\n\n  protected oInputsOptions: OInputsOptions;\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(injector);\n    this.form = form;\n    this.elRef = elRef;\n    this.permissionsService = this.injector.get<PermissionsService>(PermissionsService);\n    try {\n      this.errorOptions = this.injector.get(O_MAT_ERROR_OPTIONS) || {};\n    } catch (e) {\n      this.errorOptions = {};\n    }\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngAfterViewInit(): void {\n    const self = this;\n    if (this._matSuffixList) {\n      this.setSuffixClass(this._matSuffixList.length);\n      this.matSuffixSubscription = this._matSuffixList.changes.subscribe(() => {\n        self.setSuffixClass(self._matSuffixList.length);\n      });\n    }\n\n    if (this.validatorChildren) {\n      this.validatorsSubscription = this.validatorChildren.changes.subscribe(() => {\n        self.updateValidators();\n      });\n      if (this.validatorChildren.length > 0) {\n        this.updateValidators();\n      }\n    }\n    if (!this.enabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.getMutationObserverTarget(), {\n        callback: this.disableFormControl.bind(this)\n      });\n    }\n    this.addOntimizeCustomAppearanceClass();\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    if (Util.isDefined(changes.angularValidatorsFn)) {\n      this.updateValidators();\n    }\n  }\n\n  public hasEnabledPermission(): boolean {\n    return this.permissions ? this.permissions.enabled : true;\n  }\n\n  public hasVisiblePermission(): boolean {\n    return this.permissions ? this.permissions.visible : true;\n  }\n\n  public getFormGroup(): FormGroup {\n    if (this._fGroup) {\n      return this._fGroup;\n    }\n    let formGroup = this.form ? this.form.formGroup : undefined;\n    if ((!this.hasEnabledPermission() || !this.hasVisiblePermission()) && !this._fGroup) {\n      const group = {};\n      group[this.oattr] = this._fControl;\n      this._fGroup = new FormGroup(group);\n      formGroup = this._fGroup;\n    }\n    return formGroup;\n  }\n\n  public getFormControl(): FormControl {\n    return this._fControl;\n  }\n\n  public hasError(error: string): boolean {\n    return !this.isReadOnly && this._fControl && this._fControl.touched && this._fControl.hasError(error);\n  }\n\n  public getErrorValue(error: string, prop: string): string {\n    return this._fControl && this._fControl.hasError(error) ? this._fControl.getError(error)[prop] || '' : '';\n  }\n\n  public getActiveOErrors(): ErrorData[] {\n    return this.errorsData.filter((item: ErrorData) => this.hasError(item.name));\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    // ensuring formControl creation\n    this.getControl();\n\n    this.parsePermissions();\n\n    if (!Util.isDefined(this.permissions)) {\n      if (this.form) {\n        this.registerFormListeners();\n        this.isReadOnly = !(this.form.isInUpdateMode() || this.form.isInInsertMode() || this.form.isEditableDetail());\n      } else {\n        this.isReadOnly = !this.enabled;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.unregisterFormListeners();\n    if (this.matSuffixSubscription) {\n      this.matSuffixSubscription.unsubscribe();\n    }\n    if (this.validatorsSubscription) {\n      this.validatorsSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n    if (this._fControlSubscription) {\n      this._fControlSubscription.unsubscribe();\n    }\n  }\n\n  public registerFormListeners(): void {\n    if (this.form) {\n      this.form.registerFormComponent(this);\n      this.form.registerFormControlComponent(this);\n      this.form.registerSQLTypeFormComponent(this);\n    }\n  }\n\n  public unregisterFormListeners(): void {\n    if (this.form) {\n      this.form.unregisterFormComponent(this);\n      this.form.unregisterFormControlComponent(this);\n      this.form.unregisterSQLTypeFormComponent(this);\n    }\n  }\n\n  set data(value: any) {\n    this.setData(value);\n  }\n\n  public setData(newValue: any): void {\n    // emit OValueChangeEvent.PROGRAMMATIC_CHANGE when assign value to data\n    // this method skips the following permissions checking because the form is\n    // setting its query result using it\n    const previousValue = this.oldValue;\n    this.setFormValue(newValue);\n    this.emitOnValueChange(OValueChangeEvent.PROGRAMMATIC_CHANGE, newValue, previousValue);\n  }\n\n  public isAutomaticBinding(): boolean {\n    return this.autoBinding;\n  }\n\n  public isAutomaticRegistering(): boolean {\n    return this.autoRegistering;\n  }\n\n  public getValue(): any {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return this.value.value;\n      }\n    }\n    return this.defaultValue;\n  }\n\n  public setValue(val: any, options: FormValueOptions = {}, setDirty: boolean = false): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    if (this.oldValue !== val) {\n      const newValue = val;\n      const previousValue = this.oldValue;\n      this.setFormValue(val, options, setDirty);\n      if (options && options.emitModelToViewValueChange !== false) {\n        const changeType: number = (options.hasOwnProperty('changeType')) ? options.changeType : OValueChangeEvent.PROGRAMMATIC_CHANGE;\n        this.emitOnValueChange(changeType, newValue, previousValue);\n      }\n    }\n  }\n\n  /**\n   * Clears the component value.\n   */\n  public clearValue(options?: FormValueOptions, setDirty: boolean = false): void {\n    if (!PermissionsUtils.checkEnabledPermission(this.permissions)) {\n      return;\n    }\n    this.setValue(void 0, options, setDirty);\n  }\n\n  public onClickClearValue(event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n    this.clearValue({ changeType: OValueChangeEvent.USER_CHANGE }, true);\n  }\n\n  /* This method is called in output change event, not emit event onValueChange when oldvalue is same than newvalue*/\n  public onChangeEvent(arg: any): void {\n    const value = this.getValue();\n    if (this.oldValue !== value) {\n      const previousValue = this.oldValue;\n      this.oldValue = value;\n      this.emitOnValueChange(OValueChangeEvent.USER_CHANGE, value, previousValue);\n    }\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.getValue();\n  }\n\n  public onFormControlChange(value: any): void {\n    // equivalente al innerOnChange\n    if (!this.value) {\n      this.value = new OFormValue();\n    }\n    this.ensureOFormValue(value);\n    this.onChange.emit(value);\n  }\n\n  public ensureOFormValue(arg: any): void {\n    if (arg instanceof OFormValue) {\n      this.value = arg;\n    } else if (Util.isDefined(arg) && !(arg instanceof OFormValue)) {\n      const val: OFormValue = this.value || new OFormValue();\n      val.value = arg;\n      this.value = val;\n    } else {\n      this.value = new OFormValue(this.defaultValue);\n    }\n  }\n\n  /**\n   * This method should overwritten in the child component when it have addicional form control or other oFormDataComponent\n   */\n  public createFormControl(cfg?, validators?): OFormControl {\n    return new OFormControl(cfg, {\n      validators: validators\n    }, null);\n  }\n\n  public getControl(): FormControl {\n    if (!this._fControl) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: this.value ? this.value.value : undefined,\n        disabled: !this.enabled\n      };\n      this._fControl = this.createFormControl(cfg, validators);\n      this.registerOnFormControlChange();\n    }\n    return this._fControl;\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = [];\n    this.angularValidatorsFn.forEach((fn: ValidatorFn) => {\n      validators.push(fn);\n    });\n    if (this.orequired) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  public getSQLType(): number {\n    const sqlt = this.sqlType && this.sqlType.length > 0 ? this.sqlType : this._defaultSQLTypeKey;\n    this._SQLType = SQLTypes.getSQLTypeValue(sqlt);\n    return this._SQLType;\n  }\n\n  get isValid(): boolean {\n    if (this._fControl) {\n      return this._fControl.valid;\n    }\n    return false;\n  }\n\n  public isEmpty(): boolean {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  public setEnabled(value: boolean): void {\n    super.setEnabled(value);\n    if (this.hasVisiblePermission()) {\n      if (this._fControl && value) {\n        this._fControl.enable();\n      } else if (this._fControl) {\n        this._fControl.disable();\n      }\n    }\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n\n  get hasCustomWidth(): boolean {\n    return this.width !== undefined;\n  }\n\n  get orequired(): boolean {\n    return this._orequired;\n  }\n\n  set orequired(val: boolean) {\n    const old = this._orequired;\n    this._orequired = BooleanConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  public innerOnFocus(event: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.onFocus.emit(event);\n    }\n  }\n\n  public innerOnBlur(event: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.onBlur.emit(event);\n    }\n  }\n\n  get appearance(): MatFormFieldAppearance {\n    return this._appearance;\n  }\n\n  set appearance(value: MatFormFieldAppearance) {\n    const values = ['legacy', 'standard', 'fill', 'outline'];\n    if (values.indexOf(value) === -1) {\n      value = undefined;\n    }\n    this._appearance = value;\n  }\n\n  get floatLabel(): FloatLabelType {\n    if (!this.labelVisible) {\n      this.floatLabel = 'never';\n    }\n    return this._floatLabel;\n  }\n\n  set floatLabel(value: FloatLabelType) {\n    const values = ['always', 'never', 'auto'];\n    if (values.indexOf(value) === -1) {\n      value = 'auto';\n    }\n    this._floatLabel = value;\n  }\n\n  protected registerOnFormControlChange(): void {\n    const self = this;\n    if (this._fControl) {\n      this._fControlSubscription = this._fControl.valueChanges.subscribe(value => {\n        self.onFormControlChange(value);\n      });\n    }\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue): void {\n    const event = new OValueChangeEvent(type, newValue, oldValue, this);\n    this.onValueChange.emit(event);\n  }\n\n  protected setFormValue(val: any, options?: FormValueOptions, setDirty: boolean = false): void {\n    this.ensureOFormValue(val);\n    if (this._fControl) {\n      this._fControl.setValue(this.value.value, options);\n      if (setDirty) {\n        this._fControl.markAsDirty();\n      }\n      if (this._fControl.invalid && !this.form.isInInsertMode()) {\n        this._fControl.markAsTouched();\n      }\n    }\n    this.oldValue = this.value.value;\n  }\n\n  protected updateValidators(): void {\n    if (!this._fControl) {\n      return;\n    }\n    const self = this;\n    this._fControl.clearValidators();\n    this.errorsData = [];\n    const validators = this.resolveValidators();\n    if (this.validatorChildren) {\n      this.validatorChildren.forEach((oValidator: OValidatorComponent) => {\n        const validatorFunction: ValidatorFn = oValidator.getValidatorFn();\n        if (validatorFunction) {\n          validators.push(validatorFunction);\n        }\n        const errorsData: ErrorData[] = oValidator.getErrorsData();\n        self.errorsData.push(...errorsData);\n      });\n    }\n    this._fControl.setValidators(validators);\n  }\n\n  protected addOntimizeCustomAppearanceClass(): void {\n    try {\n      if (this.elRef) {\n        const matFormFieldEl = this.elRef.nativeElement.getElementsByTagName('mat-form-field');\n        if (matFormFieldEl && matFormFieldEl.length === 1) {\n          matFormFieldEl.item(0).classList.add('mat-form-field-appearance-ontimize');\n        }\n      }\n    } catch (e) {\n      //\n    }\n  }\n\n  protected getTooltipClass(): string {\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (!liteError) {\n      return super.getTooltipClass();\n    }\n    const errorClass = Util.isDefined(this._fControl.errors) ? 'o-mat-error' : '';\n    return `${super.getTooltipClass()} ${errorClass}`;\n  }\n\n  protected getTooltipText(): string {\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && Util.isDefined(this._fControl.errors) && this.oMatErrorChildren && this.oMatErrorChildren.length > 0) {\n      let result: string = '';\n      this.oMatErrorChildren.forEach((oMatError: OMatErrorComponent) => {\n        result += `${oMatError.text}\\n`;\n      });\n      return result;\n    }\n    return super.getTooltipText();\n  }\n\n  protected parsePermissions(): void {\n    // if oattr in form, it can have permissions\n    if (!this.form || !Util.isDefined(this.form.oattr)) {\n      return;\n    }\n    const permissions: OPermissions = this.form.getFormComponentPermissions(this.oattr);\n    if (!Util.isDefined(permissions)) {\n      return;\n    }\n    if (permissions.visible === false) {\n      /* hide input per permissions */\n      this.elRef.nativeElement.remove();\n      this.destroy();\n    } else if (permissions.enabled === false) {\n      /* disable input per permissions */\n      this.enabled = false;\n      if (this.form) {\n        this.form.registerFormComponent(this);\n      }\n    }\n    this.permissions = permissions;\n  }\n\n  protected getMutationObserverTarget(): any {\n    let result;\n    try {\n      result = this.elementRef.nativeElement.getElementsByTagName('input').item(0);\n    } catch (error) {\n      //\n    }\n    return result;\n  }\n\n  protected setSuffixClass(count: number): void {\n    const iconFieldEl = this.elRef.nativeElement.getElementsByClassName('icon-field');\n    if (iconFieldEl.length === 1) {\n      const classList = [].slice.call(iconFieldEl[0].classList);\n      classList.forEach(className => {\n        if (className.startsWith('icon-field-')) {\n          iconFieldEl[0].classList.remove(className);\n        }\n      });\n      if (count > 0) {\n        const matSuffixClass = `icon-field-${count}-suffix`;\n        iconFieldEl[0].classList.add(matSuffixClass);\n      }\n    }\n  }\n\n  /**\n   * Do not allow the disabled attribute to change by code or by inspector\n   */\n  private disableFormControl(): void {\n    const control = this.getFormControl();\n    control.disable({\n      onlySelf: true,\n      emitEvent: false\n    });\n  }\n\n}\n","import { ElementRef, EventEmitter, Injector, NgZone } from '@angular/core';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { DialogService } from '../../services/dialog.service';\nimport { OntimizeService } from '../../services/ontimize/ontimize.service';\nimport { FormValueOptions } from '../../types/form-value-options.type';\nimport { Codes } from '../../util/codes';\nimport { ServiceUtils } from '../../util/service.utils';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  // static-data [Array<any>] : way to populate with static data. Default: no value.\n  'staticData: static-data',\n  'entity',\n  'service',\n  'columns',\n  'valueColumn: value-column',\n  'valueColumnType: value-column-type',\n  'parentKeys: parent-keys',\n  // Visible columns into selection dialog from parameter 'columns'. With empty parameter all columns are visible.\n  'visibleColumns: visible-columns',\n  // Visible columns in text field. By default, it is the parameter value of visible columns.\n  'descriptionColumns: description-columns',\n\n  'separator',\n\n  'queryOnInit: query-on-init',\n  'queryOnBind: query-on-bind',\n  'queryOnEvent: query-on-event',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  'serviceType: service-type',\n\n  // query-with-null-parent-keys [string][yes|no|true|false]: Indicates whether or not to trigger query method when parent-keys filter is null. Default: false\n  'queryWithNullParentKeys: query-with-null-parent-keys',\n\n  // set-value-on-value-change [string]: Form component attributes whose value will be set when the value of the current component changes due to user interaction. Separated by ';'. Accepted format: attr | columnName:attr\n  'setValueOnValueChange: set-value-on-value-change',\n\n  // [function]: function to execute on query error. Default: no value.\n  'queryFallbackFunction: query-fallback-function'\n  // ,\n\n  // 'insertFallbackFunction: insert-fallback-function',\n\n  // 'updateFallbackFunction: update-fallback-function',\n\n  // 'deleteFallbackFunction: delete-fallback-function'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  'onSetValueOnValueChange',\n  'onDataLoaded'\n];\n\nexport class OFormServiceComponent extends OFormDataComponent {\n\n  /* Inputs */\n  protected staticData: Array<any>;\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected valueColumn: string;\n  protected valueColumnType: string = Codes.TYPE_INT;\n  protected parentKeys: string;\n  protected visibleColumns: string;\n  protected descriptionColumns: string;\n  protected separator: string = Codes.SPACE_SEPARATOR;\n  @InputConverter()\n  protected queryOnInit: boolean = true;\n  @InputConverter()\n  protected queryOnBind: boolean = false;\n  protected queryOnEvent: any;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n  @InputConverter()\n  queryWithNullParentKeys: boolean = false;\n  public setValueOnValueChange: string;\n  public queryFallbackFunction: (error: any) => void;\n  // public insertFallbackFunction: Function;\n  // public updateFallbackFunction: Function;\n  // public deleteFallbackFunction: Function;\n\n  /* Outputs */\n  public onSetValueOnValueChange: EventEmitter<object> = new EventEmitter<object>();\n  public onDataLoaded: EventEmitter<object> = new EventEmitter<object>();\n\n  /* Internal variables */\n  protected dataArray: any[] = [];\n  protected colArray: string[] = [];\n  protected visibleColArray: string[] = [];\n  protected descriptionColArray: string[] = [];\n  protected dataService: OntimizeService;\n  public loaderSubscription: Subscription;\n  loading: boolean = false;\n\n  protected querySuscription: Subscription;\n  protected cacheQueried: boolean = false;\n  protected _pKeysEquiv = {};\n  protected _setValueOnValueChangeEquiv = {};\n  protected _formDataSubcribe;\n  protected _currentIndex;\n  protected dialogService: DialogService;\n\n  protected queryOnEventSubscription: Subscription;\n  public delayLoad = 250;\n  public loadingSubject = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.form = form;\n    this.elRef = elRef;\n    this.dialogService = injector.get(DialogService);\n  }\n\n  initialize() {\n    super.initialize();\n\n    this.cacheQueried = false;\n    this.colArray = Util.parseArray(this.columns, true);\n\n    this.visibleColArray = Util.parseArray(this.visibleColumns, true);\n    if (Util.isArrayEmpty(this.visibleColArray)) {\n      // It is necessary to assing value to visibleColumns to propagate the parameter.\n      this.visibleColumns = this.columns;\n      this.visibleColArray = this.colArray;\n    }\n\n    this.descriptionColArray = Util.parseArray(this.descriptionColumns);\n    if (Util.isArrayEmpty(this.descriptionColArray)) {\n      this.descriptionColArray = this.visibleColArray;\n    }\n\n    const pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n\n    const setValueSetArray = Util.parseArray(this.setValueOnValueChange);\n    this._setValueOnValueChangeEquiv = Util.parseParentKeysEquivalences(setValueSetArray);\n\n    if (this.form && this.queryOnBind) {\n      const self = this;\n      this._formDataSubcribe = this.form.onDataLoaded.subscribe(() => self.queryData());\n    }\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n    }\n\n    if (this.queryOnEvent !== undefined && this.queryOnEvent.subscribe !== undefined) {\n      const self = this;\n      this.queryOnEventSubscription = this.queryOnEvent.subscribe((value) => {\n        if (Util.isDefined(value) || this.queryWithNullParentKeys) {\n          self.queryData();\n        }\n      });\n    }\n\n    if (typeof this.queryFallbackFunction !== 'function') {\n      this.queryFallbackFunction = undefined;\n    }\n    // if (typeof this.insertFallbackFunction !== 'function') {\n    //   this.insertFallbackFunction = undefined;\n    // }\n    // if (typeof this.updateFallbackFunction !== 'function') {\n    //   this.updateFallbackFunction = undefined;\n    // }\n    // if (typeof this.deleteFallbackFunction !== 'function') {\n    //   this.deleteFallbackFunction = undefined;\n    // }\n  }\n\n  destroy() {\n    super.destroy();\n    if (this._formDataSubcribe) {\n      this._formDataSubcribe.unsubscribe();\n    }\n    if (this.queryOnEventSubscription) {\n      this.queryOnEventSubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue) {\n    super.emitOnValueChange(type, newValue, oldValue);\n    // Set value for 'set-value-on-value-change' components\n    const record = this.getSelectedRecord();\n    this.onSetValueOnValueChange.emit(record);\n    const setValueSetKeys = Object.keys(this._setValueOnValueChangeEquiv);\n    if (setValueSetKeys.length) {\n      const formComponents = this.form.getComponents();\n      if (Util.isDefined(record)) {\n        setValueSetKeys.forEach(key => {\n          const comp = formComponents[this._setValueOnValueChangeEquiv[key]];\n          if (Util.isDefined(comp)) {\n            comp.setValue(record[key]);\n          }\n        });\n      }\n    }\n  }\n\n  /* Utility methods */\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get<any>(loadingService);\n\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  getAttributesValuesToQuery(columns?: Array<any>) {\n    const result = Util.isDefined(columns) ? columns : this.colArray;\n    if (result.indexOf(this.valueColumn) === -1) {\n      result.push(this.valueColumn);\n    }\n    return result;\n  }\n\n  queryData(filter?: any) {\n    if (!this.dataService || !(this.queryMethod in this.dataService) || !this.entity) {\n      console.warn('Service not properly configured! aborting query');\n      return;\n    }\n    filter = Object.assign(filter || {}, ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form));\n    if (!ServiceUtils.filterContainsAllParentKeys(filter, this._pKeysEquiv) && !this.queryWithNullParentKeys) {\n      this.setDataArray([]);\n    } else {\n      if (this.querySuscription) {\n        this.querySuscription.unsubscribe();\n      }\n      if (this.loaderSubscription) {\n        this.loaderSubscription.unsubscribe();\n      }\n\n      const queryCols = this.getAttributesValuesToQuery();\n\n      this.loaderSubscription = this.load();\n      this.querySuscription = this.dataService[this.queryMethod](filter, queryCols, this.entity)\n        .subscribe((resp: ServiceResponse) => {\n          if (resp.isSuccessful()) {\n            this.cacheQueried = true;\n            this.setDataArray(resp.data);\n          }\n          // window.setTimeout(() => { this.loading = false; self.loadingSubject.next(false); self.loaderSubscription.unsubscribe(); }, 10000);\n          this.loadingSubject.next(false);\n          this.loaderSubscription.unsubscribe();\n        }, err => {\n          console.error(err);\n          this.loadingSubject.next(false);\n          this.loaderSubscription.unsubscribe();\n          if (Util.isDefined(this.queryFallbackFunction)) {\n            this.queryFallbackFunction(err);\n          } else if (err && !Util.isObject(err)) {\n            this.dialogService.alert('ERROR', err);\n          } else {\n            this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n          }\n        });\n    }\n  }\n\n  getDataArray(): any[] {\n    return this.dataArray;\n  }\n\n  setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataArray = data;\n      this.syncDataIndex(false);\n    } else if (Util.isObject(data) && Object.keys(data).length > 0) {\n      this.dataArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or not empty Object');\n      this.dataArray = [];\n    }\n    this.onDataLoaded.emit(this.dataArray);\n  }\n\n  syncDataIndex(queryIfNotFound: boolean = true) {\n    this._currentIndex = undefined;\n    if (this.value && this.value.value && this.dataArray) {\n      const self = this;\n      this.dataArray.forEach((item, index) => {\n        if (this.value.value instanceof Array) {\n          this._currentIndex = [];\n          this.value.value.forEach((itemValue, indexValue) => {\n            if (item[self.valueColumn] === itemValue) {\n              this._currentIndex[this._currentIndex.length] = indexValue;\n            }\n          });\n        } else if (item[self.valueColumn] === this.value.value) {\n          self._currentIndex = index;\n        }\n        if (item[self.valueColumn] === this.value.value) {\n          self._currentIndex = index;\n        }\n      });\n\n      if (this._currentIndex === undefined && queryIfNotFound) {\n        if (this.queryOnBind && this.dataArray && this.dataArray.length === 0\n          && !this.cacheQueried && !this.isEmpty()) {\n          this.queryData();\n        }\n        return;\n      }\n    }\n  }\n\n  protected parseByValueColumnType(val: any) {\n    let value = val;\n\n    if (this.valueColumnType === Codes.TYPE_INT) {\n      const parsed = parseInt(value, 10);\n      if (!isNaN(parsed)) {\n        value = parsed;\n      }\n    }\n    return value;\n  }\n\n  setValue(val: any, options?: FormValueOptions) {\n    const value = this.parseByValueColumnType(val);\n    super.setValue(value, options);\n  }\n\n  setData(val: any) {\n    const value = this.parseByValueColumnType(val);\n    super.setData(value);\n  }\n\n  getSelectedRecord() {\n    let result;\n    const selectedValue = this.getValue();\n    if (Util.isDefined(selectedValue)) {\n      result = this.getDataArray().find(item => item[this.valueColumn] === selectedValue);\n    }\n    return result;\n  }\n\n  load(): any {\n    const self = this;\n    const zone = this.injector.get(NgZone);\n    const loadObservable = new Observable(observer => {\n      const timer = window.setTimeout(() => {\n        observer.next(true);\n      }, self.delayLoad);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          observer.next(false);\n          self.loading = false;\n        });\n      };\n\n    });\n    const subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loading = val as boolean;\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  onFormControlChange(value: any) {\n    if (this.oldValue === value) {\n      return;\n    }\n    super.onFormControlChange(value);\n  }\n\n}\n","import { Directive, ElementRef, Host, Input, OnDestroy, Optional, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OFormServiceComponent } from '../components/input/o-form-service-component.class';\n\nexport const DEFAULT_INPUTS_O_LOCKER = [\n  'oLockerMode',\n  /*Default:250ms*/\n  'oLockerDelay'\n];\n\n@Directive({\n  selector: '[oLocker]',\n  inputs: DEFAULT_INPUTS_O_LOCKER\n})\n\nexport class OLockerDirective implements OnDestroy {\n\n  private loadingParentDiv;\n  private componentDiv;\n\n  private _oLockerMode = 'disable';\n  private subscription: Subscription;\n\n  constructor(\n    private element: ElementRef,\n    private renderer: Renderer2,\n    @Optional() @Host() private parent: OFormServiceComponent\n  ) {\n    if (parent) {\n      this.subscription = parent.loadingSubject.subscribe(x => this.manageLockerMode(x));\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  private manageLockerMode(loading: boolean): void {\n    if (this._oLockerMode === 'load') {\n      this.manageLoadMode(loading);\n    } else {\n      this.manageDisableMode(loading);\n    }\n  }\n\n  private manageDisableMode(loading: boolean): void {\n    if (loading) {\n      this.parent.enabled = false;\n    } else {\n      this.parent.enabled = true;\n    }\n  }\n\n  private manageLoadMode(loading: boolean): void {\n    if (loading) {\n      this.addLoading();\n    } else {\n      this.removeLoading();\n    }\n  }\n\n  private addLoading(): void {\n    this.componentDiv = this.element.nativeElement.children[0]; // set opacity in componentDiv\n    this.loadingParentDiv = this.renderer.createElement('div');\n    const loaderChild1 = this.renderer.createElement('div');\n    const loaderChild2 = this.renderer.createElement('div');\n    const loaderChild3 = this.renderer.createElement('div');\n    const loaderChild4 = this.renderer.createElement('div');\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild4);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild3);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild2);\n    this.renderer.appendChild(this.loadingParentDiv, loaderChild1);\n    this.renderer.insertBefore(this.element.nativeElement, this.loadingParentDiv, this.componentDiv);\n    this.renderer.addClass(this.loadingParentDiv, 'o-loading');\n    this.renderer.addClass(this.element.nativeElement, 'relative');\n    this.renderer.setStyle(this.componentDiv, 'opacity', '0.6');\n  }\n\n  private removeLoading(): void {\n    if (this.loadingParentDiv) {\n      this.renderer.removeChild(this.element.nativeElement, this.loadingParentDiv);\n      this.renderer.removeClass(this.element.nativeElement, 'relative');\n      this.renderer.removeStyle(this.componentDiv, 'opacity');\n    }\n  }\n\n  @Input()\n  set oLockerMode(value: 'load' | 'disabled') {\n    this._oLockerMode = value;\n  }\n\n  @Input()\n  set oLockerDelay(value: number) {\n    this.parent.delayLoad = value;\n  }\n\n}\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\n\nexport type OTabMode = 'ontimize' | 'material';\n\n@Directive({\n  selector: '[oHidden]'\n})\nexport class OHiddenDirective {\n  constructor(el: ElementRef, renderer: Renderer2) {\n    renderer.setStyle(el.nativeElement, 'display', 'none');\n  }\n}\n","import { Directive, ElementRef, Input, Renderer2 } from '@angular/core';\n\nexport type OTabMode = 'ontimize' | 'material';\n\n@Directive({\n  selector: '[oTabGroup]'\n})\nexport class OTabGroupDirective {\n\n  protected static OTabModes = {\n    ontimize: 'o-tab-ontimize',\n    material: 'o-tab-material'\n  };\n\n  protected _mode: OTabMode = 'ontimize';\n  protected _defaultMode: OTabMode = 'ontimize';\n\n  @Input('oTabGroup')\n  set mode(mode: OTabMode) {\n    this._mode = mode;\n    this.applyMode();\n  }\n\n  get mode(): OTabMode {\n    return this._mode;\n  }\n\n  constructor(protected renderer: Renderer2, protected el: ElementRef) { }\n\n  protected applyMode(mode?: OTabMode): void {\n    this.renderer.removeClass(this.el.nativeElement, OTabGroupDirective.OTabModes.material);\n    this.renderer.removeClass(this.el.nativeElement, OTabGroupDirective.OTabModes.ontimize);\n    this.renderer.addClass(this.el.nativeElement, OTabGroupDirective.OTabModes[this.mode || this._defaultMode]);\n  }\n\n}\n","import { OListItemDirective } from '../components/list/list-item/o-list-item.directive';\nimport { OKeyboardListenerDirective } from '../directives/keyboard-listener.directive';\nimport { OLockerDirective } from '../directives/locker.directive';\nimport { OHiddenDirective } from '../directives/o-hidden.directive';\nimport { OTabGroupDirective } from '../directives/o-tab-group.directive';\n\nexport const ONTIMIZE_DIRECTIVES = [\n  // Ontimize directives...\n  OKeyboardListenerDirective,\n  OListItemDirective,\n  OTabGroupDirective,\n  OLockerDirective,\n  OHiddenDirective\n];\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'columnsfilter'\n})\n\nexport class ColumnsFilterPipe implements PipeTransform {\n\n  filterValue: string;\n  filterColumns: Array<string>;\n\n  transform(value: Array<any>, args: any): any {\n    if (!args || args.length <= 1) {\n      return value;\n    }\n\n    this.filterValue = args['filtervalue'] ? args['filtervalue'] : '';\n    this.filterColumns = args['filtercolumns'];\n\n    if (!this.filterColumns || !this.filterValue || this.filterValue.length === 0) {\n      return value;\n    }\n\n    if (value === undefined || value === null) {\n      return value;\n    }\n\n    const that = this;\n    return value.filter((item) => {\n      for (let i = 0; i < that.filterColumns.length; i++) {\n        const colName = that.filterColumns[i];\n        if (this._isBlank(colName)) {\n          continue;\n        }\n        let origValue = item[colName];\n        if (origValue) {\n          origValue = origValue.toString();\n          if (this._isBlank(origValue)) {\n            continue;\n          }\n\n          if (origValue.toUpperCase().indexOf(that.filterValue.toUpperCase()) > -1) {\n            return item;\n          }\n        }\n      }\n    });\n  }\n\n  _isBlank(value: string): boolean {\n    if (value === undefined || value === null\n      || value.length === 0) {\n      return true;\n    }\n    return false;\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { AppConfig } from '../config/app-config';\nimport { Config } from '../types/config.type';\nimport { Util } from '../util/util';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NumberService {\n\n  public static DEFAULT_DECIMAL_DIGITS = 2;\n\n  protected _grouping: boolean;\n  protected _minDecimalDigits: number;\n  protected _maxDecimalDigits: number;\n  protected _locale: string;\n  private _config: Config;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    // TODO: initialize from config\n    this._minDecimalDigits = NumberService.DEFAULT_DECIMAL_DIGITS;\n    this._maxDecimalDigits = NumberService.DEFAULT_DECIMAL_DIGITS;\n\n    this._grouping = true;\n    this._locale = this._config.locale;\n  }\n\n  get grouping(): boolean {\n    return this._grouping;\n  }\n\n  set grouping(value: boolean) {\n    this._grouping = value;\n  }\n\n  get minDecimalDigits(): number {\n    return this._minDecimalDigits;\n  }\n\n  set minDecimalDigits(value: number) {\n    this._minDecimalDigits = value;\n  }\n\n  get maxDecimalDigits(): number {\n    return this._maxDecimalDigits;\n  }\n\n  set maxDecimalDigits(value: number) {\n    this._maxDecimalDigits = value;\n  }\n\n  get locale(): string {\n    return this._locale;\n  }\n\n  set locale(value: string) {\n    this._locale = value;\n  }\n\n  getIntegerValue(value: any, args: any) {\n    const grouping = args ? args.grouping : undefined;\n    if (!Util.isDefined(value) && !Util.isDefined(grouping) || !grouping) {\n      return value;\n    }\n    const thousandSeparator = args ? args.thousandSeparator : undefined;\n    const locale = args ? args.locale : undefined;\n    // Ensure value is an integer\n    const intValue: any = parseInt(value, 10);\n    if (isNaN(intValue)) {\n      return void 0;\n    }\n    // Format value\n    let formattedIntValue;\n    if (Util.isDefined(locale)) {\n      formattedIntValue = new Intl.NumberFormat(locale).format(intValue);\n    } else if (!Util.isDefined(thousandSeparator)) {\n      formattedIntValue = new Intl.NumberFormat(this._locale).format(intValue);\n    } else {\n      formattedIntValue = String(intValue).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandSeparator);\n    }\n    return formattedIntValue;\n  }\n\n  getRealValue(value: any, args: any) {\n    const grouping = args ? args.grouping : undefined;\n    if (!Util.isDefined(value) && !Util.isDefined(grouping) || !grouping) {\n      return value;\n    }\n    const locale = args ? args.locale : undefined;\n    const thousandSeparator = args ? args.thousandSeparator : undefined;\n    const decimalSeparator = args ? args.decimalSeparator : undefined;\n\n    let minDecimalDigits = args ? args.minDecimalDigits : undefined;\n    let maxDecimalDigits = args ? args.maxDecimalDigits : undefined;\n\n    if (!Util.isDefined(minDecimalDigits)) {\n      minDecimalDigits = this._minDecimalDigits;\n    }\n    if (!Util.isDefined(maxDecimalDigits)) {\n      maxDecimalDigits = this._maxDecimalDigits;\n    }\n\n    let formattedRealValue = value;\n    const formatterArgs = {\n      minimumFractionDigits: minDecimalDigits,\n      maximumFractionDigits: maxDecimalDigits\n    };\n\n    if (Util.isDefined(locale)) {\n      formattedRealValue = new Intl.NumberFormat(locale, formatterArgs).format(value);\n    } else if (!Util.isDefined(thousandSeparator) || !Util.isDefined(decimalSeparator)) {\n      formattedRealValue = new Intl.NumberFormat(this._locale, formatterArgs).format(value);\n    } else {\n      const realValue = parseFloat(value);\n      if (!isNaN(realValue)) {\n        formattedRealValue = String(realValue);\n        let tmpStr = realValue.toFixed(maxDecimalDigits);\n        tmpStr = tmpStr.replace('.', decimalSeparator);\n        if (grouping) {\n          const parts = tmpStr.split(decimalSeparator);\n          if (parts.length > 0) {\n            parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandSeparator);\n            formattedRealValue = parts.join(decimalSeparator);\n          }\n        } else {\n          formattedRealValue = tmpStr;\n        }\n      }\n    }\n    return formattedRealValue;\n  }\n\n  getPercentValue(value: any, args: any) {\n    const valueBase = args ? args.valueBase : undefined;\n    let parsedValue = value;\n    switch (valueBase) {\n      case 100:\n        break;\n      case 1:\n      default:\n        parsedValue = parsedValue * 100;\n        break;\n    }\n    const formattedPercentValue = this.getRealValue(parsedValue, args) + ' %';\n    return formattedPercentValue;\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { Util } from '../util/util';\nimport { NumberService } from './number.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CurrencyService {\n\n  public static DEFAULT_CURRENCY_SYMBOL = '$';\n  public static DEFAULT_CURRENCY_SYMBOL_POSITION = 'left';\n\n  protected _numberService: NumberService;\n\n  protected _symbol: string;\n  protected _symbolPosition: string;\n\n  constructor(protected injector: Injector) {\n    this._numberService = this.injector.get(NumberService);\n    // TODO: initialize from config\n    this._symbol = CurrencyService.DEFAULT_CURRENCY_SYMBOL;\n    this._symbolPosition = CurrencyService.DEFAULT_CURRENCY_SYMBOL_POSITION;\n  }\n\n  get symbol(): string {\n    return this._symbol;\n  }\n\n  set symbol(value: string) {\n    this._symbol = value;\n  }\n\n  get symbolPosition(): string {\n    return this._symbolPosition;\n  }\n\n  set symbolPosition(value: string) {\n    this._symbolPosition = value;\n  }\n\n  getCurrencyValue(value: any, args: any) {\n    let symbol = args ? args.currencySimbol : undefined;\n    let symbolPosition = args ? args.currencySymbolPosition : undefined;\n\n    if (!Util.isDefined(symbol)) {\n      symbol = this._symbol;\n    }\n    if (!Util.isDefined(symbolPosition)) {\n      symbolPosition = this._symbolPosition;\n    }\n    let currencyValue = this._numberService.getRealValue(value, args);\n    switch (symbolPosition) {\n      case 'left':\n        currencyValue = symbol + ' ' + currencyValue;\n        break;\n      case 'right':\n        currencyValue = currencyValue + ' ' + symbol;\n        break;\n    }\n    return currencyValue;\n  }\n\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\n\nimport { CurrencyService } from '../services/currency.service';\n\nexport interface ICurrencyPipeArgument {\n  currencySimbol?: string;\n  currencySymbolPosition?: string;\n  grouping?: boolean;\n  thousandSeparator?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n}\n\n@Pipe({\n  name: 'oCurrency'\n})\nexport class OCurrencyPipe implements PipeTransform {\n\n  protected currencyService: CurrencyService;\n  constructor(protected injector: Injector) {\n    this.currencyService = this.injector.get(CurrencyService);\n  }\n\n  transform(text: string, args: ICurrencyPipeArgument): string {\n    return this.currencyService.getCurrencyValue(text, args);\n  }\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\n\nimport { NumberService } from '../services/number.service';\n\nexport interface IIntegerPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n}\n\n@Pipe({\n  name: 'oInteger'\n})\n\nexport class OIntegerPipe implements PipeTransform {\n\n  protected numberService: NumberService;\n\n  constructor(protected injector: Injector) {\n    this.numberService = this.injector.get(NumberService);\n  }\n\n  transform(text: string, args: IIntegerPipeArgument): string {\n    return this.numberService.getIntegerValue(text, args);\n  }\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\n\nimport { MomentService } from '../services/moment.service';\n\nexport interface IMomentPipeArgument {\n  format?: string;\n}\n\n@Pipe({\n  name: 'oMoment'\n})\n\nexport class OMomentPipe implements PipeTransform {\n\n  protected momentService: MomentService;\n\n  constructor(protected injector: Injector) {\n    this.momentService = this.injector.get(MomentService);\n  }\n\n  transform(value: any, args: IMomentPipeArgument) {\n    const format = args.format;\n    return this.momentService.parseDate(value, format);\n  }\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\n\nimport { OIntegerPipe } from './o-integer.pipe';\n\nexport interface IRealPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n}\n\n@Pipe({\n  name: 'oReal'\n})\nexport class ORealPipe extends OIntegerPipe implements PipeTransform {\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  transform(text: string, args: IRealPipeArgument): string {\n    return this.numberService.getRealValue(text, args);\n  }\n\n}\n","import { Injector, Pipe, PipeTransform } from '@angular/core';\n\nimport { ORealPipe } from './o-real.pipe';\n\nexport type OPercentageValueBaseType = 1 | 100;\n\nexport interface IPercentPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n  valueBase?: OPercentageValueBaseType;\n}\n\n@Pipe({\n  name: 'oPercent'\n})\nexport class OPercentPipe extends ORealPipe implements PipeTransform {\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  transform(text: string, args: IPercentPipeArgument): string {\n    args.valueBase = this.parseValueBase(args.valueBase);\n    return this.numberService.getPercentValue(text, args);\n  }\n\n  protected parseValueBase(value: OPercentageValueBaseType): OPercentageValueBaseType {\n    const parsed = parseInt(value as any, 10);\n    if (parsed === 1 || parsed === 100) {\n      return parsed;\n    }\n    return 1;\n  }\n\n}\n","import { ChangeDetectorRef, Injector, ModuleWithProviders, NgModule, OnDestroy, Pipe, PipeTransform } from '@angular/core';\n\nimport { OTranslateService } from '../services/translate/o-translate.service';\nimport { Util } from '../util/util';\n\nexport interface ITranslatePipeArgument {\n  values?: any[];\n}\n\n@Pipe({\n  name: 'oTranslate',\n  pure: false // required to update the value when the promise is resolved\n})\nexport class OTranslatePipe implements PipeTransform, OnDestroy {\n\n  public value: string = '';\n  public lastKey: string;\n  public lastParams: any;\n\n  public onLanguageChanged: any; // Change this from EventEmitter<any> to any because Error: Type 'Subscription' is missing the following properties from type 'EventEmitter<any>': emit, subscribe, observers, isStopped, and 15 more.\n\n  protected oTranslateService: OTranslateService;\n  protected _ref: ChangeDetectorRef;\n\n  constructor(protected injector: Injector) {\n    this._ref = this.injector.get(ChangeDetectorRef);\n    this.oTranslateService = this.injector.get(OTranslateService);\n  }\n\n  public ngOnDestroy(): void {\n    this._dispose();\n  }\n\n  public transform(text: string, args?: ITranslatePipeArgument): string {\n    if (!text || text.length === 0) {\n      return text;\n    }\n\n    // if we ask another time for the same key, return the last value\n    if (Util.equals(text, this.lastKey) && Util.equals(args, this.lastParams)) {\n      return this.value;\n    }\n\n    // store the query, in case it changes\n    this.lastKey = text;\n\n    // store the params, in case they change\n    this.lastParams = args;\n\n    // set the value\n    this.updateValue(text);\n\n    // if there is a subscription to onLanguageChanged, clean it\n    this._dispose();\n\n    // subscribe to onLanguageChanged event, in case the language changes\n    if (!this.onLanguageChanged) {\n      this.onLanguageChanged = this.oTranslateService.onLanguageChanged.subscribe(lang => {\n        if (this.lastKey) {\n          this.lastKey = null; // we want to make sure it doesn't return the same value until it's been updated\n          this.updateValue(text);\n        }\n      });\n    }\n    return this.value;\n  }\n\n  public updateValue(key: string): void {\n    const args = Util.isDefined(this.lastParams) ? this.lastParams.values || [] : [];\n\n    const res = this.oTranslateService.get(key, args);\n    this.value = res !== undefined ? res : key;\n    this.lastKey = key;\n    this._ref.markForCheck();\n  }\n\n  protected _dispose(): void {\n    if (typeof this.onLanguageChanged !== 'undefined') {\n      this.onLanguageChanged.unsubscribe();\n      this.onLanguageChanged = undefined;\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [OTranslatePipe],\n  imports: [],\n  exports: [OTranslatePipe]\n})\nexport class OTranslateModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: OTranslateModule,\n      providers: []\n    };\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'orderBy', pure: false })\n\nexport class OrderByPipe implements PipeTransform {\n\n  static _orderByComparator(a: any, b: any): number {\n\n    if ((isNaN(parseFloat(a)) || !isFinite(a)) || (isNaN(parseFloat(b)) || !isFinite(b))) {\n      // Isn't a number so lowercase the string to properly compare\n      if (a.toLowerCase() < b.toLowerCase()) { return -1; }\n      if (a.toLowerCase() > b.toLowerCase()) { return 1; }\n    } else {\n      // Parse strings as numbers to compare properly\n      if (parseFloat(a) < parseFloat(b)) { return -1; }\n      if (parseFloat(a) > parseFloat(b)) { return 1; }\n    }\n\n    return 0; // equal each other\n  }\n\n  transform(input: any, [config = '+']): any {\n\n    if (!Array.isArray(input)) { return input; }\n\n    if (!Array.isArray(config) || (Array.isArray(config) && config.length === 1)) {\n      const propertyToCheck: string = !Array.isArray(config) ? config : config[0];\n      const desc = propertyToCheck.substr(0, 1) === '-';\n\n      // Basic array\n      if (!propertyToCheck || propertyToCheck === '-' || propertyToCheck === '+') {\n        return !desc ? input.sort() : input.sort().reverse();\n      } else {\n        const property: string = propertyToCheck.substr(0, 1) === '+' || propertyToCheck.substr(0, 1) === '-'\n          ? propertyToCheck.substr(1)\n          : propertyToCheck;\n\n        return input.sort((a: any, b: any) => {\n          return !desc\n            ? OrderByPipe._orderByComparator(a[property], b[property])\n            : -OrderByPipe._orderByComparator(a[property], b[property]);\n        });\n      }\n    } else {\n      // Loop over property of the array in order and sort\n      return input.sort((a: any, b: any) => {\n        for (let i: number = 0; i < config.length; i++) {\n          const desc = config[i].substr(0, 1) === '-';\n          const property = config[i].substr(0, 1) === '+' || config[i].substr(0, 1) === '-'\n            ? config[i].substr(1)\n            : config[i];\n\n          let comparison = !desc\n            ? OrderByPipe._orderByComparator(a[property], b[property])\n            : -OrderByPipe._orderByComparator(a[property], b[property]);\n\n          // Don't return 0 yet in case of needing to sort by next property\n          if (comparison = 0) { return comparison; }\n        }\n\n        return 0; // equal each other\n      });\n    }\n  }\n}\n\n","import { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { NavigationStart, Router } from '@angular/router';\n\nimport { AppConfig } from '../config/app-config';\nimport { ILocalStorageComponent } from '../interfaces/local-storage-component.interface';\nimport { Config } from '../types/config.type';\nimport { SessionInfo } from '../types/session-info.type';\nimport { ObservableWrapper } from '../util/async';\nimport { Util } from '../util/util';\nimport { LoginStorageService } from './login-storage.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalStorageService {\n  static COMPONENTS_STORAGE_KEY: string = 'components';\n  static USERS_STORAGE_KEY: string = 'users';\n  static SESSION_STORAGE_KEY: string = 'session';\n\n  public onRouteChange: EventEmitter<any> = new EventEmitter();\n  public onSetLocalStorage: EventEmitter<any> = new EventEmitter();\n\n  private _config: Config;\n  private _router: Router;\n  private loginStorageService: LoginStorageService;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this._router = this.injector.get(Router);\n    this.loginStorageService = this.injector.get(LoginStorageService);\n\n    const self = this;\n    this._router.events.subscribe(event => {\n      if (event instanceof NavigationStart) {\n        ObservableWrapper.callEmit(self.onRouteChange, {});\n      }\n    });\n  }\n\n  getComponentStorage(comp: ILocalStorageComponent, routeKey?: string): object {\n    const componentKey = comp.getComponentKey();\n    let completeKey = componentKey;\n    if (routeKey) {\n      completeKey += '_' + routeKey;\n    }\n    return this.getAppComponentData(completeKey) || {};\n  }\n\n  updateComponentStorage(comp: ILocalStorageComponent, routeKey?: string) {\n    const dataToStore = comp.getDataToStore();\n    const componentKey = comp.getComponentKey();\n    if (!Util.isDefined(componentKey)) {\n      return;\n    }\n    let completeKey = componentKey;\n    if (routeKey) {\n      completeKey += '_' + routeKey;\n    }\n    const storedObject = {};\n    for (const prop in dataToStore) {\n      if (dataToStore.hasOwnProperty(prop)) {\n        storedObject[prop] = dataToStore[prop];\n      }\n    }\n    this.updateAppComponentStorage(completeKey, storedObject);\n  }\n\n  private getAppComponentData(key: string): object {\n    let componentData;\n    const storedComponents: object = this.getSessionUserComponentsData() || {};\n    if (storedComponents[key]) {\n      const decoded = atob(storedComponents[key]);\n      try {\n        componentData = JSON.parse(decoded);\n      } catch (e) {\n        componentData = undefined;\n      }\n    }\n    return componentData;\n  }\n\n  updateAppComponentStorage(componentKey: string, componentData: object) {\n    let componentDataB64;\n    try {\n      componentDataB64 = btoa(JSON.stringify(componentData));\n    } catch (e) {\n      componentDataB64 = undefined;\n    }\n    this.storeComponentInSessionUser(componentKey, componentDataB64);\n  }\n\n  public getSessionUserComponentsData(): object {\n    let storedComponentsByUser = {};\n    const appData = this.getStoredData();\n    const session: SessionInfo = appData[LocalStorageService.SESSION_STORAGE_KEY] || {};\n    const users = appData[LocalStorageService.USERS_STORAGE_KEY] || {};\n    storedComponentsByUser = (users[session.user] || {})[LocalStorageService.COMPONENTS_STORAGE_KEY] || {};\n    return storedComponentsByUser;\n  }\n\n  public storeSessionUserComponentsData(componentsData: object) {\n    const appData = this.getStoredData();\n    const session: SessionInfo = appData[LocalStorageService.SESSION_STORAGE_KEY] || {};\n    if (!Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY])) {\n      appData[LocalStorageService.USERS_STORAGE_KEY] = {};\n    }\n    const userData = appData[LocalStorageService.USERS_STORAGE_KEY][session.user] || {};\n    userData[LocalStorageService.COMPONENTS_STORAGE_KEY] = componentsData;\n    appData[LocalStorageService.USERS_STORAGE_KEY][session.user] = userData;\n    this.setLocalStorage(appData);\n  }\n\n  private storeComponentInSessionUser(componentKey, componentDataB64) {\n    const appData = this.getStoredData();\n    const session = appData[LocalStorageService.SESSION_STORAGE_KEY] || {}; // uuid -> session\n    if (!Util.isDefined(session) || !Util.isDefined(session.user)) {\n      return;\n    }\n    const users = appData[LocalStorageService.USERS_STORAGE_KEY] || {}; // uuid -> users\n    const idUser = session.user || this.loginStorageService.getSessionInfo().user;\n    const user = users[idUser] || {}; // uuid -> users-> user\n\n    let componentData = {};\n    if (users[idUser]) {\n      componentData = users[idUser][LocalStorageService.COMPONENTS_STORAGE_KEY];\n    }\n    componentData[componentKey] = componentDataB64 || {};\n\n    user[LocalStorageService.COMPONENTS_STORAGE_KEY] = componentData;\n    users[idUser] = user;\n    appData[LocalStorageService.USERS_STORAGE_KEY] = users;\n\n    this.setLocalStorage(appData);\n  }\n\n  public getStoredData(): object {\n    let appData = {};\n    const appStoredData = localStorage.getItem(this._config.uuid);\n    if (appStoredData) {\n      try {\n        appData = JSON.parse(appStoredData);\n      } catch (e) {\n        appData = {};\n      }\n    }\n    return appData;\n  }\n\n  public setBackwardCompatibility() {\n    const appData = this.getStoredData();\n    const session = appData[LocalStorageService.SESSION_STORAGE_KEY];\n    if (!Util.isDefined(session) || !Util.isDefined(session.user)) {\n      return;\n    }\n    const componentsInfo = appData[LocalStorageService.COMPONENTS_STORAGE_KEY] || {};\n    let usersObject = {};\n    const existsUsersTag = Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY]);\n    let createUserInfo = existsUsersTag;\n    if (existsUsersTag) {\n      usersObject = appData[LocalStorageService.USERS_STORAGE_KEY];\n      createUserInfo = !Util.isDefined(appData[LocalStorageService.USERS_STORAGE_KEY][session.user]);\n    }\n    if (createUserInfo) {\n      usersObject[session.user] = {};\n      usersObject[session.user][LocalStorageService.COMPONENTS_STORAGE_KEY] = componentsInfo;\n\n      appData[LocalStorageService.USERS_STORAGE_KEY] = usersObject;\n      localStorage.setItem(this._config.uuid, JSON.stringify(appData));\n    }\n  }\n\n  protected setLocalStorage(appData: any) {\n    this.onSetLocalStorage.emit();\n    localStorage.setItem(this._config.uuid, JSON.stringify(appData));\n  }\n}\n\n","import { Injectable, Injector } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { OBreadcrumb } from '../types/o-breadcrumb-item.type';\n\n@Injectable({ providedIn: 'root' })\nexport class OBreadcrumbService {\n\n  public breadcrumbs$: BehaviorSubject<OBreadcrumb[]> = new BehaviorSubject([]);\n\n  constructor(protected injector: Injector) { }\n\n}\n","import { Location } from '@angular/common';\nimport { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, NavigationEnd, Router, UrlSegment } from '@angular/router';\nimport { ReplaySubject } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { ILocalStorageComponent } from '../interfaces/local-storage-component.interface';\nimport { OBreadcrumb } from '../types/o-breadcrumb-item.type';\nimport { ObservableWrapper } from '../util/async';\nimport { Codes } from '../util/codes';\nimport { Util } from '../util/util';\nimport { LocalStorageService } from './local-storage.service';\nimport { OBreadcrumbService } from './o-breadcrumb.service';\n\nexport type ONavigationRoutes = {\n  mainFormLayoutManagerComponent?: boolean;\n  isMainNavigationComponent?: boolean;\n  detailFormRoute: string;\n  editFormRoute: string;\n  insertFormRoute: string;\n};\n\nexport class ONavigationItem {\n  url: string;\n  queryParams: object;\n  activeFormMode: string;\n  formRoutes: ONavigationRoutes;\n  formLayoutRoutes: ONavigationRoutes;\n  keysValues: any;\n  queryConfiguration: any;\n\n  constructor(value: any) {\n    this.url = value.url ? value.url : '';\n    this.queryParams = value[Codes.QUERY_PARAMS] ? value[Codes.QUERY_PARAMS] : {};\n    this.formRoutes = value.formRoutes;\n    this.formLayoutRoutes = value.formLayoutRoutes;\n    this.activeFormMode = value.activeFormMode;\n    this.keysValues = value.keysValues;\n    this.queryConfiguration = value.queryConfiguration;\n  }\n\n  getActiveModePath(): string {\n    let result;\n    if (Util.isDefined(this.activeFormMode)) {\n      result = (this.formRoutes || {})[this.activeFormMode];\n    }\n    return result;\n  }\n\n  isInsertFormRoute(): boolean {\n    return this.activeFormMode === 'insertFormRoute';\n  }\n\n  getInsertFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.insertFormRoute || Codes.DEFAULT_INSERT_ROUTE) : Codes.DEFAULT_INSERT_ROUTE;\n  }\n\n  getEditFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.editFormRoute || Codes.DEFAULT_EDIT_ROUTE) : Codes.DEFAULT_EDIT_ROUTE;\n  }\n\n  getDetailFormRoute(): string {\n    const routes = this.formRoutes;\n    return routes ? (routes.detailFormRoute || Codes.DEFAULT_DETAIL_ROUTE) : Codes.DEFAULT_DETAIL_ROUTE;\n  }\n\n  isMainFormLayoutManagerComponent(): boolean {\n    return Util.isDefined(this.formLayoutRoutes);\n  }\n\n  isMainNavigationComponent(): boolean {\n    return Util.isDefined(this.formRoutes) && this.formRoutes.isMainNavigationComponent;\n  }\n\n  getFormRoutes(): ONavigationRoutes {\n    return this.formRoutes;\n  }\n\n  setFormRoutes(arg: ONavigationRoutes) {\n    if (arg && arg.mainFormLayoutManagerComponent) {\n      this.formLayoutRoutes = arg;\n    } else {\n      this.formRoutes = arg;\n    }\n  }\n\n  deleteActiveFormMode() {\n    this.activeFormMode = undefined;\n  }\n}\n\nconst MAXIMIUM_NAVIGATION_HEAP_SIZE = 15;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavigationService implements ILocalStorageComponent {\n\n  public static NAVIGATION_STORAGE_KEY: string = 'nav_service';\n\n  public currentTitle: string = null;\n  public visible: boolean = true;\n\n  protected navigationItems: Array<ONavigationItem> = [];\n  protected allNavigationItems: ONavigationItem[] = [];\n\n  protected router: Router;\n\n  protected oBreadcrumbService: OBreadcrumbService;\n  protected localStorageService: LocalStorageService;\n  protected location: Location;\n\n  public navigationEvents$: ReplaySubject<Array<ONavigationItem>> = new ReplaySubject<Array<ONavigationItem>>(1);\n\n  private _titleEmitter: EventEmitter<any> = new EventEmitter();\n  private _visibleEmitter: EventEmitter<boolean> = new EventEmitter<boolean>();\n  private _sidenavEmitter: EventEmitter<any> = new EventEmitter();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.oBreadcrumbService = this.injector.get(OBreadcrumbService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.location = this.injector.get(Location);\n    this.location.subscribe(val => {\n      const previousRoute = this.getPreviousRouteData();\n      const qParams = Object.keys(previousRoute.queryParams);\n      const arr = [];\n      qParams.forEach((p) => {\n        arr.push(`${p}=${previousRoute.queryParams[p]}`);\n      });\n      let fullUrl = `/${previousRoute.url}`;\n      if (arr.length > 0) {\n        fullUrl = `/${previousRoute.url}?${arr.join('&')}`;\n      }\n      if (fullUrl === val.url) {\n        this.navigationItems.pop();\n      }\n    });\n  }\n\n  initialize(): void {\n    this.router.events.pipe(\n      filter(event => event instanceof NavigationEnd),\n      map(() => this.router.routerState.root),\n      map(route => {\n        while (route.firstChild) {\n          route = route.firstChild;\n        }\n        return route;\n      }),\n      filter(route => route.outlet === 'primary')\n    ).subscribe(this.parseNavigationItems.bind(this));\n  }\n\n  protected buildBreadcrumbsForRoute(activatedRoute: ActivatedRouteSnapshot) {\n    const breadcrumbs: OBreadcrumb[] = [];\n    let url = '';\n    let route = activatedRoute.firstChild;\n    while (route.firstChild) {\n      if (route.url.length) {\n        const pRoute = this.parseRoute(url, route);\n        breadcrumbs.push(pRoute);\n        url = pRoute.route;\n      }\n      route = route.firstChild;\n    }\n    const parsedRoute = this.parseRoute(url, route);\n    breadcrumbs.push(parsedRoute);\n\n    this.oBreadcrumbService.breadcrumbs$.next(breadcrumbs);\n  }\n\n  protected parseRoute(route: string, activatedRoute: ActivatedRouteSnapshot): OBreadcrumb {\n    let label = '';\n    for (let i = 0, len = activatedRoute.url.length; i < len; i++) {\n      const segment: UrlSegment = activatedRoute.url[i];\n      if (label.length === 0) {\n        label = label.length > 0 ? ('/' + segment.path) : segment.path;\n        route += '/' + segment.path;\n      }\n    }\n    return { route, label, queryParams: activatedRoute.queryParams };\n  }\n\n  protected parseNavigationItems() {\n    const storedNavigation: ONavigationItem[] = this.getStoredData();\n    const route: ActivatedRouteSnapshot = this.router.routerState.root.snapshot;\n    const url = this.router.routerState.snapshot.url.split('?')[0];\n    this.buildBreadcrumbsForRoute(route);\n    const lastStored: any = storedNavigation[storedNavigation.length - 1];\n    if (!lastStored || lastStored.url !== url) {\n      const navigationItem = new ONavigationItem({ url, queryParams: route.queryParams });\n\n      this.navigationItems.push(navigationItem);\n      this.setNavigationItems(this.navigationItems);\n    }\n  }\n\n  public setNavigationItems(navigationItems: ONavigationItem[]) {\n    this.navigationItems = navigationItems;\n    this.storeNavigation();\n    this.navigationEvents$.next(navigationItems);\n  }\n\n  public getDataToStore(): object {\n    return this.navigationItems;\n  }\n\n  public getComponentKey(): string {\n    return NavigationService.NAVIGATION_STORAGE_KEY;\n  }\n\n  protected storeNavigation(): void {\n    if (this.localStorageService) {\n      this.localStorageService.updateComponentStorage(this);\n    }\n  }\n\n  public setTitle(title: string): void {\n    this.currentTitle = title;\n    this._emitTitleChanged(this.currentTitle);\n  }\n\n  public setVisible(visible: boolean): void {\n    this.visible = visible;\n    this._emitVisibleChanged(this.visible);\n  }\n\n  public openSidenav() {\n    this._emitOpenSidenav();\n  }\n\n  public closeSidenav() {\n    this._emitCloseSidenav();\n  }\n\n  /**\n   * Subscribe to title updates\n   */\n  public onTitleChange(onNext: (value: any) => void): object {\n    return ObservableWrapper.subscribe(this._titleEmitter, onNext);\n  }\n\n  public onVisibleChange(onNext: (value: boolean) => void): object {\n    return ObservableWrapper.subscribe(this._visibleEmitter, onNext);\n  }\n\n  public onSidenavChange(onNext: (value: any) => void): object {\n    return ObservableWrapper.subscribe(this._sidenavEmitter, onNext);\n  }\n\n  private _emitTitleChanged(title): void {\n    ObservableWrapper.callEmit(this._titleEmitter, title);\n  }\n\n  private _emitVisibleChanged(visible): void {\n    ObservableWrapper.callEmit(this._visibleEmitter, visible);\n  }\n\n  private _emitOpenSidenav() {\n    ObservableWrapper.callEmit(this._sidenavEmitter, 'open');\n  }\n\n  private _emitCloseSidenav() {\n    ObservableWrapper.callEmit(this._sidenavEmitter, 'close');\n  }\n\n  storeFormRoutes(routes: ONavigationRoutes, activeMode: string, queryConf?: any) {\n    if (this.navigationItems.length > 0) {\n      this.navigationItems[this.navigationItems.length - 1].setFormRoutes(routes);\n      this.navigationItems[this.navigationItems.length - 1].activeFormMode = activeMode;\n      if (queryConf) {\n        this.navigationItems[this.navigationItems.length - 1].keysValues = queryConf.keysValues;\n        delete queryConf.keysValues;\n        this.navigationItems[this.navigationItems.length - 1].queryConfiguration = Object.keys(queryConf).length > 0 ? queryConf : null;\n      }\n      this.storeNavigation();\n    }\n  }\n\n  protected getStoredData(): any[] {\n    const storageData: any = this.localStorageService.getComponentStorage(this);\n    const result = [];\n    Object.keys(storageData).forEach(key => result.push(new ONavigationItem(storageData[key])));\n    return result;\n  }\n\n  getPreviousRouteData(): ONavigationItem {\n    let result: ONavigationItem;\n    const len = this.navigationItems.length;\n    if (len >= 2) {\n      result = this.navigationItems[len - 2];\n      if (result && result.formRoutes && result.formRoutes.mainFormLayoutManagerComponent && this.navigationItems[len - 3]) {\n        const parent = this.navigationItems[len - 3];\n        if (parent.isMainFormLayoutManagerComponent()) {\n          result = parent;\n        }\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Return the main navigation route data that matches the most with the current route\n   */\n  getLastMainNavigationRouteData(): ONavigationItem {\n    const routeMatches = [];\n    const items = this.navigationItems.slice().reverse()\n      .map((item, i) => {\n        let currentLocation = this.location.path().substr(1);\n        if (currentLocation.includes('?')) {\n          currentLocation = currentLocation.substring(0, currentLocation.indexOf('?'));\n        }\n\n        // Compare current route with item route and count segment matches\n        const arr1 = item.url.substr(1).split('/');\n        const arr2 = currentLocation.split('/');\n        let result = 0;\n        let index = -1;\n        while (++index <= arr1.length && index <= arr2.length) {\n          routeMatches[i] = (arr1[index] === arr2[index]) ? result++ : result;\n        }\n\n        return item;\n      });\n\n    let maxMatches = routeMatches.reduce((a, b) => Math.max(a, b));\n    const lastNavItem = this.navigationItems[this.navigationItems.length - 1];\n    if (!lastNavItem.isMainNavigationComponent() && !lastNavItem.isMainFormLayoutManagerComponent()) {\n      maxMatches--;\n    }\n    let itemResult = void 0;\n    while (!itemResult && maxMatches >= 0) {\n      itemResult = items.find((item, i) => (item.isMainNavigationComponent() || item.isMainFormLayoutManagerComponent()) && routeMatches[i] === maxMatches);\n      maxMatches--;\n    }\n    return itemResult;\n  }\n\n  removeLastItem() {\n    this.navigationItems.pop();\n    this.storeNavigation();\n  }\n\n  removeLastItemsUntilMain() {\n    const lastMain = this.getLastMainNavigationRouteData();\n    if (!Util.isDefined(lastMain)) {\n      return false;\n    }\n    const index = this.navigationItems.indexOf(lastMain);\n    this.navigationItems = this.navigationItems.slice(0, index + 1);\n    this.storeNavigation();\n    return true;\n  }\n\n  isCurrentRoute(route: string): boolean {\n    let currentRoute = this.router.routerState.snapshot.url;\n    currentRoute = currentRoute.split('?')[0];\n    return route === currentRoute;\n  }\n\n  getLastItem(): ONavigationItem {\n    let result;\n    if (this.navigationItems.length > 0) {\n      result = this.navigationItems[this.navigationItems.length - 1];\n    }\n    return result;\n  }\n\n  deleteActiveFormMode(arg: ONavigationItem) {\n    arg.deleteActiveFormMode();\n    this.storeNavigation();\n  }\n\n}\n","import { Component, Injector, ViewEncapsulation } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\n\nimport { NavigationService, ONavigationItem } from '../../../services/navigation.service';\nimport { Codes } from '../../../util/codes';\n\n@Component({\n  selector: 'o-error-403',\n  templateUrl: './o-error-403.component.html',\n  styleUrls: ['./o-error-403.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-error-403]': 'true'\n  }\n})\nexport class Error403Component {\n\n  protected router: Router;\n  protected navigationService: NavigationService;\n  protected lastPageData: ONavigationItem;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.navigationService = this.injector.get(NavigationService);\n    this.lastPageData = this.navigationService.getLastItem();\n  }\n\n  onNavigateBackClick() {\n    const extras: NavigationExtras = {};\n    let route: string = '';\n    if (this.lastPageData) {\n      extras[Codes.QUERY_PARAMS] = this.lastPageData.queryParams;\n      route = this.lastPageData.url;\n    }\n    this.router.navigate([route], extras);\n  }\n}\n\n","import { Component, forwardRef, Inject, Injector, OnInit, Optional } from '@angular/core';\n\nimport { OValidatorComponent } from './o-validator.component';\n\nexport const DEFAULT_INPUTS_O_ERROR = [\n  'name',\n  'text'\n];\n\n@Component({\n  selector: 'o-error',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_ERROR\n})\nexport class OErrorComponent implements OnInit {\n\n  name: string;\n  text: string;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OValidatorComponent)) protected oValidator: OValidatorComponent,\n    protected injector: Injector\n  ) {\n  }\n\n  ngOnInit() {\n    this.registerValidatorError();\n  }\n\n  registerValidatorError() {\n    if (this.oValidator) {\n      this.oValidator.registerError(this);\n    }\n  }\n\n  getName(): string {\n    return this.name;\n  }\n\n  getText(): string {\n    return this.text;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { MatIconRegistry } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Observable, Observer } from 'rxjs';\n\n@Injectable()\nexport class OntimizeMatIconRegistry {\n\n  public static ONTIMIZE_ICON_SET_PATH = 'assets/svg/ontimize-icon-set.svg';\n  public static ONTIMIZE_NAMESPACE = 'ontimize';\n\n  constructor(\n    protected domSanitizer: DomSanitizer,\n    protected matIconRegistry: MatIconRegistry\n  ) {\n\n  }\n\n  initialize() {\n    this.matIconRegistry.addSvgIconSetInNamespace(OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(OntimizeMatIconRegistry.ONTIMIZE_ICON_SET_PATH));\n  }\n\n  addOntimizeSvgIcon(iconName: string, url: string): MatIconRegistry {\n    this.matIconRegistry.addSvgIconInNamespace(OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE, iconName,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(url));\n    return this.matIconRegistry;\n  }\n\n  getSVGElement(iconName: string): Observable<SVGElement> {\n    return this.matIconRegistry.getNamedSvgIcon(iconName, OntimizeMatIconRegistry.ONTIMIZE_NAMESPACE);\n  }\n\n  existsIcon(iconName: string): Observable<boolean> {\n    const self = this;\n    return new Observable<boolean>((observer: Observer<boolean>) => {\n      self.getSVGElement(iconName).subscribe((value: SVGElement) => {\n        observer.next(true);\n      }, error => {\n        observer.next(false);\n      }, () => observer.complete());\n    });\n  }\n}\n","import { MatDateFormats } from '@angular/material';\n\nexport class OntimizeMatDateFormats {\n\n  protected DEFAULT_DATE_FORMATS: MatDateFormats = {\n    parse: { dateInput: 'L' },\n    display: { dateInput: 'L', monthYearLabel: 'Y', dateA11yLabel: 'LL', monthYearA11yLabel: 'MMMM Y' }\n  };\n\n  public factory(): any {\n    return this.DEFAULT_DATE_FORMATS;\n  }\n}\n\nexport function dateFormatFactory() {\n  return new OntimizeMatDateFormats().factory();\n}\n","import { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport {\n  MAT_DATE_FORMATS,\n  MatAutocompleteModule,\n  MatButtonModule,\n  MatButtonToggleModule,\n  MatCardModule,\n  MatCheckboxModule,\n  MatChipsModule,\n  MatDatepickerModule,\n  MatDialogModule,\n  MatExpansionModule,\n  MatFormFieldModule,\n  MatGridListModule,\n  MatIconModule,\n  MatInputModule,\n  MatListModule,\n  MatMenuModule,\n  MatPaginatorModule,\n  MatProgressBarModule,\n  MatProgressSpinnerModule,\n  MatRadioModule,\n  MatRippleModule,\n  MatSelectModule,\n  MatSidenavModule,\n  MatSliderModule,\n  MatSlideToggleModule,\n  MatSnackBarModule,\n  MatSortModule,\n  MatTableModule,\n  MatTabsModule,\n  MatToolbarModule,\n  MatTooltipModule,\n} from '@angular/material';\nimport { MatMomentDateModule } from '@angular/material-moment-adapter';\n\nimport { OntimizeMatIconRegistry } from '../../services/ontimize-icon-registry.service';\nimport { dateFormatFactory } from './date/mat-date-formats.factory';\n\nconst MATERIAL_MODULES = [\n  MatAutocompleteModule,\n  MatButtonModule,\n  MatButtonToggleModule,\n  MatCardModule,\n  MatChipsModule,\n  MatCheckboxModule,\n  MatDatepickerModule,\n  MatDialogModule,\n  MatExpansionModule,\n  MatGridListModule,\n  MatIconModule,\n  MatInputModule,\n  MatFormFieldModule,\n  MatListModule,\n  MatMenuModule,\n  MatProgressBarModule,\n  MatProgressSpinnerModule,\n  MatRadioModule,\n  MatRippleModule,\n  MatSelectModule,\n  MatSidenavModule,\n  MatSliderModule,\n  MatSlideToggleModule,\n  MatSnackBarModule,\n  MatTabsModule,\n  MatToolbarModule,\n  MatTooltipModule,\n  MatMomentDateModule,\n  MatTableModule,\n  MatPaginatorModule,\n  MatSortModule,\n  OverlayModule\n  // OverlayModule,\n  // PortalModule,\n  // RtlModule,\n  // StyleModule,\n  // A11yModule,\n  // PlatformModule,\n  // MatCommonModule,\n  // ObserveContentModule\n];\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: MATERIAL_MODULES,\n  providers: [\n  //   {\n  //   provide: DateAdapter,\n  //   useClass: OntimizeMomentDateAdapter,\n  //   deps: [MAT_DATE_LOCALE]\n  // },\n   {\n    provide: MAT_DATE_FORMATS,\n    useFactory: dateFormatFactory\n  }, {\n    provide: OntimizeMatIconRegistry,\n    useClass: OntimizeMatIconRegistry\n  }]\n})\nexport class OCustomMaterialModule { }\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatFormFieldModule, MatTooltipModule } from '@angular/material';\n\nimport { OMatErrorComponent } from './o-mat-error';\n\n@NgModule({\n  declarations: [OMatErrorComponent],\n  imports: [MatTooltipModule, MatFormFieldModule, CommonModule],\n  exports: [OMatErrorComponent]\n})\nexport class OMatErrorModule {\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { ONTIMIZE_DIRECTIVES } from '../config/o-directives';\nimport { ColumnsFilterPipe } from '../pipes/columns-filter.pipe';\nimport { OCurrencyPipe } from '../pipes/o-currency.pipe';\nimport { OIntegerPipe } from '../pipes/o-integer.pipe';\nimport { OMomentPipe } from '../pipes/o-moment.pipe';\nimport { OPercentPipe } from '../pipes/o-percentage.pipe';\nimport { ORealPipe } from '../pipes/o-real.pipe';\nimport { OTranslateModule } from '../pipes/o-translate.pipe';\nimport { OrderByPipe } from '../pipes/order-by.pipe';\nimport { ODialogComponent } from './components/dialog/o-dialog.component';\nimport { Error403Component } from './components/error403/o-error-403.component';\nimport { OSnackBarComponent } from './components/snackbar/o-snackbar.component';\nimport { OErrorComponent } from './components/validation/o-error.component';\nimport { OValidatorComponent } from './components/validation/o-validator.component';\nimport { OCustomMaterialModule } from './material/custom.material.module';\nimport { OMatErrorModule } from './material/o-mat-error/o-mat-error.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    OTranslateModule,\n    FlexLayoutModule,\n    OCustomMaterialModule,\n    OMatErrorModule\n  ],\n  declarations: [\n    ColumnsFilterPipe,\n    OrderByPipe,\n    OIntegerPipe,\n    ORealPipe,\n    OMomentPipe,\n    OCurrencyPipe,\n    OPercentPipe,\n    ONTIMIZE_DIRECTIVES,\n    Error403Component,\n    ODialogComponent,\n    OErrorComponent,\n    OValidatorComponent,\n    OSnackBarComponent\n  ],\n  exports: [\n    FlexLayoutModule,\n    OMatErrorModule,\n    FormsModule,\n    ReactiveFormsModule,\n    OTranslateModule,\n    ColumnsFilterPipe,\n    OrderByPipe,\n    OIntegerPipe,\n    ORealPipe,\n    OMomentPipe,\n    OCurrencyPipe,\n    OPercentPipe,\n    ONTIMIZE_DIRECTIVES,\n    OCustomMaterialModule,\n    Error403Component,\n    OErrorComponent,\n    OValidatorComponent,\n    OSnackBarComponent\n  ],\n  entryComponents: [Error403Component]\n})\nexport class OSharedModule {\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { AppConfig } from '../config/app-config';\nimport {\n  MenuGroup,\n  MenuItem,\n  MenuItemAction,\n  MenuItemLocale,\n  MenuItemLogout,\n  MenuItemRoute,\n  MenuItemUserInfo,\n} from '../interfaces/app-menu.interface';\nimport { MenuRootItem } from '../types/menu-root-item.type';\nimport { Codes } from '../util/codes';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppMenuService {\n\n  protected _config: AppConfig;\n  protected MENU_ROOTS: MenuRootItem[];\n  protected ALL_MENU_ITEMS: MenuItem[];\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig);\n    this.MENU_ROOTS = this._config.getMenuConfiguration();\n\n    this.ALL_MENU_ITEMS = [];\n    for (let i = 0, len = this.MENU_ROOTS.length; i < len; i++) {\n      const item: MenuRootItem = this.MENU_ROOTS[i];\n      this.ALL_MENU_ITEMS = this.ALL_MENU_ITEMS.concat(this.getMenuItems(item));\n    }\n    // this.ALL_MENU_ITEMS = this.MENU_ROOTS.reduce((result, category) => result.concat(category.items), []);\n  }\n\n  getMenuRoots(): MenuRootItem[] {\n    return this.MENU_ROOTS;\n  }\n\n  getMenuRootById(id: string): MenuRootItem {\n    return this.MENU_ROOTS.find(c => c.id === id);\n  }\n\n  getAllMenuItems(): MenuItem[] {\n    return this.ALL_MENU_ITEMS;\n  }\n\n  getMenuItemById(id: string): MenuItem {\n    return this.ALL_MENU_ITEMS.find(i => i.id === id);\n  }\n\n  getMenuItemType(item: MenuRootItem): string {\n    let type: string;\n    switch (true) {\n      case ((item as MenuItemLogout).route === Codes.LOGIN_ROUTE):\n        type = 'logout';\n        break;\n      case ((item as MenuItemRoute).route !== undefined):\n        type = 'route';\n        break;\n      case ((item as MenuItemAction).action !== undefined):\n        type = 'action';\n        break;\n      case ((item as MenuItemLocale).locale !== undefined):\n        type = 'locale';\n        break;\n      case ((item as MenuItemUserInfo).user !== undefined):\n        type = 'user-info';\n        break;\n      case ((item as MenuGroup).items !== undefined):\n        type = 'group';\n        break;\n      default:\n        type = 'default';\n        break;\n    }\n    return type;\n  }\n\n  isMenuGroup(item: MenuRootItem): boolean {\n    return this.getMenuItemType(item) === 'group';\n  }\n\n  private getMenuItems(item: MenuRootItem): MenuItem[] {\n    if ((item as MenuGroup).items !== undefined) {\n      return (item as MenuGroup).items;\n    }\n    return [item];\n  }\n\n}\n","import { Component, ElementRef, Injector, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { AppMenuService } from '../../services/app-menu.service';\nimport { PermissionsService } from '../../services/permissions/permissions.service';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport { MenuRootItem } from '../../types/menu-root-item.type';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU = [\n  // title [string]: menu title. Default: no value.\n  'menuTitle: title',\n  // tooltip [string]: menu tooltip. Default: 'title' value.\n  'tooltip',\n];\n\n@Component({\n  selector: 'o-bar-menu',\n  templateUrl: './o-bar-menu.component.html',\n  styleUrls: ['./o-bar-menu.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu]': 'true'\n  }\n})\nexport class OBarMenuComponent implements OnInit {\n\n  protected permissionsService: PermissionsService;\n  protected translateService: OTranslateService;\n  private appMenuService: AppMenuService;\n  private menuRoots: MenuRootItem[];\n\n  protected _menuTitle: string;\n  protected _tooltip: string;\n  protected _id: string;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector) {\n    this.id = 'm_' + String((new Date()).getTime() + Math.random());\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRoots = this.appMenuService.getMenuRoots();\n  }\n\n\n  public ngOnInit() {\n    if (!this.tooltip) {\n      this.tooltip = this.menuTitle;\n    }\n    if (this.translateService) {\n      this.translateService.onLanguageChanged.subscribe(() => {\n        this.setDOMTitle();\n      });\n      this.setDOMTitle();\n    }\n  }\n\n  setDOMTitle() {\n    const tooltip = this.translateService.get(this.tooltip);\n    this.elRef.nativeElement.setAttribute('title', tooltip);\n  }\n\n  collapseAll() {\n    const inputs = this.elRef.nativeElement.querySelectorAll('input');\n    if (inputs) {\n      inputs.forEach(element => {\n        element.checked = false;\n      });\n    }\n    const fakeLis = this.elRef.nativeElement.querySelectorAll('.fake-li-hover');\n    if (fakeLis) {\n      fakeLis.forEach(element => {\n        element.classList.remove('fake-li-hover');\n      });\n    }\n  }\n\n  getPermissionsService(): PermissionsService {\n    return this.permissionsService;\n  }\n\n  get menuTitle(): string {\n    return this._menuTitle;\n  }\n\n  set menuTitle(val: string) {\n    this._menuTitle = val;\n  }\n\n  get tooltip(): string {\n    return this._tooltip;\n  }\n\n  set tooltip(val: string) {\n    this._tooltip = val;\n  }\n\n  get id(): string {\n    return this._id;\n  }\n\n  set id(val: string) {\n    this._id = val;\n  }\n\n  get menuItems(): MenuRootItem[] {\n    return this.menuRoots;\n  }\n}\n","import { ElementRef, HostListener, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport { OPermissions } from '../../types/o-permissions.type';\nimport { PermissionsUtils } from '../../util/permissions';\nimport { Util } from '../../util/util';\nimport { OBarMenuComponent } from './o-bar-menu.component';\n\nexport const DEFAULT_INPUTS_O_BASE_MENU_ITEM = [\n  // title [string]: menu item title. Default: no value.\n  'title',\n\n  // tooltip [string]: menu group tooltip. Default: 'title' value.\n  'tooltip',\n\n  // icon [string]: material icon. Default: no value.\n  'icon',\n\n  'attr'\n];\n\nexport class OBaseMenuItemClass implements OnInit, OnDestroy {\n\n  protected translateService: OTranslateService;\n  protected onLanguageChangeSubscription: Subscription;\n\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  title: string;\n  tooltip: string;\n  icon: string;\n  restricted: boolean;\n  disabled: boolean;\n  protected _isHovered: boolean = false;\n  attr: string;\n\n  @HostListener('mouseover') onMouseover = () => this.isHovered = true;\n  @HostListener('mouseout') onMouseout = () => this.isHovered = false;\n\n  constructor(\n    protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector) {\n\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit() {\n    if (!this.tooltip) {\n      this.tooltip = this.title;\n    }\n    if (this.translateService) {\n      this.onLanguageChangeSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n        this.setDOMTitle();\n      });\n      this.setDOMTitle();\n    }\n    this.parsePermissions();\n  }\n\n  ngOnDestroy(): void {\n    if (this.onLanguageChangeSubscription) {\n      this.onLanguageChangeSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n  }\n\n  setDOMTitle() {\n    const tooltip = this.translateService.get(this.tooltip);\n    this.elRef.nativeElement.setAttribute('title', tooltip);\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.menu.getPermissionsService().getMenuPermissions(this.attr);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.restricted = this.permissions.visible === false;\n    this.disabled = this.permissions.enabled === false;\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  get isHovered(): boolean {\n    return this._isHovered;\n  }\n\n  set isHovered(val: boolean) {\n    if (!this.disabled) {\n      this._isHovered = val;\n    }\n  }\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, ViewEncapsulation } from '@angular/core';\n\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { DEFAULT_INPUTS_O_BASE_MENU_ITEM, OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM = [\n  ...DEFAULT_INPUTS_O_BASE_MENU_ITEM,\n  // locale [string]: language. For example: es\n  'locale'\n];\n\n@Component({\n  selector: 'o-locale-bar-menu-item',\n  templateUrl: './o-locale-bar-menu-item.component.html',\n  styleUrls: ['./o-locale-bar-menu-item.component.scss'],\n  inputs: DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-locale-bar-menu-item]': 'true'\n  }\n})\nexport class OLocaleBarMenuItemComponent extends OBaseMenuItemClass {\n\n  locale: string;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n  }\n\n  configureI18n() {\n    if (this.isConfiguredLang()) {\n      return;\n    }\n    if (this.translateService) {\n      this.translateService.use(this.locale);\n    }\n    if (this.menu) {\n      this.menu.collapseAll();\n    }\n  }\n\n  isConfiguredLang() {\n    if (this.translateService) {\n      return (this.translateService.getCurrentLang() === this.locale);\n    }\n    return false;\n  }\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, ViewEncapsulation } from '@angular/core';\n\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { DEFAULT_INPUTS_O_BASE_MENU_ITEM, OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_GROUP = [\n  ...DEFAULT_INPUTS_O_BASE_MENU_ITEM\n];\n\n@Component({\n  selector: 'o-bar-menu-group',\n  templateUrl: './o-bar-menu-group.component.html',\n  styleUrls: ['./o-bar-menu-group.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_GROUP,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-group]': 'true',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OBarMenuGroupComponent extends OBaseMenuItemClass {\n\n  id: string;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n    this.id = 'm_' + String((new Date()).getTime() + Math.random());\n  }\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { Util } from '../../../util/util';\nimport { OBarMenuComponent } from '../o-bar-menu.component';\nimport { DEFAULT_INPUTS_O_BASE_MENU_ITEM, OBaseMenuItemClass } from '../o-base-menu-item.class';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_ITEM = [\n  ...DEFAULT_INPUTS_O_BASE_MENU_ITEM,\n  // route [string]: name of the state to navigate. Default: no value.\n  'route',\n\n  // action [function]: function to execute. Default: no value.\n  'action'\n];\n\n@Component({\n  selector: 'o-bar-menu-item',\n  templateUrl: './o-bar-menu-item.component.html',\n  styleUrls: ['./o-bar-menu-item.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_ITEM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-item]': 'true',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OBarMenuItemComponent extends OBaseMenuItemClass implements OnInit {\n\n  protected router: Router;\n  route: string;\n  action: () => void;\n\n  constructor(\n    @Inject(forwardRef(() => OBarMenuComponent)) protected menu: OBarMenuComponent,\n    protected elRef: ElementRef,\n    protected injector: Injector\n  ) {\n    super(menu, elRef, injector);\n    this.router = this.injector.get(Router);\n  }\n\n  ngOnInit() {\n    // if (typeof (this.route) === 'string') {\n    //   // TODO, permisos por route?\n    // } else {\n    //   this.restricted = false;\n    // }\n    super.ngOnInit();\n  }\n\n  collapseMenu(evt: Event) {\n    if (this.menu) {\n      this.menu.collapseAll();\n    }\n  }\n\n  onClick() {\n    if (this.disabled) {\n      return;\n    }\n    if (Util.isDefined(this.route)) {\n      this.router.navigate([this.route]);\n    } else if (Util.isDefined(this.action)) {\n      this.action();\n    }\n  }\n}\n","import { Component, Injector, ViewEncapsulation } from '@angular/core';\n\nimport { AppMenuService } from '../../../services/app-menu.service';\nimport { MenuRootItem } from '../../../types/menu-root-item.type';\n\nexport const DEFAULT_INPUTS_O_BAR_MENU_NESTED = [\n  'items'\n];\n\n@Component({\n  selector: 'o-bar-menu-nested',\n  templateUrl: './o-bar-menu-nested.component.html',\n  inputs: DEFAULT_INPUTS_O_BAR_MENU_NESTED,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OBarMenuNestedComponent {\n\n  private appMenuService: AppMenuService;\n  public items: MenuRootItem[];\n\n  constructor(\n    protected injector: Injector) {\n    this.appMenuService = this.injector.get(AppMenuService);\n  }\n\n  getValueOfAttr(menu: object, attr: string) {\n    let valAttr = '';\n    if (menu.hasOwnProperty(attr)) {\n      valAttr = menu[attr];\n    }\n    return valAttr;\n  }\n\n  isMenuGroup(item: any): boolean {\n    return this.appMenuService.getMenuItemType(item) === 'group';\n  }\n}\n","import { Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'o-bar-menu-separator',\n  templateUrl: './o-bar-menu-separator.component.html',\n  styleUrls: ['./o-bar-menu-separator.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-bar-menu-separator]': 'true'\n  }\n})\nexport class OBarMenuSeparatorComponent {\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OLocaleBarMenuItemComponent } from './locale-menu-item/o-locale-bar-menu-item.component';\nimport { OBarMenuGroupComponent } from './menu-group/o-bar-menu-group.component';\nimport { OBarMenuItemComponent } from './menu-item/o-bar-menu-item.component';\nimport { OBarMenuNestedComponent } from './menu-nested/o-bar-menu-nested.component';\nimport { OBarMenuSeparatorComponent } from './menu-separator/o-bar-menu-separator.component';\nimport { OBarMenuComponent } from './o-bar-menu.component';\n\n@NgModule({\n  declarations: [\n    OBarMenuComponent,\n    OBarMenuItemComponent,\n    OBarMenuGroupComponent,\n    OLocaleBarMenuItemComponent,\n    OBarMenuSeparatorComponent,\n    OBarMenuNestedComponent\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule,\n    RouterModule\n  ],\n  exports: [OBarMenuComponent]\n})\nexport class OBarMenuModule {\n}\n","import { AfterViewInit, Component, Injector, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { NavigationService } from '../../services/navigation.service';\nimport { OBreadcrumbService } from '../../services/o-breadcrumb.service';\nimport { OBreadcrumb } from '../../types/o-breadcrumb-item.type';\nimport { Codes } from '../../util/codes';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\n\nexport const DEFAULT_INPUTS_O_BREADCRUMB = [\n  // form [OFormComponent]: Ontimize Web Form reference.\n  '_formRef: form',\n\n  // label-columns [string]: Form values shown on each element. Separated by ';'. Default: no value.\n  'labelColumns: label-columns',\n\n  // separator [string]: Form values shown on each element. Separated by ';'. Default: no value.\n  'separator'\n];\n\n@Component({\n  selector: 'o-breadcrumb',\n  templateUrl: 'o-breadcrumb.component.html',\n  styleUrls: ['o-breadcrumb.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BREADCRUMB,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-breadcrumb]': 'true'\n  }\n})\nexport class OBreadcrumbComponent implements AfterViewInit, OnDestroy, OnInit {\n\n  public labelColumns: string;\n  public separator: string = ' ';\n  public breadcrumbs: BehaviorSubject<OBreadcrumb[]> = new BehaviorSubject([]);\n\n  protected router: Router;\n  set form(value: OFormComponent) {\n    this._formRef = value;\n  }\n  protected _formRef: OFormComponent;\n  protected labelColsArray: Array<string> = [];\n  protected navigationService: NavigationService;\n  protected subscription: Subscription = new Subscription();\n  protected oBreadcrumService: OBreadcrumbService;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.oBreadcrumService = this.injector.get(OBreadcrumbService);\n  }\n\n  ngOnInit() {\n    this.labelColsArray = Util.parseArray(this.labelColumns);\n\n    this.subscription.add(\n      this.oBreadcrumService.breadcrumbs$.subscribe(bs => this.breadcrumbs.next(bs))\n    );\n  }\n\n  ngAfterViewInit() {\n    if (this._formRef && this.labelColsArray.length) {\n      const self = this;\n      this.subscription.add(this._formRef.onDataLoaded.subscribe((value: any) => {\n        if (self.breadcrumbs.value.length) {\n          const displayText = self.labelColsArray.map(element => value[element]).join(self.separator);\n          self.breadcrumbs.value[self.breadcrumbs.value.length - 1].displayText = displayText;\n        }\n      }));\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  isCurrentRoute(route: OBreadcrumb): boolean {\n    return route.route === this.router.routerState.snapshot.url.split('?')[0];\n  }\n\n  onRouteClick(route: OBreadcrumb) {\n    const extras = {};\n    if (route.queryParams) {\n      extras[Codes.QUERY_PARAMS] = route.queryParams;\n    }\n    this.router.navigate([route.route], extras);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OBreadcrumbComponent } from './o-breadcrumb.component';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule],\n  exports: [OBreadcrumbComponent],\n  declarations: [OBreadcrumbComponent]\n})\nexport class OBreadcrumbModule { }\n","import { Component, EventEmitter, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { MatButtonToggle, MatButtonToggleChange } from '@angular/material';\n\nimport { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_BUTTON_TOGGLE = [\n  'oattr: attr',\n  'label',\n  // icon [string]: Name of google icon (see https://design.google.com/icons/)\n  'icon',\n  'iconPosition: icon-position',\n  'checked',\n  'enabled',\n  'value',\n  'name'\n];\n\nexport const DEFAULT_OUTPUTS_O_BUTTON_TOGGLE = [\n  'onChange'\n];\n\n@Component({\n  selector: 'o-button-toggle',\n  templateUrl: './o-button-toggle.component.html',\n  styleUrls: ['./o-button-toggle.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BUTTON_TOGGLE,\n  outputs: DEFAULT_OUTPUTS_O_BUTTON_TOGGLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button-toggle]': 'true'\n  }\n})\nexport class OButtonToggleComponent {\n\n  public DEFAULT_INPUTS_O_BUTTON_TOGGLE = DEFAULT_INPUTS_O_BUTTON_TOGGLE;\n  public DEFAULT_OUTPUTS_O_BUTTON_TOGGLE = DEFAULT_OUTPUTS_O_BUTTON_TOGGLE;\n\n  /* Inputs */\n  public oattr: string;\n  public label: string;\n  public icon: string;\n  public iconPosition: 'before' | 'after' = 'before';\n\n  protected _checked: boolean = false;\n  protected _enabled: boolean = true;\n  public name: string;\n  /* End inputs */\n\n  /* Outputs */\n  public onChange: EventEmitter<MatButtonToggleChange> = new EventEmitter();\n  /* End outputs */\n\n  @ViewChild('bt', { static: true }) public _innerButtonToggle: MatButtonToggle;\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n\n  get checked(): boolean {\n    return this._innerButtonToggle.checked;\n  }\n\n  set checked(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._innerButtonToggle.checked = val;\n  }\n\n  get enabled(): boolean {\n    return !this._innerButtonToggle.disabled;\n  }\n\n  set enabled(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._innerButtonToggle.disabled = !val;\n  }\n\n  get value(): any {\n    return this._innerButtonToggle.value;\n  }\n\n  set value(val: any) {\n    this._innerButtonToggle.value = val;\n  }\n}\n","import { AfterViewInit, Component, ComponentFactory, ComponentFactoryResolver, ContentChildren, EventEmitter, forwardRef, OnInit, QueryList, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\nimport { MatButtonToggleChange, MatButtonToggleGroup } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OButtonToggleComponent } from '../o-button-toggle.component';\n\nexport const DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP = [\n  'oattr: attr',\n  'name',\n  'enabled',\n  'layout',\n  'multiple',\n  'value'\n];\n\nexport const DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP = [\n  'onChange'\n];\n\n@Component({\n  selector: 'o-button-toggle-group',\n  templateUrl: './o-button-toggle-group.component.html',\n  styleUrls: ['./o-button-toggle-group.component.scss'],\n  inputs: DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP,\n  outputs: DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button-toggle-group]': 'true'\n  },\n  entryComponents: [OButtonToggleComponent]\n})\nexport class OButtonToggleGroupComponent implements AfterViewInit, OnInit {\n\n  public DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP = DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP;\n  public DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP = DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP;\n\n  /* Inputs */\n  protected oattr: string;\n  public name: string;\n  get enabled(): boolean {\n    if (this._innerButtonToggleGroup instanceof MatButtonToggleGroup) {\n      return !this._innerButtonToggleGroup.disabled;\n    }\n    return true;\n  }\n  set enabled(val: boolean) {\n    if (this._innerButtonToggleGroup instanceof MatButtonToggleGroup) {\n      val = Util.parseBoolean(String(val));\n      this._innerButtonToggleGroup.disabled = !val;\n    }\n  }\n  protected _enabled: boolean = true;\n  public layout: 'row' | 'column' = 'row';\n  @InputConverter()\n  public multiple: boolean = false;\n  public value: any;\n  /* End inputs */\n\n  /* Outputs */\n  public onChange: EventEmitter<MatButtonToggleChange> = new EventEmitter();\n  /* End outputs */\n\n  @ViewChild(MatButtonToggleGroup, { static: false })\n  protected _innerButtonToggleGroup: MatButtonToggleGroup;\n  @ViewChild('childContainer', { read: ViewContainerRef, static: false })\n  protected _viewContainerRef: ViewContainerRef;\n  @ContentChildren(forwardRef(() => OButtonToggleComponent))\n  protected _children: QueryList<OButtonToggleComponent>;\n\n  constructor(protected resolver: ComponentFactoryResolver) { }\n\n  ngOnInit(): void {\n    if (!Util.isDefined(this.name)) {\n      this.name = this.oattr;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.buildChildren();\n    this._children.changes.subscribe(() => this.buildChildren());\n  }\n\n  protected buildChildren(): void {\n    const factory: ComponentFactory<OButtonToggleComponent> = this.resolver.resolveComponentFactory(OButtonToggleComponent);\n    this._viewContainerRef.clear();\n    const childList = this._children.map((child) => {\n      const componentRef = this._viewContainerRef.createComponent(factory);\n      componentRef.instance.oattr = child.oattr;\n      componentRef.instance.label = child.label;\n      componentRef.instance.icon = child.icon;\n      componentRef.instance.iconPosition = child.iconPosition;\n      componentRef.instance.checked = child.checked;\n      componentRef.instance.enabled = child.enabled;\n      componentRef.instance.value = child.value;\n      componentRef.instance.name = this.name;\n      componentRef.instance.onChange = child.onChange;\n      componentRef.changeDetectorRef.detectChanges();\n      return componentRef.instance;\n    });\n    this._innerButtonToggleGroup._buttonToggles.reset(childList.map(c => c._innerButtonToggle));\n    this._children.reset(childList);\n  }\n\n  getValue(): any {\n    return this._innerButtonToggleGroup ? this._innerButtonToggleGroup.value : void 0;\n  }\n\n  setValue(val: any): void {\n    this._innerButtonToggleGroup.value = val;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OButtonToggleGroupComponent } from './o-button-toggle-group/o-button-toggle-group.component';\nimport { OButtonToggleComponent } from './o-button-toggle.component';\n\n@NgModule({\n  declarations: [\n    OButtonToggleComponent,\n    OButtonToggleGroupComponent\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule\n  ],\n  exports: [\n    OButtonToggleComponent,\n    OButtonToggleGroupComponent\n  ]\n})\nexport class OButtonToggleModule { }\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nexport const DEFAULT_INPUTS_O_BUTTON = [\n  'oattr: attr',\n  'olabel: label',\n  // type [BASIC|RAISED|STROKED|FLAT|ICON|FAB|MINI-FAB]: The type of button. Default: STROKED.\n  'otype: type',\n  // icon [string]: Name of google icon (see https://design.google.com/icons/)\n  'icon',\n  'svgIcon : svg-icon',\n  'iconPosition: icon-position',\n  'image'\n];\n\n@Component({\n  selector: 'o-button',\n  inputs: DEFAULT_INPUTS_O_BUTTON,\n  templateUrl: './o-button.component.html',\n  styleUrls: ['./o-button.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-button]': 'true'\n  }\n})\nexport class OButtonComponent implements OnInit {\n\n  protected static DEFAULT_TYPE = 'STROKED';\n\n  protected oattr: string;\n  olabel: string;\n  protected otype: string;\n  icon: string;\n  svgIcon: string;\n  iconPosition: string; // left (default), top, TODO: right, bottom?\n  image: string;\n\n  constructor() {\n    this.otype = OButtonComponent.DEFAULT_TYPE;\n  }\n\n  ngOnInit(): void {\n    if (this.otype) {\n      this.otype = this.otype.toUpperCase();\n    }\n  }\n\n  get needsIconButtonClass(): boolean {\n    return this.icon !== undefined && (this.olabel === undefined || this.olabel === '');\n  }\n\n  isFab(): boolean {\n    return this.otype === 'FAB';\n  }\n\n  isRaised(): boolean {\n    return this.otype === 'RAISED';\n  }\n\n  isFlat(): boolean {\n    return this.otype === 'FLAT';\n  }\n\n  isStroked(): boolean {\n    return (this.otype === 'STROKED' || !this.otype);\n  }\n\n  isBasic(): boolean {\n    return this.otype === 'BASIC';\n  }\n\n  isMiniFab(): boolean {\n    return this.otype === 'FAB-MINI';\n  }\n\n  isIconButton(): boolean {\n    return this.otype === 'ICON';\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OButtonComponent } from './o-button.component';\n\n@NgModule({\n  declarations: [OButtonComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OButtonComponent]\n})\nexport class OButtonModule { }\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  ContentChildren,\n  ElementRef,\n  Injector,\n  OnDestroy,\n  QueryList,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\n\nexport const DEFAULT_INPUTS_O_MENU_CARD = [\n  'title',\n  'image',\n  'icon',\n  'tooltip',\n  'buttonText : button-text',\n  'disabledButton : disabled-button',\n  'mainContainerLayout : main-container-layout',\n  'secondaryContainerLayout : secondary-container-layout',\n  'route',\n  'detailComponent : detail-component',\n  'detailComponentInputs : detail-component-inputs',\n  'action'\n];\n\nexport const DEFAULT_OUTPUTS_O_MENU_CARD = [];\n\n@Component({\n  selector: 'o-card-menu-item',\n  templateUrl: './o-card-menu-item.component.html',\n  styleUrls: ['./o-card-menu-item.component.scss'],\n  inputs: DEFAULT_INPUTS_O_MENU_CARD,\n  outputs: DEFAULT_OUTPUTS_O_MENU_CARD,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-card-menu-item]': 'true',\n    '[class.mat-elevation-z1]': 'true',\n    '[class.compact]': '!showSecondaryContainer'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OCardMenuItemComponent implements AfterViewInit, OnDestroy {\n\n  title: string;\n  image: string;\n  icon: string;\n  tooltip: string;\n  buttonText: string;\n  @InputConverter()\n  disabledButton: boolean = false;\n  mainContainerLayout = 'column';\n  secondaryContainerLayout = 'column';\n  route: string;\n  action: () => void;\n  detailComponent: any;\n  detailComponentInputs: object;\n\n  protected _detailComponentContainer: ViewContainerRef;\n\n  @ViewChild('menuCardContent', { read: ViewContainerRef, static: false })\n  set detailComponentContainer(content: ViewContainerRef) {\n    this._detailComponentContainer = content;\n  }\n\n  get detailComponentContainer(): ViewContainerRef {\n    return this._detailComponentContainer;\n  }\n\n  protected translateService: OTranslateService;\n  protected translateServiceSubscription: Subscription;\n\n  @ContentChildren('.secondary-container')\n  secondaryContent: QueryList<any>;\n\n  protected _showSecondaryContainer: boolean = true;\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected resolver: ComponentFactoryResolver,\n    protected cd: ChangeDetectorRef,\n    protected elRef: ElementRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.translateServiceSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.detailComponentContainer && this.detailComponent) {\n      const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(this.detailComponent);\n      const ref = this.detailComponentContainer.createComponent(factory);\n      if (this.detailComponentInputs && ref.instance) {\n        const keys = Object.keys(this.detailComponentInputs);\n        for (let i = 0, len = keys.length; i < len; i++) {\n          ref.instance[keys[i]] = this.detailComponentInputs[keys[i]];\n        }\n      }\n    }\n    this.showSecondaryContainer = (this.detailComponentContainer && this.detailComponent) || this.secondaryContent.length > 0;\n    this.cd.detectChanges();\n  }\n\n  ngOnDestroy() {\n    if (this.translateServiceSubscription) {\n      this.translateServiceSubscription.unsubscribe();\n    }\n  }\n\n  useImage(): boolean {\n    return this.image !== undefined;\n  }\n\n  useIcon(): boolean {\n    return this.icon !== undefined && this.image === undefined;\n  }\n\n  onButtonClick() {\n    if (this.route) {\n      this.router.navigate([this.route], {\n        relativeTo: this.actRoute\n      });\n    } else if (this.action) {\n      this.action();\n    }\n  }\n\n  onClick() {\n    if (this.buttonText === undefined) {\n      this.onButtonClick();\n    }\n  }\n\n  get showSecondaryContainer(): boolean {\n    return this._showSecondaryContainer;\n  }\n\n  set showSecondaryContainer(val: boolean) {\n    this._showSecondaryContainer = val;\n    if (val) {\n      this.elRef.nativeElement.classList.remove('compact');\n    } else {\n      this.elRef.nativeElement.classList.add('compact');\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OCardMenuItemComponent } from './o-card-menu-item.component';\n\n@NgModule({\n  declarations: [OCardMenuItemComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OCardMenuItemComponent]\n})\nexport class OCardMenuItemModule { }\n","import {\n  AfterContentChecked,\n  AfterViewInit,\n  ElementRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  Optional,\n  ViewChild,\n} from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_CONTAINER = [\n  'oattr: attr',\n  'title',\n  'layoutAlign: layout-align',\n  'elevation',\n  'icon',\n  'appearance',\n  'layoutGap: layout-gap'\n];\n\nexport class OContainerComponent implements AfterViewInit, OnDestroy, AfterContentChecked {\n\n  public static APPEARANCE_OUTLINE = 'outline';\n\n  public oattr: string;\n\n  public title: string;\n  protected _elevation: number = 0;\n  protected defaultLayoutAlign: string = 'start start';\n  protected _layoutAlign: string;\n  public icon: string;\n  protected _appearance: string;\n  protected _layoutGap: string;\n  private _outlineGapCalculationNeededImmediately = false;\n\n  protected titleObserver = new MutationObserver(() => this.updateOutlineGap());\n\n  protected _titleEl: ElementRef;\n  @ViewChild('containerTitle', { static: false }) set containerTitle(elem: ElementRef) {\n    this._titleEl = elem;\n    if (this._titleEl) {\n      this.registerObserver();\n      this.updateOutlineGap(); // This must be triggered when title container is re-registered\n    } else {\n      this.unRegisterObserver();\n    }\n  }\n  @ViewChild('container', { static: false }) protected _containerRef: ElementRef;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) { }\n\n  ngAfterViewInit(): void {\n    if (this.elRef) {\n      this.elRef.nativeElement.removeAttribute('title');\n    }\n    this.registerObserver();\n  }\n\n  ngAfterContentChecked() {\n    if (this._outlineGapCalculationNeededImmediately) {\n      this.updateOutlineGap();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unRegisterObserver();\n  }\n\n  public getAttribute() {\n    if (this.oattr) {\n      return this.oattr;\n    } else if (this.elRef && this.elRef.nativeElement.attributes.attr) {\n      return this.elRef.nativeElement.attributes.attr.value;\n    }\n  }\n\n  get appearance() {\n    return this._appearance;\n  }\n\n  set appearance(value: string) {\n    this._appearance = value;\n    setTimeout(() => { this.updateOutlineGap(); }, 0);\n  }\n\n  get elevation() {\n    return this._elevation;\n  }\n\n  set elevation(elevation: number) {\n    this._elevation = elevation;\n    this.propagateElevationToDOM();\n  }\n\n  get layoutAlign() {\n    return this._layoutAlign;\n  }\n\n  set layoutAlign(align: string) {\n    if (!align || align.length === 0) {\n      align = this.defaultLayoutAlign;\n    }\n    this._layoutAlign = align;\n  }\n\n  get layoutGap() {\n    return this._layoutGap;\n  }\n\n  set layoutGap(layoutGap: string) {\n    this._layoutGap = layoutGap;\n  }\n\n  public hasHeader(): boolean {\n    return !!this.title || !!this.icon;\n  }\n\n  public isAppearanceOutline(): boolean {\n    let isAppearanceOutline = (this.matFormDefaultOption && this.matFormDefaultOption.appearance === OContainerComponent.APPEARANCE_OUTLINE);\n    if (Util.isDefined(this.appearance)) {\n      isAppearanceOutline = this.appearance === OContainerComponent.APPEARANCE_OUTLINE;\n    }\n    return isAppearanceOutline;\n  }\n\n  public hasTitleInAppearanceOutline(): boolean {\n    return this.isAppearanceOutline() && this.hasHeader();\n  }\n\n  protected propagateElevationToDOM(): void {\n    this.cleanElevationCSSclasses();\n    if (this.elevation > 0 && this.elevation <= 12) {\n      this.elRef.nativeElement.classList.add('mat-elevation-z' + this.elevation);\n    }\n  }\n\n  protected cleanElevationCSSclasses(): void {\n    const classList = [].slice.call(this.elRef.nativeElement.classList);\n    if (classList && classList.length) {\n      classList.forEach((item: string) => {\n        if (item.startsWith('mat-elevation')) {\n          this.elRef.nativeElement.classList.remove(item);\n        }\n      });\n    }\n  }\n\n  protected updateOutlineGap(): void {\n    if (this.isAppearanceOutline()) {\n      const titleEl = this._titleEl ? this._titleEl.nativeElement : null;\n\n      if (!this._containerRef) {\n        return;\n      }\n      if (document.documentElement && !document.documentElement.contains(this.elRef.nativeElement)) {\n        this._outlineGapCalculationNeededImmediately = true;\n        return;\n      }\n\n      const container = this._containerRef.nativeElement;\n      const containerRect = container.getBoundingClientRect();\n      if (containerRect.width === 0 && containerRect.height === 0) {\n        return;\n      }\n\n      const containerStart = containerRect.left;\n      const labelStart = titleEl.getBoundingClientRect().left;\n      const labelWidth = this.hasHeader() ? titleEl.offsetWidth : 0;\n      const startWidth = labelStart - containerStart;\n\n      const startEls = container.querySelectorAll('.o-container-outline-start');\n      const gapEls = container.querySelectorAll('.o-container-outline-gap');\n      gapEls[0].style.width = `${labelWidth}px`;\n      startEls[0].style.width = `${startWidth}px`;\n      this._outlineGapCalculationNeededImmediately = false;\n    }\n  }\n\n  protected registerObserver(): void {\n    if (this._titleEl) {\n      this.titleObserver.observe(this._titleEl.nativeElement, {\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  protected unRegisterObserver(): void {\n    if (this.titleObserver) {\n      this.titleObserver.disconnect();\n    }\n  }\n\n}\n","import { AfterViewInit, ElementRef, Inject, Injector, Optional, ViewChild } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS, MatExpansionPanel } from '@angular/material';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { DEFAULT_INPUTS_O_CONTAINER, OContainerComponent } from './o-container-component.class';\n\nexport const DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE = [\n  ...DEFAULT_INPUTS_O_CONTAINER,\n  'expanded',\n  'description',\n  'collapsedHeight:collapsed-height',\n  'expandedHeight:expanded-height'\n];\n\nexport class OContainerCollapsibleComponent extends OContainerComponent implements AfterViewInit {\n\n  @InputConverter()\n  public expanded: boolean = true;\n  public collapsedHeight = '37px';\n  public expandedHeight = '37px';\n  public description: string;\n\n  protected contentObserver = new MutationObserver(() => this.updateHeightExpansionPanelContent());\n  @ViewChild('expPanel', { static: false }) expPanel: MatExpansionPanel;\n  protected _containerCollapsibleRef: ElementRef<HTMLElement>;\n\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(elRef, injector, matFormDefaultOption);\n  }\n\n  ngAfterViewInit(): void {\n    if (this.expPanel) {\n      this._containerCollapsibleRef = this.expPanel._body;\n      this.registerContentObserver();\n    } else {\n      this.unregisterContentObserver();\n    }\n  }\n  protected updateOutlineGap(): void {\n    if (this.isAppearanceOutline()) {\n      const exPanelHeader = this._titleEl ? (this._titleEl as any)._element.nativeElement : null;\n\n      if (!this._containerRef) {\n        return;\n      }\n      const containerOutline = this._containerRef.nativeElement;\n      const containerOutlineRect = containerOutline.getBoundingClientRect();\n      if (containerOutlineRect.width === 0 && containerOutlineRect.height === 0) {\n        return;\n      }\n\n      const titleEl = exPanelHeader.querySelector('.o-container-title.mat-expansion-panel-header-title');\n      const descrEl = exPanelHeader.querySelector('.mat-expansion-panel-header-description');\n\n      const containerStart = containerOutlineRect.left;\n      const descrStart = descrEl.getBoundingClientRect().left;\n\n      let titleWidth = 0;\n      if (this.hasHeader()) {\n        titleWidth += this.icon ? titleEl.querySelector('mat-icon').offsetWidth : 0; // icon\n        titleWidth += this.title ? titleEl.querySelector('span').offsetWidth : 0; // title\n        titleWidth = titleWidth === 0 ? 0 : titleWidth + 4;\n      }\n\n      const descrWidth = this.description ? descrEl.querySelector('span').offsetWidth + 8 : 0;\n      const empty1Width = descrStart - containerStart - 14 - titleWidth - 4;\n\n      const gapTitleEls = containerOutline.querySelectorAll('.o-container-outline-gap-title');\n      const gapEmpty1Els = containerOutline.querySelectorAll('.o-container-outline-gap-empty1');\n      const gapDescrEls = containerOutline.querySelectorAll('.o-container-outline-gap-description');\n\n      gapTitleEls[0].style.width = `${titleWidth}px`;\n      gapEmpty1Els[0].style.width = `${empty1Width}px`;\n      gapDescrEls[0].style.width = `${descrWidth}px`;\n    }\n  }\n\n  protected registerObserver(): void {\n    if (this._titleEl) {\n      this.titleObserver.observe((this._titleEl as any)._element.nativeElement, {\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  protected updateHeightExpansionPanelContent(): void {\n    const exPanelHeader = this._titleEl ? (this._titleEl as any)._element.nativeElement : null;\n    const exPanelContent: HTMLElement = this._containerCollapsibleRef ? this._containerCollapsibleRef.nativeElement.querySelector('.o-container-scroll') : null;\n    const parentHeight = exPanelHeader.parentNode ? exPanelHeader.parentNode.offsetHeight : null;\n\n    const height = (OContainerComponent.APPEARANCE_OUTLINE === this.appearance) ? parentHeight : (parentHeight - exPanelHeader.offsetHeight);\n    if (height > 0) {\n      exPanelContent.style.height = height + 'px';\n    }\n  }\n\n  protected unregisterContentObserver(): any {\n    if (this.contentObserver) {\n      this.contentObserver.disconnect();\n    }\n  }\n\n  protected registerContentObserver(): any {\n    if (this._containerCollapsibleRef) {\n      this.contentObserver.observe(this._containerCollapsibleRef.nativeElement, {\n        childList: true,\n        attributes: true,\n        attributeFilter: ['style']\n      });\n    }\n  }\n\n}\n","import { Component, ElementRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport {\n  DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE,\n  OContainerCollapsibleComponent,\n} from '../o-container-collapsible-component.class';\n\nexport const DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE = [\n  ...DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE\n];\n\n@Component({\n  selector: 'o-column-collapsible',\n  templateUrl: './o-column-collapsible.component.html',\n  styleUrls: ['./o-column-collapsible.component.scss'],\n  inputs: DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-column-collapsible]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class OColumnCollapsibleComponent extends OContainerCollapsibleComponent {\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(elRef, injector, matFormDefaultOption);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OColumnCollapsibleComponent } from './o-column-collapsible.component';\n\n@NgModule({\n  declarations: [OColumnCollapsibleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OColumnCollapsibleComponent]\n})\nexport class OColumnCollapsibleModule { }\n","import { Component, ElementRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { DEFAULT_INPUTS_O_CONTAINER, OContainerComponent } from '../o-container-component.class';\n\nexport const DEFAULT_INPUTS_O_COLUMN = [\n  ...DEFAULT_INPUTS_O_CONTAINER\n];\n\n@Component({\n  selector: 'o-column',\n  templateUrl: './o-column.component.html',\n  styleUrls: ['./o-column.component.scss'],\n  inputs: DEFAULT_INPUTS_O_COLUMN,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-column]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class OColumnComponent extends OContainerComponent {\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(elRef, injector, matFormDefaultOption);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OColumnComponent } from './o-column.component';\n\n@NgModule({\n  declarations: [OColumnComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OColumnComponent]\n})\nexport class OColumnModule { }\n","import { Component, ElementRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport {\n  DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE,\n  OContainerCollapsibleComponent,\n} from '../o-container-collapsible-component.class';\n\nexport const DEFAULT_INPUTS_O_ROW_COLLAPSIBLE = [\n  ...DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE\n];\n\n@Component({\n  selector: 'o-row-collapsible',\n  templateUrl: './o-row-collapsible.component.html',\n  styleUrls: ['./o-row-collapsible.component.scss'],\n  inputs: DEFAULT_INPUTS_O_ROW_COLLAPSIBLE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-row-collapsible]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class ORowCollapsibleComponent extends OContainerCollapsibleComponent {\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(elRef, injector, matFormDefaultOption);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ORowCollapsibleComponent } from './o-row-collapsible.component';\n\n@NgModule({\n  declarations: [ORowCollapsibleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORowCollapsibleComponent]\n})\nexport class ORowCollapsibleModule { }\n","import { Component, ElementRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material';\n\nimport { DEFAULT_INPUTS_O_CONTAINER, OContainerComponent } from '../o-container-component.class';\n\nexport const DEFAULT_INPUTS_O_ROW = [\n  ...DEFAULT_INPUTS_O_CONTAINER\n];\n\n@Component({\n  selector: 'o-row',\n  templateUrl: './o-row.component.html',\n  styleUrls: ['./o-row.component.scss'],\n  inputs: DEFAULT_INPUTS_O_ROW,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-row]': 'true',\n    '[class.o-appearance-outline]': 'isAppearanceOutline()',\n    '[class.o-appearance-outline-title]': 'hasTitleInAppearanceOutline()'\n  }\n})\nexport class ORowComponent extends OContainerComponent {\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    @Optional() @Inject(MAT_FORM_FIELD_DEFAULT_OPTIONS) protected matFormDefaultOption\n  ) {\n    super(elRef, injector, matFormDefaultOption);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ORowComponent } from './o-row.component';\n\n@NgModule({\n  declarations: [ORowComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORowComponent]\n})\nexport class ORowModule { }\n","import { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS = [\n  'attr',\n  'ovisible: visible'\n];\n\nexport class OComponentMenuItems {\n\n  public static TYPE_ITEM_MENU = 'item_menu';\n  public static TYPE_GROUP_MENU = 'item_group';\n  public static TYPE_SEPARATOR_MENU = 'item_separator';\n  public ovisible: boolean | ((item: any) => boolean) = true;\n  public attr;\n  public type = OComponentMenuItems.TYPE_GROUP_MENU;\n\n  public get isVisible(): boolean {\n    return this.parseInput(this.ovisible);\n  }\n\n  protected parseInput(value: any, defaultValue?: boolean): boolean {\n    if (value instanceof Function || typeof value === 'boolean') {\n      return value;\n    }\n    return Util.parseBoolean(value, defaultValue);\n  }\n\n}\n","import { Component, EventEmitter, forwardRef, OnInit } from '@angular/core';\n\nimport { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS, OComponentMenuItems } from '../o-content-menu.class';\n\nexport const DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS = [\n  'execute'\n];\n\nexport const DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM = [\n  ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS,\n  'icon',\n  'data',\n  'label',\n  'oenabled: enabled',\n  'svgIcon: svg-icon'];\n\n@Component({\n  selector: 'o-context-menu-item',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,\n  outputs: DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuItemComponent) }]\n})\nexport class OContextMenuItemComponent extends OComponentMenuItems implements OnInit {\n\n  public execute: EventEmitter<{ event: Event, data: any }> = new EventEmitter();\n  public type = OComponentMenuItems.TYPE_ITEM_MENU;\n  public icon: string;\n  public data: any;\n  public label: string;\n  public enabled: boolean | ((item: any) => boolean) = true;\n  public svgIcon: string;\n  protected oenabled;\n\n  public ngOnInit(): void {\n    this.enabled = this.parseInput(this.oenabled, true);\n  }\n\n  public onClick(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerExecute(this.data, event);\n  }\n\n  public triggerExecute(data: any, $event?: Event): void {\n    if (!this.enabled) {\n      return;\n    }\n    this.execute.emit({ event: $event, data: data });\n  }\n\n  public get disabled(): boolean {\n    if (this.enabled instanceof Function) {\n      return !this.enabled(this.data);\n    }\n    return !this.enabled;\n  }\n\n  public get isVisible(): boolean {\n    if (this.ovisible instanceof Function) {\n      return this.ovisible(this.data);\n    }\n    return this.ovisible;\n  }\n\n}\n","import { AfterContentInit, Component, ContentChildren, forwardRef, OnInit, QueryList } from '@angular/core';\n\nimport {\n  DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,\n  OContextMenuItemComponent,\n} from '../context-menu-item/o-context-menu-item.component';\nimport { OComponentMenuItems } from '../o-content-menu.class';\n\nexport const DEFAULT_CONTEXT_MENU_GROUP_INPUTS = [\n  ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,\n  'children'\n];\n\n@Component({\n  selector: 'o-context-menu-group',\n  template: ' ',\n  inputs: DEFAULT_CONTEXT_MENU_GROUP_INPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuGroupComponent) }]\n})\nexport class OContextMenuGroupComponent extends OContextMenuItemComponent implements OnInit, AfterContentInit {\n\n  public type = OComponentMenuItems.TYPE_GROUP_MENU;\n  public children = [];\n\n  @ContentChildren(OComponentMenuItems) public oContextMenuItems: QueryList<OComponentMenuItems>;\n\n  public ngAfterContentInit(): void {\n    this.children = this.oContextMenuItems.toArray().slice(1, this.oContextMenuItems.toArray().length);\n  }\n\n}\n","import { Component, forwardRef, OnInit } from '@angular/core';\n\nimport { OContextMenuItemComponent } from '../context-menu-item/o-context-menu-item.component';\nimport { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS, OComponentMenuItems } from '../o-content-menu.class';\n\nexport const DEFAULT_CONTEXT_MENU_ITEM_INPUTS = [\n  ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS\n];\n\n@Component({\n  selector: 'o-context-menu-separator',\n  template: ' ',\n  inputs: DEFAULT_CONTEXT_MENU_ITEM_INPUTS,\n  providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuSeparatorComponent) }]\n})\nexport class OContextMenuSeparatorComponent extends OContextMenuItemComponent implements OnInit {\n\n  public type = OComponentMenuItems.TYPE_SEPARATOR_MENU;\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n  }\n\n}\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\nimport { MatMenu } from '@angular/material/menu';\n\nimport { OComponentMenuItems } from '../../o-content-menu.class';\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_ITEM_INPUTS = [\n  'items',\n  'class'\n];\n\n@Component({\n  selector: 'o-wrapper-content-menu',\n  templateUrl: 'o-wrapper-content-menu.component.html',\n  styleUrls: ['./o-wrapper-content-menu.component.scss'],\n  inputs: DEFAULT_CONTEXT_MENU_CONTENT_ITEM_INPUTS\n})\nexport class OWrapperContentMenuComponent {\n\n  public class: string;\n\n  @Input()\n  public items: any[];\n\n  @ViewChild('childMenu', { static: true })\n  public childMenu: MatMenu;\n\n  @ViewChild(OWrapperContentMenuComponent, { static: true })\n  public menu: OWrapperContentMenuComponent;\n\n  constructor(\n    protected injector: Injector\n  ) { }\n\n  public onClick(item, event?): void {\n    item.triggerExecute(item.data, event);\n  }\n\n  public isGroup(item): boolean {\n    let isGroup = false;\n    if (item && item.children && item.children.length > 0) {\n      isGroup = true;\n    }\n    return isGroup;\n  }\n\n  public isSepararor(item): boolean {\n    let isSepararor = false;\n    if (item && item.type && item.type === OComponentMenuItems.TYPE_SEPARATOR_MENU) {\n      isSepararor = true;\n    }\n    return isSepararor;\n  }\n\n  public isItem(item): boolean {\n    let isItem = false;\n    if (item && item.type && item.type === OComponentMenuItems.TYPE_ITEM_MENU) {\n      isItem = true;\n    }\n    return isItem;\n  }\n\n}\n","import { OverlayRef } from '@angular/cdk/overlay';\nimport {\n  AfterViewInit,\n  Component,\n  ContentChildren,\n  EventEmitter,\n  HostListener,\n  Injector,\n  OnInit,\n  QueryList,\n  ViewChild,\n} from '@angular/core';\nimport { MatMenuTrigger } from '@angular/material';\n\nimport { OContextMenuItemComponent } from '../context-menu-item/o-context-menu-item.component';\nimport { OComponentMenuItems } from '../o-content-menu.class';\nimport { OWrapperContentMenuComponent } from './o-wrapper-content-menu/o-wrapper-content-menu.component';\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_INPUTS = [\n  'menuItems',\n  'overlay',\n  'data',\n  'menuClass'\n];\n\nexport const DEFAULT_CONTEXT_MENU_CONTENT_OUTPUTS = [\n  'execute',\n  'close'\n];\n\n@Component({\n  selector: 'o-context-menu-content',\n  templateUrl: 'o-context-menu-content.component.html',\n  inputs: DEFAULT_CONTEXT_MENU_CONTENT_INPUTS,\n  outputs: DEFAULT_CONTEXT_MENU_CONTENT_OUTPUTS,\n  host: {\n    '[class.o-context-menu-content]': 'true'\n  }\n})\nexport class OContextMenuContentComponent implements AfterViewInit, OnInit {\n\n  public menuItems: any[] = [];\n  public overlay: OverlayRef;\n  public data: any;\n  public menuClass: string;\n  public execute: EventEmitter<{ event: Event, data: any, menuItem: OContextMenuItemComponent }> = new EventEmitter();\n  public close: EventEmitter<any> = new EventEmitter();\n\n  @ContentChildren(OComponentMenuItems)\n  public oContextMenuItems: QueryList<OComponentMenuItems>;\n  @ViewChild(MatMenuTrigger, { static: false })\n  public trigger: MatMenuTrigger;\n  @ViewChild(OWrapperContentMenuComponent, { static: false })\n  public menu: OWrapperContentMenuComponent;\n\n  constructor(\n    protected injector: Injector\n  ) { }\n\n  @HostListener('document:click')\n  public click(): void {\n    this.closeContent();\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngAfterViewInit(): void {\n    this.trigger.openMenu();\n  }\n\n  public initialize(): void {\n    this.setData(this.menuItems);\n  }\n\n  public setData(items): void {\n    items.forEach(menuItem => {\n      if (this.data) {\n        menuItem.data = this.data;\n        if (menuItem.children && menuItem.children.length > 0) {\n          this.setData(menuItem.children);\n        }\n      }\n    });\n  }\n\n  public onMenuClosed(e: Event): void {\n    this.closeContent();\n  }\n\n  public closeContent(): void {\n    this.trigger.closeMenu();\n    this.close.emit();\n  }\n\n}\n","import { Overlay, OverlayRef, ScrollStrategyOptions } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { ComponentRef, ElementRef, Injectable, OnDestroy } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\n\nimport { IOContextMenuClickEvent, IOContextMenuContext } from '../../interfaces/o-context-menu.interface';\nimport { OContextMenuContentComponent } from './context-menu/o-context-menu-content.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OContextMenuService implements OnDestroy {\n\n  public showContextMenu: Subject<IOContextMenuClickEvent> = new Subject<IOContextMenuClickEvent>();\n  public closeContextMenu: Subject<Event> = new Subject();\n  public activeMenu: OContextMenuContentComponent;\n\n  protected overlays: OverlayRef[] = [];\n  protected fakeElement: ElementRef = new ElementRef({ nativeElement: '' });\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    private overlay: Overlay,\n    private scrollStrategy: ScrollStrategyOptions\n  ) {\n    this.subscription.add(this.closeContextMenu.subscribe(() => this.destroyOverlays()));\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public openContextMenu(context: IOContextMenuContext): void {\n    this.destroyOverlays();\n    this.createOverlay(context);\n  }\n\n  public destroyOverlays(): void {\n    if (this.overlays) {\n      this.overlays.forEach((overlay) => {\n        overlay.detach();\n        overlay.dispose();\n      });\n    }\n    this.overlays = [];\n  }\n\n  // Create overlay and attach `o-context-menu-content` to it in order to trigger the menu click, the menu opens in a new overlay\n  // TODO: try to use only one overlay\n  protected createOverlay(context: IOContextMenuContext): void {\n    context.event.preventDefault();\n    context.event.stopPropagation();\n\n    this.fakeElement.nativeElement.getBoundingClientRect = (): ClientRect => ({\n      bottom: context.event.clientY,\n      height: 0,\n      left: context.event.clientX,\n      right: context.event.clientX,\n      top: context.event.clientY,\n      width: 0,\n    });\n\n    const positionStrategy = this.overlay.position()\n      .flexibleConnectedTo(context.anchorElement || this.fakeElement)\n      .withPositions([{\n        overlayX: 'start',\n        overlayY: 'top',\n        originX: 'start',\n        originY: 'bottom'\n      }]);\n\n    const overlayRef = this.overlay.create({\n      positionStrategy: positionStrategy,\n      hasBackdrop: false,\n      panelClass: ['o-context-menu'],\n      scrollStrategy: this.scrollStrategy.close()\n    });\n\n    this.overlays = [overlayRef];\n\n    this.attachContextMenu(this.overlays[0], context);\n  }\n\n  protected attachContextMenu(overlay: OverlayRef, context: IOContextMenuContext): void {\n    const contextMenuContent: ComponentRef<any> = overlay.attach(new ComponentPortal(OContextMenuContentComponent));\n    contextMenuContent.instance.overlay = overlay;\n    contextMenuContent.instance.menuItems = context.menuItems;\n    contextMenuContent.instance.data = context.data;\n    contextMenuContent.instance.menuClass = context.class;\n    this.subscription.add(contextMenuContent.instance.close.subscribe(() => {\n      this.closeContextMenu.next();\n    }));\n  }\n\n}\n","import { Component, ContentChildren, EventEmitter, Injector, OnDestroy, OnInit, QueryList } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IOContextMenuContext } from '../../interfaces/o-context-menu.interface';\nimport { OComponentMenuItems } from './o-content-menu.class';\nimport { OContextMenuService } from './o-context-menu.service';\n\nexport const DEFAULT_OUTPUTS_O_CONTEXT_MENU = [\n  'onShow',\n  'onClose'\n];\n\n@Component({\n  selector: 'o-context-menu',\n  template: ' ',\n  outputs: DEFAULT_OUTPUTS_O_CONTEXT_MENU\n})\nexport class OContextMenuComponent implements OnDestroy, OnInit {\n\n  @ContentChildren(OComponentMenuItems)\n  public oContextMenuItems: QueryList<OComponentMenuItems>;\n\n  public origin: HTMLElement;\n  public onShow: EventEmitter<any> = new EventEmitter();\n  public onClose: EventEmitter<any> = new EventEmitter();\n\n  public oContextMenuService: OContextMenuService;\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.oContextMenuService = this.injector.get(OContextMenuService);\n  }\n\n  public ngOnInit(): void {\n    this.subscription.add(this.oContextMenuService.showContextMenu.subscribe(param => this.showContextMenu(param)));\n    this.subscription.add(this.oContextMenuService.closeContextMenu.subscribe(param => this.onClose.emit()));\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public showContextMenu(params: IOContextMenuContext): void {\n    this.origin = params.event.target as HTMLElement;\n    this.onShow.emit(params);\n    if (params.contextMenu !== this) {\n      return;\n    }\n    params.menuItems = this.oContextMenuItems;\n    if (params.menuItems.length > 0) {\n      this.oContextMenuService.openContextMenu(params);\n    }\n  }\n\n}\n","import { Directive, HostListener, Injector } from '@angular/core';\n\nimport { OContextMenuComponent } from './o-context-menu.component';\nimport { OContextMenuService } from './o-context-menu.service';\n\nexport const DEFAULT_CONTEXT_MENU_DIRECTIVE_INPUTS = [\n  'oContextMenu',\n  'oContextMenuData'\n];\n\n@Directive({\n  selector: '[oContextMenu]',\n  inputs: DEFAULT_CONTEXT_MENU_DIRECTIVE_INPUTS\n})\nexport class OContextMenuDirective {\n\n  public oContextMenu: OContextMenuComponent;\n  public oContextMenuData: any;\n\n  protected oContextMenuService: OContextMenuService;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.oContextMenuService = this.injector.get(OContextMenuService);\n  }\n\n  @HostListener('contextmenu', ['$event'])\n  public onRightClick(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.oContextMenuService.showContextMenu.next({\n      contextMenu: this.oContextMenu,\n      event: event,\n      data: this.oContextMenuData\n    });\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OContextMenuGroupComponent } from './context-menu-group/o-context-menu-group.component';\nimport { OContextMenuItemComponent } from './context-menu-item/o-context-menu-item.component';\nimport { OContextMenuSeparatorComponent } from './context-menu-separator/o-context-menu-separator.component';\nimport { OContextMenuContentComponent } from './context-menu/o-context-menu-content.component';\nimport { OWrapperContentMenuComponent } from './context-menu/o-wrapper-content-menu/o-wrapper-content-menu.component';\nimport { OContextMenuComponent } from './o-context-menu.component';\nimport { OContextMenuDirective } from './o-context-menu.directive';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule],\n  entryComponents: [OContextMenuContentComponent, OContextMenuComponent],\n  exports: [CommonModule, OContextMenuDirective, OContextMenuComponent, OContextMenuItemComponent, OContextMenuGroupComponent, OContextMenuSeparatorComponent],\n  declarations: [\n    OContextMenuDirective,\n    OContextMenuContentComponent,\n    OContextMenuComponent,\n    OContextMenuItemComponent,\n    OContextMenuGroupComponent,\n    OWrapperContentMenuComponent,\n    OContextMenuSeparatorComponent]\n})\nexport class OContextMenuModule { }\n","import { AfterViewInit, Component, ComponentFactoryResolver, ViewChild, ViewContainerRef, ViewEncapsulation } from '@angular/core';\n\nimport { OBreadcrumbComponent } from '../../components/breadcrumb/o-breadcrumb.component';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { OFormLayoutManagerComponent } from '../../layouts/form-layout/o-form-layout-manager.component';\nimport { OFormComponent } from '../form/o-form.component';\n\nexport const DEFAULT_INPUTS_O_FORM_CONTAINER = [\n  // breadcrumb [boolean]: show breadscrum of the form. Default: yes.\n  'breadcrumb',\n  'breadcrumbSeparator : breadcrumb-separator',\n  'breadcrumbLabelColumns : breadcrumb-label-columns',\n  'form'\n];\n\n@Component({\n  selector: 'o-form-container',\n  templateUrl: './o-form-container.component.html',\n  styleUrls: ['./o-form-container.component.scss'],\n  inputs: DEFAULT_INPUTS_O_FORM_CONTAINER,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-container]': 'true',\n    '[class.breadcrumb]': 'breadcrumb'\n  }\n})\nexport class OFormContainerComponent implements AfterViewInit {\n\n  @ViewChild('breadcrumb', { read: ViewContainerRef, static: false }) breadContainer: ViewContainerRef;\n\n  @InputConverter()\n  breadcrumb: boolean = false;\n  public breadcrumbLabelColumns: string;\n  public breadcrumbSeparator: string = ' ';\n\n  protected form: OFormComponent;\n  protected formMananger: OFormLayoutManagerComponent;\n\n  constructor(private resolver: ComponentFactoryResolver) { }\n\n  ngAfterViewInit() {\n    this.breadcrumb = this.breadcrumb && this.form && !this.formMananger;\n    if (this.breadcrumb) {\n      this.createBreadcrumb(this.breadContainer);\n    }\n  }\n\n  setForm(form: OFormComponent) {\n    this.form = form;\n    this.formMananger = form.getFormManager();\n  }\n\n  createBreadcrumb(container: ViewContainerRef) {\n    const factory = this.resolver.resolveComponentFactory(OBreadcrumbComponent);\n    const ref = container.createComponent(factory);\n    ref.instance.form = this.form;\n    ref.instance.labelColumns = this.breadcrumbLabelColumns;\n    ref.instance.separator = this.breadcrumbSeparator;\n  }\n\n}\n","import { EventEmitter } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IFormControlComponent } from '../../../interfaces/form-control-component.interface';\nimport { IFormDataComponent } from '../../../interfaces/form-data-component.interface';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../o-form.component';\n\nexport class OFormCacheClass {\n\n  protected initialDataCache: object = {};\n  protected formDataCache: object;\n  protected valueChangesStack: Array<any> = [];\n  protected _componentsSubscritpions: any = {};\n  protected blockCaching: boolean = false;\n  protected initializedCache: boolean = false;\n\n  onCacheEmptyStateChanges: EventEmitter<boolean> = new EventEmitter<boolean>();\n  onCacheStateChanges: EventEmitter<any> = new EventEmitter<any>();\n\n  protected changedFormControls: string[] = [];\n\n  constructor(protected form: OFormComponent) {\n  }\n\n  protected updateFormDataCache() {\n    this.formDataCache = this.form.getRegisteredFieldsValues();\n  }\n\n  protected addChangeToStack(comp: IFormControlComponent) {\n    const currentValue = comp.getFormControl().value;\n    const wasEmpty = this.valueChangesStack.length === 0;\n    this.valueChangesStack.push({\n      attr: comp.getAttribute(),\n      value: currentValue\n    });\n    if (wasEmpty) {\n      this.onCacheEmptyStateChanges.emit(false);\n    }\n    this.onCacheStateChanges.emit();\n  }\n\n  protected registerComponentCaching(comp: IFormDataComponent) {\n    const self = this;\n    const attr = comp.getAttribute();\n    const listenTo = this.form.detectChangesOnBlur ? comp.onValueChange : comp.onChange;\n    if (!Util.isDefined(listenTo)) {\n      return;\n    }\n    this._componentsSubscritpions[attr] = listenTo.subscribe(() => {\n      if (self.initializedCache && !self.blockCaching && self.hasComponentChanged(attr, comp)) {\n        if (self.changedFormControls.indexOf(attr) === -1) {\n          self.changedFormControls.push(attr);\n        }\n        self.updateFormDataCache();\n        self.addChangeToStack(comp);\n      }\n    });\n  }\n\n  getCachedValue(attr: string): any {\n    if (this.formDataCache && this.formDataCache.hasOwnProperty(attr)) {\n      return this.formDataCache[attr];\n    }\n    return undefined;\n  }\n\n  destroy() {\n    Object.keys(this._componentsSubscritpions).forEach((attr) => {\n      const subs: Subscription = this._componentsSubscritpions[attr];\n      subs.unsubscribe();\n    });\n    this._componentsSubscritpions = {};\n    this.formDataCache = undefined;\n    this.changedFormControls = [];\n  }\n\n  protected removeUndefinedProperties(arg: any): any {\n    Object.keys(arg).forEach((key) => {\n      if (arg[key] === undefined) {\n        delete arg[key];\n      }\n    });\n    return arg;\n  }\n\n  registerCache() {\n    const initialCache = this.form.getRegisteredFieldsValues();\n    this.removeUndefinedProperties(initialCache);\n    this.initializeCache(initialCache);\n    this.formDataCache = initialCache;\n\n    const components = this.form.getComponents();\n    const self = this;\n    Object.keys(components).forEach(attr => {\n      const comp: IFormDataComponent = components[attr];\n      if (comp.isAutomaticRegistering()) {\n        self.registerComponentCaching(comp);\n      }\n    });\n  }\n\n  initializeCache(val: any) {\n    this.initialDataCache = val;\n    this.valueChangesStack = [];\n    this.onCacheEmptyStateChanges.emit(true);\n    this.initializedCache = true;\n    this.changedFormControls = [];\n  }\n\n  getInitialDataCache() {\n    return this.initialDataCache;\n  }\n\n  getDataCache() {\n    return this.formDataCache;\n  }\n\n  restartCache() {\n    this.formDataCache = undefined;\n    this.initializeCache({});\n    this.initializedCache = false;\n    this.onCacheStateChanges.emit();\n  }\n\n  setCacheSnapshot() {\n    this.initializeCache(this.getDataCache());\n  }\n\n  undoLastChange(options: any = {}) {\n    const lastElement = this.valueChangesStack[this.valueChangesStack.length - 1];\n    if (lastElement) {\n      const lastCacheValue = this.getCacheLastValue(lastElement.attr);\n      const lastValue = (lastCacheValue !== null) ? lastCacheValue : this.initialDataCache[lastElement.attr];\n      this.undoComponentValue(lastElement.attr, lastValue);\n\n      this.updateFormDataCache();\n      this.onCacheStateChanges.emit();\n    }\n  }\n\n  protected undoComponentValue(attr: string, val: any) {\n    this.blockCaching = true;\n    const comp = this.form.getFieldReference(attr);\n    if (comp) {\n      // (comp as any).oldValue = undefined;\n      comp.setValue(val);\n    }\n    this.blockCaching = false;\n  }\n\n  protected hasComponentChanged(attr: string, comp: IFormControlComponent): boolean {\n    const currentValue = comp.getFormControl().value;\n    const cache = this.formDataCache || this.initialDataCache;\n    return (currentValue !== cache[attr]);\n  }\n\n  protected getCacheLastValue(attr: string): any {\n    this.updateChangesStack(attr);\n    let result = null;\n    for (let i = this.valueChangesStack.length - 1; i >= 0; i--) {\n      const current = this.valueChangesStack[i];\n      if (current.attr === attr) {\n        result = current.value;\n        break;\n      }\n    }\n    return result;\n  }\n\n  protected updateChangesStack(attr: string) {\n    let index: number;\n    for (let i = this.valueChangesStack.length - 1; i >= 0; i--) {\n      const current = this.valueChangesStack[i];\n      if (current.attr === attr) {\n        index = i;\n        break;\n      }\n    }\n    if (index !== undefined) {\n      for (let i = index; i >= 0; i--) {\n        const prev = this.valueChangesStack[i - 1];\n        const current = this.valueChangesStack[i];\n        if (current.attr === attr) {\n          this.valueChangesStack.splice(i, 1);\n          if (!prev || prev.attr === attr) {\n            continue;\n          } else {\n            break;\n          }\n        }\n      }\n    }\n    if (this.valueChangesStack.length === 0) {\n      this.onCacheEmptyStateChanges.emit(true);\n    }\n  }\n\n  get isCacheStackEmpty(): boolean {\n    return (this.valueChangesStack.length === 0);\n  }\n\n  isInitialStateChanged(): boolean {\n    let currentCache;\n    if (this.formDataCache) {\n      currentCache = Object.assign({}, this.formDataCache);\n      this.removeUndefinedProperties(currentCache);\n    }\n\n    const initialKeys = Object.keys(this.initialDataCache);\n    const currentKeys = currentCache ? Object.keys(currentCache) : initialKeys;\n    if (initialKeys.length !== currentKeys.length) {\n      return true;\n    }\n    let res = false;\n    for (let i = 0, len = initialKeys.length; i < len; i++) {\n      const key = initialKeys[i];\n      // TODO be careful with types comparisions\n      res = (this.initialDataCache[key] !== currentCache[key]);\n      if (res) {\n        break;\n      }\n    }\n    return res;\n  }\n\n  getChangedFormControlsAttr(): string[] {\n    return this.changedFormControls;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanDeactivate, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { Codes } from '../../../util/codes';\nimport { OFormComponent } from '../o-form.component';\n\nexport interface CanComponentDeactivate {\n  canDeactivate: () => Observable<boolean> | Promise<boolean> | boolean;\n}\n\n@Injectable()\nexport class CanDeactivateFormGuard implements CanDeactivate<CanComponentDeactivate> {\n  oForm: OFormComponent;\n  public static CLASSNAME = 'CanDeactivateFormGuard';\n\n  canDeactivate(component: CanComponentDeactivate, curr: ActivatedRouteSnapshot, state: RouterStateSnapshot, future: RouterStateSnapshot) {\n    const futureQueryParams = future.root.queryParams;\n    if (futureQueryParams.hasOwnProperty(Codes.IGNORE_CAN_DEACTIVATE)) {\n      return true;\n    }\n    if (this.oForm) {\n      return this.oForm.canDeactivate();\n    }\n    return true;\n  }\n\n  setForm(form: OFormComponent) {\n    this.oForm = form;\n  }\n}\n\n","import { Directive, Input, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  selector: '[o-form-layout-manager-content]',\n})\nexport class OFormLayoutManagerContentDirective {\n\n  @Input() index: number;\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  Inject,\n  Injector,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { OFormLayoutManagerComponent } from '../../../layouts/form-layout/o-form-layout-manager.component';\nimport { OFormLayoutManagerContentDirective } from '../directives/o-form-layout-manager-content.directive';\n\n@Component({\n  selector: 'o-form-layout-dialog',\n  templateUrl: 'o-form-layout-dialog.component.html',\n  styleUrls: ['o-form-layout-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-dialog]': 'true'\n  }\n})\nexport class OFormLayoutDialogComponent implements AfterViewInit {\n  formLayoutManager: OFormLayoutManagerComponent;\n  queryParams: any;\n  params: object;\n  urlSegments: any[];\n  label: string;\n  title: string;\n  data: any;\n\n  protected componentFactory: ComponentFactory<any>;\n\n  @ViewChild(OFormLayoutManagerContentDirective, { static: false }) contentDirective: OFormLayoutManagerContentDirective;\n\n  constructor(\n    public dialogRef: MatDialogRef<OFormLayoutDialogComponent>,\n    protected injector: Injector,\n    protected componentFactoryResolver: ComponentFactoryResolver,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.title) {\n      this.title = data.title;\n    }\n    if (data.data) {\n      this.data = data.data;\n      const component = data.data.component;\n      this.componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n      this.params = data.data.params;\n      this.queryParams = data.data.queryParams;\n      this.urlSegments = data.data.urlSegments;\n    }\n    if (data.layoutManagerComponent) {\n      this.formLayoutManager = data.layoutManagerComponent;\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this.contentDirective && this.componentFactory) {\n      const viewContainerRef = this.contentDirective.viewContainerRef;\n      viewContainerRef.clear();\n      viewContainerRef.createComponent(this.componentFactory);\n    }\n  }\n\n  updateNavigation(data: any, id: string) {\n    let label = this.formLayoutManager.getLabelFromData(data);\n    if (label && label.length) {\n      label = ': ' + label;\n    }\n    this.label = label;\n  }\n\n  updateActiveData(data: any) {\n    this.data = Object.assign(this.data, data);\n  }\n\n  closeDialog() {\n    this.dialogRef.close();\n  }\n\n  getRouteOfActiveItem(): any[] {\n    const parentRoute = this.formLayoutManager.parentFormLayoutManager.getRouteOfActiveItem();\n    const segments = (this.urlSegments || []);\n    const route = [];\n    segments.forEach((segment, index) => {\n      if (parentRoute[index] !== segment.path) {\n        route.push(segment.path);\n      }\n    });\n    return route;\n  }\n\n  getParams(): any {\n    return this.params;\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { OFormLayoutManagerComponent } from '../layouts/form-layout/o-form-layout-manager.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OFormLayoutManagerService {\n  protected registeredFormLayoutManagers = {};\n  protected _activeFormLayoutManager: OFormLayoutManagerComponent;\n\n  constructor(protected injector: Injector) {\n  }\n\n  registerFormLayoutManager(comp: OFormLayoutManagerComponent) {\n    this.registeredFormLayoutManagers[comp.getAttribute()] = comp;\n  }\n\n  removeFormLayoutManager(comp: OFormLayoutManagerComponent) {\n    delete this.registeredFormLayoutManagers[comp.getAttribute()];\n  }\n\n  get activeFormLayoutManager(): OFormLayoutManagerComponent {\n    return this._activeFormLayoutManager;\n  }\n\n  set activeFormLayoutManager(arg: OFormLayoutManagerComponent) {\n    this._activeFormLayoutManager = arg;\n  }\n}\n","import { Component, ViewEncapsulation } from '@angular/core';\nimport { DialogPosition } from '@angular/material';\n\nimport { InputConverter } from '../../../../decorators/input-converter';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_DIALOG_OPTIONS = [\n  'width',\n  'minWidth: min-width',\n  'maxWidth: max-width',\n  'height',\n  'minHeight: min-height',\n  'maxHeight max-height',\n  'class',\n  'position',\n  'backdropClass: backdrop-class',\n  'closeOnNavigation: close-on-navigation',\n  'disableClose:disable-close'\n];\n\n@Component({\n  selector: 'o-form-layout-dialog-options',\n  template: ' ',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_DIALOG_OPTIONS,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-dialog-options]': 'true'\n  }\n})\nexport class OFormLayoutDialogOptionsComponent {\n  // constructor(@Inject(forwardRef(() => OFormLayoutManagerComponent)) protected oFormLayoutManager: OFormLayoutManagerComponent) { }\n  constructor() { }\n  public width: string = '';\n\n  public minWidth: number | string;\n\n  public maxWidth: number | string;\n\n  public height: string = '';\n\n  public minHeight: number | string;\n\n  public maxHeight: number | string;\n\n  public class: string | string[] = '';\n\n  public position: DialogPosition;\n\n  public backdropClass: string;\n\n  @InputConverter()\n  public closeOnNavigation: boolean = true;\n\n  @InputConverter()\n  public disableClose: boolean = true;\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot } from '@angular/router';\n\nimport { PermissionsGuardService } from './permissions/permissions-can-activate.guard';\nimport { PermissionsService } from './permissions/permissions.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShareCanActivateChildService {\n\n  protected router: Router;\n  protected permissionsService: PermissionsService;\n  protected permissionsGuard: PermissionsGuardService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.permissionsService = this.injector.get(PermissionsService);\n  }\n\n  setPermissionsGuard(guard: PermissionsGuardService) {\n    this.permissionsGuard = guard;\n  }\n\n  canActivateChildUsingPermissions(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    if (this.permissionsGuard) {\n      return this.permissionsGuard.canActivateChild(childRoute, state);\n    }\n    return true;\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivateChild, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { OFormLayoutManagerService } from '../../../services/o-form-layout-manager.service';\nimport { ShareCanActivateChildService } from '../../../services/share-can-activate-child.service';\nimport { Util } from '../../../util/util';\nimport { OFormLayoutManagerComponent } from '../o-form-layout-manager.component';\n\n@Injectable()\nexport class CanActivateFormLayoutChildGuard implements CanActivateChild {\n\n  protected oFormLayoutService: OFormLayoutManagerService;\n  protected shareCanActivateChildService: ShareCanActivateChildService;\n\n  constructor(protected injector: Injector) {\n    this.shareCanActivateChildService = this.injector.get(ShareCanActivateChildService);\n    try {\n      this.oFormLayoutService = this.injector.get(OFormLayoutManagerService);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | Observable<boolean> | Promise<boolean> {\n    const formLayoutManager: OFormLayoutManagerComponent = this.oFormLayoutService.activeFormLayoutManager;\n    this.oFormLayoutService.activeFormLayoutManager = undefined;\n    if (formLayoutManager) {\n      const oPermission = childRoute.data ? childRoute.data['oPermission'] : undefined;\n      const permissionId: string = (oPermission || {})['permissionId'];\n      if (Util.isDefined(permissionId)) {\n        const restricted = !this.shareCanActivateChildService.canActivateChildUsingPermissions(childRoute, state);\n        if (restricted) {\n          return false;\n        }\n      }\n      formLayoutManager.addDetailComponent(childRoute, state.url.substring(0, state.url.indexOf('?')));\n      return false;\n    }\n    return true;\n  }\n}\n","import { Component, ContentChild, TemplateRef, ViewEncapsulation } from '@angular/core';\nimport { MatTabHeaderPosition } from '@angular/material';\n\nimport { InputConverter } from '../../../../decorators/input-converter';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP_OPTIONS = [\n  'backgroundColor:background-color',\n  'color',\n  'headerPosition:header-position',\n  'disableAnimation:disable-animation',\n  'icon',\n  'iconPosition:icon-position'\n];\n\n@Component({\n  selector: 'o-form-layout-tabgroup-options',\n  template: ' ',\n  encapsulation: ViewEncapsulation.None,\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP_OPTIONS,\n  host: {\n    '[class.o-form-layout-tabgroup-options]': 'true'\n  }\n})\nexport class OFormLayoutTabGroupOptionsComponent {\n  constructor() { }\n  // constructor(@Inject(forwardRef(() => OFormLayoutManagerComponent)) protected oFormLayoutManager: OFormLayoutManagerComponent) { }\n\n  public backgroundColor;\n  public color;\n\n  @InputConverter()\n  public disableAnimation: boolean;\n\n  public headerPosition: MatTabHeaderPosition;\n\n  @ContentChild(TemplateRef, { static: false })\n  templateMatTabLabel: TemplateRef<any>;\n\n  public icon: string;\n  public iconPosition: 'left' | 'right' = 'left';\n}\n","import {\n  AfterViewInit,\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Injector,\n  OnDestroy,\n  OnInit,\n  Optional,\n  SkipSelf,\n  ViewChild,\n} from '@angular/core';\nimport { MatDialog, MatDialogConfig, MatDialogRef } from '@angular/material';\nimport { ActivatedRoute, ActivatedRouteSnapshot, Route, Router } from '@angular/router';\n\nimport { OServiceComponent } from '../../components/o-service-component.class';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { ILocalStorageComponent } from '../../interfaces/local-storage-component.interface';\nimport { OFormLayoutTabGroup } from '../../interfaces/o-form-layout-tab-group.interface';\nimport { LocalStorageService } from '../../services/local-storage.service';\nimport { NavigationService } from '../../services/navigation.service';\nimport { OFormLayoutManagerService } from '../../services/o-form-layout-manager.service';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport { FormLayoutDetailComponentData } from '../../types/form-layout-detail-component-data.type';\nimport { Util } from '../../util/util';\nimport { OFormLayoutDialogComponent } from './dialog/o-form-layout-dialog.component';\nimport { OFormLayoutDialogOptionsComponent } from './dialog/options/o-form-layout-dialog-options.component';\nimport { CanActivateFormLayoutChildGuard } from './guards/o-form-layout-can-activate-child.guard';\nimport { OFormLayoutTabGroupOptionsComponent } from './tabgroup/options/o-form-layout-tabgroup-options.component';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER = [\n  'oattr: attr',\n  'mode',\n  'labelColumns: label-columns',\n  'separator',\n  'title',\n  'storeState: store-state',\n  // attr of the child form from which the data for building the tab title will be obtained\n  'titleDataOrigin: title-data-origin',\n  'dialogWidth: dialog-width',\n  'dialogMinWidth: dialog-min-width',\n  'dialogMaxWidth: dialog-max-width',\n  'dialogHeight: dialog-height',\n  'dialogMinHeight: dialog-min-height',\n  'dialogMaxHeight dialog-max-height',\n  'dialogClass: dialog-class'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER = [\n  'onMainTabSelected',\n  'onSelectedTabChange',\n  'onCloseTab'\n];\n\n@Component({\n  selector: 'o-form-layout-manager',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER,\n  outputs: DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER,\n  templateUrl: './o-form-layout-manager.component.html',\n  host: {\n    '[class.o-form-layout-manager]': 'true'\n  }\n})\nexport class OFormLayoutManagerComponent implements AfterViewInit, OnInit, OnDestroy, ILocalStorageComponent {\n\n  public static guardClassName = 'CanActivateFormLayoutChildGuard';\n\n  public static DIALOG_MODE = 'dialog';\n  public static TAB_MODE = 'tab';\n\n  public oattr: string;\n  public mode: string;\n  public labelColumns: string;\n  public separator: string = ' ';\n  public title: string;\n  @InputConverter()\n  public storeState: boolean = true;\n  public titleDataOrigin: string;\n  public dialogWidth: string;\n  public dialogMinWidth: string;\n  public dialogMaxWidth: string;\n  public dialogHeight: string;\n  public dialogMinHeight: string;\n  public dialogMaxHeight: string;\n  public dialogClass: string = '';\n\n  @ViewChild('tabGroup', { static: false })\n  public oTabGroup: OFormLayoutTabGroup;\n  public dialogRef: MatDialogRef<OFormLayoutDialogComponent>;\n\n  public onMainTabSelected: EventEmitter<any> = new EventEmitter<any>();\n  public onSelectedTabChange: EventEmitter<any> = new EventEmitter<any>();\n  public onCloseTab: EventEmitter<any> = new EventEmitter<any>();\n\n  protected labelColsArray: string[] = [];\n\n  protected translateService: OTranslateService;\n  protected oFormLayoutManagerService: OFormLayoutManagerService;\n  protected localStorageService: LocalStorageService;\n  protected onRouteChangeStorageSubscription: any;\n\n  @ContentChild(OFormLayoutTabGroupOptionsComponent, { static: false })\n  public tabGroupOptions: OFormLayoutTabGroupOptionsComponent;\n\n  @ContentChild(OFormLayoutDialogOptionsComponent, { static: false })\n  public dialogOptions: OFormLayoutDialogOptionsComponent;\n\n  protected addingGuard: boolean = false;\n\n  public navigationService: NavigationService;\n\n  public markForUpdate: boolean = false;\n  public onTriggerUpdate: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected dialog: MatDialog,\n    protected elRef: ElementRef,\n    @SkipSelf() @Optional()\n    public parentFormLayoutManager: OFormLayoutManagerComponent\n  ) {\n    this.oFormLayoutManagerService = this.injector.get(OFormLayoutManagerService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.navigationService = this.injector.get(NavigationService);\n    if (this.storeState) {\n      this.onRouteChangeStorageSubscription = this.localStorageService.onRouteChange.subscribe(res => {\n        this.updateStateStorage();\n      });\n    }\n  }\n\n  public ngOnInit(): void {\n    const availableModeValues = [OFormLayoutManagerComponent.DIALOG_MODE, OFormLayoutManagerComponent.TAB_MODE];\n    this.mode = (this.mode || '').toLowerCase();\n    if (availableModeValues.indexOf(this.mode) === -1) {\n      this.mode = OFormLayoutManagerComponent.DIALOG_MODE;\n    }\n    this.labelColsArray = Util.parseArray(this.labelColumns);\n    this.addActivateChildGuard();\n    if (!Util.isDefined(this.oattr)) {\n      this.oattr = this.title + this.mode;\n      console.warn('o-form-layout-manager must have an unique attr');\n    }\n    this.oFormLayoutManagerService.registerFormLayoutManager(this);\n  }\n\n  public ngAfterViewInit(): void {\n    setTimeout(() => {\n      if (this.elRef) {\n        this.elRef.nativeElement.removeAttribute('title');\n      }\n      if (this.storeState && this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n        const state = this.localStorageService.getComponentStorage(this);\n        this.oTabGroup.initializeComponentState(state);\n      }\n    });\n  }\n\n  public ngOnDestroy(): void {\n    if (this.onRouteChangeStorageSubscription) {\n      this.onRouteChangeStorageSubscription.unsubscribe();\n    }\n    this.updateStateStorage();\n    this.oFormLayoutManagerService.removeFormLayoutManager(this);\n    this.destroyAactivateChildGuard();\n  }\n\n  public getAttribute(): string {\n    return this.oattr;\n  }\n\n  public getComponentKey(): string {\n    return 'OFormLayoutManagerComponent_' + this.oattr;\n  }\n\n  public getDataToStore(): object {\n    // only storing in tab mode\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getDataToStore();\n    }\n    return {};\n  }\n\n  @HostListener('window:beforeunload', [])\n  public beforeunloadHandler(): void {\n    this.updateStateStorage();\n  }\n\n  public getLabelFromUrlParams(urlParams: object): string {\n    let label = '';\n    const keys = Object.keys(urlParams);\n    keys.forEach((param, i) => {\n      label += urlParams[param] + ((i < keys.length - 1) ? this.separator : '');\n    });\n    return label;\n  }\n\n  public getFormDataFromLabelColumns(data: any) {\n    const formData = {};\n    Object.keys(data).forEach(x => {\n      if (this.labelColsArray.indexOf(x) > -1) {\n        formData[x] = data[x];\n      }\n    });\n    return formData;\n\n  }\n  public addActivateChildGuard(): void {\n    const routeConfig = this.getParentActRouteRoute();\n    if (Util.isDefined(routeConfig)) {\n      const canActivateChildArray = (routeConfig.canActivateChild || []);\n      let previouslyAdded = false;\n      for (let i = 0, len = canActivateChildArray.length; i < len; i++) {\n        previouslyAdded = (canActivateChildArray[i].name === OFormLayoutManagerComponent.guardClassName);\n        if (previouslyAdded) {\n          break;\n        }\n      }\n      if (!previouslyAdded) {\n        this.addingGuard = true;\n        canActivateChildArray.push(CanActivateFormLayoutChildGuard);\n        routeConfig.canActivateChild = canActivateChildArray;\n      }\n    }\n  }\n\n  public destroyAactivateChildGuard(): void {\n    if (!this.addingGuard) {\n      return;\n    }\n    const routeConfig = this.getParentActRouteRoute();\n    if (Util.isDefined(routeConfig)) {\n      for (let i = (routeConfig.canActivateChild || []).length - 1; i >= 0; i--) {\n        if (routeConfig.canActivateChild[i].name === OFormLayoutManagerComponent.guardClassName) {\n          routeConfig.canActivateChild.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n\n  public isDialogMode(): boolean {\n    return this.mode === OFormLayoutManagerComponent.DIALOG_MODE;\n  }\n\n  public isTabMode(): boolean {\n    return this.mode === OFormLayoutManagerComponent.TAB_MODE;\n  }\n\n  public addDetailComponent(childRoute: ActivatedRouteSnapshot, url: string): void {\n    const newDetailComp: FormLayoutDetailComponentData = {\n      params: childRoute.params,\n      queryParams: childRoute.queryParams,\n      urlSegments: childRoute.url,\n      component: childRoute.routeConfig.component,\n      url: url,\n      id: Math.random().toString(36),\n      label: '',\n      modified: false\n    };\n\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.addTab(newDetailComp);\n    } else if (this.isDialogMode()) {\n      this.openFormLayoutDialog(newDetailComp);\n    }\n  }\n\n  public closeDetail(id?: string): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.closeTab(id);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.close();\n      this.reloadMainComponents();\n    }\n  }\n\n  public openFormLayoutDialog(detailComp: FormLayoutDetailComponentData): void {\n    const cssclass = ['o-form-layout-dialog-overlay'];\n    if (this.dialogClass) {\n      cssclass.push(this.dialogClass);\n    }\n    const dialogConfig: MatDialogConfig = {\n      data: {\n        data: detailComp,\n        layoutManagerComponent: this,\n        title: this.title,\n      },\n      width: this.dialogOptions ? this.dialogOptions.width : this.dialogWidth,\n      minWidth: this.dialogOptions ? this.dialogOptions.minWidth : this.dialogMinWidth,\n      maxWidth: this.dialogOptions ? this.dialogOptions.maxWidth : this.dialogMaxWidth,\n      height: this.dialogOptions ? this.dialogOptions.height : this.dialogHeight,\n      minHeight: this.dialogOptions ? this.dialogOptions.minHeight : this.dialogMinHeight,\n      maxHeight: this.dialogOptions ? this.dialogOptions.maxHeight : this.dialogMaxHeight,\n      disableClose: this.dialogOptions ? this.dialogOptions.disableClose : true,\n      panelClass: this.dialogOptions ? this.dialogOptions.class : cssclass\n\n    };\n\n    if (this.dialogOptions) {\n      dialogConfig.closeOnNavigation = this.dialogOptions.closeOnNavigation;\n      dialogConfig.backdropClass = this.dialogOptions.backdropClass;\n      dialogConfig.position = this.dialogOptions.position;\n      dialogConfig.disableClose = this.dialogOptions.disableClose;\n    }\n\n\n    this.dialogRef = this.dialog.open(OFormLayoutDialogComponent, dialogConfig);\n    this.dialogRef.afterClosed().subscribe(() => {\n      this.updateIfNeeded();\n    });\n  }\n\n  public getFormCacheData(formId: string): FormLayoutDetailComponentData {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getFormCacheData(formId);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      return this.dialogRef.componentInstance.data;\n    }\n    return undefined;\n  }\n\n  public getLastTabId(): string {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      return this.oTabGroup.getLastTabId();\n    }\n    return undefined;\n  }\n\n  public setModifiedState(modified: boolean, id: string): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.setModifiedState(modified, id);\n    }\n  }\n\n  public getLabelFromData(data: any): string {\n    let label = '';\n    const isDataDefined = Util.isDefined(data);\n    if (isDataDefined && data.hasOwnProperty('new_tab_title')) {\n      label = this.translateService.get(data.new_tab_title);\n    } else if (isDataDefined && this.labelColsArray.length !== 0) {\n      this.labelColsArray.forEach((col, idx) => {\n        if (data[col] !== undefined) {\n          label += data[col] + ((idx < this.labelColsArray.length - 1) ? this.separator : '');\n        }\n      });\n    }\n    return label;\n  }\n\n  public updateNavigation(data: any, id: string, insertionMode?: boolean): void {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.updateNavigation(data, id, insertionMode);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.componentInstance.updateNavigation(data, id);\n    }\n  }\n\n  public updateActiveData(data: any) {\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      this.oTabGroup.updateActiveData(data);\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      this.dialogRef.componentInstance.updateActiveData(data);\n    }\n  }\n\n  public getRouteOfActiveItem(): any[] {\n    let route = [];\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      route = this.oTabGroup.getRouteOfActiveItem();\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      route = this.dialogRef.componentInstance.getRouteOfActiveItem();\n    }\n    return route;\n  }\n\n  public isMainComponent(comp: OServiceComponent): boolean {\n    let result = false;\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      const firstTab = this.oTabGroup.elementRef.nativeElement.getElementsByTagName('mat-tab-body')[0];\n      if (firstTab) {\n        result = firstTab.contains(comp.elementRef.nativeElement);\n      }\n    } else if (this.isDialogMode()) {\n      result = !comp.oFormLayoutDialog;\n    }\n    return result;\n  }\n\n  public getRouteForComponent(comp: OServiceComponent): any[] {\n    const result = [];\n    if (this.parentFormLayoutManager) {\n      const parentRoute = this.parentFormLayoutManager.getRouteForComponent(comp);\n      if (parentRoute && parentRoute.length > 0) {\n        result.push(...parentRoute);\n      }\n    }\n    if (!this.isMainComponent(comp)) {\n      const activeRoute = this.getRouteOfActiveItem();\n      if (activeRoute && activeRoute.length > 0) {\n        result.push(...activeRoute);\n      }\n    }\n    return result;\n  }\n\n  public setAsActiveFormLayoutManager(): void {\n    this.oFormLayoutManagerService.activeFormLayoutManager = this;\n  }\n\n  public reloadMainComponents(): void {\n    this.onTriggerUpdate.emit();\n  }\n\n  public allowToUpdateNavigation(formAttr: string): boolean {\n    return (this.isTabMode() && Util.isDefined(this.oTabGroup) && Util.isDefined(this.titleDataOrigin)) ?\n      this.titleDataOrigin === formAttr :\n      true;\n  }\n\n  protected updateStateStorage(): void {\n    if (this.localStorageService && this.isTabMode() && Util.isDefined(this.oTabGroup) && this.storeState) {\n      this.localStorageService.updateComponentStorage(this);\n    }\n  }\n\n  private getParentActRouteRoute(): Route {\n    let actRoute = this.actRoute;\n    while (actRoute.parent !== undefined && actRoute.parent !== null) {\n      if (actRoute.routeConfig.children || actRoute.routeConfig.loadChildren) {\n        break;\n      }\n      actRoute = actRoute.parent;\n    }\n    return actRoute.routeConfig;\n  }\n\n  public updateIfNeeded() {\n    if (this.markForUpdate) {\n      this.markForUpdate = false;\n      this.onTriggerUpdate.emit();\n    }\n  }\n\n  public getParams(): any {\n    let data;\n    if (this.isTabMode() && Util.isDefined(this.oTabGroup)) {\n      data = this.oTabGroup.getParams();\n    } else if (this.isDialogMode() && Util.isDefined(this.dialogRef)) {\n      data = this.dialogRef.componentInstance.getParams();\n    }\n    return data;\n  }\n}\n","import { EventEmitter, Injector } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras, Router, UrlSegmentGroup } from '@angular/router';\nimport { combineLatest, Observable, Subscription } from 'rxjs';\n\nimport { OFormLayoutDialogComponent } from '../../../layouts/form-layout/dialog/o-form-layout-dialog.component';\nimport { OFormLayoutManagerComponent } from '../../../layouts/form-layout/o-form-layout-manager.component';\nimport { DialogService } from '../../../services/dialog.service';\nimport { NavigationService, ONavigationItem } from '../../../services/navigation.service';\nimport { FormLayoutDetailComponentData } from '../../../types/form-layout-detail-component-data.type';\nimport { Codes } from '../../../util/codes';\nimport { SQLTypes } from '../../../util/sqltypes';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../o-form.component';\n\nexport class OFormNavigationClass {\n\n  formLayoutManager: OFormLayoutManagerComponent;\n  formLayoutDialog: OFormLayoutDialogComponent;\n  id: string;\n\n  protected dialogService: DialogService;\n  protected navigationService: NavigationService;\n\n  protected qParamSub: Subscription;\n  protected queryParams: any;\n\n  protected urlParamSub: Subscription;\n  protected urlParams: object;\n\n  protected urlSub: Subscription;\n  protected urlSegments: any = [];\n\n  protected combinedNavigationStream: Observable<any>;\n  protected combinedNavigationStreamSubscription: Subscription;\n  protected onUrlParamChangedStream: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  public navigationStream: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  protected onCloseTabSubscription: Subscription;\n  protected cacheStateSubscription: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected form: OFormComponent,\n    protected router: Router,\n    protected actRoute: ActivatedRoute\n  ) {\n    this.dialogService = injector.get(DialogService);\n    this.navigationService = injector.get(NavigationService);\n\n    try {\n      this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    } catch (e) {\n      // No parent formLayoutManager\n    }\n\n    try {\n      this.formLayoutDialog = this.injector.get(OFormLayoutDialogComponent);\n    } catch (e) {\n      // No parent form layout dialog\n    }\n\n    if (this.formLayoutDialog && !this.formLayoutManager) {\n      this.formLayoutManager = this.formLayoutDialog.formLayoutManager;\n    }\n\n    const self = this;\n    this.combinedNavigationStream = combineLatest([self.onUrlParamChangedStream.asObservable()]);\n\n    this.combinedNavigationStream.subscribe(valArr => {\n      if (Util.isArray(valArr) && valArr.length === 1 && valArr[0]) {\n        self.navigationStream.emit(true);\n      }\n    });\n  }\n\n  initialize() {\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode()) {\n      this.id = this.formLayoutManager.getLastTabId();\n    }\n  }\n\n  destroy() {\n    if (this.qParamSub) {\n      this.qParamSub.unsubscribe();\n    }\n    if (this.urlParamSub) {\n      this.urlParamSub.unsubscribe();\n    }\n    if (this.urlSub) {\n      this.urlSub.unsubscribe();\n    }\n    if (this.combinedNavigationStreamSubscription) {\n      this.combinedNavigationStreamSubscription.unsubscribe();\n    }\n  }\n\n  subscribeToQueryParams() {\n    if (this.formLayoutManager) {\n      const cacheData: FormLayoutDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.queryParams = cacheData.queryParams || {};\n        this.parseQueryParams();\n      }\n    } else {\n      const self = this;\n      this.qParamSub = this.actRoute.queryParams.subscribe(params => {\n        if (params) {\n          self.queryParams = params;\n          self.parseQueryParams();\n        }\n      });\n    }\n  }\n\n  private parseQueryParams() {\n    const isDetail = this.queryParams[Codes.IS_DETAIL];\n    // ensuring isdetail = false when using form layout manager\n    this.form.isDetailForm = this.formLayoutManager ? false : (isDetail === 'true');\n  }\n\n  subscribeToUrlParams() {\n    if (this.formLayoutManager) {\n      const cacheData: FormLayoutDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.urlParams = cacheData.params;\n        this.parseUrlParams();\n      }\n    } else {\n      const self = this;\n      this.urlParamSub = this.actRoute.params.subscribe(params => {\n        self.urlParams = params;\n        this.parseUrlParams();\n      });\n    }\n  }\n\n  private parseUrlParams() {\n    if (Util.isDefined(this.urlParams) && Util.isDefined(this.urlParams[Codes.PARENT_KEYS_KEY])) {\n      this.form.formParentKeysValues = Util.decodeParentKeys(this.urlParams[Codes.PARENT_KEYS_KEY]);\n    }\n    // TODO Obtain 'datatype' of each key contained into urlParams for\n    // for building correctly query filter!!!!\n    if (this.urlParams) {\n      this.onUrlParamChangedStream.emit(true);\n    }\n  }\n\n  subscribeToUrl() {\n    if (this.formLayoutManager) {\n      const cacheData: FormLayoutDetailComponentData = this.formLayoutManager.getFormCacheData(this.id);\n      if (Util.isDefined(cacheData)) {\n        this.urlSegments = cacheData.urlSegments;\n      }\n    } else {\n      const self = this;\n      this.urlSub = this.actRoute.url.subscribe(urlSegments => {\n        self.urlSegments = urlSegments;\n      });\n    }\n  }\n\n  subscribeToCacheChanges(onCacheEmptyStateChanges: EventEmitter<boolean>) {\n    this.cacheStateSubscription = onCacheEmptyStateChanges.asObservable().subscribe(res => {\n      this.setModifiedState(!res);\n    });\n  }\n\n  getCurrentKeysValues(): object {\n    let filter = {};\n    if (this.urlParams) {\n      filter = this.getFilterFromObject(this.urlParams);\n    }\n    return filter;\n  }\n\n  private getFilterFromObject(objectParam: any) {\n    const filter = {};\n    if (!objectParam || Object.keys(objectParam).length === 0) {\n      return filter;\n    }\n    if (this.form.keysArray) {\n      this.form.keysArray.forEach((key, index) => {\n        if (objectParam[key]) {\n          filter[key] = SQLTypes.parseUsingSQLType(objectParam[key], this.form.keysSqlTypesArray[index]);\n        }\n      });\n    }\n    Object.keys(this.form._pKeysEquiv).forEach((item, index) => {\n      const urlVal = objectParam[this.form._pKeysEquiv[item]];\n      if (urlVal) {\n        filter[item] = SQLTypes.parseUsingSQLType(urlVal, this.form.keysSqlTypesArray[index]);\n      }\n    });\n    return filter;\n  }\n\n  getFilterFromUrlParams() {\n    const filter = Object.assign({}, this.getUrlParams() || {});\n    const urlParamsKeys = Object.keys(filter || {});\n    if (urlParamsKeys.length > 0) {\n      urlParamsKeys.forEach(key => {\n        if (key === Codes.PARENT_KEYS_KEY) {\n          delete filter[key];\n          Object.assign(filter, this.form.formParentKeysValues);\n        }\n      });\n    }\n    return filter;\n  }\n\n  getUrlSegments() {\n    return this.urlSegments;\n  }\n\n  getQueryParams() {\n    return this.queryParams;\n  }\n\n  setUrlParams(val: object) {\n    this.urlParams = val;\n  }\n\n  getUrlParams() {\n    return this.urlParams;\n  }\n\n  setModifiedState(modified: boolean) {\n    if (this.formLayoutManager) {\n      this.formLayoutManager.setModifiedState(modified, this.id);\n    }\n  }\n\n  updateNavigation() {\n    if (this.formLayoutManager) {\n      const isInInsertMode = this.form.isInInsertMode();\n      let formData;\n      if (isInInsertMode) {\n        formData = {};\n        formData.new_tab_title = 'LAYOUT_MANANGER.INSERTION_MODE_TITLE';\n      } else if (this.formLayoutManager.allowToUpdateNavigation(this.form.oattr)) {\n        formData = {};\n        const self = this;\n        Object.keys(this.form.formData).forEach(key => {\n          formData[key] = self.form.formData[key].value;\n        });\n      }\n      if (formData) {\n        this.formLayoutManager.updateNavigation(formData, this.id, isInInsertMode);\n      }\n    }\n  }\n\n  navigateBack() {\n    if (this.formLayoutManager) {\n      this.formLayoutManager.closeDetail(this.id);\n    } else if (this.navigationService) {\n      this.navigationService.removeLastItem();\n      const navData: ONavigationItem = this.navigationService.getLastItem();\n      if (navData) {\n        const extras = {};\n        extras[Codes.QUERY_PARAMS] = navData.queryParams;\n        this.router.navigate([navData.url], extras);\n      }\n    }\n  }\n\n  closeDetailAction(options?: any) {\n    if (this.formLayoutManager) {\n      this.formLayoutManager.closeDetail(this.id);\n    } else if (this.navigationService) {\n      this.form.beforeCloseDetail.emit();\n      // `removeLastItemsUntilMain` may not remove all necessary items so current route will be checked below\n      if (!this.navigationService.removeLastItemsUntilMain()) {\n        // `removeLastItemsUntilMain` didn't find the main navigation item\n        this.navigationService.removeLastItem();\n      }\n      let navData: ONavigationItem = this.navigationService.getLastItem();\n      if (navData) {\n        // if navData route is the same as the current route, remove last item\n        if (this.navigationService.isCurrentRoute(navData.url)) {\n          this.navigationService.removeLastItem();\n          navData = this.navigationService.getLastItem();\n        }\n        const extras: NavigationExtras = {};\n        extras[Codes.QUERY_PARAMS] = navData.queryParams;\n        this.router.navigate([navData.url], extras).then(val => {\n          if (val && options && options.changeToolbarMode) {\n            this.form.getFormToolbar().setInitialMode();\n          }\n        });\n      }\n    }\n  }\n\n  stayInRecordAfterInsert(insertedKeys: object) {\n    if (this.formLayoutManager) {\n      this.form.setInitialMode();\n      const self = this;\n      const subscription = this.form.onDataLoaded.subscribe(() => {\n        const keys = self.form.getKeysValues();\n        self.formLayoutManager.updateActiveData({ params: keys });\n        const cacheData: FormLayoutDetailComponentData = self.formLayoutManager.getFormCacheData(self.id);\n        if (Util.isDefined(cacheData)) {\n          self.urlParams = cacheData.params;\n        }\n        subscription.unsubscribe();\n      });\n      this.form.queryData(insertedKeys);\n    } else if (this.navigationService && this.form.keysArray && insertedKeys) {\n      // Remove 'new' navigation item from history\n      this.navigationService.removeLastItem();\n\n      let params: any[] = [];\n      this.form.keysArray.forEach((current, index) => {\n        if (insertedKeys[current]) {\n          params.push(insertedKeys[current]);\n        }\n      });\n      let extras: NavigationExtras = {};\n      let qParams: any = Object.assign({}, this.getQueryParams(), Codes.getIsDetailObject());\n      extras[Codes.QUERY_PARAMS] = qParams;\n      let route = [];\n      const navData: ONavigationItem = this.navigationService.getLastMainNavigationRouteData();\n      if (navData) {\n        let url = navData.url;\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n          const detailIndex = url.lastIndexOf('/' + detailRoute);\n          if (detailIndex !== -1) {\n            url = url.substring(0, detailIndex);\n          }\n        }\n        route.unshift(url);\n        route.push(...params);\n        // deleting insertFormRoute as active mode (because stayInRecordAfterInsert changes it)\n        this.navigationService.deleteActiveFormMode(navData);\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../', ...params];\n      }\n      this.router.navigate(route, extras);\n    }\n  }\n\n  /**\n   * Navigates to 'insert' mode\n   */\n  goInsertMode(options?: any) {\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      this.form.setInsertMode();\n    } else if (this.navigationService) {\n      if (this.formLayoutManager && this.formLayoutManager.isTabMode()) {\n        this.formLayoutManager.setAsActiveFormLayoutManager();\n      }\n\n      let route = [];\n      const extras: NavigationExtras = {};\n      const navData: ONavigationItem = this.navigationService.getLastMainNavigationRouteData();\n      if (!this.formLayoutManager && navData) {\n        route.push(navData.url);\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n        }\n        route.push(navData.getInsertFormRoute());\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../' + Codes.DEFAULT_INSERT_ROUTE];\n      }\n      this.storeNavigationFormRoutes('insertFormRoute');\n      this.router.navigate(route, extras).then((val) => {\n        if (val && options && options.changeToolbarMode) {\n          this.form.getFormToolbar().setInsertMode();\n        }\n      });\n    }\n  }\n\n  /**\n   * Navigates to 'edit' mode\n   */\n  goEditMode(options?: any) {\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      this.form.setUpdateMode();\n    } else if (this.navigationService) {\n      let route = [];\n      const extras: NavigationExtras = {};\n      if (this.form.isDetailForm) {\n        extras[Codes.QUERY_PARAMS] = Codes.getIsDetailObject();\n      }\n      extras[Codes.QUERY_PARAMS] = Object.assign({}, this.getQueryParams(), extras[Codes.QUERY_PARAMS] || {});\n\n      const params: any[] = [];\n      const urlParams = this.getUrlParams();\n      this.form.keysArray.forEach(key => {\n        if (urlParams[key]) {\n          params.push(urlParams[key]);\n        }\n      });\n      const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n      if (Util.isDefined(navData)) {\n        route.push(navData.url);\n        const detailRoute = navData.getDetailFormRoute();\n        if (Util.isDefined(detailRoute)) {\n          route.push(detailRoute);\n        }\n        route.push(...params);\n        route.push(navData.getEditFormRoute());\n      } else {\n        extras.relativeTo = this.actRoute;\n        route = ['../', ...params, Codes.DEFAULT_EDIT_ROUTE];\n      }\n      this.storeNavigationFormRoutes('editFormRoute');\n      this.form.beforeGoEditMode.emit();\n      this.router.navigate(route, extras).then((val) => {\n        if (val && options && options.changeToolbarMode) {\n          this.form.getFormToolbar().setEditMode();\n        }\n      });\n    }\n  }\n\n  /**\n   * @deprecated\n   */\n  getNestedLevelsNumber() {\n    let actRoute = this.actRoute;\n    let i = 0;\n    while (actRoute.parent) {\n      actRoute = actRoute.parent;\n      actRoute.url.subscribe((x) => {\n        if (x && x.length) {\n          i++;\n        }\n      });\n    }\n    return i;\n  }\n\n  /**\n   * @deprecated\n   */\n  getFullUrlSegments() {\n    let fullUrlSegments = [];\n    const router = this.router;\n    if (router && router.url && router.url.length) {\n      const root: UrlSegmentGroup = router.parseUrl(router.url).root;\n      if (root && root.hasChildren() && root.children.primary) {\n        fullUrlSegments = root.children.primary.segments;\n      }\n    }\n    return fullUrlSegments;\n  }\n\n  showConfirmDiscardChanges(): Promise<boolean> {\n    let subscription: Promise<boolean>;\n    if (this.form.isInitialStateChanged() && !this.form.isInInsertMode()) {\n      subscription = this.dialogService.confirm('CONFIRM', 'MESSAGES.FORM_CHANGES_WILL_BE_LOST');\n    }\n    if (subscription === undefined) {\n      const observable = new Observable<boolean>(observer => {\n        observer.next(true);\n        observer.complete();\n      });\n      subscription = observable.toPromise();\n    }\n    return subscription;\n  }\n\n  protected storeNavigationFormRoutes(activeMode: string) {\n    const formRoutes = this.navigationService.getPreviousRouteData().formRoutes;\n    this.navigationService.storeFormRoutes({\n      detailFormRoute: formRoutes ? formRoutes.detailFormRoute : Codes.DEFAULT_DETAIL_ROUTE,\n      editFormRoute: formRoutes ? formRoutes.editFormRoute : Codes.DEFAULT_EDIT_ROUTE,\n      insertFormRoute: formRoutes ? formRoutes.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE\n    }, activeMode);\n  }\n\n}\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { ActivatedRoute, Router, UrlSegment } from '@angular/router';\nimport { BehaviorSubject, combineLatest, Observable, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { IComponent } from '../../interfaces/component.interface';\nimport { IFormDataComponent } from '../../interfaces/form-data-component.interface';\nimport { IFormDataTypeComponent } from '../../interfaces/form-data-type-component.interface';\nimport { ServiceResponse } from '../../interfaces/service-response.interface';\nimport { OFormLayoutManagerComponent } from '../../layouts/form-layout/o-form-layout-manager.component';\nimport { DialogService } from '../../services/dialog.service';\nimport { OntimizeServiceProvider } from '../../services/factories';\nimport { NavigationService, ONavigationItem } from '../../services/navigation.service';\nimport { OntimizeService } from '../../services/ontimize/ontimize.service';\nimport { PermissionsService } from '../../services/permissions/permissions.service';\nimport { SnackBarService } from '../../services/snackbar.service';\nimport { FormValueOptions } from '../../types/form-value-options.type';\nimport { OFormInitializationOptions } from '../../types/o-form-initialization-options.type';\nimport { OFormPermissions } from '../../types/o-form-permissions.type';\nimport { OPermissions } from '../../types/o-permissions.type';\nimport { Codes } from '../../util/codes';\nimport { SQLTypes } from '../../util/sqltypes';\nimport { Util } from '../../util/util';\nimport { OFormContainerComponent } from '../form-container/o-form-container.component';\nimport { OFormControl } from '../input/o-form-control.class';\nimport { OFormCacheClass } from './cache/o-form.cache.class';\nimport { CanComponentDeactivate, CanDeactivateFormGuard } from './guards/o-form-can-deactivate.guard';\nimport { OFormNavigationClass } from './navigation/o-form.navigation.class';\nimport { OFormValue } from './OFormValue';\nimport { OFormToolbarComponent } from './toolbar/o-form-toolbar.component';\n\ninterface IFormDataComponentHash {\n  [attr: string]: IFormDataComponent;\n}\n\nexport const DEFAULT_INPUTS_O_FORM = [\n  // show-header [boolean]: visibility of form toolbar. Default: yes.\n  'showHeader: show-header',\n\n  // header-mode [string][ none | floating ]: painting mode of form toolbar. Default: 'floating'\n  'headerMode: header-mode',\n\n  // header-position [ top | bottom ]: position of the form toolbar. Default: 'top'\n  'headerPosition: header-position',\n\n  // label-header [string]: displayable text on form toolbar. Default: ''.\n  'labelheader: label-header',\n\n  // label-header-align [string][start | center | end]: alignment of form toolbar text. Default: 'center'\n  'labelHeaderAlign: label-header-align',\n\n  // header-actions [string]: available action buttons on form toolbar of standard CRUD operations, separated by ';'. Available options are R;I;U;D (Refresh, Insert, Update, Delete). Default: R;I;U;D\n  'headeractions: header-actions',\n\n  // show-header-actions-text [string][yes|no|true|false]: show text of form toolbar buttons. Default yes\n  'showHeaderActionsText: show-header-actions-text',\n\n  // entity [string]: entity of the service. Default: no value.\n  'entity',\n\n  // keys [string]: entity keys, separated by ';'. Default: no value.\n  'keys',\n\n  // columns [string]: columns of the entity, separated by ';'. Default: no value.\n  'columns',\n\n  // service [string]: JEE service path. Default: no value.\n  'service',\n\n  // stay-in-record-after-edit [string][yes|no|true|false]: shows edit form after edit a record. Default: false;\n  'stayInRecordAfterEdit: stay-in-record-after-edit',\n\n  // [string][new | detail]: shows reseted form after insert a new record (new) or shows the inserted record after (detail)\n  'afterInsertMode: after-insert-mode',\n\n  'serviceType : service-type',\n\n  'queryOnInit : query-on-init',\n\n  'parentKeys: parent-keys',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  // insert-method [string]: name of the service method to perform inserts. Default: insert.\n  'insertMethod: insert-method',\n\n  // update-method [string]: name of the service method to perform updates. Default: update.\n  'updateMethod: update-method',\n\n  // delete-method [string]: name of the service method to perform deletions. Default: delete.\n  'deleteMethod: delete-method',\n\n  // layout-direction [string][column|row]: Default: column\n  'layoutDirection: layout-direction',\n\n  // fxLayoutAlign value. Default: 'start start'\n  'layoutAlign: layout-align',\n\n  // editable-detail [string][yes|no|true|false]: Default: true;\n  'editableDetail: editable-detail',\n\n  // keys-sql-types [string]: entity keys types, separated by ';'. Default: no value.\n  'keysSqlTypes: keys-sql-types',\n\n  // undo-button [string][yes|no|true|false]: Include undo button in form-toolbar. Default: true;\n  'undoButton: undo-button',\n\n  // show-header-navigation [string][yes|no|true|false]: Include navigations buttons in form-toolbar. Default: false;\n  'showHeaderNavigation: show-header-navigation',\n\n  // attr\n  'oattr:attr',\n\n  'includeBreadcrumb: include-breadcrumb',\n\n  'detectChangesOnBlur: detect-changes-on-blur',\n\n  'confirmExit: confirm-exit',\n\n  // [function]: function to execute on query error. Default: no value.\n  'queryFallbackFunction: query-fallback-function'\n  // ,\n\n  // 'insertFallbackFunction: insert-fallback-function',\n\n  // 'updateFallbackFunction: update-fallback-function',\n\n  // 'deleteFallbackFunction: delete-fallback-function'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM = [\n  'onDataLoaded',\n  'beforeCloseDetail',\n  'beforeGoEditMode',\n  'onFormModeChange',\n  'onInsert',\n  'onUpdate',\n  'onDelete'\n];\n@Component({\n  selector: 'o-form',\n  providers: [\n    OntimizeServiceProvider\n  ],\n  templateUrl: './o-form.component.html',\n  styleUrls: ['./o-form.component.scss'],\n  inputs: DEFAULT_INPUTS_O_FORM,\n  outputs: DEFAULT_OUTPUTS_O_FORM,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form]': 'true'\n  }\n})\nexport class OFormComponent implements OnInit, OnDestroy, CanComponentDeactivate, AfterViewInit {\n\n  public static DEFAULT_LAYOUT_DIRECTION = 'column';\n  public static guardClassName = 'CanDeactivateFormGuard';\n\n  /* inputs variables */\n  @InputConverter()\n  showHeader: boolean = true;\n  headerMode: string = 'floating';\n  headerPosition: 'top' | 'bottom' = 'top';\n  labelheader: string = '';\n  labelHeaderAlign: string = 'center';\n  headeractions: string = '';\n  showHeaderActionsText: string = 'yes';\n  entity: string;\n  keys: string = '';\n  columns: string = '';\n  service: string;\n  @InputConverter()\n  stayInRecordAfterEdit: boolean = false;\n  afterInsertMode: 'new' | 'detail' = null;\n  serviceType: string;\n  @InputConverter()\n  protected queryOnInit: boolean = true;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected insertMethod: string = Codes.INSERT_METHOD;\n  protected updateMethod: string = Codes.UPDATE_METHOD;\n  protected deleteMethod: string = Codes.DELETE_METHOD;\n  protected _layoutDirection: string = OFormComponent.DEFAULT_LAYOUT_DIRECTION;\n  protected _layoutAlign: string = 'start stretch';\n  @InputConverter()\n  protected editableDetail: boolean = true;\n  protected keysSqlTypes: string;\n  @InputConverter()\n  undoButton: boolean = true;\n  @InputConverter()\n  showHeaderNavigation: boolean = false;\n  public oattr: string = '';\n  @InputConverter()\n  includeBreadcrumb: boolean = false;\n  @InputConverter()\n  detectChangesOnBlur: boolean = true;\n  @InputConverter()\n  confirmExit: boolean = true;\n  public queryFallbackFunction: (error: any) => void;\n  // public insertFallbackFunction: Function;\n  // public updateFallbackFunction: Function;\n  // public deleteFallbackFunction: Function;\n\n  /* end of inputs variables */\n\n  /*parsed inputs variables */\n  isDetailForm: boolean = false;\n  keysArray: string[] = [];\n  colsArray: string[] = [];\n  dataService: any;\n  _pKeysEquiv = {};\n  keysSqlTypesArray: Array<string> = [];\n  /* end of parsed inputs variables */\n\n  formGroup: FormGroup;\n  onDataLoaded: EventEmitter<object> = new EventEmitter<object>();\n  beforeCloseDetail: EventEmitter<any> = new EventEmitter<any>();\n  beforeGoEditMode: EventEmitter<any> = new EventEmitter<any>();\n  onFormModeChange: EventEmitter<number> = new EventEmitter<number>();\n  public onInsert: EventEmitter<any> = new EventEmitter();\n  public onUpdate: EventEmitter<any> = new EventEmitter();\n  public onDelete: EventEmitter<any> = new EventEmitter();\n\n  protected loadingSubject = new BehaviorSubject<boolean>(false);\n  public loading: Observable<boolean> = this.loadingSubject.asObservable();\n  public formData: object = {};\n  public navigationData: Array<any> = [];\n  public currentIndex = 0;\n  public mode: number = OFormComponent.Mode().INITIAL;\n\n  protected dialogService: DialogService;\n  protected navigationService: NavigationService;\n  protected snackBarService: SnackBarService;\n\n  protected _formToolbar: OFormToolbarComponent;\n\n  protected _components: IFormDataComponentHash = {};\n  protected _compSQLTypes: object = {};\n\n  formParentKeysValues: object;\n\n  public onFormInitStream: EventEmitter<boolean> = new EventEmitter<boolean>();\n  protected reloadStream: Observable<any>;\n  protected reloadStreamSubscription: Subscription;\n\n  protected querySubscription: Subscription;\n  protected loaderSubscription: Subscription;\n  protected dynamicFormSubscription: Subscription;\n\n  protected deactivateGuard: CanDeactivateFormGuard;\n  protected formCache: OFormCacheClass;\n  protected formNavigation: OFormNavigationClass;\n\n  public formContainer: OFormContainerComponent;\n\n  protected permissionsService: PermissionsService;\n  protected permissions: OFormPermissions;\n\n  @ViewChild('innerForm', { static: false }) innerFormEl: ElementRef;\n\n  ignoreFormCacheKeys: Array<any> = [];\n  canDiscardChanges: boolean;\n\n  public static Mode(): any {\n    enum m {\n      QUERY,\n      INSERT,\n      UPDATE,\n      INITIAL\n    }\n    return m;\n  }\n\n  constructor(\n    protected router: Router,\n    protected actRoute: ActivatedRoute,\n    protected zone: NgZone,\n    protected cd: ChangeDetectorRef,\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n\n    this.formCache = new OFormCacheClass(this);\n    this.formNavigation = new OFormNavigationClass(this.injector, this, this.router, this.actRoute);\n\n    this.dialogService = injector.get(DialogService);\n    this.navigationService = injector.get(NavigationService);\n    this.snackBarService = injector.get(SnackBarService);\n    this.permissionsService = this.injector.get(PermissionsService);\n\n    const self = this;\n    this.reloadStream = combineLatest([\n      self.onFormInitStream.asObservable(),\n      self.formNavigation.navigationStream.asObservable()\n    ]);\n\n    this.reloadStreamSubscription = this.reloadStream.subscribe(valArr => {\n      if (Util.isArray(valArr) && valArr.length === 2 && !self.isInInsertMode()) {\n        const valArrValues = valArr[0] === true && valArr[1] === true;\n        if (self.queryOnInit && valArrValues) {\n          self._reloadAction(true);\n        } else {\n          self.initializeFields();\n        }\n      }\n    });\n\n    try {\n      this.formContainer = injector.get(OFormContainerComponent);\n      this.formContainer.setForm(this);\n    } catch (e) {\n      //\n    }\n  }\n\n  registerFormComponent(comp: any) {\n    if (comp) {\n      const attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n\n        if (!comp.isAutomaticRegistering()) {\n          return;\n        }\n\n        if (this._components.hasOwnProperty(attr)) {\n          comp.repeatedAttr = true;\n          console.error('There is already a component registered in the form with the attr: ' + attr);\n          return;\n        }\n\n        this._components[attr] = comp;\n        // Setting parent key values...\n        if (this.formParentKeysValues && this.formParentKeysValues[attr] !== undefined) {\n          const val = this.formParentKeysValues[attr];\n          this._components[attr].setValue(val, {\n            emitModelToViewChange: false,\n            emitEvent: false\n          });\n        }\n        /*\n        * TODO. Check it!!!\n        * En un formulario con tabs, cuando se cambia de uno a otro, se destruyen las vistas\n        * de los componentes hijo del formulario.\n        * formDataCache contiene los valores (originales ó editados) de los campos del formulario.\n        * La idea es asignar ese valor al campo cuando se registre de nuevo (Hay que asegurar el proceso\n        * para que sólo sea cuando se registra de nuevo ;) )\n        */\n        const cachedValue = this.formCache.getCachedValue(attr);\n        if (Util.isDefined(cachedValue) && this.getDataValues() && this._components.hasOwnProperty(attr)) {\n          this._components[attr].setValue(cachedValue, {\n            emitModelToViewChange: false,\n            emitEvent: false\n          });\n        }\n      }\n    }\n  }\n\n  registerSQLTypeFormComponent(comp: IFormDataTypeComponent) {\n    if ((comp as any).repeatedAttr) {\n      return;\n    }\n    if (comp) {\n      const type = comp.getSQLType();\n      const attr = comp.getAttribute();\n      if (type !== SQLTypes.OTHER && attr && attr.length > 0 && this.ignoreFormCacheKeys.indexOf(attr) === -1) {\n        // Right now just store values different of 'OTHER'\n        this._compSQLTypes[attr] = type;\n      }\n    }\n  }\n\n  registerFormControlComponent(comp: IFormDataComponent) {\n    if ((comp as any).repeatedAttr) {\n      return;\n    }\n    if (comp) {\n      const attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n        const control: FormControl = comp.getControl();\n        if (control) {\n          this.formGroup.registerControl(attr, control);\n          if (!comp.isAutomaticRegistering()) {\n            this.ignoreFormCacheKeys.push(comp.getAttribute());\n          }\n        }\n      }\n    }\n  }\n\n  unregisterFormComponent(comp: IComponent) {\n    if (comp) {\n      const attr = comp.getAttribute();\n      if (attr && attr.length > 0 && this._components.hasOwnProperty(attr)) {\n        delete this._components[attr];\n      }\n    }\n  }\n\n  unregisterFormControlComponent(comp: IFormDataComponent) {\n    if (comp && comp.isAutomaticRegistering()) {\n      const control: FormControl = comp.getControl();\n      const attr = comp.getAttribute();\n      if (control && attr && attr.length > 0) {\n        this.formGroup.removeControl(attr);\n      }\n    }\n  }\n\n  unregisterSQLTypeFormComponent(comp: IFormDataTypeComponent) {\n    if (comp) {\n      const attr = comp.getAttribute();\n      if (attr && attr.length > 0) {\n        delete this._compSQLTypes[attr];\n      }\n    }\n  }\n\n  registerToolbar(fToolbar: OFormToolbarComponent) {\n    if (fToolbar) {\n      this._formToolbar = fToolbar;\n      this._formToolbar.isDetail = this.isDetailForm;\n    }\n  }\n\n  getComponents(): IFormDataComponentHash {\n    return this._components;\n  }\n\n  public load(): any {\n    const self = this;\n    const zone = this.injector.get(NgZone);\n    const loadObservable = new Observable(observer => {\n      const timer = window.setTimeout(() => {\n        observer.next(true);\n      }, 250);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          self.loadingSubject.next(false);\n        });\n      };\n\n    });\n    const subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  getDataValue(attr: string) {\n    if (this.isInInsertMode()) {\n      const urlParams = this.formNavigation.getFilterFromUrlParams();\n      const val = this.formGroup.value[attr] || urlParams[attr];\n      return new OFormValue(val);\n    } else if (this.isInInitialMode() && !this.isEditableDetail()) {\n      const data = this.formData;\n      if (data && data.hasOwnProperty(attr)) {\n        return data[attr];\n      }\n    } else if (this.isInUpdateMode() || this.isEditableDetail()) {\n      if (this.formData && Object.keys(this.formData).length > 0) {\n        const val = this.formCache.getCachedValue(attr);\n        if (this.formGroup.dirty && val) {\n          if (val instanceof OFormValue) {\n            return val;\n          }\n          return new OFormValue(val);\n        } else {\n          // Return original value stored into form data...\n          const data = this.formData;\n          if (data && data.hasOwnProperty(attr)) {\n            return data[attr];\n          }\n        }\n      }\n    }\n    return new OFormValue();\n  }\n\n  getDataValues() {\n    return this.formData;\n  }\n\n  clearData() {\n    const filter = this.formNavigation.getFilterFromUrlParams();\n    this.formGroup.reset({}, {\n      emitEvent: false\n    });\n    this._setData(filter);\n  }\n\n  canDeactivate(): Observable<boolean> | Promise<boolean> | boolean {\n    if (!this.confirmExit) {\n      return true;\n    }\n    const canDiscardChanges = this.canDiscardChanges;\n    this.canDiscardChanges = false;\n    return canDiscardChanges || this.showConfirmDiscardChanges();\n  }\n\n  showConfirmDiscardChanges(): Promise<boolean> {\n    return this.formNavigation.showConfirmDiscardChanges();\n  }\n\n  executeToolbarAction(action: string, options?: any) {\n    switch (action) {\n      case Codes.BACK_ACTION: this._backAction(); break;\n      case Codes.CLOSE_DETAIL_ACTION: this._closeDetailAction(options); break;\n      case Codes.RELOAD_ACTION: this._reloadAction(true); break;\n      case Codes.GO_INSERT_ACTION: this._goInsertMode(options); break;\n      case Codes.INSERT_ACTION: this._insertAction(); break;\n      case Codes.GO_EDIT_ACTION: this._goEditMode(options); break;\n      case Codes.EDIT_ACTION: this._editAction(); break;\n      case Codes.UNDO_LAST_CHANGE_ACTION: this._undoLastChangeAction(); break;\n      case Codes.DELETE_ACTION: return this._deleteAction();\n      default: break;\n    }\n    return undefined;\n  }\n\n  ngOnInit(): void {\n    this.addDeactivateGuard();\n\n    this.formGroup = new FormGroup({});\n\n    this.formNavigation.initialize();\n\n    this.initialize();\n  }\n\n  addDeactivateGuard() {\n    if (this.isInInitialMode() && !this.isEditableDetail()) {\n      return;\n    }\n    if (!this.actRoute || !this.actRoute.routeConfig) {\n      return;\n    }\n    this.deactivateGuard = this.injector.get(CanDeactivateFormGuard);\n    this.deactivateGuard.setForm(this);\n    const canDeactivateArray = (this.actRoute.routeConfig.canDeactivate || []);\n    let previouslyAdded = false;\n    for (let i = 0, len = canDeactivateArray.length; i < len; i++) {\n      previouslyAdded = ((canDeactivateArray[i].hasOwnProperty('CLASSNAME') && canDeactivateArray[i].CLASSNAME) === OFormComponent.guardClassName);\n      if (previouslyAdded) {\n        break;\n      }\n    }\n    if (!previouslyAdded) {\n      canDeactivateArray.push(this.deactivateGuard.constructor);\n      this.actRoute.routeConfig.canDeactivate = canDeactivateArray;\n    }\n  }\n\n  destroyDeactivateGuard() {\n    try {\n      if (!this.deactivateGuard || !this.actRoute || !this.actRoute.routeConfig || !this.actRoute.routeConfig.canDeactivate) {\n        return;\n      }\n      this.deactivateGuard.setForm(undefined);\n      for (let i = this.actRoute.routeConfig.canDeactivate.length - 1; i >= 0; i--) {\n        if (this.actRoute.routeConfig.canDeactivate[i].name === OFormComponent.guardClassName) {\n          this.actRoute.routeConfig.canDeactivate.splice(i, 1);\n          break;\n        }\n      }\n      if (this.actRoute.routeConfig.canDeactivate.length === 0) {\n        delete this.actRoute.routeConfig.canDeactivate;\n      }\n    } catch (e) {\n      //\n    }\n  }\n\n  hasDeactivateGuard() {\n    return Util.isDefined(this.deactivateGuard);\n  }\n\n  /**\n   * Angular methods\n   */\n\n  initialize() {\n    const self = this;\n    if (this.headeractions === 'all') {\n      this.headeractions = 'R;I;U;D';\n    }\n    this.keysArray = Util.parseArray(this.keys, true);\n    this.colsArray = Util.parseArray(this.columns, true);\n    const pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n    this.keysSqlTypesArray = Util.parseArray(this.keysSqlTypes);\n\n    this.configureService();\n\n    this.formNavigation.subscribeToQueryParams();\n    this.formNavigation.subscribeToUrlParams();\n    this.formNavigation.subscribeToUrl();\n    this.formNavigation.subscribeToCacheChanges(this.formCache.onCacheEmptyStateChanges);\n\n    if (this.navigationService) {\n      this.navigationService.onVisibleChange(visible => {\n        self.showHeader = visible;\n      });\n    }\n\n    this.mode = OFormComponent.Mode().INITIAL;\n\n    this.permissions = this.permissionsService.getFormPermissions(this.oattr, this.actRoute);\n\n    if (typeof this.queryFallbackFunction !== 'function') {\n      this.queryFallbackFunction = undefined;\n    }\n    // if (typeof this.insertFallbackFunction !== 'function') {\n    //   this.insertFallbackFunction = undefined;\n    // }\n    // if (typeof this.updateFallbackFunction !== 'function') {\n    //   this.updateFallbackFunction = undefined;\n    // }\n    // if (typeof this.deleteFallbackFunction !== 'function') {\n    //   this.deleteFallbackFunction = undefined;\n    // }\n  }\n\n  reinitialize(options: OFormInitializationOptions) {\n    if (options && Object.keys(options).length) {\n      const clonedOpts = Object.assign({}, options);\n      for (const prop in clonedOpts) {\n        if (clonedOpts.hasOwnProperty(prop)) {\n          this[prop] = clonedOpts[prop];\n        }\n      }\n      this.destroy();\n      this.initialize();\n    }\n  }\n\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  destroy() {\n    if (this.reloadStreamSubscription) {\n      this.reloadStreamSubscription.unsubscribe();\n    }\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.formCache.destroy();\n    this.formNavigation.destroy();\n    this.destroyDeactivateGuard();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.determinateFormMode();\n      this.onFormInitStream.emit(true);\n    }, 0);\n  }\n\n  /*\n   * Inner methods\n   */\n\n  _setComponentsEditable(state: boolean) {\n    const components: any = this.getComponents();\n    Object.keys(components).forEach(compKey => {\n      const component = components[compKey];\n      component.isReadOnly = !state;\n    });\n  }\n\n  /**\n   * Sets form operation mode.\n   * @param mode The mode to be established\n   */\n  setFormMode(mode: number) {\n    switch (mode) {\n      case OFormComponent.Mode().INITIAL:\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setInitialMode();\n        }\n        this._setComponentsEditable(this.isEditableDetail());\n        this.onFormModeChange.emit(this.mode);\n        break;\n      case OFormComponent.Mode().INSERT:\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setInsertMode();\n        }\n        this.clearData();\n        this._setComponentsEditable(true);\n        this.onFormModeChange.emit(this.mode);\n        break;\n      case OFormComponent.Mode().UPDATE:\n        this.mode = mode;\n        if (this._formToolbar) {\n          this._formToolbar.setEditMode();\n        }\n        this._setComponentsEditable(true);\n        this.onFormModeChange.emit(this.mode);\n        break;\n      default:\n        break;\n    }\n  }\n\n  _setData(data) {\n    if (Util.isArray(data)) {\n      if (data.length > 1) {\n        console.warn('[OFormComponent] Form data has more than a single record. Storing empty data');\n      }\n      const currentData = data.length === 1 ? data[0] : {};\n      this._updateFormData(this.toFormValueData(currentData));\n      this._emitData(currentData);\n    } else if (Util.isObject(data)) {\n      this._updateFormData(this.toFormValueData(data));\n      this._emitData(data);\n    } else {\n      console.warn('Form has received not supported service data. Supported data are Array or Object');\n      this._updateFormData({});\n    }\n  }\n\n  _emitData(data) {\n    this.onDataLoaded.emit(data);\n  }\n\n  _backAction() {\n    this.formNavigation.navigateBack();\n  }\n\n  _closeDetailAction(options?: any) {\n    this.formNavigation.closeDetailAction(options);\n  }\n\n  _stayInRecordAfterInsert(insertedKeys: object) {\n    this.formNavigation.stayInRecordAfterInsert(insertedKeys);\n  }\n\n  _reloadAction(useFilter: boolean = false) {\n    let filter = {};\n    if (useFilter) {\n      filter = this.getCurrentKeysValues();\n    }\n    this.queryData(filter);\n  }\n\n  /**\n   * Navigates to 'insert' mode\n   */\n  _goInsertMode(options?: any) {\n    this.formNavigation.goInsertMode(options);\n  }\n\n  _clearFormAfterInsert() {\n    this.clearData();\n    this._setComponentsEditable(true);\n  }\n\n  /**\n   * Performs insert action.\n   */\n  _insertAction() {\n    Object.keys(this.formGroup.controls).forEach((control) => {\n      this.formGroup.controls[control].markAsTouched();\n    });\n\n    if (!this.formGroup.valid) {\n      this.dialogService.alert('ERROR', 'MESSAGES.FORM_VALIDATION_ERROR');\n      return;\n    }\n\n    const self = this;\n    const values = this.getAttributesValuesToInsert();\n    const sqlTypes = this.getAttributesSQLTypes();\n    this.insertData(values, sqlTypes).subscribe(resp => {\n      self.postCorrectInsert(resp);\n      self.formCache.setCacheSnapshot();\n      self.markFormLayoutManagerToUpdate();\n      if (self.afterInsertMode === 'detail') {\n        self._stayInRecordAfterInsert(resp);\n      } else if (self.afterInsertMode === 'new') {\n        this._clearFormAfterInsert();\n      } else {\n        self._closeDetailAction();\n      }\n    }, error => {\n      self.postIncorrectInsert(error);\n    });\n  }\n\n  /**\n   * Navigates to 'edit' mode\n   */\n  _goEditMode(options?: any) {\n    this.formNavigation.goEditMode();\n  }\n\n  /**\n   * Performs 'edit' action\n   */\n  _editAction() {\n    Object.keys(this.formGroup.controls).forEach(\n      (control) => {\n        this.formGroup.controls[control].markAsTouched();\n      }\n    );\n\n    if (!this.formGroup.valid) {\n      this.dialogService.alert('ERROR', 'MESSAGES.FORM_VALIDATION_ERROR');\n      return;\n    }\n\n    // retrieving keys...\n    const self = this;\n    const filter = this.getKeysValues();\n\n    // retrieving values to update...\n    const values = this.getAttributesValuesToUpdate();\n    const sqlTypes = this.getAttributesSQLTypes();\n\n    if (Object.keys(values).length === 0) {\n      // Nothing to update\n      this.dialogService.alert('INFO', 'MESSAGES.FORM_NOTHING_TO_UPDATE_INFO');\n      return;\n    }\n\n    // invoke update method...\n    this.updateData(filter, values, sqlTypes).subscribe(resp => {\n      self.postCorrectUpdate(resp);\n      self.formCache.setCacheSnapshot();\n      self.markFormLayoutManagerToUpdate();\n      if (self.stayInRecordAfterEdit) {\n        self._reloadAction(true);\n      } else {\n        self._closeDetailAction();\n      }\n    }, error => {\n      self.postIncorrectUpdate(error);\n    });\n  }\n\n  /**\n   * Performs 'delete' action\n   */\n  _deleteAction() {\n    const filter = this.getKeysValues();\n    return this.deleteData(filter);\n  }\n\n  /*\n  Utility methods\n  */\n\n  queryData(filter) {\n    if (!Util.isDefined(this.dataService)) {\n      console.warn('OFormComponent: no service configured! aborting query');\n      return;\n    }\n    if (!Util.isDefined(filter) || Object.keys(filter).length === 0) {\n      console.warn('OFormComponent: no filter configured! aborting query');\n      return;\n    }\n    this.formCache.restartCache();\n    this.clearComponentsOldValue();\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const av = this.getAttributesToQuery();\n    const sqlTypes = this.getAttributesSQLTypes();\n    this.querySubscription = this.dataService[this.queryMethod](filter, av, this.entity, sqlTypes)\n      .subscribe((resp: ServiceResponse) => {\n        if (resp.isSuccessful()) {\n          this._setData(resp.data);\n        } else {\n          this._updateFormData({});\n          this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n          console.error('ERROR: ' + resp.message);\n        }\n        this.loaderSubscription.unsubscribe();\n      }, err => {\n        console.error(err);\n        this._updateFormData({});\n        if (Util.isDefined(this.queryFallbackFunction)) {\n          this.queryFallbackFunction(err);\n        } else if (err && err.statusText) {\n          this.dialogService.alert('ERROR', err.statusText);\n        } else {\n          this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n        }\n        this.loaderSubscription.unsubscribe();\n      });\n  }\n\n  getAttributesToQuery(): Array<any> {\n    let attributes: Array<any> = [];\n    // add form keys...\n    if (this.keysArray && this.keysArray.length > 0) {\n      attributes.push(...this.keysArray);\n    }\n    const components: any = this.getComponents();\n    // add only the fields contained into the form...\n    Object.keys(components).forEach(item => {\n      if (attributes.indexOf(item) < 0 &&\n        components[item].isAutomaticRegistering() && components[item].isAutomaticBinding()) {\n        attributes.push(item);\n      }\n    });\n\n    // add fields stored into form cache...\n    const dataCache = this.formCache.getDataCache();\n    if (dataCache) {\n      Object.keys(dataCache).forEach(item => {\n        if (item !== undefined && attributes.indexOf(item) === -1) {\n          attributes.push(item);\n        }\n      });\n    }\n    attributes = attributes.concat(this.colsArray.filter(col => attributes.indexOf(col) < 0));\n    return attributes;\n  }\n\n  insertData(values, sqlTypes?: object): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    const observable = new Observable(observer => {\n      this.dataService[this.insertMethod](values, this.entity, sqlTypes).subscribe(\n        resp => {\n          if (resp.isSuccessful()) {\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  getAttributesValuesToInsert(): object {\n    const attrValues = {};\n    if (this.formParentKeysValues) {\n      Object.assign(attrValues, this.formParentKeysValues);\n    }\n    return Object.assign(attrValues, this.getRegisteredFieldsValues());\n  }\n\n  /**\n   * Returns an object with the sql types from the form components and the form keys\n   */\n  public getAttributesSQLTypes(): object {\n    const types: object = {};\n    // Add form keys sql types\n    this.keysSqlTypesArray.forEach((kst, i) => types[this.keysArray[i]] = SQLTypes.getSQLTypeValue(kst));\n    // Add form components sql types\n    if (this._compSQLTypes && Object.keys(this._compSQLTypes).length > 0) {\n      Object.assign(types, this._compSQLTypes);\n    }\n    return types;\n  }\n\n  updateData(filter, values, sqlTypes?: object): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    const observable = new Observable(observer => {\n      this.dataService[this.updateMethod](filter, values, this.entity, sqlTypes).subscribe(\n        resp => {\n          if (resp.isSuccessful()) {\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  getAttributesValuesToUpdate(): object {\n    const values = {};\n    const self = this;\n    const changedAttrs = this.formCache.getChangedFormControlsAttr();\n    Object.keys(this.formGroup.controls).filter(controlName =>\n      self.ignoreFormCacheKeys.indexOf(controlName) === -1 &&\n      changedAttrs.indexOf(controlName) !== -1\n    ).forEach((item) => {\n      const control = self.formGroup.controls[item];\n      if (control instanceof OFormControl) {\n        values[item] = control.getValue();\n      } else {\n        values[item] = control.value;\n      }\n      if (values[item] === undefined) {\n        values[item] = null;\n      }\n    });\n    return values;\n  }\n\n  deleteData(filter): Observable<any> {\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    this.loaderSubscription = this.load();\n    const self = this;\n    const observable = new Observable(observer => {\n      this.canDiscardChanges = true;\n      this.dataService[this.deleteMethod](filter, this.entity).subscribe(\n        resp => {\n          if (resp.isSuccessful()) {\n            self.formCache.setCacheSnapshot();\n            self.markFormLayoutManagerToUpdate();\n            self.postCorrectDelete(resp);\n            observer.next(resp.data);\n            observer.complete();\n          } else {\n            self.postIncorrectDelete(resp);\n            observer.error(resp.message);\n          }\n          self.loaderSubscription.unsubscribe();\n        },\n        err => {\n          self.postIncorrectDelete(err);\n          observer.error(err);\n          self.loaderSubscription.unsubscribe();\n        });\n    });\n    return observable;\n  }\n\n  toJSONData(data) {\n    if (!data) {\n      data = {};\n    }\n    const valueData = {};\n    Object.keys(data).forEach((item) => {\n      valueData[item] = data[item].value;\n    });\n    return valueData;\n  }\n\n  toFormValueData(data) {\n    if (data && Util.isArray(data)) {\n      const valueData: Array<object> = [];\n      const self = this;\n      data.forEach(item => {\n        valueData.push(self.objectToFormValueData(item));\n      });\n      return valueData;\n    } else if (data && Util.isObject(data)) {\n      return this.objectToFormValueData(data);\n    }\n    return undefined;\n  }\n\n  getKeysValues() {\n    const filter = {};\n    const currentRecord = this.formData;\n    if (!this.keysArray) {\n      return filter;\n    }\n    this.keysArray.forEach(key => {\n      if (currentRecord[key] !== undefined) {\n        let currentData = currentRecord[key];\n        if (currentData instanceof OFormValue) {\n          currentData = currentData.value;\n        }\n        filter[key] = currentData;\n      }\n    });\n    return filter;\n  }\n\n  isInQueryMode(): boolean {\n    return this.mode === OFormComponent.Mode().QUERY;\n  }\n\n  isInInsertMode(): boolean {\n    return this.mode === OFormComponent.Mode().INSERT;\n  }\n\n  isInUpdateMode(): boolean {\n    return this.mode === OFormComponent.Mode().UPDATE;\n  }\n\n  isInInitialMode(): boolean {\n    return this.mode === OFormComponent.Mode().INITIAL;\n  }\n\n  setQueryMode() {\n    this.setFormMode(OFormComponent.Mode().QUERY);\n  }\n\n  setInsertMode() {\n    this.setFormMode(OFormComponent.Mode().INSERT);\n  }\n\n  setUpdateMode() {\n    this.setFormMode(OFormComponent.Mode().UPDATE);\n  }\n\n  setInitialMode() {\n    this.setFormMode(OFormComponent.Mode().INITIAL);\n  }\n\n  registerDynamicFormComponent(dynamicForm) {\n    if (!Util.isDefined(dynamicForm)) {\n      return;\n    }\n    const self = this;\n    this.dynamicFormSubscription = dynamicForm.render.subscribe(res => {\n      if (res) {\n        self.refreshComponentsEditableState();\n        if (!self.isInInsertMode() && self.queryOnInit) {\n          self._reloadAction(true);\n        }\n        if (self.formParentKeysValues) {\n          Object.keys(self.formParentKeysValues).forEach(parentKey => {\n            const value = self.formParentKeysValues[parentKey];\n            const comp = self.getFieldReference(parentKey);\n            if (Util.isFormDataComponent(comp) && comp.isAutomaticBinding()) {\n              comp.setValue(value, {\n                emitModelToViewChange: false,\n                emitEvent: false\n              });\n            }\n          });\n        }\n      }\n    });\n  }\n\n  unregisterDynamicFormComponent(dynamicForm) {\n    if (dynamicForm && this.dynamicFormSubscription) {\n      this.dynamicFormSubscription.unsubscribe();\n    }\n  }\n\n  getRequiredComponents(): object {\n    const requiredCompontents: object = {};\n    const components = this.getComponents();\n    if (components) {\n      Object.keys(components).forEach(key => {\n        const comp = components[key];\n        const attr = comp.getAttribute();\n        if ((comp as any).isRequired && attr && attr.length > 0) {\n          requiredCompontents[attr] = comp;\n        }\n      });\n    }\n    return requiredCompontents;\n  }\n\n  get layoutDirection(): string {\n    return this._layoutDirection;\n  }\n\n  set layoutDirection(val: string) {\n    const parsedVal = (val || '').toLowerCase();\n    this._layoutDirection = ['row', 'column', 'row-reverse', 'column-reverse'].indexOf(parsedVal) !== -1 ? parsedVal : OFormComponent.DEFAULT_LAYOUT_DIRECTION;\n  }\n\n  get layoutAlign(): string {\n    return this._layoutAlign;\n  }\n\n  set layoutAlign(val: string) {\n    this._layoutAlign = val;\n  }\n\n  get showFloatingToolbar(): boolean {\n    return this.showHeader && this.headerMode === 'floating';\n  }\n\n  get showNotFloatingToolbar(): boolean {\n    return this.showHeader && this.headerMode !== 'floating';\n  }\n\n  isEditableDetail() {\n    return this.editableDetail;\n  }\n\n  isInitialStateChanged(): boolean {\n    return this.formCache.isInitialStateChanged();\n  }\n\n  _undoLastChangeAction() {\n    this.formCache.undoLastChange();\n  }\n\n  get isCacheStackEmpty(): boolean {\n    return this.formCache.isCacheStackEmpty;\n  }\n\n  undoKeyboardPressed() {\n    this.formCache.undoLastChange({\n      keyboardEvent: true\n    });\n  }\n\n  getFormToolbar(): OFormToolbarComponent {\n    return this._formToolbar;\n  }\n\n  getFormManager(): OFormLayoutManagerComponent {\n    return this.formNavigation.formLayoutManager;\n  }\n\n  getFormNavigation(): OFormNavigationClass {\n    return this.formNavigation;\n  }\n\n  getFormCache(): OFormCacheClass {\n    return this.formCache;\n  }\n\n  getUrlParam(arg: string) {\n    return this.getFormNavigation().getUrlParams()[arg];\n  }\n\n  getUrlParams() {\n    return this.getFormNavigation().getUrlParams();\n  }\n\n  setUrlParamsAndReload(val: object) {\n    this.formNavigation.setUrlParams(val);\n    this._reloadAction(true);\n  }\n\n  getRegisteredFieldsValues() {\n    const values = {};\n    const components: IFormDataComponentHash = this.getComponents();\n    const self = this;\n    const componentsKeys = Object.keys(components).filter(key => self.ignoreFormCacheKeys.indexOf(key) === -1);\n    componentsKeys.forEach(compKey => {\n      const comp: IFormDataComponent = components[compKey];\n      values[compKey] = comp.getValue();\n    });\n    return values;\n  }\n\n  /**\n   * Return the current value of the control in the form\n   * @param attr\n   */\n  getFieldValue(attr: string): any {\n    let value = null;\n    const comp = this.getFieldReference(attr);\n    if (comp) {\n      value = comp.getValue();\n    }\n    return value;\n  }\n\n  /**\n   * Return an object with the values of each attribute\n   * @param attrs\n   */\n  getFieldValues(attrs: string[]): any {\n    const self = this;\n    const arr = {};\n    attrs.forEach((key) => {\n      arr[key] = self.getFieldValue(key);\n    });\n    return arr;\n\n  }\n\n  /**\n   * Sets the value of the control in the form.\n   * @param attr attribute of control\n   * @param value value\n   */\n  setFieldValue(attr: string, value: any, options?: FormValueOptions) {\n    const comp = this.getFieldReference(attr);\n    if (comp) {\n      comp.setValue(value, options);\n    }\n  }\n\n  /**\n   * Sets the value of each control in the form.\n   * @param values\n   */\n  setFieldValues(values: any, options?: FormValueOptions) {\n    for (const key in values) {\n      if (values.hasOwnProperty(key)) {\n        this.setFieldValue(key, values[key], options);\n      }\n    }\n  }\n\n  /**\n   * Clear the value of each control in the form\n   * @param attr\n   */\n  clearFieldValue(attr: string, options?: FormValueOptions) {\n    const comp = this.getFieldReference(attr);\n    if (comp) {\n      comp.clearValue(options);\n    }\n  }\n\n  /**\n   * Reset the value of each control in the form\n   * @param attrs\n   */\n  clearFieldValues(attrs: string[], options?: FormValueOptions) {\n    const self = this;\n    attrs.forEach((key) => {\n      self.clearFieldValue(key, options);\n    });\n  }\n\n  /**\n   * Retrieves the reference of the control in the form.\n   * @param attr\n   */\n  getFieldReference(attr: string): IFormDataComponent {\n    return this._components[attr];\n  }\n  /**\n   * Retrieves the reference of each control in the form\n   * @param attrs\n   */\n  getFieldReferences(attrs: string[]): IFormDataComponentHash {\n    const arr: IFormDataComponentHash = {};\n    const self = this;\n    attrs.forEach((key, index) => {\n      arr[key] = self.getFieldReference(key);\n    });\n    return arr;\n  }\n\n  getFormComponentPermissions(attr: string): OPermissions {\n    let permissions: OPermissions;\n    if (Util.isDefined(this.permissions)) {\n      permissions = (this.permissions.components || []).find(comp => comp.attr === attr);\n    }\n    return permissions;\n  }\n\n  getActionsPermissions(): OPermissions[] {\n    let permissions: OPermissions[];\n    if (Util.isDefined(this.permissions)) {\n      permissions = (this.permissions.actions || []);\n    }\n    return permissions;\n  }\n\n  protected determinateFormMode(): void {\n    const urlSegments = this.formNavigation.getUrlSegments();\n    if (urlSegments.length > 0) {\n      const segment = urlSegments[urlSegments.length - 1];\n      this.determinateModeFromUrlSegment(segment);\n    } else if (this.actRoute.parent) {\n      this.actRoute.parent.url.subscribe(segments => {\n        const segment = segments[segments.length - 1];\n        this.determinateModeFromUrlSegment(segment);\n      });\n    } else {\n      this.setFormMode(OFormComponent.Mode().INITIAL);\n    }\n    // stayInRecordAfterEdit is true if form has editable detail = true\n    this.stayInRecordAfterEdit = this.stayInRecordAfterEdit || this.isEditableDetail();\n  }\n\n  protected determinateModeFromUrlSegment(segment: UrlSegment): void {\n    const _path = segment ? segment.path : '';\n    if (this.isInsertModePath(_path)) {\n      this.setInsertMode();\n      return;\n    } else if (this.isUpdateModePath(_path)) {\n      this.setUpdateMode();\n    } else {\n      this.setInitialMode();\n    }\n  }\n\n  protected _updateFormData(newFormData: object): void {\n    const self = this;\n    this.zone.run(() => {\n      this.formData = newFormData;\n      const components = this.getComponents();\n      if (components) {\n        Object.keys(components).forEach(key => {\n          const comp = components[key];\n          if (Util.isFormDataComponent(comp)) {\n            try {\n              if (comp.isAutomaticBinding()) {\n                comp.data = self.getDataValue(key);\n              }\n            } catch (error) {\n              console.error(error);\n            }\n          }\n        });\n        self.initializeFields();\n      }\n    });\n  }\n\n  protected initializeFields(): void {\n    Object.keys(this.formGroup.controls).forEach(control => {\n      this.formGroup.controls[control].markAsPristine();\n    });\n    this.formCache.registerCache();\n    this.formNavigation.updateNavigation();\n  }\n\n  protected clearComponentsOldValue(): void {\n    const components: IFormDataComponentHash = this.getComponents();\n    const self = this;\n    const componentsKeys = Object.keys(components).filter(key => self.ignoreFormCacheKeys.indexOf(key) === -1);\n    componentsKeys.forEach(compKey => {\n      const comp: IFormDataComponent = components[compKey];\n      (comp as any).oldValue = undefined;\n      comp.getFormControl().setValue(undefined);\n    });\n  }\n\n  protected postCorrectInsert(result: any): void {\n    this.snackBarService.open('MESSAGES.INSERTED', { icon: 'check_circle' });\n    this.onInsert.emit(result);\n  }\n\n  protected postIncorrectInsert(result: any): void {\n    this.showError('insert', result);\n  }\n\n  protected postIncorrectDelete(result: any): void {\n    this.showError('delete', result);\n  }\n\n  protected postIncorrectUpdate(result: any): void {\n    this.showError('update', result);\n  }\n\n  protected postCorrectUpdate(result: any): void {\n    this.snackBarService.open('MESSAGES.SAVED', { icon: 'check_circle' });\n    this.onUpdate.emit(result);\n  }\n\n  protected postCorrectDelete(result: any): void {\n    this.snackBarService.open('MESSAGES.DELETED', { icon: 'check_circle' });\n    this.onDelete.emit(result);\n  }\n\n  protected markFormLayoutManagerToUpdate(): void {\n    const formLayoutManager = this.getFormManager();\n    if (Util.isDefined(formLayoutManager)) {\n      formLayoutManager.markForUpdate = true;\n    }\n  }\n\n  protected objectToFormValueData(data: object = {}): object {\n    const valueData = {};\n    Object.keys(data).forEach((item) => {\n      valueData[item] = new OFormValue(data[item]);\n    });\n    return valueData;\n  }\n\n  protected getCurrentKeysValues(): object {\n    return this.formNavigation.getCurrentKeysValues();\n  }\n\n  protected refreshComponentsEditableState(): void {\n    switch (this.mode) {\n      case OFormComponent.Mode().INITIAL:\n        this._setComponentsEditable(this.isEditableDetail());\n        break;\n      case OFormComponent.Mode().INSERT:\n      case OFormComponent.Mode().UPDATE:\n        this._setComponentsEditable(true);\n        break;\n      default:\n        break;\n    }\n  }\n\n  protected isInsertModePath(path: string): boolean {\n    const navData: ONavigationItem = this.navigationService.getLastItem();\n    return Util.isDefined(navData) && path === navData.getInsertFormRoute();\n  }\n\n  protected isUpdateModePath(path: string): boolean {\n    const navData: ONavigationItem = this.navigationService.getPreviousRouteData();\n    return Util.isDefined(navData) && path === navData.getEditFormRoute();\n  }\n\n  private showError(operation: string, result: any): void {\n    if (result && typeof result !== 'object') {\n      this.dialogService.alert('ERROR', result);\n    } else {\n      let message = 'MESSAGES.ERROR_DELETE';\n      switch (operation) {\n        case 'update':\n          message = 'MESSAGES.ERROR_UPDATE';\n          break;\n        case 'insert':\n          message = 'MESSAGES.ERROR_INSERT';\n          break;\n      }\n      this.dialogService.alert('ERROR', message);\n    }\n  }\n\n}\n","import { AfterViewInit, Component, EventEmitter, forwardRef, Inject, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { OFormComponent } from '../../components/form/o-form.component';\nimport { OServiceComponent } from '../../components/o-service-component.class';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { IFilterBuilderCmpTarget } from '../../interfaces/filter-builder-component-target.interface';\nimport { IFormDataComponent } from '../../interfaces/form-data-component.interface';\nimport { BasicExpression } from '../../types/basic-expression.type';\nimport { Expression } from '../../types/expression.type';\nimport { Codes } from '../../util/codes';\nimport { FilterExpressionUtils } from '../../util/filter-expression.utils';\nimport { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_FILTER_BUILDER = [\n  // filters: [string] List of pairs of form component attributes and target component colums (targetColumn1:componentAttr1;targetColumn2:componentAttr2;...). Separated by ';'.\n  'filters',\n\n  // target [`OServiceComponent` instance]: Component whose data will be filtered.\n  'targetCmp: target',\n\n  // expression-builder [funtion]: Funtion called for creating the expression.\n  'expressionBuilder: expression-builder',\n\n  // query-on-change [yes|no|true|false]: Indicates whether or not to trigger the target component refresh when a filter component `onChange` event is fired. Default: no.\n  'queryOnChange: query-on-change',\n\n  // query-on-change-delay [number]: Delay time in milliseconds `query-on-change` method is triggered. Default: 0.\n  'queryOnChangeDelay: query-on-change-delay'\n];\n\nexport const DEFAULT_OUTPUTS_O_FILTER_BUILDER = [\n  // Event triggered when the filter action is executed.\n  'onFilter',\n\n  // Event triggered when the clear action is excuted.\n  'onClear'\n];\n\n@Component({\n  selector: 'o-filter-builder',\n  templateUrl: './o-filter-builder.component.html',\n  inputs: DEFAULT_INPUTS_O_FILTER_BUILDER,\n  outputs: DEFAULT_OUTPUTS_O_FILTER_BUILDER\n})\n/**\n * The OFilterBuilderComponent.\n */\nexport class OFilterBuilderComponent implements AfterViewInit, OnDestroy, OnInit {\n\n  public onFilter: EventEmitter<any> = new EventEmitter<any>();\n  public onClear: EventEmitter<any> = new EventEmitter<any>();\n\n  public filters: string;\n  public targetCmp: OServiceComponent;\n  public expressionBuilder: (values: Array<{ attr, value }>) => Expression;\n  @InputConverter()\n  public queryOnChange: boolean = false;\n  @InputConverter()\n  public queryOnChangeDelay: number = 0;\n\n  protected filterComponents: Array<IFilterBuilderCmpTarget> = [];\n\n  protected subscriptions: Subscription = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OFormComponent)) public form: OFormComponent,\n    injector: Injector\n  ) { }\n\n  ngOnInit(): void {\n    this.initialize();\n  }\n\n  ngAfterViewInit(): void {\n    this.initializeListeners();\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscriptions) {\n      this.subscriptions.unsubscribe();\n    }\n  }\n\n  initialize(): void {\n    // Parse filters\n    if (this.filters) {\n      const filterArray: Array<string> = Util.parseArray(this.filters);\n      filterArray.forEach(filter => {\n        const filterElms = filter.split(Codes.COLUMNS_ALIAS_SEPARATOR);\n        this.filterComponents.push({\n          targetAttr: filterElms[0],\n          formComponentAttr: filterElms[1] ? filterElms[1] : filterElms[0]\n        });\n      });\n    }\n\n    if (Util.isDefined(this.targetCmp)) {\n      this.targetCmp.setFilterBuilder(this);\n    }\n  }\n\n  initializeListeners(): void {\n    if (this.queryOnChange) {\n      this.filterComponents.forEach((filterComponent: IFilterBuilderCmpTarget) => {\n        const formComponent: IFormDataComponent = this.form.getComponents()[filterComponent.formComponentAttr];\n        if (formComponent) {\n          this.subscriptions.add(\n            formComponent.getFormControl().valueChanges\n              .pipe(debounceTime(this.queryOnChangeDelay))\n              .subscribe(a => this.triggerReload()));\n        }\n      });\n    }\n  }\n\n  /**\n   * Returns an `Expression` object with the filter.\n   * @returns the `Expression` object with the filter.\n   */\n  getExpression(): Expression {\n    // Prepare form filter values [... { attr, value }]\n    const formComponents = this.form.getComponents();\n    const params: Array<{ attr, value }> = [];\n    this.filterComponents.forEach((filterComponent: IFilterBuilderCmpTarget) => {\n      const formComponent: IFormDataComponent = formComponents[filterComponent.formComponentAttr];\n      const value = formComponent.getValue();\n      params.push({\n        attr: filterComponent.targetAttr,\n        value: value\n      });\n    });\n\n    // Trigger the function provided by the user\n    if (this.expressionBuilder) {\n      return this.expressionBuilder(params);\n    }\n\n    // Generate desfault expression\n    const expressions: Array<Expression> = [];\n    params.forEach(elem => {\n      if (Util.isDefined(elem.value)) {\n        expressions.push(FilterExpressionUtils.buildExpressionEquals(elem.attr, elem.value));\n      }\n    });\n\n    return expressions.length ? expressions.reduce((fe1, fe2) => FilterExpressionUtils.buildComplexExpression(fe1, fe2, FilterExpressionUtils.OP_OR)) : undefined;\n  }\n\n  /**\n   * Returns an `BasicExpression` object with the filter.\n   * @returns the `BasicExpression` object with the filter.\n   */\n  getBasicExpression(): BasicExpression {\n    return FilterExpressionUtils.buildBasicExpression(this.getExpression());\n  }\n\n  /**\n   * Returns the filter builder target component.\n   * @returns the target component.\n   */\n  getTargetComponent(): OServiceComponent {\n    return this.targetCmp;\n  }\n\n  /**\n   * Trigger the `reloadData` method from the target component.\n   */\n  triggerReload(): void {\n    if (!this.targetCmp) {\n      return;\n    }\n    if (this.targetCmp.pageable) {\n      this.targetCmp.reloadPaginatedDataFromStart();\n    } else {\n      this.targetCmp.reloadData();\n    }\n    this.onFilter.emit();\n  }\n\n  /**\n   * Clear the form components used for the filter.\n   */\n  clearFilter(): void {\n    const formComponents = this.form.getComponents();\n    this.getFilterAttrs().forEach((attr: string) => {\n      formComponents[attr].setValue(void 0);\n    });\n    this.onClear.emit();\n  }\n\n  /**\n   * Returns an array with the attributes of the filterable components\n   */\n  protected getFilterAttrs(): Array<string> {\n    return this.filterComponents.map((elem: IFilterBuilderCmpTarget) => elem.formComponentAttr);\n  }\n\n}\n","import { Directive, Optional } from '@angular/core';\n\nimport { Util } from '../../util/util';\nimport { OFilterBuilderComponent } from './o-filter-builder.component';\n\n@Directive({\n  selector: '[oFilterBuilderClear]',\n  inputs: [\n    '_filterBuilder: oFilterBuilderClear'\n  ],\n  host: {\n    '(click)': 'onClick($event)'\n  },\n  exportAs: 'oFilterBuilderClear'\n})\nexport class OFilterBuilderClearDirective {\n\n  protected _filterBuilder: OFilterBuilderComponent;\n\n  constructor(\n    @Optional() filterBuilder: OFilterBuilderComponent\n  ) {\n    if (Util.isDefined(filterBuilder)) {\n      this._filterBuilder = filterBuilder;\n    }\n  }\n\n  onClick(e?: Event): void {\n    if (this._filterBuilder) {\n      this._filterBuilder.clearFilter();\n    }\n  }\n\n}\n","import { Directive, Optional } from '@angular/core';\n\nimport { Util } from '../../util/util';\nimport { OFilterBuilderComponent } from './o-filter-builder.component';\n\n@Directive({\n  selector: '[oFilterBuilderQuery]',\n  inputs: [\n    '_filterBuilder: oFilterBuilderQuery'\n  ],\n  host: {\n    '(click)': 'onClick($event)'\n  },\n  exportAs: 'oFilterBuilderQuery'\n})\nexport class OFilterBuilderQueryDirective {\n\n  protected _filterBuilder: OFilterBuilderComponent;\n\n  constructor(\n    @Optional() filterBuilder: OFilterBuilderComponent\n  ) {\n    if (Util.isDefined(filterBuilder)) {\n      this._filterBuilder = filterBuilder;\n    }\n  }\n\n  onClick(e?: Event): void {\n    if (this._filterBuilder) {\n      this._filterBuilder.triggerReload();\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OFilterBuilderClearDirective } from './o-filter-builder-clear.directive';\nimport { OFilterBuilderQueryDirective } from './o-filter-builder-query.directive';\nimport { OFilterBuilderComponent } from './o-filter-builder.component';\n\n@NgModule({\n  imports: [\n    OSharedModule,\n    CommonModule\n  ],\n  declarations: [\n    OFilterBuilderComponent,\n    OFilterBuilderClearDirective,\n    OFilterBuilderQueryDirective\n  ],\n  exports: [\n    OFilterBuilderComponent,\n    OFilterBuilderClearDirective,\n    OFilterBuilderQueryDirective\n  ]\n})\nexport class OFilterBuilderModule { }\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OBreadcrumbComponent } from '../../components/breadcrumb/o-breadcrumb.component';\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OFormContainerComponent } from './o-form-container.component';\n\n@NgModule({\n  declarations: [OFormContainerComponent],\n  imports: [OSharedModule, CommonModule],\n  entryComponents: [OBreadcrumbComponent],\n  exports: [OFormContainerComponent]\n})\nexport class OFormContainerModule {\n}\n","import { Component, forwardRef, Inject, Injector, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { OFormLayoutManagerComponent } from '../../../layouts/form-layout/o-form-layout-manager.component';\nimport { OntimizeServiceProvider } from '../../../services/factories';\nimport { NavigationService, ONavigationItem } from '../../../services/navigation.service';\nimport { OntimizeService } from '../../../services/ontimize/ontimize.service';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../o-form.component';\nimport { OFormNavigationClass } from './o-form.navigation.class';\n\nexport type QueryConfiguration = {\n  serviceType: string;\n  queryArguments: any[];\n  entity: string;\n  service: string;\n  queryMethod: string;\n  totalRecordsNumber: number;\n  queryRows: number;\n  queryRecordOffset: number;\n};\n\n@Component({\n  selector: 'o-form-navigation',\n  templateUrl: './o-form-navigation.component.html',\n  styleUrls: ['./o-form-navigation.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-navigation]': 'true'\n  },\n  providers: [\n    OntimizeServiceProvider\n  ]\n})\nexport class OFormNavigationComponent implements OnDestroy {\n\n  public navigationData: Array<any> = [];\n  private _currentIndex = 0;\n\n  protected formNavigation: OFormNavigationClass;\n  protected navigationService: NavigationService;\n  protected formLayoutManager: OFormLayoutManagerComponent;\n\n  protected querySubscription: Subscription;\n  protected dataService: any;\n  protected queryConf: QueryConfiguration;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OFormComponent)) private _form: OFormComponent,\n    private router: Router\n  ) {\n    this.formNavigation = this._form.getFormNavigation();\n    this.navigationService = this.injector.get(NavigationService);\n\n    this.formLayoutManager = this._form.getFormManager();\n\n    let navData;\n    if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n      navData = this.navigationService.getLastItem();\n    } else {\n      navData = this.navigationService.getPreviousRouteData();\n    }\n    if (Util.isDefined(navData)) {\n      this.navigationData = navData.keysValues || [];\n      this.queryConf = navData.queryConfiguration;\n    }\n    this.currentIndex = this.getCurrentIndex();\n    this.configureService();\n  }\n\n  configureService() {\n    if (!this.queryConf) {\n      return;\n    }\n    let loadingService: any = OntimizeService;\n    if (this.queryConf.serviceType) {\n      loadingService = this.queryConf.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.queryConf.service);\n        if (this.queryConf.entity) {\n          serviceCfg.entity = this.queryConf.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  protected queryNavigationData(offset: number, length?: number): Promise<any> {\n    const self = this;\n    return new Promise<any>((resolve: any, reject: any) => {\n      const conf = self.queryConf;\n      const queryArgs = conf.queryArguments;\n\n      queryArgs[1] = self.getKeysArray();\n      queryArgs[4] = offset;\n      queryArgs[5] = length ? length : conf.queryRows;\n\n      self.querySubscription = self.dataService[conf.queryMethod].apply(self.dataService, queryArgs).subscribe(res => {\n        if (res.isSuccessful()) {\n          self.navigationData = res.data;\n          self.queryConf.queryRecordOffset = offset;\n        }\n        resolve();\n      }, () => {\n        reject();\n      });\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n  }\n\n  protected getKeysArray(): string[] {\n    // getting available navigationData keys\n    const navData = this.navigationData ? (this.navigationData[0] || {}) : {};\n    const keysArray = [];\n    this._form.keysArray.forEach(key => {\n      if (navData.hasOwnProperty(key)) {\n        keysArray.push(key);\n      }\n    });\n    return keysArray;\n  }\n\n  getCurrentIndex(): number {\n    const keysArray = this.getKeysArray();\n    // current url keys object\n    const currentKeys = {};\n    const currentItem = this.formNavigation.getUrlParams();\n    keysArray.forEach(key => {\n      currentKeys[key] = currentItem[key];\n    });\n    const index: number = (this.navigationData || []).findIndex((item: any) => {\n      const itemKeys = {};\n      keysArray.forEach(key => {\n        itemKeys[key] = item[key];\n      });\n      return Util.isEquivalent(itemKeys, currentKeys);\n    });\n    return index >= 0 ? index : 0;\n  }\n\n  next() {\n    const total = this.navigationData.length;\n    const index = this.currentIndex + 1;\n    if (total > index) {\n      this.move(index);\n    } else if (this.queryConf) {\n      const offset: number = (this.queryConf.queryRecordOffset || 0) + this.queryConf.queryRows;\n      this.queryNavigationData(offset).then(() => {\n        this.move(0);\n      });\n    } else {\n      console.error('form-toolbar->next(): total > index');\n    }\n  }\n\n  previous() {\n    const index = this.currentIndex - 1;\n    if (index >= 0) {\n      this.move(index);\n    } else if (this.queryConf) {\n      const offset: number = this.queryConf.queryRecordOffset - this.queryConf.queryRows;\n      this.queryNavigationData(offset).then(() => {\n        this.move(this.navigationData.length - 1);\n      });\n    } else {\n      console.error('form-toolbar->next(): index < 0');\n    }\n  }\n\n  first() {\n    if (!this.queryConf || this.queryConf.queryRecordOffset === 0) {\n      this.move(0);\n    } else {\n      this.queryNavigationData(0).then(() => {\n        this.move(0);\n      });\n    }\n  }\n\n  last() {\n    if (!this.queryConf || this.isLast()) {\n      const index = this.navigationData.length - 1;\n      this.move(index);\n    } else {\n      const offset = this.queryConf.totalRecordsNumber - this.queryConf.queryRows;\n      this.queryNavigationData(offset, this.queryConf.queryRows).then(() => {\n        this.move(this.navigationData.length - 1);\n      });\n    }\n  }\n\n  isFirst() {\n    let result: boolean = this.currentIndex === 0;\n    if (result && this.queryConf) {\n      result = this.queryConf.queryRecordOffset === 0;\n    }\n    return result;\n  }\n\n  isLast() {\n    let result: boolean = this.currentIndex === (this.navigationData.length - 1);\n    if (result && this.queryConf) {\n      result = (this.queryConf.queryRecordOffset + this.queryConf.queryRows)\n        >= this.queryConf.totalRecordsNumber;\n    }\n    return result;\n  }\n\n  move(index: number) {\n    this._form.showConfirmDiscardChanges().then(res => {\n      if (res === true) {\n        this.currentIndex = index;\n        if (this.formLayoutManager && this.formLayoutManager.isDialogMode()) {\n          this.moveInDialogManager(this.formLayoutManager, index);\n        } else {\n          this.moveWithoutManager(index);\n        }\n      }\n    });\n  }\n\n  private moveWithoutManager(index: number) {\n    const route = this.getRouteOfSelectedRow(this.navigationData[index]);\n    if (route.length > 0) {\n      const navData: ONavigationItem = this.navigationService.getLastItem();\n      if (navData) {\n        this.navigationService.removeLastItem();\n        this._form.canDiscardChanges = true;\n\n        const extras: NavigationExtras = {};\n        extras[Codes.QUERY_PARAMS] = Codes.getIsDetailObject();\n\n        const urlArray = navData.url.split(Codes.ROUTE_SEPARATOR);\n        const url = urlArray.splice(0, urlArray.length - route.length).join(Codes.ROUTE_SEPARATOR);\n        route.unshift(url);\n\n        this.router.navigate(route, extras).then((navigationDone: boolean) => {\n          if (navigationDone) {\n            this.currentIndex = index;\n          }\n        });\n      }\n    }\n  }\n\n  private moveInDialogManager(formLayoutManager: any, index: number) {\n    formLayoutManager.dialogRef.componentInstance.urlParams = this.navigationData[index];\n    this._form.setUrlParamsAndReload(this.navigationData[index]);\n  }\n\n  getRouteOfSelectedRow(item: any) {\n    const route = [];\n    if (Util.isObject(item)) {\n      this._form.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          route.push(item[key]);\n        }\n      });\n    }\n    return route;\n  }\n\n  showNavigation() {\n    return (this.navigationData || []).length > 1;\n  }\n\n  set currentIndex(arg: number) {\n    this._currentIndex = arg;\n  }\n\n  get currentIndex(): number {\n    return this._currentIndex;\n  }\n\n  getRecordIndex(): number {\n    let index = this.currentIndex + 1;\n    if (this.queryConf) {\n      index += this.queryConf.queryRecordOffset;\n    }\n    return index;\n  }\n\n  getTotalRecordsNumber(): number {\n    if (this.queryConf && this.queryConf.totalRecordsNumber) {\n      return this.queryConf.totalRecordsNumber;\n    }\n    return this.navigationData.length;\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { DialogService } from '../../../services/dialog.service';\nimport { NavigationService } from '../../../services/navigation.service';\nimport { SnackBarService } from '../../../services/snackbar.service';\nimport { OPermissions } from '../../../types/o-permissions.type';\nimport { Codes } from '../../../util/codes';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../o-form.component';\n\nexport const DEFAULT_INPUTS_O_FORM_TOOLBAR = [\n  'labelHeader: label-header',\n  'labelHeaderAlign: label-header-align',\n  'headeractions: header-actions',\n  'showHeaderActionsText: show-header-actions-text',\n  // show-header-navigation [string][yes|no|true|false]: Include navigations buttons in form-toolbar. Default: true;\n  'showHeaderNavigation:show-header-navigation'\n];\n\n@Component({\n  selector: 'o-form-toolbar',\n  templateUrl: './o-form-toolbar.component.html',\n  styleUrls: ['./o-form-toolbar.component.scss'],\n  inputs: DEFAULT_INPUTS_O_FORM_TOOLBAR,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-toolbar]': 'true'\n  }\n  // providers: [{ provide: OFormComponent, useExisting: forwardRef(() => OFormComponent) }]\n})\nexport class OFormToolbarComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  /* Bindings */\n  public labelHeader: string = '';\n  public headeractions: string = '';\n  public labelHeaderAlign: string = 'center';\n\n  @InputConverter()\n  public showHeaderActionsText: boolean = true;\n  @InputConverter()\n  public showHeaderNavigation: boolean = true;\n\n  public formActions: string[];\n  public isDetail: boolean = true;\n\n  public editMode: boolean = false;\n  public insertMode: boolean = false;\n  public initialMode: boolean = true;\n  public refreshBtnEnabled: boolean = false;\n  public insertBtnEnabled: boolean = false;\n  public deleteBtnEnabled: boolean = false;\n\n  @ViewChild('breadcrumb', { read: ViewContainerRef, static: false })\n  public breadContainer: ViewContainerRef;\n\n  public isSaveBtnEnabled: Observable<boolean>;\n  public isEditBtnEnabled: Observable<boolean>;\n  public existsChangesToSave: Observable<boolean>;\n\n  get changesToSave(): boolean {\n    return this._changesToSave;\n\n  }\n\n  set changesToSave(val: boolean) {\n    this._changesToSave = val;\n    const attr = this._form.isEditableDetail() ? PermissionsUtils.ACTION_UPDATE : PermissionsUtils.ACTION_INSERT;\n    const permissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === attr);\n    if (Util.isDefined(permissions) && permissions.enabled === false) {\n      return;\n    }\n\n    this._existsChangesToSaveSubject.next(val);\n\n  }\n\n  protected _changesToSave: boolean = false;\n\n\n  get editBtnEnabled(): boolean {\n    return this._editBtnEnabled;\n  }\n  set editBtnEnabled(value: boolean) {\n    this._editBtnEnabled = value;\n    this._isEditBtnEnabledSubject.next(this._editBtnEnabled);\n  }\n  protected _editBtnEnabled: boolean = false;\n\n  get saveBtnEnabled(): boolean {\n    return this._saveBtnEnabled;\n  }\n  set saveBtnEnabled(value: boolean) {\n    this._saveBtnEnabled = value;\n    this._isSaveBtnEnabledSubject.next(this._saveBtnEnabled);\n  }\n  protected _saveBtnEnabled: boolean = false;\n\n\n  protected _dialogService: DialogService;\n  protected _navigationService: NavigationService;\n  protected mutationObservers: MutationObserver[] = [];\n\n  protected formCacheSubscription: Subscription;\n  protected actionsPermissions: OPermissions[];\n  protected snackBarService: SnackBarService;\n\n  protected _includeBreadcrumb: boolean;\n\n  protected _isSaveBtnEnabledSubject = new BehaviorSubject<boolean>(false);\n  protected _isEditBtnEnabledSubject = new BehaviorSubject<boolean>(false);\n  protected _existsChangesToSaveSubject = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    private _form: OFormComponent,\n    public element: ElementRef,\n    protected injector: Injector\n  ) {\n    this.isSaveBtnEnabled = this._isSaveBtnEnabledSubject.asObservable();\n    this.isEditBtnEnabled = this._isEditBtnEnabledSubject.asObservable();\n    this.existsChangesToSave = this._existsChangesToSaveSubject.asObservable();\n\n    this._form.registerToolbar(this);\n    this._dialogService = this.injector.get(DialogService);\n    this._navigationService = this.injector.get(NavigationService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  public ngOnInit(): void {\n    this.formActions = Util.parseArray(this.headeractions);\n    if (this.formActions && this.formActions.length > 0) {\n      this.refreshBtnEnabled = this.formActions.indexOf('R') !== -1;\n      this.insertBtnEnabled = this.formActions.indexOf('I') !== -1;\n      this.editBtnEnabled = this.formActions.indexOf('U') !== -1;\n      this.deleteBtnEnabled = !this.insertMode && this.formActions.indexOf('D') !== -1;\n    }\n    if (this._navigationService) {\n      const self = this;\n      this._navigationService.onTitleChange(title => {\n        self.labelHeader = title;\n      });\n    }\n    this.includeBreadcrumb = this._form.includeBreadcrumb && this._form.formContainer.breadcrumb;\n    if (this.includeBreadcrumb) {\n      this._form.formContainer.breadcrumb = false;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    if (this.formCacheSubscription) {\n      this.formCacheSubscription.unsubscribe();\n    }\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n  }\n\n  public ngAfterViewInit(): void {\n    this.parsePermissions();\n    if (this.includeBreadcrumb) {\n      this._form.formContainer.createBreadcrumb(this.breadContainer);\n    }\n  }\n\n  public setInitialMode(): void {\n    this.manageEditableDetail();\n    this.initialMode = true;\n    this.insertMode = false;\n    this.editMode = false;\n  }\n\n  public setInsertMode(): void {\n    this.initialMode = false;\n    this.insertMode = true;\n    this.editMode = false;\n  }\n\n  public setEditMode(): void {\n    this.initialMode = false;\n    this.insertMode = false;\n    this.editMode = true;\n  }\n\n  public onCloseDetail(): void {\n    this._form.executeToolbarAction(Codes.CLOSE_DETAIL_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onBack(): void {\n    this._form.executeToolbarAction(Codes.BACK_ACTION);\n  }\n\n  public onReload(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_REFRESH)) {\n      return;\n    }\n    const self = this;\n    this._form.showConfirmDiscardChanges().then(val => {\n      if (val) {\n        self._form.executeToolbarAction(Codes.RELOAD_ACTION);\n      }\n    });\n  }\n\n  public onInsert(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_INSERT)) {\n      return;\n    }\n\n    this._form.executeToolbarAction(Codes.GO_INSERT_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onEdit(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return;\n    }\n\n    this._form.executeToolbarAction(Codes.GO_EDIT_ACTION, {\n      changeToolbarMode: true\n    });\n  }\n\n  public onDelete(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_DELETE)) {\n      return;\n    }\n\n    this.showConfirmDelete();\n  }\n\n  public onSave(): void {\n    if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return;\n    }\n\n    this.handleAcceptEditOperation();\n  }\n\n  public cancelOperation(): void {\n    if (this.isDetail) {\n      this.onCloseDetail();\n    } else if (this.insertMode) {\n      this.onBack();\n    } else {\n      this.onReload();\n      this._form.setInitialMode();\n    }\n  }\n\n  public acceptOperation(): void {\n    if (this.editMode) {\n      if (!this.checkEnabledPermission(PermissionsUtils.ACTION_UPDATE)) {\n        return;\n      }\n      this.handleAcceptEditOperation();\n    } else if (this.insertMode) {\n      if (!this.checkEnabledPermission(PermissionsUtils.ACTION_INSERT)) {\n        return;\n      }\n      this.handleAcceptInsertOperation();\n    }\n  }\n\n  public handleAcceptInsertOperation(): void {\n    this._form.executeToolbarAction(Codes.INSERT_ACTION);\n  }\n\n  public handleAcceptEditOperation(): void {\n    this._form.executeToolbarAction(Codes.EDIT_ACTION);\n  }\n\n  public showConfirmDelete(): void {\n    this._dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n      if (res === true) {\n        this._form.executeToolbarAction(Codes.DELETE_ACTION).subscribe(resp => {\n          this._form.onDelete.emit(resp);\n          this.onCloseDetail();\n        }, err => {\n          console.error('OFormToolbar.delete error', err);\n        });\n      }\n    }\n    );\n  }\n\n  get showNavigation(): boolean {\n    return this.showHeaderNavigation && !(this._form.getFormManager() && this._form.getFormManager().isTabMode());\n  }\n\n  public getLabelHeaderAlign(): string {\n    return this.labelHeaderAlign;\n  }\n\n  get showUndoButton(): boolean {\n    return this._form.undoButton && (!this.initialMode || this._form.isEditableDetail());\n  }\n\n  get isChangesStackEmpty(): boolean {\n    return this._form.isCacheStackEmpty;\n  }\n\n  public onUndoLastChange(): void {\n    this._form.executeToolbarAction(Codes.UNDO_LAST_CHANGE_ACTION);\n  }\n\n  get isRefreshBtnEnabled(): boolean {\n    return this.refreshBtnEnabled;\n  }\n\n  get isInsertBtnEnabled(): boolean {\n    return this.insertBtnEnabled;\n  }\n\n  get isDeleteBtnEnabled(): boolean {\n    return this.deleteBtnEnabled;\n  }\n\n  public hasEnabledPermission(permission: OPermissions): boolean {\n    return permission ? permission.enabled : true;\n  }\n\n  get includeBreadcrumb(): boolean {\n    return this._includeBreadcrumb;\n  }\n\n  set includeBreadcrumb(arg: boolean) {\n    this._includeBreadcrumb = arg;\n  }\n\n  protected manageEditableDetail(): void {\n    const isEditableDetail = this._form.isEditableDetail();\n\n    const updatePermissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === PermissionsUtils.ACTION_UPDATE);\n    if (this.hasEnabledPermission(updatePermissions)) {\n      this.saveBtnEnabled = isEditableDetail;\n    }\n\n    this.refreshBtnEnabled = this.refreshBtnEnabled && isEditableDetail;\n    this.insertBtnEnabled = this.insertBtnEnabled && isEditableDetail;\n    this.editBtnEnabled = this.editBtnEnabled && !isEditableDetail;\n\n    const self = this;\n    this._form.getFormCache().onCacheStateChanges.asObservable().subscribe((value: any) => {\n      if (self._form.isEditableDetail()) {\n        self.changesToSave = self._form.isInitialStateChanged();\n      }\n    });\n  }\n\n  protected parsePermissions(): void {\n    if (this._form.oattr) {\n      this.actionsPermissions = this._form.getActionsPermissions();\n\n      if (!Util.isDefined(this.actionsPermissions)) {\n        return;\n      }\n      const self = this;\n      this.actionsPermissions.forEach((permission: OPermissions) => {\n        // others actions\n        self.permissionManagement(permission);\n\n        if (PermissionsUtils.STANDARD_ACTIONS.indexOf(permission.attr) > -1) {\n          // actions R;I;U;D\n          if (permission.attr === PermissionsUtils.ACTION_UPDATE) {\n            self.permissionManagement(permission, 'edit');\n          }\n        }\n      });\n    }\n  }\n\n  private permissionManagement(permission: OPermissions, attr?: string): void {\n    const attrAction = Util.isDefined(attr) ? attr : permission.attr;\n    const elementByAction = this.element.nativeElement.querySelector('[attr=\"' + attrAction + '\"]');\n\n    if (Util.isDefined(elementByAction)) {\n      if (!permission.visible) {\n        elementByAction.remove();\n      } else {\n        if (!permission.enabled) {\n          elementByAction.disabled = true;\n          const mutationObserver = PermissionsUtils.registerDisabledChangesInDom(elementByAction);\n          this.mutationObservers.push(mutationObserver);\n        }\n      }\n    }\n  }\n\n  private checkEnabledPermission(attr): boolean {\n    const permissions: OPermissions = (this.actionsPermissions || []).find(p => p.attr === attr);\n    const enabledPermision = PermissionsUtils.checkEnabledPermission(permissions);\n    if (!enabledPermision) {\n      this.snackBarService.open('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n    }\n    return enabledPermision;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OFormNavigationComponent } from '../navigation/o-form-navigation.component';\nimport { OFormToolbarComponent } from './o-form-toolbar.component';\n\n@NgModule({\n  declarations: [OFormNavigationComponent, OFormToolbarComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OFormNavigationComponent, OFormToolbarComponent]\n})\nexport class OFormToolbarModule { }\n","import { CommonModule } from '@angular/common';\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { CanDeactivateFormGuard } from './guards/o-form-can-deactivate.guard';\nimport { OFormComponent } from './o-form.component';\nimport { OFormToolbarModule } from './toolbar/o-form-toolbar.module';\n\n@NgModule({\n  declarations: [OFormComponent],\n  imports: [CommonModule, OFormToolbarModule, OSharedModule],\n  exports: [OFormComponent, OFormToolbarModule],\n  providers: [{ provide: CanDeactivateFormGuard, useClass: CanDeactivateFormGuard }],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OFormModule { }\n","import { AfterViewInit, Component, ElementRef, EventEmitter, Injector, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { FloatLabelType, MatCheckboxChange, MatFormFieldAppearance } from '@angular/material';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { O_INPUTS_OPTIONS } from '../../../config/app-config';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { SnackBarService } from '../../../services/snackbar.service';\nimport { OTranslateService } from '../../../services/translate/o-translate.service';\nimport { Expression } from '../../../types/expression.type';\nimport { OInputsOptions } from '../../../types/o-inputs-options.type';\nimport { FilterExpressionUtils } from '../../../util/filter-expression.utils';\nimport { Util } from '../../../util/util';\n\nexport const DEFAULT_INPUTS_O_SEARCH_INPUT = [\n  'placeholder',\n  'width',\n  'floatLabel: float-label',\n  'appearance',\n  'columns',\n  'filterCaseSensitive: filter-case-sensitive',\n  'showCaseSensitiveCheckbox: show-case-sensitive-checkbox',\n  'showMenu: show-menu'\n];\n\nexport const DEFAULT_OUTPUTS_O_SEARCH_INPUT = [\n  'onSearch'\n];\n\ndeclare type ColumnObject = {\n  column: string;\n  checked: boolean;\n};\n\n@Component({\n  selector: 'o-search-input',\n  templateUrl: './o-search-input.component.html',\n  styleUrls: ['./o-search-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_SEARCH_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_SEARCH_INPUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-search-input]': 'true'\n  }\n})\nexport class OSearchInputComponent implements OnInit, AfterViewInit {\n\n  public onSearch: EventEmitter<any> = new EventEmitter<any>();\n\n  public colArray: ColumnObject[] = [];\n  public placeholder: string = 'SEARCH';\n  public width: string;\n  public columns: string;\n  @InputConverter()\n  public showCaseSensitiveCheckbox: boolean = false;\n  @InputConverter()\n  public showMenu: boolean = true;\n  @InputConverter()\n  protected _filterCaseSensitive: boolean = false;\n  protected _floatLabel: FloatLabelType;\n  protected _appearance: MatFormFieldAppearance;\n\n  protected formGroup: FormGroup;\n  protected term: FormControl;\n  protected translateService: OTranslateService;\n  protected oInputsOptions: OInputsOptions;\n  protected snackBarService: SnackBarService;\n\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.formGroup = new FormGroup({});\n  }\n\n  public ngOnInit(): void {\n    this.term = new FormControl();\n    this.formGroup.addControl('term', this.term);\n\n    this.term.valueChanges.pipe(debounceTime(400))\n      .pipe(distinctUntilChanged()).subscribe(term => {\n        if (this.checkActiveColumns()) {\n          this.onSearch.emit(term);\n        }\n      });\n\n    const colArray = Util.parseArray(this.columns, true);\n    colArray.forEach((col: string) => {\n      this.colArray.push({\n        column: col,\n        checked: true\n      });\n    });\n  }\n\n  public ngAfterViewInit(): void {\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  get floatLabel(): FloatLabelType {\n    return this._floatLabel;\n  }\n\n  set floatLabel(value: FloatLabelType) {\n    const values = ['always', 'never', 'auto'];\n    if (values.indexOf(value) === -1) {\n      value = 'auto';\n    }\n    this._floatLabel = value;\n  }\n\n  get appearance(): MatFormFieldAppearance {\n    return this._appearance;\n  }\n\n  set appearance(value: MatFormFieldAppearance) {\n    const values = ['legacy', 'standard', 'fill', 'outline'];\n    if (values.indexOf(value) === -1) {\n      value = undefined;\n    }\n    this._appearance = value;\n  }\n\n  get filterCaseSensitive(): boolean {\n    return this._filterCaseSensitive;\n  }\n\n  set filterCaseSensitive(value: boolean) {\n    this._filterCaseSensitive = value;\n  }\n\n  public getFormGroup(): FormGroup {\n    return this.formGroup;\n  }\n\n  public getValue(): string {\n    return this.term.value;\n  }\n\n  public setValue(val: string): void {\n    this.term.setValue(val);\n  }\n\n  public getFormControl(): FormControl {\n    return this.term;\n  }\n\n  get hasCustomWidth(): boolean {\n    return this.width !== undefined;\n  }\n\n  get showFilterMenu(): boolean {\n    return this.showMenu && this.colArray.length > 0;\n  }\n\n  public isChecked(column: ColumnObject): boolean {\n    return column.checked;\n  }\n\n  public onCheckboxChange(column: ColumnObject, event: MatCheckboxChange): void {\n    column.checked = event.checked;\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    this.colArray.forEach((col: ColumnObject) => {\n      col.checked = event.checked;\n    });\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public areAllColumnsChecked(): boolean {\n    let result: boolean = true;\n    this.colArray.forEach((col: ColumnObject) => {\n      result = result && col.checked;\n    });\n    return result;\n  }\n\n  public onFilterCaseSensitiveChange(event: MatCheckboxChange): void {\n    this.filterCaseSensitive = event.checked;\n    // triggerOnSearch if we want to trigger search on each change\n  }\n\n  public getActiveColumns(): string[] {\n    return this.colArray.filter(col => col.checked).map(col => col.column);\n  }\n\n  public setActiveColumns(arg: string[]): void {\n    this.colArray.forEach((c: ColumnObject) => {\n      c.checked = arg.indexOf(c.column) !== -1;\n    });\n  }\n\n  protected checkActiveColumns(): boolean {\n    if (this.getActiveColumns().length === 0) {\n      this.snackBarService.open('MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS');\n      return false;\n    }\n    return true;\n  }\n\n  protected triggerOnSearch(): void {\n    const term = this.term.value;\n    if (this.checkActiveColumns() && Util.isDefined(term) && term.length > 0) {\n      this.onSearch.emit(term);\n    }\n  }\n\n  public onMenuClosed(): void {\n    this.triggerOnSearch();\n  }\n\n  get filterExpression(): Expression {\n    const termValue = this.getValue();\n    if (Util.isDefined(termValue) && termValue.length > 0) {\n      const filterCols = this.getActiveColumns();\n      if (filterCols.length > 0) {\n        return FilterExpressionUtils.buildArrayExpressionLike(filterCols, termValue);\n      }\n    }\n    return undefined;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OSearchInputComponent } from './o-search-input.component';\n\n@NgModule({\n  declarations: [OSearchInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSearchInputComponent]\n})\nexport class OSearchInputModule { }\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { ObservableWrapper } from '../../../util/async';\nimport { IGridItem } from '../../../interfaces/o-grid-item.interface';\n\nexport const DEFAULT_INPUTS_O_GRID_ITEM = [\n  'colspan',\n  'rowspan'\n];\n\n@Component({\n  selector: 'o-grid-item',\n  templateUrl: './o-grid-item.component.html',\n  inputs: DEFAULT_INPUTS_O_GRID_ITEM,\n  host: {\n    '[class.o-grid-item]': 'true',\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  },\n\n})\nexport class OGridItemComponent implements IGridItem {\n\n  modelData: object;\n  mdClick: EventEmitter<any> = new EventEmitter();\n  mdDoubleClick: EventEmitter<any> = new EventEmitter();\n\n  @ViewChild(TemplateRef, { static: false }) public template: TemplateRef<any>;\n  @InputConverter()\n  colspan: number = 1;\n  @InputConverter()\n  rowspan: number = 1;\n\n  constructor(public _el: ElementRef) { }\n\n  onItemClicked(e?: Event) {\n    ObservableWrapper.callEmit(this.mdClick, this);\n  }\n\n  onItemDoubleClicked(e?: Event) {\n    ObservableWrapper.callEmit(this.mdDoubleClick, this);\n  }\n\n  public onClick(onNext: (item: OGridItemComponent) => void): object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onDoubleClick(onNext: (item: OGridItemComponent) => void): object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  setItemData(data: object): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  getItemData(): object {\n    return this.modelData;\n  }\n\n}\n","import { Directive, ElementRef, EventEmitter, HostListener, Renderer2 } from '@angular/core';\n\nimport { ObservableWrapper } from '../../../util/async';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OGridComponent } from '../o-grid.component';\n\n@Directive({\n  selector: 'mat-grid-tile[o-grid-item]',\n  host: {\n    '(click)': 'onItemClicked($event)',\n    '(dblclick)': 'onItemDoubleClicked($event)'\n  }\n})\nexport class OGridItemDirective {\n\n  mdClick: EventEmitter<any> = new EventEmitter();\n  mdDoubleClick: EventEmitter<any> = new EventEmitter();\n  modelData: object;\n\n  protected grid: OGridComponent;\n\n  @HostListener('mouseenter')\n  onMouseEnter(): void {\n    if (Util.isDefined(this.grid) && this.grid.detailMode !== Codes.DETAIL_MODE_NONE) {\n      this.renderer.setStyle(this._el.nativeElement, 'cursor', 'pointer');\n    }\n  }\n\n  constructor(\n    public _el: ElementRef,\n    private renderer: Renderer2\n  ) { }\n\n  public onClick(onNext: (item: OGridItemDirective) => void): object {\n    return ObservableWrapper.subscribe(this.mdClick, onNext);\n  }\n\n  public onDoubleClick(onNext: (item: OGridItemDirective) => void): object {\n    return ObservableWrapper.subscribe(this.mdDoubleClick, onNext);\n  }\n\n  onItemClicked(e?: Event): void {\n    ObservableWrapper.callEmit(this.mdClick, this);\n  }\n\n  onItemDoubleClicked(e?: Event): void {\n    ObservableWrapper.callEmit(this.mdDoubleClick, this);\n  }\n\n  setItemData(data: object): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  getItemData(): object {\n    return this.modelData;\n  }\n\n  setGridComponent(grid: OGridComponent): void {\n    this.grid = grid;\n  }\n\n}\n","import { ChangeDetectorRef, HostListener, Injector, NgZone, OnChanges, SimpleChange } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../decorators/input-converter';\nimport { ILocalStorageComponent } from '../interfaces/local-storage-component.interface';\nimport { ServiceResponse } from '../interfaces/service-response.interface';\nimport { DialogService } from '../services/dialog.service';\nimport { LocalStorageService } from '../services/local-storage.service';\nimport { OntimizeService } from '../services/ontimize/ontimize.service';\nimport { OQueryDataArgs } from '../types/query-data-args.type';\nimport { Codes } from '../util/codes';\nimport { ServiceUtils } from '../util/service.utils';\nimport { Util } from '../util/util';\nimport { OFormComponent } from './form/o-form.component';\n\nexport const DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT = [\n  // attr [string]: list identifier. It is mandatory if data are provided through the data attribute. Default: entity (if set).\n  'oattr: attr',\n\n  // service [string]: JEE service path. Default: no value.\n  'service',\n\n  'serviceType : service-type',\n\n  // entity [string]: entity of the service. Default: no value.\n  'entity',\n\n  // query-on-init [no|yes]: query on init. Default: yes.\n  'queryOnInit: query-on-init',\n\n  // query-on-init [no|yes]: query on bind. Default: yes.\n  'queryOnBind: query-on-bind',\n\n  'queryOnEvent: query-on-event',\n\n  'pageable',\n\n  // columns [string]: columns of the entity, separated by ';'. Default: no value.\n  'columns',\n\n  // keys [string]: entity keys, separated by ';'. Default: no value.\n  'keys',\n\n  // parent-keys [string]: parent keys to filter, separated by ';'. Default: no value.\n  'parentKeys: parent-keys',\n\n  // static-data [Array<any>] : way to populate with static data. Default: no value.\n  'staticData: static-data',\n\n  // query-method [string]: name of the service method to perform queries. Default: query.\n  'queryMethod: query-method',\n\n  // paginated-query-method [string]: name of the service method to perform paginated queries. Default: advancedQuery.\n  'paginatedQueryMethod : paginated-query-method',\n\n  // query-rows [number]: number of rows per page. Default: 10.\n  'oQueryRows: query-rows',\n\n  // insert-method [string]: name of the service method to perform inserts. Default: insert.\n  'insertMethod: insert-method',\n\n  // update-method [string]: name of the service method to perform updates. Default: update.\n  'updateMethod: update-method',\n\n  // delete-method [string]: name of the service method to perform deletions. Default: delete.\n  'deleteMethod: delete-method',\n\n  'storeState: store-state',\n\n  // query-with-null-parent-keys [string][yes|no|true|false]: Indicates whether or not to trigger query method when parent-keys filter is null. Default: false\n  'queryWithNullParentKeys: query-with-null-parent-keys',\n\n  // [function]: function to execute on query error. Default: no value.\n  'queryFallbackFunction: query-fallback-function'\n  // ,\n\n  // 'insertFallbackFunction: insert-fallback-function',\n\n  // 'updateFallbackFunction: update-fallback-function',\n\n  // 'deleteFallbackFunction: delete-fallback-function'\n];\n\nexport class OServiceBaseComponent implements ILocalStorageComponent, OnChanges {\n\n  protected localStorageService: LocalStorageService;\n  protected dialogService: DialogService;\n\n  /* inputs variables */\n  oattr: string;\n  service: string;\n  serviceType: string;\n  entity: string;\n  @InputConverter()\n  queryOnInit: boolean = true;\n  @InputConverter()\n  queryOnBind: boolean = true;\n  queryOnEvent: any;\n  @InputConverter()\n  pageable: boolean = false;\n  columns: string;\n  keys: string;\n  parentKeys: string;\n  staticData: Array<any>;\n  queryMethod: string = Codes.QUERY_METHOD;\n  paginatedQueryMethod: string = Codes.PAGINATED_QUERY_METHOD;\n\n  originalQueryRows: number = Codes.DEFAULT_QUERY_ROWS;\n  protected _queryRows = this.originalQueryRows;\n\n  @InputConverter()\n  set oQueryRows(value: number) {\n    if (Util.isDefined(value)) {\n      this.originalQueryRows = value;\n      this._queryRows = value;\n    }\n  }\n\n  get queryRows(): number {\n    return this._queryRows;\n  }\n\n  set queryRows(value: number) {\n    if (Util.isDefined(value)) {\n      this._queryRows = value;\n    }\n  }\n  insertMethod: string = Codes.INSERT_METHOD;\n  updateMethod: string = Codes.UPDATE_METHOD;\n  deleteMethod: string = Codes.DELETE_METHOD;\n  @InputConverter()\n  storeState: boolean = true;\n  @InputConverter()\n  queryWithNullParentKeys: boolean = false;\n  queryFallbackFunction: (err: any) => void;\n  // insertFallbackFunction: (err: any) => void;\n  // updateFallbackFunction: (err: any) => void;\n  // deleteFallbackFunction: (err: any) => void;\n  /* end of inputs variables */\n\n  /* parsed inputs variables */\n  protected colArray: Array<string> = [];\n  protected keysArray: Array<string> = [];\n  protected _pKeysEquiv = {};\n  dataArray: Array<any> = [];\n  protected oattrFromEntity: boolean = false;\n  /* end of parsed inputs variables */\n\n  protected onRouteChangeStorageSubscription: any;\n  protected onFormDataSubscribe: any;\n\n  protected loaderSubscription: Subscription;\n  protected querySubscription: Subscription;\n  protected dataService: any;\n  protected _state: any = {};\n\n  protected loadingSubject = new BehaviorSubject<boolean>(false);\n  public loading: Observable<boolean> = this.loadingSubject.asObservable();\n\n  protected form: OFormComponent;\n  protected alreadyStored: boolean = false;\n\n  protected queryOnEventSubscription: Subscription;\n  public cd: ChangeDetectorRef; // borrar\n  protected queryArguments: any[];\n\n  protected router: Router;\n  protected actRoute: ActivatedRoute;\n\n  protected sqlTypes = undefined;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n    this.router = this.injector.get(Router);\n    this.actRoute = this.injector.get(ActivatedRoute);\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n      this.form = this.injector.get(OFormComponent);\n    } catch (e) {\n      // no parent form\n    }\n  }\n\n  initialize(): void {\n    if (!Util.isDefined(this.oattr) && Util.isDefined(this.entity)) {\n      this.oattr = this.entity.replace('.', '_');\n      this.oattrFromEntity = true;\n    }\n    this.keysArray = Util.parseArray(this.keys);\n    this.colArray = Util.parseArray(this.columns, true);\n    const pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray, Codes.COLUMNS_ALIAS_SEPARATOR);\n\n    if (this.storeState) {\n      this.onRouteChangeStorageSubscription = this.localStorageService.onRouteChange.subscribe(res => {\n        this.updateStateStorage();\n        // when the storage is updated because a route change\n        // the alreadyStored control variable is changed to its initial value\n        this.alreadyStored = false;\n      });\n\n      this.initializeState();\n\n      // if query-rows in initial configuration is equals to original query-rows input\n      // query_rows will be the value in local storage\n      if (this.state.hasOwnProperty('query-rows')) {\n        if (this.state.hasOwnProperty('initial-configuration') && this.state['initial-configuration'].hasOwnProperty('query-rows')\n          && this.state['initial-configuration']['query-rows'] === this.originalQueryRows) {\n          this.queryRows = this.state['query-rows'];\n        }\n      }\n    }\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n    }\n\n    if (this.form && Util.isDefined(this.dataService)) {\n      this.setFormComponent(this.form);\n    }\n\n    if (Util.isDefined(this.queryOnEvent) && Util.isDefined(this.queryOnEvent.subscribe)) {\n      const self = this;\n      this.queryOnEventSubscription = this.queryOnEvent.subscribe((value) => {\n        if (Util.isDefined(value) || this.queryWithNullParentKeys) {\n          self.queryData();\n        }\n      });\n    }\n\n    if (typeof this.queryFallbackFunction !== 'function') {\n      this.queryFallbackFunction = undefined;\n    }\n    // if (typeof this.insertFallbackFunction !== 'function') {\n    //   this.insertFallbackFunction = undefined;\n    // }\n    // if (typeof this.updateFallbackFunction !== 'function') {\n    //   this.updateFallbackFunction = undefined;\n    // }\n    // if (typeof this.deleteFallbackFunction !== 'function') {\n    //   this.deleteFallbackFunction = undefined;\n    // }\n  }\n\n  afterViewInit() {\n    //\n  }\n\n  destroy() {\n    if (this.onFormDataSubscribe) {\n      this.onFormDataSubscribe.unsubscribe();\n    }\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.onRouteChangeStorageSubscription) {\n      this.onRouteChangeStorageSubscription.unsubscribe();\n    }\n    if (this.queryOnEventSubscription) {\n      this.queryOnEventSubscription.unsubscribe();\n    }\n    this.updateStateStorage();\n  }\n\n  ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n    if (Util.isDefined(changes.staticData)) {\n      this.setDataArray(changes.staticData.currentValue);\n    }\n  }\n\n  @HostListener('window:beforeunload', [])\n  beforeunloadHandler() {\n    this.updateStateStorage();\n  }\n\n  getAttribute(): string {\n    return this.oattr;\n  }\n\n  getComponentKey(): string {\n    return this.getAttribute();\n  }\n\n  getDataToStore(): object {\n    return this.state;\n  }\n\n  getRouteKey(): string {\n    let route = this.router.url;\n    this.actRoute.params.subscribe(params => {\n      Object.keys(params).forEach(key => {\n        route = route.replace(params[key], key);\n      });\n    });\n    return route;\n  }\n\n  getKeys() {\n    return this.keysArray;\n  }\n\n  configureService() {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get<any>(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  getDataArray() {\n    return this.dataArray;\n  }\n\n  setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataArray = data;\n    } else if (Util.isObject(data)) {\n      this.dataArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or Object');\n      this.dataArray = [];\n    }\n  }\n\n  public setFormComponent(form: OFormComponent): void {\n    if (!Util.isDefined(this.form)) {\n      this.form = form;\n    }\n\n    if (this.queryOnBind) {\n      this.onFormDataSubscribe = this.form.onDataLoaded.subscribe(() => this.pageable ? this.reloadPaginatedDataFromStart() : this.reloadData());\n    }\n  }\n\n  public queryData(filter?: any, ovrrArgs?: OQueryDataArgs): void {\n    const queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    if (!this.dataService || !(queryMethodName in this.dataService) || !this.entity) {\n      return;\n    }\n    const filterParentKeys = ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form);\n    if (!ServiceUtils.filterContainsAllParentKeys(filterParentKeys, this._pKeysEquiv) && !this.queryWithNullParentKeys) {\n      this.setData([], []);\n    } else {\n      const queryArguments = this.getQueryArguments(filter, ovrrArgs);\n      if (this.querySubscription) {\n        this.querySubscription.unsubscribe();\n      }\n      if (this.loaderSubscription) {\n        this.loaderSubscription.unsubscribe();\n      }\n      this.loaderSubscription = this.load();\n      const self = this;\n      this.queryArguments = queryArguments;\n      this.querySubscription = this.dataService[queryMethodName]\n        .apply(this.dataService, queryArguments)\n        .subscribe((res: ServiceResponse) => {\n          let data;\n          this.sqlTypes = undefined;\n          if (Util.isArray(res)) {\n            data = res;\n            this.sqlTypes = {};\n          } else if (res.isSuccessful()) {\n            const arrData = (res.data !== undefined) ? res.data : [];\n            data = Util.isArray(arrData) ? arrData : [];\n            this.sqlTypes = res.sqlTypes;\n            if (this.pageable) {\n              this.updatePaginationInfo(res);\n            }\n          }\n          self.setData(data, this.sqlTypes, (ovrrArgs && ovrrArgs.replace));\n          self.loaderSubscription.unsubscribe();\n        }, err => {\n          self.setData([], []);\n          self.loaderSubscription.unsubscribe();\n          if (Util.isDefined(self.queryFallbackFunction)) {\n            self.queryFallbackFunction(err);\n          } else if (err && typeof err !== 'object') {\n            self.dialogService.alert('ERROR', err);\n          } else {\n            self.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n          }\n        });\n    }\n  }\n\n  public reloadData(): void {\n    this.queryData();\n  }\n\n  /**\n   * Reloads the component data and restarts the pagination.\n   */\n  reloadPaginatedDataFromStart(): void {\n    this.reloadData();\n  }\n\n  load(): any {\n    const self = this;\n    const zone = this.injector.get(NgZone);\n    const loadObservable = new Observable(observer => {\n      const timer = window.setTimeout(() => {\n        observer.next(true);\n      }, 250);\n\n      return () => {\n        window.clearTimeout(timer);\n        zone.run(() => {\n          self.loadingSubject.next(false);\n        });\n      };\n\n    });\n    const subscription = loadObservable.subscribe(val => {\n      zone.run(() => {\n        self.loadingSubject.next(val as boolean);\n      });\n    });\n    return subscription;\n  }\n\n  /**\n   * Extracting the given record keys\n   * @param item record object\n   * @returns object containing item object properties contained in keysArray\n   */\n  extractKeysFromRecord(item: any): object {\n    const result = {};\n    if (Util.isObject(item)) {\n      this.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          result[key] = item[key];\n        }\n      });\n    }\n    return result;\n  }\n\n  getAttributesValuesToQuery(): Array<string> {\n    const result = this.colArray;\n    this.keysArray.forEach(key => {\n      if (result.indexOf(key) === -1) {\n        result.push(key);\n      }\n    });\n    return result;\n  }\n\n  getQueryArguments(filter: object, ovrrArgs?: OQueryDataArgs): Array<any> {\n    const compFilter = this.getComponentFilter(filter);\n    const queryCols = this.getAttributesValuesToQuery();\n    const sqlTypes = (ovrrArgs && ovrrArgs.hasOwnProperty('sqltypes')) ? ovrrArgs.sqltypes : this.form ? this.form.getAttributesSQLTypes() : {};\n\n    let queryArguments = [compFilter, queryCols, this.entity, sqlTypes];\n    if (this.pageable) {\n      const queryOffset = (ovrrArgs && ovrrArgs.hasOwnProperty('offset')) ? ovrrArgs.offset : this.state.queryRecordOffset;\n      const queryRowsN = (ovrrArgs && ovrrArgs.hasOwnProperty('length')) ? ovrrArgs.length : this.queryRows;\n      queryArguments = queryArguments.concat([queryOffset, queryRowsN, undefined]);\n    }\n    return queryArguments;\n  }\n\n  updatePaginationInfo(queryRes: ServiceResponse) {\n    const resultEndIndex = queryRes.startRecordIndex + (queryRes.data ? queryRes.data.length : 0);\n    if (queryRes.startRecordIndex !== undefined) {\n      this.state.queryRecordOffset = resultEndIndex;\n    }\n    if (queryRes.totalQueryRecordsNumber !== undefined) {\n      this.state.totalQueryRecordsNumber = queryRes.totalQueryRecordsNumber;\n    }\n  }\n\n  getTotalRecordsNumber(): number {\n    return (this.state && this.state.totalQueryRecordsNumber !== undefined) ? this.state.totalQueryRecordsNumber : undefined;\n  }\n\n  getComponentFilter(existingFilter: any = {}): any {\n    const filterParentKeys = ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form);\n    existingFilter = Object.assign(existingFilter || {}, filterParentKeys);\n    return existingFilter;\n  }\n\n  getSqlTypes() {\n    return Util.isDefined(this.sqlTypes) ? this.sqlTypes : {};\n  }\n\n  get state(): any {\n    return this._state;\n  }\n\n  set state(arg: any) {\n    this._state = arg;\n  }\n\n  getParentKeysValues() {\n    return ServiceUtils.getParentKeysFromForm(this._pKeysEquiv, this.form);\n  }\n\n  protected updateStateStorage(): void {\n    if (this.localStorageService && this.storeState && !this.alreadyStored) {\n      this.alreadyStored = true;\n      this.localStorageService.updateComponentStorage(this, this.getRouteKey());\n    }\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    //\n  }\n\n  initializeState() {\n    // Get previous status\n    this.state = this.localStorageService.getComponentStorage(this, this.getRouteKey());\n  }\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { ElementRef, forwardRef, Injector, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nimport { OFilterBuilderComponent } from '../components/filter-builder/o-filter-builder.component';\nimport { OSearchInputComponent } from '../components/input/search-input/o-search-input.component';\nimport { InputConverter } from '../decorators/input-converter';\nimport { OFormLayoutDialogComponent } from '../layouts/form-layout/dialog/o-form-layout-dialog.component';\nimport { OFormLayoutManagerComponent } from '../layouts/form-layout/o-form-layout-manager.component';\nimport { NavigationService } from '../services/navigation.service';\nimport { PermissionsService } from '../services/permissions/permissions.service';\nimport { OTranslateService } from '../services/translate/o-translate.service';\nimport { Expression } from '../types/expression.type';\nimport { OListInitializationOptions } from '../types/o-list-initialization-options.type';\nimport { OTableInitializationOptions } from '../types/o-table-initialization-options.type';\nimport { Codes } from '../util/codes';\nimport { FilterExpressionUtils } from '../util/filter-expression.utils';\nimport { Util } from '../util/util';\nimport { OFormComponent } from './form/o-form.component';\nimport { DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT, OServiceBaseComponent } from './o-service-base-component.class';\n\nexport const DEFAULT_INPUTS_O_SERVICE_COMPONENT = [\n  ...DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT,\n\n  '_title: title',\n\n  // visible [no|yes]: visibility. Default: yes.\n  'ovisible: visible',\n\n  // enabled [no|yes]: editability. Default: yes.\n  'enabled',\n\n  // controls [string][yes|no|true|false]:\n  'controls',\n\n  // detail-mode [none|click|doubleclick]: way to open the detail form of a row. Default: 'click'.\n  'detailMode: detail-mode',\n\n  // detail-form-route [string]: route of detail form. Default: 'detail'.\n  'detailFormRoute: detail-form-route',\n\n  // recursive-detail [no|yes]: do not append detail keys when navigate (overwrite current). Default: no.\n  'recursiveDetail: recursive-detail',\n\n  // detail-button-in-row [no|yes]: adding a button in row for opening detail form. Default: yes.\n  'detailButtonInRow: detail-button-in-row',\n\n  // detail-button-in-row-icon [string]: material icon. Default: mode_edit.\n  'detailButtonInRowIcon: detail-button-in-row-icon',\n\n  // edit-form-route [string]: route of edit form. Default: 'edit'.\n  'editFormRoute: edit-form-route',\n\n  // recursive-edit [no|yes]: do not append detail keys when navigate (overwrite current). Default: no.\n  'recursiveEdit: recursive-edit',\n\n  // edit-button-in-row [no|yes]: adding a button in row for opening edition form. Default: no.\n  'editButtonInRow: edit-button-in-row',\n\n  // edit-button-in-row-icon [string]: material icon. Default: search.\n  'editButtonInRowIcon: edit-button-in-row-icon',\n\n  // insert-button [no|yes]: show insert button. Default: yes.\n  'insertButton: insert-button',\n\n  // row-height [small | medium | large]\n  'rowHeight : row-height',\n\n  // insert-form-route [string]: route of insert form. Default:\n  'insertFormRoute: insert-form-route',\n\n  // recursive-insert [no|yes]: do not append insert keys when navigate (overwrite current). Default: no.\n  'recursiveInsert: recursive-insert',\n\n  // filter [yes|no|true|false]: whether filter is case sensitive. Default: no.\n  'filterCaseSensitive: filter-case-sensitive',\n\n  // quick-filter [no|yes]: show quick filter. Default: yes.\n  'quickFilter: quick-filter',\n];\n\nexport class OServiceComponent extends OServiceBaseComponent {\n\n  protected permissionsService: PermissionsService;\n  protected translateService: OTranslateService;\n  protected navigationService: NavigationService;\n\n  /* inputs variables */\n  set title(val: string) {\n    this._title = val;\n  }\n  get title(): string {\n    if (Util.isDefined(this._title)) {\n      return this.translateService.get(this._title);\n    }\n    return this._title;\n  }\n  protected _title: string;\n  @InputConverter()\n  protected ovisible: boolean = true;\n  @InputConverter()\n  protected oenabled: boolean = true;\n  @InputConverter()\n  protected controls: boolean = true;\n  public detailMode: string = Codes.DETAIL_MODE_CLICK;\n  protected detailFormRoute: string;\n  @InputConverter()\n  protected recursiveDetail: boolean = false;\n  @InputConverter()\n  detailButtonInRow: boolean = false;\n  detailButtonInRowIcon: string = Codes.DETAIL_ICON;\n  protected editFormRoute: string;\n  @InputConverter()\n  protected recursiveEdit: boolean = false;\n  @InputConverter()\n  editButtonInRow: boolean = false;\n  editButtonInRowIcon: string = Codes.EDIT_ICON;\n  @InputConverter()\n  insertButton: boolean;\n  protected _rowHeight = Codes.DEFAULT_ROW_HEIGHT;\n  protected rowHeightSubject: BehaviorSubject<string> = new BehaviorSubject(this._rowHeight);\n  public rowHeightObservable: Observable<string> = this.rowHeightSubject.asObservable();\n\n  set rowHeight(value) {\n    this._rowHeight = value ? value.toLowerCase() : value;\n    if (!Codes.isValidRowHeight(this._rowHeight)) {\n      this._rowHeight = Codes.DEFAULT_ROW_HEIGHT;\n    }\n    this.rowHeightSubject.next(this._rowHeight);\n  }\n  get rowHeight(): string {\n    return this._rowHeight;\n  }\n  protected insertFormRoute: string;\n  @InputConverter()\n  protected recursiveInsert: boolean = false;\n  @InputConverter()\n  public filterCaseSensitive: boolean = false;\n  protected _quickFilter: boolean = true;\n  get quickFilter(): boolean {\n    return this._quickFilter;\n  }\n  set quickFilter(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._quickFilter = val;\n    if (val) {\n      setTimeout(() => this.registerQuickFilter(this.searchInputComponent), 0);\n    }\n  }\n  /* end of inputs variables */\n\n  public filterBuilder: OFilterBuilderComponent;\n  public selection = new SelectionModel<Element>(true, []);\n\n  protected onTriggerUpdateSubscription: any;\n  protected formLayoutManager: OFormLayoutManagerComponent;\n  protected formLayoutManagerTabIndex: number;\n  public oFormLayoutDialog: OFormLayoutDialogComponent;\n\n  protected tabsSubscriptions: any;\n  public quickFilterComponent: OSearchInputComponent;\n  @ViewChild((forwardRef(() => OSearchInputComponent)), { static: false })\n  public searchInputComponent: OSearchInputComponent;\n  protected quickFilterColArray: string[];\n\n  constructor(\n    injector: Injector,\n    protected elRef: ElementRef,\n    protected form: OFormComponent\n  ) {\n    super(injector);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.navigationService = this.injector.get(NavigationService);\n    try {\n      this.formLayoutManager = this.injector.get(OFormLayoutManagerComponent);\n    } catch (e) {\n      // no parent form layout manager\n    }\n    try {\n      this.oFormLayoutDialog = this.injector.get(OFormLayoutDialogComponent);\n      this.formLayoutManager = this.oFormLayoutDialog.formLayoutManager;\n    } catch (e) {\n      // no parent form layout manager\n    }\n  }\n\n  public initialize(): void {\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode() && this.formLayoutManager.oTabGroup) {\n\n      this.formLayoutManagerTabIndex = this.formLayoutManager.oTabGroup.data.length;\n\n      this.tabsSubscriptions = this.formLayoutManager.oTabGroup.onSelectedTabChange.subscribe(() => {\n        if (this.formLayoutManagerTabIndex !== this.formLayoutManager.oTabGroup.selectedTabIndex) {\n          this.updateStateStorage();\n          // when the storage is updated because a form layout manager tab change\n          // the alreadyStored control variable is changed to its initial value\n          this.alreadyStored = false;\n        }\n      });\n\n      this.tabsSubscriptions.add(this.formLayoutManager.oTabGroup.onCloseTab.subscribe(() => {\n        if (this.formLayoutManagerTabIndex === this.formLayoutManager.oTabGroup.selectedTabIndex) {\n          this.updateStateStorage();\n        }\n      }));\n    }\n    super.initialize();\n    if (this.detailButtonInRow || this.editButtonInRow) {\n      this.detailMode = Codes.DETAIL_MODE_NONE;\n    }\n\n  }\n\n  public afterViewInit(): void {\n    super.afterViewInit();\n    if (this.elRef) {\n      this.elRef.nativeElement.removeAttribute('title');\n    }\n    if (this.formLayoutManager && this.formLayoutManager.isMainComponent(this)) {\n      this.onTriggerUpdateSubscription = this.formLayoutManager.onTriggerUpdate.subscribe(() => {\n        this.reloadData();\n      });\n    }\n  }\n\n  public destroy(): void {\n    super.destroy();\n    if (this.onTriggerUpdateSubscription) {\n      this.onTriggerUpdateSubscription.unsubscribe();\n    }\n    if (this.tabsSubscriptions) {\n      this.tabsSubscriptions.unsubscribe();\n    }\n  }\n\n  public isVisible(): boolean {\n    return this.ovisible;\n  }\n\n  public hasControls(): boolean {\n    return this.controls;\n  }\n\n  public hasTitle(): boolean {\n    return this.title !== undefined;\n  }\n\n  public getSelectedItems(): any[] {\n    return this.selection.selected;\n  }\n\n  public clearSelection(): void {\n    this.selection.clear();\n  }\n\n  public setSelected(item: any): void {\n    this.selection.toggle(item);\n  }\n\n  protected navigateToDetail(route: any[], qParams: any, relativeTo: ActivatedRoute): void {\n    const extras = {\n      relativeTo: relativeTo\n    };\n    if (this.formLayoutManager && this.formLayoutManager.isMainComponent(this)) {\n      qParams[Codes.IGNORE_CAN_DEACTIVATE] = true;\n      this.formLayoutManager.setAsActiveFormLayoutManager();\n    }\n    extras[Codes.QUERY_PARAMS] = qParams;\n    this.router.navigate(route, extras);\n  }\n\n  public insertDetail(): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    const route = this.getInsertRoute();\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      const relativeTo = this.recursiveInsert ? this.actRoute.parent : this.actRoute;\n      const qParams = {};\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  public viewDetail(item: any): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    const route = this.getItemModeRoute(item, 'detailFormRoute');\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      const qParams = Codes.getIsDetailObject();\n      const relativeTo = this.recursiveDetail ? this.actRoute.parent : this.actRoute;\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  public editDetail(item: any): void {\n    if (this.oFormLayoutDialog) {\n      console.warn('Navigation is not available yet in a form layout manager with mode=\"dialog\"');\n      return;\n    }\n    const route = this.getItemModeRoute(item, 'editFormRoute');\n    this.addFormLayoutManagerRoute(route);\n    if (route.length > 0) {\n      const qParams = Codes.getIsDetailObject();\n      const relativeTo = this.recursiveEdit ? this.actRoute.parent : this.actRoute;\n      this.navigateToDetail(route, qParams, relativeTo);\n    }\n  }\n\n  protected addFormLayoutManagerRoute(routeArr: any[]): void {\n    if (this.formLayoutManager && routeArr.length > 0) {\n      const compRoute = this.formLayoutManager.getRouteForComponent(this);\n      if (compRoute && compRoute.length > 0) {\n        routeArr.unshift(...compRoute);\n      }\n    }\n  }\n\n  protected getEncodedParentKeys(): string {\n    let encoded: string;\n    if (Object.keys(this._pKeysEquiv).length > 0) {\n      const pKeys = this.getParentKeysValues();\n      if (Object.keys(pKeys).length > 0) {\n        encoded = Util.encodeParentKeys(pKeys);\n      }\n    }\n    return encoded;\n  }\n\n  public getInsertRoute(): any[] {\n    const route = [];\n    if (Util.isDefined(this.detailFormRoute)) {\n      route.push(this.detailFormRoute);\n    }\n    const insertRoute = Util.isDefined(this.insertFormRoute) ? this.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE;\n    route.push(insertRoute);\n    // adding parent-keys info...\n    const encodedParentKeys = this.getEncodedParentKeys();\n    if (Util.isDefined(encodedParentKeys)) {\n      const routeObj = {};\n      routeObj[Codes.PARENT_KEYS_KEY] = encodedParentKeys;\n      route.push(routeObj);\n    }\n    if (route.length > 0) {\n      this.storeNavigationFormRoutes('insertFormRoute');\n    }\n    return route;\n  }\n\n  public getItemModeRoute(item: any, modeRoute: string): any[] {\n    const result = this.getRouteOfSelectedRow(item);\n    if (result.length > 0) {\n      if (Util.isDefined(this.detailFormRoute)) {\n        result.unshift(this.detailFormRoute);\n      }\n      if (modeRoute === 'editFormRoute') {\n        result.push(this.editFormRoute || Codes.DEFAULT_EDIT_ROUTE);\n      }\n    }\n    if (result.length > 0 && !this.oFormLayoutDialog) {\n      this.storeNavigationFormRoutes(modeRoute, this.getQueryConfiguration());\n    }\n    return result;\n  }\n\n  protected getQueryConfiguration(): any {\n    let result = {\n      keysValues: this.getKeysValues()\n    };\n    if (this.pageable) {\n      result = Object.assign({\n        serviceType: this.serviceType,\n        queryArguments: this.queryArguments,\n        entity: this.entity,\n        service: this.service,\n        queryMethod: this.pageable ? this.paginatedQueryMethod : this.queryMethod,\n        totalRecordsNumber: this.getTotalRecordsNumber(),\n        queryRows: this.queryRows,\n        queryRecordOffset: Math.max(this.state.queryRecordOffset - this.queryRows, 0)\n      }, result);\n    }\n    return result;\n  }\n\n  public getRouteOfSelectedRow(item: any): any[] {\n    const route = [];\n    if (Util.isObject(item)) {\n      this.keysArray.forEach(key => {\n        if (Util.isDefined(item[key])) {\n          route.push(item[key]);\n        }\n      });\n    }\n    return route;\n  }\n\n  protected deleteLocalItems(): void {\n    const selectedItems = this.getSelectedItems();\n    for (let i = 0; i < selectedItems.length; ++i) {\n      const selectedItem = selectedItems[i];\n      const selectedItemKv = {};\n      for (let k = 0; k < this.keysArray.length; ++k) {\n        const key = this.keysArray[k];\n        selectedItemKv[key] = selectedItem[key];\n      }\n      for (let j = this.dataArray.length - 1; j >= 0; --j) {\n        const item = this.dataArray[j];\n        const itemKv = {};\n        for (let k = 0; k < this.keysArray.length; ++k) {\n          const key = this.keysArray[k];\n          itemKv[key] = item[key];\n        }\n        let found = false;\n        for (const k in selectedItemKv) {\n          if (selectedItemKv.hasOwnProperty(k)) {\n            found = itemKv.hasOwnProperty(k) && (selectedItemKv[k] === itemKv[k]);\n          }\n        }\n        if (found) {\n          this.dataArray.splice(j, 1);\n          break;\n        }\n      }\n    }\n    this.clearSelection();\n  }\n\n  public reinitialize(options: OListInitializationOptions | OTableInitializationOptions): void {\n    if (options && Object.keys(options).length) {\n      const clonedOpts = Object.assign({}, options);\n      if (clonedOpts.hasOwnProperty('entity')) {\n        this.entity = clonedOpts.entity;\n        if (this.oattrFromEntity) {\n          this.oattr = undefined;\n        }\n        delete clonedOpts.entity;\n      }\n      for (const prop in clonedOpts) {\n        if (clonedOpts.hasOwnProperty(prop)) {\n          this[prop] = clonedOpts[prop];\n        }\n      }\n      this.destroy();\n      this.initialize();\n    }\n  }\n\n  /**\n   * Sets the `o-filter-builder` component that this component will use to filter its data.\n   * @param filterBuilder the `o-filter-builder` component.\n   */\n  public setFilterBuilder(filterBuilder: OFilterBuilderComponent): void {\n    this.filterBuilder = filterBuilder;\n  }\n\n  public getComponentFilter(existingFilter: any = {}): any {\n    const filter = super.getComponentFilter(existingFilter);\n\n    const quickFilterExpr = this.getQuickFilterExpression();\n    const filterBuilderExpr = this.getFilterBuilderExpression();\n    let complexExpr = quickFilterExpr || filterBuilderExpr;\n    if (quickFilterExpr && filterBuilderExpr) {\n      complexExpr = FilterExpressionUtils.buildComplexExpression(quickFilterExpr, filterBuilderExpr, FilterExpressionUtils.OP_AND);\n    }\n\n    if (complexExpr && !Util.isDefined(filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY])) {\n      filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY] = complexExpr;\n    } else if (complexExpr) {\n      filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY] =\n        FilterExpressionUtils.buildComplexExpression(filter[FilterExpressionUtils.BASIC_EXPRESSION_KEY], complexExpr, FilterExpressionUtils.OP_AND);\n    }\n\n    return filter;\n  }\n\n  protected getQuickFilterExpression(): Expression {\n    if (this.pageable && Util.isDefined(this.quickFilterComponent)) {\n      return this.quickFilterComponent.filterExpression;\n    }\n    return undefined;\n  }\n\n  protected getFilterBuilderExpression(): Expression {\n    // Add filter from o-filter-builder component\n    if (Util.isDefined(this.filterBuilder)) {\n      return this.filterBuilder.getExpression();\n    }\n    return undefined;\n  }\n\n  protected storeNavigationFormRoutes(activeMode: string, queryConf?: any): void {\n    const mainFormLayoutComp = this.formLayoutManager ? Util.isDefined(this.formLayoutManager.isMainComponent(this)) : undefined;\n    this.navigationService.storeFormRoutes({\n      mainFormLayoutManagerComponent: mainFormLayoutComp,\n      isMainNavigationComponent: true,\n      detailFormRoute: this.detailFormRoute,\n      editFormRoute: this.editFormRoute,\n      insertFormRoute: Util.isDefined(this.insertFormRoute) ? this.insertFormRoute : Codes.DEFAULT_INSERT_ROUTE\n    }, activeMode, queryConf);\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    // Save data of the list in navigation-data in the localstorage\n  }\n\n  protected getKeysValues(): any[] {\n    const data = this.dataArray;\n    const self = this;\n    return data.map((row) => {\n      const obj = {};\n      self.keysArray.forEach((key) => {\n        if (row[key] !== undefined) {\n          obj[key] = row[key];\n        }\n      });\n      return obj;\n    });\n  }\n\n  getRouteKey(): string {\n    let route = '';\n    if (this.formLayoutManager && !this.formLayoutManager.isMainComponent(this)) {\n      route = this.router.url;\n      const params = this.formLayoutManager.getParams();\n      if (params) {\n        route += '/' + (Object.keys(params).join('/'));\n      }\n    } else {\n      route = super.getRouteKey();\n    }\n    return route;\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n\n  initializeState() {\n    let routeKey = super.getRouteKey();\n    if (this.formLayoutManager && this.formLayoutManager.isTabMode() && !this.formLayoutManager.isMainComponent(this)) {\n      try {\n        const params = this.formLayoutManager.oTabGroup.state.tabsData[0].params;\n        if (params) {\n          routeKey = this.router.url;\n          routeKey += '/' + (Object.keys(params).join('/'));\n        }\n      } catch (e) {\n        //\n      }\n    }\n    // Get previous status\n    this.state = this.localStorageService.getComponentStorage(this, routeKey);\n\n  }\n\n  public showCaseSensitiveCheckbox(): boolean {\n    return !this.pageable;\n  }\n\n  public registerQuickFilter(arg: any): void {\n    const quickFilter = (arg as OSearchInputComponent);\n    if (Util.isDefined(this.quickFilterComponent)) {\n      // avoiding to register a quickfiltercomponent if it already exists one\n      return;\n    }\n    this.quickFilterComponent = quickFilter;\n    if (Util.isDefined(this.quickFilterComponent)) {\n      if (this.state.hasOwnProperty('filterValue')) {\n        this.quickFilterComponent.setValue(this.state.filterValue);\n      }\n      if (this.state.hasOwnProperty('quickFilterActiveColumns')) {\n        const parsedArr = Util.parseArray(this.state.quickFilterActiveColumns, true);\n        this.quickFilterComponent.setActiveColumns(parsedArr);\n      }\n      this.quickFilterComponent.onSearch.subscribe(val => this.filterData(val));\n    }\n  }\n\n  public filterData(value?: string, loadMore?: boolean): void {\n    //\n  }\n\n  public isFilterCaseSensitive(): boolean {\n    const useQuickFilterValue = Util.isDefined(this.quickFilterComponent) && this.showCaseSensitiveCheckbox();\n    if (useQuickFilterValue) {\n      return this.quickFilterComponent.filterCaseSensitive;\n    }\n    return this.filterCaseSensitive;\n  }\n\n  public configureFilterValue(value: string): string {\n    let returnVal = value;\n    if (value && value.length > 0) {\n      if (!value.startsWith('*')) {\n        returnVal = '*' + returnVal;\n      }\n      if (!value.endsWith('*')) {\n        returnVal = returnVal + '*';\n      }\n    }\n    return returnVal;\n  }\n\n  public getQuickFilterValue(): string {\n    const result = '';\n    if (Util.isDefined(this.quickFilterComponent)) {\n      return this.quickFilterComponent.getValue() || '';\n    }\n    return result;\n  }\n\n  public getQuickFilterColumns(): string[] {\n    let result = this.quickFilterColArray;\n    if (Util.isDefined(this.quickFilterComponent)) {\n      result = this.quickFilterComponent.getActiveColumns();\n    }\n    return result;\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  QueryList,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport { MediaChange, MediaObserver } from '@angular/flex-layout';\nimport { MatPaginator, PageEvent } from '@angular/material';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { IGridItem } from '../../interfaces/o-grid-item.interface';\nimport { OntimizeServiceProvider } from '../../services/factories';\nimport { OQueryDataArgs } from '../../types/query-data-args.type';\nimport { SQLOrder } from '../../types/sql-order.type';\nimport { ObservableWrapper } from '../../util/async';\nimport { Codes } from '../../util/codes';\nimport { ServiceUtils } from '../../util/service.utils';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\nimport { DEFAULT_INPUTS_O_SERVICE_COMPONENT, OServiceComponent } from '../o-service-component.class';\nimport { OGridItemComponent } from './grid-item/o-grid-item.component';\nimport { OGridItemDirective } from './grid-item/o-grid-item.directive';\n\nexport const DEFAULT_INPUTS_O_GRID = [\n  ...DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n  // cols: Amount of columns in the grid list. Default in extra small and small screen is 1, in medium screen is 2, in large screen is 3 and extra large screen is 4.\n  'cols',\n  // page-size-options [string]: Page size options separated by ';'.\n  'pageSizeOptions: page-size-options',\n  // show-page-size:Whether to hide the page size selection UI from the user.\n  'showPageSize: show-page-size',\n  // show-sort:whether or not the sort select is shown in the toolbar\n  'showSort: orderable',\n  // sortable[string]: columns of the filter, separated by ';'. Default: no value.\n  'sortableColumns: sortable-columns',\n  // sortColumns[string]: columns of the sortingcolumns, separated by ';'. Default: no value.\n  'sortColumn: sort-column',\n  // quick-filter-columns [string]: columns of the filter, separated by ';'. Default: no value.\n  'quickFilterColumns: quick-filter-columns',\n  //  grid-item-height[string]: Set internal representation of row height from the user-provided value.. Default: 1:1.\n  'gridItemHeight: grid-item-height',\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n  // pagination-controls [yes|no|true|false]: show pagination controls. Default: no.\n  'paginationControls: pagination-controls',\n  // gutterSize: Size of the grid list's gutter in pixels.\n  'gutterSize:gutter-size',\n  // fix-header [yes|no|true|false]: fixed footer when the content is greather than its own height. Default: no.\n  'fixedHeader:fixed-header',\n  // show-footer:Indicates whether or not to show the footer:Default:true\n  'showFooter:show-footer'\n];\n\nexport const DEFAULT_OUTPUTS_O_GRID = [\n  'onClick',\n  'onDoubleClick',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\nconst PAGE_SIZE_OPTIONS = [8, 16, 24, 32, 64];\n\n@Component({\n  selector: 'o-grid',\n  providers: [\n    OntimizeServiceProvider\n  ],\n  inputs: DEFAULT_INPUTS_O_GRID,\n  outputs: DEFAULT_OUTPUTS_O_GRID,\n  templateUrl: './o-grid.component.html',\n  styleUrls: ['./o-grid.component.scss'],\n  host: {\n    '[class.o-grid]': 'true',\n    '[class.o-grid-fixed]': 'fixedHeader',\n  }\n})\nexport class OGridComponent extends OServiceComponent implements AfterViewInit, OnChanges, OnDestroy, OnInit {\n\n  /* Inputs */\n  @InputConverter()\n  public queryRows: number = 32;\n\n  @InputConverter()\n  public fixedHeader: boolean = false;\n\n  @InputConverter()\n  public showPageSize: boolean = false;\n\n  @InputConverter()\n  public showSort: boolean = false;\n\n  @InputConverter()\n  public showFooter: boolean = true;\n\n  public gridItemHeight = '1:1';\n\n  @InputConverter()\n  public refreshButton: boolean = true;\n\n  @InputConverter()\n  public paginationControls: boolean = false;\n\n  public gutterSize = '1px';\n\n  get cols(): number {\n    return this._cols || this._colsDefault;\n  }\n  set cols(value: number) {\n    this._cols = value;\n  }\n\n  get pageSizeOptions(): number[] {\n    return this._pageSizeOptions;\n  }\n  set pageSizeOptions(val: number[]) {\n    if (!(val instanceof Array)) {\n      val = Util.parseArray(String(val)).map(a => parseInt(a, 10));\n    }\n    this._pageSizeOptions = val;\n  }\n\n  get sortableColumns(): SQLOrder[] {\n    return this._sortableColumns;\n  }\n  set sortableColumns(val) {\n    let parsed = [];\n    if (!Util.isArray(val)) {\n      parsed = ServiceUtils.parseSortColumns(String(val));\n    }\n    this._sortableColumns = parsed;\n  }\n\n  public quickFilterColumns: string;\n  /* End Inputs */\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n\n  @ContentChildren(forwardRef(() => OGridItemComponent))\n  public inputGridItems: QueryList<OGridItemComponent>;\n  @ViewChildren(OGridItemDirective)\n  public gridItemDirectives: QueryList<OGridItemDirective>;\n  @ViewChild(MatPaginator, { static: false })\n  public matpaginator: MatPaginator;\n\n  /* Parsed Inputs */\n  protected _sortableColumns: SQLOrder[] = [];\n  protected sortColumnOrder: SQLOrder;\n  /* End parsed Inputs */\n\n  protected _cols;\n  protected _colsDefault = 1;\n  protected _pageSizeOptions = PAGE_SIZE_OPTIONS;\n  protected sortColumn: string;\n  protected dataResponseArray: any[] = [];\n  protected storePaginationState: boolean = false;\n\n  set gridItems(value: IGridItem[]) {\n    this._gridItems = value;\n  }\n\n  get gridItems(): IGridItem[] {\n    return this._gridItems;\n  }\n\n  protected _gridItems: IGridItem[] = [];\n\n  set currentPage(val: number) {\n    this._currentPage = val;\n  }\n\n  get currentPage(): number {\n    return this._currentPage;\n  }\n\n  protected _currentPage: number = 0;\n\n  protected subscription: Subscription = new Subscription();\n  protected media: MediaObserver;\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n    this.media = this.injector.get(MediaObserver);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (this.state.hasOwnProperty('sort-column')) {\n      this.sortColumn = this.state['sort-column'];\n    }\n\n    this.parseSortColumn();\n\n    const existingOption = this.pageSizeOptions.find(option => option === this.queryRows);\n    if (!Util.isDefined(existingOption)) {\n      this._pageSizeOptions.push(this.queryRows);\n      this._pageSizeOptions.sort((i: number, j: number) => i - j);\n    }\n\n    if (!Util.isDefined(this.quickFilterColumns)) {\n      this.quickFilterColumns = this.columns;\n    }\n    this.quickFilterColArray = Util.parseArray(this.quickFilterColumns, true);\n\n    if (this.state.hasOwnProperty('currentPage')) {\n      this.currentPage = this.state['currentPage'];\n    }\n\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  public ngAfterViewInit(): void {\n    super.afterViewInit();\n    this.setGridItemDirectivesData();\n    if (this.searchInputComponent) {\n      this.registerQuickFilter(this.searchInputComponent);\n    }\n    this.subscribeToMediaChanges();\n  }\n\n  public ngAfterContentInit(): void {\n    this.gridItems = this.inputGridItems.toArray();\n    this.subscription.add(this.inputGridItems.changes.subscribe(queryChanges => {\n      this.gridItems = queryChanges._results;\n    }));\n  }\n\n  public subscribeToMediaChanges(): void {\n    this.subscription.add(this.media.asObservable().subscribe((change: MediaChange[]) => {\n      if (change && change[0]) {\n        switch (change[0].mqAlias) {\n          case 'xs':\n          case 'sm':\n            this._colsDefault = 1;\n            break;\n          case 'md':\n            this._colsDefault = 2;\n            break;\n          case 'lg':\n          case 'xl':\n            this._colsDefault = 4;\n        }\n      }\n    }));\n  }\n\n  public reloadData(): void {\n    let queryArgs: OQueryDataArgs = {};\n    if (this.pageable) {\n      this.state.queryRecordOffset = 0;\n      queryArgs = {\n        offset: this.paginationControls ? (this.currentPage * this.queryRows) : 0,\n        length: Math.max(this.queryRows, this.dataResponseArray.length),\n        replace: true\n      };\n    }\n    this.queryData(void 0, queryArgs);\n  }\n\n  public reloadPaginatedDataFromStart(): void {\n    this.currentPage = 0;\n    this.dataResponseArray = [];\n    this.reloadData();\n  }\n\n\n  public setDataArray(data: any): void {\n    if (Util.isArray(data)) {\n      this.dataResponseArray = data;\n    } else if (Util.isObject(data)) {\n      this.dataResponseArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or Object');\n      this.dataResponseArray = [];\n    }\n    this.filterData();\n  }\n\n  /**\n   * Filters data locally\n   * @param value the filtering value\n   */\n  public filterData(value?: string, loadMore?: boolean): void {\n    value = Util.isDefined(value) ? value : Util.isDefined(this.quickFilterComponent) ? this.quickFilterComponent.getValue() : void 0;\n    if (this.state && Util.isDefined(value)) {\n      this.state.filterValue = value;\n    }\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: this.queryRows,\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n      return;\n    }\n\n    if (this.dataResponseArray && this.dataResponseArray.length > 0) {\n      let filteredData = this.dataResponseArray.slice(0);\n      if (value && value.length > 0) {\n        const caseSensitive = this.isFilterCaseSensitive();\n        const self = this;\n\n        filteredData = filteredData.filter(item => {\n          return self.getQuickFilterColumns().some(col => {\n            const regExpStr = Util.escapeSpecialCharacter(Util.normalizeString(value, !caseSensitive));\n            return new RegExp(regExpStr).test(Util.normalizeString(item[col] + '', !caseSensitive));\n          });\n\n        });\n      }\n      if (Util.isDefined(this.sortColumnOrder)) {\n        // Simple sorting\n        const sort = this.sortColumnOrder;\n        const factor = (sort.ascendent ? 1 : -1);\n        // filteredData = filteredData.sort((a, b) => (Util.normalizeString(a[sort.columnName]) > Util.normalizeString(b[sort.columnName])) ? (1 * factor) : (Util.normalizeString(b[sort.columnName]) > Util.normalizeString(a[sort.columnName])) ? (-1 * factor) : 0);\n        filteredData.sort((a, b) => {\n          const aOp = isNaN(a[sort.columnName]) ? Util.normalizeString(a[sort.columnName]) : a[sort.columnName];\n          const bOp = isNaN(b[sort.columnName]) ? Util.normalizeString(b[sort.columnName]) : b[sort.columnName];\n          return (aOp > bOp) ? (1 * factor) : (bOp > aOp) ? (-1 * factor) : 0;\n        });\n      }\n      if (this.paginationControls) {\n        this.dataArray = filteredData.splice(this.currentPage * this.queryRows, this.queryRows);\n      } else {\n        this.dataArray = filteredData.splice(0, this.queryRows * (this.currentPage + 1));\n      }\n    } else {\n      this.dataArray = this.dataResponseArray;\n    }\n  }\n\n  public registerGridItemDirective(item: OGridItemDirective): void {\n    if (item) {\n      const self = this;\n      if (self.detailMode === Codes.DETAIL_MODE_CLICK) {\n        item.onClick(gridItem => self.onItemDetailClick(gridItem));\n      }\n      if (Codes.isDoubleClickMode(self.detailMode)) {\n        item.onDoubleClick(gridItem => self.onItemDetailDblClick(gridItem));\n      }\n    }\n  }\n\n  public onItemDetailClick(item: OGridItemDirective): void {\n    if (this.oenabled && this.detailMode === Codes.DETAIL_MODE_CLICK) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item.getItemData());\n      ObservableWrapper.callEmit(this.onClick, item);\n    }\n  }\n\n  public onItemDetailDblClick(item: OGridItemDirective): void {\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item.getItemData());\n      ObservableWrapper.callEmit(this.onDoubleClick, item);\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  public destroy(): void {\n    super.destroy();\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  public loadMore(): void {\n    this.currentPage += 1;\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: this.state.queryRecordOffset,\n        length: this.queryRows\n      };\n      this.queryData(void 0, queryArgs);\n    } else {\n      this.filterData(void 0, true);\n    }\n  }\n\n  get totalRecords(): number {\n    if (this.pageable) {\n      return this.getTotalRecordsNumber();\n    }\n    return this.dataResponseArray.length;\n  }\n\n  public getQueryArguments(filter: object, ovrrArgs?: OQueryDataArgs): any[] {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    // queryArguments[3] = this.getSqlTypesForFilter(queryArguments[1]);\n    if (this.pageable && Util.isDefined(this.sortColumn)) {\n      queryArguments[6] = this.sortColumnOrder ? [this.sortColumnOrder] : this.sortColumnOrder;\n    }\n    return queryArguments;\n  }\n\n  public parseSortColumn(): void {\n    const parsed = (ServiceUtils.parseSortColumns(this.sortColumn) || [])[0];\n    const exists = parsed ? this.sortableColumns.find((item: SQLOrder) => (item.columnName === parsed.columnName) && (item.ascendent === parsed.ascendent)) : false;\n    if (exists) {\n      this.sortColumnOrder = parsed;\n    }\n  }\n\n  get currentOrderColumn(): number {\n    if (!Util.isDefined(this.sortColumnOrder)) {\n      return undefined;\n    }\n    let index;\n    this.sortableColumns.forEach((item: SQLOrder, i: number) => {\n      if ((item.columnName === this.sortColumnOrder.columnName) &&\n        (item.ascendent === this.sortColumnOrder.ascendent)) {\n        index = i;\n      }\n    });\n    return index;\n  }\n\n  set currentOrderColumn(val: number) {\n    this.sortColumnOrder = this.sortableColumns[val];\n  }\n\n  public onChangePage(e: PageEvent): void {\n    if (!this.pageable) {\n      this.currentPage = e.pageIndex;\n      this.queryRows = e.pageSize;\n      this.filterData();\n      return;\n    }\n    const tableState = this.state;\n\n    const goingBack = e.pageIndex < this.currentPage;\n    this.currentPage = e.pageIndex;\n    const pageSize = e.pageSize;\n\n    const oldQueryRows = this.queryRows;\n    const changingPageSize = (oldQueryRows !== pageSize);\n    this.queryRows = pageSize;\n\n    let newStartRecord;\n    let queryLength;\n\n    if (goingBack || changingPageSize) {\n      newStartRecord = (this.currentPage * this.queryRows);\n      queryLength = this.queryRows;\n    } else {\n      newStartRecord = Math.max(tableState.queryRecordOffset, (this.currentPage * this.queryRows));\n      const newEndRecord = Math.min(newStartRecord + this.queryRows, tableState.totalQueryRecordsNumber);\n      queryLength = Math.min(this.queryRows, newEndRecord - newStartRecord);\n    }\n\n    const queryArgs: OQueryDataArgs = {\n      offset: newStartRecord,\n      length: queryLength\n    };\n    this.queryData(void 0, queryArgs);\n  }\n\n  public getDataToStore(): object {\n    const dataToStore = super.getDataToStore();\n    dataToStore['currentPage'] = this.currentPage;\n\n    if (this.storePaginationState) {\n      dataToStore['queryRecordOffset'] = Math.max(\n        (this.state.queryRecordOffset - this.dataArray.length),\n        (this.state.queryRecordOffset - this.queryRows)\n      );\n    } else {\n      delete dataToStore['queryRecordOffset'];\n    }\n\n    if (Util.isDefined(this.sortColumnOrder)) {\n      dataToStore['sort-column'] = this.sortColumnOrder.columnName + Codes.COLUMNS_ALIAS_SEPARATOR +\n        (this.sortColumnOrder.ascendent ? Codes.ASC_SORT : Codes.DESC_SORT);\n    }\n    return dataToStore;\n  }\n\n  public getSortOptionText(col: SQLOrder): string {\n    let result;\n    let colTextKey = `GRID.SORT_BY_${col.columnName.toUpperCase()}_` + (col.ascendent ? 'ASC' : 'DESC');\n    result = this.translateService.get(colTextKey);\n    if (result !== colTextKey) {\n      return result;\n    }\n    colTextKey = 'GRID.SORT_BY_' + (col.ascendent ? 'ASC' : 'DESC');\n    result = this.translateService.get(colTextKey, [(this.translateService.get(col.columnName) || '')]);\n    return result;\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    if (Util.isArray(data)) {\n      let dataArray = data;\n      let respDataArray = data;\n      if (!replace) {\n        if (this.pageable) {\n          dataArray = this.paginationControls ? data : (this.dataArray || []).concat(data);\n          respDataArray = this.paginationControls ? data : (this.dataResponseArray || []).concat(data);\n        } else {\n          dataArray = data.slice(this.paginationControls ? ((this.queryRows * (this.currentPage + 1)) - this.queryRows) : 0, this.queryRows * (this.currentPage + 1));\n          respDataArray = data;\n        }\n      }\n      this.dataArray = dataArray;\n      this.dataResponseArray = respDataArray;\n      if (!this.pageable) {\n        this.filterData();\n      }\n    } else {\n      this.dataArray = [];\n      this.dataResponseArray = [];\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.dataResponseArray);\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  protected setGridItemDirectivesData(): void {\n    const self = this;\n    this.gridItemDirectives.changes.subscribe(() => {\n      this.gridItemDirectives.toArray().forEach((element: OGridItemDirective, index) => {\n        element.setItemData(self.dataArray[index]);\n        element.setGridComponent(self);\n        self.registerGridItemDirective(element);\n      });\n    });\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OSearchInputModule } from '../input/search-input/o-search-input.module';\nimport { OGridItemComponent } from './grid-item/o-grid-item.component';\nimport { OGridItemDirective } from './grid-item/o-grid-item.directive';\nimport { OGridComponent } from './o-grid.component';\n\n@NgModule({\n  declarations: [OGridComponent, OGridItemDirective, OGridItemComponent],\n  imports: [CommonModule, OSearchInputModule, OSharedModule, RouterModule],\n  exports: [OGridComponent, OGridItemComponent, OGridItemDirective],\n  entryComponents: [OGridItemComponent]\n})\nexport class OGridModule { }\n","import { Component, Inject, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { Util } from '../../../util/util';\n\n@Component({\n  selector: 'o-fullscreen-dialog',\n  templateUrl: './fullscreen-dialog.component.html',\n  styleUrls: ['./fullscreen-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-fullscreen-dialog]': 'true'\n  }\n})\nexport class OFullScreenDialogComponent {\n\n  imageSrc: any;\n\n  constructor(\n    public dialogRef: MatDialogRef<OFullScreenDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {\n    if (Util.isDefined(data)) {\n      this.imageSrc = data;\n    }\n  }\n\n}\n","import {\n  Component,\n  ElementRef,\n  forwardRef,\n  HostBinding,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MatDialog } from '@angular/material';\nimport { DomSanitizer } from '@angular/platform-browser';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\nimport { OFormValue } from '../form/OFormValue';\nimport { OFormControl } from '../input/o-form-control.class';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../o-form-data-component.class';\nimport { OFullScreenDialogComponent } from './fullscreen/fullscreen-dialog.component';\n\n\nexport const DEFAULT_INPUTS_O_IMAGE = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'emptyimage: empty-image',\n  // not-found-image [string]: Default image for 404 error.\n  'notfoundimage: not-found-image',\n  // empty-icon [string]: material icon. Default: photo.\n  'emptyicon: empty-icon',\n  // show-controls [yes|no true|false]: Shows or hides selection controls. Default: true.\n  'showControls: show-controls',\n  // height [% | px]: Set the height of the image.\n  'height',\n  // auto-fit [yes|no true|false]: Adjusts the image to the content or not. Default: true.\n  'autoFit: auto-fit',\n  'fullScreenButton: full-screen-button',\n  // accept-file-type [string]: file types allowed on the file input, separated by ';'. Default: image/*.\n  // file_extension, image/*, media_type. See https://www.w3schools.com/tags/att_input_accept.asp\n  'acceptFileType: accept-file-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_IMAGE = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-image',\n  templateUrl: './o-image.component.html',\n  styleUrls: ['./o-image.component.scss'],\n  inputs: DEFAULT_INPUTS_O_IMAGE,\n  outputs: DEFAULT_OUTPUTS_O_IMAGE,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-image]': 'true'\n  }\n})\nexport class OImageComponent extends OFormDataComponent implements OnInit, OnDestroy {\n\n  public acceptFileType: string = 'image/*';\n  public emptyimage: string;\n  public notfoundimage: string;\n  public emptyicon: string;\n  public height: string;\n  @InputConverter()\n  public autoFit: boolean = true;\n  public currentFileName: string = '';\n  @InputConverter()\n  protected showControls: boolean = true;\n  set fullScreenButton(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._fullScreenButton = val;\n  }\n  get fullScreenButton(): boolean {\n    return this._fullScreenButton;\n  }\n  protected _fullScreenButton = false;\n\n  @ViewChild('input', { static: false })\n  protected fileInput: ElementRef;\n  protected _useEmptyIcon: boolean = true;\n  protected _useEmptyImage: boolean = false;\n  protected _domSanitizer: DomSanitizer;\n  protected dialog: MatDialog;\n  public stateCtrl: FormControl;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._domSanitizer = this.injector.get(DomSanitizer);\n    this._defaultSQLTypeKey = 'BASE64';\n    this.dialog = this.injector.get(MatDialog);\n    this.stateCtrl = new FormControl();\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n\n    if (this.emptyimage && this.emptyimage.length > 0) {\n      this._useEmptyIcon = false;\n      this._useEmptyImage = true;\n    }\n\n    if (this.emptyicon === undefined && !this._useEmptyImage) {\n      this.emptyicon = 'photo';\n      this._useEmptyIcon = true;\n      this._useEmptyImage = false;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    super.ngOnDestroy();\n  }\n\n  public ensureOFormValue(val: any): void {\n    if (val instanceof OFormValue) {\n      if (val.value && val.value.bytes !== undefined) {\n        this.value = new OFormValue(val.value.bytes);\n        return;\n      }\n      this.value = new OFormValue(val.value);\n    } else if (val && !(val instanceof OFormValue)) {\n      if (val.bytes !== undefined) {\n        val = val.bytes;\n      } else if (val.length > 300 && val.substring(0, 4) === 'data') {\n        // Removing \"data:image/*;base64,\"\n        val = val.substring(val.indexOf('base64') + 7);\n      }\n      this.value = new OFormValue(val);\n    } else {\n      this.value = new OFormValue(undefined);\n    }\n  }\n\n  public isEmpty(): boolean {\n    return !this.getValue() || this.getValue().length === 0;\n  }\n\n  public createFormControl(): OFormControl {\n    this._fControl = super.createFormControl();\n    this._fControl.fControlChildren = [this.stateCtrl];\n    return this._fControl;\n  }\n\n  public fileChange(input): void {\n    if (input.files[0]) {\n      const reader = new FileReader();\n      const self = this;\n      reader.addEventListener('load', event => {\n        let result = event.target['result'];\n        if (result && result.length > 300 && result.substring(0, 4) === 'data') {\n          // Removing \"data:image/*;base64,\"\n          result = result.substring(result.indexOf('base64') + 7);\n        }\n        self.setValue(result);\n        if (self._fControl) {\n          self._fControl.markAsTouched();\n        }\n        event.stopPropagation();\n      }, false);\n      if (input.files[0]) {\n        reader.readAsDataURL(input.files[0]);\n      }\n      // if (this.titleLabel) {\n      //   this.titleLabel.nativeElement.textContent = input.files[0].name;\n      // }\n      this.currentFileName = input.files[0].name;\n      this.stateCtrl.setValue(this.currentFileName);\n    }\n  }\n\n  public notFoundImageUrl(event): any {\n    event.target.src = Util.isDefined(this.notfoundimage) ? this.notfoundimage : '';\n  }\n\n  public getSrcValue(): any {\n    if (this.value && this.value.value) {\n      if (this.value.value instanceof Object && this.value.value.bytes) {\n        let src: string = '';\n        if (this.value.value.bytes.substring(0, 4) === 'data') {\n          src = 'data:image/*;base64,' + this.value.value.bytes.substring(this.value.value.bytes.indexOf('base64') + 7);\n        } else {\n          src = 'data:image/*;base64,' + this.value.value.bytes;\n        }\n        return this._domSanitizer.bypassSecurityTrustUrl(src);\n      } else if (typeof this.value.value === 'string' &&\n        this.value.value.length > 300) {\n        let src: string = '';\n        if (this.value.value.substring(0, 4) === 'data') {\n          src = 'data:image/*;base64,' + this.value.value.substring(this.value.value.indexOf('base64') + 7);\n        } else {\n          src = 'data:image/*;base64,' + this.value.value;\n        }\n        return this._domSanitizer.bypassSecurityTrustUrl(src);\n      }\n      if(this.value.value) {\n        return this.value.value;\n      } else {\n        return this.emptyimage;\n      } \n    } else if (this.emptyimage) {\n      return this.emptyimage;\n    }\n  }\n\n  public onClickBlocker(evt: Event): void {\n    evt.stopPropagation();\n  }\n\n  public onClickClearValue(e: Event): void {\n    if (!this.isReadOnly && this.enabled) {\n      super.onClickClearValue(e);\n      this.fileInput.nativeElement.value = '';\n      // if (this.titleLabel) {\n      //   this.titleLabel.nativeElement.textContent = '';\n      // }\n      this.stateCtrl.reset();\n      this.currentFileName = '';\n    }\n    if (this._fControl) {\n      this._fControl.markAsTouched();\n    }\n  }\n\n  public hasControls(): boolean {\n    return this.showControls;\n  }\n\n  public useEmptyIcon(): boolean {\n    return this._useEmptyIcon && this.isEmpty();\n  }\n\n  public useEmptyImage(): boolean {\n    return this._useEmptyImage && this.isEmpty();\n  }\n\n  public getFormGroup(): FormGroup {\n    let formGroup: FormGroup = super.getFormGroup();\n    if (!formGroup) {\n      formGroup = new FormGroup({});\n      formGroup.addControl(this.getAttribute(), this.getControl());\n    }\n    return formGroup;\n  }\n\n  @HostBinding('style.height')\n  get hostHeight(): string {\n    return this.height;\n  }\n\n  public openFullScreen(e?: Event): void {\n    this.dialog.open(OFullScreenDialogComponent, {\n      width: '90%',\n      height: '90%',\n      role: 'dialog',\n      disableClose: false,\n      panelClass: 'o-image-fullscreen-dialog-cdk-overlay',\n      data: this.getSrcValue()\n    });\n  }\n\n  public openFileSelector(e?: Event): void {\n    if (Util.isDefined(this.fileInput)) {\n      this.fileInput.nativeElement.click();\n    }\n  }\n\n  public internalFormControl(): string {\n    return this.getAttribute() + '_value';\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OFullScreenDialogComponent } from './fullscreen/fullscreen-dialog.component';\nimport { OImageComponent } from './o-image.component';\n\n@NgModule({\n  declarations: [OImageComponent, OFullScreenDialogComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OImageComponent, OFullScreenDialogComponent],\n  entryComponents: [OFullScreenDialogComponent]\n})\nexport class OImageModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { ThemePalette } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../../o-form-data-component.class';\nimport { OFormControl } from '../o-form-control.class';\n\nexport const DEFAULT_INPUTS_O_CHECKBOX = [\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  // color: Theme color palette for the component.\n  'color',\n  // label-position: Whether the label should appear after or before the slide-toggle. Defaults to 'after'\n  'labelPosition: label-position',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_CHECKBOX = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-checkbox',\n  inputs: DEFAULT_INPUTS_O_CHECKBOX,\n  outputs: DEFAULT_OUTPUTS_O_CHECKBOX,\n  templateUrl: './o-checkbox.component.html',\n  styleUrls: ['./o-checkbox.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-checkbox]': 'true'\n  }\n})\nexport class OCheckboxComponent extends OFormDataComponent {\n\n  public trueValue: any = true;\n  public falseValue: any = false;\n  public booleanType: 'number' | 'boolean' | 'string' = 'boolean';\n  public color: ThemePalette;\n  public labelPosition: 'before' | 'after' = 'after';\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'BOOLEAN';\n  }\n\n  initialize() {\n    //First, the sqlType must be initialized  before calling super.initialize because it overwritte the value\n    if (!Util.isDefined(this.sqlType)) {\n      switch (this.booleanType) {\n        case 'number':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'string':\n          this.sqlType = 'VARCHAR';\n          break;\n        case 'boolean':\n        default:\n          this.sqlType = 'BOOLEAN';\n      }\n    }\n\n    super.initialize();\n    const context = this;\n    (this.getFormControl() as OFormControl).getValue.bind(context);\n    (this.getFormControl() as OFormControl).getValue = () => {\n      return this.value ? context.trueValue : context.falseValue;\n    };\n  }\n\n  ensureOFormValue(value: any) {\n    this.parseInputs();\n    if (value instanceof OFormValue) {\n      if (value.value === undefined) {\n        value.value = false;\n      }\n      this.value = new OFormValue(this.parseValueByType(value.value) === this.trueValue);\n    } else if (typeof value === 'boolean') {\n      this.value = new OFormValue(value);\n    } else {\n      this.value = new OFormValue(this.parseValueByType(value) === this.trueValue);\n    }\n  }\n\n  onClickBlocker(evt: Event) {\n    evt.stopPropagation();\n  }\n\n  parseValueByType(value: any) {\n    let result: any;\n    switch (this.booleanType) {\n      case 'string':\n        result = value + '';\n        break;\n      case 'number':\n        result = parseInt(value, 10);\n        break;\n      default:\n        result = value;\n        break;\n    }\n    return result;\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue, 10);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue, 10);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OCheckboxComponent } from './o-checkbox.component';\n\n@NgModule({\n  declarations: [OCheckboxComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OCheckboxComponent]\n})\nexport class OCheckboxModule { }\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  ViewChild,\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatOption, MatSelect } from '@angular/material';\nimport { Subject } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'o-combo-search',\n  templateUrl: './o-combo-search.component.html',\n  styleUrls: ['./o-combo-search.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => OComboSearchComponent),\n      multi: true\n    }\n  ],\n  host: {\n    '[class.o-combo-search]': 'true'\n  }\n})\nexport class OComboSearchComponent implements OnInit, OnDestroy {\n\n  public placeholder: string = 'SEARCH';\n\n  /** Reference to the MatSelect options */\n  public _options: QueryList<MatOption>;\n\n  /** Current search value */\n  get value(): string {\n    return this._value;\n  }\n  protected _value: string;\n\n  /** Previously selected values when using <mat-select [multiple]=\"true\"> */\n  protected previousSelectedValues: any[];\n\n  /** Reference to the search input field */\n  @ViewChild('searchSelectInput', { read: ElementRef, static: false })\n  protected searchSelectInput: ElementRef;\n\n  /** Event that emits when the current value changes */\n  protected change = new EventEmitter<string>();\n\n  /** Subject that emits when the component has been destroyed. */\n  protected _onDestroy = new Subject<void>();\n\n  constructor(\n    @Inject(MatSelect) public matSelect: MatSelect,\n    private changeDetectorRef: ChangeDetectorRef\n  ) { }\n\n  public ngOnInit(): void {\n    // when the select dropdown panel is opened or closed, focus the search field when opening and clear it when closing\n    this.matSelect.openedChange\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(opened => opened ? this.focus() : this.reset());\n\n    // set the first item active after the options changed\n    this.matSelect.openedChange\n      .pipe(take(1))\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(() => {\n        if (this.matSelect.multiple) {\n          this.previousSelectedValues = this.matSelect.value;\n        }\n        this._options = this.matSelect.options;\n        this._options.changes\n          .pipe(takeUntil(this._onDestroy))\n          .subscribe(() => {\n            const keyManager = this.matSelect._keyManager;\n            if (keyManager && this.matSelect.panelOpen) {\n              // avoid \"expression has been changed\" error\n              setTimeout(() => keyManager.setFirstItemActive(), 0);\n            }\n          });\n      });\n\n    // detect changes when the input changes\n    this.change\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(() => this.changeDetectorRef.detectChanges());\n\n    this.initMultipleHandling();\n  }\n\n  public ngOnDestroy(): void {\n    this._onDestroy.next();\n    this._onDestroy.complete();\n  }\n\n  public onChange: Function = (_: any) => {\n    // do nothing\n  }\n\n  public onTouched: Function = (_: any) => {\n    // do nothing\n  }\n\n  /**\n   * Handles the key down event with MatSelect.\n   * Allows e.g. selecting with enter key, navigation with arrow keys, etc.\n   * @param event\n   */\n  public handleKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === 32) {\n      // do not propagate spaces to MatSelect, as this would select the currently active option\n      event.stopPropagation();\n    }\n  }\n\n  public onInputChange(value: any): void {\n    const valueChanged = value !== this._value;\n    if (valueChanged) {\n      this._value = value;\n      this.onChange(value);\n      this.change.emit(value);\n    }\n  }\n\n  public onBlur(value: string): void {\n    this.writeValue(value);\n    this.onTouched();\n  }\n\n  public writeValue(value: string): void {\n    const valueChanged = value !== this._value;\n    if (valueChanged) {\n      this._value = value;\n      this.change.emit(value);\n    }\n  }\n\n  public registerOnChange(fn: Function): void {\n    this.onChange = fn;\n  }\n\n  public registerOnTouched(fn: Function): void {\n    this.onTouched = fn;\n  }\n\n  /**\n   * Focuses the search input field\n   */\n  public focus(): void {\n    if (!this.searchSelectInput) {\n      return;\n    }\n    // save and restore scrollTop of panel, since it will be reset by focus()\n    // note: this is hacky\n    const panel = this.matSelect.panel.nativeElement;\n    const scrollTop = panel.scrollTop;\n\n    // focus\n    this.searchSelectInput.nativeElement.focus();\n\n    panel.scrollTop = scrollTop;\n  }\n\n  /**\n   * Resets the current search value\n   * @param focus whether to focus after resetting\n   */\n  public reset(focus?: boolean): void {\n    if (!this.searchSelectInput) {\n      return;\n    }\n    this.searchSelectInput.nativeElement.value = '';\n    this.onInputChange('');\n    if (focus) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Initializes handling <mat-select [multiple]=\"true\">\n   * Note: to improve this code, mat-select should be extended to allow disabling resetting the selection while filtering.\n   */\n  protected initMultipleHandling(): void {\n    // if <mat-select [multiple]=\"true\">\n    // store previously selected values and restore them when they are deselected\n    // because the option is not available while we are currently filtering\n    this.matSelect.valueChange\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe(values => {\n        if (this.matSelect.multiple) {\n          let restoreSelectedValues = false;\n          if (this._value && this._value.length\n            && this.previousSelectedValues && Array.isArray(this.previousSelectedValues)) {\n            if (!values || !Array.isArray(values)) {\n              values = [];\n            }\n            const optionValues = this.matSelect.options.map(option => option.value);\n            this.previousSelectedValues.forEach(previousValue => {\n              if (values.indexOf(previousValue) === -1 && optionValues.indexOf(previousValue) === -1) {\n                // if a value that was selected before is deselected and not found in the options, it was deselected\n                // due to the filtering, so we restore it.\n                values.push(previousValue);\n                restoreSelectedValues = true;\n              }\n            });\n          }\n\n          if (restoreSelectedValues) {\n            this.matSelect._onChange(values);\n          }\n\n          this.previousSelectedValues = values;\n        }\n      });\n  }\n\n}\n","import { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, OnDestroy, OnInit, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatSelect, MatSelectChange } from '@angular/material';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OntimizeServiceProvider } from '../../../services/factories';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT, DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT, OFormServiceComponent } from '../o-form-service-component.class';\n\nexport const DEFAULT_INPUTS_O_COMBO = [\n  ...DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'translate',\n  'multiple',\n  'nullSelection: null-selection',\n  'multipleTriggerLabel: multiple-trigger-label',\n  'searchable'\n];\n\nexport const DEFAULT_OUTPUTS_O_COMBO = [\n  ...DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT\n];\n\n@Component({\n  selector: 'o-combo',\n  providers: [\n    OntimizeServiceProvider,\n    { provide: OFormServiceComponent, useExisting: forwardRef(() => OComboComponent) }\n  ],\n  inputs: DEFAULT_INPUTS_O_COMBO,\n  outputs: DEFAULT_OUTPUTS_O_COMBO,\n  templateUrl: './o-combo.component.html',\n  styleUrls: ['./o-combo.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-combo]': 'true'\n  }\n})\nexport class OComboComponent extends OFormServiceComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public value: OFormValue;\n  public searchControl: FormControl = new FormControl();\n\n  /* Inputs */\n  @InputConverter()\n  public multiple: boolean;\n  @InputConverter()\n  public multipleTriggerLabel: boolean = false;\n  @InputConverter()\n  public searchable: boolean = false;\n  @InputConverter()\n  protected translate: boolean = false;\n  @InputConverter()\n  protected nullSelection: boolean = true;\n  /* End inputs*/\n\n  @ViewChild('inputModel', { static: false })\n  protected inputModel: ElementRef;\n\n  @ViewChild('selectModel', { static: false })\n  protected selectModel: MatSelect;\n\n  protected _filteredDataArray: any[] = [];\n\n  set filteredDataArray(data: any) {\n    if (Util.isArray(data)) {\n      this._filteredDataArray = data;\n    } else if (Util.isObject(data) && Object.keys(data).length > 0) {\n      this._filteredDataArray = [data];\n    } else {\n      console.warn('Component has received not supported service data. Supported data are Array or not empty Object');\n      this._filteredDataArray = [];\n    }\n  }\n\n  get filteredDataArray(): any {\n    return this._filteredDataArray;\n  }\n\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.defaultValue = '';\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n    this.subscription.add(this.searchControl.valueChanges.subscribe(() => this.searchFilter()));\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    } else if (this.queryOnBind) {\n      // TODO do it better. When changing tabs it is necessary to invoke new query\n      this.syncDataIndex();\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n    this.destroy();\n  }\n\n  public initialize(): void {\n    super.initialize();\n    if (this.multiple) {\n      this.nullSelection = false;\n      this.defaultValue = [];\n    }\n  }\n\n  public ensureOFormValue(value: any): void {\n    if (value instanceof OFormValue) {\n      this.value = new OFormValue(value.value);\n    } else if (Util.isDefined(value) && !(value instanceof OFormValue)) {\n      this.value = new OFormValue(value);\n    } else if (!Util.isDefined(value) && this.nullSelection) {\n      this.value = new OFormValue(undefined);\n    } else {\n      this.value = new OFormValue(this.defaultValue);\n    }\n    // This call make the component querying its data multiple times\n    // this.syncDataIndex();\n  }\n\n  public setDataArray(data: any): void {\n    super.setDataArray(data);\n    this.filteredDataArray = data;\n  }\n\n  public getDataArray(): any[] {\n    return this.dataArray;\n  }\n\n  public getFilteredDataArray(): any[] {\n    return this._filteredDataArray;\n  }\n\n  public hasNullSelection(): boolean {\n    return this.nullSelection;\n  }\n\n  public syncDataIndex(queryIfNotFound: boolean = true): void {\n    super.syncDataIndex(queryIfNotFound);\n    if (this._currentIndex !== undefined && this.nullSelection) {\n      // first position is for null selection that it is not included into dataArray\n      this._currentIndex += 1;\n    }\n  }\n\n  public getValue(): any {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return this.value.value;\n      } else if (this.value.value === undefined) {\n        return this.getEmptyValue();\n      }\n    }\n    return '';\n  }\n\n  public getEmptyValue(): any {\n    if (this.multiple) {\n      return [];\n    } else {\n      if (this.nullSelection) {\n        return undefined;\n      } else {\n        return '';\n      }\n    }\n  }\n\n  public isEmpty(): boolean {\n    if (!(this.value instanceof OFormValue)) {\n      return true;\n    }\n    return this.value.value === undefined || (this.multiple && this.value.value.length === 0);\n  }\n\n  public clearValue(options?: FormValueOptions, setDirty: boolean = false): void {\n    if (this.multiple) {\n      this.setValue(this.defaultValue, options, setDirty);\n      this.value.value = [];\n    } else {\n      super.clearValue(options, setDirty);\n    }\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.isEmpty();\n  }\n\n  public getMultiple(): boolean {\n    return this.multiple;\n  }\n\n  public onSelectionChange(event: MatSelectChange): void {\n    if (!this.selectModel.panelOpen) {\n      return;\n    }\n    const newValue = event.value;\n    this.setValue(newValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  public getOptionDescriptionValue(item: any = {}): string {\n    let descTxt = '';\n    if (this.descriptionColArray && this.descriptionColArray.length > 0) {\n      const self = this;\n      this.descriptionColArray.forEach((col, index) => {\n        let txt = item[col];\n        if (Util.isDefined(txt)) {\n          if (self.translate && self.translateService) {\n            txt = self.translateService.get(txt);\n          }\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  public getValueColumn(item: any): any {\n    if (item && item.hasOwnProperty(this.valueColumn)) {\n      let option = item[this.valueColumn];\n      if (option === 'undefined') {\n        option = null;\n      }\n      return option;\n    }\n    return '';\n  }\n\n  public isSelected(item: any, rowIndex: number): boolean {\n    let selected = false;\n    if (item && item.hasOwnProperty(this.valueColumn) && this.value) {\n      const val = item[this.valueColumn];\n      if (val === this.value.value) {\n        selected = true;\n        this._currentIndex = rowIndex;\n      }\n    }\n    return selected;\n  }\n\n  public setValue(val: any, options?: FormValueOptions, setDirty: boolean = false): void {\n    if (!this.dataArray) {\n      return;\n    }\n    const isDefinedVal = Util.isDefined(val);\n    if (this.multiple && !isDefinedVal) {\n      return;\n    }\n\n    if (!isDefinedVal && !this.nullSelection) {\n      console.warn('`o-combo` with attr ' + this.oattr + ' cannot be set. `null-selection` attribute is false.');\n      return;\n    }\n\n    if (isDefinedVal) {\n      const record = this.dataArray.find(item => item[this.valueColumn] === val);\n      if (!Util.isDefined(record)) {\n        return;\n      }\n    } else {\n      if (Util.isDefined(val)) {\n        super.setValue(val, options);\n      }\n    }\n    super.setValue(val, options);\n  }\n\n  public getSelectedItems(): any[] {\n    return this.getValue();\n  }\n\n  public setSelectedItems(values: any[]): void {\n    this.setValue(values);\n  }\n\n  public getFirstSelectedValue(): void {\n    return this.selectModel.selected[0].viewValue;\n  }\n\n  protected setIsReadOnly(value: boolean): void {\n    super.setIsReadOnly(value);\n    const readOnly = Util.isDefined(this.readOnly) ? this.readOnly : value;\n    if (this.enabled) {\n      if (this._fControl && readOnly) {\n        this._fControl.disable();\n      } else if (this._fControl) {\n        this._fControl.enable();\n      }\n    }\n  }\n  protected parseByValueColumnType(val: any): any {\n    if (!Util.isDefined(this.multiple)) {\n      return val;\n    }\n    const valueArr: any[] = this.multiple ? val : [val];\n    if (this.valueColumnType === Codes.TYPE_INT) {\n      valueArr.forEach((item, index) => {\n        const parsed = parseInt(item, 10);\n        if (!isNaN(parsed)) {\n          valueArr[index] = parsed;\n        }\n      });\n    }\n    return this.multiple ? valueArr : valueArr[0];\n  }\n\n  protected searchFilter(): void {\n    if (this.dataArray || this.dataArray.length) {\n\n      // get the search keyword\n      let search = this.searchControl.value;\n      if (!search) {\n        this.filteredDataArray = this.dataArray.slice();\n        return;\n      } else {\n        search = search.toLowerCase();\n      }\n\n      // filter\n      this.filteredDataArray = this.dataArray.filter(item => this.getOptionDescriptionValue(item).toLowerCase().indexOf(search) > -1);\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OComboSearchComponent } from './combo-search/o-combo-search.component';\nimport { OComboComponent } from './o-combo.component';\n\n@NgModule({\n  declarations: [OComboComponent, OComboSearchComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OComboComponent, OComboSearchComponent]\n})\nexport class OComboModule { }\n","import {\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ValidatorFn, Validators } from '@angular/forms';\nimport { MatInput } from '@angular/material';\n\nimport { NumberConverter } from '../../../decorators/input-converter';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_TEXT_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'minLength: min-length',\n  'maxLength: max-length'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXT_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-text-input',\n  templateUrl: './o-text-input.component.html',\n  styleUrls: ['./o-text-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TEXT_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class OTextInputComponent extends OFormDataComponent implements OnInit {\n\n  protected _minLength: number = -1;\n  protected _maxLength: number = -1;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n\n    if (this.minLength >= 0) {\n      validators.push(Validators.minLength(this.minLength));\n    }\n    if (this.maxLength >= 0) {\n      validators.push(Validators.maxLength(this.maxLength));\n    }\n\n    return validators;\n  }\n\n  set minLength(val: number) {\n    const old = this._minLength;\n    this._minLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get minLength(): number {\n    return this._minLength;\n  }\n\n  set maxLength(val: number) {\n    const old = this._maxLength;\n    this._maxLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get maxLength(): number {\n    return this._maxLength;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextInputComponent } from './o-text-input.component';\n\n@NgModule({\n  declarations: [OTextInputComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OTextInputComponent]\n})\nexport class OTextInputModule {\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { IIntegerPipeArgument, OIntegerPipe } from '../../../pipes/o-integer.pipe';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport {\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  OTextInputComponent,\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_INTEGER_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT,\n  'min',\n  'max',\n  'step',\n  'grouping',\n  'thousandSeparator : thousand-separator',\n  'olocale : locale'\n];\n\nexport const DEFAULT_OUTPUTS_O_INTEGER_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-integer-input',\n  templateUrl: './o-integer-input.component.html',\n  styleUrls: ['./o-integer-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_INTEGER_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_INTEGER_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OIntegerInputComponent extends OTextInputComponent implements AfterViewInit, OnInit {\n\n  inputType: string = 'number';\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 1;\n\n  @InputConverter()\n  protected grouping: boolean = false;\n  protected thousandSeparator: string;\n  protected olocale: string;\n\n  protected componentPipe: OIntegerPipe;\n  protected pipeArguments: IIntegerPipeArgument;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'INTEGER';\n\n    // Firefox workaround\n    if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n      this.inputType = 'text';\n    }\n\n    this.setComponentPipe();\n  }\n\n  initialize(): void {\n    super.initialize();\n    this.initializeStep();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OIntegerPipe(this.injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.pipeArguments = {\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator,\n      locale: this.olocale\n    };\n\n    if (this.step === undefined) {\n      this.step = 1;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n  }\n\n  setData(value: any) {\n    super.setData(value);\n    setTimeout(() => {\n      this.setPipeValue();\n    }, 0);\n  }\n\n  setValue(val: any, options?: FormValueOptions) {\n    super.setValue(val, options);\n    this.setPipeValue();\n  }\n\n  innerOnFocus(event: any) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.isReadOnly) {\n      return;\n    }\n    this.setNumberDOMValue(this.getValue());\n    super.innerOnFocus(event);\n  }\n\n  innerOnBlur(event?: any) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (this.isReadOnly) {\n      return;\n    }\n    this.setPipeValue();\n    const formControl: FormControl = this.getControl();\n    if (formControl) {\n      formControl.updateValueAndValidity();\n    }\n    super.innerOnBlur(event);\n  }\n\n  setPipeValue() {\n    if (typeof this.pipeArguments !== 'undefined' && !this.isEmpty()) {\n      const parsedValue = this.componentPipe.transform(this.getValue(), this.pipeArguments);\n      this.setTextDOMValue(parsedValue);\n    }\n  }\n\n  isEmpty(): boolean {\n    if (this.value instanceof OFormValue) {\n      if (this.value.value !== undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  getInputEl() {\n    let inputElement;\n    if (this.elRef.nativeElement.tagName === 'INPUT') {\n      inputElement = this.elRef.nativeElement;\n    } else {\n      inputElement = this.elRef.nativeElement.getElementsByTagName('INPUT')[0];\n    }\n    return inputElement;\n  }\n\n  setNumberDOMValue(val: any) {\n    const inputElement = this.getInputEl();\n    if (Util.isDefined(inputElement)) {\n      // Firefox workaround\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\n        inputElement.type = 'number';\n      }\n      inputElement.value = (val !== undefined) ? val : '';\n    }\n  }\n\n  setTextDOMValue(val: any) {\n    const inputElement = this.getInputEl();\n    if (Util.isDefined(inputElement)) {\n      // Firefox workaround\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\n        inputElement.type = 'text';\n      }\n      inputElement.value = (val !== undefined) ? val : '';\n    }\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (Util.isDefined(this.min)) {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (Util.isDefined(this.max)) {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl): ValidationErrors {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        min: {\n          requiredMin: this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl): ValidationErrors {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        max: {\n          requiredMax: this.max\n        }\n      };\n    }\n    return {};\n  }\n\n  protected initializeStep(): void {\n    if (this.step <= 0) {\n      this.step = 1;\n      console.warn('`step` attribute must be greater than zero');\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextInputModule } from '../text-input/o-text-input.module';\nimport { OIntegerInputComponent } from './o-integer-input.component';\n\n@NgModule({\n  declarations: [OIntegerInputComponent],\n  imports: [CommonModule, OSharedModule, OTextInputModule],\n  exports: [OIntegerInputComponent]\n})\nexport class OIntegerInputModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnInit, Optional, ViewEncapsulation } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { IRealPipeArgument, ORealPipe } from '../../../pipes/o-real.pipe';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_INTEGER_INPUT,\n  DEFAULT_OUTPUTS_O_INTEGER_INPUT,\n  OIntegerInputComponent,\n} from '../integer-input/o-integer-input.component';\n\nexport const DEFAULT_INPUTS_O_REAL_INPUT = [\n  ...DEFAULT_INPUTS_O_INTEGER_INPUT,\n  'minDecimalDigits: min-decimal-digits',\n  'maxDecimalDigits: max-decimal-digits',\n  'decimalSeparator : decimal-separator'\n];\n\nexport const DEFAULT_OUTPUTS_O_REAL_INPUT = [\n  ...DEFAULT_OUTPUTS_O_INTEGER_INPUT\n];\n\n@Component({\n  selector: 'o-real-input',\n  templateUrl: './o-real-input.component.html',\n  styleUrls: ['./o-real-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_REAL_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_REAL_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class ORealInputComponent extends OIntegerInputComponent implements OnInit {\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  @InputConverter()\n  step: number = 0.01;\n\n  @InputConverter()\n  grouping: boolean = true;\n\n  protected decimalSeparator: string;\n  protected pipeArguments: IRealPipeArgument;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'FLOAT';\n  }\n\n  setComponentPipe(): void {\n    this.componentPipe = new ORealPipe(this.injector);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.pipeArguments.decimalSeparator = this.decimalSeparator;\n    this.pipeArguments.minDecimalDigits = this.minDecimalDigits;\n    this.pipeArguments.maxDecimalDigits = this.maxDecimalDigits;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (Util.isDefined(this.minDecimalDigits)) {\n      validators.push(this.minDecimalDigitsValidator.bind(this));\n    }\n    if (Util.isDefined(this.maxDecimalDigits)) {\n      validators.push(this.maxDecimalDigitsValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minDecimalDigitsValidator(control: FormControl): ValidationErrors {\n    let ctrlValue: string = control.value;\n    if (typeof control.value === 'number') {\n      ctrlValue = ctrlValue.toString();\n    }\n    if (ctrlValue && ctrlValue.length) {\n      const valArray = ctrlValue.split(this.decimalSeparator ? this.decimalSeparator : '.');\n      if (Util.isDefined(this.minDecimalDigits) && (this.minDecimalDigits > 0) && Util.isDefined(valArray[1]) && (valArray[1].length < this.minDecimalDigits)) {\n        return {\n          minDecimaldigits: {\n            requiredMinDecimaldigits: this.minDecimalDigits\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxDecimalDigitsValidator(control: FormControl): ValidationErrors {\n    let ctrlValue: string = control.value;\n    if (typeof control.value === 'number') {\n      ctrlValue = ctrlValue.toString();\n    }\n    if (ctrlValue && ctrlValue.length) {\n      const valArray = ctrlValue.split(this.decimalSeparator ? this.decimalSeparator : '.');\n      if (Util.isDefined(this.maxDecimalDigits) && (this.maxDecimalDigits > 0) && Util.isDefined(valArray[1]) && (valArray[1].length > this.maxDecimalDigits)) {\n        return {\n          maxDecimaldigits: {\n            requiredMaxDecimaldigits: this.maxDecimalDigits\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected initializeStep(): void {\n    if (this.step <= 0) {\n      this.step = 1 / Math.pow(10, this.maxDecimalDigits);\n      console.warn('`step` attribute must be greater than zero');\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OIntegerInputModule } from '../integer-input/o-integer-input.module';\nimport { ORealInputComponent } from './o-real-input.component';\n\n@NgModule({\n  declarations: [ORealInputComponent],\n  imports: [CommonModule, OSharedModule, OIntegerInputModule],\n  exports: [ORealInputComponent]\n})\nexport class ORealInputModule { }\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport {\n  DEFAULT_INPUTS_O_REAL_INPUT,\n  DEFAULT_OUTPUTS_O_REAL_INPUT,\n  ORealInputComponent,\n} from '../real-input/o-real-input.component';\n\nexport const DEFAULT_INPUTS_O_CURRENCY_INPUT = [\n  ...DEFAULT_INPUTS_O_REAL_INPUT,\n  'currencySymbol: currency-symbol',\n  'currencySymbolPosition: currency-symbol-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_CURRENCY_INPUT = [\n  ...DEFAULT_OUTPUTS_O_REAL_INPUT\n];\n\n@Component({\n  selector: 'o-currency-input',\n  templateUrl: './o-currency-input.component.html',\n  styleUrls: ['./o-currency-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_CURRENCY_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_CURRENCY_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OCurrencyInputComponent extends ORealInputComponent implements OnInit {\n\n  static currency_icons = ['USD', 'EUR', 'GBP', 'ILS', 'INR', 'JPY', 'KRW', 'BTC'];\n\n  currency_symbols = {\n    CRC: '₡', // Costa Rican Colón\n    NGN: '₦', // Nigerian Naira\n    PHP: '₱', // Philippine Peso\n    PLN: 'zł', // Polish Zloty\n    PYG: '₲', // Paraguayan Guarani\n    THB: '฿', // Thai Baht\n    UAH: '₴', // Ukrainian Hryvnia\n    VND: '₫', // Vietnamese Dong\n  };\n\n  currencySymbol: string = 'EUR';\n  currencySymbolPosition: string = 'right';\n\n  protected existsOntimizeIcon() {\n    return OCurrencyInputComponent.currency_icons.indexOf(this.currencySymbol) !== -1;\n  }\n\n  useIcon(position: string): boolean {\n    return this.existsOntimizeIcon() && this.currencySymbolPosition === position;\n  }\n\n  useSymbol(position: string): boolean {\n    return this.currency_symbols.hasOwnProperty(this.currencySymbol) && this.currencySymbolPosition === position;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ORealInputModule } from '../real-input/o-real-input.module';\nimport { OCurrencyInputComponent } from './o-currency-input.component';\n\n@NgModule({\n  declarations: [OCurrencyInputComponent],\n  imports: [CommonModule, OSharedModule, ORealInputModule],\n  exports: [OCurrencyInputComponent]\n})\nexport class OCurrencyInputModule { }\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { MAT_DATE_LOCALE } from '@angular/material';\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\nimport moment from 'moment';\n\n@Injectable()\nexport class OntimizeMomentDateAdapter extends MomentDateAdapter {\n\n  oFormat: string;\n\n  constructor(@Optional() @Inject(MAT_DATE_LOCALE) dateLocale: string) {\n    super(dateLocale);\n  }\n\n  format(date: any, displayFormat: string): string {\n    return super.format(date, this.oFormat || displayFormat);\n  }\n\n  parse(value: any, parseFormat: string | string[]): any | null {\n    return super.parse(value, this.oFormat || parseFormat);\n  }\n\n  deserialize(value: any): any | null {\n    let date;\n    if (typeof value === 'number') {\n      date = moment(value);\n    }\n    if (typeof value === 'string') {\n      if (!value) {\n        return null;\n      }\n      date = moment(value, this.oFormat).locale(this.locale);\n    }\n    if (date && this.isValid(date)) {\n      return date;\n    }\n    return super.deserialize(value);\n  }\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnDestroy, OnInit, Optional, ViewChild } from '@angular/core';\nimport { MediaChange, MediaObserver } from '@angular/flex-layout';\nimport { DateAdapter, MAT_DATE_LOCALE, MatDatepicker, MatDatepickerInput, MatDatepickerInputEvent } from '@angular/material';\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\nimport moment from 'moment';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { MomentService } from '../../../services/moment.service';\nimport { OntimizeMomentDateAdapter } from '../../../shared/material/date/ontimize-moment-date-adapter';\nimport { DateCustomClassFunction } from '../../../types/date-custom-class.type';\nimport { DateFilterFunction } from '../../../types/date-filter-function.type';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { ODateValueType } from '../../../types/o-date-value.type';\nimport { SQLTypes } from '../../../util/sqltypes';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { OFormDataComponent } from '../../o-form-data-component.class';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { DEFAULT_INPUTS_O_TEXT_INPUT, DEFAULT_OUTPUTS_O_TEXT_INPUT } from '../text-input/o-text-input.component';\n\nexport const DEFAULT_OUTPUTS_O_DATE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_INPUTS_O_DATE_INPUT = [\n  'valueType: value-type',\n  'oformat: format',\n  'olocale: locale',\n  'oStartView: start-view',\n  'oMinDate: min',\n  'oMaxDate: max',\n  'oTouchUi: touch-ui',\n  'oStartAt: start-at',\n  'filterDate: filter-date',\n  'textInputEnabled: text-input-enabled',\n  'dateClass: date-class',\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-date-input',\n  templateUrl: './o-date-input.component.html',\n  styleUrls: ['./o-date-input.component.scss'],\n  outputs: DEFAULT_OUTPUTS_O_DATE_INPUT,\n  inputs: DEFAULT_INPUTS_O_DATE_INPUT,\n  providers: [\n    { provide: DateAdapter, useClass: OntimizeMomentDateAdapter, deps: [MAT_DATE_LOCALE] }\n  ]\n})\nexport class ODateInputComponent extends OFormDataComponent implements OnDestroy, OnInit {\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  protected _oformat: string = 'L';\n  protected olocale: string;\n  protected updateLocaleOnChange: boolean = false;\n  protected oStartView: 'month' | 'year' = 'month';\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  @InputConverter()\n  protected oTouchUi: boolean;\n  protected oStartAt: string;\n  protected _filterDate: DateFilterFunction;\n  protected _dateClass: DateCustomClassFunction\n  protected _valueType: ODateValueType = 'timestamp';\n\n  protected _minDateString: string;\n  protected _maxDateString: string;\n\n  protected media: MediaObserver;\n  protected mediaSubscription: Subscription;\n  protected onLanguageChangeSubscription: Subscription;\n  protected dateValue: Date;\n\n  @ViewChild('picker', { static: true })\n  public datepicker: MatDatepicker<Date>;\n\n  @ViewChild(MatDatepickerInput, { static: true })\n  public datepickerInput: MatDatepickerInput<Date>;\n\n  @ViewChild('matInputRef', { read: ElementRef, static: true })\n  private matInputRef!: ElementRef;\n\n  private momentSrv: MomentService;\n  private momentDateAdapter: DateAdapter<MomentDateAdapter>;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    dateAdapter: DateAdapter<OntimizeMomentDateAdapter>,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.momentDateAdapter = dateAdapter;\n    this._defaultSQLTypeKey = 'DATE';\n    this.momentSrv = this.injector.get(MomentService);\n    this.media = this.injector.get(MediaObserver);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n\n    if (!this.olocale) {\n      this.updateLocaleOnChange = true;\n      this.olocale = this.momentSrv.getLocale();\n    }\n\n    if (this.oformat) {\n      (this.momentDateAdapter as any).oFormat = this.oformat;\n    }\n\n    this.momentDateAdapter.setLocale(this.olocale);\n\n    if (this.oStartView) {\n      this.datepicker.startView = this.oStartView;\n    }\n\n    if (this.oStartAt) {\n      this.datepicker.startAt = new Date(this.oStartAt);\n    }\n\n    if (this.oMinDate) {\n      const date = new Date(this.oMinDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.datepickerInput.min = date;\n        this.minDateString = momentD.format(this.oformat);\n      }\n    }\n\n    if (this.oMaxDate) {\n      const date = new Date(this.oMaxDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.datepickerInput.max = date;\n        this.maxDateString = momentD.format(this.oformat);\n      }\n    }\n\n    if (this.updateLocaleOnChange) {\n      this.onLanguageChangeSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n        this.momentDateAdapter.setLocale(this.translateService.getCurrentLang());\n        this.setValue(this.getValue());\n      });\n    }\n\n    this.subscribeToMediaChanges();\n  }\n\n  public subscribeToMediaChanges(): void {\n    this.mediaSubscription = this.media.asObservable().subscribe((change: MediaChange[]) => {\n      if (['xs', 'sm'].indexOf(change[0].mqAlias) !== -1) {\n        this.touchUi = Util.isDefined(this.oTouchUi) ? this.oTouchUi : true;\n      }\n      if (['md', 'lg', 'xl'].indexOf(change[0].mqAlias) !== -1) {\n        this.touchUi = Util.isDefined(this.oTouchUi) ? this.oTouchUi : false;\n      }\n    });\n  }\n\n  public ngOnDestroy(): void {\n    super.ngOnDestroy();\n    if (this.mediaSubscription) {\n      this.mediaSubscription.unsubscribe();\n    }\n    if (this.onLanguageChangeSubscription) {\n      this.onLanguageChangeSubscription.unsubscribe();\n    }\n  }\n\n  public getValueAsDate(): any {\n    return this.dateValue;\n  }\n\n  public getValue(): any {\n    let timestampValue = super.getValue();\n    if (timestampValue && timestampValue instanceof Date) {\n      timestampValue = timestampValue.getTime();\n    }\n    return timestampValue;\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.matInputRef.nativeElement.value;\n  }\n\n  public open(): void {\n    if (!this.isReadOnly && this.enabled) {\n      this.datepicker.open();\n    }\n  }\n\n  public onChangeEvent(event: MatDatepickerInputEvent<any>): void {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    let val = isValid ? event.value.valueOf() : event.value;\n    const m = moment(val);\n    switch (this.valueType) {\n      case 'string':\n        if (val) {\n          val = m.format(this.oformat);\n        }\n        break;\n      case 'date':\n        val = new Date(val);\n        break;\n      case 'iso-8601':\n        val = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        break;\n    }\n    this.setValue(val, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  public onClickInput(e: Event): void {\n    if (!this.textInputEnabled) {\n      this.open();\n    }\n  }\n\n  get filterDate(): DateFilterFunction {\n    return this._filterDate;\n  }\n\n  set filterDate(val: DateFilterFunction) {\n    this._filterDate = val;\n  }\n\n  get dateClass(): DateCustomClassFunction {\n    return this._dateClass;\n  }\n\n  set dateClass(val: DateCustomClassFunction) {\n    this._dateClass = val;\n  }\n  get oformat(): string {\n    return this._oformat;\n  }\n\n  set oformat(val: string) {\n    this._oformat = val;\n  }\n\n  get minDateString(): string {\n    return this._minDateString;\n  }\n\n  set minDateString(val: string) {\n    this._minDateString = val;\n  }\n\n  get maxDateString(): string {\n    return this._maxDateString;\n  }\n\n  set maxDateString(val: string) {\n    this._maxDateString = val;\n  }\n\n  get touchUi(): boolean {\n    return this.oTouchUi || false;\n  }\n\n  set touchUi(val: boolean) {\n    this.oTouchUi = val;\n    this.datepicker.touchUi = this.touchUi;\n  }\n\n  protected ensureODateValueType(val: any): void {\n    if (!Util.isDefined(val)) {\n      return val;\n    }\n    let result = val;\n    switch (this.valueType) {\n      case 'string':\n        if (typeof val === 'string') {\n          const m = moment(val, this.oformat);\n          if (m.isValid()) {\n            this.dateValue = new Date(m.valueOf());\n          }\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'date':\n        if ((val instanceof Date)) {\n          this.dateValue = val;\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'timestamp':\n        if (typeof val === 'number') {\n          this.dateValue = new Date(val);\n        } else {\n          result = undefined;\n        }\n        break;\n      case 'iso-8601':\n        if (typeof val !== 'string') {\n          const acceptTimestamp = typeof val === 'number' && this.getSQLType() === SQLTypes.TIMESTAMP;\n          if (acceptTimestamp) {\n            this.dateValue = new Date(val);\n          } else {\n            result = undefined;\n          }\n        } else {\n          const m = moment(val);\n          if (m.isValid()) {\n            this.dateValue = new Date(m.valueOf());\n          } else {\n            result = undefined;\n          }\n        }\n        break;\n      default:\n        break;\n    }\n    if (!Util.isDefined(result)) {\n      console.warn(`ODateInputComponent value (${val}) is not consistent with value-type (${this.valueType})`);\n    }\n    return result;\n  }\n\n  protected setFormValue(val: any, options?: FormValueOptions, setDirty: boolean = false): void {\n    let value = val;\n    if (val instanceof OFormValue) {\n      value = val.value;\n    }\n    this.ensureODateValueType(value);\n    super.setFormValue(value, options, setDirty);\n  }\n\n  set valueType(val: any) {\n    this._valueType = Util.convertToODateValueType(val);\n  }\n\n  get valueType(): any {\n    return this._valueType;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ODateInputComponent } from './o-date-input.component';\n\n@NgModule({\n  declarations: [ODateInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ODateInputComponent]\n})\nexport class ODateInputModule { }\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as _moment from 'moment';\n\nimport { InputConverter } from '../../../decorators/input-converter';\n\nconst moment = _moment;\n\nexport enum SideEnum {\n  left = 'left',\n  right = 'right'\n}\n\n@Component({\n  selector: 'o-daterange-picker',\n  styleUrls: ['./o-daterange-picker.component.scss'],\n  templateUrl: './o-daterange-picker.component.html',\n  host: {\n    '(click)': 'handleInternalClick($event)',\n  },\n  encapsulation: ViewEncapsulation.None,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => DaterangepickerComponent),\n    multi: true\n  }]\n})\nexport class DaterangepickerComponent implements OnInit {\n  private _old: { start: any, end: any } = { start: null, end: null };\n  chosenLabel: string;\n  calendarVariables: { left: any, right: any } = { left: {}, right: {} };\n  timepickerVariables: { left: any, right: any } = { left: {}, right: {} };\n  daterangepicker: { start: FormControl, end: FormControl } = { start: new FormControl(), end: new FormControl() };\n  applyBtn: { disabled: boolean } = { disabled: false };\n  startDate = moment().startOf('day');\n  endDate = moment().endOf('day');\n  @Input()\n  dateLimit: number = null;\n  // used in template for compile time support of enum values.\n  sideEnum = SideEnum;\n\n  @Input()\n  minDate: _moment.Moment = null;\n  @Input()\n  maxDate: _moment.Moment = null;\n  @Input()\n  autoApply: boolean = false;\n  @Input()\n  singleDatePicker: boolean = false;\n  @Input()\n  showDropdowns: boolean = false;\n  @InputConverter()\n  showWeekNumbers: boolean = false;\n  @Input()\n  showISOWeekNumbers: boolean = false;\n  @Input()\n  linkedCalendars: boolean = false;\n  @Input()\n  autoUpdateInput: boolean = true;\n  @Input()\n  alwaysShowCalendars: boolean = false;\n  @Input()\n  maxSpan: boolean = false;\n  // timepicker variables\n  @Input()\n  timePicker: boolean = false;\n  @Input()\n  timePicker24Hour: boolean = false;\n  @Input()\n  timePickerIncrement: number = 1;\n  @Input()\n  timePickerSeconds: boolean = false;\n  // end of timepicker variables\n  @Input()\n  showClearButton: boolean = false;\n  @Input()\n  firstMonthDayClass: string = null;\n  @Input()\n  lastMonthDayClass: string = null;\n  @Input()\n  emptyWeekRowClass: string = null;\n  @Input()\n  firstDayOfNextMonthClass: string = null;\n  @Input()\n  lastDayOfPreviousMonthClass: string = null;\n\n  @Input()\n  locale: any;\n  // custom ranges\n  _ranges: any = {};\n\n  @Input() set ranges(value) {\n    this._ranges = value;\n    this.renderRanges();\n  }\n  get ranges(): any {\n    return this._ranges;\n  }\n\n  @Input()\n  showCustomRangeLabel: boolean;\n  @Input()\n  showCancel: boolean = false;\n  @Input()\n  keepCalendarOpeningWithRange: boolean = false;\n  @Input()\n  showRangeLabelOnInput: boolean = false;\n  chosenRange: string;\n  rangesArray: Array<any> = [];\n\n  // some state information\n  isShown: boolean = false;\n  inline: boolean = true;\n  leftCalendar: any = {};\n  rightCalendar: any = {};\n  showCalInRanges: boolean = false;\n\n  options: any = {}; // should get some opt from user\n  @Input() drops: string;\n  @Input() opens: string;\n  @Output() choosedDate: EventEmitter<object>;\n  @Output() rangeClicked: EventEmitter<object>;\n  @Output() datesUpdated: EventEmitter<object>;\n  @ViewChild('pickerContainer', { static: false }) pickerContainer: ElementRef;\n\n  constructor(\n    private _ref: ChangeDetectorRef\n  ) {\n    this.choosedDate = new EventEmitter();\n    this.rangeClicked = new EventEmitter();\n    this.datesUpdated = new EventEmitter();\n  }\n\n  ngOnInit() {\n    this._buildLocale();\n    const daysOfWeek = [...this.locale.daysOfWeek];\n    if (this.locale.firstDay !== 0) {\n      let iterator = this.locale.firstDay;\n\n      while (iterator > 0) {\n        daysOfWeek.push(daysOfWeek.shift());\n        iterator--;\n      }\n    }\n    this.locale.daysOfWeek = daysOfWeek;\n    if (this.inline) {\n      this._old.start = this.startDate.clone();\n      this._old.end = this.endDate.clone();\n    }\n\n    this.updateMonthsInView();\n    this.renderCalendar(SideEnum.left);\n    this.renderCalendar(SideEnum.right);\n    this.renderRanges();\n  }\n  renderRanges() {\n    this.rangesArray = [];\n    let start;\n    let end;\n    if (typeof this.ranges === 'object') {\n      for (const range in this.ranges) {\n        if (typeof this.ranges[range][0] === 'string') {\n          start = moment(this.ranges[range][0], this.locale.format);\n        } else {\n          start = moment(this.ranges[range][0]);\n        }\n\n        if (typeof this.ranges[range][1] === 'string') {\n          end = moment(this.ranges[range][1], this.locale.format);\n        } else {\n          end = moment(this.ranges[range][1]);\n        }\n\n        // If the start or end date exceed those allowed by the minDate or maxSpan\n        // options, shorten the range to the allowable period.\n        if (this.minDate && start.isBefore(this.minDate)) {\n          start = this.minDate.clone();\n        }\n\n        let maxDate = this.maxDate;\n        if (this.maxSpan && maxDate && start.clone().add(this.maxSpan).isAfter(maxDate)) {\n          maxDate = start.clone().add(this.maxSpan);\n        }\n        if (maxDate && end.isAfter(maxDate)) {\n          end = maxDate.clone();\n        }\n\n        // If the end of the range is before the minimum or the start of the range is\n        // after the maximum, don't display this range option at all.\n        if ((this.minDate && end.isBefore(this.minDate, this.timePicker ? 'minute' : 'day'))\n          || (maxDate && start.isAfter(maxDate, this.timePicker ? 'minute' : 'day'))) {\n          continue;\n        }\n\n        //Support unicode chars in the range names.\n        let elem = document.createElement('textarea');\n        elem.innerHTML = range;\n        let rangeHtml = elem.value;\n\n        this.ranges[rangeHtml] = [start, end];\n      }\n      for (const range in this.ranges) {\n        this.rangesArray.push(range);\n      }\n      if (this.showCustomRangeLabel) {\n        this.rangesArray.push(this.locale.customRangeLabel);\n      }\n      this.showCalInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\n      if (!this.timePicker) {\n        this.startDate = this.startDate.startOf('day');\n        this.endDate = this.endDate.endOf('day');\n      }\n      // can't be used together for now\n      if (this.timePicker && this.autoApply) {\n        this.autoApply = false;\n      }\n    }\n  }\n\n  renderTimePicker(side: SideEnum) {\n    if (side === SideEnum.right && !this.endDate) {\n      return;\n    }\n    let selected;\n    let minDate;\n    const maxDate = this.maxDate;\n    if (side === SideEnum.left) {\n      selected = this.startDate.clone();\n      minDate = this.minDate;\n    } else if (side === SideEnum.right) {\n      selected = this.endDate.clone();\n      minDate = this.startDate;\n    }\n    const start = this.timePicker24Hour ? 0 : 1;\n    const end = this.timePicker24Hour ? 23 : 12;\n    this.timepickerVariables[side] = {\n      hours: [],\n      minutes: [],\n      minutesLabel: [],\n      seconds: [],\n      secondsLabel: [],\n      disabledHours: [],\n      disabledMinutes: [],\n      disabledSeconds: [],\n      selectedHour: 0,\n      selectedMinute: 0,\n      selectedSecond: 0,\n    };\n    // generate hours\n    for (let i = start; i <= end; i++) {\n      let i_in_24 = i;\n      if (!this.timePicker24Hour) {\n        i_in_24 = selected.hour() >= 12 ? (i === 12 ? 12 : i + 12) : (i === 12 ? 0 : i);\n      }\n\n      const time = selected.clone().hour(i_in_24);\n      let disabled = false;\n      if (minDate && time.minute(59).isBefore(minDate)) {\n        disabled = true;\n      }\n      if (maxDate && time.minute(0).isAfter(maxDate)) {\n        disabled = true;\n      }\n\n      this.timepickerVariables[side].hours.push(i);\n      if (i_in_24 === selected.hour() && !disabled) {\n        this.timepickerVariables[side].selectedHour = i;\n      } else if (disabled) {\n        this.timepickerVariables[side].disabledHours.push(i);\n      }\n    }\n    // generate minutes\n    for (let i = 0; i < 60; i += this.timePickerIncrement) {\n      const padded = i < 10 ? '0' + i : i;\n      const time = selected.clone().minute(i);\n\n      let disabled = false;\n      if (minDate && time.second(59).isBefore(minDate)) {\n        disabled = true;\n      }\n      if (maxDate && time.second(0).isAfter(maxDate)) {\n        disabled = true;\n      }\n      this.timepickerVariables[side].minutes.push(i);\n      this.timepickerVariables[side].minutesLabel.push(padded);\n      if (selected.minute() === i && !disabled) {\n        this.timepickerVariables[side].selectedMinute = i;\n      } else if (disabled) {\n        this.timepickerVariables[side].disabledMinutes.push(i);\n      }\n    }\n    // generate seconds\n    if (this.timePickerSeconds) {\n      for (let i = 0; i < 60; i++) {\n        const padded = i < 10 ? '0' + i : i;\n        const time = selected.clone().second(i);\n\n        let disabled = false;\n        if (minDate && time.isBefore(minDate)) {\n          disabled = true;\n        }\n        if (maxDate && time.isAfter(maxDate)) {\n          disabled = true;\n        }\n\n        this.timepickerVariables[side].seconds.push(i);\n        this.timepickerVariables[side].secondsLabel.push(padded);\n        if (selected.second() === i && !disabled) {\n          this.timepickerVariables[side].selectedSecond = i;\n        } else if (disabled) {\n          this.timepickerVariables[side].disabledSeconds.push(i);\n        }\n      }\n    }\n    // generate AM/PM\n    if (!this.timePicker24Hour) {\n\n      if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate)) {\n        this.timepickerVariables[side].amDisabled = true;\n      }\n\n      if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate)) {\n        this.timepickerVariables[side].pmDisabled = true;\n      }\n      if (selected.hour() >= 12) {\n        this.timepickerVariables[side].ampmModel = 'PM';\n      } else {\n        this.timepickerVariables[side].ampmModel = 'AM';\n      }\n    }\n    this.timepickerVariables[side].selected = selected;\n  }\n\n  renderCalendar(side: SideEnum) { // side enum\n    const mainCalendar: any = (side === SideEnum.left) ? this.leftCalendar : this.rightCalendar;\n    const month = mainCalendar.month.month();\n    const year = mainCalendar.month.year();\n    const hour = mainCalendar.month.hour();\n    const minute = mainCalendar.month.minute();\n    const second = mainCalendar.month.second();\n    const daysInMonth = moment([year, month]).daysInMonth();\n    const firstDay = moment([year, month, 1]);\n    const lastDay = moment([year, month, daysInMonth]);\n    const lastMonth = moment(firstDay).subtract(1, 'month').month();\n    const lastYear = moment(firstDay).subtract(1, 'month').year();\n    const daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\n    const dayOfWeek = firstDay.day();\n    // initialize a 6 rows x 7 columns array for the calendar\n    const calendar: any = [];\n    calendar.firstDay = firstDay;\n    calendar.lastDay = lastDay;\n\n    for (let i = 0; i < 6; i++) {\n      calendar[i] = [];\n    }\n\n    // populate the calendar with date objects\n    let startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;\n    if (startDay > daysInLastMonth) {\n      startDay -= 7;\n    }\n\n    if (dayOfWeek === this.locale.firstDay) {\n      startDay = daysInLastMonth - 6;\n    }\n\n    let curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\n\n    for (let i = 0, col = 0, row = 0; i < 42; i++ , col++ , curDate = moment(curDate).add(24, 'hour')) {\n      if (i > 0 && col % 7 === 0) {\n        col = 0;\n        row++;\n      }\n      calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);\n      curDate.hour(12);\n\n      if (this.minDate && calendar[row][col].format('YYYY-MM-DD') === this.minDate.format('YYYY-MM-DD') &&\n        calendar[row][col].isBefore(this.minDate) && side === 'left') {\n        calendar[row][col] = this.minDate.clone();\n      }\n\n      if (this.maxDate && calendar[row][col].format('YYYY-MM-DD') === this.maxDate.format('YYYY-MM-DD') &&\n        calendar[row][col].isAfter(this.maxDate) && side === 'right') {\n        calendar[row][col] = this.maxDate.clone();\n      }\n    }\n\n    // make the calendar object available to hoverDate/clickDate\n    if (side === SideEnum.left) {\n      this.leftCalendar.calendar = calendar;\n    } else {\n      this.rightCalendar.calendar = calendar;\n    }\n    //\n    // Display the calendar\n    //\n    const minDate = side === 'left' ? this.minDate : this.startDate;\n    let maxDate = this.maxDate;\n    // adjust maxDate to reflect the dateLimit setting in order to\n    // grey out end dates beyond the dateLimit\n    if (this.endDate === null && this.dateLimit) {\n      const maxLimit = this.startDate.clone().add(this.dateLimit, 'day').endOf('day');\n      if (!maxDate || maxLimit.isBefore(maxDate)) {\n        maxDate = maxLimit;\n      }\n    }\n    this.calendarVariables[side] = {\n      month: month,\n      year: year,\n      hour: hour,\n      minute: minute,\n      second: second,\n      daysInMonth: daysInMonth,\n      firstDay: firstDay,\n      lastDay: lastDay,\n      lastMonth: lastMonth,\n      lastYear: lastYear,\n      daysInLastMonth: daysInLastMonth,\n      dayOfWeek: dayOfWeek,\n      // other vars\n      calRows: Array.from(Array(6).keys()),\n      calCols: Array.from(Array(7).keys()),\n      classes: {},\n      minDate: minDate,\n      maxDate: maxDate,\n      calendar: calendar\n    };\n    if (this.showDropdowns) {\n      const currentMonth = calendar[1][1].month();\n      const currentYear = calendar[1][1].year();\n      const maxYear = (maxDate && maxDate.year()) || (currentYear + 5);\n      const minYear = (minDate && minDate.year()) || (currentYear - 50);\n      const inMinYear = currentYear === minYear;\n      const inMaxYear = currentYear === maxYear;\n      const years = [];\n      for (let y = minYear; y <= maxYear; y++) {\n        years.push(y);\n      }\n      this.calendarVariables[side].dropdowns = {\n        currentMonth: currentMonth,\n        currentYear: currentYear,\n        maxYear: maxYear,\n        minYear: minYear,\n        inMinYear: inMinYear,\n        inMaxYear: inMaxYear,\n        monthArrays: Array.from(Array(12).keys()),\n        yearArrays: years\n      };\n    }\n\n    this._buildCells(calendar, side);\n  }\n  setStartDate(startDate) {\n    if (typeof startDate === 'string') {\n      this.startDate = moment(startDate, this.locale.format);\n    }\n\n    if (typeof startDate === 'object') {\n      this.startDate = moment(startDate);\n    }\n    if (!this.timePicker) {\n      this.startDate = this.startDate.startOf('day');\n    }\n\n    if (this.timePicker && this.timePickerIncrement) {\n      this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n    }\n\n\n    if (this.minDate && this.startDate.isBefore(this.minDate)) {\n      this.startDate = this.minDate.clone();\n      if (this.timePicker && this.timePickerIncrement) {\n        this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n      }\n\n    }\n\n    if (this.maxDate && this.startDate.isAfter(this.maxDate)) {\n      this.startDate = this.maxDate.clone();\n      if (this.timePicker && this.timePickerIncrement) {\n        this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n      }\n    }\n\n    if (!this.isShown) {\n      this.updateElement();\n    }\n\n    this.updateMonthsInView();\n  }\n\n  setEndDate(endDate) {\n    if (typeof endDate === 'string') {\n      this.endDate = moment(endDate, this.locale.format);\n    }\n\n    if (typeof endDate === 'object') {\n      this.endDate = moment(endDate);\n    }\n    if (!this.timePicker) {\n      this.endDate = this.endDate.add(1, 'd').startOf('day').subtract(1, 'second');\n    }\n\n    if (this.timePicker && this.timePickerIncrement) {\n      this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n    }\n\n\n    if (this.endDate.isBefore(this.startDate)) {\n      this.endDate = this.startDate.clone();\n    }\n\n    if (this.maxDate && this.endDate.isAfter(this.maxDate)) {\n      this.endDate = this.maxDate.clone();\n    }\n\n    if (this.dateLimit && this.startDate.clone().add(this.dateLimit, 'day').isBefore(this.endDate)) {\n      this.endDate = this.startDate.clone().add(this.dateLimit, 'day');\n    }\n\n\n    if (!this.isShown) {\n      // this.updateElement();\n    }\n    this.updateMonthsInView();\n  }\n  @Input()\n  isInvalidDate(date) {\n    return false;\n  }\n  @Input()\n  isCustomDate(date) {\n    return false;\n  }\n\n  updateView() {\n    if (this.timePicker) {\n      this.renderTimePicker(SideEnum.left);\n      this.renderTimePicker(SideEnum.right);\n    }\n    this.updateMonthsInView();\n    this.updateCalendars();\n  }\n\n  updateMonthsInView() {\n    if (this.endDate) {\n      // if both dates are visible already, do nothing\n      if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&\n        ((this.startDate && this.leftCalendar && this.startDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM')) ||\n          (this.startDate && this.rightCalendar && this.startDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM')))\n        &&\n        (this.endDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM') ||\n          this.endDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM'))\n      ) {\n        return;\n      }\n      if (this.startDate) {\n        this.leftCalendar.month = this.startDate.clone().date(2);\n        if (!this.linkedCalendars && (this.endDate.month() !== this.startDate.month() ||\n          this.endDate.year() !== this.startDate.year())) {\n          this.rightCalendar.month = this.endDate.clone().date(2);\n        } else {\n          this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n        }\n      }\n\n    } else {\n      if (this.leftCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM') &&\n        this.rightCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM')) {\n        this.leftCalendar.month = this.startDate.clone().date(2);\n        this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n      }\n    }\n    if (this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate) {\n      this.rightCalendar.month = this.maxDate.clone().date(2);\n      this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, 'month');\n    }\n  }\n  /**\n   *  This is responsible for updating the calendars\n   */\n  updateCalendars() {\n    this.renderCalendar(SideEnum.left);\n    this.renderCalendar(SideEnum.right);\n\n    if (this.endDate === null) { return; }\n    this.calculateChosenLabel();\n  }\n  updateElement() {\n    if (!this.singleDatePicker && this.autoUpdateInput) {\n      if (this.startDate && this.endDate) {\n        // if we use ranges and should show range label on inpu\n        if (this.rangesArray.length && this.showRangeLabelOnInput === true && this.chosenRange &&\n          this.locale.customRangeLabel !== this.chosenRange) {\n          this.chosenLabel = this.chosenRange;\n        } else {\n          this.chosenLabel = this.startDate.format(this.locale.format) +\n            this.locale.separator + this.endDate.format(this.locale.format);\n        }\n      }\n    } else if (this.autoUpdateInput) {\n      this.chosenLabel = this.startDate.format(this.locale.format);\n    }\n  }\n\n  remove() {\n    this.isShown = false;\n  }\n  /**\n   * this should calculate the label\n   */\n  calculateChosenLabel() {\n    if (!this.locale || !this.locale.separator) {\n      this._buildLocale();\n    }\n    let customRange = true;\n    let i = 0;\n    if (this.rangesArray.length > 0) {\n      for (const range in this.ranges) {\n        if (this.timePicker) {\n          const format = this.timePickerSeconds ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD HH:mm';\n          //ignore times when comparing dates if time picker seconds is not enabled\n          if (this.startDate.format(format) === this.ranges[range][0].format(format) && this.endDate.format(format) === this.ranges[range][1].format(format)) {\n            customRange = false;\n            this.chosenRange = this.rangesArray[i];\n            break;\n          }\n        } else {\n          //ignore times when comparing dates if time picker is not enabled\n          if (this.startDate.format('YYYY-MM-DD') === this.ranges[range][0].format('YYYY-MM-DD') && this.endDate.format('YYYY-MM-DD') === this.ranges[range][1].format('YYYY-MM-DD')) {\n            customRange = false;\n            this.chosenRange = this.rangesArray[i];\n            break;\n          }\n        }\n\n        i++;\n      }\n      if (customRange) {\n        if (this.showCustomRangeLabel) {\n          this.chosenRange = this.locale.customRangeLabel;\n        } else {\n          this.chosenRange = null;\n        }\n        // if custom label: show calenar\n        this.showCalInRanges = true;\n      }\n    }\n\n    this.updateElement();\n  }\n\n  clickApply(e?) {\n    if (!this.singleDatePicker && this.startDate && !this.endDate) {\n      this.endDate = this.startDate.clone();\n      this.calculateChosenLabel();\n    }\n    if (this.isInvalidDate && this.startDate && this.endDate) {\n      // get if there are invalid date between range\n      const d = this.startDate.clone();\n      while (d.isBefore(this.endDate)) {\n        if (this.isInvalidDate(d)) {\n          this.endDate = d.subtract(1, 'days');\n          this.calculateChosenLabel();\n          break;\n        }\n        d.add(1, 'days');\n      }\n    }\n    if (this.chosenLabel) {\n      this.choosedDate.emit({ chosenLabel: this.chosenLabel, startDate: this.startDate, endDate: this.endDate });\n    }\n\n    this.datesUpdated.emit({ startDate: this.startDate, endDate: this.endDate });\n    this.hide();\n  }\n\n  clickCancel(e) {\n    this.startDate = this._old.start;\n    this.endDate = this._old.end;\n    if (this.inline) {\n      this.updateView();\n    }\n    this.hide();\n  }\n  /**\n   * called when month is changed\n   * @param monthEvent get value in event.target.value\n   * @param side left or right\n   */\n  monthChanged(monthEvent: any, side: SideEnum) {\n    const year = this.calendarVariables[side].dropdowns.currentYear;\n    const month = parseInt(monthEvent.target.value, 10);\n    this.monthOrYearChanged(month, year, side);\n  }\n  /**\n   * called when year is changed\n   * @param yearEvent get value in event.target.value\n   * @param side left or right\n   */\n  yearChanged(yearEvent: any, side: SideEnum) {\n    const month = this.calendarVariables[side].dropdowns.currentMonth;\n    const year = parseInt(yearEvent.target.value, 10);\n    this.monthOrYearChanged(month, year, side);\n  }\n  /**\n   * called when time is changed\n   * @param timeEvent  an event\n   * @param side left or right\n   */\n  timeChanged(timeEvent: any, side: SideEnum) {\n\n    let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\n    const minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\n    const second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\n\n    if (!this.timePicker24Hour) {\n      const ampm = this.timepickerVariables[side].ampmModel;\n      if (ampm === 'PM' && hour < 12) {\n        hour += 12;\n      }\n      if (ampm === 'AM' && hour === 12) {\n        hour = 0;\n      }\n    }\n\n    if (side === SideEnum.left) {\n      const start = this.startDate.clone();\n      start.hour(hour);\n      start.minute(minute);\n      start.second(second);\n      this.setStartDate(start);\n      if (this.singleDatePicker) {\n        this.endDate = this.startDate.clone();\n      } else if (this.endDate && this.endDate.format('YYYY-MM-DD') === start.format('YYYY-MM-DD') && this.endDate.isBefore(start)) {\n        this.setEndDate(start.clone());\n      }\n    } else if (this.endDate) {\n      const end = this.endDate.clone();\n      end.hour(hour);\n      end.minute(minute);\n      end.second(second);\n      this.setEndDate(end);\n    }\n\n    // update the calendars so all clickable dates reflect the new time component\n    this.updateCalendars();\n\n    // re-render the time pickers because changing one selection can affect what's enabled in another\n    this.renderTimePicker(SideEnum.left);\n    this.renderTimePicker(SideEnum.right);\n  }\n  /**\n   *  call when month or year changed\n   * @param month month number 0 -11\n   * @param year year eg: 1995\n   * @param side left or right\n   */\n  monthOrYearChanged(month: number, year: number, side: SideEnum) {\n    const isLeft = side === SideEnum.left;\n\n    if (!isLeft) {\n      if (year < this.startDate.year() || (year === this.startDate.year() && month < this.startDate.month())) {\n        month = this.startDate.month();\n        year = this.startDate.year();\n      }\n    }\n\n    if (this.minDate) {\n      if (year < this.minDate.year() || (year === this.minDate.year() && month < this.minDate.month())) {\n        month = this.minDate.month();\n        year = this.minDate.year();\n      }\n    }\n\n    if (this.maxDate) {\n      if (year > this.maxDate.year() || (year === this.maxDate.year() && month > this.maxDate.month())) {\n        month = this.maxDate.month();\n        year = this.maxDate.year();\n      }\n    }\n    this.calendarVariables[side].dropdowns.currentYear = year;\n    this.calendarVariables[side].dropdowns.currentMonth = month;\n    if (isLeft) {\n      this.leftCalendar.month.month(month).year(year);\n      if (this.linkedCalendars) {\n        this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');\n      }\n    } else {\n      this.rightCalendar.month.month(month).year(year);\n      if (this.linkedCalendars) {\n        this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');\n      }\n    }\n    this.updateCalendars();\n  }\n\n  /**\n   * Click on previous month\n   * @param side left or right calendar\n   */\n  clickPrev(side: SideEnum) {\n    if (side === SideEnum.left) {\n      this.leftCalendar.month.subtract(1, 'month');\n      if (this.linkedCalendars) {\n        this.rightCalendar.month.subtract(1, 'month');\n      }\n    } else {\n      this.rightCalendar.month.subtract(1, 'month');\n    }\n    this.updateCalendars();\n  }\n  /**\n   * Click on next month\n   * @param side left or right calendar\n   */\n  clickNext(side: SideEnum) {\n    if (side === SideEnum.left) {\n      this.leftCalendar.month.add(1, 'month');\n    } else {\n      this.rightCalendar.month.add(1, 'month');\n      if (this.linkedCalendars) {\n        this.leftCalendar.month.add(1, 'month');\n      }\n    }\n    this.updateCalendars();\n  }\n  /**\n   * When selecting a date\n   * @param e event: get value by e.target.value\n   * @param side left or right\n   * @param row row position of the current date clicked\n   * @param col col position of the current date clicked\n   */\n  clickDate(e, side: SideEnum, row: number, col: number) {\n    if (e.target.tagName === 'TD') {\n      if (!e.target.classList.contains('available')) {\n        return;\n      }\n    } else if (e.target.tagName === 'SPAN') {\n      if (!e.target.parentElement.classList.contains('available')) {\n        return;\n      }\n    }\n    if (this.rangesArray.length) {\n      this.chosenRange = this.locale.customRangeLabel;\n    }\n\n    let date = side === SideEnum.left ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\n\n    if (this.endDate || date.isBefore(this.startDate, 'day')) { // picking start\n      if (this.timePicker) {\n        date = this._getDateWithTime(date, SideEnum.left);\n      }\n      this.endDate = null;\n      this.setStartDate(date.clone());\n    } else if (!this.endDate && date.isBefore(this.startDate)) {\n      // special case: clicking the same date for start/end,\n      // but the time of the end date is before the start date\n      this.setEndDate(this.startDate.clone());\n    } else { // picking end\n      if (this.timePicker) {\n        date = this._getDateWithTime(date, SideEnum.right);\n      }\n      this.setEndDate(date.clone());\n      if (this.autoApply) {\n        this.calculateChosenLabel();\n        this.clickApply();\n      }\n    }\n\n    if (this.singleDatePicker) {\n      this.setEndDate(this.startDate);\n      this.updateElement();\n      if (this.autoApply) {\n        this.clickApply();\n      }\n    }\n\n    this.updateView();\n\n    // This is to cancel the blur event handler if the mouse was in one of the inputs\n    e.stopPropagation();\n\n  }\n  /**\n   *  Click on the custom range\n   * @param e: Event\n   * @param label\n   */\n  clickRange(e, label) {\n    this.chosenRange = label;\n    if (label === this.locale.customRangeLabel) {\n      this.isShown = true; // show calendars\n      this.showCalInRanges = true;\n    } else {\n      const dates = this.ranges[label];\n      this.startDate = dates[0].clone();\n      this.endDate = dates[1].clone();\n      if (this.showRangeLabelOnInput && label !== this.locale.customRangeLabel) {\n        this.chosenLabel = label;\n      } else {\n        this.calculateChosenLabel();\n      }\n      this.showCalInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\n\n      if (!this.timePicker) {\n        this.startDate.startOf('day');\n        this.endDate.endOf('day');\n      }\n\n      if (!this.alwaysShowCalendars) {\n        this.isShown = false; // hide calendars\n      }\n      this.rangeClicked.emit({ label: label, dates: dates });\n      if (!this.keepCalendarOpeningWithRange) {\n        this.clickApply();\n      } else {\n        this.leftCalendar.month.month(dates[0].month());\n        this.leftCalendar.month.year(dates[0].year());\n        this.rightCalendar.month.month(dates[1].month());\n        this.rightCalendar.month.year(dates[1].year());\n        this.updateCalendars();\n        if (this.timePicker) {\n          this.renderTimePicker(SideEnum.left);\n          this.renderTimePicker(SideEnum.right);\n        }\n      }\n    }\n  }\n\n\n\n  show(e?) {\n    if (this.isShown) { return; }\n    this._old.start = this.startDate.clone();\n    this._old.end = this.endDate.clone();\n    this.isShown = true;\n    this.updateView();\n  }\n\n  hide(e?) {\n    if (!this.isShown) {\n      return;\n    }\n    // incomplete date selection, revert to last values\n    if (!this.endDate) {\n      if (this._old.start) {\n        this.startDate = this._old.start.clone();\n      }\n      if (this._old.end) {\n        this.endDate = this._old.end.clone();\n      }\n    }\n\n    // if a new date range was selected, invoke the user callback function\n    if (!this.startDate.isSame(this._old.start) || !this.endDate.isSame(this._old.end)) {\n      // this.callback(this.startDate, this.endDate, this.chosenLabel);\n    }\n\n    // if picker is attached to a text input, update it\n    this.updateElement();\n    this.isShown = false;\n    this._ref.detectChanges();\n\n  }\n\n  /**\n   * handle click on all element in the component, usefull for outside of click\n   * @param e event\n   */\n  handleInternalClick(e) {\n    e.stopPropagation();\n  }\n  /**\n   * update the locale options\n   * @param locale\n   */\n  updateLocale(locale) {\n    for (const key in locale) {\n      if (locale.hasOwnProperty(key)) {\n        this.locale[key] = locale[key];\n      }\n    }\n  }\n  /**\n   *  clear the daterange picker\n   */\n  clear() {\n    this.startDate = moment().startOf('day');\n    this.endDate = moment().endOf('day');\n    this.choosedDate.emit({ chosenLabel: '', startDate: null, endDate: null });\n    this.datesUpdated.emit({ startDate: null, endDate: null });\n    this.hide();\n  }\n\n  /**\n   * Find out if the selected range should be disabled if it doesn't\n   * fit into minDate and maxDate limitations.\n   */\n  disableRange(range) {\n    if (range === this.locale.customRangeLabel) {\n      return false;\n    }\n    const rangeMarkers = this.ranges[range];\n    const areBothBefore = rangeMarkers.every(date => {\n      if (!this.minDate) {\n        return false;\n      }\n      return date.isBefore(this.minDate);\n    });\n\n    const areBothAfter = rangeMarkers.every(date => {\n      if (!this.maxDate) {\n        return false;\n      }\n      return date.isAfter(this.maxDate);\n    });\n    return (areBothBefore || areBothAfter);\n  }\n\n  /**\n   *\n   * @param date the date to add time\n   * @param side left or right\n   */\n  private _getDateWithTime(date, side: SideEnum): _moment.Moment {\n    let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\n    if (!this.timePicker24Hour) {\n      const ampm = this.timepickerVariables[side].ampmModel;\n      if (ampm === 'PM' && hour < 12) {\n        hour += 12;\n      }\n      if (ampm === 'AM' && hour === 12) {\n        hour = 0;\n      }\n    }\n    const minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\n    const second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\n    return date.clone().hour(hour).minute(minute).second(second);\n  }\n  /**\n   *  build the locale config\n   */\n  private _buildLocale() {\n    if (!this.locale.format) {\n      if (this.timePicker) {\n        this.locale.format = moment.localeData().longDateFormat('lll');\n      } else {\n        this.locale.format = moment.localeData().longDateFormat('L');\n      }\n    }\n  }\n  private _buildCells(calendar, side: SideEnum) {\n    for (let row = 0; row < 6; row++) {\n      this.calendarVariables[side].classes[row] = {};\n      const rowClasses = [];\n      if (this.emptyWeekRowClass && !this.hasCurrentMonthDays(this.calendarVariables[side].month, calendar[row])) {\n        rowClasses.push(this.emptyWeekRowClass);\n      }\n      for (let col = 0; col < 7; col++) {\n        const classes = [];\n        // highlight today's date\n        if (calendar[row][col].isSame(new Date(), 'day')) {\n          classes.push('today');\n        }\n        // highlight weekends\n        if (calendar[row][col].isoWeekday() > 5) {\n          classes.push('weekend');\n        }\n        // grey out the dates in other months displayed at beginning and end of this calendar\n        if (calendar[row][col].month() !== calendar[1][1].month()) {\n          classes.push('off');\n\n          // mark the last day of the previous month in this calendar\n          if (this.lastDayOfPreviousMonthClass && (calendar[row][col].month() < calendar[1][1].month() || calendar[1][1].month() === 0) && calendar[row][col].date() === this.calendarVariables[side].daysInLastMonth) {\n            classes.push(this.lastDayOfPreviousMonthClass);\n          }\n\n          // mark the first day of the next month in this calendar\n          if (this.firstDayOfNextMonthClass && (calendar[row][col].month() > calendar[1][1].month() || calendar[row][col].month() === 0) && calendar[row][col].date() === 1) {\n            classes.push(this.firstDayOfNextMonthClass);\n          }\n        }\n        // mark the first day of the current month with a custom class\n        if (this.firstMonthDayClass && calendar[row][col].month() === calendar[1][1].month() && calendar[row][col].date() === calendar.firstDay.date()) {\n          classes.push(this.firstMonthDayClass);\n        }\n        // mark the last day of the current month with a custom class\n        if (this.lastMonthDayClass && calendar[row][col].month() === calendar[1][1].month() && calendar[row][col].date() === calendar.lastDay.date()) {\n          classes.push(this.lastMonthDayClass);\n        }\n        // don't allow selection of dates before the minimum date\n        if (this.minDate && calendar[row][col].isBefore(this.minDate, 'day')) {\n          classes.push('off', 'disabled');\n        }\n        // don't allow selection of dates after the maximum date\n        if (this.calendarVariables[side].maxDate && calendar[row][col].isAfter(this.calendarVariables[side].maxDate, 'day')) {\n          classes.push('off', 'disabled');\n        }\n        // don't allow selection of date if a custom function decides it's invalid\n        if (this.isInvalidDate(calendar[row][col])) {\n          classes.push('off', 'disabled');\n        }\n        // highlight the currently selected start date\n        if (this.startDate && calendar[row][col].format('YYYY-MM-DD') === this.startDate.format('YYYY-MM-DD')) {\n          classes.push('active', 'start-date');\n        }\n        // highlight the currently selected end date\n        if (this.endDate !== null && calendar[row][col].format('YYYY-MM-DD') === this.endDate.format('YYYY-MM-DD')) {\n          classes.push('active', 'end-date');\n        }\n        // highlight dates in-between the selected dates\n        if (this.endDate !== null && calendar[row][col] > this.startDate && calendar[row][col] < this.endDate) {\n          classes.push('in-range');\n        }\n        // apply custom classes for this date\n        const isCustom = this.isCustomDate(calendar[row][col]);\n        if (isCustom !== false) {\n          if (typeof isCustom === 'string') {\n            classes.push(isCustom);\n          } else {\n            Array.prototype.push.apply(classes, isCustom);\n          }\n        }\n        // store classes var\n        let cname = '';\n        let disabled = false;\n        for (let i = 0; i < classes.length; i++) {\n          cname += classes[i] + ' ';\n          if (classes[i] === 'disabled') {\n            disabled = true;\n          }\n        }\n        if (!disabled) {\n          cname += 'available';\n        }\n        this.calendarVariables[side].classes[row][col] = cname.replace(/^\\s+|\\s+$/g, '');\n      }\n      this.calendarVariables[side].classes[row].classList = rowClasses.join(' ');\n    }\n  }\n\n  /**\n   * Find out if the current calendar row has current month days\n   * (as opposed to consisting of only previous/next month days)\n   */\n  hasCurrentMonthDays(currentMonth, row) {\n    for (let day = 0; day < 7; day++) {\n      if (row[day].month() === currentMonth) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n","import { ESCAPE, UP_ARROW } from '@angular/cdk/keycodes';\nimport { Overlay, OverlayConfig, OverlayRef, PositionStrategy, ScrollStrategyOptions } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { ChangeDetectorRef, ComponentRef, Directive, ElementRef, EventEmitter, forwardRef, Input, KeyValueDiffer, KeyValueDiffers, NgZone, Output, ViewContainerRef, OnDestroy } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport * as _moment from 'moment';\nimport { merge } from 'rxjs';\nimport { filter, take } from 'rxjs/operators';\nimport { DaterangepickerComponent } from './o-daterange-picker.component';\nconst moment = _moment;\n\n@Directive({\n  selector: 'input[o-daterange-input]',\n  host: {\n    '(keyup.esc)': 'close()',\n    '(blur)': 'onBlur()'\n  },\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ODaterangepickerDirective), multi: true\n    }\n  ]\n})\nexport class ODaterangepickerDirective implements OnDestroy {\n\n  private _onChange = Function.prototype;\n  private _onTouched = Function.prototype;\n  public _validatorChange = Function.prototype;\n  private _value: any;\n\n  public localeDiffer: KeyValueDiffer<string, any>;\n\n  @Input()\n  minDate: _moment.Moment = null;\n  @Input()\n  maxDate: _moment.Moment = null;\n  @Input()\n  showCustomRangeLabel: boolean;\n  @Input()\n  linkedCalendars: boolean;\n  @Input()\n  dateLimit: number = null;\n  @Input()\n  singleDatePicker: boolean;\n  @Input()\n  showWeekNumbers: boolean;\n  @Input()\n  showISOWeekNumbers: boolean;\n  @Input()\n  showDropdowns: boolean;\n  @Input()\n  isInvalidDate: () => boolean;\n  @Input()\n  isCustomDate: () => boolean;\n  // @Input()\n  // showClearButton: boolean;\n\n\n  @Input()\n  opens: string;\n  @Input()\n  drops: string;\n  firstMonthDayClass: string;\n  @Input()\n  lastMonthDayClass: string;\n  @Input()\n  emptyWeekRowClass: string;\n  @Input()\n  firstDayOfNextMonthClass: string;\n  @Input()\n  lastDayOfPreviousMonthClass: string;\n  @Input()\n  keepCalendarOpeningWithRange: boolean;\n  @Input()\n  showRangeLabelOnInput: boolean;\n  @Input()\n  showCancel: boolean = false;\n  // timepicker variables\n  @Input()\n  timePicker: boolean = false;\n  @Input()\n  showRanges: boolean = false;\n  @Input()\n  timePicker24Hour: boolean = false;\n  @Input()\n  timePickerIncrement: number = 1;\n  @Input()\n  timePickerSeconds: boolean = false;\n  _locale: any;\n  _separator: string;\n\n  @Input() set separator(value) {\n    if (value !== null) {\n      this._separator = value;\n      if (this._locale) {\n        this._locale.separator = value;\n      }\n    }\n  }\n\n  @Input() set locale(value) {\n    if (value !== null) {\n      this._locale = value;\n      if (this._separator) {\n        this._locale.separator = this._separator;\n      }\n    }\n  }\n  get locale(): any {\n    return this._locale;\n  }\n\n  @Input()\n  private _endKey: string = 'endDate';\n  private _startKey: string = 'startDate';\n\n  public ranges: any = {\n    'DATERANGE.today': [moment(), moment()],\n    'DATERANGE.yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\n    'DATERANGE.last_7days': [moment().subtract(6, 'days'), moment()],\n    'DATERANGE.last_30days': [moment().subtract(29, 'days'), moment()],\n    'DATERANGE.this_month': [moment().startOf('month'), moment().endOf('month')],\n    'DATERANGE.last_month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],\n    'DATERANGE.this_year': [moment().startOf('year'), moment().endOf('year')]\n  };\n\n  @Input()\n  oTouchUi: boolean = false;\n\n  @Input() set startKey(value) {\n    if (value && value !== null) {\n      this._startKey = value;\n    } else {\n      this._startKey = 'startDate';\n    }\n  }\n  get startKey(): string {\n    return this._startKey;\n  }\n  @Input() set endKey(value) {\n    if (value && value !== null) {\n      this._endKey = value;\n    } else {\n      this._endKey = 'endDate';\n    }\n  }\n  get endKey(): string {\n    return this._endKey;\n  }\n  notForChangesProperty: Array<string> = [\n    'locale',\n    'endKey',\n    'startKey'\n  ];\n\n  get value() {\n    return this._value || null;\n  }\n  set value(val) {\n    this._value = val;\n    this._onChange(val);\n    this._changeDetectorRef.markForCheck();\n  }\n  @Output() onChange: EventEmitter<object> = new EventEmitter();\n  @Output() rangeClicked: EventEmitter<object> = new EventEmitter();\n  @Output() datesUpdated: EventEmitter<object> = new EventEmitter();\n\n  private _popupComponentRef: ComponentRef<DaterangepickerComponent> | null;\n  private _calendarPortal: ComponentPortal<DaterangepickerComponent>;\n  _popupRef: OverlayRef;\n  private _dialogRef: MatDialogRef<DaterangepickerComponent> | null;\n\n  constructor(\n    private _dialog: MatDialog,\n    private _ngZone: NgZone,\n    private _overlay: Overlay,\n    public _viewContainerRef: ViewContainerRef,\n    public _changeDetectorRef: ChangeDetectorRef,\n    public _el: ElementRef,\n    private differs: KeyValueDiffers,\n    private scrollStrategy: ScrollStrategyOptions\n  ) {\n    this.drops = 'down';\n    this.opens = 'right';\n  }\n\n  initializeListeners(instance) {\n    instance.rangeClicked.asObservable().subscribe((range: any) => {\n      this.rangeClicked.emit(range);\n    });\n    instance.datesUpdated.asObservable().subscribe((range: any) => {\n      this.datesUpdated.emit(range);\n    });\n    instance.choosedDate.asObservable().subscribe((change: any) => {\n      if (change) {\n        const value = {};\n        value[this._startKey] = change.startDate;\n        value[this._endKey] = change.endDate;\n        this.value = value;\n        this.onChange.emit(value);\n        if (typeof change.chosenLabel === 'string') {\n          this._el.nativeElement.value = change.chosenLabel;\n        }\n      }\n    });\n    instance.firstMonthDayClass = this.firstMonthDayClass;\n    instance.lastMonthDayClass = this.lastMonthDayClass;\n    instance.emptyWeekRowClass = this.emptyWeekRowClass;\n    instance.firstDayOfNextMonthClass = this.firstDayOfNextMonthClass;\n    instance.lastDayOfPreviousMonthClass = this.lastDayOfPreviousMonthClass;\n    instance.drops = this.drops;\n    instance.opens = this.opens;\n    instance.minDate = this.minDate;\n    instance.maxDate = this.maxDate;\n    instance.locale = this.locale;\n    instance.showWeekNumbers = this.showWeekNumbers;\n\n    if (this.showRanges) {\n      instance.ranges = this.ranges;\n      instance.keepCalendarOpeningWithRange = true;\n      instance.alwaysShowCalendars = true;\n    }\n    this.localeDiffer = this.differs.find(this.locale).create();\n  }\n\n  // ngOnChanges(changes: SimpleChanges): void  {\n  //   for (let change in changes) {\n  //     if (changes.hasOwnProperty(change)) {\n  //       if (this.notForChangesProperty.indexOf(change) === -1) {\n  //         this.picker[change] = changes[change].currentValue;\n  //       }\n  //     }\n  //   }\n  // }\n\n  // ngDoCheck() {\n  //   if (this.localeDiffer) {\n  //     const changes = this.localeDiffer.diff(this.locale);\n  //     if (changes) {\n  //       this.picker.updateLocale(this.locale);\n  //     }\n  //   }\n  // }\n\n  onBlur() {\n    this._onTouched();\n  }\n\n  open() {\n    if (!this.oTouchUi) {\n      this.openAsPopup();\n\n    } else {\n      this.openAsDialog();\n    }\n  }\n\n  ngOnDestroy() {\n    this.close();\n\n    if (this._popupRef) {\n      this._popupRef.dispose();\n      this._popupComponentRef = null;\n    }\n  }\n\n  clear() {\n    this._popupComponentRef.instance.clear();\n  }\n\n  writeValue(value) {\n    this.setValue(value);\n  }\n  registerOnChange(fn) {\n    this._onChange = fn;\n  }\n  registerOnTouched(fn) {\n    this._onTouched = fn;\n  }\n\n  setValueInDateComponent(instance, val) {\n    if (val) {\n      if (val[this._startKey]) {\n        instance.setStartDate(val[this._startKey]);\n      }\n      if (val[this._endKey]) {\n        instance.setEndDate(val[this._endKey]);\n      }\n      instance.calculateChosenLabel();\n      if (instance.chosenLabel) {\n        this._el.nativeElement.value = instance.chosenLabel;\n      }\n    } else {\n      instance.clear();\n    }\n\n  }\n  private setValue(val: any) {\n    if (val) {\n      this.value = val;\n\n    }\n  }\n  /**\n   * Set position of the calendar\n   */\n  // setPosition() {\n  //   let style;\n  //   let containerTop;\n  //   const container = this.picker.pickerContainer.nativeElement;\n  //   const element = this._el.nativeElement;\n  //   if (this.drops && this.drops == 'up') {\n  //     containerTop = (element.offsetTop - container.clientHeight) + 'px';\n  //   } else {\n  //     containerTop = 'auto';\n  //   }\n  //   if (this.opens == 'left') {\n  //     style = {\n  //         top: containerTop,\n  //         left: (element.offsetLeft - container.clientWidth + element.clientWidth) + 'px',\n  //         right: 'auto'\n  //     };\n  //   } else if (this.opens == 'center') {\n  //       style = {\n  //         top: containerTop,\n  //         left: (element.offsetLeft  +  element.clientWidth / 2\n  //                 - container.clientWidth / 2) + 'px',\n  //         right: 'auto'\n  //       };\n  //   } else {\n  //       style = {\n  //         top: containerTop,\n  //         left: element.offsetLeft  + 'px',\n  //         right: 'auto'\n  //       }\n  //   }\n  //   if (style) {\n  //     this._renderer.setStyle(container, 'top', style.top);\n  //     this._renderer.setStyle(container, 'left', style.left);\n  //     this._renderer.setStyle(container, 'right', style.right);\n  //     this._renderer.setStyle(container, 'position', 'fixed');\n  //   }\n  // }\n  /**\n   * For click outside of the calendar's container\n   * @param event event object\n   * @param targetElement target element object\n   */\n  // @HostListener('document:click', ['$event', '$event.target'])\n  // outsideClick(event, targetElement: HTMLElement): void {\n  //     if (!targetElement) {\n  //       return;\n  //     }\n  //     if (targetElement.classList.contains('ngx-daterangepicker-action')) {\n  //       return;\n  //     }\n  //     const clickedInside = this._el.nativeElement.contains(targetElement);\n  //     if (!clickedInside) {\n  //        this.hide()\n  //     }\n  // }\n\n\n\n  /** */\n  public openAsPopup(): void {\n    if (!this._calendarPortal) {\n      this._calendarPortal = new ComponentPortal<DaterangepickerComponent>(DaterangepickerComponent,\n        this._viewContainerRef);\n    }\n\n    if (!this._popupRef) {\n      this._createPopup();\n    }\n\n\n    if (!this._popupRef.hasAttached()) {\n      this._popupComponentRef = this._popupRef.attach(this._calendarPortal);\n      this.initializeListeners(this._popupComponentRef.instance);\n      if (this.value) {\n        this.setValueInDateComponent(this._popupComponentRef.instance, this.value);\n      }\n\n      // Update the position once the calendar has rendered.\n      this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(() => {\n        this._popupRef.updatePosition();\n      });\n    }\n  }\n  /** Create the popup. */\n  private _createPopup(): void {\n    const overlayConfig = new OverlayConfig({\n      positionStrategy: this._createPopupPositionStrategy(),\n      hasBackdrop: true,\n      backdropClass: 'mat-overlay-transparent-backdrop',\n      direction: 'ltr',\n      panelClass: 'o-daterangepicker-popup',\n      scrollStrategy: this.scrollStrategy.close()\n    });\n\n    this._popupRef = this._overlay.create(overlayConfig);\n    this._popupRef.overlayElement.setAttribute('role', 'dialog');\n\n    merge(\n      this._popupRef.backdropClick(),\n      this._popupRef.detachments(),\n      this._popupRef.keydownEvents().pipe(filter(event => {\n        // Closing on alt + up is only valid when there's an input associated with the datepicker.\n        return event.keyCode === ESCAPE ||\n          (this._el && event.altKey && event.keyCode === UP_ARROW);\n      }))\n    ).subscribe(() => this.close());\n  }\n\n  private _createPopupPositionStrategy(): PositionStrategy {\n    return this._overlay.position()\n      .flexibleConnectedTo(this._el)\n      // .withTransformOriginOn('.mat-datepicker-content')\n      // .withFlexibleDimensions(false)\n      .withViewportMargin(8)\n      // .withLockedPosition()\n      .withPositions([\n        {\n          originX: 'start',\n          originY: 'bottom',\n          overlayX: 'start',\n          overlayY: 'top'\n        },\n        {\n          originX: 'start',\n          originY: 'top',\n          overlayX: 'start',\n          overlayY: 'bottom'\n        },\n        {\n          originX: 'end',\n          originY: 'bottom',\n          overlayX: 'end',\n          overlayY: 'top'\n        },\n        {\n          originX: 'end',\n          originY: 'top',\n          overlayX: 'end',\n          overlayY: 'bottom'\n        }\n      ]);\n  }\n\n\n  /** Open the calendar as a dialog. */\n  public openAsDialog(): void {\n    // Usually this would be handled by `open` which ensures that we can only have one overlay\n    // open at a time, however since we reset the variables in async handlers some overlays\n    // may slip through if the user opens and closes multiple times in quick succession (e.g.\n    // by holding down the enter key).\n    if (this._dialogRef) {\n      this._dialogRef.close();\n    }\n\n    this._dialogRef = this._dialog.open<DaterangepickerComponent>(DaterangepickerComponent, {\n      direction: 'ltr',\n      viewContainerRef: this._viewContainerRef,\n      panelClass: 'mat-datepicker-dialog',\n    });\n\n    this.initializeListeners(this._dialogRef.componentInstance);\n    if (this.value) {\n      this.setValueInDateComponent(this._dialogRef.componentInstance, this.value);\n    }\n    this._dialogRef.afterClosed().subscribe(() => this.close());\n    // this._dialogRef.componentInstance. = this;\n\n  }\n\n  close(): void {\n    if (this._popupRef && this._popupRef.hasAttached()) {\n      this._popupRef.detach();\n    }\n\n    if (this._dialogRef) {\n      this._dialogRef.close();\n    }\n\n    if (this._calendarPortal && this._calendarPortal.isAttached) {\n      this._calendarPortal.detach();\n    }\n  }\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnDestroy, OnInit, Optional, ViewChild } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\nimport * as _moment from 'moment';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { MomentService } from '../../../services/moment.service';\nimport { OTranslateService } from '../../../services/translate/o-translate.service';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { ODateValueType } from '../../../types/o-date-value.type';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormDataComponent } from '../../o-form-data-component.class';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { DEFAULT_INPUTS_O_DATE_INPUT } from '../date-input/o-date-input.component';\nimport { DEFAULT_OUTPUTS_O_TEXT_INPUT } from '../text-input/o-text-input.component';\nimport { ODaterangepickerDirective } from './o-daterange-input.directive';\nimport { DaterangepickerComponent } from './o-daterange-picker.component';\n\nexport const DEFAULT_OUTPUTS_O_DATERANGE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_INPUTS_O_DATERANGE_INPUT = [\n  'separator',\n  'showWeekNumbers:show-week-numbers',\n  'showRanges:show-ranges',\n  'olocale:locale',\n  'startKey',\n  'endKey',\n  'valueType: value-type',\n  ...DEFAULT_INPUTS_O_DATE_INPUT\n];\n\nconst moment = _moment;\n\n@Component({\n  selector: 'o-daterange-input',\n  templateUrl: './o-daterange-input.component.html',\n  styleUrls: ['./o-daterange-input.component.scss'],\n  outputs: DEFAULT_OUTPUTS_O_DATERANGE_INPUT,\n  inputs: DEFAULT_INPUTS_O_DATERANGE_INPUT\n})\nexport class ODateRangeInputComponent extends OFormDataComponent implements OnDestroy, OnInit {\n\n  @ViewChild(ODaterangepickerDirective, { static: true }) pickerDirective: ODaterangepickerDirective;\n  picker!: DaterangepickerComponent;\n\n  @ViewChild('matInputRef', { read: ElementRef, static: true })\n  private matInputRef!: ElementRef;\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n\n  @InputConverter()\n  public showWeekNumbers: boolean = false;\n\n  @InputConverter()\n  public oTouchUi: boolean = false;\n\n  @InputConverter()\n  public showRanges: boolean = false;\n\n  protected _oMinDate: _moment.Moment;\n  get oMinDate() {\n    return this._oMinDate;\n  }\n  set oMinDate(value) {\n    this._oMinDate = moment(value, this.oformat);\n  }\n\n  protected _oMaxDate: _moment.Moment;\n  get oMaxDate() {\n    return this._oMaxDate;\n  }\n  set oMaxDate(value) {\n    this._oMaxDate = moment(value, this.oformat);\n  }\n\n  protected _startKey: string = 'startDate';\n  get startKey() {\n    return this._startKey;\n  }\n  set startKey(value) {\n    this._startKey = value;\n  }\n\n  protected _endKey: string = 'endDate';\n  get endKey() {\n    return this._endKey;\n  }\n  set endKey(value) {\n    this._endKey = value;\n  }\n\n  protected _valueType: ODateValueType = 'timestamp';\n\n  protected _separator = ' - ';\n  get separator() {\n    return this._separator;\n  }\n\n  set separator(value) {\n    this._separator = value;\n    if (this.getFormControl() && this.getFormControl().value) {\n      this.updateElement();\n    }\n  }\n\n  get showClearButton(): boolean {\n    return this.clearButton && !this.isReadOnly && this.enabled && this.matInputRef.nativeElement.value;\n  }\n\n  get localeOptions() {\n    return this._localeOptions;\n  }\n\n  public oformat: string = 'L';\n  protected _localeOptions: any;\n  protected olocale: string;\n\n  private momentSrv: MomentService;\n  private oTranslate: OTranslateService;\n\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.oTranslate = this.injector.get(OTranslateService);\n    this.momentSrv = this.injector.get(MomentService);\n    this._localeOptions = {\n      direction: 'ltr',\n      separator: ' - ',\n      weekLabel: this.oTranslate.get('DATERANGE.W'),\n      applyLabel: this.oTranslate.get('DATERANGE.APPLYLABEL'),\n      cancelLabel: this.oTranslate.get('CANCEL'),\n      customRangeLabel: 'Custom range',\n      daysOfWeek: moment.weekdaysMin(),\n      monthNames: moment.monthsShort(),\n      firstDay: moment.localeData().firstDayOfWeek(),\n      format: 'L'\n    };\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    if (!this.olocale) {\n      this.olocale = this.momentSrv.getLocale();\n      moment.locale(this.olocale);\n\n    }\n    if (this.oformat) {\n      this._localeOptions.format = this.oformat;\n    }\n  }\n\n  public openPicker() {\n    this.pickerDirective.open();\n  }\n\n  public onChangeEvent(event: any): void {\n    let objectValue;\n    if (event instanceof Event) {\n      const value = (event.target as HTMLInputElement).value;\n      if (value !== '') {\n        objectValue = this.getDateRangeToString(value);\n      }\n    } else {\n      objectValue = event;\n    }\n\n    this.setValue(objectValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n\n  }\n\n  public setValue(val: any, options: FormValueOptions = {}, setDirty: boolean = false) {\n    super.setValue(val, options, setDirty);\n    this.updateElement();\n  }\n\n  public onClickClearValue(e: Event): void {\n    super.onClickClearValue(e);\n    this.pickerDirective.value = undefined;\n    this.pickerDirective.datesUpdated.emit();\n  }\n\n  datesUpdated(range) {\n    this.pickerDirective.close();\n    this.setValue(range,\n      {\n        changeType: OValueChangeEvent.USER_CHANGE,\n        emitEvent: false,\n        emitModelToViewChange: false\n      });\n  }\n\n  public setData(newValue: any): void {\n    super.setData(newValue);\n    this.pickerDirective.datesUpdated.emit(newValue);\n    this.updateElement();\n  }\n\n  updateElement() {\n    let chosenLabel: any;\n    if (Util.isDefined(this.value.value) && !this.isObjectDataRangeNull(this.value)) {\n      if (this.value.value[this.pickerDirective.startKey] && this.value.value[this.pickerDirective.endKey]) {\n        this.value.value[this.pickerDirective.startKey] = this.ensureDateRangeValue(this.value.value[this.pickerDirective.startKey], this._valueType);\n        this.value.value[this.pickerDirective.endKey]  = this.ensureDateRangeValue(this.value.value[this.pickerDirective.endKey], this._valueType);\n        chosenLabel = this.value.value[this.pickerDirective.startKey].format(this.oformat) +\n          this.separator + this.value.value[this.pickerDirective.endKey].format(this.oformat);\n      } else {\n        chosenLabel = null;\n      }\n    } else {\n      chosenLabel = null;\n    }\n    this.pickerDirective._el.nativeElement.value = chosenLabel;\n  }\n\n\n  getDateRangeToString(valueToString: string) {\n    const value = {};\n    const range = valueToString.split(this.separator);\n    value[this._startKey] = moment(range[0].trim(), this.oformat);\n    value[this._endKey] = moment(range[1].trim(), this.oformat);\n    return value;\n  }\n\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n\n    validators.push(this.rangeDateValidator.bind(this));\n    if (Util.isDefined(this._oMinDate)) {\n      validators.push(this.minDateValidator.bind(this));\n    }\n    if (Util.isDefined(this._oMaxDate)) {\n      validators.push(this.maxDateValidator.bind(this));\n    }\n\n    validators.push(this.parseDateValidator.bind(this));\n    return validators;\n  }\n\n  isObjectDataRangeNull(objectValue): boolean {\n    return objectValue !== null && objectValue.value !== null &&\n      !Util.isDefined(objectValue.value[this.pickerDirective.startKey]) &&\n      !Util.isDefined(objectValue.value[this.pickerDirective.endKey]);\n  }\n\n\n  protected rangeDateValidator(control: FormControl): ValidationErrors {\n\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._endKey].isSameOrBefore(control.value[this._startKey])) {\n      return {\n        dateRange: true\n      };\n    }\n    return {};\n  }\n\n  protected minDateValidator(control: FormControl): ValidationErrors {\n    const mindate = moment(this._oMinDate);\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._startKey].isBefore(mindate)) {\n      return {\n        dateRangeMin: {\n          dateMin: mindate.format(this.oformat)\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxDateValidator(control: FormControl): ValidationErrors {\n    const maxdate = moment(this._oMaxDate);\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control) && control.value[this._endKey].isAfter(maxdate)) {\n      return {\n        dateRangeMax: {\n          dateMax: maxdate.format(this.oformat)\n        }\n      };\n    }\n    return {};\n  }\n  protected parseDateValidator(control: FormControl): ValidationErrors {\n    if ((control.value instanceof Object)\n      && !this.isObjectDataRangeNull(control)\n      && ((control.value[this._startKey] && !control.value[this._startKey].isValid())\n        || (control.value[this._endKey] && !control.value[this._endKey].isValid()))) {\n      return {\n        dateRangeParse: {\n          format: this.oformat + this._localeOptions.separator + this.oformat\n        }\n      };\n    }\n    return {};\n  }\n\n  ensureDateRangeValue(val: any, valueType: any): void {\n    if (!Util.isDefined(val)) {\n      return val;\n    }\n    let result = val;\n    if(!moment.isMoment(val)) {\n      switch (valueType) {\n        case 'string':\n        case 'date':\n          if ( (val instanceof Date) || typeof val ==='string' ) {\n            const dateString = moment(val).format('YYYY-MM-DDThh:mm') + 'Z';\n            const q = moment(dateString);\n            if (q.isValid()) {\n              result = q;\n            } else {\n              result = undefined;\n            }\n          } else {\n            result = undefined;\n          }\n          break;\n        case 'timestamp':\n          if ( typeof val === 'number') {\n            const dateString = moment.unix(val).format('YYYY-MM-DDThh:mm') + 'Z';\n            const t = moment(dateString);\n            if (t.isValid()) {\n              result = t;\n            } else {\n              result = undefined;\n            }\n          } else {\n            result = val;\n          }\n          break;\n        case 'iso-8601':\n          const m = moment(val);\n          if (m.isValid()) {\n            result = m;\n          } else {\n            result = undefined;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    if (!Util.isDefined(result)) {\n      console.warn(`ODateRangeInputComponent value (${val}) is not consistent with value-type (${valueType})`);\n    }\n    return result;\n  }\n\n  set valueType(val: any) {\n    this._valueType = Util.convertToODateValueType(val);\n  }\n\n  get valueType(): any {\n    return this._valueType;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ODateRangeInputComponent } from './o-daterange-input.component';\nimport { ODaterangepickerDirective } from './o-daterange-input.directive';\nimport { DaterangepickerComponent } from './o-daterange-picker.component';\n\n@NgModule({\n  declarations: [DaterangepickerComponent, ODateRangeInputComponent, ODaterangepickerDirective],\n  imports: [CommonModule, OSharedModule],\n  exports: [ODateRangeInputComponent],\n  entryComponents: [DaterangepickerComponent]\n})\nexport class ODateRangeInputModule { }\n","import { FormControl, ValidationErrors } from '@angular/forms';\n\nconst EMAIL_REGEXP = /[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/;\n\n// NIF Regular Expressions\nconst DNI_PATTERN = '^(([0-9]{8})([-]?)([a-zA-Z]{1}))$';\nconst NIE_PATTERN = '^(([x-zX-Z]{1})([-]?)([0-9]{7})([-]?)([a-zA-Z]{1}))$';\nconst DNI_CHECK = 'TRWAGMYFPDXBNJZSQVHLCKET';\nconst NUMBERS = '0123456789';\nexport const TWELVE_HOUR_FORMAT_PATTERN = '^(([0-9]|([01]?[0-9])):([0-9]|([0-5][0-9])) *([AaPp][Mm])*)$';\nexport const TWENTY_FOUR_HOUR_FORMAT_PATTERN = '^([0-9]|([01]?[0-9]|2[0-3])):[0-9]|([0-5][0-9])$';\n\nexport class OValidators {\n\n  /**\n   * Hour validator hh:mm am/pm format\n   */\n  public static twelveHourFormatValidator(control: FormControl): ValidationErrors {\n    const regExp = new RegExp(TWELVE_HOUR_FORMAT_PATTERN);\n    if (control.value && typeof control.value === 'string' && !regExp.test(control.value)) {\n      return { invalidFormatHour: true };\n    }\n    return {};\n  }\n\n  /**\n   * Hour validator HH:mm format\n   */\n  public static twentyFourHourFormatValidator(control: FormControl): ValidationErrors {\n    const regExp = new RegExp(TWENTY_FOUR_HOUR_FORMAT_PATTERN);\n    if (control.value && typeof control.value === 'string' && !regExp.test(control.value)) {\n      return { invalidFormatHour: true };\n    }\n    return {};\n  }\n\n  /**\n   * Email validator\n   */\n  public static emailValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && !EMAIL_REGEXP.test(control.value)) {\n      return { invalidEmailAddress: true };\n    }\n    return {};\n  }\n\n  /**\n   * NIF validator\n   */\n  public static nifValidator(control: FormControl): ValidationErrors {\n    const newValue = control.value;\n    const regExp = new RegExp(DNI_PATTERN + '|' + NIE_PATTERN);\n\n    // removing dashes\n    let valueWithoutDashes = '';\n    for (const i in newValue) {\n      if (newValue[i] !== '-') {\n        valueWithoutDashes = valueWithoutDashes + newValue[i];\n      }\n    }\n    if (valueWithoutDashes.length > 1) {\n      const firstChar = valueWithoutDashes.charAt(0);\n      if (NUMBERS.indexOf(firstChar) !== -1) {\n        const number = valueWithoutDashes.substring(0, valueWithoutDashes.length - 1);\n        const pos = parseInt(number, 10) % 23;\n        const expectedLetter = DNI_CHECK.substring(pos, pos + 1);\n        const letter = valueWithoutDashes.charAt(valueWithoutDashes.length - 1);\n        const dniLetterError = (expectedLetter !== letter.toUpperCase());\n        if (dniLetterError) {\n          return { invalidNIFLetter: true };\n        } else {\n          if (!regExp.test(valueWithoutDashes)) {\n            return { invalidNIF: true };\n          }\n        }\n      } else {\n        if (!regExp.test(valueWithoutDashes)) {\n          return { invalidNIF: true };\n        }\n      }\n    }\n    return undefined;\n  }\n\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnInit, Optional, ViewEncapsulation } from '@angular/core';\nimport { ValidatorFn } from '@angular/forms';\n\nimport { OValidators } from '../../../validators/o-validators';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  OTextInputComponent,\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_EMAIL_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_EMAIL_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-email-input',\n  templateUrl: './o-email-input.component.html',\n  styleUrls: ['./o-email-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_EMAIL_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_EMAIL_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OEmailInputComponent extends OTextInputComponent implements OnInit {\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    // Inject email validator\n    validators.push(OValidators.emailValidator);\n    return validators;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextInputModule } from '../text-input/o-text-input.module';\nimport { OEmailInputComponent } from './o-email-input.component';\n\n@NgModule({\n  declarations: [OEmailInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [OEmailInputComponent]\n})\nexport class OEmailInputModule {\n}\n","import { Subscription } from 'rxjs';\n\nimport { OFileUploader } from './o-file-uploader.class';\n\nexport class OFileItem {\n\n  public index: number = void 0;\n  public isReady: boolean = false;\n  public isUploading: boolean = false;\n  public isUploaded: boolean = false;\n  public isSuccess: boolean = false;\n  public isCancel: boolean = false;\n  public isError: boolean = false;\n  public progress: number = 0;\n  public _uploadSuscription: Subscription;\n\n  protected uploader: OFileUploader;\n  protected _file: File;\n\n  constructor(file: File, uploader: OFileUploader) {\n    this._file = file;\n    this.uploader = uploader;\n  }\n\n  public upload(): void {\n    this.uploader.uploadItem(this);\n  }\n\n  public cancel(): void {\n    this.uploader.cancelItem(this);\n  }\n\n  public remove(): void {\n    this.uploader.removeFile(this);\n  }\n\n  public prepareToUpload(): void {\n    this.index = this.index || ++this.uploader.nextIndex;\n    this.isReady = true;\n  }\n\n  get file(): File {\n    return this._file;\n  }\n\n  get name(): string {\n    return this._file.name;\n  }\n\n  get size(): number {\n    return this._file.size;\n  }\n\n  get type(): string {\n    return this._file.type;\n  }\n\n  get lastModifiedDate(): any {\n    return this._file.lastModified;\n  }\n\n  public _onBeforeUpload(notify: boolean = true): void {\n    this.isReady = true;\n    this.isUploading = true;\n    this.isUploaded = false;\n    this.isSuccess = false;\n    this.isCancel = false;\n    this.isError = false;\n    this.progress = 0;\n    if (notify) {\n      this.onBeforeUpload();\n    }\n  }\n\n  public _onProgress(progress: number): void {\n    this.progress = progress;\n    this.onProgress(progress);\n  }\n\n  public _onSuccess(data: any, notify: boolean = true): void {\n    this.index = void 0;\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = true;\n    this.isSuccess = true;\n    this.isCancel = false;\n    this.isError = false;\n    this.progress = 100;\n    if (notify) {\n      this.onSuccess(data);\n    }\n  }\n\n  public _onError(error: any, notify: boolean = true): void {\n    this.index = void 0;\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = true;\n    this.isSuccess = false;\n    this.isCancel = false;\n    this.isError = true;\n    this.progress = 0;\n    if (notify) {\n      this.onError(error);\n    }\n  }\n\n  public _onCancel(notify: boolean = true): void {\n    this.isReady = false;\n    this.isUploading = false;\n    this.isUploaded = false;\n    this.isSuccess = false;\n    this.isCancel = true;\n    this.isError = false;\n    this.progress = 0;\n    this.index = void 0;\n    if (notify) {\n      this.onCancel();\n    }\n  }\n\n  public _onComplete(notify: boolean = true): void {\n    if (notify) {\n      this.onComplete();\n    }\n  }\n\n  public onBeforeUpload(): any {\n    return {};\n  }\n\n  public onProgress(progress: number): any {\n    return { progress };\n  }\n\n  public onSuccess(data: any): any {\n    return { data };\n  }\n\n  public onError(error: any): any {\n    return { error };\n  }\n\n  public onCancel(): any {\n    return {};\n  }\n\n  public onComplete(): any {\n    return {};\n  }\n\n  get pendingUpload(): boolean {\n    return !this.isUploaded && !this.isUploading && !this.isCancel;\n   }\n\n}\n","import { Subscription } from 'rxjs';\n\nimport { IFileService } from '../../../interfaces/file-service.interface';\nimport { Codes } from '../../../util/codes';\nimport { OFileItem } from './o-file-item.class';\n\nexport class OFileUploader {\n\n  public entity: string;\n  public files: OFileItem[] = [];\n  public isUploading: boolean = false;\n  public progress: number = 0;\n  public nextIndex: number = 0;\n  public splitUpload: boolean = true;\n  public data: object;\n\n  protected _uploadSuscription: Subscription;\n\n  constructor(\n    protected service: IFileService,\n    entity: string\n  ) {\n    this.entity = entity;\n  }\n\n  public addFile(fileItem: OFileItem): void {\n    this.files.push(fileItem);\n    this.progress = this._getTotalProgress();\n  }\n\n  /**\n   * Cancels the upload of all files and remove them from the file list.\n   */\n  clear(): void {\n    this.cancel();\n    while (this.files.length) {\n      this.files[0].remove();\n    }\n    this.progress = 0;\n  }\n\n  /**\n   * Removes a file from the file list, it cancels upload if needed.\n   * @param value the file to remove\n   */\n  removeFile(value: any): void {\n    const index = this.getIndexOfItem(value);\n    const item = this.files[index];\n    if (item) {\n      if (item.isUploading) {\n        item.cancel();\n      }\n      this.files.splice(index, 1);\n      this.progress = this._getTotalProgress();\n    }\n  }\n\n  public upload(): void {\n    this.files.forEach((item: OFileItem) => {\n      if (item.pendingUpload) {\n        item.prepareToUpload();\n      }\n    });\n    if (this.splitUpload) {\n      this.files.forEach((item: OFileItem) => {\n        if (item.pendingUpload) {\n          this.uploadItem(item);\n        }\n      });\n    } else {\n      this.uploadItems(this.files);\n    }\n  }\n\n  /**\n   * Uploads a single file on a single request.\n   * @param item the file to upload\n   */\n  public uploadItem(item: OFileItem): void {\n    item.prepareToUpload();\n    if (this.isUploading || item.isUploading) {\n      return;\n    }\n    this.isUploading = true;\n    item.isUploading = true;\n\n    this._onBeforeUploadItem(item);\n\n    if (this.service === undefined) {\n      console.warn('No service configured! aborting upload');\n      return;\n    }\n    if (this._uploadSuscription) {\n      this._uploadSuscription.unsubscribe();\n    }\n\n    const self = this;\n    this._uploadSuscription = item._uploadSuscription = this.service.upload([item], this.entity, this.data).subscribe(\n      resp => {\n        if (resp.loaded && resp.total) {\n          const progress = Math.round(resp.loaded * 100 / resp.total);\n          self._onProgressItem(item, progress);\n        } else if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          self._onSuccessItem(item, resp);\n        } else {\n          console.error('uploadItem error');\n          self._onErrorItem(item, 'Unknow error');\n        }\n      },\n      err => self._onErrorItem(item, err),\n      () => self._onCompleteItem(item)\n    );\n  }\n\n  /**\n   * Upload a set of files on a single request.\n   * @param items the array of files to upload\n   */\n  public uploadItems(items: OFileItem[]): void {\n    if (this.isUploading || items.some(item => item.isUploading)) {\n      return;\n    }\n    this.isUploading = true;\n\n    this._onBeforeUploadAll();\n\n    if (this.service === undefined) {\n      console.warn('No service configured! aborting upload');\n      return;\n    }\n    if (this._uploadSuscription) {\n      this._uploadSuscription.unsubscribe();\n    }\n\n    const self = this;\n    this._uploadSuscription = this.service.upload(items, this.entity, this.data).subscribe(resp => {\n      if (resp.loaded && resp.total) {\n        const progress = Math.round(resp.loaded * 100 / resp.total);\n        self._onProgressAll(progress);\n      } else if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        self._onSuccessAll(resp);\n      } else {\n        console.error('uploadItems error');\n      }\n    },\n      err => self._onErrorAll(err),\n      () => self._onCompleteAll()\n    );\n  }\n\n  /**\n   * Cancels the upload of all files.\n   */\n  public cancel(): void {\n    if (this.splitUpload) {\n      this.files.forEach(item => item.cancel());\n    } else {\n      if (this._uploadSuscription) {\n        this._uploadSuscription.unsubscribe();\n      }\n      this._onCancelAll();\n      this._onCompleteAll();\n    }\n  }\n\n  /**\n   * Cancels the the file upload.\n   * @param value the file to cancel its upload\n   */\n  public cancelItem(value: OFileItem): void {\n    const index = this.getIndexOfItem(value);\n    const item = this.files[index];\n    if (item && item.isUploading && this.splitUpload) {\n      item._uploadSuscription.unsubscribe();\n    }\n    this._onCancelItem(item);\n    this._onCompleteItem(item);\n  }\n\n  public getNotUploadedItems(): OFileItem[] {\n    return this.files.filter((item: OFileItem) => !item.isUploaded);\n  }\n\n  public getIndexOfItem(value: any): number {\n    return typeof value === 'number' ? value : this.files.indexOf(value);\n  }\n\n  public onBeforeUploadItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onBeforeUploadAll(): any {\n    return {};\n  }\n\n  public onProgressItem(fileItem: OFileItem, progress: any): any {\n    return { fileItem, progress };\n  }\n\n  public onProgressAll(progress: any): any {\n    return { progress };\n  }\n\n  public onCancelItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onCancelAll(): any {\n    return {};\n  }\n\n  public onSuccessItem(fileItem: OFileItem, response: any): any {\n    return { fileItem, response };\n  }\n\n  public onSuccessAll(response: any): any {\n    return { response };\n  }\n\n  public onErrorItem(fileItem: OFileItem, error: any): any {\n    return { fileItem, error };\n  }\n\n  public onErrorAll(error: any): any {\n    return { error };\n  }\n\n  public onCompleteItem(fileItem: OFileItem): any {\n    return { fileItem };\n  }\n\n  public onCompleteAll(): any {\n    return void 0;\n  }\n\n  protected _onBeforeUploadItem(item: OFileItem): void {\n    item._onBeforeUpload();\n    this.onBeforeUploadItem(item);\n  }\n\n  protected _onBeforeUploadAll(): void {\n    this.files.forEach(item => item._onBeforeUpload(false));\n    this.onBeforeUploadAll();\n  }\n\n  protected _onProgressItem(item: OFileItem, progress: number): void {\n    const total = this._getTotalProgress(progress);\n    this.progress = total;\n    item._onProgress(progress);\n    this.onProgressItem(item, progress);\n    this.onProgressAll(total);\n  }\n\n  protected _onProgressAll(progress: number): void {\n    const total = this._getTotalProgress(progress);\n    this.progress = total;\n    this.onProgressAll(total);\n  }\n\n  protected _onSuccessItem(item: OFileItem, response: any): void {\n    item._onSuccess(response);\n    this.onSuccessItem(item, response);\n  }\n\n  protected _onSuccessAll(response: any): void {\n    this.files.forEach(item => item._onSuccess(response, false));\n    this.onSuccessAll(response);\n  }\n\n  protected _onErrorItem(item: OFileItem, error: any): void {\n    item._onError(error);\n    this.onErrorItem(item, error);\n  }\n\n  protected _onErrorAll(error: any): void {\n    this.files.forEach(item => item._onError(error, false));\n    this.onErrorAll(error);\n  }\n\n  protected _onCancelItem(item: OFileItem): void {\n    item._onCancel();\n    this.onCancelItem(item);\n  }\n\n  protected _onCancelAll(): void {\n    this.files.forEach(item => item._onCancel(false));\n    this.onCancelAll();\n  }\n\n  protected _onCompleteItem(item: OFileItem): void {\n    item._onComplete();\n    this.onCompleteItem(item);\n    const nextItem = this._getReadyItems()[0];\n    this.isUploading = false;\n    if (nextItem) {\n      nextItem.upload();\n      return;\n    }\n    this.onCompleteAll();\n    this.progress = this._getTotalProgress();\n  }\n\n  protected _onCompleteAll(): void {\n    this.files.forEach(item => item._onComplete(false));\n    this.isUploading = false;\n    this.onCompleteAll();\n    this.progress = this._getTotalProgress();\n  }\n\n  protected _getReadyItems(): OFileItem[] {\n    return this.files\n      .filter((item: OFileItem) => (item.isReady && !item.isUploading))\n      .sort((item1: OFileItem, item2: OFileItem) => item1.index - item2.index);\n  }\n\n  protected _getTotalProgress(value: number = 0): number {\n    const notUploaded = this.getNotUploadedItems().length;\n    const uploaded = notUploaded ? this.files.length - notUploaded : this.files.length;\n    const ratio = this.splitUpload ? 100 / this.files.length : 100;\n    const current = value * ratio / 100;\n    return Math.round(uploaded * ratio + current);\n  }\n\n}\n","import { Component, ElementRef, EventEmitter, forwardRef, Inject, Injector, OnInit, Optional, ViewChild } from '@angular/core';\nimport { FormControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { IFileService } from '../../../interfaces/file-service.interface';\nimport { fileServiceFactory } from '../../../services/factories';\nimport { OntimizeFileService } from '../../../services/ontimize/ontimize-file.service';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { OFileItem } from './o-file-item.class';\nimport { OFileUploader } from './o-file-uploader.class';\n\nexport const DEFAULT_INPUTS_O_FILE_INPUT = [\n  'oattr: attr',\n  'olabel: label',\n  'floatLabel: float-label',\n  'oplaceholder: placeholder',\n  'tooltip',\n  'tooltipPosition: tooltip-position',\n  'tooltipShowDelay: tooltip-show-delay',\n  'tooltipHideDelay: tooltip-hide-delay',\n  'enabled',\n  'orequired: required',\n  'service',\n  'entity',\n  'serviceType : service-type',\n  'width',\n  'readOnly: read-only',\n  'clearButton: clear-button',\n\n  // accept-file-type [string]: file types allowed on the file input, separated by ';'. Default: no value.\n  // file_extension, audio/*, video/*, image/*, media_type. See https://www.w3schools.com/tags/att_input_accept.asp\n  'acceptFileType: accept-file-type',\n\n  // max-file-size [number]: maximum file size allowed, in bytes. Default: no value.\n  'maxFileSize: max-file-size',\n\n  // multiple [boolean]: multiple file selection allowed. Default: no.\n  'multiple',\n\n  // max-files [number]: maximum number of files allowed. Default: -1.\n  'maxFiles: max-files',\n\n  // show-info [boolean]: show files information. Default: no.\n  'showInfo: show-info',\n\n  // split-upload [boolean]: each file is uploaded in a request (true) or all files are uploaded in a single request (false). Default: yes.\n  'splitUpload: split-upload',\n\n  // additional-data [JSON]: used to send aditional information in the upload request.\n  'additionalData: additional-data',\n  'appearance',\n  'hideRequiredMarker:hide-required-marker',\n  'labelVisible:label-visible'\n];\n\nexport const DEFAULT_OUTPUTS_O_FILE_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  'onBeforeUpload',\n  'onBeforeUploadFile',\n  'onProgress',\n  'onProgressFile',\n  'onCancel',\n  'onCancelFile',\n  'onUpload',\n  'onUploadFile',\n  'onComplete',\n  'onCompleteFile',\n  'onError',\n  'onErrorFile'\n];\n\n@Component({\n  selector: 'o-file-input',\n  templateUrl: './o-file-input.component.html',\n  styleUrls: ['./o-file-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_FILE_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_FILE_INPUT,\n  providers: [\n    { provide: OntimizeFileService, useFactory: fileServiceFactory, deps: [Injector] }\n  ]\n})\nexport class OFileInputComponent extends OFormDataComponent implements OnInit {\n\n  public uploader: OFileUploader;\n  public fileService: IFileService;\n  @ViewChild('inputFile', { static: false })\n  public inputFile: ElementRef;\n\n  public autoBinding: boolean = false;\n  public autoRegistering: boolean = false;\n  @InputConverter()\n  public showInfo: boolean = false;\n  @InputConverter()\n  public multiple: boolean = false;\n  @InputConverter()\n  public splitUpload: boolean = true;\n  public acceptFileType: string;\n  public maxFileSize: number;\n  @InputConverter()\n  public maxFiles: number = -1;\n\n  public onBeforeUpload: EventEmitter<any> = new EventEmitter<any>();\n  public onBeforeUploadFile: EventEmitter<any> = new EventEmitter<any>();\n  public onProgress: EventEmitter<any> = new EventEmitter<any>();\n  public onProgressFile: EventEmitter<any> = new EventEmitter<any>();\n  public onCancel: EventEmitter<any> = new EventEmitter<any>();\n  public onCancelFile: EventEmitter<any> = new EventEmitter<any>();\n  public onUpload: EventEmitter<any> = new EventEmitter<any>();\n  public onUploadFile: EventEmitter<any> = new EventEmitter<any>();\n  public onComplete: EventEmitter<any> = new EventEmitter<any>();\n  public onCompleteFile: EventEmitter<any> = new EventEmitter<any>();\n  public onError: EventEmitter<any> = new EventEmitter<any>();\n  public onErrorFile: EventEmitter<any> = new EventEmitter<any>();\n\n  protected service: string;\n  protected entity: string;\n  protected serviceType: string;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector,\n  ) {\n    super(form, elRef, injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.initialize();\n\n    this.uploader.onBeforeUploadAll = () => this.onBeforeUpload.emit();\n    this.uploader.onBeforeUploadItem = item => this.onBeforeUploadFile.emit(item);\n    this.uploader.onProgressAll = progress => this.onProgress.emit(progress);\n    this.uploader.onProgressItem = (item, progress) => this.onProgressFile.emit({ item: item, progress: progress });\n    this.uploader.onCancelAll = () => this.onCancel.emit();\n    this.uploader.onCancelItem = item => this.onCancelFile.emit();\n    this.uploader.onSuccessAll = response => this.onUpload.emit({ response: response });\n    this.uploader.onSuccessItem = (item, response) => this.onUploadFile.emit({ item: item, response: response });\n    this.uploader.onCompleteAll = () => this.onComplete.emit();\n    this.uploader.onCompleteItem = item => this.onCompleteFile.emit(item);\n    this.uploader.onErrorAll = error => this.onError.emit(error);\n    this.uploader.onErrorItem = (item, error) => this.onErrorFile.emit({ item: item, error: error });\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (!this.service) {\n      this.service = this.form.service;\n    }\n    if (!this.entity) {\n      this.entity = this.form.entity;\n    }\n\n    this.configureService();\n    this.uploader = new OFileUploader(this.fileService, this.entity);\n    this.uploader.splitUpload = this.splitUpload;\n  }\n\n  public configureService(): void {\n    let loadingService: any = OntimizeFileService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.fileService = this.injector.get<OntimizeFileService>(loadingService);\n      if (this.fileService) {\n        const serviceCfg: any = this.fileService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.fileService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (this.acceptFileType) {\n      validators.push(this.filetypeValidator.bind(this));\n    }\n    if (this.maxFileSize) {\n      validators.push(this.maxFileSizeValidator.bind(this));\n    }\n    if (this.multiple && this.maxFiles !== -1) {\n      validators.push(this.maxFilesValidator.bind(this));\n    }\n    return validators;\n  }\n\n  public fileSelected(event: Event): void {\n    let value: string = '';\n    if (event) {\n      const target: any = event.target || event.srcElement;\n      if (target.files.length > 0) {\n        const files: FileList = target.files;\n        if (!this.multiple) {\n          this.uploader.clear();\n        }\n        for (let i = 0, f: File; i < files.length; i++) {\n          f = files[i];\n          const fileItem: OFileItem = new OFileItem(f, this.uploader);\n          this.uploader.addFile(fileItem);\n        }\n        value = this.uploader.files.map(file => file.name).join(', ');\n\n        window.setTimeout(() => {\n          this.setValue(value !== '' ? value : undefined, { changeType: OValueChangeEvent.USER_CHANGE });\n          if (this._fControl) {\n            this._fControl.markAsTouched();\n          }\n        }, 0);\n      }\n    }\n  }\n\n  /**\n   * Override super.onClickClearValue();\n   * super.clearValue() vs super.onClickClearValue()\n   *  * super.clearValue() emit OValueChangeEvent.PROGRAMMATIC_CHANGE\n   *  * super.onClickClearValue() emit OValueChangeEvent.USER_CHANGE\n   */\n  public onClickClearValue(e: Event): void {\n    super.onClickClearValue(e);\n    this.uploader.clear();\n  }\n\n  /**\n   * Override super.clearValue();\n   */\n  public clearValue(): void {\n    super.clearValue();\n    this.uploader.clear();\n  }\n\n  public onClickUpload(e: Event): void {\n    e.stopPropagation();\n    if (this.isValid) {\n      this.upload();\n    }\n  }\n\n  public upload(): void {\n    this.uploader.upload();\n  }\n\n  get files(): OFileItem[] {\n    return this.uploader.files;\n  }\n\n  get additionalData(): any {\n    if (this.uploader) {\n      return this.uploader.data;\n    }\n    return null;\n  }\n\n  set additionalData(data: any) {\n    if (this.uploader) {\n      this.uploader.data = data;\n    }\n  }\n\n  public innerOnChange(event: any): void {\n    this.ensureOFormValue(event);\n    if (this._fControl && this._fControl.touched) {\n      this._fControl.markAsDirty();\n    }\n    this.onChange.emit(event);\n  }\n\n  protected filetypeValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.acceptFileType) {\n      const regex: RegExp = new RegExp(this.acceptFileType.replace(';', '|'));\n      if (!this.files.every(file => file.type.match(regex) !== null || file.name.substr(file.name.lastIndexOf('.')).match(regex) !== null)) {\n        return {\n          fileType: {\n            allowedFileTypes: this.acceptFileType.replace(';', ', ')\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxFileSizeValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.maxFileSize) {\n      if (!this.files.every(file => file.size < this.maxFileSize)) {\n        return {\n          fileSize: {\n            maxFileSize: this.maxFileSize\n          }\n        };\n      }\n    }\n    return {};\n  }\n\n  protected maxFilesValidator(control: FormControl): ValidationErrors {\n    if (control.value && control.value.length > 0 && this.multiple && this.maxFiles !== -1) {\n      if (this.maxFiles < this.files.length) {\n        return {\n          numFile: {\n            maxFiles: this.maxFiles\n          }\n        };\n      }\n    }\n    return {};\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OFileInputComponent } from './o-file-input.component';\n\n@NgModule({\n  declarations: [OFileInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OFileInputComponent]\n})\nexport class OFileInputModule { }\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ValidatorFn } from '@angular/forms';\nimport moment from 'moment';\nimport { NgxMaterialTimepickerComponent } from 'ngx-material-timepicker';\n\nimport { InputConverter, NumberConverter } from '../../../decorators/input-converter';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OValidators } from '../../../validators/o-validators';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../../o-form-data-component.class';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\n\nexport type OHourValueType = 'string' | 'timestamp';\n\nexport const DEFAULT_INPUTS_O_HOUR_INPUT = [\n  'format',\n  'textInputEnabled: text-input-enabled',\n  'min',\n  'max',\n  'valueType: value-type',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_HOUR_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-hour-input',\n  templateUrl: './o-hour-input.component.html',\n  styleUrls: ['./o-hour-input.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  outputs: DEFAULT_OUTPUTS_O_HOUR_INPUT,\n  inputs: DEFAULT_INPUTS_O_HOUR_INPUT,\n  host: {\n    '[class.o-hour-input]': 'true'\n  }\n})\nexport class OHourInputComponent extends OFormDataComponent implements OnInit, AfterViewInit {\n\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  public min: string;\n  public max: string;\n  protected _format: number = Codes.TWENTY_FOUR_HOUR_FORMAT;\n  protected onKeyboardInputDone = false;\n  protected _valueType: OHourValueType = 'timestamp';\n\n  @ViewChild('picker', { static: false })\n  public picker: NgxMaterialTimepickerComponent;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'TIMESTAMP';\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    this.modifyPickerMethods();\n  }\n\n  public onKeyDown(e: KeyboardEvent): void {\n    if (!Codes.isHourInputAllowed(e)) {\n      e.preventDefault();\n    }\n  }\n\n  public innerOnBlur(event: any): void {\n    if (this.onKeyboardInputDone) {\n      this.updateValeOnInputChange(event);\n    }\n    super.innerOnBlur(event);\n  }\n\n  public registerOnFormControlChange(): void {\n    // This component does not need this subscription\n  }\n\n  get formatString(): string {\n    return (this.format === Codes.TWENTY_FOUR_HOUR_FORMAT ? Codes.HourFormat.TWENTY_FOUR : Codes.HourFormat.TWELVE);\n  }\n\n  public open(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    if (this.picker) {\n      this.picker.open();\n    }\n  }\n\n  setTime(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    // getting value from super so we can always get a string value\n    const value = super.getValue();\n    this.picker.updateTime(value);\n  }\n\n  public setTimestampValue(value: any, options?: FormValueOptions): void {\n    let parsedValue;\n    const momentV = Util.isDefined(value) ? moment(value) : value;\n    if (momentV && momentV.isValid()) {\n      parsedValue = momentV.utcOffset(0).format(this.formatString);\n    }\n    this.setValue(parsedValue, options);\n  }\n\n  public resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (this.format === Codes.TWENTY_FOUR_HOUR_FORMAT) {\n      validators.push(OValidators.twentyFourHourFormatValidator);\n    } else {\n      validators.push(OValidators.twelveHourFormatValidator);\n    }\n    return validators;\n  }\n\n  public onFormControlChange(value: any): void {\n    if (this.oldValue === value) {\n      return;\n    }\n    super.onFormControlChange(value);\n  }\n\n  set format(val: number) {\n    const old = this._format;\n    let parsedVal = NumberConverter(val);\n    if (parsedVal !== Codes.TWELVE_FOUR_HOUR_FORMAT && parsedVal !== Codes.TWENTY_FOUR_HOUR_FORMAT) {\n      parsedVal = Codes.TWENTY_FOUR_HOUR_FORMAT;\n    }\n    this._format = parsedVal;\n    if (parsedVal !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get format(): number {\n    return this._format;\n  }\n\n  set valueType(val: any) {\n    this._valueType = this.convertToOHourValueType(val);\n  }\n\n  get valueType(): any {\n    return this._valueType;\n  }\n\n  public convertToOHourValueType(val: any): OHourValueType {\n    const result: OHourValueType = 'string';\n    const lowerVal = (val || '').toLowerCase();\n    if (lowerVal === 'string' || lowerVal === 'timestamp') {\n      return lowerVal;\n    }\n    return result;\n  }\n\n  public onChangeEvent(arg: any): void {\n    this.onTimepickerChange(arg.target.value);\n  }\n\n  public onTimepickerChange(event: string): void {\n    const value = this.getValueAsString(event);\n    /** emitModelToViewChange: false  because onChange event is trigger in ngModelChange */\n    this.setValue(value, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  protected modifyPickerMethods(): void {\n    if (this.picker && this.picker.inputElement) {\n      this.picker.inputElement.addEventListener('change', () => {\n        this.onKeyboardInputDone = true;\n      });\n    }\n  }\n\n  public ensureOFormValue(arg: any): void {\n\n    if (arg != null) {\n      if (this.valueType === 'timestamp') {\n        // because of the ngx-material-timepicker especification, its stored value must be always a string\n        if (arg instanceof OFormValue) {\n          arg.value = this.getValueAsString(arg.value);\n        } else {\n          arg = this.getValueAsString(arg);\n        }\n      }\n    }\n    super.ensureOFormValue(arg);\n  }\n\n  protected updateValeOnInputChange(blurEvent: any): void {\n    if (this.onKeyboardInputDone) {\n      // ngx-material-timepicker does not allow writing characters on input, so we add 'AM/PM' in order to make validation work properly\n      const value = this.parseHour(blurEvent.currentTarget.value);\n      this.setValue(value);\n    }\n    this.onKeyboardInputDone = false;\n  }\n\n  /**\n   * Receives an hour input introduced by the user and returns the hour formated acording current format\n   * @param value\n   */\n  protected parseHour(value: string): string {\n    const strArray = value.split(':');\n    let hour: any = strArray[0];\n\n    if (Codes.TWELVE_FOUR_HOUR_FORMAT === this.format) {\n      if (hour) {\n        hour = parseInt(hour, 10);\n        const period = hour <= 12 ? ' AM' : ' PM';\n        if (hour > 12) {\n          hour = hour - 12;\n        }\n        strArray[0] = hour;\n        value = strArray.join(':') + period;\n      }\n    } else if (Codes.TWENTY_FOUR_HOUR_FORMAT === this.format) {\n      // do nothing\n    }\n    return value;\n  }\n\n  protected emitOnValueChange(type, newValue, oldValue): void {\n    this.onChange.emit(newValue);\n    super.emitOnValueChange(type, newValue, oldValue);\n  }\n\n  public getValue(): any {\n    let value = super.getValue();\n    if (this.valueType === 'timestamp') {\n      const valueTimestamp = moment(value, this.formatString).valueOf();\n      if (!isNaN(valueTimestamp)) {\n        value = valueTimestamp;\n      }\n    }\n    return value;\n  }\n\n  protected getValueAsString(val: any): string {\n    let value;\n    if (typeof val === 'number') {\n      value = moment(val).format(this.formatString);\n    } else {\n      value = this.convertToFormatString(val);\n    }\n    return value;\n  }\n\n  protected convertToFormatString(value): string {\n    if (value === '00:00' || !Util.isDefined(value)) {\n      return value;\n    }\n    const formatStr = this.format === Codes.TWENTY_FOUR_HOUR_FORMAT ? 'HH:mm' : 'hh:mm a';\n    let result;\n    if (typeof value === 'number') {\n      result = moment(value).format(formatStr);\n    } else {\n      result = value ? moment(value, 'h:mm A').format(formatStr) : value;\n    }\n    return result;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OHourInputComponent } from './o-hour-input.component';\n\n@NgModule({\n  declarations: [OHourInputComponent],\n  imports: [OSharedModule, CommonModule, NgxMaterialTimepickerModule],\n  exports: [OHourInputComponent]\n})\nexport class OHourInputModule { }\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  NgZone,\n  OnDestroy,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { Util } from '../../../util/util';\n\ndeclare var CKEDITOR: any;\n\nconst defaults = {\n  contentsCss: [''],\n  customConfig: ''\n};\n\n@Component({\n  // tslint:disable-next-line: component-selector\n  selector: 'ck-editor',\n  template: `<textarea #ck></textarea>`,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => CKEditorComponent),\n    multi: true\n  }],\n  exportAs: 'ckEditor'\n})\nexport class CKEditorComponent implements AfterViewInit, OnDestroy, ControlValueAccessor {\n\n  protected ckIns: any;\n  protected identifier: string;\n  protected innerValue: string = '';\n\n  public get instance() {\n    return this.ckIns;\n  }\n\n  protected _readonly: boolean = false;\n\n  @Input()\n  set readonly(value: boolean) {\n    this._readonly = value;\n    setTimeout(() => {\n      if (Util.isDefined(this.ckIns) && Util.isDefined(this.ckIns.editable())) {\n        this.ckIns.setReadOnly(this.readonly);\n      }\n    });\n  }\n\n  get readonly(): boolean {\n    return this._readonly;\n  }\n\n  @Input() public config: any = {};\n  @Input() public skin: string = 'moono-lisa';\n  @Input() public language: string = 'en';\n  @Input() public fullPage: boolean = false;\n  @Input() public inline: boolean = false;\n  @Input() public id: string;\n\n  @Output() change = new EventEmitter();\n  @Output() ready = new EventEmitter();\n  @Output() blur = new EventEmitter();\n  @Output() focus = new EventEmitter();\n\n  @ViewChild('ck', { static: false }) public ck: ElementRef;\n\n  constructor(\n    protected ngZone: NgZone\n  ) { }\n\n  protected static getRandomIdentifier(id: string = '') {\n    return 'editor-' + (id !== '' ? id : Math.round(Math.random() * 100000000));\n  }\n\n  ngOnDestroy() {\n    this.destroyCKEditor();\n  }\n\n  ngAfterViewInit() {\n    this.destroyCKEditor();\n    this.initCKEditor(CKEditorComponent.getRandomIdentifier(this.id));\n  }\n\n  public initCKEditor(identifier: string) {\n    if (typeof CKEDITOR === 'undefined') {\n      return console.warn('CKEditor 4.x is missing (http://ckeditor.com/)');\n    }\n\n    this.identifier = identifier;\n    this.ck.nativeElement.setAttribute('name', this.identifier);\n\n    const opt = Object.assign({}, defaults, this.config, {\n      readOnly: this.readonly,\n      skin: this.skin,\n      language: this.language,\n      fullPage: this.fullPage,\n      inline: this.inline,\n      width: '100%'\n    });\n    this.ckIns = this.inline\n      ? CKEDITOR.inline(this.ck.nativeElement, opt)\n      : CKEDITOR.replace(this.ck.nativeElement, opt);\n    this.ckIns.setData(this.innerValue);\n\n    this.ckIns.on('change', () => {\n      const val = this.ckIns.getData();\n      this.updateValue(val);\n    });\n\n    this.ckIns.on('instanceReady', (evt: any) => {\n      this.ngZone.run(() => {\n        this.ready.emit(evt);\n      });\n    });\n\n    this.ckIns.on('blur', (evt: any) => {\n      this.ngZone.run(() => {\n        this.blur.emit(evt);\n        this.propagateTouch();\n      });\n    });\n\n    this.ckIns.on('focus', (evt: any) => {\n      this.ngZone.run(() => {\n        this.focus.emit(evt);\n      });\n    });\n  }\n\n  public destroyCKEditor() {\n    if (this.ckIns) {\n      this.ckIns.removeAllListeners();\n      if (CKEDITOR.instances.hasOwnProperty(this.ckIns.name)) {\n        CKEDITOR.remove(CKEDITOR.instances[this.ckIns.name]);\n      }\n      this.ckIns.destroy();\n      this.ckIns = null;\n      const editorEl = document.querySelector('#cke_' + this.identifier);\n      if (Util.isDefined(editorEl) && Util.isDefined(editorEl.parentElement)) {\n        editorEl.parentElement.removeChild(editorEl);\n      }\n    }\n  }\n\n  protected updateValue(value: string) {\n    this.ngZone.run(() => {\n      this.innerValue = value;\n      this.propagateChange(value);\n      this.propagateTouch();\n      this.change.emit(value);\n    });\n  }\n\n  writeValue(value: any): void {\n    this.innerValue = value || '';\n    if (this.ckIns) {\n      // Fix bug that can't emit change event when set non-html tag value twice in fullpage mode.\n      this.ckIns.setData(this.innerValue);\n      const val = this.ckIns.getData();\n      this.ckIns.setData(val);\n    }\n  }\n\n  protected propagateChange(_: any) {\n    // do nothing\n  }\n\n  protected propagateTouch() {\n    // do nothing\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.propagateTouch = fn;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { CKEditorComponent } from './ck-editor.component';\n\n@NgModule({\n  exports: [\n    FormsModule,\n    CKEditorComponent\n  ],\n  declarations: [CKEditorComponent]\n})\nexport class CKEditorModule { }\n","import { animate, state, style, transition, trigger } from '@angular/animations';\nimport { AfterViewInit, ChangeDetectorRef, Component, ElementRef, Injector, OnInit, ViewChild } from '@angular/core';\nimport { ValidatorFn, Validators } from '@angular/forms';\nimport { MatTab, MatTabGroup } from '@angular/material';\n\nimport { NumberConverter } from '../../../decorators/input-converter';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { CKEditorComponent } from '../../material/ckeditor/ck-editor.component';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_HTML_INPUT = [\n  'oattr: attr',\n  'data',\n  'autoBinding: automatic-binding',\n  'autoRegistering: automatic-registering',\n  'orequired: required',\n  'minLength: min-length',\n  'maxLength: max-length',\n  'readOnly: read-only',\n  'sqlType: sql-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_HTML_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'onFocus',\n  'onBlur'\n];\n\n@Component({\n  selector: 'o-html-input',\n  templateUrl: './o-html-input.component.html',\n  styleUrls: ['./o-html-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_HTML_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_HTML_INPUT,\n  animations: [\n    trigger('transitionMessages', [\n      state('enter', style({ opacity: 1, transform: 'translateY(0%)' })),\n      transition('void => enter', [\n        style({ opacity: 0, transform: 'translateY(-100%)' }),\n        animate('300ms cubic-bezier(0.55, 0, 0.55, 0.2)'),\n      ]),\n    ])\n  ]\n})\nexport class OHTMLInputComponent extends OFormDataComponent implements OnInit, AfterViewInit {\n\n  protected _minLength: number = -1;\n  protected _maxLength: number = -1;\n\n  @ViewChild('ckEditor', { static: false }) ckEditor: CKEditorComponent;\n\n  protected tabGroupContainer: MatTabGroup;\n  protected tabContainer: MatTab;\n\n  /** State of the mat-hint and mat-error animations. */\n  _subscriptAnimationState: string = '';\n\n  protected _changeDetectorRef: ChangeDetectorRef;\n\n  constructor(\n    form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this.form = form;\n    this.elRef = elRef;\n    this._changeDetectorRef = this.injector.get(ChangeDetectorRef);\n    try {\n      this.tabGroupContainer = this.injector.get(MatTabGroup);\n      this.tabContainer = this.injector.get(MatTab);\n    } catch (error) {\n      // Do nothing due to not always is contained on tab.\n    }\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    const self = this;\n    if (this.form) {\n      this.form.beforeCloseDetail.subscribe((evt: any) => {\n        self.destroyCKEditor();\n      });\n      this.form.beforeGoEditMode.subscribe((evt: any) => {\n        self.destroyCKEditor();\n      });\n    }\n\n    if (this.tabGroupContainer) {\n      this.tabGroupContainer.selectedTabChange.subscribe((evt: any) => {\n        self.destroyCKEditor();\n        if (self.isInActiveTab()) {\n          self.ckEditor.initCKEditor(self.oattr);\n        }\n      });\n    }\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    // Avoid animations on load.\n    this._subscriptAnimationState = 'enter';\n    this._changeDetectorRef.detectChanges();\n  }\n\n\n  hasError(error: string): boolean {\n    const result = super.hasError(error);\n    this._subscriptAnimationState = result ? 'enter' : 'void';\n    return result;\n  }\n\n  isInActiveTab(): boolean {\n    let result: boolean = !(this.tabGroupContainer && this.tabContainer);\n    if (!result) {\n      const self = this;\n      this.tabGroupContainer._tabs.forEach((tab, index) => {\n        if (tab === self.tabContainer) {\n          result = (self.tabGroupContainer.selectedIndex === index);\n        }\n      });\n    }\n    return result;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (this.minLength >= 0) {\n      validators.push(Validators.minLength(this.minLength));\n    }\n    if (this.maxLength >= 0) {\n      validators.push(Validators.maxLength(this.maxLength));\n    }\n    return validators;\n  }\n\n  clearValue(): void {\n    super.clearValue();\n    this.ckEditor.instance.updateElement();\n    this.ckEditor.instance.setData('');\n  }\n\n  destroyCKEditor() {\n    if (this.ckEditor) {\n      this.ckEditor.destroyCKEditor();\n    }\n  }\n\n  getCKEditor(): any {\n    return this.ckEditor.instance;\n  }\n\n  set minLength(val: number) {\n    const old = this._minLength;\n    this._minLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get minLength(): number {\n    return this._minLength;\n  }\n\n  set maxLength(val: number) {\n    const old = this._maxLength;\n    this._maxLength = NumberConverter(val);\n    if (val !== old) {\n      this.updateValidators();\n    }\n  }\n\n  get maxLength(): number {\n    return this._maxLength;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { CKEditorModule } from '../../material/ckeditor/ck-editor.module';\nimport { OHTMLInputComponent } from './o-html-input.component';\n\n@NgModule({\n  declarations: [OHTMLInputComponent],\n  imports: [CKEditorModule, CommonModule, OSharedModule],\n  exports: [OHTMLInputComponent]\n})\nexport class OHTMLInputModule { }\n","import { AfterViewInit, Component, Inject, Injector, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { OSearchInputComponent } from '../../input/search-input/o-search-input.component';\n\nexport const DEFAULT_INPUTS_O_LIST_PICKER_DIALOG = [\n  'data',\n  'visibleColumns: visible-columns',\n  'filter'\n];\n\n@Component({\n  selector: 'o-list-picker-dialog',\n  templateUrl: './o-list-picker-dialog.component.html',\n  styleUrls: ['./o-list-picker-dialog.component.scss'],\n  inputs: DEFAULT_INPUTS_O_LIST_PICKER_DIALOG,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list-picker-dialog]': 'true'\n  }\n})\nexport class OListPickerDialogComponent implements AfterViewInit {\n\n  public filter: boolean = true;\n  public visibleData: any = [];\n  public searchVal: string;\n\n  @ViewChild('searchInput', { static: false })\n  public searchInput: OSearchInputComponent;\n\n  protected data: any[] = [];\n  public menuColumns: string;\n  protected visibleColsArray: string[];\n  protected _startIndex: number = 0;\n  protected recordsNumber: number = 100;\n  protected scrollThreshold: number = 200;\n\n  constructor(\n    public dialogRef: MatDialogRef<OListPickerDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.data && Util.isArray(data.data)) {\n      this.data = data.data;\n    }\n    if (data.visibleColumns && Util.isArray(data.visibleColumns)) {\n      this.visibleColsArray = data.visibleColumns;\n    }\n    if (data.queryRows !== undefined) {\n      this.recordsNumber = data.queryRows;\n    }\n    if (data.filter !== undefined) {\n      this.filter = data.filter;\n    }\n    if (data.menuColumns) {\n      this.menuColumns = data.menuColumns;\n    }\n    this.searchVal = data.searchVal;\n    this.startIndex = 0;\n  }\n\n  public ngAfterViewInit(): void {\n    if (Util.isDefined(this.searchVal) && this.searchInput !== undefined && this.searchVal.length > 0) {\n      this.searchInput.getFormControl().setValue(this.searchVal, {\n        emitEvent: false\n      });\n      //TODO improve: Added setTimeout for resolving ExpressionChangedAfterItHasBeenCheckedError error because the observables dont work\n      setTimeout(() => this.searchInput.onSearch.emit(this.searchVal));\n    }\n  }\n\n  get startIndex(): number {\n    return this._startIndex;\n  }\n\n  set startIndex(val: number) {\n    this._startIndex = val;\n    this.visibleData = this.data.slice(this.startIndex, this.recordsNumber);\n  }\n\n  public onClickListItem(e: any, value: any): void {\n    this.dialogRef.close(value);\n  }\n\n  public trackByFn(index: number, item: any): number {\n    return index;\n  }\n\n  public onScroll(event: any): void {\n    if (event && event.target && this.visibleData.length < this.data.length) {\n      const pendingScroll = event.target.scrollHeight - (event.target.scrollTop + event.target.clientHeight);\n      if (!isNaN(pendingScroll) && pendingScroll <= this.scrollThreshold) {\n        let index = this.visibleData.length;\n        const searchVal = this.searchInput.getValue();\n        if (Util.isDefined(searchVal) && searchVal.length > 0) {\n          index = this.visibleData[this.visibleData.length - 1]['_parsedIndex'];\n        }\n        let appendData = this.data.slice(index, this.visibleData.length + this.recordsNumber);\n        if (appendData.length) {\n          appendData = this.transform(appendData, {\n            filtervalue: this.searchInput.getValue(),\n            filtercolumns: this.visibleColsArray\n          });\n          if (appendData.length) {\n            this.visibleData = this.visibleData.concat(appendData);\n          }\n        }\n      }\n    }\n  }\n\n  public onFilterList(searchVal: any): void {\n    let transformData = this.transform(this.data, {\n      filtervalue: searchVal,\n      filtercolumns: this.visibleColsArray\n    });\n    this._startIndex = 0;\n    this.visibleData = transformData.slice(this.startIndex, this.recordsNumber);\n  }\n\n  public isEmptyData(): boolean {\n    return Util.isDefined(this.visibleData) ? this.visibleData.length === 0 : true;\n  }\n\n  private transform(value: any[], args: any): any {\n    if (!args || args.length <= 1) {\n      return value;\n    }\n\n    const filterValue = args['filtervalue'] ? args['filtervalue'] : '';\n    const filterColumns = args['filtercolumns'];\n\n    if (!filterColumns || !filterValue || filterValue.length === 0) {\n      return value;\n    }\n\n    if (value === undefined || value === null) {\n      return value;\n    }\n\n    return value.filter(item => {\n      for (let i = 0; i < filterColumns.length; i++) {\n        const colName = filterColumns[i];\n        if (this._isBlank(colName)) {\n          continue;\n        }\n        let origValue = item[colName];\n        if (origValue) {\n          origValue = origValue.toString();\n          if (this._isBlank(origValue)) {\n            continue;\n          }\n\n          if (origValue.toUpperCase().indexOf(filterValue.toUpperCase()) > -1) {\n            return item;\n          }\n        }\n      }\n    });\n  }\n\n  private _isBlank(value: string): boolean {\n    return !Util.isDefined(value) || value.length === 0;\n  }\n\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnChanges,\n  OnInit,\n  Optional,\n  SimpleChange,\n  ViewChild\n} from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatDialog, MatDialogConfig, MatDialogRef, MatInput } from '@angular/material';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OntimizeServiceProvider } from '../../../services/factories';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { OFormControl } from '../o-form-control.class';\nimport { DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT, DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT, OFormServiceComponent } from '../o-form-service-component.class';\nimport { OListPickerDialogComponent } from './o-list-picker-dialog.component';\n\nexport const DEFAULT_INPUTS_O_LIST_PICKER = [\n  ...DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'filter',\n  'dialogWidth : dialog-width',\n  'dialogHeight : dialog-height',\n  'queryRows: query-rows',\n  'textInputEnabled: text-input-enabled',\n  'dialogDisableClose: dialog-disable-close',\n  'dialogClass: dialog-class'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_PICKER = [\n  ...DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT,\n  'onDialogAccept',\n  'onDialogCancel'\n];\n\n@Component({\n  selector: 'o-list-picker',\n  templateUrl: './o-list-picker.component.html',\n  styleUrls: ['./o-list-picker.component.scss'],\n  providers: [\n    OntimizeServiceProvider,\n    { provide: OFormServiceComponent, useExisting: forwardRef(() => OListPickerComponent) }\n  ],\n  inputs: DEFAULT_INPUTS_O_LIST_PICKER,\n  outputs: DEFAULT_OUTPUTS_O_LIST_PICKER\n})\nexport class OListPickerComponent extends OFormServiceComponent implements AfterViewInit, OnChanges, OnInit {\n\n  /* Outputs */\n  public onDialogAccept: EventEmitter<any> = new EventEmitter();\n  public onDialogCancel: EventEmitter<any> = new EventEmitter();\n  /* End outputs */\n\n  public stateCtrl: FormControl;\n\n  /* Inputs */\n  @InputConverter()\n  public textInputEnabled: boolean = true;\n  @InputConverter()\n  public dialogDisableClose: boolean = false;\n  @InputConverter()\n  protected filter: boolean = true;\n  protected dialogWidth: string;\n  protected dialogHeight: string = '55%';\n  protected dialogClass: string;\n  @InputConverter()\n  protected queryRows: number;\n\n  /*Override clearButton = true */\n  // @InputConverter()\n  // public clearButton: boolean = true;\n  /* End inputs */\n\n  protected matDialog: MatDialog;\n  protected dialogRef: MatDialogRef<OListPickerDialogComponent>;\n\n  @ViewChild('inputModel', { static: false }) protected inputModel: MatInput;\n  @ViewChild('visibleInput', { static: false }) protected visibleInput: ElementRef;\n  protected visibleInputValue: any;\n\n  protected blurTimer;\n  protected blurDelay = 200;\n  protected blurPrevent = false;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n    this.matDialog = this.injector.get<MatDialog>(MatDialog);\n    this.stateCtrl = new FormControl();\n    /* overwritte clearButton to true */\n    this.clearButton = true;\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    super.ngOnChanges(changes);\n    if (typeof (changes.staticData) !== 'undefined') {\n      this.cacheQueried = true;\n      this.setDataArray(changes.staticData.currentValue);\n    }\n  }\n\n  public createFormControl(): OFormControl {\n    this._fControl = super.createFormControl();\n    this._fControl.fControlChildren = [this.stateCtrl];\n    return this._fControl;\n  }\n\n  public ensureOFormValue(value: any): void {\n    super.ensureOFormValue(value);\n    // This call make the component querying its data multiple times, but getting description value is needed\n    this.syncDataIndex(false);\n  }\n\n  public setEnabled(value: boolean): void {\n    super.setEnabled(value);\n    value ? this.stateCtrl.enable() : this.stateCtrl.disable();\n  }\n\n  public ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    } else if (this.queryOnBind) {\n      // TODO do it better. When changing tabs it is necessary to invoke new query\n      this.syncDataIndex();\n    }\n  }\n\n  public getDescriptionValue(): string {\n    let descTxt = '';\n    if (this.descriptionColArray && this._currentIndex !== undefined) {\n      const self = this;\n      this.descriptionColArray.forEach((descCol, index) => {\n        const txt = self.dataArray[self._currentIndex][descCol];\n        if (txt) {\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  public onClickClear(e: Event): void {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.isReadOnly && this.enabled) {\n      clearTimeout(this.blurTimer);\n      this.blurPrevent = true;\n      this.setValue(undefined);\n    }\n  }\n\n  public onClickInput(e: Event): void {\n    if (!this.textInputEnabled) {\n      this.onClickListpicker(e);\n    }\n  }\n\n  public onClickListpicker(e: Event): void {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.isReadOnly && this.enabled) {\n      clearTimeout(this.blurTimer);\n      this.openDialog();\n    }\n  }\n\n  public onDialogClose(evt: any): void {\n    this.dialogRef = null;\n    this.visibleInputValue = undefined;\n    if (evt instanceof Object && typeof evt[this.valueColumn] !== 'undefined') {\n      const self = this;\n      window.setTimeout(() => {\n        self.setValue(evt[self.valueColumn], { changeType: OValueChangeEvent.USER_CHANGE });\n        if (self._fControl) {\n          self._fControl.markAsTouched();\n          self._fControl.markAsDirty();\n        }\n        self.onDialogAccept.emit();\n      }, 0);\n    } else {\n      this.onDialogCancel.emit();\n    }\n  }\n\n  public innerOnBlur(evt: any): void {\n    if (!this.isReadOnly && this.enabled) {\n      const self = this;\n      this.blurTimer = setTimeout(() => {\n        if (!self.blurPrevent) {\n          self._fControl.markAsTouched();\n          self.onBlur.emit(evt);\n          if (self.visibleInputValue !== undefined && self.visibleInputValue.length > 0) {\n            self.openDialog();\n          } else if (self.visibleInputValue !== undefined) {\n            self.setValue(undefined);\n            self.visibleInputValue = undefined;\n          } else {\n            self._fControl.markAsTouched();\n          }\n        }\n        self.blurPrevent = false;\n      }, this.blurDelay);\n    }\n  }\n\n  public onVisibleInputChange(event: any): void {\n    this.visibleInputValue = event.target.value;\n  }\n\n  public onKeydownEnter(val: any): void {\n    clearTimeout(this.blurTimer);\n    this.blurPrevent = true;\n    this.visibleInputValue = val;\n    this.openDialog();\n  }\n\n  protected setFormValue(val: any, options?: FormValueOptions, setDirty: boolean = false): void {\n    super.setFormValue(val, options, setDirty);\n    this.stateCtrl.setValue(this.getDescriptionValue());\n  }\n\n  protected openDialog(): void {\n    const cfg: MatDialogConfig = {\n      role: 'dialog',\n      disableClose: this.dialogDisableClose,\n      panelClass: ['cdk-overlay-list-picker', 'o-dialog-class', this.dialogClass],\n      data: {\n        data: this.getDialogDataArray(this.dataArray),\n        filter: this.filter,\n        searchVal: this.visibleInputValue,\n        menuColumns: this.visibleColumns, // TODO: improve this, this is passed to `o-search-input` of the dialog\n        visibleColumns: this.visibleColArray,\n        queryRows: this.queryRows\n      }\n    };\n    if (this.dialogWidth !== undefined) {\n      cfg.width = this.dialogWidth;\n    }\n    if (this.dialogHeight !== undefined) {\n      cfg.height = this.dialogHeight;\n    }\n    this.dialogRef = this.matDialog.open(OListPickerDialogComponent, cfg);\n\n    this.dialogRef.afterClosed().subscribe(result => {\n      this.onDialogClose(result);\n    });\n  }\n\n  protected getDialogDataArray(dataArray: any[]): any[] {\n    const result: any[] = [];\n    const self = this;\n    dataArray.forEach((item, itemIndex) => {\n      let element = '';\n      self.visibleColArray.forEach((visibleCol, index) => {\n        element += item[visibleCol];\n        if ((index + 1) < self.visibleColArray.length) {\n          element += self.separator;\n        }\n      });\n      const newItem = Object.assign({}, item);\n      newItem._parsedVisibleColumnText = element;\n      newItem._parsedIndex = itemIndex;\n      result.push(newItem);\n    });\n    return result;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OSearchInputModule } from '../search-input/o-search-input.module';\nimport { OListPickerDialogComponent } from './o-list-picker-dialog.component';\nimport { OListPickerComponent } from './o-list-picker.component';\n\n@NgModule({\n  declarations: [OListPickerDialogComponent, OListPickerComponent],\n  imports: [CommonModule, OSharedModule, OSearchInputModule],\n  exports: [OListPickerComponent],\n  entryComponents: [OListPickerDialogComponent]\n})\nexport class OListPickerModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnInit, Optional, ViewEncapsulation } from '@angular/core';\nimport { ValidatorFn } from '@angular/forms';\n\nimport { OValidators } from '../../../validators/o-validators';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  OTextInputComponent,\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_NIF_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_NIF_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-nif-input',\n  templateUrl: './o-nif-input.component.html',\n  styleUrls: ['./o-nif-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_NIF_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_NIF_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class ONIFInputComponent extends OTextInputComponent implements OnInit {\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    // Inject NIF validator\n    validators.push(OValidators.nifValidator);\n    return validators;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextInputModule } from '../text-input/o-text-input.module';\nimport { ONIFInputComponent } from './o-nif-input.component';\n\n@NgModule({\n  declarations: [ONIFInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [ONIFInputComponent]\n})\nexport class ONIFInputModule {\n}\n","import { Component, ElementRef, forwardRef, Inject, Injector, OnInit, Optional, ViewEncapsulation } from '@angular/core';\n\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  OTextInputComponent,\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_PASSWORD_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_PASSWORD_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-password-input',\n  templateUrl: './o-password-input.component.html',\n  styleUrls: ['./o-password-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_PASSWORD_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_PASSWORD_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OPasswordInputComponent extends OTextInputComponent implements OnInit {\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextInputModule } from '../text-input/o-text-input.module';\nimport { OPasswordInputComponent } from './o-password-input.component';\n\n@NgModule({\n  declarations: [OPasswordInputComponent],\n  imports: [OSharedModule, CommonModule, OTextInputModule],\n  exports: [OPasswordInputComponent]\n})\nexport class OPasswordInputModule {\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport {\n  DEFAULT_INPUTS_O_REAL_INPUT,\n  DEFAULT_OUTPUTS_O_REAL_INPUT,\n  ORealInputComponent,\n} from '../real-input/o-real-input.component';\n\nexport const DEFAULT_INPUTS_O_PERCENT_INPUT = [\n  ...DEFAULT_INPUTS_O_REAL_INPUT\n];\n\nexport const DEFAULT_OUTPUTS_O_PERCENT_INPUT = [\n  ...DEFAULT_OUTPUTS_O_REAL_INPUT\n];\n\n@Component({\n  selector: 'o-percent-input',\n  templateUrl: './o-percent-input.component.html',\n  styleUrls: ['./o-percent-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_PERCENT_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_PERCENT_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OPercentInputComponent extends ORealInputComponent implements OnInit {\n\n  @InputConverter()\n  grouping: boolean = true;\n\n  public ngOnInit() {\n    if (typeof (this.min) === 'undefined') {\n      this.min = 0;\n    }\n    if (typeof (this.max) === 'undefined') {\n      this.max = 100;\n    }\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ORealInputModule } from '../real-input/o-real-input.module';\nimport { OPercentInputComponent } from './o-percent-input.component';\n\n@NgModule({\n  declarations: [OPercentInputComponent],\n  imports: [CommonModule, OSharedModule, ORealInputModule],\n  exports: [OPercentInputComponent]\n})\nexport class OPercentInputModule { }\n","import { AfterViewInit, Component, ElementRef, forwardRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { MatRadioChange } from '@angular/material';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OntimizeServiceProvider } from '../../../services/factories';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT, DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT, OFormServiceComponent } from '../o-form-service-component.class';\n\nexport const DEFAULT_INPUTS_O_RADIO = [\n  ...DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT,\n  'translate',\n  'layout',\n  'labelPosition: label-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_RADIO = [\n  ...DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT\n];\n\n@Component({\n  selector: 'o-radio',\n  templateUrl: './o-radio.component.html',\n  styleUrls: ['./o-radio.component.scss'],\n  inputs: DEFAULT_INPUTS_O_RADIO,\n  outputs: DEFAULT_OUTPUTS_O_RADIO,\n  providers: [\n    OntimizeServiceProvider\n  ],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-radio]': 'true'\n  }\n})\nexport class ORadioComponent extends OFormServiceComponent implements AfterViewInit {\n\n  /* Inputs */\n  @InputConverter()\n  public translate: boolean = false;\n  public layout: 'row' | 'column' = 'column';\n  public labelPosition: 'before' | 'after' = 'after';\n  /* End inputs*/\n\n  value: OFormValue;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  onMatRadioGroupChange(e: MatRadioChange): void {\n    const newValue = e.value;\n    this.setValue(newValue, {\n      changeType: OValueChangeEvent.USER_CHANGE,\n      emitEvent: false,\n      emitModelToViewChange: false\n    });\n  }\n\n  getOptionDescriptionValue(item: any = {}) {\n    let descTxt = '';\n    if (this.descriptionColArray && this.descriptionColArray.length > 0) {\n      const self = this;\n      this.descriptionColArray.forEach((col, index) => {\n        let txt = item[col];\n        if (txt) {\n          if (self.translate && self.translateService) {\n            txt = self.translateService.get(txt);\n          }\n          descTxt += txt;\n        }\n        if (index < self.descriptionColArray.length - 1) {\n          descTxt += self.separator;\n        }\n      });\n    }\n    return descTxt;\n  }\n\n  getValueColumn(item: any) {\n    if (item && item.hasOwnProperty(this.valueColumn)) {\n      let option = item[this.valueColumn];\n      if (option === 'undefined') {\n        option = null;\n      }\n      return option;\n    }\n    return void 0;\n  }\n\n  getDescriptionValue() {\n    if (Util.isDefined(this.descriptionColArray) && this.descriptionColArray.length) {\n      const currItem = this.dataArray.find(e => e[this.valueColumn] === this.getValue());\n      if (Util.isDefined(currItem)) {\n        return this.descriptionColArray.map(col => (this.translate && this.translateService) ? this.translateService.get(currItem[col]) : currItem[col]).join(this.separator);\n      }\n    }\n    return '';\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ORadioComponent } from './o-radio.component';\n\n@NgModule({\n  declarations: [ORadioComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [ORadioComponent]\n})\nexport class ORadioModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\nimport { ThemePalette } from '@angular/material';\n\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/oFormValue';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_SLIDETOGGLE = [\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  // color: Theme color palette for the component.\n  'color',\n  // label-position: Whether the label should appear after or before the slide-toggle. Defaults to 'after'\n  'labelPosition: label-position',\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport const DEFAULT_OUTPUTS_O_SLIDETOGGLE = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-slide-toggle',\n  inputs: DEFAULT_INPUTS_O_SLIDETOGGLE,\n  outputs: DEFAULT_OUTPUTS_O_SLIDETOGGLE,\n  templateUrl: './o-slide-toggle.component.html',\n  styleUrls: ['./o-slide-toggle.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-slide-toggle]': 'true'\n  }\n})\nexport class OSlideToggleComponent extends OFormDataComponent {\n\n  public trueValue: number | boolean | string = true;\n  public falseValue: number | boolean | string = false;\n  public booleanType: 'number' | 'boolean' | 'string' = 'boolean';\n  public color: ThemePalette;\n  public labelPosition: 'before' | 'after' = 'after';\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'BOOLEAN';\n    this.defaultValue = false;\n  }\n\n  initialize() {\n    //First, the sqlType must be initialized  before calling super.initialize because it overwritte the value\n    if (!Util.isDefined(this.sqlType)) {\n      switch (this.booleanType) {\n        case 'number':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'string':\n          this.sqlType = 'VARCHAR';\n          break;\n        case 'boolean':\n        default:\n          this.sqlType = 'BOOLEAN';\n      }\n    }\n    this.defaultValue = this.falseValue;\n    super.initialize();\n  }\n\n  ensureOFormValue(value: any) {\n    if (value instanceof OFormValue) {\n      if (!Util.isDefined(value.value)) {\n        value.value = this.falseValue;\n      }\n      this.value = new OFormValue(value.value);\n    } else {\n      this.value = new OFormValue(value === this.trueValue ? this.trueValue : this.falseValue);\n    }\n  }\n\n  isChecked(): boolean {\n    if (this.value instanceof OFormValue) {\n      return this.value.value === this.trueValue;\n    }\n    return false;\n  }\n\n  onClickBlocker(e: MouseEvent) {\n    e.stopPropagation();\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OSlideToggleComponent } from './o-slide-toggle.component';\n\n@NgModule({\n  declarations: [OSlideToggleComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSlideToggleComponent]\n})\nexport class OSlideToggleModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\n\nimport { OFormComponent } from '../../../components/form/o-form.component';\nimport { InputConverter } from '../../../decorators/input-converter';\nimport {\n  DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT,\n  OFormDataComponent,\n} from '../../o-form-data-component.class';\n\nexport const DEFAULT_INPUTS_O_SLIDER_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'color',\n  'invert',\n  'max',\n  'min',\n  'step',\n  'thumbLabel:thumb-label',\n  'tickInterval:tick-interval',\n  'layout',\n  'oDisplayWith:display-with'\n];\n\nexport const DEFAULT_OUTPUTS_O_SLIDER_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\nexport type SliderDisplayFunction = (value: number | null) => string | number;\n\n@Component({\n  selector: 'o-slider',\n  host: {\n    class: 'o-slider'\n  },\n  templateUrl: 'o-slider.component.html',\n  styleUrls: ['./o-slider.component.scss'],\n  inputs: DEFAULT_INPUTS_O_SLIDER_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_SLIDER_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OSliderComponent extends OFormDataComponent {\n\n  public color: string;\n  public layout: 'row' | 'column' = 'row';\n\n  @InputConverter()\n  public vertical: boolean = false;\n\n  @InputConverter()\n  public invert: boolean = false;\n\n  @InputConverter()\n  public thumbLabel: boolean = false;\n\n  @InputConverter()\n  min: number;\n\n  @InputConverter()\n  max: number;\n\n  @InputConverter()\n  step: number = 1;\n\n  set tickInterval(value: any) {\n    this._tickInterval = value;\n  }\n  get tickInterval() {\n    return this._tickInterval;\n  }\n  _tickInterval: 'auto' | number = 0;\n\n\n  oDisplayWith: SliderDisplayFunction;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector\n  ) {\n    super(form, elRef, injector);\n  }\n\n  onClickBlocker(evt: Event) {\n    evt.stopPropagation();\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OSliderComponent } from './o-slider.component';\n\n@NgModule({\n  declarations: [OSliderComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OSliderComponent]\n})\nexport class OSliderModule { }\n","import { Component, ElementRef, forwardRef, Inject, Injector, Optional, ViewEncapsulation } from '@angular/core';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OFormComponent } from '../../form/o-form.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_INPUT,\n  DEFAULT_OUTPUTS_O_TEXT_INPUT,\n  OTextInputComponent,\n} from '../text-input/o-text-input.component';\n\nexport const DEFAULT_INPUTS_O_TEXTAREA_INPUT = [\n  ...DEFAULT_INPUTS_O_TEXT_INPUT,\n  'columns',\n  'rows'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXTAREA_INPUT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_INPUT\n];\n\n@Component({\n  selector: 'o-textarea-input',\n  templateUrl: './o-textarea-input.component.html',\n  styleUrls: ['./o-textarea-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TEXTAREA_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TEXTAREA_INPUT,\n  encapsulation: ViewEncapsulation.None\n})\nexport class OTextareaInputComponent extends OTextInputComponent {\n\n  @InputConverter()\n  public rows: number = 5;\n  @InputConverter()\n  public columns: number = 3;\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector) {\n    super(form, elRef, injector);\n  }\n\n  public isResizable(): boolean {\n    let resizable = true;\n    if (!this.enabled || this.isReadOnly) {\n      resizable = false;\n    }\n    return resizable;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { OTextareaInputComponent } from './o-textarea-input.component';\n\n@NgModule({\n  declarations: [OTextareaInputComponent],\n  imports: [CommonModule, OSharedModule],\n  exports: [OTextareaInputComponent]\n})\nexport class OTextareaInputModule { }\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport moment from 'moment';\nimport { merge, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { DateFilterFunction } from '../../../types/date-filter-function.type';\nimport { FormValueOptions } from '../../../types/form-value-options.type';\nimport { Util } from '../../../util/util';\nimport { OFormComponent } from '../../form/o-form.component';\nimport { OFormValue } from '../../form/OFormValue';\nimport { DEFAULT_INPUTS_O_FORM_DATA_COMPONENT, DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT, OFormDataComponent } from '../../o-form-data-component.class';\nimport { OValueChangeEvent } from '../../o-value-change-event.class';\nimport { ODateInputComponent } from '../date-input/o-date-input.component';\nimport { OHourInputComponent } from '../hour-input/o-hour-input.component';\nimport { OFormControl } from '../o-form-control.class';\n\nexport const DEFAULT_INPUTS_O_TIME_INPUT = [\n  ...DEFAULT_INPUTS_O_FORM_DATA_COMPONENT,\n  'oDateFormat: date-format',\n  'oDateLocale: date-locale',\n  'oDateStartView: date-start-view',\n  'oDateMinDate: date-min',\n  'oDateMaxDate: date-max',\n  'oDateTouchUi: date-touch-ui',\n  'oDateStartAt: date-start-at',\n  'oDateFilterDate: date-filter-date',\n  'oDateTextInputEnabled: date-text-input-enabled',\n  'oHourFormat: hour-format',\n  'oHourMin: hour-min',\n  'oHourMax: hour-max',\n  'oHourTextInputEnabled: hour-text-input-enabled',\n  'oHourPlaceholder: hour-placeholder',\n  'oDatePlaceholder: date-placeholder'\n];\n\nexport const DEFAULT_OUTPUTS_O_TIME_INPUT = [\n  ...DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT\n];\n\n@Component({\n  selector: 'o-time-input',\n  templateUrl: './o-time-input.component.html',\n  styleUrls: ['./o-time-input.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TIME_INPUT,\n  outputs: DEFAULT_OUTPUTS_O_TIME_INPUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-time-input]': 'true'\n  }\n})\nexport class OTimeInputComponent extends OFormDataComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public oDateFormat: string = 'L';\n  public oDateLocale: any;\n  public oDateStartView: 'month' | 'year' = 'month';\n  public oDateMinDate: any;\n  public oDateMaxDate: any;\n  @InputConverter()\n  public oDateTouchUi: boolean;\n  public oDateStartAt: any;\n  public oDateFilterDate: DateFilterFunction;\n  @InputConverter()\n  public oDateTextInputEnabled: boolean = true;\n  public oHourFormat: number = 24;\n  public oHourMin: string;\n  public oHourMax: string;\n  @InputConverter()\n  public oHourTextInputEnabled: boolean = true;\n  public oHourPlaceholder = '';\n  public oDatePlaceholder = '';\n\n  protected blockGroupValueChanges: boolean;\n  protected formGroup: FormGroup = new FormGroup({});\n\n  @ViewChild('dateInput', { static: true })\n  protected dateInput: ODateInputComponent;\n\n  @ViewChild('hourInput', { static: true })\n  protected hourInput: OHourInputComponent;\n\n  protected subscription: Subscription = new Subscription();\n\n  public dateAttr = 'dateInput';\n  public hourAttr = 'hourInput';\n\n  constructor(\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent,\n    elRef: ElementRef,\n    injector: Injector,\n    protected cd: ChangeDetectorRef) {\n    super(form, elRef, injector);\n    this._defaultSQLTypeKey = 'DATE';\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n\n    this.dateAttr += '_' + this.oattr;\n    this.hourAttr += '_' + this.oattr;\n\n    const self = this;\n    this.subscription.add(\n      merge(this.dateInput.onValueChange, this.hourInput.onValueChange).subscribe((event: OValueChangeEvent) => {\n        if (event.isUserChange()) {\n          self.updateComponentValue();\n          const newValue = self._fControl.value;\n          self.emitOnValueChange(OValueChangeEvent.USER_CHANGE, newValue, self.oldValue);\n          self.oldValue = newValue;\n        }\n      })\n    );\n  }\n\n  public ngAfterViewInit(): void {\n    this.modifyFormControls();\n    super.ngAfterViewInit();\n    this.registerFormControls();\n    this.setInnerComponentsData();\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  public createFormControl(cfg, validators): OFormControl {\n    this._fControl = super.createFormControl(cfg, validators);\n    this._fControl.fControlChildren = [this.dateInput, this.hourInput];\n    return this._fControl;\n  }\n\n  public onFormControlChange(value: any): void {\n    super.onFormControlChange(value);\n    this.setInnerComponentsData();\n  }\n\n  public setValue(newValue: any, options?: FormValueOptions): void {\n    const changed = this.oldValue !== newValue;\n    super.setValue(newValue, options);\n    if (changed) {\n      this.setInnerComponentsData();\n    }\n  }\n\n  public onClickClearValue(event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n    this.blockGroupValueChanges = true;\n    this.clearValue();\n    this.blockGroupValueChanges = false;\n  }\n\n  protected setInnerComponentsData(): void {\n    let dateValue: any;\n    let hourValue: any;\n    if (Util.isDefined(this.value) && Util.isDefined(this.value.value)) {\n      const momentD = moment(this.value.value);\n      if (momentD.isValid()) {\n        dateValue = momentD.clone().startOf('day').valueOf();\n        hourValue = momentD.clone().valueOf() - dateValue;\n      }\n    }\n    if (this.dateInput) {\n      this.dateInput.setValue(dateValue);\n    }\n    if (this.hourInput) {\n      this.hourInput.setTimestampValue(hourValue);\n    }\n    this.cd.detectChanges();\n  }\n\n  protected updateComponentValue(): void {\n    if (!this.value) {\n      this.value = new OFormValue();\n    }\n    let timeValue: number;\n    const values = this.formGroup.getRawValue();\n    const mDate = (values[this.dateAttr] ? moment(values[this.dateAttr]) : moment()).startOf('day');\n    const mHour = moment(values[this.hourAttr], this.hourInput.formatString);\n    timeValue = mDate.clone()\n      .set('hour', mHour.get('hour'))\n      .set('minute', mHour.get('minutes'))\n      .valueOf();\n    if (this._fControl) {\n      this._fControl.setValue(timeValue);\n      this._fControl.markAsDirty();\n    }\n    this.ensureOFormValue(timeValue);\n  }\n\n  protected modifyFormControls(): void {\n    if (this.dateInput) {\n      const self = this;\n      this.dateInput.getFormGroup = () => {\n        return self.formGroup;\n      };\n    }\n\n    if (this.hourInput) {\n      const self = this;\n      this.hourInput.getFormGroup = () => {\n        return self.formGroup;\n      };\n    }\n\n    if (this.form) {\n      this.form.formGroup.removeControl(this.dateAttr);\n      this.form.formGroup.removeControl(this.hourAttr);\n    }\n  }\n\n  protected registerFormControls(): void {\n    if (this.dateInput && this.dateInput.getFormControl()) {\n      this.formGroup.registerControl(this.dateAttr, this.dateInput.getFormControl());\n    }\n    if (this.hourInput) {\n      if (this.hourInput.getFormControl()) {\n        this.formGroup.registerControl(this.hourAttr, this.hourInput.getFormControl());\n      }\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../../shared/shared.module';\nimport { ODateInputModule } from '../date-input/o-date-input.module';\nimport { OHourInputModule } from '../hour-input/o-hour-input.module';\nimport { OTimeInputComponent } from './o-time-input.component';\n\n@NgModule({\n  declarations: [OTimeInputComponent],\n  imports: [CommonModule, ODateInputModule, OHourInputModule, OSharedModule],\n  exports: [OTimeInputComponent]\n})\nexport class OTimeInputModule { }\n","export const REG_LANGUAGE = /^([a-z]{2})[-|_]([A-Z]{2})$/;\n\nexport default class LocaleCode {\n\n  static getLanguageCode(code) {\n    const match = code.match(REG_LANGUAGE);\n    let result = code.toLowerCase();\n    if (match && match.length > 1) {\n      result = match[1].toLowerCase();\n    }\n    return result;\n  }\n\n  static getCountryCode(code) {\n    const match = code.match(REG_LANGUAGE);\n    let result = code.toLowerCase();\n    if (match && match.length > 2) {\n      result = match[2].toLowerCase();\n    } else {\n      /*Exception pt is locale id of Portuguese Brazil\n      and pt-PT is Portuguese Portugal */\n      if (result === 'pt') {\n        result = 'br';\n      }\n    }\n    return result;\n  }\n}\n","import { Component, EventEmitter, Injector, ViewEncapsulation } from '@angular/core';\n\nimport { AppConfig } from '../../config/app-config';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport LocaleCode from '../../util/locale';\n\nexport const DEFAULT_INPUTS_O_LANGUAGE_SELECTOR = [\n  'useFlagIcons: use-flag-icons'\n];\n\nexport const DEFAULT_OUTPUTS_LANGUAGE_SELECTOR = [\n  'onChange'\n];\n\n@Component({\n  selector: 'o-language-selector',\n  inputs: DEFAULT_INPUTS_O_LANGUAGE_SELECTOR,\n  outputs: DEFAULT_OUTPUTS_LANGUAGE_SELECTOR,\n  templateUrl: './o-language-selector.component.html',\n  styleUrls: ['./o-language-selector.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-language-selector]': 'true'\n  }\n})\n\nexport class OLanguageSelectorComponent {\n\n  @InputConverter()\n  useFlagIcons: boolean = false;\n\n  onChange: EventEmitter<object> = new EventEmitter<object>();\n\n  protected translateService: OTranslateService;\n  protected appConfig: AppConfig;\n  protected availableLangs: string[];\n\n  constructor(protected injector: Injector) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appConfig = this.injector.get(AppConfig);\n    this.availableLangs = this.appConfig.getConfiguration().applicationLocales;\n  }\n\n  getFlagClass(lang: string) {\n    let flagName = LocaleCode.getCountryCode(lang);\n    flagName = (flagName !== 'en') ? flagName : 'gb';\n    return 'flag-icon-' + flagName;\n  }\n\n  getAvailableLangs(): string[] {\n    return this.availableLangs;\n  }\n\n  configureI18n(lang: any) {\n    if (this.translateService && this.translateService.getCurrentLang() !== lang) {\n      this.translateService.use(lang);\n      this.onChange.emit(lang);\n    }\n  }\n\n  getCurrentLang(): string {\n    return this.translateService.getCurrentLang();\n  }\n\n  getCurrentCountry(): string {\n    return LocaleCode.getCountryCode(this.getCurrentLang());\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OLanguageSelectorComponent } from './o-language-selector.component';\n\n@NgModule({\n  declarations: [OLanguageSelectorComponent],\n  imports: [OSharedModule, CommonModule],\n  exports: [OLanguageSelectorComponent]\n})\nexport class OLanguageSelectorModule {\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  QueryList,\n  SimpleChange,\n  ViewEncapsulation\n} from '@angular/core';\nimport { merge, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { IListItem } from '../../interfaces/o-list-item.interface';\nimport { IList } from '../../interfaces/o-list.interface';\nimport { OntimizeServiceProvider } from '../../services/factories';\nimport { OListInitializationOptions } from '../../types/o-list-initialization-options.type';\nimport { OQueryDataArgs } from '../../types/query-data-args.type';\nimport { SQLOrder } from '../../types/sql-order.type';\nimport { ObservableWrapper } from '../../util/async';\nimport { Codes } from '../../util/codes';\nimport { ServiceUtils } from '../../util/service.utils';\nimport { Util } from '../../util/util';\nimport { OFormComponent } from '../form/o-form.component';\nimport { DEFAULT_INPUTS_O_SERVICE_COMPONENT, OServiceComponent } from '../o-service-component.class';\nimport { OListItemDirective } from './list-item/o-list-item.directive';\n\nexport const DEFAULT_INPUTS_O_LIST = [\n  ...DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n\n  // quick-filter-columns [string]: columns of the filter, separated by ';'. Default: no value.\n  'quickFilterColumns: quick-filter-columns',\n\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n\n  'route',\n\n  'selectable',\n\n  'odense : dense',\n\n  // delete-button [no|yes]: show delete button when user select items. Default: yes.\n  'deleteButton: delete-button',\n\n  // sort-columns [string]: initial sorting, with the format column:[ASC|DESC], separated by ';'. Default: no value.\n  'sortColumns: sort-columns',\n\n  // insert-button-position [ top | bottom ]: position of the insert button. Default: 'bottom'\n  'insertButtonPosition:insert-button-position',\n\n  // insert-button-floatable [no|yes]: Indicates whether or not to position of the insert button is floating . Default: 'yes'\n  'insertButtonFloatable:insert-button-floatable'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST = [\n  'onClick',\n  'onDoubleClick',\n  'onInsertButtonClick',\n  'onItemDeleted',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\n@Component({\n  selector: 'o-list',\n  providers: [\n    OntimizeServiceProvider\n  ],\n  inputs: DEFAULT_INPUTS_O_LIST,\n  outputs: DEFAULT_OUTPUTS_O_LIST,\n  templateUrl: './o-list.component.html',\n  styleUrls: ['./o-list.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list]': 'true'\n  }\n})\nexport class OListComponent extends OServiceComponent implements IList, AfterContentInit, AfterViewInit, OnDestroy, OnInit, OnChanges {\n\n  public listItemComponents: IListItem[] = [];\n\n  @ContentChildren(OListItemDirective)\n  public listItemDirectives: QueryList<OListItemDirective>;\n\n  /* Inputs */\n  @InputConverter()\n  public refreshButton: boolean = true;\n  @InputConverter()\n  public selectable: boolean = false;\n  @InputConverter()\n  public odense: boolean = false;\n  @InputConverter()\n  public deleteButton: boolean = true;\n  @InputConverter()\n  public insertButtonFloatable: boolean = true;\n  public quickFilterColumns: string;\n  public route: string;\n  public sortColumns: string;\n  /* End Inputs */\n\n  public sortColArray: SQLOrder[] = [];\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onInsertButtonClick: EventEmitter<any> = new EventEmitter();\n  public onItemDeleted: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n\n  public selection = new SelectionModel<Element>(true, []);\n  public enabledDeleteButton: boolean = false;\n  public insertButtonPosition: 'top' | 'bottom' = 'bottom';\n  protected dataResponseArray: any[] = [];\n  protected storePaginationState: boolean = false;\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n  }\n\n  public ngOnInit(): void {\n    this.initialize();\n    this.subscription.add(this.selection.changed.subscribe(() => this.enabledDeleteButton = !this.selection.isEmpty()));\n  }\n\n  public ngAfterViewInit(): void {\n    super.afterViewInit();\n    this.parseSortColumns();\n    this.filterCaseSensitive = this.state.hasOwnProperty('filter-case-sensitive') ?\n      this.state['filter-case-sensitive'] : this.filterCaseSensitive;\n    if (Util.isDefined(this.searchInputComponent)) {\n      this.registerQuickFilter(this.searchInputComponent);\n    }\n  }\n\n  public ngAfterContentInit(): void {\n    this.setListItemDirectivesData();\n    this.listItemDirectives.changes.subscribe(() => this.setListItemDirectivesData());\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy();\n    this.subscription.unsubscribe();\n  }\n\n  public ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    if (changes.staticData !== undefined) {\n      this.dataResponseArray = changes.staticData.currentValue;\n      const filter = (this.state && this.state.filterValue) ? this.state.filterValue : undefined;\n      this.filterData(filter);\n    }\n  }\n\n  public getComponentKey(): string {\n    return 'OListComponent_' + this.oattr;\n  }\n\n  public initialize(): void {\n    super.initialize();\n\n    if (this.staticData && this.staticData.length) {\n      this.dataResponseArray = this.staticData;\n    }\n    if (!Util.isDefined(this.quickFilterColumns)) {\n      this.quickFilterColumns = this.columns;\n    }\n    this.quickFilterColArray = Util.parseArray(this.quickFilterColumns, true);\n    let initialQueryLength: number;\n    if (this.state.hasOwnProperty('queryRecordOffset')) {\n      initialQueryLength = this.state.queryRecordOffset;\n    }\n    this.state.queryRecordOffset = 0;\n    if (!this.state.hasOwnProperty('totalQueryRecordsNumber')) {\n      this.state.totalQueryRecordsNumber = 0;\n    }\n    if (this.queryOnInit) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: initialQueryLength || this.queryRows\n      };\n      this.queryData(void 0, queryArgs);\n    }\n  }\n\n  public reinitialize(options: OListInitializationOptions): void {\n    super.reinitialize(options);\n  }\n\n  public registerListItemDirective(item: OListItemDirective): void {\n    if (item) {\n      item.onClick(directiveItem => this.onItemDetailClick(directiveItem));\n      item.onDoubleClick(directiveItem => this.onItemDetailDoubleClick(directiveItem));\n    }\n  }\n\n  public getDense(): boolean {\n    return this.odense;\n  }\n\n  public onListItemClicked(onNext: (item: OListItemDirective) => void): object {\n    return ObservableWrapper.subscribe(this.onClick, onNext);\n  }\n\n  public onItemDetailClick(item: OListItemDirective | IListItem): void {\n    const data = item.getItemData();\n    if (this.oenabled && this.detailMode === Codes.DETAIL_MODE_CLICK) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(data);\n    }\n    ObservableWrapper.callEmit(this.onClick, data);\n  }\n\n  public onItemDetailDoubleClick(item: OListItemDirective | IListItem): void {\n    const data = item.getItemData();\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(data);\n    }\n    ObservableWrapper.callEmit(this.onDoubleClick, data);\n  }\n\n  public getDataToStore(): object {\n    const dataToStore = super.getDataToStore();\n    if (!this.storePaginationState) {\n      delete dataToStore['queryRecordOffset'];\n    }\n    if (this.quickFilter && Util.isDefined(this.quickFilterComponent)) {\n      dataToStore['quickFilterActiveColumns'] = this.quickFilterComponent.getActiveColumns().join(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    dataToStore['filter-case-sensitive'] = this.isFilterCaseSensitive();\n    return dataToStore;\n  }\n\n  public reloadData(): void {\n    let queryArgs: OQueryDataArgs = {};\n    if (this.pageable) {\n      this.state.queryRecordOffset = 0;\n      queryArgs = {\n        length: Math.max(this.queryRows, this.dataResponseArray.length),\n        replace: true\n      };\n    }\n    if (this.selectable) {\n      // this.selectedItems = [];\n      this.clearSelection();\n      this.state.selectedIndexes = [];\n    }\n    this.queryData(void 0, queryArgs);\n  }\n\n  public reloadPaginatedDataFromStart(): void {\n    this.dataResponseArray = [];\n    this.reloadData();\n  }\n\n  /**\n   * Filters data locally\n   * @param value the filtering value\n   */\n  public filterData(value: string, loadMore?: boolean): void {\n    if (this.state) {\n      this.state.filterValue = value;\n    }\n    if (this.pageable) {\n      const queryArgs: OQueryDataArgs = {\n        offset: 0,\n        length: this.queryRows,\n        replace: true\n      };\n      this.queryData(void 0, queryArgs);\n    } else if (value && value.length > 0 && this.dataResponseArray && this.dataResponseArray.length > 0) {\n      const self = this;\n      const caseSensitive = this.isFilterCaseSensitive();\n      const filteredData = this.dataResponseArray.filter(item => {\n        return self.getQuickFilterColumns().some(col => {\n          const regExpStr = Util.escapeSpecialCharacter(Util.normalizeString(value, !caseSensitive));\n          return new RegExp(regExpStr).test(Util.normalizeString(item[col] + '', !caseSensitive));\n        });\n      });\n      this.setDataArray(filteredData);\n    } else {\n      this.setDataArray(this.dataResponseArray);\n    }\n  }\n\n  public isItemSelected(item: any): boolean {\n    return this.selection.isSelected(item);\n  }\n\n  public updateSelectedState(item: object, isSelected: boolean): void {\n    const selectedIndexes = this.state.selectedIndexes || [];\n    const itemIndex = this.dataResponseArray.indexOf(item);\n    if (isSelected && selectedIndexes.indexOf(itemIndex) === -1) {\n      selectedIndexes.push(itemIndex);\n    } else if (!isSelected) {\n      selectedIndexes.splice(selectedIndexes.indexOf(itemIndex), 1);\n    }\n    this.state.selectedIndexes = selectedIndexes;\n  }\n\n  public onScroll(e: Event): void {\n    if (this.pageable) {\n      const pendingRegistries = this.dataResponseArray.length < this.state.totalQueryRecordsNumber;\n      if (!this.loadingSubject.value && pendingRegistries) {\n        const element = e.target as any;\n        if (element.offsetHeight + element.scrollTop + 5 >= element.scrollHeight) {\n          const queryArgs: OQueryDataArgs = {\n            offset: this.state.queryRecordOffset,\n            length: this.queryRows\n          };\n          this.queryData(void 0, queryArgs);\n        }\n      }\n    }\n  }\n\n  public remove(clearSelectedItems: boolean = false): void {\n    const selectedItems = this.getSelectedItems();\n    if (selectedItems.length > 0) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n        if (res === true) {\n          if (this.dataService && (this.deleteMethod in this.dataService) && this.entity && (this.keysArray.length > 0)) {\n            const filters = ServiceUtils.getArrayProperties(selectedItems, this.keysArray);\n            merge(filters.map((kv => this.dataService[this.deleteMethod](kv, this.entity)))).subscribe(obs => obs.subscribe(() => {\n              ObservableWrapper.callEmit(this.onItemDeleted, selectedItems);\n            }, error => {\n              this.dialogService.alert('ERROR', 'MESSAGES.ERROR_DELETE');\n            }, () => {\n              this.reloadData();\n            }));\n          } else {\n            this.deleteLocalItems();\n          }\n        } else if (clearSelectedItems) {\n          this.clearSelection();\n        }\n      });\n    }\n  }\n\n  public add(e?: Event): void {\n    this.onInsertButtonClick.emit(e);\n    super.insertDetail();\n  }\n\n  public parseSortColumns(): void {\n    const sortColumnsParam = this.state['sort-columns'] || this.sortColumns;\n    this.sortColArray = ServiceUtils.parseSortColumns(sortColumnsParam);\n  }\n\n  public getQueryArguments(filter: object, ovrrArgs?: OQueryDataArgs): any[] {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    if (this.pageable) {\n      queryArguments[6] = this.sortColArray;\n    }\n    return queryArguments;\n  }\n\n  registerItem(item: IListItem): void {\n    this.listItemComponents.push(item);\n    if (this.dataResponseArray.length > 0) {\n      item.setItemData(this.dataResponseArray[this.listItemComponents.length - 1]);\n    }\n  }\n\n  protected setListItemDirectivesData(): void {\n    this.listItemDirectives.forEach((element: OListItemDirective, index) => {\n      element.setItemData(this.dataResponseArray[index]);\n      element.setListComponent(this);\n      this.registerListItemDirective(element);\n    });\n  }\n\n  protected saveDataNavigationInLocalStorage(): void {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  protected setData(data: any, sqlTypes?: any, replace?: boolean): void {\n    if (Util.isArray(data)) {\n      let respDataArray = data;\n      if (this.pageable && !replace) {\n        respDataArray = (this.dataResponseArray || []).concat(data);\n      }\n\n      const selectedIndexes = this.state.selectedIndexes || [];\n      for (const selIndex of selectedIndexes) {\n        if (selIndex < this.dataResponseArray.length) {\n          this.selection.select(this.dataResponseArray[selIndex]);\n        }\n      }\n      this.dataResponseArray = respDataArray;\n      if (!this.pageable) {\n        this.filterData(this.state.filterValue);\n      } else {\n        this.setDataArray(this.dataResponseArray);\n      }\n    } else {\n      this.setDataArray([]);\n    }\n    if (this.loaderSubscription) {\n      this.loaderSubscription.unsubscribe();\n    }\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.dataResponseArray);\n  }\n\n}\n","import {\n  AfterContentInit,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  QueryList,\n  Renderer2,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { MatLine, MatListAvatarCssMatStyler, MatListItem } from '@angular/material';\n\nimport { IListItem } from '../../../interfaces/o-list-item.interface';\nimport { Util } from '../../../util/util';\nimport { OListComponent } from '../o-list.component';\n\n@Component({\n  selector: 'o-list-item',\n  templateUrl: './o-list-item.component.html',\n  styleUrls: ['./o-list-item.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-list-item]': 'true'\n  }\n})\nexport class OListItemComponent implements OnInit, IListItem, AfterContentInit {\n\n  public modelData: any;\n  protected _isSelected: boolean = false;\n\n  @ContentChildren(MatLine)\n  protected _lines: QueryList<MatLine>;\n\n  @ViewChild('innerListItem', { static: true })\n  protected _innerListItem: MatListItem;\n\n  @ContentChild(MatListAvatarCssMatStyler, { static: false })\n  set _hasAvatar(avatar: MatListAvatarCssMatStyler) {\n    const listItemNativeEl = this.elRef.nativeElement.getElementsByTagName('mat-list-item');\n    if (listItemNativeEl && listItemNativeEl.length === 1) {\n      if ((avatar !== null && avatar !== undefined)) {\n        this._renderer.addClass(listItemNativeEl[0], 'mat-list-avatar');\n      } else {\n        this._renderer.removeClass(listItemNativeEl[0], 'mat-list-avatar');\n      }\n    }\n  }\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListComponent)) public _list: OListComponent\n  ) { }\n\n  public ngOnInit() {\n    this._list.registerItem(this);\n  }\n\n  public ngAfterContentInit(): void {\n    const matLinesRef = this._lines;\n\n    const ngAfterContentInitOriginal = this._innerListItem.ngAfterContentInit;\n    // tslint:disable-next-line: space-before-function-paren\n    this._innerListItem.ngAfterContentInit = function () {\n      const emptyDiv = this._element.nativeElement.querySelector('.mat-list-text:empty');\n      if (emptyDiv) {\n        emptyDiv.remove();\n      }\n      this._lines = matLinesRef;\n      ngAfterContentInitOriginal.apply(this);\n    };\n  }\n\n  public onClick(e?: Event): void {\n    if (!this._list.detailButtonInRow) {\n      this._list.onItemDetailClick(this);\n    }\n  }\n\n  public onDoubleClick(e?: Event): void {\n    if (!this._list.detailButtonInRow) {\n      this._list.onItemDetailDoubleClick(this);\n    }\n  }\n\n  public onDetailIconClicked(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this._list.viewDetail(this.modelData);\n  }\n\n  public onEditIconClicked(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this._list.editDetail(this.modelData);\n  }\n\n  public setItemData(data: any): void {\n    if (!this.modelData) {\n      this.modelData = data;\n    }\n  }\n\n  public getItemData(): any {\n    return this.modelData;\n  }\n\n  public onCheckboxChange(e?: Event): void {\n    if (this._list.selectable) {\n      this._list.setSelected(this.modelData);\n    }\n  }\n\n  get isSelected(): boolean {\n    return this._list.selection.isSelected(this.modelData);\n  }\n\n}\n","import { ElementRef, EventEmitter, Injector, Renderer2 } from '@angular/core';\n\nimport { Util } from '../../../util/util';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\n\nexport const DEFAULT_INPUTS_O_TEXT_RENDERER = [\n  'title',\n  'primaryText : primary-text',\n  'secondaryText : secondary-text',\n  'icon'\n];\n\nexport const DEFAULT_OUTPUTS_O_TEXT_RENDERER = [\n  'onIconClick : icon-action'\n];\n\nexport class OListItemTextRenderer {\n\n  /* inputs variables */\n  protected _title: string;\n  protected _primaryText: string;\n  protected _secondaryText: string;\n  protected _icon: string;\n\n  onIconClick: EventEmitter<object> = new EventEmitter<object>();\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    protected _listItem: OListItemComponent\n  ) { }\n\n  modifyMatListItemElement() {\n    if (this.elRef.nativeElement && this.elRef.nativeElement.parentElement) {\n      const listItem = this.elRef.nativeElement.parentElement.parentElement;\n      if (listItem && listItem.nodeName === 'MAT-LIST-ITEM') {\n        let linesNo = 3;\n        if (this.title === undefined) {\n          linesNo--;\n        }\n        if (this.primaryText === undefined) {\n          linesNo--;\n        }\n        if (this.secondaryText === undefined) {\n          linesNo--;\n        }\n        listItem.classList.add('mat-' + linesNo + '-line');\n        listItem.querySelector('.mat-list-text').remove();\n      }\n    }\n  }\n\n  onActionIconClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onIconClick.emit(e);\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get primaryText(): string {\n    return this._primaryText;\n  }\n\n  set primaryText(val: string) {\n    this._primaryText = val;\n  }\n\n  get secondaryText(): string {\n    return this._secondaryText;\n  }\n\n  set secondaryText(val: string) {\n    this._secondaryText = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\nimport { OListItemComponent } from '../../list-item/o-list-item.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_RENDERER,\n  DEFAULT_OUTPUTS_O_TEXT_RENDERER,\n  OListItemTextRenderer,\n} from '../o-list-item-text-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_AVATAR = [\n  ...DEFAULT_INPUTS_O_TEXT_RENDERER,\n  'avatar',\n  'emptyAvatar: empty-avatar',\n  // avatar-type [base64|url]: avatar type (extern url or base64). Default: no value.\n  'avatarType: avatar-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR = [\n  ...DEFAULT_OUTPUTS_O_TEXT_RENDERER\n];\n\n@Component({\n  selector: 'o-list-item-avatar',\n  templateUrl: './o-list-item-avatar.component.html',\n  styleUrls: ['./o-list-item-avatar.component.scss'],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_AVATAR,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-avatar]': 'true'\n  }\n})\nexport class OListItemAvatarComponent extends OListItemTextRenderer implements AfterViewInit, OnInit {\n\n  protected avatar: string;\n  protected avatarType: string;\n  protected emptyAvatar: string;\n  protected _avatarSrc: SafeResourceUrl;\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) protected _listItem: OListItemComponent,\n    public sanitizer: DomSanitizer\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  ngOnInit() {\n    let avatarValue: any = this.avatar;\n    if (!this.avatar) {\n      avatarValue = this.emptyAvatar;\n    } else {\n      switch (this.avatarType) {\n        case 'base64':\n          avatarValue = ('data:image/png;base64,' + ((typeof (avatarValue.bytes) !== 'undefined') ? avatarValue.bytes : avatarValue));\n          break;\n        case 'url':\n        default:\n          avatarValue = this.avatar;\n          break;\n      }\n    }\n    this.avatarSrc = this.sanitizer.bypassSecurityTrustResourceUrl(avatarValue);\n  }\n\n  get avatarSrc(): SafeResourceUrl {\n    return this._avatarSrc;\n  }\n\n  set avatarSrc(val: SafeResourceUrl) {\n    this._avatarSrc = val;\n  }\n\n}\n","import { ElementRef, EventEmitter, Injector, Renderer2 } from '@angular/core';\n\nimport { Util } from '../../../util/util';\nimport { OListItemComponent } from '../list-item/o-list-item.component';\n\nexport const DEFAULT_INPUTS_O_CARD_RENDERER = [\n  'title',\n  'subtitle',\n  'image',\n  'showImage: show-image',\n  'action1Text: action-1-text',\n  'action2Text: action-2-text'\n];\n\nexport const DEFAULT_OUTPUTS_O_CARD_RENDERER = [\n  'onAction1Click: action-1',\n  'onAction2Click: action-2'\n];\n\nexport class OListItemCardRenderer {\n\n  /* inputs variables */\n  protected _title: string;\n  protected _subtitle: string;\n  protected _image: string;\n  protected _showImage: boolean = true;\n  protected _action1Text: string;\n  protected _action2Text: string;\n\n  onAction1Click: EventEmitter<object> = new EventEmitter<object>();\n  onAction2Click: EventEmitter<object> = new EventEmitter<object>();\n  /* end of inputs variables */\n\n  constructor(\n    public elRef: ElementRef,\n    protected _renderer: Renderer2,\n    protected _injector: Injector,\n    protected _listItem: OListItemComponent\n  ) { }\n\n  modifyMatListItemElement() {\n    if (this.elRef.nativeElement && this.elRef.nativeElement.parentElement) {\n      const matListItem = this.elRef.nativeElement.parentElement.parentElement;\n      matListItem.querySelector('.mat-list-text').remove();\n      matListItem.classList.add('o-card-item');\n    }\n  }\n\n  onAction1ButtonClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onAction1Click.emit(e);\n  }\n\n  onAction2ButtonClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onAction2Click.emit(e);\n  }\n\n  compareListHeight(height: string) {\n    return (height === this._listItem._list.rowHeight) || undefined;\n  }\n\n  get title(): string {\n    return this._title;\n  }\n\n  set title(val: string) {\n    this._title = val;\n  }\n\n  get subtitle(): string {\n    return this._subtitle;\n  }\n\n  set subtitle(val: string) {\n    this._subtitle = val;\n  }\n\n  get image(): string {\n    return this._image;\n  }\n\n  set image(val: string) {\n    this._image = val;\n  }\n\n  get showImage(): boolean {\n    return this._showImage;\n  }\n\n  set showImage(val: boolean) {\n    this._showImage = val;\n  }\n\n  get action1Text(): string {\n    return this._action1Text;\n  }\n\n  set action1Text(val: string) {\n    this._action1Text = val;\n  }\n\n  get action2Text(): string {\n    return this._action2Text;\n  }\n\n  set action2Text(val: string) {\n    this._action2Text = val;\n  }\n\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  Optional,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { Util } from '../../../../util/util';\nimport { OListItemComponent } from '../../list-item/o-list-item.component';\nimport {\n  DEFAULT_INPUTS_O_CARD_RENDERER,\n  DEFAULT_OUTPUTS_O_CARD_RENDERER,\n  OListItemCardRenderer,\n} from '../o-list-item-card-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_CARD_IMAGE = [\n  ...DEFAULT_INPUTS_O_CARD_RENDERER,\n  'avatar'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_CARD_IMAGE = [\n  ...DEFAULT_OUTPUTS_O_CARD_RENDERER\n];\n\n@Component({\n  selector: 'o-list-item-card-image',\n  templateUrl: './o-list-item-card-image.component.html',\n  styleUrls: ['./o-list-item-card-image.component.scss'],\n  inputs: [\n    ...DEFAULT_INPUTS_O_LIST_ITEM_CARD_IMAGE,\n    'content',\n    'avatar',\n    'icon',\n    'collapsible',\n    'collapsed'\n  ],\n  outputs: [\n    ...DEFAULT_OUTPUTS_O_LIST_ITEM_CARD_IMAGE,\n    'onIconClick : icon-action'\n  ],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-card-image]': 'true'\n  }\n})\nexport class OListItemCardImageComponent extends OListItemCardRenderer implements AfterViewInit {\n\n  protected _content: string;\n  protected _avatar: string;\n  protected _icon: string;\n  @InputConverter()\n  protected _collapsible: boolean = false;\n  @InputConverter()\n  protected _collapsed: boolean = true;\n\n  onIconClick: EventEmitter<object> = new EventEmitter<object>();\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  onActionIconClick(e?: Event) {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    this.onIconClick.emit(e);\n  }\n\n  get content(): string {\n    return this._content;\n  }\n\n  set content(val: string) {\n    this._content = val;\n  }\n\n  get avatar(): string {\n    return this._avatar;\n  }\n\n  set avatar(val: string) {\n    this._avatar = val;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(val: string) {\n    this._icon = val;\n  }\n\n  get collapsible(): boolean {\n    return this._collapsible;\n  }\n\n  set collapsible(val: boolean) {\n    this._collapsible = val;\n  }\n\n  get collapsed(): boolean {\n    return this._collapsed;\n  }\n\n  set collapsed(val: boolean) {\n    this._collapsed = val;\n  }\n\n}\n\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  Optional,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { OListItemComponent } from '../../list-item/o-list-item.component';\nimport {\n  DEFAULT_INPUTS_O_CARD_RENDERER,\n  DEFAULT_OUTPUTS_O_CARD_RENDERER,\n  OListItemCardRenderer,\n} from '../o-list-item-card-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_CARD = [\n  ...DEFAULT_INPUTS_O_CARD_RENDERER\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_CARD = [\n  ...DEFAULT_OUTPUTS_O_CARD_RENDERER\n];\n\n@Component({\n  selector: 'o-list-item-card',\n  templateUrl: './o-list-item-card.component.html',\n  styleUrls: ['./o-list-item-card.component.scss'],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_CARD,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_CARD,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true',\n    '[class.o-list-item-card]': 'true'\n  }\n})\nexport class OListItemCardComponent extends OListItemCardRenderer implements AfterViewInit {\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n}\n\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  Optional,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { OListItemComponent } from '../../list-item/o-list-item.component';\nimport {\n  DEFAULT_INPUTS_O_TEXT_RENDERER,\n  DEFAULT_OUTPUTS_O_TEXT_RENDERER,\n  OListItemTextRenderer,\n} from '../o-list-item-text-renderer.class';\n\nexport const DEFAULT_INPUTS_O_LIST_ITEM_TEXT = [\n  ...DEFAULT_INPUTS_O_TEXT_RENDERER,\n  'iconPosition : icon-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_LIST_ITEM_TEXT = [\n  ...DEFAULT_OUTPUTS_O_TEXT_RENDERER\n];\n\n@Component({\n  selector: 'o-list-item-text',\n  templateUrl: './o-list-item-text.component.html',\n  styleUrls: ['./o-list-item-text.component.scss'],\n  inputs: DEFAULT_INPUTS_O_LIST_ITEM_TEXT,\n  outputs: DEFAULT_OUTPUTS_O_LIST_ITEM_TEXT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-custom-list-item]': 'true'\n  }\n})\nexport class OListItemTextComponent extends OListItemTextRenderer implements OnInit, AfterViewInit {\n\n  public ICON_POSITION_LEFT = 'left';\n  public ICON_POSITION_RIGHT = 'right';\n\n  public _iconPosition: string;\n\n  constructor(\n    elRef: ElementRef,\n    _renderer: Renderer2,\n    _injector: Injector,\n    @Optional() @Inject(forwardRef(() => OListItemComponent)) protected _listItem: OListItemComponent\n  ) {\n    super(elRef, _renderer, _injector, _listItem);\n    this.elRef.nativeElement.classList.add('o-list-item-text');\n  }\n\n  ngOnInit(): void {\n    if (!this.iconPosition || [this.ICON_POSITION_LEFT, this.ICON_POSITION_RIGHT].indexOf(this.iconPosition.toLowerCase()) === -1) {\n      this.iconPosition = this.ICON_POSITION_RIGHT;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.modifyMatListItemElement();\n  }\n\n  get iconPosition(): string {\n    return this._iconPosition;\n  }\n\n  set iconPosition(val: string) {\n    this._iconPosition = val;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatCheckbox } from '@angular/material';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OSearchInputModule } from '../input/search-input/o-search-input.module';\nimport { OListItemComponent } from './list-item/o-list-item.component';\nimport { OListComponent } from './o-list.component';\nimport { OListItemAvatarComponent } from './renderers/avatar/o-list-item-avatar.component';\nimport { OListItemCardImageComponent } from './renderers/card-image/o-list-item-card-image.component';\nimport { OListItemCardComponent } from './renderers/card/o-list-item-card.component';\nimport { OListItemTextComponent } from './renderers/text/o-list-item-text.component';\n\n@NgModule({\n  declarations: [\n    OListComponent,\n    OListItemComponent,\n    OListItemAvatarComponent,\n    OListItemCardImageComponent,\n    OListItemCardComponent,\n    OListItemTextComponent\n  ],\n  imports: [CommonModule, OSearchInputModule, OSharedModule, RouterModule],\n  exports: [\n    OListComponent,\n    OListItemComponent,\n    OListItemAvatarComponent,\n    OListItemCardImageComponent,\n    OListItemCardComponent,\n    OListItemTextComponent\n  ],\n  entryComponents: [MatCheckbox]\n})\nexport class OListModule { }\n","export enum ColumnValueFilterOperator { IN, LESS_EQUAL, MORE_EQUAL, BETWEEN, EQUAL }\n\nexport type OColumnValueFilter = {\n  attr: string;\n  operator: ColumnValueFilterOperator;\n  values: any;\n};\n","import { BehaviorSubject, Observable } from 'rxjs';\n\nimport { OTableColumnCalculated } from '../../../interfaces/o-table-column-calculated.interface';\nimport { OTableColumn } from '../../../interfaces/o-table-column.interface';\nimport { Expression } from '../../../types/expression.type';\nimport { OColumnAggregate } from '../../../types/o-column-aggregate.type';\nimport { OColumnTooltip } from '../../../types/o-column-tooltip.type';\nimport { OperatorFunction } from '../../../types/operation-function.type';\nimport { Codes, Util } from '../../../util';\nimport { OBaseTableCellRenderer } from './cell-renderer/o-base-table-cell-renderer.class';\n\nexport class OColumn {\n  attr: string;\n  name: string;\n  title: string;\n  type: string;\n  sqlType: number;\n  className: string;\n  orderable: boolean;\n  _searchable: boolean;\n  searching: boolean; // this column is used to filter in quickfilter\n  visible: boolean;\n  renderer: OBaseTableCellRenderer;\n  editor: any;\n  protected _editing: boolean = false;\n  _width: string;\n  minWidth: string;\n  maxWidth: string;\n  aggregate: OColumnAggregate;\n  calculate: string | OperatorFunction;\n  definition: OTableColumn;\n  tooltip: OColumnTooltip;\n  resizable: boolean;\n  DOMWidth: number;\n  filterExpressionFunction: (columnAttr: string, quickFilter?: string) => Expression;\n\n  private multilineSubject: BehaviorSubject<boolean> = new BehaviorSubject(this.multiline);\n  public isMultiline: Observable<boolean> = this.multilineSubject.asObservable();\n  private _multiline: boolean;\n\n  get editing(): boolean {\n    return this._editing;\n  }\n\n  set editing(val: boolean) {\n    if (this.type === 'boolean' && this.editor && this.editor.autoCommit) {\n      this._editing = false;\n    }\n    this._editing = this.editor != null && val;\n  }\n\n  setDefaultProperties(args: any) {\n    this.type = 'string';\n    this.className = 'o-column-' + (this.type) + ' ';\n    this.orderable = args.orderable;\n    this.resizable = args.resizable;\n    this.searchable = true;\n    this.searching = true;\n    // column without 'attr' should contain only renderers that do not depend on cell data, but row data (e.g. actions)\n    this.name = this.attr;\n    this.title = this.attr;\n    this.multiline = false;\n  }\n\n  setColumnProperties(column: OTableColumn & OTableColumnCalculated) {\n    this.title = Util.isDefined(column.title) ? column.title : column.attr;\n    this.definition = column;\n    this.multiline = column.multiline;\n\n    if (Util.isDefined(column.minWidth)) {\n      this.minWidth = column.minWidth;\n    }\n    if (Util.isDefined(column.maxWidth)) {\n      this.maxWidth = column.maxWidth;\n    }\n    if (Util.isDefined(column.orderable)) {\n      this.orderable = column.orderable;\n    }\n    if (Util.isDefined(column.resizable)) {\n      this.resizable = column.resizable;\n    }\n    if (Util.isDefined(column.searchable)) {\n      this.searchable = column.searchable;\n    }\n    if (Util.isDefined(column.renderer)) {\n      this.renderer = column.renderer;\n    }\n    if (Util.isDefined(column.editor)) {\n      this.editor = column.editor;\n    }\n    if (Util.isDefined(column.type)) {\n      this.type = column.type;\n      this.className = 'o-column-' + (this.type) + ' ';\n    }\n    if (Util.isDefined(column.getSQLType)) {\n      this.sqlType = column.getSQLType();\n    }\n    if (Util.isDefined(column.class)) {\n      this.className = Util.isDefined(this.className) ? (this.className + ' ' + column.class) : column.class;\n    }\n    // if (column instanceof OTableColumnCalculatedComponent) {\n    if (Util.isDefined(column.operation) || Util.isDefined(column.functionOperation)) {\n      this.calculate = column.operation ? column.operation : column.functionOperation;\n    }\n    // }\n    if (Util.isDefined(column.tooltip) && column.tooltip) {\n      this.tooltip = {\n        value: column.tooltipValue,\n        function: column.tooltipFunction\n      };\n    }\n    if (Util.isDefined(column.filterExpressionFunction)) {\n      this.filterExpressionFunction = column.filterExpressionFunction;\n    }\n  }\n\n  set searchable(val: boolean) {\n    this._searchable = val;\n    this.searching = val;\n  }\n\n  get searchable(): boolean {\n    return this._searchable;\n  }\n\n  set multiline(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._multiline = val;\n    this.multilineSubject.next(this._multiline);\n  }\n\n  get multiline(): boolean {\n    return this._multiline;\n  }\n\n  hasTooltip(): boolean {\n    return Util.isDefined(this.tooltip);\n  }\n\n  getTooltip(rowData: any): any {\n    if (!this.hasTooltip()) {\n      return undefined;\n    }\n    let tooltip;\n    if (Util.isDefined(this.tooltip.value)) {\n      tooltip = this.tooltip.value;\n    } else if (Util.isDefined(this.tooltip.function)) {\n      try {\n        tooltip = this.tooltip.function(rowData);\n      } catch (e) {\n        console.warn('o-table-column tooltip-function didnt worked');\n      }\n    } else {\n      tooltip = Util.isDefined(this.renderer) ? this.renderer.getTooltip(rowData[this.name], rowData) : rowData[this.name];\n    }\n    return tooltip;\n  }\n\n  getMinWidth() {\n    if (Util.isDefined(this.width)) {\n      return this.width;\n    }\n    return this.minWidth;\n  }\n\n  getMinWidthValue() {\n    return Util.extractPixelsValue(this.minWidth, Codes.DEFAULT_COLUMN_MIN_WIDTH);\n  }\n\n  getMaxWidthValue() {\n    const value = Util.extractPixelsValue(this.maxWidth);\n    return value ? value : undefined;\n  }\n\n  getRenderWidth(horizontalScrolled?: boolean) {\n    if (Util.isDefined(this.width)) {\n      return this.width;\n    }\n    const minValue = Util.extractPixelsValue(this.minWidth, Codes.DEFAULT_COLUMN_MIN_WIDTH);\n    if (Util.isDefined(minValue) && this.DOMWidth < minValue) {\n      this.DOMWidth = minValue;\n    }\n\n    if (Util.isDefined(this.maxWidth)) {\n      const maxValue = Util.extractPixelsValue(this.maxWidth);\n      if (Util.isDefined(maxValue) && this.DOMWidth > maxValue) {\n        this.DOMWidth = maxValue;\n      }\n    }\n    const defaultWidth = (horizontalScrolled) ? undefined : 'auto';\n    return Util.isDefined(this.DOMWidth) ? (this.DOMWidth + 'px') : defaultWidth;\n  }\n\n  set width(val: string) {\n    let widthVal = val;\n    const pxVal = Util.extractPixelsValue(val);\n    if (Util.isDefined(pxVal)) {\n      this.DOMWidth = pxVal;\n      widthVal = undefined;\n    }\n    this._width = widthVal;\n  }\n\n  get width(): string {\n    return this._width;\n  }\n\n  getWidthToStore(): any {\n    return this._width || this.DOMWidth;\n  }\n\n  setWidth(val: number) {\n    this.width = val + 'px';\n    this.DOMWidth = val;\n  }\n\n  getTitleAlignClass() {\n    if (Util.isDefined(this.definition)) {\n      return this.definition.titleAlign || Codes.COLUMN_TITLE_ALIGN_CENTER;\n    }\n    // default title align\n    return Codes.COLUMN_TITLE_ALIGN_CENTER;\n  }\n\n  getFilterValue(cellValue: any, rowValue?: any): any[] {\n    if (this.renderer) {\n      return this.renderer.getFilter(cellValue, rowValue);\n    } else {\n      return [cellValue];\n    }\n  }\n\n  useCustomFilterFunction(): boolean {\n    return this.searching && this.visible && this.renderer != null && this.renderer.filterFunction != null;\n  }\n\n  useQuickfilterFunction(): boolean {\n    return this.searching && this.visible && !(this.renderer != null && this.renderer.filterFunction != null);\n  }\n\n}\n","import { OTableOptions } from '../../../interfaces/o-table-options.interface';\nimport { Codes } from '../../../util/codes';\nimport { OColumn } from '../column/o-column.class';\n\nexport class DefaultOTableOptions implements OTableOptions {\n\n  columns: Array<OColumn> = [];\n  filter: boolean = true;\n  filterCaseSensitive: boolean = false;\n\n  protected _visibleColumns: Array<any> = [];\n  protected _selectColumn: OColumn;\n\n  constructor() {\n    this.selectColumn = new OColumn();\n    this.selectColumn.name = Codes.NAME_COLUMN_SELECT;\n    this.selectColumn.title = '';\n    this.selectColumn.visible = false;\n  }\n\n  get visibleColumns(): Array<any> {\n    return this._visibleColumns;\n  }\n\n  set visibleColumns(arg: Array<any>) {\n    this._visibleColumns = arg;\n    this.columns.forEach((oCol: OColumn) => {\n      oCol.visible = this._visibleColumns.indexOf(oCol.attr) !== -1;\n    });\n  }\n\n  get columnsInsertables(): Array<string> {\n    return this._visibleColumns.map((col: string) => {\n      return col + Codes.SUFFIX_COLUMN_INSERTABLE;\n    });\n  }\n\n  get selectColumn(): OColumn {\n    return this._selectColumn;\n  }\n\n  set selectColumn(val: OColumn) {\n    this._selectColumn = val;\n    this.selectColumn.name = Codes.NAME_COLUMN_SELECT;\n    this.selectColumn.title = '';\n    this.selectColumn.visible = false;\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Inject,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatCheckboxChange, MatDialogRef, MatSelectionList, MatSlideToggleChange } from '@angular/material';\nimport { BehaviorSubject, fromEvent, Observable } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { ColumnValueFilterOperator, OColumnValueFilter } from '../../../../../types/o-column-value-filter.type';\nimport { TableFilterByColumnData } from '../../../../../types/o-table-filter-by-column-data.type';\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../../column/o-column.class';\n\n@Component({\n  selector: 'o-table-filter-by-column-data-dialog',\n  templateUrl: 'o-table-filter-by-column-data-dialog.component.html',\n  styleUrls: ['o-table-filter-by-column-data-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-filter-by-column-dialog]': 'true'\n  }\n})\nexport class OTableFilterByColumnDataDialogComponent implements AfterViewInit {\n\n  column: OColumn;\n  preloadValues: boolean = true;\n  mode: string;\n  private isCustomFilterSubject = new BehaviorSubject<boolean>(false);\n  isCustomFilter: Observable<boolean> = this.isCustomFilterSubject.asObservable();\n\n  private isDefaultFilterSubject = new BehaviorSubject<boolean>(false);\n  isDefaultFilter: Observable<boolean> = this.isDefaultFilterSubject.asObservable();\n\n  fcText = new FormControl();\n  fcFrom = new FormControl();\n  fcTo = new FormControl();\n\n  protected columnData: Array<TableFilterByColumnData> = [];\n  protected tableData: Array<any> = [];\n\n  private listDataSubject = new BehaviorSubject<Array<TableFilterByColumnData>>([]);\n  protected _listData: Observable<Array<TableFilterByColumnData>> = this.listDataSubject.asObservable();\n\n\n  @ViewChild('filter', { static: false }) filter: ElementRef;\n  @ViewChild('filterValueList', { static: false }) filterValueList: MatSelectionList;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableFilterByColumnDataDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    if (data.column) {\n      this.column = data.column;\n    }\n    let previousFilter: OColumnValueFilter = {\n      attr: undefined,\n      operator: undefined,\n      values: undefined\n    };\n    if (data.mode) {\n      this.isDefaultFilterSubject.next(data.mode === 'default');\n      this.isCustomFilterSubject.next(data.mode === 'custom');\n      this.mode = data.mode;\n    }\n\n    if (data.previousFilter) {\n      previousFilter = data.previousFilter;\n      this.isCustomFilterSubject.next([ColumnValueFilterOperator.LESS_EQUAL, ColumnValueFilterOperator.MORE_EQUAL, ColumnValueFilterOperator.BETWEEN, ColumnValueFilterOperator.EQUAL].indexOf(previousFilter.operator) !== -1);\n    }\n    if (data.hasOwnProperty('preloadValues')) {\n      this.preloadValues = data.preloadValues;\n    }\n    if (data.tableData && Array.isArray(data.tableData)) {\n      this.tableData = data.tableData;\n      this.getDistinctValues(data.tableData, previousFilter);\n      this.initializeCustomFilterValues(previousFilter);\n      this.initializeDataList(previousFilter);\n    }\n    if (data.mode) {\n      this.mode = data.mode;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.initializeFilterEvent();\n  }\n\n  get listData(): Observable<Array<TableFilterByColumnData>> {\n    return this._listData;\n  }\n\n  set listData(arg: Observable<Array<TableFilterByColumnData>>) {\n    this._listData = arg;\n  }\n\n  initializeDataList(filter?: OColumnValueFilter): void {\n    if (this.preloadValues || (filter && filter.operator === ColumnValueFilterOperator.IN)) {\n      this.listDataSubject.next(this.columnData.slice());\n    }\n  }\n\n  initializeFilterEvent() {\n    if (this.filter) {\n      const self = this;\n      fromEvent(this.filter.nativeElement, 'keyup')\n        .pipe(debounceTime(150))\n        .pipe(distinctUntilChanged())\n        .subscribe(() => {\n          let filterValue: string = self.filter.nativeElement.value;\n          filterValue = Util.normalizeString(filterValue);\n          if (filterValue.indexOf('*') !== -1) {\n            self.listDataSubject.next(self.columnData.filter(item => new RegExp('^' + Util.normalizeString(filterValue).split('*').join('.*') + '$').test(Util.normalizeString(item.renderedValue))));\n          } else {\n            self.listDataSubject.next(self.columnData.filter(item => (Util.normalizeString(item.renderedValue).indexOf(filterValue) !== -1)));\n          }\n        });\n    }\n  }\n\n  initializeCustomFilterValues(filter: OColumnValueFilter): void {\n    if (filter.operator !== ColumnValueFilterOperator.IN) {\n      if (ColumnValueFilterOperator.EQUAL === filter.operator) {\n        if (this.isTextType()) {\n          this.fcText.setValue(filter.values);\n        }\n      }\n      if (filter.operator === ColumnValueFilterOperator.BETWEEN) {\n        if (this.isDateType()) {\n          this.fcFrom.setValue(new Date(filter.values[0]));\n          this.fcTo.setValue(new Date(filter.values[1]));\n        } else {\n          this.fcFrom.setValue(filter.values[0]);\n          this.fcTo.setValue(filter.values[1]);\n        }\n      } else {\n        if (filter.operator === ColumnValueFilterOperator.MORE_EQUAL) {\n          if (this.isDateType()) {\n            this.fcFrom.setValue(new Date(filter.values));\n          } else {\n            this.fcFrom.setValue(filter.values);\n          }\n        }\n        if (filter.operator === ColumnValueFilterOperator.LESS_EQUAL) {\n          if (this.isDateType()) {\n            this.fcTo.setValue(new Date(filter.values));\n          } else {\n            this.fcTo.setValue(filter.values);\n          }\n        }\n      }\n    }\n  }\n\n  get selectedValues(): Array<TableFilterByColumnData> {\n    return this.filterValueList ? this.filterValueList.selectedOptions.selected : [];\n  }\n\n  areAllSelected(): boolean {\n    return this.selectedValues.length === this.columnData.length;\n  }\n\n  isIndeterminate(): boolean {\n    return this.selectedValues.length > 0 && this.selectedValues.length !== this.columnData.length;\n  }\n\n  onSelectAllChange(event: MatCheckboxChange) {\n    if (event.checked) {\n      this.filterValueList.selectAll();\n    } else {\n      this.filterValueList.deselectAll();\n    }\n  }\n\n  getDistinctValues(data: Array<any>, filter: OColumnValueFilter): void {\n    const colRenderedValues = this.getColumnDataUsingRenderer();\n    const colValues: any[] = data.map(elem => elem[this.column.attr]);\n\n    colRenderedValues.forEach((renderedValue, i) => {\n      if (!this.columnData.find(item => item.renderedValue === renderedValue)) {\n        this.columnData.push({\n          renderedValue: renderedValue,\n          value: colValues[i],\n          selected: filter.operator === ColumnValueFilterOperator.IN && (filter.values || []).indexOf(renderedValue) !== -1,\n          // storing the first index where this renderedValue is obtained. In the template of this component the column renderer will obtain the\n          // row value of this index\n          tableIndex: i\n        });\n      }\n    });\n  }\n\n  getColumnValuesFilter(): OColumnValueFilter {\n    const filter = {\n      attr: this.column.attr,\n      operator: undefined,\n      values: undefined\n    };\n\n    if (!this.isCustomFilterSubject.getValue()) {\n      if (this.selectedValues.length) {\n        filter.operator = ColumnValueFilterOperator.IN;\n        filter.values = this.selectedValues.map((item) => item.value);\n      }\n    } else {\n      if (this.fcText.value) {\n        filter.operator = ColumnValueFilterOperator.EQUAL;\n        filter.values = this.getTypedValue(this.fcText);\n      }\n      if (this.fcFrom.value && this.fcTo.value) {\n        filter.operator = ColumnValueFilterOperator.BETWEEN;\n        const fromValue = this.getTypedValue(this.fcFrom);\n        const toValue = this.getTypedValue(this.fcTo);\n        filter.values = fromValue <= toValue ? [fromValue, toValue] : [toValue, fromValue];\n      } else {\n        if (this.fcFrom.value) {\n          filter.operator = ColumnValueFilterOperator.MORE_EQUAL;\n          filter.values = this.getTypedValue(this.fcFrom);\n        }\n        if (this.fcTo.value) {\n          filter.operator = ColumnValueFilterOperator.LESS_EQUAL;\n          filter.values = this.getTypedValue(this.fcTo);\n        }\n      }\n    }\n    return filter;\n  }\n\n  onSlideChange(e: MatSlideToggleChange): void {\n    this.isCustomFilterSubject.next(e.checked);\n\n    if (!e.checked) {\n      // Selection mode\n      this.initializeDataList();\n      const self = this;\n      setTimeout(() => {\n        self.initializeFilterEvent();\n      }, 0);\n    }\n  }\n\n  isTextType(): boolean {\n    return !this.isNumericType() && !this.isDateType();\n  }\n\n  isNumericType(): boolean {\n    return ['integer', 'real', 'currency'].indexOf(this.column.type) !== -1;\n  }\n\n  isDateType(): boolean {\n    return 'date' === this.column.type;\n  }\n\n  getRowValue(i: number): any {\n    return this.tableData[i];\n  }\n\n  getFixedDimensionClass() {\n    return this.mode === 'selection' || this.mode === 'default';\n  }\n\n  protected getTypedValue(control: FormControl): any {\n    let value = control.value;\n    if (this.isNumericType()) {\n      value = control.value;\n    }\n    if (this.isDateType()) {\n      value = control.value.valueOf();\n    }\n    return value;\n  }\n\n  protected getColumnDataUsingRenderer() {\n    const useRenderer = this.column.renderer && this.column.renderer.getCellData;\n    return this.tableData.map((row) => useRenderer ? this.column.renderer.getCellData(row[this.column.attr], row) : row[this.column.attr]);\n  }\n}\n","import { OTablePaginator } from '../../../../../interfaces/o-table-paginator.interface';\n\nexport class OBaseTablePaginator implements OTablePaginator {\n\n  protected _pageIndex: number = 0;\n  protected _pageSize: number = 10;\n  protected _pageSizeOptions: Array<any>;\n  showFirstLastButtons: boolean = true;\n\n  constructor() {\n    this._pageIndex = 0;\n    this._pageSizeOptions = [10, 25, 50, 100];\n  }\n\n  get pageLenght(): number {\n    return this._pageSize;\n  }\n\n  set pageLenght(value: number) {\n    this._pageSize = value;\n  }\n\n  get pageIndex(): number {\n    return this._pageIndex;\n  }\n\n  set pageIndex(value: number) {\n    this._pageIndex = value;\n  }\n\n  get pageSize(): number {\n    return this._pageSize;\n  }\n\n  set pageSize(value: number) {\n    const parsedValue = parseInt(`${value}`, 10);\n    if (isNaN(parsedValue) || parsedValue < 0) {\n      this._pageSize = this._pageSizeOptions[0];\n    } else {\n      this._pageSize = parsedValue;\n    }\n    const result = this.pageSizeOptions.find(option => option === this._pageSize);\n    if (!result) {\n      this._pageSizeOptions.push(this._pageSize);\n      this._pageSizeOptions.sort((i: number, j: number) => i - j);\n    }\n  }\n\n  get pageSizeOptions(): Array<any> {\n    return this._pageSizeOptions;\n  }\n\n  set pageSizeOptions(value: Array<any>) {\n    this._pageSizeOptions = value;\n  }\n\n  public isShowingAllRows(selectedLength): boolean {\n    // return this._pageSizeOptions.indexOf(selectedLength) === (this._pageSizeOptions.length - 1);\n    // temporal while not having an option for showing all records in paginated tables\n    return false;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\n\nexport const DEFAULT_INPUTS_O_TABLE_OPTION = [\n  'oattr: attr',\n  'enabled',\n  'icon',\n  // show-active-icon [string][yes|no|true|false]: show icon when option is active. Default :no.\n  'showActiveIcon : show-active-icon',\n  'olabel: label',\n  'active'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_OPTION = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-table-option',\n  templateUrl: './o-table-option.component.html',\n  styleUrls: ['./o-table-option.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_OPTION,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_OPTION,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-option]': 'true',\n  }\n})\n\nexport class OTableOptionComponent {\n\n  public static O_TABLE_OPTION_ACTIVE_CLASS = 'o-table-option-active';\n\n  onClick: EventEmitter<object> = new EventEmitter<object>();\n\n  oattr: string;\n  @InputConverter()\n  enabled: boolean = true;\n  icon: string;\n  olabel: string;\n  @InputConverter()\n  showActiveIcon: boolean = false;\n  @InputConverter()\n  active: boolean = false;\n\n  cd: ChangeDetectorRef;\n\n  constructor(\n    protected injector: Injector,\n    public elRef: ElementRef\n  ) {\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n    } catch (e) {\n    }\n  }\n\n  innerOnClick() {\n    this.onClick.emit();\n    this.setActive(!this.active);\n  }\n\n  showActiveOptionIcon() {\n    return this.showActiveIcon && this.active;\n  }\n\n  setActive(val: boolean) {\n    this.active = val;\n    this.cd.detectChanges();\n  }\n\n}\n","import { DataSource } from '@angular/cdk/collections';\nimport { EventEmitter } from '@angular/core';\nimport { MatPaginator } from '@angular/material';\nimport { BehaviorSubject, merge, Observable, Subject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { OTableDataSource } from '../../../interfaces/o-table-datasource.interface';\nimport { OTableOptions } from '../../../interfaces/o-table-options.interface';\nimport { ColumnValueFilterOperator, OColumnValueFilter } from '../../../types/o-column-value-filter.type';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OColumn } from '../column/o-column.class';\nimport { OTableComponent } from '../o-table.component';\nimport { OTableDao } from './o-table.dao';\nimport { OMatSort } from './sort/o-mat-sort';\n\nexport const SCROLLVIRTUAL = 'scroll';\n\nexport interface ITableOScrollEvent {\n  type: string;\n  data: number;\n}\n\nexport class OTableScrollEvent implements ITableOScrollEvent {\n  public data: number;\n  public type: string;\n\n  constructor(data: number) {\n    this.data = data;\n    this.type = SCROLLVIRTUAL;\n  }\n}\n\nexport class DefaultOTableDataSource extends DataSource<any> implements OTableDataSource {\n  dataTotalsChange = new BehaviorSubject<any[]>([]);\n  get data(): any[] { return this.dataTotalsChange.value; }\n\n  protected _database: OTableDao;\n  protected _paginator: MatPaginator;\n  protected _tableOptions: OTableOptions;\n  protected _sort: OMatSort;\n\n  protected _quickFilterChange = new BehaviorSubject('');\n  protected _columnValueFilterChange = new Subject();\n  protected _loadDataScrollableChange = new BehaviorSubject<OTableScrollEvent>(new OTableScrollEvent(1));\n\n  protected filteredData: any[] = [];\n  protected aggregateData: any = {};\n\n  onRenderedDataChange: EventEmitter<any> = new EventEmitter<any>();\n\n  // load data in scroll\n  get loadDataScrollable(): number { return this._loadDataScrollableChange.getValue().data || 1; }\n  set loadDataScrollable(page: number) {\n    this._loadDataScrollableChange.next(new OTableScrollEvent(page));\n  }\n\n  protected _renderedData: any[] = [];\n  resultsLength: number = 0;\n\n  get quickFilter(): string { return this._quickFilterChange.value || ''; }\n  set quickFilter(filter: string) {\n    this._quickFilterChange.next(filter);\n  }\n\n  private columnValueFilters: Array<OColumnValueFilter> = [];\n\n  constructor(protected table: OTableComponent) {\n    super();\n    this._database = table.daoTable;\n    if (this._database) {\n      this.resultsLength = this._database.data.length;\n    }\n    if (table.paginator) {\n      this._paginator = table.matpaginator;\n    }\n    this._tableOptions = table.oTableOptions;\n    this._sort = table.sort;\n  }\n\n  sortFunction(a: any, b: any): number {\n    return this._sort.sortFunction(a, b);\n  }\n\n  get renderedData(): any[] {\n    return this._renderedData;\n  }\n\n  set renderedData(arg: any[]) {\n    this._renderedData = arg;\n    this.onRenderedDataChange.emit();\n  }\n\n  /**\n   * Connect function called by the table to retrieve one stream containing the data to render.\n   */\n  connect(): Observable<any[]> {\n    const displayDataChanges: any[] = [\n      this._database.dataChange\n    ];\n\n    if (!this.table.pageable) {\n\n      if (this._sort) {\n        displayDataChanges.push(this._sort.oSortChange);\n      }\n\n      if (this._tableOptions.filter) {\n        displayDataChanges.push(this._quickFilterChange);\n      }\n\n      if (this._paginator) {\n        displayDataChanges.push(this._paginator.page);\n      } else {\n        displayDataChanges.push(this._loadDataScrollableChange);\n      }\n    }\n\n    if (this.table.oTableColumnsFilterComponent) {\n      displayDataChanges.push(this._columnValueFilterChange);\n    }\n\n    return merge(...displayDataChanges).pipe(map((x: any) => {\n      let data = Object.assign([], this._database.data);\n      /*\n        it is necessary to first calculate the calculated columns and\n        then filter and sort the data\n      */\n      if (x instanceof OTableScrollEvent) {\n        this.renderedData = data.slice(0, (x.data * Codes.LIMIT_SCROLLVIRTUAL) - 1);\n      } else {\n        if (this.existsAnyCalculatedColumn()) {\n          data = this.getColumnCalculatedData(data);\n        }\n\n        if (!this.table.pageable) {\n          data = this.getColumnValueFilterData(data);\n          data = this.getQuickFilterData(data);\n          data = this.getSortedData(data);\n        }\n\n        this.filteredData = Object.assign([], data);\n\n        if (this.table.pageable) {\n          const totalRecordsNumber = this.table.getTotalRecordsNumber();\n          this.resultsLength = totalRecordsNumber !== undefined ? totalRecordsNumber : data.length;\n        } else {\n          this.resultsLength = data.length;\n          data = this.getPaginationData(data);\n        }\n\n        /** in pagination virtual only show OTableComponent.LIMIT items for better performance of the table */\n        if (!this.table.pageable && !this.table.paginationControls && data.length > Codes.LIMIT_SCROLLVIRTUAL) {\n          const datapaginate = data.slice(0, (this.table.pageScrollVirtual * Codes.LIMIT_SCROLLVIRTUAL) - 1);\n          data = datapaginate;\n        }\n\n        this.renderedData = data;\n        // If a o-table-column-aggregate exists then emit observable\n        // if (this.table.showTotals) {\n        //   this.dataTotalsChange.next(this.renderedData);\n        // }\n\n        this.aggregateData = this.getAggregatesData(data);\n      }\n      return this.renderedData;\n    }));\n  }\n\n  getAggregatesData(data: any[]): any {\n    const self = this;\n    const obj = {};\n\n    if (typeof this._tableOptions === 'undefined') {\n      return obj;\n    }\n\n    this._tableOptions.columns.forEach((column: OColumn) => {\n      let totalValue = '';\n      if (column.aggregate && column.visible) {\n        totalValue = self.calculateAggregate(data, column);\n      }\n      const key = column.attr;\n      obj[key] = totalValue;\n    });\n\n    return obj;\n  }\n\n  /**\n   * Method that get value the columns calculated\n   * @param data data of the database\n   */\n  getColumnCalculatedData(data: any[]): any[] {\n    const self = this;\n    const calculatedCols = this._tableOptions.columns.filter((oCol: OColumn) => oCol.visible && oCol.calculate !== undefined);\n    return data.map((row: any) => {\n      calculatedCols.forEach((oColumn: OColumn) => {\n        let value;\n        if (typeof oColumn.calculate === 'string') {\n          value = self.transformFormula(oColumn.calculate, row);\n        } else if (typeof oColumn.calculate === 'function') {\n          value = oColumn.calculate(row);\n        }\n        row[oColumn.attr] = isNaN(value) ? 0 : value;\n      });\n      return row;\n    });\n  }\n\n  protected transformFormula(formulaArg, row): string {\n    let formula = formulaArg;\n    // 1. replace columns by values of row\n    const columnsAttr = this._tableOptions.columns.map((oCol: OColumn) => oCol.attr);\n    columnsAttr.forEach((column: string) => {\n      formula = formula.replace(column, row[column]);\n    });\n\n    let resultFormula = '';\n    // 2. Transform formula\n    try {\n      resultFormula = (new Function('return ' + formula))();\n    } catch (e) {\n      console.error('Operation defined in the calculated column is incorrect ');\n    }\n    // 3. Return result\n    return resultFormula;\n  }\n\n  getQuickFilterData(data: any[]): any[] {\n    let filterData = this.quickFilter;\n    if (filterData !== undefined && filterData.length > 0) {\n      if (!this._tableOptions.filterCaseSensitive) {\n        filterData = filterData.toLowerCase();\n      }\n      return data.filter((item: any) => {\n        // Getting custom columns filter columns result\n        const passCustomFilter = this.fulfillsCustomFilterFunctions(filterData, item);\n        // Getting other searchable columns standard result\n        const passSearchString = this.fulfillsQuickfilter(filterData, item);\n        return passCustomFilter || passSearchString;\n      });\n    } else {\n      return data;\n    }\n  }\n\n  getPaginationData(data: any[]): any[] {\n    if (!this._paginator || isNaN(this._paginator.pageSize)) {\n      return data;\n    }\n    let startIndex = isNaN(this._paginator.pageSize) ? 0 : this._paginator.pageIndex * this._paginator.pageSize;\n    if (data.length > 0 && data.length < startIndex) {\n      startIndex = 0;\n      this._paginator.pageIndex = 0;\n    }\n    return data.splice(startIndex, this._paginator.pageSize);\n  }\n\n  disconnect() {\n    this.onRenderedDataChange.complete();\n    this.dataTotalsChange.complete();\n    this._quickFilterChange.complete();\n    this._columnValueFilterChange.complete();\n    this._loadDataScrollableChange.complete();\n  }\n\n  protected fulfillsCustomFilterFunctions(filter: string, item: any) {\n    const customFilterCols = this.table.oTableOptions.columns.filter(oCol => oCol.useCustomFilterFunction());\n    return customFilterCols.some(oCol => oCol.renderer.filterFunction(item[oCol.attr], item, filter));\n  }\n\n  protected fulfillsQuickfilter(filter: string, item: any): boolean {\n    const columns = this._tableOptions.columns.filter((oCol: OColumn) => oCol.useQuickfilterFunction());\n    let searchStr = columns.map((oCol: OColumn) => oCol.getFilterValue(item[oCol.attr], item).join(' ')).join(' ');\n    if (!this._tableOptions.filterCaseSensitive) {\n      searchStr = searchStr.toLowerCase();\n    }\n    return searchStr.indexOf(filter) !== -1;\n  }\n\n  /** Returns a sorted copy of the database data. */\n  protected getSortedData(data: any[]): any[] {\n    return this._sort.getSortedData(data);\n  }\n\n  /**\n   * Returns the data the table stores. No filters are applied.\n   */\n  getTableData(): any[] {\n    return this._database.data;\n  }\n\n  /** Return data of the visible columns of the table without rendering */\n  getCurrentData(): any[] {\n    return this.getData();\n  }\n\n  getCurrentAllData(): any[] {\n    return this.getAllData(false, false);\n  }\n\n  /** Return data of the visible columns of the table  rendering */\n  getCurrentRendererData(): any[] {\n    return this.getRenderedData(this.renderedData);\n  }\n\n  /** Return all data of the table rendering */\n  getAllRendererData(): any[] {\n    return this.getAllData(true, true);\n  }\n\n  /** Return sql types of the current data */\n  get sqlTypes(): any {\n    return this._database.sqlTypes;\n  }\n\n  protected getData() {\n    return this.renderedData;\n  }\n\n  public getRenderedData(data: any[]) {\n    const visibleColumns = this._tableOptions.columns.filter(oCol => oCol.visible);\n    return data.map((row) => {\n      const obj = {};\n      visibleColumns.forEach((oCol: OColumn) => {\n        const useRenderer = oCol.renderer && oCol.renderer.getCellData;\n        obj[oCol.attr] = useRenderer ? oCol.renderer.getCellData(row[oCol.attr], row) : row[oCol.attr];\n      });\n      return obj;\n    });\n  }\n\n  protected getAllData(usingRendererers?: boolean, onlyVisibleColumns?: boolean) {\n    let tableColumns = this._tableOptions.columns;\n    if (onlyVisibleColumns) {\n      tableColumns = this._tableOptions.columns.filter(oCol => oCol.visible);\n    }\n    return this.filteredData.map((row) => {\n      const obj = {};\n      tableColumns.forEach((oCol: OColumn) => {\n        const useRenderer = usingRendererers && oCol.renderer && oCol.renderer.getCellData;\n        obj[oCol.attr] = useRenderer ? oCol.renderer.getCellData(row[oCol.attr], row) : row[oCol.attr];\n      });\n      return obj;\n    });\n  }\n\n  private getRenderersData(data: any[], tableColumns: OColumn[]): any[] {\n    return data.map((row) => {\n      // render each column\n      const obj = Object.assign({}, row);\n      tableColumns.forEach((oCol: OColumn) => {\n        obj[oCol.attr] = oCol.renderer.getCellData(row[oCol.attr], row);\n      });\n      return obj;\n    });\n  }\n\n  public getColumnData(ocolumn: string) {\n    return this.renderedData.map((row) => {\n      // render each column\n      const obj = {};\n      if (ocolumn) {\n        obj[ocolumn] = row[ocolumn];\n      }\n      return obj;\n    });\n  }\n\n  initializeColumnsFilters(filters: OColumnValueFilter[]) {\n    this.columnValueFilters = [];\n    filters.forEach(filter => {\n      this.columnValueFilters.push(filter);\n    });\n    if (!this.table.pageable) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  isColumnValueFilterActive(): boolean {\n    return this.columnValueFilters.length !== 0;\n  }\n\n  getColumnValueFilters(): OColumnValueFilter[] {\n    return this.columnValueFilters;\n  }\n\n  getColumnValueFilterByAttr(attr: string): OColumnValueFilter {\n    return this.columnValueFilters.filter(item => item.attr === attr)[0];\n  }\n\n  clearColumnFilters(trigger: boolean = true) {\n    this.columnValueFilters = [];\n    if (trigger) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  addColumnFilter(filter: OColumnValueFilter) {\n    const existingFilter = this.getColumnValueFilterByAttr(filter.attr);\n    if (existingFilter) {\n      const idx = this.columnValueFilters.indexOf(existingFilter);\n      this.columnValueFilters.splice(idx, 1);\n    }\n\n    if (\n      (ColumnValueFilterOperator.IN === filter.operator && filter.values.length > 0) ||\n      (ColumnValueFilterOperator.EQUAL === filter.operator && filter.values) ||\n      (ColumnValueFilterOperator.BETWEEN === filter.operator && filter.values.length === 2) ||\n      ((ColumnValueFilterOperator.LESS_EQUAL === filter.operator || ColumnValueFilterOperator.MORE_EQUAL === filter.operator) && filter.values)\n    ) {\n      this.columnValueFilters.push(filter);\n    }\n\n    // If the table is paginated, filter will be applied on remote query\n    if (!this.table.pageable) {\n      this._columnValueFilterChange.next();\n    }\n  }\n\n  getColumnValueFilterData(data: any[]): any[] {\n    this.columnValueFilters.forEach(filter => {\n      const filterColumn = this.table.oTableOptions.columns.find(col => col.attr === filter.attr);\n      if (filterColumn) {\n        switch (filter.operator) {\n          case ColumnValueFilterOperator.IN:\n            data = data.filter((item: any) => {\n              if (filterColumn.renderer && filterColumn.renderer.filterFunction) {\n                return filterColumn.renderer.filterFunction(item[filter.attr], item);\n              } else {\n                const colValues = filterColumn.getFilterValue(item[filter.attr], item).map(f => Util.normalizeString(f));\n                const filterValues = filter.values.map(f => Util.normalizeString(f));\n                return filterValues.some(value => colValues.indexOf(value) !== -1);\n              }\n            });\n            break;\n          case ColumnValueFilterOperator.EQUAL:\n            const normalizedValue = Util.normalizeString(filter.values);\n            data = data.filter(item => {\n              const colValues = filterColumn.getFilterValue(item[filter.attr], item).map(f => Util.normalizeString(f));\n              let regExp;\n              if (normalizedValue.includes('*')) {\n                regExp = new RegExp('^' + normalizedValue.split('*').join('.*') + '$');\n              }\n              return colValues.some(colValue => regExp ? regExp.test(colValue) : colValue.includes(normalizedValue));\n            });\n            break;\n          case ColumnValueFilterOperator.BETWEEN:\n            data = data.filter(item => item[filter.attr] >= filter.values[0] && item[filter.attr] <= filter.values[1]);\n            break;\n          case ColumnValueFilterOperator.MORE_EQUAL:\n            data = data.filter(item => item[filter.attr] >= filter.values);\n            break;\n          case ColumnValueFilterOperator.LESS_EQUAL:\n            data = data.filter(item => item[filter.attr] <= filter.values);\n            break;\n        }\n      }\n    });\n    return data;\n  }\n\n  getAggregateData(column: OColumn) {\n    const obj = {};\n    let totalValue = '';\n\n    if (typeof this._tableOptions === 'undefined') {\n      return new Array(obj);\n    }\n    totalValue = this.aggregateData[column.attr];\n    return totalValue;\n  }\n\n  calculateAggregate(data: any[], column: OColumn): any {\n    let resultAggregate;\n    const operator = column.aggregate.operator;\n    if (typeof operator === 'string') {\n      switch (operator.toLowerCase()) {\n        case 'count':\n          resultAggregate = this.count(column.attr, data);\n          break;\n        case 'min':\n          resultAggregate = this.min(column.attr, data);\n          break;\n        case 'max':\n          resultAggregate = this.max(column.attr, data);\n          break;\n        case 'avg':\n          resultAggregate = this.avg(column.attr, data);\n          break;\n        default:\n          resultAggregate = this.sum(column.attr, data);\n          break;\n      }\n    } else {\n      const columnData: any[] = this.getColumnData(column.attr);\n      if (typeof operator === 'function') {\n        resultAggregate = operator(columnData);\n      }\n    }\n    return resultAggregate;\n  }\n\n  sum(column, data): number {\n    let value = 0;\n    if (data) {\n      value = data.reduce((acumulator, currentValue) => {\n        return acumulator + (isNaN(currentValue[column]) ? 0 : currentValue[column]);\n      }, value);\n    }\n    return value;\n  }\n\n  count(column, data): number {\n    let value = 0;\n    if (data) {\n      value = data.reduce((acumulator, currentValue, currentIndex) => {\n        return acumulator + 1;\n      }, 0);\n    }\n    return value;\n  }\n\n  avg(column, data): number {\n    return this.sum(column, data) / this.count(column, data);\n  }\n\n  min(column, data): number {\n    const tempMin = data.map(x => x[column]);\n    return Math.min(...tempMin);\n  }\n\n  max(column, data): number {\n    const tempMin = data.map(x => x[column]);\n    return Math.max(...tempMin);\n  }\n\n  protected existsAnyCalculatedColumn(): boolean {\n    return this._tableOptions.columns.find((oCol: OColumn) => oCol.calculate !== undefined) !== undefined;\n  }\n\n  updateRenderedRowData(rowData: any) {\n    const tableKeys = this.table.getKeys();\n    const record = this.renderedData.find((data: any) => {\n      let found = true;\n      for (let i = 0, len = tableKeys.length; i < len; i++) {\n        const key = tableKeys[i];\n        if (data[key] !== rowData[key]) {\n          found = false;\n          break;\n        }\n      }\n      return found;\n    });\n    if (Util.isDefined(record)) {\n      Object.assign(record, rowData);\n    }\n  }\n}\n\n\n\n","import { Injectable } from '@angular/core';\n\nimport { OTableComponent } from '../o-table.component';\nimport { DefaultOTableDataSource } from './default-o-table.datasource';\n\n@Injectable()\nexport class OTableDataSourceService {\n\n  constructor() { }\n\n  getInstance(table: OTableComponent) {\n    return new DefaultOTableDataSource(table);\n  }\n}\n","import { OTableConfiguration } from '../../../types/o-table-configuration.type';\nimport { OTableFiltersStatus } from '../../../types/o-table-filter-status.type';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OColumn } from '../column/o-column.class';\nimport { OTableComponent } from '../o-table.component';\n\nexport class OTableStorage {\n\n  public static STORED_FILTER_KEY = 'stored-filter';\n  public static USER_STORED_FILTERS_KEY = 'user-stored-filters';\n\n  public static STORED_CONFIGURATION_KEY = 'stored-configuration';\n  public static STORED_PROPERTIES_KEY = 'stored-properties';\n  public static STORED_CONFIGURATIONS_KEY = 'user-stored-configurations';\n\n  constructor(\n    protected table: OTableComponent\n  ) { }\n\n  getDataToStore() {\n    const dataToStore = {\n      filter: this.table.oTableQuickFilterComponent ? this.table.oTableQuickFilterComponent.value : ''\n    };\n\n    const properties = ['sort', 'columns-display', 'columns-filter', 'quick-filter', 'page', 'selection', 'initial-configuration'];\n\n    Object.assign(dataToStore, this.getTablePropertiesToStore(properties));\n\n    const storedFiltersArr = this.getStoredFilters();\n    if (storedFiltersArr.length > 0) {\n      dataToStore[OTableStorage.USER_STORED_FILTERS_KEY] = storedFiltersArr;\n    }\n    const storedConfigurationsArr = this.getStoredConfigurations();\n    if (storedConfigurationsArr.length > 0) {\n      dataToStore[OTableStorage.STORED_CONFIGURATIONS_KEY] = storedConfigurationsArr;\n    }\n\n    return dataToStore;\n  }\n\n  getTablePropertiesToStore(properties: string[]) {\n    const result = {};\n    properties.forEach(prop => {\n      Object.assign(result, this.getTablePropertyToStore(prop));\n    });\n    return result;\n  }\n\n  getTablePropertyToStore(property: string) {\n    let result = {};\n    switch (property) {\n      case 'sort':\n        result = this.getSortState();\n        break;\n      case 'columns-display':\n        result = this.getColumnsDisplayState();\n        break;\n      case 'quick-filter':\n        result = this.getColumnsQuickFilterState();\n        break;\n      case 'columns-filter':\n        result = this.getColumnFiltersState();\n        break;\n      case 'page':\n        result = this.getPageState();\n        break;\n      case 'selection':\n        result = this.getSelectionState();\n        break;\n      case 'initial-configuration':\n        result = this.getInitialConfigurationState();\n        break;\n    }\n    return result;\n  }\n\n  reset() {\n    const state: any = {};\n    state[OTableStorage.USER_STORED_FILTERS_KEY] = this.table.state[OTableStorage.USER_STORED_FILTERS_KEY];\n    state[OTableStorage.STORED_CONFIGURATIONS_KEY] = this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY];\n    if (this.table.pageable) {\n      state.totalQueryRecordsNumber = this.table.state.totalQueryRecordsNumber;\n    }\n    state.currentPage = 0;\n    this.table.state = state;\n  }\n\n  protected getSortState() {\n    const result = {};\n    const sortColumnsArray = this.table.sort.getSortColumns();\n    if (sortColumnsArray.length > 0) {\n      const sortColumns = [];\n      sortColumnsArray.forEach(sortData => {\n        sortColumns.push(sortData.id + Codes.COLUMNS_ALIAS_SEPARATOR + sortData.direction);\n      });\n      result['sort-columns'] = sortColumns.join(Codes.ARRAY_INPUT_SEPARATOR);\n    }\n    return result;\n  }\n\n  protected getColumnFiltersState() {\n    const result = {};\n    if (this.table.oTableColumnsFilterComponent) {\n      const columnValueFilters = this.table.dataSource.getColumnValueFilters();\n      if (columnValueFilters.length > 0) {\n        result['column-value-filters'] = columnValueFilters;\n      }\n    }\n    return result;\n  }\n\n  protected getColumnsDisplayState() {\n    const result = {};\n    const oColumnsData = [];\n    this.table.oTableOptions.columns.forEach((oCol: OColumn) => {\n      oColumnsData.push({\n        attr: oCol.attr,\n        visible: oCol.visible,\n        width: oCol.getWidthToStore()\n      });\n    });\n    result['oColumns-display'] = oColumnsData;\n    result['select-column-visible'] = this.table.oTableOptions.selectColumn.visible;\n    return result;\n  }\n\n  protected getColumnsQuickFilterState() {\n    const result: any = {};\n    const tableOptions = this.table.oTableOptions;\n    const oColumnsData = [];\n    tableOptions.columns.forEach((oCol: OColumn) => {\n      oColumnsData.push({\n        attr: oCol.attr,\n        searchable: oCol.searchable,\n        searching: oCol.searching\n      });\n    });\n    result.oColumns = oColumnsData;\n    result['filter-case-sensitive'] = tableOptions.filterCaseSensitive;\n    return result;\n  }\n\n  protected getPageState(): any {\n    const result: any = {\n      'query-rows': this.table.matpaginator ? this.table.matpaginator.pageSize : ''\n    };\n    if (this.table.currentPage > 0 && this.table.storePaginationState) {\n      result.currentPage = this.table.currentPage;\n    }\n    if (this.table.pageable && this.table.storePaginationState) {\n      const state = this.table.state;\n      result.totalQueryRecordsNumber = state.totalQueryRecordsNumber;\n      result.queryRecordOffset = Math.max(\n        (state.queryRecordOffset - this.table.dataSource.renderedData.length),\n        (state.queryRecordOffset - this.table.queryRows)\n      );\n    }\n    return result;\n  }\n\n  protected getSelectionState(): any {\n    const result: any = {\n      selection: []\n    };\n    if (this.table && this.table.keepSelectedItems) {\n      // storing selected items keys values\n      const selection = [];\n      this.table.getSelectedItems().forEach(item => {\n        const data = {};\n        this.table.getKeys().forEach(key => {\n          data[key] = item[key];\n        });\n        selection.push(data);\n      });\n      result.selection = selection;\n    }\n    return result;\n  }\n\n  protected getInitialConfigurationState(): any {\n    let result = {};\n    let initialConfiguration = {};\n\n    let oColumnsData = [];\n    const self = this;\n    Util.parseArray(this.table.visibleColumns, true).forEach((x: string) => {\n      let oCol = self.table.getOColumn(x);\n      oColumnsData.push({\n        attr: oCol.attr,\n        visible: true,\n        width: oCol.definition ? oCol.definition.originalWidth : undefined\n      });\n    });\n\n    initialConfiguration['oColumns-display'] = oColumnsData;\n    initialConfiguration['sort-columns'] = this.table.sortColumns;\n    initialConfiguration['select-column-visible'] = this.table.oTableOptions.selectColumn.visible;\n    initialConfiguration['filter-case-sensitive'] = this.table.filterCaseSensitive;\n    initialConfiguration['query-rows'] = this.table.originalQueryRows;\n\n    result['initial-configuration'] = initialConfiguration;\n\n    return result;\n  }\n\n  setStoredFilters(filters: Array<OTableFiltersStatus>) {\n    return this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = filters;\n  }\n\n  getStoredFilters() {\n    return this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] || [];\n  }\n\n  getStoredFilter(filterName: string) {\n    return this.getStoredFilters().find((item: OTableFiltersStatus) => item.name === filterName);\n  }\n\n  getStoredFilterConf(filterName: string) {\n    return (this.getStoredFilter(filterName) || {})[OTableStorage.STORED_FILTER_KEY];\n  }\n\n  deleteStoredFilter(filterName: string) {\n    const storedFilters = this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] || [];\n    const index = storedFilters.findIndex((item: OTableFiltersStatus) => item.name === filterName);\n    if (index >= 0) {\n      storedFilters.splice(index, 1);\n      this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = storedFilters;\n    }\n  }\n\n  storeFilter(filterArgs: OTableFiltersStatus) {\n    const result = {};\n    const storedFilter = {};\n    Object.assign(storedFilter, this.getColumnFiltersState());\n    Object.assign(storedFilter, this.getColumnsQuickFilterState());\n\n    result[OTableStorage.STORED_FILTER_KEY] = storedFilter;\n    Object.assign(result, filterArgs);\n    const existingFilters = this.getStoredFilters();\n    existingFilters.push(result);\n    this.table.state[OTableStorage.USER_STORED_FILTERS_KEY] = existingFilters;\n  }\n\n  getStoredColumnsFilters(arg?: any) {\n    const stateObj = arg || this.table.state;\n    return stateObj['column-value-filters'] || [];\n  }\n\n  getStoredConfigurations() {\n    return this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] || [];\n  }\n\n  getStoredConfiguration(configurationName: string) {\n    return this.getStoredConfigurations().find((item: OTableConfiguration) => item.name === configurationName);\n  }\n\n  storeConfiguration(configurationAgs: OTableConfiguration, tableProperties: any[]) {\n    const result = {};\n    this.table.storePaginationState = true;\n    const storedConfiguration = this.getTablePropertiesToStore(tableProperties);\n    this.table.storePaginationState = false;\n\n    result[OTableStorage.STORED_CONFIGURATION_KEY] = storedConfiguration;\n    Object.assign(result, configurationAgs);\n    result[OTableStorage.STORED_PROPERTIES_KEY] = tableProperties;\n    const existingConfigurations = this.getStoredConfigurations();\n    existingConfigurations.push(result);\n    this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] = existingConfigurations;\n  }\n\n  deleteStoredConfiguration(configurationName: string) {\n    const storedConfigurations = this.getStoredConfigurations();\n    const index = storedConfigurations.findIndex((item: OTableConfiguration) => item.name === configurationName);\n    if (index >= 0) {\n      storedConfigurations.splice(index, 1);\n      this.table.state[OTableStorage.STORED_CONFIGURATIONS_KEY] = storedConfigurations;\n    }\n  }\n\n}\n","import { BehaviorSubject, merge, Observable, of } from 'rxjs';\n\nimport { OQueryDataArgs } from '../../../types/query-data-args.type';\n\n\nexport class OTableDao {\n\n  usingStaticData: boolean = false;\n\n  protected loadingTimer;\n  protected _isLoadingResults: boolean = false;\n\n  /** Stream that emits whenever the data has been modified. */\n  dataChange = new BehaviorSubject<any[]>([]);\n  sqlTypesChange = new BehaviorSubject<object>({});\n  get data(): any[] { return this.dataChange.value; }\n  get sqlTypes(): object { return this.sqlTypesChange.value; }\n\n  constructor(\n    private dataService: any,\n    private entity: string,\n    private methods: any\n  ) { }\n\n  /**\n   * Call the service query and emit data has ben modified\n   */\n  getQuery(queryArgs: OQueryDataArgs): Observable<any> {\n    this.isLoadingResults = true;\n    return this.dataService[this.methods.query].apply(this.dataService, queryArgs);\n  }\n\n  removeQuery(filters: any): Observable<any> {\n    return merge(...filters.map((kv => this.dataService[this.methods.delete](kv, this.entity))));\n  }\n\n  insertQuery(av: object, sqlTypes?: object): Observable<any> {\n    if (this.usingStaticData) {\n      this.data.push(av);\n      return of(this.data);\n    } else {\n      return this.dataService[this.methods.insert](av, this.entity, sqlTypes);\n    }\n  }\n\n  updateQuery(kv: object, av: object, sqlTypes?: object): Observable<any> {\n    if (this.usingStaticData) {\n      return of(this.data);\n    } else {\n      return this.dataService[this.methods.update](kv, av, this.entity, sqlTypes);\n    }\n  }\n\n  /**\n   * Set data array and emit data has ben modified\n   * @param data\n   */\n  setDataArray(data: Array<any>) {\n    this.dataChange.next(data);\n    this.isLoadingResults = false;\n    return of(data);\n  }\n\n  setAsynchronousColumn(value: Array<any>, rowData: any) {\n    // Object.assign(this.data[rowIndex], value);\n    let index = null;\n    for (let i = 0; i < this.data.length; i++) {\n      if (this.data[i] === rowData) {\n        index = i;\n        break;\n      }\n    }\n    if (index !== null) {\n      Object.assign(this.data[index], value);\n    }\n  }\n\n  get isLoadingResults(): boolean {\n    return this._isLoadingResults;\n  }\n\n  set isLoadingResults(val: boolean) {\n    if (val) {\n      this.cleanTimer();\n      this.loadingTimer = setTimeout(() => {\n        this._isLoadingResults = val;\n      }, 500);\n    } else {\n      this.cleanTimer();\n      this._isLoadingResults = val;\n    }\n  }\n\n  protected cleanTimer() {\n    if (this.loadingTimer) {\n      clearTimeout(this.loadingTimer);\n    }\n  }\n\n}\n","import { Directive, EventEmitter, Output } from '@angular/core';\nimport { MatSort, MatSortable } from '@angular/material';\n\nimport { SQLOrder } from '../../../../types/sql-order.type';\nimport { Codes } from '../../../../util/codes';\nimport { Util } from '../../../../util/util';\n\nexport type OMatSortGroupedData = {\n  key: any;\n  values: any[];\n};\n\n@Directive({\n  selector: '[oMatSort]',\n  exportAs: 'oMatSort',\n  inputs: ['disabled: oMatSortDisabled']\n})\nexport class OMatSort extends MatSort {\n\n  activeArray: Array<MatSortable> = [];\n  directionById: any = {};\n\n  protected multipleSort: boolean;\n  protected activeSortColumn: string;\n  protected activeSortDirection: string;\n\n  @Output('matSortChange') readonly oSortChange: EventEmitter<any> = new EventEmitter<any>();\n\n  setMultipleSort(val: boolean) {\n    this.multipleSort = val;\n  }\n\n  getSortColumns(): any[] {\n    const activeData = [];\n    this.activeArray.forEach((s: MatSortable) => {\n      activeData.push({\n        id: s.id,\n        direction: this.directionById[s.id]\n      });\n    });\n    return activeData;\n  }\n\n  setTableInfo(sortColArray: Array<SQLOrder>) {\n    sortColArray.forEach((colData: SQLOrder) => {\n      const sortDirection: any = colData.ascendent ? Codes.ASC_SORT : Codes.DESC_SORT;\n      this.activeArray.push({\n        id: colData.columnName,\n        start: sortDirection,\n        disableClear: false\n      });\n      this.directionById[colData.columnName] = sortDirection;\n    });\n  }\n\n  addSortColumn(sortable: MatSortable): void {\n    if (this.isActive(sortable)) {\n      // workaround for having a propper work in getNextSortDirection;\n      this.direction = this.directionById[sortable.id];\n      this.directionById[sortable.id] = this.getNextSortDirection(sortable);\n      this.direction = '';\n      if (this.directionById[sortable.id] === '') {\n        this.deleteSortColumn(sortable.id);\n      }\n    } else {\n      if (!this.multipleSort) {\n        this.activeArray = [];\n        this.directionById = {};\n      }\n      this.activeArray.push(sortable);\n      this.directionById[sortable.id] = sortable.start ? sortable.start : this.start;\n    }\n    const activeData = this.getSortColumns();\n    this._stateChanges.next();\n    this.oSortChange.emit(activeData);\n  }\n\n  protected deleteSortColumn(id: string) {\n    delete this.directionById[id];\n    for (let i = 0, len = this.activeArray.length; i < len; i++) {\n      if (this.activeArray[i].id === id) {\n        this.activeArray.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  isActive(sortable: MatSortable): boolean {\n    return Util.isDefined(this.activeArray.find((s: MatSortable) => sortable.id === s.id));\n  }\n\n  hasDirection(id: any): boolean {\n    let direction;\n    if (Util.isDefined(this.directionById[id])) {\n      direction = this.directionById[id];\n    }\n    return (direction === 'asc' || direction === 'desc');\n  }\n\n  getSortedData(data: any[]): any[] {\n    const sortColumns = this.getSortColumns();\n    if (sortColumns.length === 0 || data.length === 0) {\n      return data;\n    }\n    this.sortables.forEach((value, key) => {\n      this.deregister(value);\n    });\n    return this.sortByColumns(data, sortColumns);\n  }\n\n  protected sortByColumns(data: any[], sortColumns: any[]) {\n    const sortFunctionBind = this.sortFunction.bind(this);\n    for (let i = 0, len = sortColumns.length; i < len; i++) {\n      const sortC = sortColumns[i];\n      this.activeSortColumn = sortC.id;\n      this.activeSortDirection = sortC.direction;\n      if (i === 0) {\n        data = data.sort(sortFunctionBind);\n      } else {\n        const groupedData: OMatSortGroupedData[] = this.getDataGrouped(data, sortColumns, i);\n        if (groupedData.length >= data.length) {\n          break;\n        }\n        data = this.sortGroupedData(groupedData);\n      }\n    }\n    return data;\n  }\n\n  protected getDataGrouped(data: any, sortColumns: any[], index: number): OMatSortGroupedData[] {\n    const propArr = [];\n    sortColumns.forEach((item, i) => {\n      if (i < index) {\n        propArr.push(item.id);\n      }\n    });\n    if (propArr.length === 0) {\n      return data;\n    }\n    const result: OMatSortGroupedData[] = [];\n    data.forEach(item => {\n      let value = '';\n      propArr.forEach(prop => {\n        value += item[prop];\n      });\n\n      const filtered = result.filter(resItem => resItem.key === value);\n      if (filtered.length === 0) {\n        result.push({\n          key: value,\n          values: [item]\n        });\n      } else if (filtered.length === 1) {\n        filtered[0].values.push(item);\n      }\n    });\n    return result;\n  }\n\n  protected sortGroupedData(groupedData: OMatSortGroupedData[]): any[] {\n    const self = this;\n    return groupedData.reduce((obj: any, item: any) => {\n      const arr = item.values;\n      const sorted = arr.length <= 1 ? arr : arr.sort(self.sortFunction.bind(self));\n      obj.push(...sorted);\n      return obj;\n    }, []);\n  }\n\n  sortFunction(a: any, b: any): number {\n    let propertyA: number | string = '';\n    let propertyB: number | string = '';\n    [propertyA, propertyB] = [a[this.activeSortColumn], b[this.activeSortColumn]];\n\n    const valueA = typeof propertyA === 'undefined' ? '' : propertyA === '' ? propertyA : isNaN(+propertyA) ? propertyA.toString().trim().toLowerCase() : +propertyA;\n    const valueB = typeof propertyB === 'undefined' ? '' : propertyB === '' ? propertyB : isNaN(+propertyB) ? propertyB.toString().trim().toLowerCase() : +propertyB;\n    return (valueA <= valueB ? -1 : 1) * (this.activeSortDirection === 'asc' ? 1 : -1);\n  }\n\n}\n","import { CdkColumnDef } from '@angular/cdk/table';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Optional, ViewEncapsulation } from '@angular/core';\nimport { ArrowViewStateTransition, matSortAnimations, MatSortHeader, MatSortHeaderIntl } from '@angular/material';\n\nimport { OMatSort } from './o-mat-sort';\n\n@Component({\n  selector: '[o-mat-sort-header]',\n  exportAs: 'oMatSortHeader',\n  templateUrl: './sort-header.html',\n  styleUrls: ['./sort-header.scss'],\n  host: {\n    '(click)': '_handleClick()',\n    '(mouseenter)': '_setIndicatorHintVisible(true)',\n    '(longpress)': '_setIndicatorHintVisible(true)',\n    '(mouseleave)': '_setIndicatorHintVisible(false)',\n    '[attr.aria-sort]': '_getAriaSortAttribute()',\n    '[class.mat-sort-header-disabled]': '_isDisabled()',\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: ['disabled'],\n  animations: [\n    matSortAnimations.indicator,\n    matSortAnimations.leftPointer,\n    matSortAnimations.rightPointer,\n    matSortAnimations.arrowOpacity,\n    matSortAnimations.arrowPosition,\n    matSortAnimations.allowChildren,\n  ]\n})\n// tslint:disable-next-line: component-class-suffix\nexport class OMatSortHeader extends MatSortHeader {\n\n  constructor(public _intl: MatSortHeaderIntl,\n    changeDetectorRef: ChangeDetectorRef,\n    @Optional() public _sort: OMatSort,\n    @Optional() public _cdkColumnDef: CdkColumnDef) {\n\n    super(_intl, changeDetectorRef, _sort, _cdkColumnDef);\n  }\n\n  _handleClick() {\n    if (this._isDisabled()) { return; }\n\n    this._sort.addSortColumn(this);\n\n    // Do not show the animation if the header was already shown in the right position.\n    if (this._viewState.toState === 'hint' || this._viewState.toState === 'active') {\n      this._disableViewStateAnimation = true;\n    }\n\n    // If the arrow is now sorted, animate the arrow into place. Otherwise, animate it away into\n    // the direction it is facing.\n    const viewState: ArrowViewStateTransition = this._isSorted() ?\n      { fromState: this._arrowDirection, toState: 'active' } :\n      { fromState: 'active', toState: this._arrowDirection };\n    this._setAnimationTransitionState(viewState);\n\n    this._showIndicatorHint = false;\n  }\n\n  _isSorted() {\n    return this._sort.isActive(this) && this._sort.hasDirection(this.id);\n  }\n\n  _updateArrowDirection() {\n    this._arrowDirection = this._isSorted() ?\n      this._sort.directionById[this.id] :\n      (this.start || this._sort.start);\n  }\n\n  refresh() {\n    if (this._sort.isActive(this)) {\n      this._setAnimationTransitionState({\n        fromState: this._sort.directionById[this.id],\n        toState: 'active'\n      });\n      this._showIndicatorHint = false;\n    } else {\n      this._viewState.toState = 'active';\n      this._intl.changes.next();\n    }\n  }\n}\n","import { SelectionChange } from '@angular/cdk/collections';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  Optional,\n  QueryList,\n  TemplateRef,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation,\n  ViewRef\n} from '@angular/core';\nimport { MatCheckboxChange, MatDialog, MatMenu, MatPaginator, MatTab, MatTabGroup, PageEvent } from '@angular/material';\nimport { BehaviorSubject, combineLatest, Observable, of, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { BooleanConverter, InputConverter } from '../../decorators/input-converter';\nimport { ServiceResponse } from '../../interfaces';\nimport { IOContextMenuContext } from '../../interfaces/o-context-menu.interface';\nimport { OTableButton } from '../../interfaces/o-table-button.interface';\nimport { OTableButtons } from '../../interfaces/o-table-buttons.interface';\nimport { OTableDataSource } from '../../interfaces/o-table-datasource.interface';\nimport { OTableMenu } from '../../interfaces/o-table-menu.interface';\nimport { OTableOptions } from '../../interfaces/o-table-options.interface';\nimport { OTablePaginator } from '../../interfaces/o-table-paginator.interface';\nimport { OTableQuickfilter } from '../../interfaces/o-table-quickfilter.interface';\nimport { OntimizeServiceProvider } from '../../services/factories';\nimport { SnackBarService } from '../../services/snackbar.service';\nimport { Expression } from '../../types/expression.type';\nimport { OColumnAggregate } from '../../types/o-column-aggregate.type';\nimport { ColumnValueFilterOperator, OColumnValueFilter } from '../../types/o-column-value-filter.type';\nimport { OPermissions } from '../../types/o-permissions.type';\nimport { OTableInitializationOptions } from '../../types/o-table-initialization-options.type';\nimport { OTableMenuPermissions } from '../../types/o-table-menu-permissions.type';\nimport { OTablePermissions } from '../../types/o-table-permissions.type';\nimport { OQueryDataArgs } from '../../types/query-data-args.type';\nimport { QuickFilterFunction } from '../../types/quick-filter-function.type';\nimport { SQLOrder } from '../../types/sql-order.type';\nimport { ObservableWrapper } from '../../util/async';\nimport { Codes } from '../../util/codes';\nimport { FilterExpressionUtils } from '../../util/filter-expression.utils';\nimport { PermissionsUtils } from '../../util/permissions';\nimport { ServiceUtils } from '../../util/service.utils';\nimport { SQLTypes } from '../../util/sqltypes';\nimport { Util } from '../../util/util';\nimport { OContextMenuComponent } from '../contextmenu/o-context-menu.component';\nimport { OFormComponent } from '../form/o-form.component';\nimport { DEFAULT_INPUTS_O_SERVICE_COMPONENT, OServiceComponent } from '../o-service-component.class';\nimport { OTableColumnCalculatedComponent } from './column/calculated/o-table-column-calculated.component';\nimport { OColumn } from './column/o-column.class';\nimport { OTableColumnComponent } from './column/o-table-column.component';\nimport { DefaultOTableOptions } from './extensions/default-o-table-options.class';\nimport {\n  OTableFilterByColumnDataDialogComponent\n} from './extensions/dialog/filter-by-column/o-table-filter-by-column-data-dialog.component';\nimport { OBaseTablePaginator } from './extensions/footer/paginator/o-base-table-paginator.class';\nimport { OTableColumnsFilterComponent } from './extensions/header/table-columns-filter/o-table-columns-filter.component';\nimport { OTableInsertableRowComponent } from './extensions/header/table-insertable-row/o-table-insertable-row.component';\nimport { OTableOptionComponent } from './extensions/header/table-option/o-table-option.component';\nimport { OTableDataSourceService } from './extensions/o-table-datasource.service';\nimport { OTableStorage } from './extensions/o-table-storage.class';\nimport { OTableDao } from './extensions/o-table.dao';\nimport { OMatSort } from './extensions/sort/o-mat-sort';\nimport { OMatSortHeader } from './extensions/sort/o-mat-sort-header';\n\nexport const DEFAULT_INPUTS_O_TABLE = [\n  ...DEFAULT_INPUTS_O_SERVICE_COMPONENT,\n\n  // visible-columns [string]: visible columns, separated by ';'. Default: no value.\n  'visibleColumns: visible-columns',\n\n  // editable-columns [string]: columns that can be edited directly over the table, separated by ';'. Default: no value.\n  // 'editableColumns: editable-columns',\n\n  // sort-columns [string]: initial sorting, with the format column:[ASC|DESC], separated by ';'. Default: no value.\n  'sortColumns: sort-columns',\n\n  'quickFilterCallback: quick-filter-function',\n\n  // delete-button [no|yes]: show delete button. Default: yes.\n  'deleteButton: delete-button',\n\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n\n  // columns-visibility-button [no|yes]: show columns visibility button. Default: yes.\n  'columnsVisibilityButton: columns-visibility-button',\n\n  // // columns-resize-button [no|yes]: show columns resize button. Default: yes.\n  // 'columnsResizeButton: columns-resize-button',\n\n  // // columns-group-button [no|yes]: show columns group button. Default: yes.\n  // 'columnsGroupButton: columns-group-button',\n\n  // export-button [no|yes]: show export button. Default: yes.\n  'exportButton: export-button',\n\n  // show-configuration-option [yes|no|true|false]: show configuration button in header. Default: yes.\n  'showConfigurationOption: show-configuration-option',\n\n  // show-buttons-text [yes|no|true|false]: show text of header buttons. Default: yes.\n  'showButtonsText: show-buttons-text',\n\n  // select-all-checkbox [yes|no|true|false]:  show in the menu the option of selection check boxes . Default: no.\n  'selectAllCheckbox: select-all-checkbox',\n\n  // pagination-controls [yes|no|true|false]: show pagination controls. Default: yes.\n  'paginationControls: pagination-controls',\n\n  // fix-header [yes|no|true|false]: fixed header and footer when the content is greather than its own height. Default: no.\n  'fixedHeader: fixed-header',\n\n  // show-title [yes|no|true|false]: show the table title. Default: no.\n  'showTitle: show-title',\n\n  // edition-mode [none | inline | click | dblclick]: edition mode. Default none\n  'editionMode: edition-mode',\n\n  // selection-mode [none | simple | multiple ]: selection mode. Default multiple\n  'selectionMode: selection-mode',\n\n  'horizontalScroll: horizontal-scroll',\n\n  'showPaginatorFirstLastButtons: show-paginator-first-last-buttons',\n\n  'autoAlignTitles: auto-align-titles',\n\n  'multipleSort: multiple-sort',\n  // select-all-checkbox-visible [yes|no|true|false]: show selection check boxes.Default: no.\n  'selectAllCheckboxVisible: select-all-checkbox-visible',\n\n  'orderable',\n\n  'resizable',\n\n  // enabled [yes|no|true|false]: enables de table. Default: yes\n  'enabled',\n\n  'keepSelectedItems: keep-selected-items',\n\n  // export-mode ['visible'|'local'|'all']: sets the mode to export data. Default: 'visible'\n  'exportMode: export-mode',\n\n  // exportServiceType [ string ]: The service used by the table for exporting it's data, it must implement 'IExportService' interface. Default: 'OntimizeExportService'\n  'exportServiceType: export-service-type',\n\n  // auto-adjust [true|false]: Auto adjust column width to fit its content. Default: true\n  'autoAdjust: auto-adjust',\n\n  // show-filter-option [yes|no|true|false]: show filter menu option in the header menu. Default: yes.\n  'showFilterOption: show-filter-option',\n\n  // visible-export-dialog-buttons [string]: visible buttons in export dialog, separated by ';'. Default/no configured: show all. Empty value: hide all.\n  'visibleExportDialogButtons: visible-export-dialog-buttons',\n\n  // row-class [function, (rowData: any, rowIndex: number) => string | string[]]: adds the class or classes returned by the provided function to the table rows.\n  'rowClass: row-class'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE = [\n  'onClick',\n  'onDoubleClick',\n  'onRowSelected',\n  'onRowDeselected',\n  'onRowDeleted',\n  'onDataLoaded',\n  'onPaginatedDataLoaded'\n];\n\n@Component({\n  selector: 'o-table',\n  templateUrl: './o-table.component.html',\n  styleUrls: ['./o-table.component.scss'],\n  providers: [\n    OntimizeServiceProvider,\n    OTableDataSourceService\n  ],\n  inputs: DEFAULT_INPUTS_O_TABLE,\n  outputs: DEFAULT_OUTPUTS_O_TABLE,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table]': 'true',\n    '[class.ontimize-table]': 'true',\n    '[class.o-table-fixed]': 'fixedHeader',\n    '[class.o-table-disabled]': '!enabled',\n    '(document:click)': 'handleDOMClick($event)'\n  }\n})\nexport class OTableComponent extends OServiceComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  public static DEFAULT_BASE_SIZE_SPINNER = 100;\n  public static FIRST_LAST_CELL_PADDING = 24;\n\n  protected snackBarService: SnackBarService;\n\n  public paginator: OTablePaginator;\n  @ViewChild(MatPaginator, { static: false }) matpaginator: MatPaginator;\n  @ViewChild(OMatSort, { static: true }) sort: OMatSort;\n\n  // only for insideTabBugWorkaround\n  @ViewChildren(OMatSortHeader) protected sortHeaders: QueryList<OMatSortHeader>;\n\n  @ViewChild('spinnerContainer', { read: ElementRef, static: false })\n  spinnerContainer: ElementRef;\n  get diameterSpinner() {\n    const minHeight = OTableComponent.DEFAULT_BASE_SIZE_SPINNER;\n    let height = 0;\n    if (this.spinnerContainer && this.spinnerContainer.nativeElement) {\n      height = this.spinnerContainer.nativeElement.offsetHeight;\n    }\n    if (height > 0 && height <= 100) {\n      return Math.floor(height - (height * 0.1));\n    } else {\n      return minHeight;\n    }\n  }\n\n  public tableContextMenu: OContextMenuComponent;\n\n  @InputConverter()\n  selectAllCheckbox: boolean = false;\n  @InputConverter()\n  exportButton: boolean = true;\n  @InputConverter()\n  showConfigurationOption: boolean = true;\n  @InputConverter()\n  columnsVisibilityButton: boolean = true;\n  @InputConverter()\n  showFilterOption: boolean = true;\n  @InputConverter()\n  showButtonsText: boolean = true;\n\n  protected _oTableOptions: OTableOptions;\n\n  get oTableOptions(): OTableOptions {\n    return this._oTableOptions;\n  }\n\n  set oTableOptions(value: OTableOptions) {\n    this._oTableOptions = value;\n  }\n\n  set quickFilter(value: boolean) {\n    value = Util.parseBoolean(String(value));\n    this._quickFilter = value;\n    this._oTableOptions.filter = value;\n  }\n\n  get quickFilter(): boolean {\n    return this._quickFilter;\n  }\n\n  protected filterCaseSensitivePvt: boolean = false;\n  @InputConverter()\n  set filterCaseSensitive(value: boolean) {\n    this.filterCaseSensitivePvt = BooleanConverter(value);\n    if (this._oTableOptions) {\n      this._oTableOptions.filterCaseSensitive = this.filterCaseSensitivePvt;\n    }\n  }\n  get filterCaseSensitive(): boolean {\n    return this.filterCaseSensitivePvt;\n  }\n  @InputConverter()\n  insertButton: boolean = true;\n  @InputConverter()\n  refreshButton: boolean = true;\n  @InputConverter()\n  deleteButton: boolean = true;\n  @InputConverter()\n  paginationControls: boolean = true;\n  @InputConverter()\n  fixedHeader: boolean = false;\n  @InputConverter()\n  showTitle: boolean = false;\n  editionMode: string = Codes.DETAIL_MODE_NONE;\n  selectionMode: string = Codes.SELECTION_MODE_MULTIPLE;\n  @InputConverter()\n  horizontalScroll: boolean = false;\n  @InputConverter()\n  showPaginatorFirstLastButtons: boolean = true;\n  @InputConverter()\n  autoAlignTitles: boolean = false;\n  @InputConverter()\n  multipleSort: boolean = true;\n  @InputConverter()\n  orderable: boolean = true;\n  @InputConverter()\n  resizable: boolean = true;\n  @InputConverter()\n  autoAdjust: boolean = true;\n\n  protected _enabled: boolean = true;\n  get enabled(): boolean {\n    return this._enabled;\n  }\n  set enabled(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._enabled = val;\n  }\n\n  protected _selectAllCheckboxVisible: boolean;\n  set selectAllCheckboxVisible(value: boolean) {\n    this._selectAllCheckboxVisible = BooleanConverter(this.state['select-column-visible']) || BooleanConverter(value);\n    this._oTableOptions.selectColumn.visible = this._selectAllCheckboxVisible;\n    this.initializeCheckboxColumn();\n  }\n\n  get selectAllCheckboxVisible(): boolean {\n    return this._selectAllCheckboxVisible;\n  }\n\n  @InputConverter()\n  keepSelectedItems: boolean = true;\n\n  public exportMode: string = Codes.EXPORT_MODE_VISIBLE;\n  public exportServiceType: string;\n  public visibleExportDialogButtons: string;\n  public daoTable: OTableDao | null;\n  public dataSource: OTableDataSource | null;\n  public visibleColumns: string;\n  public sortColumns: string;\n  public rowClass: (rowData: any, rowIndex: number) => string | string[];\n\n  /*parsed inputs variables */\n  protected _visibleColArray: Array<string> = [];\n\n  get visibleColArray(): Array<any> {\n    return this._visibleColArray;\n  }\n\n  set visibleColArray(arg: Array<any>) {\n    const permissionsBlocked = this.permissions ? this.permissions.columns.filter(col => col.visible === false).map(col => col.attr) : [];\n    const permissionsChecked = arg.filter(value => permissionsBlocked.indexOf(value) === -1);\n    this._visibleColArray = permissionsChecked;\n    if (this._oTableOptions) {\n      const containsSelectionCol = this._oTableOptions.visibleColumns.indexOf(Codes.NAME_COLUMN_SELECT) !== -1;\n      if (containsSelectionCol) {\n        this._visibleColArray.unshift(Codes.NAME_COLUMN_SELECT);\n      }\n      this._oTableOptions.visibleColumns = this._visibleColArray;\n    }\n  }\n\n  sortColArray: Array<SQLOrder> = [];\n  /*end of parsed inputs variables */\n\n  protected tabGroupContainer: MatTabGroup;\n  protected tabContainer: MatTab;\n  tabGroupChangeSubscription: Subscription;\n\n  protected pendingQuery: boolean = false;\n  protected pendingQueryFilter = undefined;\n\n  protected setStaticData: boolean = false;\n  protected avoidQueryColumns: Array<any> = [];\n  protected asyncLoadColumns: Array<any> = [];\n  protected asyncLoadSubscriptions: object = {};\n\n  protected querySubscription: Subscription;\n  protected contextMenuSubscription: Subscription;\n  protected finishQuerySubscription: boolean = false;\n\n  public onClick: EventEmitter<any> = new EventEmitter();\n  public onDoubleClick: EventEmitter<any> = new EventEmitter();\n  public onRowSelected: EventEmitter<any> = new EventEmitter();\n  public onRowDeselected: EventEmitter<any> = new EventEmitter();\n  public onRowDeleted: EventEmitter<any> = new EventEmitter();\n  public onDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onPaginatedDataLoaded: EventEmitter<any> = new EventEmitter();\n  public onReinitialize: EventEmitter<any> = new EventEmitter();\n  public onContentChange: EventEmitter<any> = new EventEmitter();\n  public onVisibleColumnsChange: EventEmitter<any> = new EventEmitter();\n\n  protected selectionChangeSubscription: Subscription;\n\n  public oTableFilterByColumnDataDialogComponent: OTableFilterByColumnDataDialogComponent;\n  public oTableColumnsFilterComponent: OTableColumnsFilterComponent;\n  public showFilterByColumnIcon: boolean = false;\n\n\n  private showTotalsSubject = new BehaviorSubject<boolean>(false);\n  public showTotals: Observable<boolean> = this.showTotalsSubject.asObservable();\n  private loadingSortingSubject = new BehaviorSubject<boolean>(false);\n  protected loadingSorting: Observable<boolean> = this.loadingSortingSubject.asObservable();\n  private loadingScrollSubject = new BehaviorSubject<boolean>(false);\n  public loadingScroll: Observable<boolean> = this.loadingScrollSubject.asObservable();\n\n  public oTableInsertableRowComponent: OTableInsertableRowComponent;\n  public showFirstInsertableRow: boolean = false;\n  public showLastInsertableRow: boolean = false;\n\n  protected clickTimer;\n  protected clickDelay = 200;\n  protected clickPrevent = false;\n  protected editingCell: any;\n  protected editingRow: any;\n\n  protected _currentPage: number = 0;\n\n  set currentPage(val: number) {\n    this._currentPage = val;\n    if (this.paginator) {\n      this.paginator.pageIndex = val;\n      if (this.matpaginator) {\n        this.matpaginator.pageIndex = val;\n      }\n    }\n  }\n\n  get currentPage(): number {\n    return this._currentPage;\n  }\n\n  public oTableQuickFilterComponent: OTableQuickfilter;\n  protected sortSubscription: Subscription;\n  protected onRenderedDataChange: Subscription;\n  protected previousRendererData;\n\n  quickFilterCallback: QuickFilterFunction;\n\n  @ViewChild('tableBody', { static: false })\n  protected tableBodyEl: ElementRef;\n  @ViewChild('tableHeader', { read: ElementRef, static: false })\n  tableHeaderEl: ElementRef;\n  @ViewChild('tableToolbar', { read: ElementRef, static: false })\n  tableToolbarEl: ElementRef;\n\n  horizontalScrolled: boolean;\n  public onUpdateScrolledState: EventEmitter<any> = new EventEmitter();\n  public rowWidth;\n\n  oTableStorage: OTableStorage;\n  storePaginationState: boolean = false;\n\n  /* In the case the table havent paginationControl and pageable, the table has pagination virtual*/\n  pageScrollVirtual = 1;\n\n  protected permissions: OTablePermissions;\n  matMenu: MatMenu;\n\n  @ViewChild('tableMenu', { static: false })\n  oTableMenu: OTableMenu;\n\n  @ContentChildren(OTableOptionComponent)\n  tableOptions: QueryList<OTableOptionComponent>;\n\n  @ViewChild('tableButtons', { static: false })\n  oTableButtons: OTableButtons;\n\n  @ContentChildren('o-table-button')\n  tableButtons: QueryList<OTableButton>;\n\n  @ContentChild('o-table-quickfilter', { static: true })\n  quickfilterContentChild: OTableQuickfilter;\n\n  @ViewChild('exportOptsTemplate', { static: false })\n  exportOptsTemplate: TemplateRef<any>;\n\n  @HostListener('window:resize', [])\n  updateScrolledState(): void {\n    if (this.horizontalScroll) {\n      setTimeout(() => {\n        const bodyWidth = this.tableBodyEl.nativeElement.clientWidth;\n        const scrollWidth = this.tableBodyEl.nativeElement.scrollWidth;\n        const previousState = this.horizontalScrolled;\n        this.horizontalScrolled = scrollWidth > bodyWidth;\n        if (previousState !== this.horizontalScrolled) {\n          this.onUpdateScrolledState.emit(this.horizontalScrolled);\n        }\n      }, 0);\n    }\n    this.refreshColumnsWidth();\n    // if (this.resizable) {\n\n    // }\n  }\n\n  constructor(\n    injector: Injector,\n    elRef: ElementRef,\n    protected dialog: MatDialog,\n    @Optional() @Inject(forwardRef(() => OFormComponent)) form: OFormComponent\n  ) {\n    super(injector, elRef, form);\n\n    this._oTableOptions = new DefaultOTableOptions();\n    this._oTableOptions.selectColumn = this.createOColumn();\n\n    try {\n      this.tabGroupContainer = this.injector.get(MatTabGroup);\n      this.tabContainer = this.injector.get(MatTab);\n    } catch (error) {\n      // Do nothing due to not always is contained on tab.\n    }\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.oTableStorage = new OTableStorage(this);\n  }\n\n  ngOnInit() {\n    this.initialize();\n  }\n\n  ngAfterViewInit() {\n    this.afterViewInit();\n    this.initTableAfterViewInit();\n    if (this.oTableMenu) {\n      this.matMenu = this.oTableMenu.matMenu;\n      this.oTableMenu.registerOptions(this.tableOptions.toArray());\n    }\n    if (this.oTableButtons) {\n      this.oTableButtons.registerButtons(this.tableButtons.toArray());\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  getSuffixColumnInsertable() {\n    return Codes.SUFFIX_COLUMN_INSERTABLE;\n  }\n\n  getActionsPermissions(): OPermissions[] {\n    return this.permissions ? (this.permissions.actions || []) : [];\n  }\n\n  getMenuPermissions(): OTableMenuPermissions {\n    const result: OTableMenuPermissions = this.permissions ? this.permissions.menu : undefined;\n    return result ? result : {\n      visible: true,\n      enabled: true,\n      items: []\n    };\n  }\n\n  getOColumnPermissions(attr: string): OPermissions {\n    const columns = this.permissions ? (this.permissions.columns || []) : [];\n    return columns.find(comp => comp.attr === attr) || { attr: attr, enabled: true, visible: true };\n  }\n\n  protected getActionPermissions(attr: string): OPermissions {\n    const actionsPerm = this.permissions ? (this.permissions.actions || []) : [];\n    const permissions: OPermissions = actionsPerm.find(p => p.attr === attr);\n    return permissions || {\n      attr: attr,\n      visible: true,\n      enabled: true\n    };\n  }\n\n  protected checkEnabledActionPermission(attr: string) {\n    const actionsPerm = this.permissions ? (this.permissions.actions || []) : [];\n    const permissions: OPermissions = actionsPerm.find(p => p.attr === attr);\n    const enabledPermision = PermissionsUtils.checkEnabledPermission(permissions);\n    if (!enabledPermision) {\n      this.snackBarService.open('MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION');\n    }\n    return enabledPermision;\n  }\n\n  /**\n   * Method what initialize vars and configuration\n   */\n  initialize(): any {\n    super.initialize();\n\n    this._oTableOptions = new DefaultOTableOptions();\n    if (this.tabGroupContainer && this.tabContainer) {\n      this.registerTabListener();\n    }\n\n    // Initialize params of the table\n    this.initializeParams();\n\n    this.initializeDao();\n\n    this.permissions = this.permissionsService.getTablePermissions(this.oattr, this.actRoute);\n  }\n\n  protected initializeDao() {\n    // Configure dao methods\n    const queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    const methods = {\n      query: queryMethodName,\n      update: this.updateMethod,\n      delete: this.deleteMethod,\n      insert: this.insertMethod\n    };\n\n    if (this.staticData) {\n      this.queryOnBind = false;\n      this.queryOnInit = false;\n      this.daoTable = new OTableDao(undefined, this.entity, methods);\n      this.setDataArray(this.staticData);\n    } else {\n      this.configureService();\n      this.daoTable = new OTableDao(this.dataService, this.entity, methods);\n    }\n  }\n\n  reinitialize(options: OTableInitializationOptions): void {\n    if (options) {\n      const clonedOpts = Object.assign({}, options);\n      if (clonedOpts.hasOwnProperty('entity')) {\n        this.entity = clonedOpts.entity;\n      }\n      if (clonedOpts.hasOwnProperty('service')) {\n        this.service = clonedOpts.service;\n      }\n      if (clonedOpts.hasOwnProperty('columns')) {\n        this.columns = clonedOpts.columns;\n      }\n      if (clonedOpts.hasOwnProperty('visibleColumns')) {\n        this.visibleColumns = clonedOpts.visibleColumns;\n      }\n      if (clonedOpts.hasOwnProperty('keys')) {\n        this.keys = clonedOpts.keys;\n      }\n      if (clonedOpts.hasOwnProperty('sortColumns')) {\n        this.sortColumns = clonedOpts.sortColumns;\n      }\n      if (clonedOpts.hasOwnProperty('parentKeys')) {\n        this.parentKeys = clonedOpts.parentKeys;\n      }\n    }\n\n    this.destroy();\n    this.initialize();\n    this.oTableStorage.reset();\n    this.initTableAfterViewInit();\n    this.onReinitialize.emit(null);\n  }\n\n  protected initTableAfterViewInit() {\n    this.parseVisibleColumns();\n    this.setDatasource();\n    this.registerDataSourceListeners();\n    this.parseSortColumns();\n    this.registerSortListener();\n    this.setFiltersConfiguration(this.state);\n    this.addDefaultRowButtons();\n\n    if (this.queryOnInit) {\n      this.queryData();\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    if (this.tabGroupChangeSubscription) {\n      this.tabGroupChangeSubscription.unsubscribe();\n    }\n\n    if (this.selectionChangeSubscription) {\n      this.selectionChangeSubscription.unsubscribe();\n    }\n    if (this.sortSubscription) {\n      this.sortSubscription.unsubscribe();\n    }\n    if (this.onRenderedDataChange) {\n      this.onRenderedDataChange.unsubscribe();\n    }\n\n    if (this.contextMenuSubscription) {\n      this.contextMenuSubscription.unsubscribe();\n    }\n    Object.keys(this.asyncLoadSubscriptions).forEach(idx => {\n      if (this.asyncLoadSubscriptions[idx]) {\n        this.asyncLoadSubscriptions[idx].unsubscribe();\n      }\n    });\n  }\n\n  /**\n   * Method update store localstorage, call of the ILocalStorage\n   */\n  getDataToStore() {\n    return this.oTableStorage.getDataToStore();\n  }\n\n  registerQuickFilter(arg: any) {\n    const quickFilter = (arg as OTableQuickfilter);\n    // forcing quickFilterComponent to be undefined, table uses oTableQuickFilterComponent\n    this.quickFilterComponent = undefined;\n    this.oTableQuickFilterComponent = quickFilter;\n    this.oTableQuickFilterComponent.setValue(this.state.filter, false);\n  }\n\n  registerPagination(value: OTablePaginator) {\n    this.paginationControls = true;\n    this.paginator = value;\n  }\n\n  registerContextMenu(value: OContextMenuComponent): void {\n    this.tableContextMenu = value;\n    this.contextMenuSubscription = this.tableContextMenu.onShow.subscribe((params: IOContextMenuContext) => {\n      params.class = 'o-table-context-menu ' + this.rowHeight;\n      if (params.data && !this.selection.isSelected(params.data.rowValue)) {\n        this.clearSelection();\n        this.selectedRow(params.data.rowValue);\n      }\n    });\n  }\n\n  registerDefaultColumn(column: string) {\n    if (Util.isDefined(this.getOColumn(column))) {\n      // a default column definition trying to replace an already existing definition\n      return;\n    }\n    const colDef: OColumn = this.createOColumn(column, this);\n    this.pushOColumnDefinition(colDef);\n  }\n\n  /**\n   * Store all columns and properties in var columnsArray\n   * @param column\n   */\n  registerColumn(column: OTableColumnComponent | OTableColumnCalculatedComponent | any) {\n    const columnAttr = (typeof column === 'string') ? column : column.attr;\n    const columnPermissions: OPermissions = this.getOColumnPermissions(columnAttr);\n    if (!columnPermissions.visible) {\n      return;\n    }\n\n    if (typeof column === 'string') {\n      this.registerDefaultColumn(column);\n      return;\n    }\n\n    const columnDef = this.getOColumn(column.attr);\n    if (Util.isDefined(columnDef) && Util.isDefined(columnDef.definition)) {\n      // a o-table-column definition trying to replace an already existing o-table-column definition\n      return;\n    }\n    const colDef: OColumn = this.createOColumn(column.attr, this, column);\n    let columnWidth = column.width;\n    const storedCols = this.state['oColumns-display'];\n\n    if (Util.isDefined(storedCols)) {\n      const storedData = storedCols.find(oCol => oCol.attr === colDef.attr);\n      if (Util.isDefined(storedData) && Util.isDefined(storedData.width)) {\n        // check that the width of the columns saved in the initial configuration\n        // in the local storage is different from the original value\n        if (this.state.hasOwnProperty('initial-configuration')) {\n          if (this.state['initial-configuration'].hasOwnProperty('oColumns-display')) {\n            const initialStoredCols = this.state['initial-configuration']['oColumns-display'];\n            initialStoredCols.forEach(element => {\n              if (colDef.attr === element.attr && element.width === colDef.definition.originalWidth) {\n                columnWidth = storedData.width;\n              }\n            });\n          } else {\n            columnWidth = storedData.width;\n          }\n        }\n      }\n    }\n    if (Util.isDefined(columnWidth)) {\n      colDef.width = columnWidth;\n    }\n    if (column && (column.asyncLoad || column.type === 'action')) {\n      this.avoidQueryColumns.push(column.attr);\n      if (column.asyncLoad) {\n        this.asyncLoadColumns.push(column.attr);\n      }\n    }\n    this.pushOColumnDefinition(colDef);\n  }\n\n  protected pushOColumnDefinition(colDef: OColumn) {\n    colDef.visible = (this._visibleColArray.indexOf(colDef.attr) !== -1);\n    // Find column definition by name\n    const alreadyExisting = this.getOColumn(colDef.attr);\n    if (alreadyExisting !== undefined) {\n      const replacingIndex = this._oTableOptions.columns.indexOf(alreadyExisting);\n      this._oTableOptions.columns[replacingIndex] = colDef;\n    } else {\n      this._oTableOptions.columns.push(colDef);\n    }\n    this.refreshEditionModeWarn();\n  }\n\n  protected refreshEditionModeWarn() {\n    if (this.editionMode !== Codes.DETAIL_MODE_NONE) {\n      return;\n    }\n    const editableColumns = this._oTableOptions.columns.filter(col => {\n      return Util.isDefined(col.editor);\n    });\n    if (editableColumns.length > 0) {\n      console.warn('Using a column with a editor but there is no edition-mode defined');\n    }\n  }\n\n  registerColumnAggregate(column: OColumnAggregate) {\n    this.showTotalsSubject.next(true);\n    const alreadyExisting = this.getOColumn(column.attr);\n    if (alreadyExisting !== undefined) {\n      const replacingIndex = this._oTableOptions.columns.indexOf(alreadyExisting);\n      this._oTableOptions.columns[replacingIndex].aggregate = column;\n    }\n  }\n\n  parseVisibleColumns() {\n    if (this.state.hasOwnProperty('oColumns-display')) {\n      // filtering columns that might be in state storage but not in the actual table definition\n      let stateCols = [];\n      this.state['oColumns-display'].forEach((oCol, index) => {\n        const isVisibleColInColumns = this._oTableOptions.columns.find(col => col.attr === oCol.attr) !== undefined;\n        if (isVisibleColInColumns) {\n          stateCols.push(oCol);\n        } else {\n          console.warn('Unable to load the column ' + oCol.attr + ' from the localstorage');\n        }\n      });\n      stateCols = this.checkChangesVisibleColummnsInInitialConfiguration(stateCols);\n      this.visibleColArray = stateCols.filter(item => item.visible).map(item => item.attr);\n    } else {\n      this.visibleColArray = Util.parseArray(this.visibleColumns, true);\n      this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => this.visibleColArray.indexOf(a.attr) - this.visibleColArray.indexOf(b.attr));\n    }\n  }\n\n  checkChangesVisibleColummnsInInitialConfiguration(stateCols) {\n    if (this.state.hasOwnProperty('initial-configuration')) {\n      if (this.state['initial-configuration'].hasOwnProperty('oColumns-display')) {\n\n        const originalVisibleColArray = this.state['initial-configuration']['oColumns-display'].map(x => {\n          if (x.visible === true) {\n            return x.attr;\n          }\n        });\n        const visibleColArray = Util.parseArray(this.visibleColumns, true);\n\n        // Find values in visible-columns that they arent in original-visible-columns in localstorage\n        // in this case you have to add this column to this.visibleColArray\n        const colToAddInVisibleCol = Util.differenceArrays(visibleColArray, originalVisibleColArray);\n        if (colToAddInVisibleCol.length > 0) {\n          colToAddInVisibleCol.forEach((colAdd, index) => {\n            if (stateCols.filter(col => col.attr === colAdd).length > 0) {\n              stateCols = stateCols.map(col => {\n                if (colToAddInVisibleCol.indexOf(col.attr) > -1) {\n                  col.visible = true;\n                }\n                return col;\n              });\n            } else {\n              this.colArray.forEach((element, i) => {\n                if (element === colAdd) {\n                  stateCols.splice(i + 1, 0,\n                    {\n                      attr: colAdd,\n                      visible: true,\n                      width: undefined\n                    });\n                }\n\n              });\n            }\n          });\n        }\n\n        // Find values in original-visible-columns in localstorage that they arent in this.visibleColArray\n        // in this case you have to delete this column to this.visibleColArray\n        const colToDeleteInVisibleCol = Util.differenceArrays(originalVisibleColArray, visibleColArray);\n        if (colToDeleteInVisibleCol.length > 0) {\n          stateCols = stateCols.map(col => {\n            if (colToDeleteInVisibleCol.indexOf(col.attr) > -1) {\n              col.visible = false;\n            }\n            return col;\n          });\n        }\n      }\n    }\n    return stateCols;\n  }\n\n  parseSortColumns() {\n    const sortColumnsParam = this.state['sort-columns'] || this.sortColumns;\n    this.sortColArray = ServiceUtils.parseSortColumns(sortColumnsParam);\n\n    // checking the original sort columns with the sort columns in initial configuration in local storage\n    if (this.state['sort-columns'] && this.state['initial-configuration']['sort-columns']) {\n\n      const initialConfigSortColumnsArray = ServiceUtils.parseSortColumns(this.state['initial-configuration']['sort-columns']);\n      const originalSortColumnsArray = ServiceUtils.parseSortColumns(this.sortColumns);\n      // Find values in visible-columns that they arent in original-visible-columns in localstorage\n      // in this case you have to add this column to this.visibleColArray\n      const colToAddInVisibleCol = Util.differenceArrays(originalSortColumnsArray, initialConfigSortColumnsArray);\n      if (colToAddInVisibleCol.length > 0) {\n        colToAddInVisibleCol.forEach(colAdd => {\n          this.sortColArray.push(colAdd);\n        });\n      }\n\n      const colToDelInVisibleCol = Util.differenceArrays(initialConfigSortColumnsArray, originalSortColumnsArray);\n      if (colToDelInVisibleCol.length > 0) {\n        colToDelInVisibleCol.forEach((colDel) => {\n          this.sortColArray.forEach((col, i) => {\n            if (col.columnName === colDel.columnName) {\n              this.sortColArray.splice(i, 1);\n            }\n          });\n        });\n      }\n    }\n\n    // ensuring column existence and checking its orderable state\n    for (let i = this.sortColArray.length - 1; i >= 0; i--) {\n      const colName = this.sortColArray[i].columnName;\n      const oCol = this.getOColumn(colName);\n      if (!Util.isDefined(oCol) || !oCol.orderable) {\n        this.sortColArray.splice(i, 1);\n      }\n    }\n  }\n\n  initializeParams(): void {\n    // If visible-columns is not present then visible-columns is all columns\n    if (!this.visibleColumns) {\n      this.visibleColumns = this.columns;\n    }\n\n    if (this.colArray.length) {\n      this.colArray.forEach((x: string) => this.registerColumn(x));\n\n      let columnsOrder = [];\n      if (this.state.hasOwnProperty('oColumns-display')) {\n        columnsOrder = this.state['oColumns-display'].map(item => item.attr);\n      } else {\n        columnsOrder = this.colArray.filter(attr => this.visibleColArray.indexOf(attr) === -1);\n        columnsOrder.push(...this.visibleColArray);\n      }\n\n      this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => {\n        if (columnsOrder.indexOf(a.attr) === -1) {\n          // if it is not in local storage because it is new, keep order\n          return 0;\n        } else {\n          return columnsOrder.indexOf(a.attr) - columnsOrder.indexOf(b.attr);\n        }\n      });\n\n    }\n\n    // Initialize quickFilter\n    this._oTableOptions.filter = this.quickFilter;\n\n    if (this.state.hasOwnProperty('currentPage')) {\n      this.currentPage = this.state.currentPage;\n    }\n\n    // Initialize paginator\n    if (!this.paginator && this.paginationControls) {\n      this.paginator = new OBaseTablePaginator();\n      this.paginator.pageSize = this.queryRows;\n      this.paginator.pageIndex = this.currentPage;\n      this.paginator.showFirstLastButtons = this.showPaginatorFirstLastButtons;\n    }\n\n    if (!Util.isDefined(this.selectAllCheckboxVisible)) {\n      this._oTableOptions.selectColumn.visible = !!this.state['select-column-visible'];\n    } else {\n      // checking the original selectAllCheckboxVisible with select-column-visible in initial configuration in local storage\n      if (this.state.hasOwnProperty('initial-configuration') && this.state['initial-configuration'].hasOwnProperty('select-column-visible')\n        && this.selectAllCheckboxVisible === this.state['initial-configuration']['select-column-visible']) {\n        this._oTableOptions.selectColumn.visible = !!this.state['select-column-visible'];\n      } else {\n        this._oTableOptions.selectColumn.visible = this.selectAllCheckboxVisible;\n      }\n    }\n\n    this.initializeCheckboxColumn();\n  }\n\n  registerTabListener() {\n    // When table is contained into tab component, it is necessary to init table component when attached to DOM.\n    this.tabGroupChangeSubscription = this.tabGroupContainer.selectedTabChange.subscribe((evt) => {\n      let interval;\n      const timerCallback = (tab: MatTab) => {\n        if (tab && tab.content.isAttached) {\n          clearInterval(interval);\n          if (tab === this.tabContainer) {\n            this.insideTabBugWorkaround();\n            if (this.pendingQuery) {\n              this.queryData(this.pendingQueryFilter);\n            }\n          }\n        }\n      };\n      interval = setInterval(() => { timerCallback(evt.tab); }, 100);\n    });\n  }\n\n  protected insideTabBugWorkaround() {\n    this.sortHeaders.forEach(sortH => {\n      sortH.refresh();\n    });\n  }\n\n  registerSortListener() {\n    if (Util.isDefined(this.sort)) {\n      this.sortSubscription = this.sort.oSortChange.subscribe(this.onSortChange.bind(this));\n      this.sort.setMultipleSort(this.multipleSort);\n\n      if (Util.isDefined(this._oTableOptions.columns) && (this.sortColArray.length > 0)) {\n        this.sort.setTableInfo(this.sortColArray);\n      }\n    }\n  }\n\n  protected onSortChange(sortArray: any[]) {\n    this.sortColArray = [];\n    sortArray.forEach((sort) => {\n      if (sort.direction !== '') {\n        this.sortColArray.push({\n          columnName: sort.id,\n          ascendent: sort.direction === Codes.ASC_SORT\n        });\n      }\n    });\n    if (this.pageable) {\n      this.reloadData();\n    } else {\n      this.loadingSortingSubject.next(true);\n      this.cd.detectChanges();\n    }\n  }\n\n  setDatasource() {\n    const dataSourceService = this.injector.get(OTableDataSourceService);\n    this.dataSource = dataSourceService.getInstance(this);\n  }\n\n  protected registerDataSourceListeners() {\n    if (!this.pageable) {\n      this.onRenderedDataChange = this.dataSource.onRenderedDataChange.subscribe(() => {\n        setTimeout(() => {\n          this.loadingSortingSubject.next(false);\n          if (this.cd && !(this.cd as ViewRef).destroyed) {\n            this.cd.detectChanges();\n          }\n        }, 500);\n      });\n    }\n  }\n\n  get showLoading() {\n    return combineLatest([this.loading, this.loadingSorting, this.loadingScroll])\n      .pipe(map((res: any[]) => (res[0] || res[1] || res[2])));\n  }\n\n\n  /**\n   * This method manages the call to the service\n   * @param filter\n   * @param ovrrArgs\n   */\n  queryData(filter?: any, ovrrArgs?: OQueryDataArgs) {\n    // If tab exists and is not active then wait for queryData\n    if (this.isInsideInactiveTab()) {\n      this.pendingQuery = true;\n      this.pendingQueryFilter = filter;\n      return;\n    }\n    this.pendingQuery = false;\n    this.pendingQueryFilter = undefined;\n    super.queryData(filter, ovrrArgs);\n  }\n\n  protected isInsideInactiveTab(): boolean {\n    let result: boolean = false;\n    if (this.tabContainer && this.tabGroupContainer) {\n      result = !(this.tabContainer.isActive || (this.tabGroupContainer.selectedIndex === this.tabContainer.position));\n    }\n    return result;\n  }\n\n  getComponentFilter(existingFilter: any = {}): any {\n    let filter = existingFilter;\n    if (this.pageable) {\n      if (Object.keys(filter).length > 0) {\n        const parentItemExpr = FilterExpressionUtils.buildExpressionFromObject(filter);\n        filter = {};\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] = parentItemExpr;\n      }\n      const beColFilter = this.getColumnFiltersExpression();\n      // Add column filters basic expression to current filter\n      if (beColFilter && !Util.isDefined(filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY])) {\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] = beColFilter;\n      } else if (beColFilter) {\n        filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY] =\n          FilterExpressionUtils.buildComplexExpression(filter[FilterExpressionUtils.FILTER_EXPRESSION_KEY], beColFilter, FilterExpressionUtils.OP_AND);\n      }\n    }\n    return super.getComponentFilter(filter);\n  }\n\n  protected getQuickFilterExpression(): Expression {\n    if (Util.isDefined(this.oTableQuickFilterComponent) && this.pageable) {\n      return this.oTableQuickFilterComponent.filterExpression;\n    }\n    return undefined;\n  }\n\n  protected getColumnFiltersExpression(): Expression {\n    // Apply column filters\n    const columnFilters: OColumnValueFilter[] = this.dataSource.getColumnValueFilters();\n    const beColumnFilters: Array<Expression> = [];\n    columnFilters.forEach(colFilter => {\n      // Prepare basic expressions\n      switch (colFilter.operator) {\n        case ColumnValueFilterOperator.IN:\n          if (Util.isArray(colFilter.values)) {\n            const besIn: Array<Expression> = colFilter.values.map(value => FilterExpressionUtils.buildExpressionEquals(colFilter.attr, value));\n            let beIn: Expression = besIn.pop();\n            besIn.forEach(be => {\n              beIn = FilterExpressionUtils.buildComplexExpression(beIn, be, FilterExpressionUtils.OP_OR);\n            });\n            beColumnFilters.push(beIn);\n          }\n          break;\n        case ColumnValueFilterOperator.BETWEEN:\n          if (Util.isArray(colFilter.values) && colFilter.values.length === 2) {\n            let beFrom = FilterExpressionUtils.buildExpressionMoreEqual(colFilter.attr, colFilter.values[0]);\n            let beTo = FilterExpressionUtils.buildExpressionLessEqual(colFilter.attr, colFilter.values[1]);\n            beColumnFilters.push(FilterExpressionUtils.buildComplexExpression(beFrom, beTo, FilterExpressionUtils.OP_AND));\n          }\n          break;\n        case ColumnValueFilterOperator.EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionLike(colFilter.attr, colFilter.values));\n          break;\n        case ColumnValueFilterOperator.LESS_EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionLessEqual(colFilter.attr, colFilter.values));\n          break;\n        case ColumnValueFilterOperator.MORE_EQUAL:\n          beColumnFilters.push(FilterExpressionUtils.buildExpressionMoreEqual(colFilter.attr, colFilter.values));\n          break;\n      }\n\n    });\n    // Build complete column filters basic expression\n    let beColFilter: Expression = beColumnFilters.pop();\n    beColumnFilters.forEach(be => {\n      beColFilter = FilterExpressionUtils.buildComplexExpression(beColFilter, be, FilterExpressionUtils.OP_AND);\n    });\n    return beColFilter;\n  }\n\n  updatePaginationInfo(queryRes: any) {\n    super.updatePaginationInfo(queryRes);\n  }\n\n  protected setData(data: any, sqlTypes: any) {\n    this.daoTable.sqlTypesChange.next(sqlTypes);\n    this.daoTable.setDataArray(data);\n    this.updateScrolledState();\n    if (this.pageable) {\n      ObservableWrapper.callEmit(this.onPaginatedDataLoaded, data);\n    }\n    ObservableWrapper.callEmit(this.onDataLoaded, this.daoTable.data);\n  }\n\n  showDialogError(error: string, errorOptional?: string) {\n    if (Util.isDefined(error) && !Util.isObject(error)) {\n      this.dialogService.alert('ERROR', error);\n    } else {\n      this.dialogService.alert('ERROR', errorOptional);\n    }\n  }\n\n  projectContentChanged() {\n    setTimeout(() => {\n      this.loadingSortingSubject.next(false);\n    }, 500);\n    this.loadingScrollSubject.next(false);\n\n    if (this.previousRendererData !== this.dataSource.renderedData) {\n      this.previousRendererData = this.dataSource.renderedData;\n      ObservableWrapper.callEmit(this.onContentChange, this.dataSource.renderedData);\n    }\n\n    this.getColumnsWidthFromDOM();\n\n    if (this.state.hasOwnProperty('selection') && this.dataSource.renderedData.length > 0 && this.getSelectedItems().length === 0) {\n      this.state.selection.forEach(selectedItem => {\n        // finding selected item data in the table rendered data\n        const foundItem = this.dataSource.renderedData.find(data => {\n          let result = true;\n          Object.keys(selectedItem).forEach(key => {\n            result = result && (data[key] === selectedItem[key]);\n          });\n          return result;\n        });\n        if (foundItem) {\n          this.selection.select(foundItem);\n        }\n      });\n    }\n  }\n\n  getAttributesValuesToQuery(): Array<string> {\n    const columns = super.getAttributesValuesToQuery();\n    if (this.avoidQueryColumns.length > 0) {\n      for (let i = columns.length - 1; i >= 0; i--) {\n        const col = columns[i];\n        if (this.avoidQueryColumns.indexOf(col) !== -1) {\n          columns.splice(i, 1);\n        }\n      }\n    }\n    return columns;\n  }\n\n  getQueryArguments(filter: object, ovrrArgs?: OQueryDataArgs): Array<any> {\n    const queryArguments = super.getQueryArguments(filter, ovrrArgs);\n    queryArguments[3] = this.getSqlTypesForFilter(queryArguments[1]);\n    Object.assign(queryArguments[3], ovrrArgs ? ovrrArgs.sqltypes || {} : {});\n    if (this.pageable) {\n      queryArguments[5] = this.paginator.isShowingAllRows(queryArguments[5]) ? this.state.totalQueryRecordsNumber : queryArguments[5];\n      queryArguments[6] = this.sortColArray;\n    }\n    return queryArguments;\n  }\n\n  getSqlTypesForFilter(filter): object {\n    const allSqlTypes = {};\n    this._oTableOptions.columns.forEach((col: OColumn) => {\n      if (col.sqlType) {\n        allSqlTypes[col.attr] = col.sqlType;\n      }\n    });\n    Object.assign(allSqlTypes, this.getSqlTypes());\n    const filterCols = Util.getValuesFromObject(filter);\n    const sqlTypes = {};\n    Object.keys(allSqlTypes).forEach(key => {\n      if (filterCols.indexOf(key) !== -1 && allSqlTypes[key] !== SQLTypes.OTHER) {\n        sqlTypes[key] = allSqlTypes[key];\n      }\n    });\n    return sqlTypes;\n  }\n\n  onExportButtonClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onExportButtonClicked();\n    }\n  }\n\n  onChangeColumnsVisibilityClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onChangeColumnsVisibilityClicked();\n    }\n  }\n\n  onMatTableContentChanged() {\n    //\n  }\n\n  add() {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_INSERT)) {\n      return;\n    }\n    super.insertDetail();\n  }\n\n  remove(clearSelectedItems: boolean = false) {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_DELETE)) {\n      return;\n    }\n    const selectedItems = this.getSelectedItems();\n    if (selectedItems.length > 0) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DELETE').then(res => {\n        if (res === true) {\n          if (this.dataService && (this.deleteMethod in this.dataService) && this.entity && (this.keysArray.length > 0)) {\n            const filters = ServiceUtils.getArrayProperties(selectedItems, this.keysArray);\n            this.daoTable.removeQuery(filters).subscribe(() => {\n              ObservableWrapper.callEmit(this.onRowDeleted, selectedItems);\n            }, error => {\n              this.showDialogError(error, 'MESSAGES.ERROR_DELETE');\n            }, () => {\n              this.reloadData();\n            });\n          } else {\n            this.deleteLocalItems();\n          }\n        } else if (clearSelectedItems) {\n          this.clearSelection();\n        }\n      });\n    }\n  }\n\n  refresh() {\n    this.reloadData();\n  }\n\n  showAndSelectAllCheckbox() {\n    if (this.isSelectionModeMultiple()) {\n      if (this.selectAllCheckbox) {\n        this._oTableOptions.selectColumn.visible = true;\n      }\n      this.initializeCheckboxColumn();\n      this.selectAll();\n    }\n  }\n\n  reloadPaginatedDataFromStart() {\n    if (this.pageable) {\n      // Initialize page index\n      this.currentPage = 0;\n      this.reloadData();\n    }\n  }\n\n  reloadData() {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_REFRESH)) {\n      return;\n    }\n    Object.assign(this.state, this.oTableStorage.getTablePropertyToStore('selection'));\n    this.clearSelection();\n    this.finishQuerySubscription = false;\n    this.pendingQuery = true;\n    // this.pageScrollVirtual = 1;\n    let queryArgs: OQueryDataArgs;\n    if (this.pageable) {\n      queryArgs = {\n        offset: this.currentPage * this.queryRows,\n        length: this.queryRows\n      };\n    }\n    this.editingCell = undefined;\n    this.queryData(void 0, queryArgs);\n  }\n\n  handleClick(item: any, $event?) {\n    this.clickTimer = setTimeout(() => {\n      if (!this.clickPrevent) {\n        this.doHandleClick(item, $event);\n      }\n      this.clickPrevent = false;\n    }, this.clickDelay);\n  }\n\n  doHandleClick(item: any, $event?) {\n    if (!this.oenabled) {\n      return;\n    }\n    if ((this.detailMode === Codes.DETAIL_MODE_CLICK)) {\n      ObservableWrapper.callEmit(this.onClick, item);\n      this.saveDataNavigationInLocalStorage();\n      this.selection.clear();\n      this.selectedRow(item);\n      this.viewDetail(item);\n      return;\n    }\n    if (this.isSelectionModeMultiple() && ($event.ctrlKey || $event.metaKey)) {\n      // TODO: test $event.metaKey on MAC\n      this.selectedRow(item);\n      ObservableWrapper.callEmit(this.onClick, item);\n    } else if (this.isSelectionModeMultiple() && $event.shiftKey) {\n      this.handleMultipleSelection(item);\n    } else if (!this.isSelectionModeNone()) {\n      const selectedItems = this.getSelectedItems();\n      if (this.selection.isSelected(item) && selectedItems.length === 1 && this.editionEnabled) {\n        return;\n      } else {\n        this.clearSelectionAndEditing();\n      }\n      this.selectedRow(item);\n      ObservableWrapper.callEmit(this.onClick, item);\n    }\n  }\n\n  handleMultipleSelection(item: any) {\n    if (this.selection.selected.length > 0) {\n      const first = this.dataSource.renderedData.indexOf(this.selection.selected[0]);\n      const last = this.dataSource.renderedData.indexOf(item);\n      const indexFrom = Math.min(first, last);\n      const indexTo = Math.max(first, last);\n      this.clearSelection();\n      this.dataSource.renderedData.slice(indexFrom, indexTo + 1).forEach(e => this.selectedRow(e));\n      ObservableWrapper.callEmit(this.onClick, this.selection.selected);\n    }\n  }\n\n  protected saveDataNavigationInLocalStorage() {\n    super.saveDataNavigationInLocalStorage();\n    this.storePaginationState = true;\n  }\n\n  handleDoubleClick(item: any, event?) {\n    clearTimeout(this.clickTimer);\n    this.clickPrevent = true;\n    ObservableWrapper.callEmit(this.onDoubleClick, item);\n    if (this.oenabled && Codes.isDoubleClickMode(this.detailMode)) {\n      this.saveDataNavigationInLocalStorage();\n      this.viewDetail(item);\n    }\n  }\n\n  get editionEnabled(): boolean {\n    return this._oTableOptions.columns.some(item => item.editing);\n  }\n\n  handleDOMClick(event) {\n    if (this._oTableOptions.selectColumn.visible) {\n      return;\n    }\n\n    if (this.editionEnabled) {\n      return;\n    }\n\n    const overlayContainer = document.body.getElementsByClassName('cdk-overlay-container')[0];\n    if (overlayContainer && overlayContainer.contains(event.target)) {\n      return;\n    }\n\n    const tableContainer = this.elRef.nativeElement.querySelector('.o-table-container');\n    const tableContent = this.elRef.nativeElement.querySelector('.o-table-container table.mat-table');\n    if (tableContainer && tableContent && tableContainer.contains(event.target) && !tableContent.contains(event.target)) {\n      this.clearSelection();\n    }\n  }\n\n  handleCellClick(column: OColumn, row: any, event?) {\n    if (this.oenabled && column.editor\n      && (this.detailMode !== Codes.DETAIL_MODE_CLICK)\n      && (this.editionMode === Codes.DETAIL_MODE_CLICK)) {\n\n      this.activateColumnEdition(column, row, event);\n    }\n  }\n\n  handleCellDoubleClick(column: OColumn, row: any, event?) {\n    if (this.oenabled && column.editor\n      && (!Codes.isDoubleClickMode(this.detailMode))\n      && (Codes.isDoubleClickMode(this.editionMode))) {\n\n      this.activateColumnEdition(column, row, event);\n    }\n  }\n\n  protected activateColumnEdition(column: OColumn, row: any, event?) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (event && column.editing && this.editingCell === event.currentTarget) {\n      return;\n    }\n    const columnPermissions: OPermissions = this.getOColumnPermissions(column.attr);\n    if (columnPermissions.enabled === false) {\n      console.warn(`${column.attr} edition not allowed due to permissions`);\n      return;\n    }\n\n    this.clearSelectionAndEditing();\n    this.selectedRow(row);\n    if (event) {\n      this.editingCell = event.currentTarget;\n    }\n    const rowData = {};\n    this.keysArray.forEach((key) => {\n      rowData[key] = row[key];\n    });\n    rowData[column.attr] = row[column.attr];\n    this.editingRow = row;\n    column.editing = true;\n    column.editor.startEdition(rowData);\n    this.cd.detectChanges();\n  }\n\n  updateCellData(column: OColumn, data: any, saveChanges: boolean) {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_UPDATE)) {\n      const res = new Observable(innerObserver => {\n        innerObserver.error();\n      });\n      return res;\n    }\n    column.editing = false;\n    this.editingCell = undefined;\n    if (saveChanges && this.editingRow !== undefined) {\n      Object.assign(this.editingRow, data);\n    }\n    this.editingRow = undefined;\n    if (saveChanges && column.editor.updateRecordOnEdit) {\n      const toUpdate = {};\n      toUpdate[column.attr] = data[column.attr];\n      const kv = this.extractKeysFromRecord(data);\n      return this.updateRecord(kv, toUpdate);\n    }\n    return undefined;\n  }\n\n  protected getKeysValues(): any[] {\n    const data = this.getAllValues();\n    return data.map((row) => {\n      const obj = {};\n      this.keysArray.forEach((key) => {\n        if (row[key] !== undefined) {\n          obj[key] = row[key];\n        }\n      });\n\n      return obj;\n    });\n  }\n\n  onShowsSelects() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onShowsSelects();\n    }\n  }\n\n  initializeCheckboxColumn() {\n    // Initializing row selection listener\n    if (!this.selectionChangeSubscription && this._oTableOptions.selectColumn.visible) {\n      this.selectionChangeSubscription = this.selection.changed.subscribe((selectionData: SelectionChange<any>) => {\n        if (selectionData && selectionData.added.length > 0) {\n          ObservableWrapper.callEmit(this.onRowSelected, selectionData.added);\n        }\n        if (selectionData && selectionData.removed.length > 0) {\n          ObservableWrapper.callEmit(this.onRowDeselected, selectionData.removed);\n        }\n      });\n    }\n    this.updateSelectionColumnState();\n  }\n\n  protected updateSelectionColumnState() {\n    if (!this._oTableOptions.selectColumn.visible) {\n      this.clearSelection();\n    }\n    if (this._oTableOptions.visibleColumns && this._oTableOptions.selectColumn.visible\n      && this._oTableOptions.visibleColumns[0] !== Codes.NAME_COLUMN_SELECT) {\n      this._oTableOptions.visibleColumns.unshift(Codes.NAME_COLUMN_SELECT);\n    } else if (this._oTableOptions.visibleColumns && !this._oTableOptions.selectColumn.visible\n      && this._oTableOptions.visibleColumns[0] === Codes.NAME_COLUMN_SELECT) {\n      this._oTableOptions.visibleColumns.shift();\n    }\n  }\n\n  public isAllSelected(): boolean {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.dataSource ? this.dataSource.renderedData.length : undefined;\n    return numSelected > 0 && numSelected === numRows;\n  }\n\n  public masterToggle(event: MatCheckboxChange): void {\n    event.checked ? this.selectAll() : this.clearSelection();\n  }\n\n  public selectAll(): void {\n    this.dataSource.renderedData.forEach(row => this.selection.select(row));\n  }\n\n  public selectionCheckboxToggle(event: MatCheckboxChange, row: any): void {\n    if (this.isSelectionModeSingle()) {\n      this.clearSelection();\n    }\n    this.selectedRow(row);\n  }\n\n  public selectedRow(row: any): void {\n    this.setSelected(row);\n    this.cd.detectChanges();\n  }\n\n  get showDeleteButton(): boolean {\n    return this.deleteButton;\n  }\n\n  getTrackByFunction(): (index: number, item: any) => string {\n    const self = this;\n\n    return (index: number, item: any) => {\n      if (self.hasScrollableContainer() && index < (self.pageScrollVirtual - 1) * Codes.LIMIT_SCROLLVIRTUAL) {\n        return null;\n      }\n\n      let itemId: string = '';\n      const keysLenght = self.keysArray.length;\n      self.keysArray.forEach((key: string, idx: number) => {\n        const suffix = idx < (keysLenght - 1) ? ';' : '';\n        itemId += item[key] + suffix;\n      });\n\n\n      const asyncAndVisible = self.asyncLoadColumns.filter(c => self._oTableOptions.visibleColumns.indexOf(c) !== -1);\n      if (self.asyncLoadColumns.length && asyncAndVisible.length > 0 && !self.finishQuerySubscription) {\n        self.queryRowAsyncData(index, item);\n        if (self.paginator && index === (self.paginator.pageSize - 1)) {\n          self.finishQuerySubscription = true;\n        }\n        return itemId;\n      } else {\n        return itemId;\n      }\n    };\n  }\n\n  queryRowAsyncData(rowIndex: number, rowData: any) {\n    const kv = ServiceUtils.getObjectProperties(rowData, this.keysArray);\n    // Repeating checking of visible column\n    const av = this.asyncLoadColumns.filter(c => this._oTableOptions.visibleColumns.indexOf(c) !== -1);\n    if (av.length === 0) {\n      // Skipping query if there are not visible asyncron columns\n      return;\n    }\n    const columnQueryArgs = [kv, av, this.entity, undefined, undefined, undefined, undefined];\n    const queryMethodName = this.pageable ? this.paginatedQueryMethod : this.queryMethod;\n    if (this.dataService && (queryMethodName in this.dataService) && this.entity) {\n      if (this.asyncLoadSubscriptions[rowIndex]) {\n        this.asyncLoadSubscriptions[rowIndex].unsubscribe();\n      }\n      this.asyncLoadSubscriptions[rowIndex] = this.dataService[queryMethodName]\n        .apply(this.dataService, columnQueryArgs)\n        .subscribe((res: ServiceResponse) => {\n          if (res.isSuccessful()) {\n            let data;\n            if (Util.isArray(res.data) && res.data.length === 1) {\n              data = res.data[0];\n            } else if (Util.isObject(res.data)) {\n              data = res.data;\n            }\n            this.daoTable.setAsynchronousColumn(data, rowData);\n            this.cd.detectChanges();\n          }\n        });\n    }\n  }\n\n  getValue() {\n    return this.dataSource.getCurrentData();\n  }\n\n  getAllValues() {\n    return this.dataSource.getCurrentAllData();\n  }\n\n  getAllRenderedValues() {\n    return this.dataSource.getAllRendererData();\n  }\n\n  getRenderedValue() {\n    return this.dataSource.getCurrentRendererData();\n  }\n\n  getSqlTypes() {\n    return Util.isDefined(this.dataSource.sqlTypes) ? this.dataSource.sqlTypes : {};\n  }\n\n  setOTableColumnsFilter(tableColumnsFilter: OTableColumnsFilterComponent) {\n    this.oTableColumnsFilterComponent = tableColumnsFilter;\n  }\n\n  getStoredColumnsFilters() {\n    return this.oTableStorage.getStoredColumnsFilters();\n  }\n\n  onFilterByColumnClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onFilterByColumnClicked();\n    }\n  }\n\n  onStoreFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onStoreFilterClicked();\n    }\n  }\n\n  onLoadFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onLoadFilterClicked();\n    }\n  }\n\n  onClearFilterClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onClearFilterClicked();\n    }\n  }\n\n  clearFilters(triggerDatasourceUpdate: boolean = true): void {\n    this.dataSource.clearColumnFilters(triggerDatasourceUpdate);\n    if (this.oTableMenu && this.oTableMenu.columnFilterOption) {\n      this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon);\n    }\n    if (this.oTableQuickFilterComponent) {\n      this.oTableQuickFilterComponent.setValue(void 0);\n    }\n  }\n\n  isColumnFilterable(column: OColumn): boolean {\n    return (this.oTableColumnsFilterComponent && this.oTableColumnsFilterComponent.isColumnFilterable(column.attr));\n  }\n\n  isModeColumnFilterable(column: OColumn): boolean {\n    return this.showFilterByColumnIcon &&\n      (this.oTableColumnsFilterComponent && this.oTableColumnsFilterComponent.isColumnFilterable(column.attr));\n  }\n\n  isColumnFilterActive(column: OColumn): boolean {\n    return this.showFilterByColumnIcon &&\n      this.dataSource.getColumnValueFilterByAttr(column.attr) !== undefined;\n  }\n\n  openColumnFilterDialog(column: OColumn, event: Event) {\n    event.stopPropagation();\n    event.preventDefault();\n    const dialogRef = this.dialog.open(OTableFilterByColumnDataDialogComponent, {\n      data: {\n        previousFilter: this.dataSource.getColumnValueFilterByAttr(column.attr),\n        column: column,\n        tableData: this.dataSource.getTableData(),\n        preloadValues: this.oTableColumnsFilterComponent.preloadValues,\n        mode: this.oTableColumnsFilterComponent.mode\n      },\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const columnValueFilter = dialogRef.componentInstance.getColumnValuesFilter();\n        this.dataSource.addColumnFilter(columnValueFilter);\n        this.reloadPaginatedDataFromStart();\n      }\n    });\n  }\n\n  get disableTableMenuButton(): boolean {\n    return !!(this.permissions && this.permissions.menu && this.permissions.menu.enabled === false);\n  }\n\n  get showTableMenuButton(): boolean {\n    const permissionHidden = !!(this.permissions && this.permissions.menu && this.permissions.menu.visible === false);\n    if (permissionHidden) {\n      return false;\n    }\n    const staticOpt = this.selectAllCheckbox || this.exportButton || this.showConfigurationOption || this.columnsVisibilityButton || (this.showFilterOption && this.oTableColumnsFilterComponent !== undefined);\n    return staticOpt || this.tableOptions.length > 0;\n  }\n\n  setOTableInsertableRow(tableInsertableRow: OTableInsertableRowComponent) {\n    const insertPerm: OPermissions = this.getActionPermissions(PermissionsUtils.ACTION_INSERT);\n    if (insertPerm.visible) {\n      tableInsertableRow.enabled = insertPerm.enabled;\n      this.oTableInsertableRowComponent = tableInsertableRow;\n      this.showFirstInsertableRow = this.oTableInsertableRowComponent.isFirstRow();\n      this.showLastInsertableRow = !this.showFirstInsertableRow;\n      this.oTableInsertableRowComponent.initializeEditors();\n    }\n  }\n\n  clearSelectionAndEditing() {\n    this.selection.clear();\n    this._oTableOptions.columns.forEach(item => {\n      item.editing = false;\n    });\n  }\n\n  useDetailButton(column: OColumn): boolean {\n    return column.type === 'editButtonInRow' || column.type === 'detailButtonInRow';\n  }\n\n  onDetailButtonClick(column: OColumn, row: any, event: any) {\n    event.preventDefault();\n    event.stopPropagation();\n    switch (column.type) {\n      case 'editButtonInRow':\n        this.editDetail(row);\n        break;\n      case 'detailButtonInRow':\n        this.viewDetail(row);\n        break;\n    }\n  }\n\n  getDetailButtonIcon(column: OColumn) {\n    let result = '';\n    switch (column.type) {\n      case 'editButtonInRow':\n        result = this.editButtonInRowIcon;\n        break;\n      case 'detailButtonInRow':\n        result = this.detailButtonInRowIcon;\n        break;\n    }\n    return result;\n  }\n\n  usePlainRender(column: OColumn, row: any): boolean {\n    return !this.useDetailButton(column) && !column.renderer && (!column.editor || (!column.editing || !this.selection.isSelected(row)));\n  }\n\n  useCellRenderer(column: OColumn, row: any): boolean {\n    return column.renderer && (!column.editing || column.editing && !this.selection.isSelected(row));\n  }\n\n  useCellEditor(column: OColumn, row: any): boolean {\n    // TODO Add column.editor instanceof OTableCellEditorBooleanComponent to condition\n    if (column.editor && column.editor.autoCommit) {\n      return false;\n    }\n    return column.editor && column.editing && this.selection.isSelected(row);\n  }\n\n  isSelectionModeMultiple(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_MULTIPLE;\n  }\n\n  isSelectionModeSingle(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_SINGLE;\n  }\n\n  isSelectionModeNone(): boolean {\n    return this.selectionMode === Codes.SELECTION_MODE_NONE;\n  }\n\n  onChangePage(evt: PageEvent) {\n    this.finishQuerySubscription = false;\n    if (!this.pageable) {\n      this.currentPage = evt.pageIndex;\n      return;\n    }\n    const tableState = this.state;\n\n    const goingBack = evt.pageIndex < this.currentPage;\n    this.currentPage = evt.pageIndex;\n    const pageSize = this.paginator.isShowingAllRows(evt.pageSize) ? tableState.totalQueryRecordsNumber : evt.pageSize;\n\n    const oldQueryRows = this.queryRows;\n    const changingPageSize = (oldQueryRows !== pageSize);\n    this.queryRows = pageSize;\n\n    let newStartRecord;\n    let queryLength;\n\n    if (goingBack || changingPageSize) {\n      newStartRecord = (this.currentPage * this.queryRows);\n      queryLength = this.queryRows;\n    } else {\n      newStartRecord = Math.max(tableState.queryRecordOffset, (this.currentPage * this.queryRows));\n      const newEndRecord = Math.min(newStartRecord + this.queryRows, tableState.totalQueryRecordsNumber);\n      queryLength = Math.min(this.queryRows, newEndRecord - newStartRecord);\n    }\n\n    const queryArgs: OQueryDataArgs = {\n      offset: newStartRecord,\n      length: queryLength\n    };\n    this.finishQuerySubscription = false;\n    this.queryData(void 0, queryArgs);\n  }\n\n  getOColumn(attr: string): OColumn {\n    return this._oTableOptions ? this._oTableOptions.columns.find(item => item.name === attr) : undefined;\n  }\n\n  insertRecord(recordData: any, sqlTypes?: object): Observable<any> {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_INSERT)) {\n      return undefined;\n    }\n    if (!Util.isDefined(sqlTypes)) {\n      const allSqlTypes = this.getSqlTypes();\n      sqlTypes = {};\n      Object.keys(recordData).forEach(key => {\n        sqlTypes[key] = allSqlTypes[key];\n      });\n    }\n    return this.daoTable.insertQuery(recordData, sqlTypes);\n  }\n\n  updateRecord(filter: any, updateData: any, sqlTypes?: object): Observable<any> {\n    if (!this.checkEnabledActionPermission(PermissionsUtils.ACTION_UPDATE)) {\n      return of(this.dataSource.data);\n    }\n    const sqlTypesArg = sqlTypes || {};\n    if (!Util.isDefined(sqlTypes)) {\n      const allSqlTypes = this.getSqlTypes();\n      Object.keys(filter).forEach(key => {\n        sqlTypesArg[key] = allSqlTypes[key];\n      });\n      Object.keys(updateData).forEach(key => {\n        sqlTypesArg[key] = allSqlTypes[key];\n      });\n    }\n    return this.daoTable.updateQuery(filter, updateData, sqlTypesArg);\n  }\n\n  getDataArray() {\n    return this.daoTable.data;\n  }\n\n  setDataArray(data: Array<any>) {\n    if (this.daoTable) {\n      // remote pagination has no sense when using static-data\n      this.pageable = false;\n      this.staticData = data;\n      this.daoTable.usingStaticData = true;\n      this.daoTable.setDataArray(this.staticData);\n    }\n  }\n\n  protected deleteLocalItems() {\n    const dataArray = this.getDataArray();\n    const selectedItems = this.getSelectedItems();\n    selectedItems.forEach((selectedItem: any) => {\n      for (let j = dataArray.length - 1; j >= 0; --j) {\n        if (Util.equals(selectedItem, dataArray[j])) {\n          dataArray.splice(j, 1);\n          break;\n        }\n      }\n    });\n    this.clearSelection();\n    this.setDataArray(dataArray);\n  }\n\n  isColumnSortActive(column: OColumn): boolean {\n    const found = this.sortColArray.find(sortC => sortC.columnName === column.attr);\n    return found !== undefined;\n  }\n\n  isColumnDescSortActive(column: OColumn): boolean {\n    const found = this.sortColArray.find(sortC => sortC.columnName === column.attr && !sortC.ascendent);\n    return found !== undefined;\n  }\n\n  hasTabGroupChangeSubscription(): boolean {\n    return this.tabGroupChangeSubscription !== undefined;\n  }\n\n  isEmpty(value: any): boolean {\n    return !Util.isDefined(value) || ((typeof value === 'string') && !value);\n  }\n\n  setFiltersConfiguration(conf: any) {\n    // initialize filterCaseSensitive\n\n    /*\n      Checking the original filterCaseSensitive with the filterCaseSensitive in initial configuration in local storage\n      if filterCaseSensitive in initial configuration is equals to original filterCaseSensitive input\n      filterCaseSensitive will be the value in local storage\n    */\n    if (Util.isDefined(this.filterCaseSensitive) && this.state.hasOwnProperty('initial-configuration') &&\n      this.state['initial-configuration'].hasOwnProperty('filter-case-sensitive') &&\n      this.filterCaseSensitive === conf['initial-configuration']['filter-case-sensitive']) {\n      this.filterCaseSensitive = conf.hasOwnProperty('filter-case-sensitive') ? conf['filter-case-sensitive'] : this.filterCaseSensitive;\n    }\n\n    const storedColumnFilters = this.oTableStorage.getStoredColumnsFilters(conf);\n    this.showFilterByColumnIcon = storedColumnFilters.length > 0;\n    if (this.oTableMenu && this.oTableMenu.columnFilterOption) {\n      this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon);\n    }\n\n    if (this.oTableColumnsFilterComponent) {\n      this.dataSource.initializeColumnsFilters(storedColumnFilters);\n    }\n\n    if (this.oTableQuickFilterComponent) {\n      this.oTableQuickFilterComponent.setValue(conf.filter);\n      const storedColumnsData = conf.oColumns || [];\n      storedColumnsData.forEach((oColData: any) => {\n        const oCol = this.getOColumn(oColData.attr);\n        if (oCol) {\n          if (oColData.hasOwnProperty('searching')) {\n            oCol.searching = oColData.searching;\n          }\n        }\n      });\n    }\n  }\n\n  onStoreConfigurationClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onStoreConfigurationClicked();\n    }\n  }\n\n  onApplyConfigurationClicked() {\n    if (this.oTableMenu) {\n      this.oTableMenu.onApplyConfigurationClicked();\n    }\n  }\n\n  applyDefaultConfiguration() {\n    this.oTableStorage.reset();\n    this.initializeParams();\n    this.parseVisibleColumns();\n    this._oTableOptions.columns.sort((a: OColumn, b: OColumn) => this.visibleColArray.indexOf(a.attr) - this.visibleColArray.indexOf(b.attr));\n    this.insideTabBugWorkaround();\n    this.onReinitialize.emit(null);\n    this.clearFilters(false);\n    this.reloadData();\n  }\n\n  applyConfiguration(configurationName: string) {\n    const storedConfiguration = this.oTableStorage.getStoredConfiguration(configurationName);\n    if (storedConfiguration) {\n      const properties = storedConfiguration[OTableStorage.STORED_PROPERTIES_KEY] || [];\n      const conf = storedConfiguration[OTableStorage.STORED_CONFIGURATION_KEY];\n      properties.forEach(property => {\n        switch (property) {\n          case 'sort':\n            this.state['sort-columns'] = conf['sort-columns'];\n            this.parseSortColumns();\n            break;\n          case 'columns-display':\n            this.state['oColumns-display'] = conf['oColumns-display'];\n            this.parseVisibleColumns();\n            this.state['select-column-visible'] = conf['select-column-visible'];\n            this.initializeCheckboxColumn();\n            break;\n          case 'quick-filter':\n          case 'columns-filter':\n            this.setFiltersConfiguration(conf);\n            break;\n          case 'page':\n            this.state.currentPage = conf.currentPage;\n            this.currentPage = conf.currentPage;\n            if (this.pageable) {\n              this.state.totalQueryRecordsNumber = conf.totalQueryRecordsNumber;\n              this.state.queryRecordOffset = conf.queryRecordOffset;\n            }\n            this.queryRows = conf['query-rows'];\n            break;\n        }\n      });\n      this.reloadData();\n    }\n  }\n\n  getTitleAlignClass(oCol: OColumn) {\n    let align;\n    const hasTitleAlign = Util.isDefined(oCol.definition) && Util.isDefined(oCol.definition.titleAlign);\n    const autoAlign = (this.autoAlignTitles && !hasTitleAlign) || (hasTitleAlign && oCol.definition.titleAlign === Codes.COLUMN_TITLE_ALIGN_AUTO);\n    if (!autoAlign) {\n      return oCol.getTitleAlignClass();\n    }\n    switch (oCol.type) {\n      case 'image':\n      case 'date':\n      case 'action':\n      case 'boolean':\n        align = Codes.COLUMN_TITLE_ALIGN_CENTER;\n        break;\n      case 'currency':\n      case 'integer':\n      case 'real':\n      case 'percentage':\n        align = Codes.COLUMN_TITLE_ALIGN_END;\n        break;\n      case 'service':\n      default:\n        align = Codes.COLUMN_TITLE_ALIGN_START;\n        break;\n    }\n    return align;\n  }\n\n  public getCellAlignClass(column: OColumn): string {\n    return Util.isDefined(column.definition) && Util.isDefined(column.definition.contentAlign) ? 'o-' + column.definition.contentAlign : '';\n  }\n\n  onTableScroll(e) {\n    if (this.hasScrollableContainer()) {\n      const tableViewHeight = e.target.offsetHeight; // viewport: ~500px\n      const tableScrollHeight = e.target.scrollHeight; // length of all table\n      const scrollLocation = e.target.scrollTop; // how far user scrolled\n\n      // If the user has scrolled within 200px of the bottom, add more data\n      const buffer = 100;\n      const limit_SCROLLVIRTUAL = tableScrollHeight - tableViewHeight - buffer;\n      if (scrollLocation > limit_SCROLLVIRTUAL) {\n        this.getDataScrollable();\n      }\n    }\n  }\n\n  getDataScrollable(): any {\n    const pageVirtualBefore = this.pageScrollVirtual;\n    const pageVirtualEnd = Math.ceil(this.dataSource.resultsLength / Codes.LIMIT_SCROLLVIRTUAL);\n\n    if (pageVirtualEnd !== this.pageScrollVirtual) {\n      this.pageScrollVirtual++;\n    }\n\n    // throw event change scroll\n    if (pageVirtualBefore !== this.pageScrollVirtual) {\n      this.loadingScrollSubject.next(true);\n      this.dataSource.loadDataScrollable = this.pageScrollVirtual;\n    }\n  }\n\n  hasScrollableContainer(): boolean {\n    return this.dataSource && !this.paginationControls && !this.pageable;\n  }\n\n  protected addDefaultRowButtons() {\n    // check permissions\n    if (this.editButtonInRow) {\n      this.addButtonInRow('editButtonInRow');\n    }\n    if (this.detailButtonInRow) {\n      this.addButtonInRow('detailButtonInRow');\n    }\n  }\n\n  protected addButtonInRow(name: string) {\n    const colDef: OColumn = this.createOColumn(name, this);\n    colDef.type = name;\n    colDef.visible = true;\n    colDef.searchable = false;\n    colDef.orderable = false;\n    colDef.resizable = false;\n    colDef.title = undefined;\n    colDef.width = '48px';\n    this.pushOColumnDefinition(colDef);\n    this._oTableOptions.visibleColumns.push(name);\n  }\n\n  get headerHeight() {\n    let height = 0;\n    if (this.tableHeaderEl && this.tableHeaderEl.nativeElement) {\n      height += this.tableHeaderEl.nativeElement.offsetHeight;\n    }\n    if (this.tableToolbarEl && this.tableToolbarEl.nativeElement) {\n      height += this.tableToolbarEl.nativeElement.offsetHeight;\n    }\n    return height;\n  }\n\n  isDetailMode(): boolean {\n    return this.detailMode !== Codes.DETAIL_MODE_NONE;\n  }\n\n  copyAll() {\n    Util.copyToClipboard(JSON.stringify(this.getRenderedValue()));\n  }\n\n  copySelection() {\n    const selectedItems = this.dataSource.getRenderedData(this.getSelectedItems());\n    Util.copyToClipboard(JSON.stringify(selectedItems));\n  }\n\n  viewDetail(item: any): void {\n    if (!this.checkEnabledActionPermission('detail')) {\n      return;\n    }\n    super.viewDetail(item);\n  }\n\n  editDetail(item: any): void {\n    if (!this.checkEnabledActionPermission('edit')) {\n      return;\n    }\n    super.editDetail(item);\n  }\n\n  getOColumnFromTh(th: any): OColumn {\n    let result: OColumn;\n    const classList: any[] = [].slice.call((th as Element).classList);\n    const columnClass = classList.find((className: string) => (className.startsWith('mat-column-')));\n    if (Util.isDefined(columnClass)) {\n      result = this.getOColumn(columnClass.substr('mat-column-'.length));\n    }\n    return result;\n  }\n\n  getColumnInsertable(name): string {\n    return name + this.getSuffixColumnInsertable();\n  }\n\n  isRowSelected(row: any): boolean {\n    return !this.isSelectionModeNone() && this.selection.isSelected(row);\n  }\n\n  protected getColumnsWidthFromDOM() {\n    if (Util.isDefined(this.tableHeaderEl)) {\n      [].slice.call(this.tableHeaderEl.nativeElement.children).forEach(thEl => {\n        const oCol: OColumn = this.getOColumnFromTh(thEl);\n        if (Util.isDefined(oCol) && thEl.clientWidth > 0 && oCol.DOMWidth !== thEl.clientWidth) {\n          oCol.DOMWidth = thEl.clientWidth;\n        }\n      });\n    }\n  }\n\n  refreshColumnsWidth() {\n    this._oTableOptions.columns.filter(c => c.visible).forEach((c) => {\n      c.DOMWidth = undefined;\n    });\n    this.cd.detectChanges();\n    setTimeout(() => {\n      this.getColumnsWidthFromDOM();\n      this._oTableOptions.columns.filter(c => c.visible).forEach(c => {\n        if (Util.isDefined(c.definition) && Util.isDefined(c.definition.width) && this.horizontalScroll) {\n          c.width = c.definition.width;\n        }\n        c.getRenderWidth(this.horizontalScroll);\n      });\n      this.cd.detectChanges();\n    }, 0);\n  }\n\n  private createOColumn(attr?: string, table?: OTableComponent, column?: OTableColumnComponent & OTableColumnCalculatedComponent): OColumn {\n    const instance = new OColumn();\n    if (attr) {\n      instance.attr = attr;\n    }\n    if (table) {\n      instance.setDefaultProperties({\n        orderable: this.orderable,\n        resizable: this.resizable\n      });\n    }\n    if (column) {\n      instance.setColumnProperties(column);\n    }\n    return instance;\n  }\n}\n","import { EventEmitter, HostListener, Injector, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\n\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { OTableColumn } from '../../../../interfaces/o-table-column.interface';\nimport { SnackBarService } from '../../../../services/snackbar.service';\nimport { OTranslateService } from '../../../../services/translate/o-translate.service';\nimport { ObservableWrapper } from '../../../../util/async';\nimport { Util } from '../../../../util/util';\nimport { OTableComponent } from '../../o-table.component';\nimport { OColumn } from '../o-column.class';\nimport { OTableColumnComponent } from '../o-table-column.component';\n\n// import { OTableColumnComponent } from '../o-table-column.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR = [\n  'orequired: required',\n  'showPlaceHolder: show-placeholder',\n  'olabel: label',\n  'updateRecordOnEdit: update-record-on-edit',\n  'showNotificationOnEdit: show-notification-on-edit',\n  'enabled'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR = [\n  'editionStarted',\n  'editionCancelled',\n  'editionCommitted',\n  'onPostUpdateRecord'\n];\n\nexport class OBaseTableCellEditor implements OnInit {\n\n  protected translateService: OTranslateService;\n\n  @InputConverter()\n  orequired: boolean = false;\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  olabel: string;\n  @InputConverter()\n  updateRecordOnEdit: boolean = true;\n  @InputConverter()\n  showNotificationOnEdit: boolean = true;\n  protected _enabled: boolean = true;\n\n  protected _tableColumn: OTableColumn;\n  protected _table: OTableComponent;\n\n  protected _rowData: any;\n\n  formControl: FormControl;\n  controlArgs: any;\n\n  formGroup: FormGroup = new FormGroup({});\n\n  editionStarted: EventEmitter<object> = new EventEmitter<object>();\n  editionCancelled: EventEmitter<object> = new EventEmitter<object>();\n  editionCommitted: EventEmitter<object> = new EventEmitter<object>();\n\n  onPostUpdateRecord: EventEmitter<object> = new EventEmitter<object>();\n\n  public editorCreated: EventEmitter<object> = new EventEmitter<object>();\n\n  inputRef: any;\n\n  protected type: string;\n  registerInColumn: boolean = true;\n\n  protected snackBarService: SnackBarService;\n  protected oldValue: any;\n\n  @HostListener('document:keyup', ['$event'])\n  onDocumentKeyup(event: KeyboardEvent) {\n    this.handleKeyup(event);\n  }\n\n  constructor(protected injector: Injector) {\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.tableColumn = this.injector.get(OTableColumnComponent);\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  ngOnInit(): void {\n    this.initialize();\n  }\n\n  public initialize(): void {\n    this.createFormControl();\n    this.registerEditor();\n    this.editorCreated.emit(this);\n  }\n\n  protected handleKeyup(event: KeyboardEvent) {\n    const oColumn = this.table.getOColumn(this.tableColumnAttr);\n    if (!oColumn || !oColumn.editing) {\n      return;\n    }\n    if (event.keyCode === 27) {\n      // escape\n      this.onEscClicked();\n    } else if (event.keyCode === 13 || event.keyCode === 9) {\n      // intro or tab\n      this.commitEdition();\n    }\n  }\n\n  createFormControl() {\n    if (!this.formControl) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControl = new FormControl(cfg, validators);\n      this.formGroup.addControl(Math.random().toString(36), this.formControl);\n    }\n  }\n\n  registerEditor() {\n    if (this.registerInColumn && !Util.isDefined(this.tableColumn.editor)) {\n      this.tableColumn.registerEditor(this);\n      if (!Util.isDefined(this.type) && Util.isDefined(this.tableColumn.type)) {\n        this.type = this.tableColumn.type;\n      }\n    }\n  }\n\n  getCellData(): any {\n    return this._rowData[this.tableColumnAttr];\n  }\n\n  startEdition(data: any) {\n    this.formGroup.reset();\n    this.rowData = data;\n    if (!this.isSilentControl()) {\n      this.editionStarted.emit(this._rowData);\n    }\n  }\n\n  endEdition(saveChanges) {\n    const oColumn: OColumn = this.table.getOColumn(this.tableColumnAttr);\n    if (oColumn) {\n      const self = this;\n      const updateObserver = this.table.updateCellData(oColumn, this._rowData, saveChanges);\n      if (updateObserver) {\n        updateObserver.subscribe(res => {\n          self.onUpdateSuccess(res);\n          self.table.cd.detectChanges();\n        }, error => {\n          self._rowData[self.tableColumnAttr] = self.oldValue;\n          self.table.dataSource.updateRenderedRowData(self._rowData);\n          self.table.showDialogError(error, 'MESSAGES.ERROR_UPDATE');\n          self.table.cd.detectChanges();\n        });\n      } else {\n        self.table.cd.detectChanges();\n      }\n    }\n  }\n\n  commitEdition() {\n    if (!this.formControl.invalid) {\n      this.oldValue = this._rowData[this.tableColumnAttr];\n      this._rowData[this.tableColumnAttr] = this.formControl.value;\n      if (!this.isSilentControl()) {\n        this.endEdition(true);\n        this.editionCommitted.emit(this._rowData);\n      }\n    }\n  }\n\n  get tableColumn(): OTableColumn {\n    return this._tableColumn;\n  }\n\n  set tableColumn(arg: OTableColumn) {\n    this._tableColumn = arg;\n    if (arg) {\n      this._table = arg.table;\n    }\n  }\n\n  get tableColumnAttr(): string {\n    if (this._tableColumn) {\n      return this._tableColumn.attr;\n    }\n    return undefined;\n  }\n\n  set table(arg: OTableComponent) {\n    this._table = arg;\n  }\n\n  get table(): OTableComponent {\n    return this._table;\n  }\n\n  get rowData(): any {\n    return this._rowData;\n  }\n\n  set rowData(arg: any) {\n    this._rowData = arg;\n    const cellData = this.getCellData();\n    this.formControl.setValue(cellData);\n    this.formControl.markAsTouched();\n\n    if (this.inputRef && this.inputRef.nativeElement.type === 'text') {\n      this.inputRef.nativeElement.setSelectionRange(0, String(cellData).length);\n    }\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = [];\n    if (this.orequired) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  hasError(error: string): boolean {\n    return this.formControl && this.formControl.touched && this.hasErrorExclusive(error);\n  }\n\n  hasErrorExclusive(error: string): boolean {\n    let hasError = false;\n    const errorsOrder = ['matDatepickerMax', 'matDatepickerMin', 'matDatepickerFilter', 'matDatepickerParse', 'required'];\n    const errors = this.formControl.errors;\n    if (Util.isDefined(errors)) {\n      if (Object.keys(errors).length === 1) {\n        return errors.hasOwnProperty(error);\n      } else {\n        for (let i = 0, len = errorsOrder.length; i < len; i++) {\n          hasError = errors.hasOwnProperty(errorsOrder[i]);\n          if (hasError) {\n            hasError = (errorsOrder[i] === error);\n            break;\n          }\n        }\n      }\n    }\n    return hasError;\n  }\n\n  getErrorValue(error: string, prop: string): string {\n    return this.formControl.hasError(error) ? this.formControl.getError(error)[prop] || '' : '';\n  }\n\n  onEscClicked() {\n    if (!this.isSilentControl()) {\n      this.endEdition(false);\n      this.editionCancelled.emit(this._rowData);\n    }\n  }\n\n  protected isSilentControl(): boolean {\n    return this.controlArgs !== undefined && this.controlArgs.silent;\n  }\n\n  getPlaceholder(): string {\n    return this.showPlaceHolder ?\n      this.translateService.get(this.olabel || this.tableColumn ? (this.tableColumn.title || this.tableColumnAttr) : this.tableColumnAttr) :\n      undefined;\n  }\n\n  protected onUpdateSuccess(res: any) {\n    ObservableWrapper.callEmit(this.onPostUpdateRecord, this._rowData);\n    if (this.showNotificationOnEdit) {\n      this.snackBarService.open('MESSAGES.UPDATED', { icon: 'check_circle' });\n    }\n  }\n\n  set enabled(arg: boolean) {\n    this._enabled = arg;\n    if (this.formControl) {\n      this._enabled ? this.formControl.enable() : this.formControl.disable();\n    }\n  }\n\n  get enabled(): boolean {\n    return this._enabled;\n  }\n\n  getFormControl() {\n    return this.formControl;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Injector,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MatCheckboxChange } from '@angular/material';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { Util } from '../../../../../util/util';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR,\n  OBaseTableCellEditor,\n} from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'indeterminateOnNull: indeterminate-on-null',\n  // true-value: true value. Default: true.\n  'trueValue: true-value',\n  // false-value: false value. Default: false.\n  'falseValue: false-value',\n  // boolean-type [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n  'autoCommit: auto-commit'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  selector: 'o-table-cell-editor-boolean',\n  templateUrl: './o-table-cell-editor-boolean.component.html',\n  styleUrls: ['./o-table-cell-editor-boolean.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-cell-editor-boolean]': 'true'\n  }\n})\n\nexport class OTableCellEditorBooleanComponent extends OBaseTableCellEditor implements OnInit {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  indeterminate: boolean = false;\n\n  @InputConverter()\n  indeterminateOnNull: boolean = false;\n  trueValue: any;\n  falseValue: any;\n\n  booleanType: string = 'boolean';\n\n  @InputConverter()\n  autoCommit: boolean = true;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  initialize() {\n    super.initialize();\n    this.parseInputs();\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue, 10);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue, 10);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    const self = this;\n    setTimeout(() => {\n      // using setTimeout to forcing this code execution after super.activateColumnEdition column.editing = true line\n      if (self.autoCommit) {\n        const isTrue = (self.formControl.value === self.trueValue);\n        self.formControl.setValue(isTrue ? self.falseValue : self.trueValue, { emitEvent: false });\n        self.commitEdition();\n      } else {\n        const isTrue = (self.formControl.value === self.trueValue);\n        self.formControl.setValue(isTrue ? self.trueValue : self.falseValue, { emitEvent: false });\n      }\n    }, 0);\n  }\n\n  getCellData() {\n    let cellData = super.getCellData();\n    this.indeterminate = this.indeterminateOnNull && !Util.isDefined(cellData);\n    if (!this.indeterminate) {\n      cellData = this.parseValueByType(cellData);\n    }\n    return cellData;\n  }\n\n  hasCellDataTrueValue(cellData: any): boolean {\n    let result: boolean;\n    if (Util.isDefined(cellData)) {\n      result = (cellData === this.trueValue);\n      if (this.booleanType === 'string' && !Util.isDefined(this.trueValue)) {\n        result = Util.parseBoolean(cellData, false);\n      }\n    }\n    return result;\n  }\n\n  protected parseValueByType(val: any): any {\n    let result = val;\n    const cellIsTrue = this.hasCellDataTrueValue(val);\n    const value = cellIsTrue ? this.trueValue : this.falseValue;\n    switch (this.booleanType) {\n      case 'string':\n        result = this.translateService.get(value);\n        break;\n      case 'number':\n        result = parseInt(value, 10);\n        break;\n      default:\n        break;\n    }\n    return result;\n  }\n\n  onChange(arg: MatCheckboxChange) {\n    this.formControl.setValue(arg.checked ? this.trueValue : this.falseValue, { emitEvent: false });\n    this.commitEdition();\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Injector,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { DateAdapter, MAT_DATE_LOCALE, MatDatepicker, MatDatepickerInputEvent } from '@angular/material';\nimport moment from 'moment';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { MomentService } from '../../../../../services/moment.service';\nimport { OntimizeMomentDateAdapter } from '../../../../../shared/material/date/ontimize-moment-date-adapter';\nimport { DateFilterFunction } from '../../../../../types/date-filter-function.type';\nimport { ODateValueType } from '../../../../../types/o-date-value.type';\nimport { Util } from '../../../../../util/util';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR,\n  OBaseTableCellEditor,\n} from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'format',\n  'locale',\n  'oStartView: start-view',\n  'min',\n  'max',\n  'oTouchUi: touch-ui',\n  'startAt: start-at',\n  'filterDate: filter-date',\n  // value-type [timestamp|string]: type must be defined to be able to save its value,\n  // e.g. classic ontimize server dates come as timestamps (number), but to be able to save them they have to be send as strings with\n  // the format 'YYYY-MM-DD HH:mm:ss'Default: timestamp.\n  'dateValueType: date-value-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  selector: 'o-table-cell-editor-date',\n  templateUrl: './o-table-cell-editor-date.component.html',\n  styleUrls: ['./o-table-cell-editor-date.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: DateAdapter, useClass: OntimizeMomentDateAdapter, deps: [MAT_DATE_LOCALE] }\n  ]\n})\n\nexport class OTableCellEditorDateComponent extends OBaseTableCellEditor implements OnInit {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n  @ViewChild('input', { static: false }) inputRef: ElementRef;\n\n  format: string = 'L';\n  protected locale: string;\n  oStartView: 'month' | 'year' = 'month';\n  protected min: string;\n  protected max: string;\n  @InputConverter()\n  oTouchUi: boolean = false;\n  protected startAt: string;\n  filterDate: DateFilterFunction;\n  _dateValueType: ODateValueType = 'timestamp';\n\n  oStartAt: Date;\n  oMinDate: Date;\n  oMaxDate: Date;\n\n  private momentSrv: MomentService;\n  minDateString: string;\n  maxDateString: string;\n\n  protected datepicker: MatDatepicker<Date>;\n  constructor(\n    protected injector: Injector,\n    protected momentDateAdapter: DateAdapter<OntimizeMomentDateAdapter>\n  ) {\n    super(injector);\n    this.momentSrv = this.injector.get(MomentService);\n  }\n\n  initialize(): void {\n    super.initialize();\n    if (!this.locale) {\n      this.locale = this.momentSrv.getLocale();\n    }\n    if (this.format) {\n      (this.momentDateAdapter as any).oFormat = this.format;\n    }\n\n    this.momentDateAdapter.setLocale(this.locale);\n    if (this.startAt) {\n      this.oStartAt = new Date(this.startAt);\n    }\n\n    if (this.min) {\n      const date = new Date(this.min);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.oMinDate = date;\n        this.minDateString = momentD.format(this.format);\n      }\n    }\n\n    if (this.max) {\n      const date = new Date(this.max);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.oMaxDate = date;\n        this.maxDateString = momentD.format(this.format);\n      }\n    }\n  }\n\n  protected handleKeyup(event: KeyboardEvent) {\n    const oColumn = this.table.getOColumn(this.tableColumn.attr);\n    if (!oColumn) {\n      return;\n    }\n    if (!oColumn.editing && this.datepicker && this.datepicker.opened) {\n      this.datepicker.close();\n    } else {\n      super.handleKeyup(event);\n    }\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    if (!this.startAt) {\n      this.oStartAt = this.getCellData();\n    }\n  }\n\n  getCellData(): any {\n    const value = super.getCellData();\n    if (Util.isDefined(value)) {\n      let result = value;\n      let m;\n      switch (this.dateValueType) {\n        case 'string':\n          m = moment(value, this.format);\n          break;\n        case 'date':\n          break;\n        case 'iso-8601':\n        case 'timestamp':\n        default:\n          m = moment(value);\n          break;\n      }\n      if (Util.isDefined(m)) {\n        result = m.toDate();\n      }\n      return result;\n    }\n    return value;\n  }\n\n  commitEdition() {\n    // !this.datepicker.opened &&\n    if (!this.formControl.invalid) {\n      this.oldValue = this._rowData[this.tableColumnAttr];\n      this._rowData[this.tableColumnAttr] = this.getValueByValyType();\n      if (!this.isSilentControl()) {\n        this.endEdition(true);\n        this.editionCommitted.emit(this._rowData);\n      }\n    }\n  }\n\n  protected getValueByValyType(): any {\n    let result = this.formControl.value;\n    const m = moment(this.formControl.value);\n    switch (this.dateValueType) {\n      case 'string':\n        result = m.format(this.format);\n        break;\n      case 'date':\n        result = new Date(result);\n        break;\n      case 'iso-8601':\n        result = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        result = m.valueOf();\n        break;\n    }\n    return result;\n  }\n\n  onDateChange(event: MatDatepickerInputEvent<any>) {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    let val = isValid ? event.value.valueOf() : event.value;\n    const m = moment(val);\n    switch (this.dateValueType) {\n      case 'string':\n        if (val) {\n          val = m.format(this.format);\n        }\n        break;\n      case 'date':\n        val = new Date(val);\n        break;\n      case 'iso-8601':\n        val = m.toISOString();\n        break;\n      case 'timestamp':\n      default:\n        break;\n    }\n\n    this.formControl.setValue(val, {\n      emitModelToViewChange: false,\n      emitEvent: false\n    });\n  }\n\n  openDatepicker(d: MatDatepicker<Date>) {\n    this.datepicker = d;\n    d.open();\n  }\n\n  set dateValueType(val: any) {\n    this._dateValueType = Util.convertToODateValueType(val);\n  }\n\n  get dateValueType(): any {\n    return this._dateValueType;\n  }\n\n  onClosed() {\n    this.inputRef.nativeElement.focus();\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\nimport { FormControl, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR,\n  OBaseTableCellEditor,\n} from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'min',\n  'max',\n  'step'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  selector: 'o-table-cell-editor-integer',\n  templateUrl: './o-table-cell-editor-integer.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER\n})\n\nexport class OTableCellEditorIntegerComponent extends OBaseTableCellEditor {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 1;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  getCellData() {\n    const cellData = super.getCellData();\n    const intValue = parseInt(cellData, 10);\n    return isNaN(intValue) ? undefined : intValue;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (typeof (this.min) !== 'undefined') {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (typeof (this.max) !== 'undefined') {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        min: {\n          requiredMin: this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        max: {\n          requiredMax: this.max\n        }\n      };\n    }\n    return {};\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\nimport { FormControl, ValidatorFn } from '@angular/forms';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER,\n} from '../integer/o-table-cell-editor-integer.component';\nimport { OBaseTableCellEditor } from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER\n];\n\n@Component({\n  selector: 'o-table-cell-editor-real',\n  templateUrl: './o-table-cell-editor-real.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL\n})\n\nexport class OTableCellEditorRealComponent extends OBaseTableCellEditor {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number = 0.01;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  getCellData() {\n    const cellData = super.getCellData();\n    const floatValue = parseFloat(cellData);\n    return isNaN(floatValue) ? undefined : floatValue;\n  }\n\n  resolveValidators(): ValidatorFn[] {\n    const validators: ValidatorFn[] = super.resolveValidators();\n    if (typeof (this.min) !== 'undefined') {\n      validators.push(this.minValidator.bind(this));\n    }\n    if (typeof (this.max) !== 'undefined') {\n      validators.push(this.maxValidator.bind(this));\n    }\n    return validators;\n  }\n\n  protected minValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (control.value < this.min)) {\n      return {\n        min: {\n          requiredMin: this.min\n        }\n      };\n    }\n    return {};\n  }\n\n  protected maxValidator(control: FormControl) {\n    if ((typeof (control.value) === 'number') && (this.max < control.value)) {\n      return {\n        max: {\n          requiredMax: this.max\n        }\n      };\n    }\n    return {};\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Injector, TemplateRef, ViewChild } from '@angular/core';\n\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR,\n  OBaseTableCellEditor,\n} from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  selector: 'o-table-cell-editor-text',\n  templateUrl: './o-table-cell-editor-text.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT\n})\n\nexport class OTableCellEditorTextComponent extends OBaseTableCellEditor {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n  @ViewChild('input', { static: false }) inputRef: ElementRef;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n\n}\n","import {\n  AfterViewChecked,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  HostListener,\n  Injector,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl, ValidatorFn } from '@angular/forms';\nimport { DateAdapter, MAT_DATE_LOCALE, MatDatepicker, MatDatepickerInput, MatDatepickerInputEvent } from '@angular/material';\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\nimport moment from 'moment';\nimport { NgxMaterialTimepickerComponent } from 'ngx-material-timepicker';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { MomentService } from '../../../../../services/moment.service';\nimport { FormValueOptions } from '../../../../../types/form-value-options.type';\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR,\n  OBaseTableCellEditor,\n} from '../o-base-table-cell-editor.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR,\n  'oDateFormat: date-format',\n  'oDateLocale: date-locale',\n  'oDateStartView: date-start-view',\n  'oMinDate: date-min',\n  'oMaxDate: date-max',\n  'oDateTouchUi: date-touch-ui',\n  'oDateStartAt: date-start-at',\n  'oHourFormat: hour-format',\n  'oHourMin: hour-min',\n  'oHourMax: hour-max',\n  'oHourPlaceholder: hour-placeholder',\n  'oDatePlaceholder: date-placeholder'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR\n];\n\n@Component({\n  selector: 'o-table-cell-editor-time',\n  templateUrl: './o-table-cell-editor-time.component.html',\n  styleUrls: ['./o-table-cell-editor-time.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] }\n  ],\n})\n\nexport class OTableCellEditorTimeComponent extends OBaseTableCellEditor implements OnInit, AfterViewChecked {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  @ViewChild('dateInput', { static: false })\n  protected dateInput: ElementRef;\n\n  @ViewChild('hourInput', { static: false })\n  protected hourInput: ElementRef;\n\n  @ViewChild('picker', { static: false })\n  public picker: NgxMaterialTimepickerComponent;\n\n  oStartView: 'month' | 'year' = 'month';\n\n  @ViewChild(MatDatepickerInput, { static: false })\n  public datepickerInput: MatDatepickerInput<Date>;\n\n  formControlHour: FormControl;\n  formControlDate: FormControl;\n\n  public oDateFormat: string = 'L';\n  public oHourMax: string;\n  public oHourMin: string;\n  @InputConverter()\n  public oDateTouchUi: boolean;\n  public oDateStartAt: string;\n\n  private _oDateLocale;\n  protected oHourPlaceholder: string;\n  protected oDatePlaceholder: string;\n  public oHourFormat: number = Codes.TWENTY_FOUR_HOUR_FORMAT;\n  protected onKeyboardInputDone = false;\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  protected _minDateString: string;\n  protected _maxDateString: string;\n  protected datepicker: MatDatepicker<Date>;\n  private momentSrv: MomentService;\n\n  // only true when hour input is focused\n  public enabledCommitOnTabPress: boolean = false;\n  protected activeKeys: object = {};\n\n  @HostListener('document:keydown', ['$event'])\n  onDocumentKeydown(event: KeyboardEvent) {\n    this.handleKeydown(event);\n  }\n\n  constructor(\n    protected injector: Injector,\n    private adapter: DateAdapter<any>\n  ) {\n    super(injector);\n    this.momentSrv = this.injector.get(MomentService);\n  }\n\n  initialize(): void {\n    super.initialize();\n    this.createInternalFormControl();\n    if (!this._oDateLocale) {\n      this.oDateLocale = this.momentSrv.getLocale();\n    }\n\n    if (this.oMinDate) {\n      const date = new Date(this.oMinDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.minDateString = momentD.format(this.oDateFormat);\n      }\n    }\n\n    if (this.oMaxDate) {\n      const date = new Date(this.oMaxDate);\n      const momentD = moment(date);\n      if (momentD.isValid()) {\n        this.maxDateString = momentD.format(this.oDateFormat);\n      }\n    }\n  }\n\n  createInternalFormControl() {\n    if (!this.formControlDate) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControlDate = new FormControl(cfg, validators);\n      this.formGroup.addControl('dateInput', this.formControlDate);\n    }\n\n    if (!this.formControlHour) {\n      const validators: ValidatorFn[] = this.resolveValidators();\n      const cfg = {\n        value: undefined,\n        disabled: !this.enabled\n      };\n      this.formControlHour = new FormControl(cfg, validators);\n      this.formGroup.addControl('hourInput', this.formControlHour);\n    }\n  }\n\n  public ngAfterViewChecked(): void {\n    this.modifyPickerMethods();\n  }\n\n  setTime(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.picker.updateTime(this.formControlHour.value);\n  }\n\n  onDateChange(event: MatDatepickerInputEvent<any>) {\n    const isValid = event.value && event.value.isValid && event.value.isValid();\n    const val = isValid ? event.value.valueOf() : moment().startOf('day');\n\n    this.formControlDate.setValue(val, {\n      emitModelToViewChange: false,\n      emitEvent: false\n    });\n    this.updateComponentValue();\n  }\n\n  protected updateValeOnInputChange(blurEvent: any): void {\n    if (this.onKeyboardInputDone) {\n      let value: string = blurEvent.currentTarget.value;\n      // ngx-material-timepicker does not allow writing characters on input, so we add 'AM/PM' in order to make validation work properly\n      value = this.parseHour(value);\n      this.formControlHour.setValue(value);\n    }\n    this.onKeyboardInputDone = false;\n  }\n\n  /**\n   * Receives an hour input introduced by the user and returns the hour formated acording current format\n   * @param value\n   */\n  protected parseHour(value: string): string {\n    const strArray = value.split(':');\n    let hour: any = strArray[0];\n\n    if (Codes.TWELVE_FOUR_HOUR_FORMAT === this.oHourFormat) {\n      if (hour) {\n        hour = parseInt(hour, 10);\n        const period = hour <= 12 ? ' AM' : ' PM';\n        if (hour > 12) {\n          hour = hour - 12;\n        }\n        strArray[0] = hour;\n        value = strArray.join(':') + period;\n      }\n    }\n    return value;\n  }\n\n  public onHourChange(event) {\n    let value;\n    if (event instanceof Event) {\n      this.updateValeOnInputChange(event);\n    } else {\n      value = this.convertToFormatString(event);\n      /** emitModelToViewChange: false  because onChange event is trigger in ngModelChange */\n      this.formControlHour.setValue(value, {\n        emitEvent: false,\n        emitModelToViewChange: false\n      });\n    }\n    this.updateComponentValue();\n  }\n\n  public setTimestampValue(value: any, options?: FormValueOptions): void {\n    let parsedValue;\n    const momentV = Util.isDefined(value) ? moment(value) : value;\n    if (momentV && momentV.isValid()) {\n      parsedValue = momentV.utcOffset(0).format(this.formatString);\n    }\n    this.formControlHour.setValue(parsedValue, options);\n  }\n\n  protected convertToFormatString(value): string {\n    if (value === '00:00' || !Util.isDefined(value)) {\n      return value;\n    }\n    const formatStr = this.oHourFormat === Codes.TWENTY_FOUR_HOUR_FORMAT ? 'HH:mm' : 'hh:mm a';\n    let result;\n    if (typeof value === 'number') {\n      result = moment(value).format(formatStr);\n    } else {\n      result = value ? moment(value, 'h:mm A').format(formatStr) : value;\n    }\n    return result;\n  }\n\n  openDatepicker(d: MatDatepicker<Date>) {\n    this.datepicker = d;\n    d.open();\n  }\n\n  getPlaceholderHour() {\n    let placeholder = '';\n    if (this.oHourPlaceholder) {\n      placeholder = this.translateService.get(this.oHourPlaceholder);\n    } else {\n      placeholder = super.getPlaceholder();\n    }\n    return placeholder;\n  }\n\n  getPlaceholderDate() {\n    let placeholder = '';\n    if (this.oDatePlaceholder) {\n      placeholder = this.translateService.get(this.oDatePlaceholder);\n    } else {\n      placeholder = super.getPlaceholder();\n    }\n    return placeholder;\n  }\n\n  public open(e?: Event): void {\n    if (Util.isDefined(e)) {\n      e.stopPropagation();\n    }\n    if (this.picker) {\n      this.picker.open();\n    }\n  }\n\n  protected handleKeydown(e: KeyboardEvent) {\n    this.activeKeys[e.keyCode] = true;\n  }\n\n  protected handleKeyup(e: KeyboardEvent) {\n    this.activeKeys[e.keyCode] = false;\n    const oColumn = this.table.getOColumn(this.tableColumn.attr);\n    if (!oColumn) {\n      return;\n    }\n    if (e.keyCode === 9 && (this.activeKeys[16] || !this.enabledCommitOnTabPress)) {\n      // tab + shift or tab pressed with focus in the date component\n      return;\n    }\n    if (!oColumn.editing && this.datepicker && this.datepicker.opened) {\n      this.datepicker.close();\n    } else {\n      super.handleKeyup(e);\n    }\n  }\n\n  protected updateComponentValue(): void {\n\n    let timeValue: number;\n    const values = this.formGroup.getRawValue();\n    const mDate = (values['dateInput'] ? moment(values['dateInput']) : moment()).startOf('day');\n\n    const mHour = moment(values['hourInput'], this.formatString);\n    timeValue = mDate.clone()\n      .set('hour', mHour.get('hour'))\n      .set('minute', mHour.get('minutes'))\n      .valueOf();\n\n    if (this.formControl) {\n      this.formControl.setValue(timeValue);\n      this.formControl.markAsDirty();\n    }\n  }\n\n  protected modifyPickerMethods(): void {\n    if (this.picker && this.picker.inputElement) {\n      this.picker.inputElement.addEventListener('change', () => {\n        this.onKeyboardInputDone = true;\n      });\n    }\n    // if (this.picker) {\n    //   const ngxTimepicker = this.picker.timepickerInput;\n    //   if (ngxTimepicker && ngxTimepicker.onInput) {\n    //     ngxTimepicker.onInput = (value: string) => this.onKeyboardInputDone = true;\n    //   }\n    // }\n  }\n\n  hasErrorDate(error: string): boolean {\n    return this.formControlDate && this.formControlDate.touched && this.hasErrorExclusive(error);\n  }\n\n  hasErrorExclusive(error: string): boolean {\n    let hasError = false;\n    const errorsOrder = ['matDatepickerMax', 'matDatepickerMin', 'matDatepickerFilter', 'matDatepickerParse', 'required'];\n    const errors = this.formControlDate.errors;\n    if (Util.isDefined(errors)) {\n      if (Object.keys(errors).length === 1) {\n        return errors.hasOwnProperty(error);\n      } else {\n        for (let i = 0, len = errorsOrder.length; i < len; i++) {\n          hasError = errors.hasOwnProperty(errorsOrder[i]);\n          if (hasError) {\n            hasError = (errorsOrder[i] === error);\n            break;\n          }\n        }\n      }\n    }\n    return hasError;\n  }\n  hasErrorHour(error: string): boolean {\n    return this.formControlHour && this.formControlHour.touched;\n  }\n\n  getCellDataDate(): any {\n    const value = super.getCellData();\n    if (Util.isDefined(value)) {\n      const m = moment(value);\n      let result = value;\n      if (Util.isDefined(m)) {\n        result = m.toDate();\n      }\n      return result;\n    }\n    return value;\n  }\n\n  getCellDataHour(): any {\n    const value = super.getCellData();\n    if (Util.isDefined(value)) {\n      const m = moment(value);\n      let result = value;\n      if (Util.isDefined(m)) {\n        result = m.format(Codes.formatString(this.oHourFormat));\n      }\n      return result;\n    }\n    return value;\n  }\n\n  startEdition(data: any) {\n    super.startEdition(data);\n    const cellDataDate = this.getCellDataDate();\n    this.formControlDate.setValue(cellDataDate);\n\n    const cellDataHour = this.getCellDataHour();\n    this.formControlHour.setValue(cellDataHour);\n    this.formGroup.markAsTouched();\n  }\n\n  get formatString(): string {\n    return Codes.formatString(this.oHourFormat);\n  }\n\n  get minDateString(): string {\n    return this._minDateString;\n  }\n\n  set minDateString(val: string) {\n    this._minDateString = val;\n  }\n\n  get maxDateString(): string {\n    return this._maxDateString;\n  }\n\n  set maxDateString(val: string) {\n    this._maxDateString = val;\n  }\n\n  public set oDateLocale(value: string) {\n    this._oDateLocale = value;\n    if (Util.isDefined(this._oDateLocale)) {\n      this.adapter.setLocale(value);\n    }\n  }\n\n  get minDate(): Date {\n    return new Date(this.oMinDate);\n  }\n\n  get maxDate(): Date {\n    return new Date(this.oMaxDate);\n  }\n\n  onDatepickerClosed() {\n    this.dateInput.nativeElement.focus();\n  }\n\n  onTimepickerClosed() {\n    this.hourInput.nativeElement.focus();\n  }\n\n  commitEdition() {\n    if (!this.formGroup.invalid) {\n      super.commitEdition();\n    }\n  }\n\n  onKeyDown(e: KeyboardEvent): void {\n    if (!Codes.isHourInputAllowed(e)) {\n      e.preventDefault();\n    }\n  }\n\n}\n","import { OTableCellEditorBooleanComponent, DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN } from './boolean/o-table-cell-editor-boolean.component';\nimport { OTableCellEditorDateComponent, DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE } from './date/o-table-cell-editor-date.component';\nimport { OTableCellEditorIntegerComponent } from './integer/o-table-cell-editor-integer.component';\nimport { OTableCellEditorRealComponent, DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL } from './real/o-table-cell-editor-real.component';\nimport { OTableCellEditorTextComponent, DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT, DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT } from './text/o-table-cell-editor-text.component';\nimport { OTableCellEditorTimeComponent, DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME } from './time/o-table-cell-editor-time.component';\n\nexport const O_TABLE_CELL_EDITORS = [\n  OTableCellEditorBooleanComponent,\n  OTableCellEditorDateComponent,\n  OTableCellEditorIntegerComponent,\n  OTableCellEditorRealComponent,\n  OTableCellEditorTextComponent,\n  OTableCellEditorTimeComponent\n];\n\nexport const O_TABLE_CELL_EDITORS_INPUTS = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL, // includes Integer\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME,\n];\n\nexport const O_TABLE_CELL_EDITORS_OUTPUTS = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT\n];\n\nexport const editorsMapping = {\n  boolean: OTableCellEditorBooleanComponent,\n  date: OTableCellEditorDateComponent,\n  integer: OTableCellEditorIntegerComponent,\n  real: OTableCellEditorRealComponent,\n  percentage: OTableCellEditorRealComponent,\n  currency: OTableCellEditorRealComponent,\n  text: OTableCellEditorTextComponent,\n  time: OTableCellEditorTimeComponent\n};\n","import { AfterContentInit, Injector, PipeTransform, TemplateRef, OnInit } from '@angular/core';\n\nimport { OTableColumn } from '../../../../interfaces/o-table-column.interface';\nimport { Util } from '../../../../util/util';\nimport { OTableComponent } from '../../o-table.component';\nimport { OTableColumnComponent } from '../o-table-column.component';\n\nexport const DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER = [\n  'filterSource: filter-source',\n  'filterFunction: filter-function'\n];\n\nexport class OBaseTableCellRenderer implements OnInit, AfterContentInit {\n\n  public templateref: TemplateRef<any>;\n  public tableColumn: OTableColumn;\n  public _filterSource: 'render' | 'data' | 'both' = 'render';\n  public filterFunction: (cellValue: any, rowValue: any, quickFilter?: string) => boolean;\n\n  protected type: string;\n  protected pipeArguments: any;\n  protected componentPipe: PipeTransform;\n\n  constructor(protected injector: Injector) {\n    this.tableColumn = this.injector.get(OTableColumnComponent);\n  }\n\n  public ngOnInit() {\n    this.initialize();\n  }\n\n  public initialize(): void {\n\n  }\n\n  public ngAfterContentInit(): void {\n    if (typeof this.filterFunction !== 'function') {\n      this.filterFunction = undefined;\n    }\n    this.registerRenderer();\n  }\n\n  get table(): OTableComponent {\n    return this.tableColumn.table;\n  }\n\n  get column(): string {\n    return this.tableColumn.attr;\n  }\n\n  public registerRenderer(): void {\n    this.tableColumn.registerRenderer(this);\n    if (!Util.isDefined(this.type) && Util.isDefined(this.tableColumn.type)) {\n      this.type = this.tableColumn.type;\n    }\n  }\n\n  /**\n   * Returns the displayed table cell value\n   * @param cellvalue the internal table cell value\n   * @param rowvalue the table row value\n   */\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    let parsedValue: string;\n    if (this.componentPipe && this.pipeArguments !== undefined && cellvalue !== undefined) {\n      parsedValue = this.componentPipe.transform(cellvalue, this.pipeArguments);\n    } else {\n      parsedValue = cellvalue;\n    }\n    return parsedValue;\n  }\n\n  public getTooltip(cellValue: any, rowValue: any): string {\n    return this.getCellData(cellValue, rowValue);\n  }\n\n  set filterSource(val: string) {\n    const lowerVal = (val || '').toLowerCase();\n    this._filterSource = (lowerVal === 'render' || lowerVal === 'data' || lowerVal === 'both') ? lowerVal : 'render';\n  }\n\n  get filterSource(): string {\n    return this._filterSource;\n  }\n\n  getFilter(cellValue: any, rowValue?: any): any[] {\n    let result;\n    switch (this.filterSource) {\n      case 'render':\n        result = [this.getCellData(cellValue, rowValue)];\n        break;\n      case 'data':\n        result = [cellValue];\n        break;\n      case 'both':\n        result = [cellValue, this.getCellData(cellValue, rowValue)];\n        break;\n    }\n    return result;\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  'icon',\n  'svgIcon:svg-icon',\n  'action',\n  'text',\n  'iconPosition: icon-position'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-action',\n  templateUrl: './o-table-cell-renderer-action.component.html',\n  styleUrls: ['./o-table-cell-renderer-action.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION\n})\nexport class OTableCellRendererActionComponent extends OBaseTableCellRenderer implements OnInit {\n\n  onClick: EventEmitter<object> = new EventEmitter<object>();\n  action: string;\n  _icon: string;\n  text: string;\n  iconPosition: string;\n  public svgIcon: string;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'action';\n    this.tableColumn.orderable = false;\n    this.tableColumn.searchable = false;\n  }\n\n  initialize() {\n    super.initialize();\n    if (this.table) {\n      const oCol = this.table.getOColumn(this.tableColumn.attr);\n      oCol.title = Util.isDefined(this.tableColumn.title) ? this.tableColumn.title : undefined;\n    }\n    this.iconPosition = Util.parseIconPosition(this.iconPosition);\n  }\n\n  getCellData(value: any) {\n    return value;\n  }\n\n  innerOnClick(event, rowData) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    if (Util.isDefined(this.action)) {\n      switch (this.action.toLowerCase()) {\n        case 'detail':\n          this.table.viewDetail(rowData);\n          break;\n        case 'edit':\n          this.table.editDetail(rowData);\n          break;\n        default:\n          break;\n      }\n    } else {\n      this.onClick.emit(rowData);\n    }\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  set icon(arg: string) {\n    this._icon = arg;\n  }\n\n  isIconPositionLeft() {\n    return Util.isDefined(this.icon) && this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n\n  isIconPositionRight() {\n    return Util.isDefined(this.icon) && this.iconPosition === Codes.ICON_POSITION_RIGHT;\n  }\n\n  isSvgIconPositionRight() {\n    return Util.isDefined(this.svgIcon) && this.iconPosition === Codes.ICON_POSITION_RIGHT;\n  }\n\n  isSvgIconPositionLeft() {\n    return Util.isDefined(this.svgIcon) && this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\nimport { Util } from '../../../../../util/util';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  // true-value [string]: true value. Default: no value.\n  'trueValue: true-value',\n  // false-value [string]: false value. Default: no value.\n  'falseValue: false-value',\n  // false-value [number|boolean|string]: cellData value type. Default: boolean\n  'booleanType: boolean-type',\n\n  'renderTrueValue: render-true-value',\n  'renderFalseValue: render-false-value',\n  // [string|number|icon|image]\n  'renderType: render-type'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-boolean',\n  templateUrl: './o-table-cell-renderer-boolean.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN\n})\nexport class OTableCellRendererBooleanComponent extends OBaseTableCellRenderer implements OnInit {\n\n  trueValue: any;\n  falseValue: any;\n  protected _renderTrueValue: any;\n  protected _renderFalseValue: any;\n\n  protected _renderType: string = 'string';\n  protected _booleanType: string = 'boolean';\n  protected translateService: OTranslateService;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true })\n  templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'boolean';\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  initialize() {\n    super.initialize();\n    this.parseInputs();\n  }\n\n  protected parseInputs() {\n    switch (this.booleanType) {\n      case 'string':\n        this.parseStringInputs();\n        break;\n      case 'number':\n        this.parseNumberInputs();\n        break;\n      default:\n        this.trueValue = true;\n        this.falseValue = false;\n        break;\n    }\n  }\n\n  protected parseStringInputs() {\n    if ((this.trueValue || '').length === 0) {\n      this.trueValue = undefined;\n    }\n    if ((this.falseValue || '').length === 0) {\n      this.falseValue = undefined;\n    }\n  }\n\n  protected parseNumberInputs() {\n    this.trueValue = parseInt(this.trueValue, 10);\n    if (isNaN(this.trueValue)) {\n      this.trueValue = 1;\n    }\n    this.falseValue = parseInt(this.falseValue, 10);\n    if (isNaN(this.falseValue)) {\n      this.falseValue = 0;\n    }\n  }\n\n  hasCellDataTrueValue(cellData: any): boolean {\n    let result: boolean;\n    if (Util.isDefined(cellData)) {\n      result = (cellData === this.trueValue);\n      if (this.booleanType === 'string' && !Util.isDefined(this.trueValue)) {\n        result = Util.parseBoolean(cellData, false);\n      }\n    }\n    return result;\n  }\n\n  getCellData(cellvalue: any, rowvalue?: any) {\n    let result = cellvalue;\n    const cellIsTrue = this.hasCellDataTrueValue(cellvalue);\n    const value = cellIsTrue ? this.trueValue : this.falseValue;\n    switch (this.renderType) {\n      case 'string':\n        result = this.translateService.get(value);\n        break;\n      case 'number':\n        result = value;\n        break;\n      default:\n        break;\n    }\n    return result;\n  }\n\n  get booleanType(): string {\n    return this._booleanType;\n  }\n\n  set booleanType(arg: string) {\n    arg = (arg || '').toLowerCase();\n    if (['number', 'boolean', 'string'].indexOf(arg) === -1) {\n      arg = 'boolean';\n    }\n    this._booleanType = arg;\n  }\n\n  get renderType(): string {\n    return this._renderType;\n  }\n\n  set renderType(arg: string) {\n    arg = (arg || '').toLowerCase();\n    if (['string', 'number', 'icon', 'image'].indexOf(arg) === -1) {\n      arg = 'string';\n    }\n    this._renderType = arg;\n  }\n\n  get renderTrueValue(): string {\n    return this._renderTrueValue || this.trueValue;\n  }\n\n  set renderTrueValue(arg: string) {\n    this._renderTrueValue = arg;\n  }\n\n  get renderFalseValue(): string {\n    return this._renderFalseValue || this.falseValue;\n  }\n\n  set renderFalseValue(arg: string) {\n    this._renderFalseValue = arg;\n  }\n}\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  Injector,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { IIntegerPipeArgument, OIntegerPipe } from '../../../../../pipes/o-integer.pipe';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  // grouping [no|yes]: grouping thousands. Default: yes.\n  'grouping',\n  // thousand-separator [string]: thousands separator when grouping. Default: comma (,).\n  'thousandSeparator: thousand-separator'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-integer',\n  templateUrl: './o-table-cell-renderer-integer.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER\n})\nexport class OTableCellRendererIntegerComponent extends OBaseTableCellRenderer implements AfterContentInit, OnInit {\n\n  @InputConverter()\n  protected grouping: boolean = true;\n  protected thousandSeparator: string = ',';\n  protected componentPipe: OIntegerPipe;\n  protected pipeArguments: IIntegerPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'integer';\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OIntegerPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    this.pipeArguments = {\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { IRealPipeArgument, ORealPipe } from '../../../../../pipes/o-real.pipe';\nimport { NumberService } from '../../../../../services/number.service';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER,\n  OTableCellRendererIntegerComponent,\n} from '../integer/o-table-cell-renderer-integer.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER,\n  // decimal-separator [string]: decimal separator. Default: dot (.).\n  'decimalSeparator: decimal-separator',\n  'minDecimalDigits: min-decimal-digits',\n  'maxDecimalDigits: max-decimal-digits'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-real',\n  templateUrl: './o-table-cell-renderer-real.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL\n})\nexport class OTableCellRendererRealComponent extends OTableCellRendererIntegerComponent implements OnInit {\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  protected decimalSeparator: string = '.';\n  protected numberService: NumberService;\n\n  protected componentPipe: ORealPipe;\n  protected pipeArguments: IRealPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'real';\n    this.numberService = this.injector.get(NumberService);\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new ORealPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    this.pipeArguments = {\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { ICurrencyPipeArgument, OCurrencyPipe } from '../../../../../pipes/o-currency.pipe';\nimport { CurrencyService } from '../../../../../services/currency.service';\nimport { OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\nimport { DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL } from '../real/o-table-cell-renderer-real.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL,\n\n  // currency-symbol [string]: currency symbol. Default: dollar ($).\n  'currencySymbol: currency-symbol',\n\n  // currency-symbol-position [left|right]: position of the currency symbol. Default: left.\n  'currencySymbolPosition: currency-symbol-position'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-currency',\n  templateUrl: './o-table-cell-renderer-currency.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY\n})\nexport class OTableCellRendererCurrencyComponent extends OBaseTableCellRenderer implements OnInit {\n\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  protected currencySymbol: string;\n  protected currencySymbolPosition: string;\n  protected decimalSeparator: string = '.';\n\n  protected grouping: boolean = true;\n  protected thousandSeparator: string = ',';\n\n  protected currencyService: CurrencyService;\n\n  protected componentPipe: OCurrencyPipe;\n  protected pipeArguments: ICurrencyPipeArgument;\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'currency';\n    this.currencyService = this.injector.get(CurrencyService);\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OCurrencyPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    if (typeof this.currencySymbol === 'undefined') {\n      this.currencySymbol = this.currencyService.symbol;\n    }\n    if (typeof this.currencySymbolPosition === 'undefined') {\n      this.currencySymbolPosition = this.currencyService.symbolPosition;\n    }\n\n    this.pipeArguments = {\n      currencySimbol: this.currencySymbol,\n      currencySymbolPosition: this.currencySymbolPosition,\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator\n    };\n\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { IMomentPipeArgument, OMomentPipe } from '../../../../../pipes/o-moment.pipe';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  // format [string]: date format. See MomentJS (http://momentjs.com/).\n  'format'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-date',\n  templateUrl: './o-table-cell-renderer-date.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE\n})\nexport class OTableCellRendererDateComponent extends OBaseTableCellRenderer implements OnInit {\n\n  protected componentPipe: OMomentPipe;\n  protected pipeArguments: IMomentPipeArgument;\n\n  protected format: string;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'date';\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OMomentPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    // Called after the constructor, initializing input properties, and the first call to ngOnChanges.\n    this.pipeArguments = {\n      format: this.format\n    };\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../o-column.class';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  // image-type [base64|url]: image type (extern url or base64). Default: no value.\n  'imageType: image-type',\n  // empty-image [string]: url of the image to be shown if the column has not any value. Default: no value.\n  'emptyImage: empty-image',\n  // avatar [no|yes]: view image as avatar (circle), only at presentation level. Default: no.\n  'avatar'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_IMAGE = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-image',\n  templateUrl: './o-table-cell-renderer-image.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE\n})\nexport class OTableCellRendererImageComponent extends OBaseTableCellRenderer implements OnInit {\n\n  public imageType: string;\n  public emptyImage: string;\n  protected _source: string;\n  avatar: string;\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'image';\n    this.tableColumn.orderable = false;\n    this.tableColumn.searchable = false;\n  }\n\n  initialize() {\n    super.initialize();\n    if (this.table) {\n      const oCol: OColumn = this.table.getOColumn(this.tableColumn.attr);\n      oCol.title = Util.isDefined(this.tableColumn.title) ? this.tableColumn.title : undefined;\n      oCol.definition.contentAlign = oCol.definition.contentAlign ? oCol.definition.contentAlign : 'center';\n    }\n  }\n\n  getSource(cellData: any) {\n    this._source = '';\n    switch (this.imageType) {\n      case 'base64':\n        this._source = cellData ? ('data:image/png;base64,' + ((typeof (cellData.bytes) !== 'undefined') ? cellData.bytes : cellData)) : this.emptyImage;\n        break;\n      case 'url':\n        this._source = cellData ? cellData : this.emptyImage;\n        break;\n      default:\n        this._source = this.emptyImage;\n        break;\n    }\n    return this._source;\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { IPercentPipeArgument, OPercentageValueBaseType, OPercentPipe } from '../../../../../pipes/o-percentage.pipe';\nimport { NumberService } from '../../../../../services/number.service';\nimport {\n  DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL,\n  OTableCellRendererRealComponent,\n} from '../real/o-table-cell-renderer-real.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL,\n  'valueBase: value-base'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-percentage',\n  templateUrl: './o-table-cell-renderer-percentage.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE\n})\nexport class OTableCellRendererPercentageComponent extends OTableCellRendererRealComponent implements OnInit {\n\n  decimalSeparator: string = '.';\n  minDecimalDigits = 0;\n  maxDecimalDigits = 0;\n  valueBase: OPercentageValueBaseType = 1;\n\n  protected numberService: NumberService;\n\n  protected componentPipe: OPercentPipe;\n  protected pipeArguments: IPercentPipeArgument;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'percentage';\n    this.numberService = this.injector.get(NumberService);\n\n    this.setComponentPipe();\n  }\n\n  setComponentPipe() {\n    this.componentPipe = new OPercentPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    this.pipeArguments = {\n      minDecimalDigits: this.minDecimalDigits,\n      maxDecimalDigits: this.maxDecimalDigits,\n      decimalSeparator: this.decimalSeparator,\n      grouping: this.grouping,\n      thousandSeparator: this.thousandSeparator,\n      valueBase: this.valueBase\n    };\n  }\n\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, Injector, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ServiceResponse } from '../../../../../interfaces/service-response.interface';\nimport { ITranslatePipeArgument, OTranslatePipe } from '../../../../../pipes/o-translate.pipe';\nimport { DialogService } from '../../../../../services/dialog.service';\nimport { OntimizeServiceProvider } from '../../../../../services/factories';\nimport { OntimizeService } from '../../../../../services/ontimize/ontimize.service';\nimport { Expression } from '../../../../../types/expression.type';\nimport { Codes } from '../../../../../util/codes';\nimport { FilterExpressionUtils } from '../../../../../util/filter-expression.utils';\nimport { ServiceUtils } from '../../../../../util/service.utils';\nimport { SQLTypes } from '../../../../../util/sqltypes';\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../o-column.class';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  'entity',\n  'service',\n  'columns',\n  'translate',\n  'valueColumn: value-column',\n  'parentKeys: parent-keys',\n  'queryMethod: query-method',\n  'serviceType : service-type',\n  'translateArgsFn: translate-params'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-service',\n  templateUrl: './o-table-cell-renderer-service.component.html',\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    // Service renderer must have its own service instance in order to avoid overriding table service configuration\n    OntimizeServiceProvider\n  ]\n})\nexport class OTableCellRendererServiceComponent extends OBaseTableCellRenderer implements OnInit, AfterViewInit, OnDestroy {\n\n  public static DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE = DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  public rowData: any;\n  public cellValues = [];\n  public renderValue: any;\n  public responseMap = {};\n\n  /* Inputs */\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected translate: boolean = false;\n  protected valueColumn: string;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n\n  /* Internal variables */\n  protected colArray: string[] = [];\n  protected dataService: any;\n  protected _pKeysEquiv = {};\n  protected querySubscription: Subscription;\n  protected dialogService: DialogService;\n\n  public translateArgsFn: (rowData: any) => any[];\n  protected componentPipe: OTranslatePipe;\n  protected pipeArguments: ITranslatePipeArgument = {};\n\n  protected editorSuscription: Subscription;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'service';\n    this.dialogService = injector.get(DialogService);\n  }\n\n  public initialize(): void {\n    super.initialize();\n    if (this.table) {\n      const oCol: OColumn = this.table.getOColumn(this.column);\n      oCol.definition.contentAlign = oCol.definition.contentAlign ? oCol.definition.contentAlign : 'center';\n    }\n\n    this.colArray = Util.parseArray(this.columns, true);\n    const pkArray = Util.parseArray(this.parentKeys);\n    this._pKeysEquiv = Util.parseParentKeysEquivalences(pkArray);\n    this.configureService();\n  }\n\n  public ngAfterViewInit(): void {\n    const oCol: OColumn = this.table.getOColumn(this.column);\n    if (Util.isDefined(oCol.editor)) {\n      this.editorSuscription = oCol.editor.onPostUpdateRecord.subscribe((data: any) => {\n        this.queryData(data[this.tableColumn.attr], data);\n      });\n    }\n  }\n\n  public ngOnDestroy(): void {\n    if (this.editorSuscription) {\n      this.editorSuscription.unsubscribe();\n    }\n  }\n\n  public getDescriptionValue(cellvalue: any, rowValue: any): string {\n    if (cellvalue !== undefined && this.cellValues.indexOf(cellvalue) === -1) {\n      this.queryData(cellvalue, rowValue);\n      this.cellValues.push(cellvalue);\n    }\n    return '';\n  }\n\n  public queryData(cellvalue, parentItem?: any): void {\n    const self = this;\n    if (!this.dataService || !(this.queryMethod in this.dataService) || !this.entity) {\n      console.warn('Service not properly configured! aborting query');\n      return;\n    }\n    const filter = ServiceUtils.getFilterUsingParentKeys(parentItem, this._pKeysEquiv);\n    const tableColAlias = Object.keys(this._pKeysEquiv).find(key => this._pKeysEquiv[key] === this.column);\n    if (Util.isDefined(tableColAlias)) {\n      if (!filter[tableColAlias]) {\n        filter[tableColAlias] = cellvalue;\n      }\n    } else {\n      filter[this.column] = cellvalue;\n    }\n    this.querySubscription = this.dataService[this.queryMethod](filter, this.colArray, this.entity)\n      .subscribe((resp: ServiceResponse) => {\n        if (resp.isSuccessful()) {\n          self.responseMap[cellvalue] = resp.data[0][self.valueColumn];\n        }\n      }, err => {\n        console.error(err);\n        if (err && typeof err !== 'object') {\n          this.dialogService.alert('ERROR', err);\n        } else {\n          this.dialogService.alert('ERROR', 'MESSAGES.ERROR_QUERY');\n        }\n      });\n  }\n\n  public configureService(): void {\n    let loadingService: any = OntimizeService;\n    if (this.serviceType) {\n      loadingService = this.serviceType;\n    }\n    try {\n      this.dataService = this.injector.get(loadingService);\n      if (Util.isDataService(this.dataService)) {\n        const serviceCfg = this.dataService.getDefaultServiceConfiguration(this.service);\n        if (this.entity) {\n          serviceCfg.entity = this.entity;\n        }\n        this.dataService.configureService(serviceCfg);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    return this.responseMap[cellvalue];\n  }\n\n  public getFilterExpression(quickFilter: string): Expression {\n    const oCol: OColumn = this.table.getOColumn(this.column);\n    let result: Expression;\n    const cacheValue = Object.keys(this.responseMap).find(key => Util.normalizeString(this.responseMap[key]).indexOf(Util.normalizeString(quickFilter)) !== -1);\n    if (cacheValue) {\n      result = FilterExpressionUtils.buildExpressionEquals(this.column, SQLTypes.parseUsingSQLType(cacheValue, SQLTypes.getSQLTypeKey(oCol.sqlType)));\n    }\n    return result;\n  }\n\n  public setComponentPipe(): void {\n    this.componentPipe = new OTranslatePipe(this.injector);\n  }\n\n  public responseValue(cellvalue: any, rowvalue?: any): string {\n    if (this.translate) {\n      this.pipeArguments = this.translateArgsFn ? { values: this.translateArgsFn(rowvalue) } : {};\n      return super.getCellData(cellvalue, rowvalue);\n    } else {\n      return cellvalue;\n    }\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\nimport { IMomentPipeArgument, OMomentPipe } from '../../../../../pipes/o-moment.pipe';\nimport { Util } from '../../../../../util/util';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  'format'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-time',\n  templateUrl: './o-table-cell-renderer-time.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME\n})\nexport class OTableCellRendererTimeComponent extends OBaseTableCellRenderer implements OnInit {\n\n  protected componentPipe: OMomentPipe;\n  protected pipeArguments: IMomentPipeArgument;\n\n  protected _format: string = 'L HH:mm a';\n  protected locale: string;\n\n  @ViewChild('templateref', { read: TemplateRef, static: true }) public templateref: TemplateRef<any>;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n    this.tableColumn.type = 'time';\n    this.setComponentPipe();\n  }\n\n  set format(value: string) {\n    if (Util.isDefined(value)) {\n      this._format = value;\n    }\n  }\n  setComponentPipe() {\n    this.componentPipe = new OMomentPipe(this.injector);\n  }\n\n  initialize() {\n    super.initialize();\n    this.pipeArguments = {\n      format: this._format\n    };\n  }\n}\n","import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\n\nimport { ITranslatePipeArgument, OTranslatePipe } from '../../../../../pipes/o-translate.pipe';\nimport { DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER, OBaseTableCellRenderer } from '../o-base-table-cell-renderer.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE = [\n  ...DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER,\n  // translate-params [(rowData: any) => any[]]: function that receives the row data and return the parameters for the translate pipe.\n  'translateArgsFn: translate-params'\n];\n\n@Component({\n  selector: 'o-table-cell-renderer-translate',\n  templateUrl: './o-table-cell-renderer-translate.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE\n})\nexport class OTableCellRendererTranslateComponent extends OBaseTableCellRenderer {\n\n  @ViewChild('templateref', { read: TemplateRef, static: true })\n  public templateref: TemplateRef<any>;\n\n  public translateArgsFn: (rowData: any) => any[];\n\n  protected componentPipe: OTranslatePipe;\n  protected pipeArguments: ITranslatePipeArgument = {};\n\n  constructor(protected injector: Injector) {\n    super(injector);\n\n    this.tableColumn.type = 'translate';\n\n    this.setComponentPipe();\n  }\n\n  public setComponentPipe(): void {\n    this.componentPipe = new OTranslatePipe(this.injector);\n  }\n\n  public getCellData(cellvalue: any, rowvalue?: any): string {\n    this.pipeArguments = this.translateArgsFn ? { values: this.translateArgsFn(rowvalue) } : {};\n    return super.getCellData(cellvalue, rowvalue);\n  }\n\n}\n","import { OTableCellRendererActionComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION, DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION } from './action/o-table-cell-renderer-action.component';\nimport { OTableCellRendererBooleanComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN } from './boolean/o-table-cell-renderer-boolean.component';\nimport { OTableCellRendererCurrencyComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY } from './currency/o-table-cell-renderer-currency.component';\nimport { OTableCellRendererDateComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE } from './date/o-table-cell-renderer-date.component';\nimport { OTableCellRendererImageComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE } from './image/o-table-cell-renderer-image.component';\nimport { OTableCellRendererIntegerComponent } from './integer/o-table-cell-renderer-integer.component';\nimport { OTableCellRendererPercentageComponent } from './percentage/o-table-cell-renderer-percentage.component';\nimport { OTableCellRendererRealComponent } from './real/o-table-cell-renderer-real.component';\nimport { OTableCellRendererServiceComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE } from './service/o-table-cell-renderer-service.component';\nimport { OTableCellRendererTimeComponent } from './time/o-table-cell-renderer-time.component';\nimport { OTableCellRendererTranslateComponent, DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE } from './translate/o-table-cell-renderer-translate.component';\n\nexport const O_TABLE_CELL_RENDERERS = [\n  OTableCellRendererActionComponent,\n  OTableCellRendererDateComponent,\n  OTableCellRendererBooleanComponent,\n  OTableCellRendererImageComponent,\n  OTableCellRendererIntegerComponent,\n  OTableCellRendererRealComponent,\n  OTableCellRendererCurrencyComponent,\n  OTableCellRendererPercentageComponent,\n  OTableCellRendererServiceComponent,\n  OTableCellRendererTranslateComponent,\n  OTableCellRendererTimeComponent\n];\n\nexport const O_TABLE_CELL_RENDERERS_INPUTS = [\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY, // includes Integer and Real\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE,\n  ...DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE\n];\n\nexport const O_TABLE_CELL_RENDERERS_OUTPUTS = [\n  ...DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION\n];\n\nexport const renderersMapping = {\n  action: OTableCellRendererActionComponent,\n  boolean: OTableCellRendererBooleanComponent,\n  currency: OTableCellRendererCurrencyComponent,\n  date: OTableCellRendererDateComponent,\n  image: OTableCellRendererImageComponent,\n  integer: OTableCellRendererIntegerComponent,\n  percentage: OTableCellRendererPercentageComponent,\n  real: OTableCellRendererRealComponent,\n  service: OTableCellRendererServiceComponent,\n  translate: OTableCellRendererTranslateComponent,\n  time: OTableCellRendererTimeComponent\n};\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { OTableColumn } from '../../../interfaces/o-table-column.interface';\nimport { DateFilterFunction } from '../../../types/date-filter-function.type';\nimport { Expression } from '../../../types/expression.type';\nimport { ODateValueType } from '../../../types/o-date-value.type';\nimport { Codes } from '../../../util/codes';\nimport { SQLTypes } from '../../../util/sqltypes';\nimport { Util } from '../../../util/util';\nimport { OTableComponent } from '../o-table.component';\nimport { editorsMapping, O_TABLE_CELL_EDITORS_INPUTS, O_TABLE_CELL_EDITORS_OUTPUTS } from './cell-editor/cell-editor';\nimport {\n  O_TABLE_CELL_RENDERERS_INPUTS,\n  O_TABLE_CELL_RENDERERS_OUTPUTS,\n  renderersMapping,\n} from './cell-renderer/cell-renderer';\nimport { OPercentageValueBaseType } from '../../../pipes/o-percentage.pipe';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN = [\n\n  // attr [string]: column name.\n  'attr',\n\n  // title [string]: column title. Default: no value.\n  'title',\n\n  // title-align [start | center | end]: column title alignment. Default: center.\n  'titleAlign: title-align',\n\n  // content-align [start | center | end]: column content alignment.\n  'contentAlign: content-align',\n\n  // orderable [no|yes]: column can be sorted. Default: yes.\n  'orderable',\n\n  // searchable [no|yes]: searchings are performed into column content. Default: yes.\n  'searchable',\n\n  // type [boolean|integer|real|currency|date|image]: column type. Default: no value (string).\n  'type',\n\n  // editable [no|yes]: column can be edited directly over the table. Default: no.\n  'editable',\n\n  'width',\n\n  // only in pixels\n  'minWidth: min-width',\n\n  // only in pixels\n  'maxWidth: max-width',\n\n  // async-load [no|yes|true|false]: asynchronous query. Default: no\n  'asyncLoad : async-load',\n\n  // sqltype[string]: Data type according to Java standard. See SQLType class. Default: 'OTHER'\n  'sqlType: sql-type',\n\n  'tooltip',\n\n  'tooltipValue: tooltip-value',\n\n  'tooltipFunction: tooltip-function',\n\n  'multiline',\n\n  'resizable',\n\n  'filterExpressionFunction: filter-expression-function',\n\n  'class',\n\n  ...O_TABLE_CELL_RENDERERS_INPUTS,\n  ...O_TABLE_CELL_EDITORS_INPUTS\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN = [\n  ...O_TABLE_CELL_RENDERERS_OUTPUTS,\n  ...O_TABLE_CELL_EDITORS_OUTPUTS\n];\n\n@Component({\n  selector: 'o-table-column',\n  templateUrl: './o-table-column.component.html',\n  styleUrls: ['./o-table-column.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN\n})\nexport class OTableColumnComponent implements OTableColumn, OnDestroy, OnInit, AfterViewInit {\n\n  public renderer: any;\n  public editor: any;\n\n  public type: string;\n  public attr: string;\n  public title: string;\n  public titleAlign: string;\n  public contentAlign: 'start' | 'center' | 'end';\n  public sqlType: string;\n  protected _SQLType: number;\n  protected _defaultSQLTypeKey: string = 'OTHER';\n  protected _orderable: boolean;\n  protected _resizable: boolean;\n  protected _searchable: boolean = true;\n  @InputConverter()\n  public editable: boolean = false;\n  public width: string;\n  public minWidth: string;\n  public maxWidth: string;\n  @InputConverter()\n  public tooltip: boolean = false;\n  tooltipValue: string;\n  tooltipFunction: (rowData: any) => any;\n  public class: string;\n\n  set multiline(val: boolean) {\n    val = Util.parseBoolean(String(val));\n    this._multiline = val;\n  }\n  get multiline(): boolean {\n    return this._multiline;\n  }\n  protected _multiline: boolean = false;\n\n  filterExpressionFunction: (columnAttr: string, quickFilter?: string) => Expression;\n\n  /* input renderer base */\n  public _filterSource: 'render' | 'data' | 'both' = 'render';\n  public filterFunction: (cellValue: any, rowValue: any, quickFilter?: string) => boolean;\n  /* input renderer date */\n  protected format: string;\n  /* input renderer integer */\n  protected grouping: any = true;\n  protected thousandSeparator: string = ',';\n  /* input renderer real */\n  protected decimalSeparator: string = '.';\n\n  /* input renderer currency */\n  protected currencySymbol: string;\n  protected currencySymbolPosition: string;\n\n  /* input renderer boolean */\n  protected trueValue: any;\n  protected falseValue: any;\n  protected renderTrueValue: any;\n  protected renderFalseValue: any;\n  protected renderType: string = 'string';\n  protected booleanType: string = 'boolean';\n\n  /* input image */\n  protected imageType: string;\n  protected avatar: string;\n  protected emptyImage: string;\n\n  /* input renderer action */\n  protected icon: string;\n  protected action: string;\n  protected text: string;\n  protected iconPosition: string;\n\n  /* input renderer service */\n  protected entity: string;\n  protected service: string;\n  protected columns: string;\n  protected valueColumn: string;\n  protected parentKeys: string;\n  protected queryMethod: string = Codes.QUERY_METHOD;\n  protected serviceType: string;\n\n  /* input renderer translate */\n  protected translateArgsFn: (rowData: any) => any[];\n  /* input time */\n  oDateFormat = 'L';\n  oHourFormat = 24;\n\n  /* input renderer percentage */\n  valueBase: OPercentageValueBaseType = 1;\n\n  /* input editor */\n  @InputConverter()\n  protected orequired: boolean = false;\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  olabel: string;\n  @InputConverter()\n  updateRecordOnEdit: boolean = true;\n  @InputConverter()\n  showNotificationOnEdit: boolean = false;\n\n  /* input editor date */\n  protected locale: string;\n  protected oStartView: 'month' | 'year' = 'month';\n  protected oMinDate: string;\n  protected oMaxDate: string;\n  @InputConverter()\n  protected oTouchUi: boolean = false;\n  protected oStartAt: string;\n  protected filterDate: DateFilterFunction;\n  protected dateValueType: ODateValueType = 'timestamp';\n\n  /* input editor integer */\n  @InputConverter()\n  min: number;\n  @InputConverter()\n  max: number;\n  @InputConverter()\n  step: number;\n  @InputConverter()\n  minDecimalDigits: number = 2;\n  @InputConverter()\n  maxDecimalDigits: number = 2;\n\n  /* input editor boolean */\n  @InputConverter()\n  indeterminateOnNull: boolean = false;\n  @InputConverter()\n  autoCommit: boolean;\n\n  /* output cell renderer action */\n  onClick: EventEmitter<object> = new EventEmitter<object>();\n\n  /* output cell editor */\n  editionStarted: EventEmitter<object> = new EventEmitter<object>();\n  editionCancelled: EventEmitter<object> = new EventEmitter<object>();\n  editionCommitted: EventEmitter<object> = new EventEmitter<object>();\n  onPostUpdateRecord: EventEmitter<object> = new EventEmitter<object>();\n\n  @InputConverter()\n  asyncLoad: boolean = false;\n\n  @ViewChild('container', { read: ViewContainerRef, static: true })\n  container: ViewContainerRef;\n\n  private subscriptions = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected resolver: ComponentFactoryResolver,\n    protected injector: Injector\n  ) {\n  }\n\n  static addEditor(type: string, editorClassReference: any) {\n    if (!editorsMapping.hasOwnProperty(type) && Util.isDefined(editorClassReference)) {\n      editorsMapping[type] = editorClassReference;\n    }\n  }\n\n  ngOnInit() {\n    this.grouping = Util.parseBoolean(this.grouping, true);\n    this.titleAlign = this.parseTitleAlign();\n    this.table.registerColumn(this);\n    this.subscriptions.add(this.table.onReinitialize.subscribe(() => this.table.registerColumn(this)));\n  }\n\n  ngAfterViewInit(): void {\n    this.createRenderer();\n    this.createEditor();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  parseTitleAlign(): string {\n    const align = (this.titleAlign || '').toLowerCase();\n    return Codes.AVAILABLE_COLUMN_TITLE_ALIGNS.indexOf(align) !== -1 ? align : undefined;\n  }\n\n  get originalWidth() {\n    let originalWidth = this.width;\n    const pxVal = Util.extractPixelsValue(this.width);\n    if (Util.isDefined(pxVal)) {\n      originalWidth = pxVal + '';\n\n    }\n    return originalWidth;\n  }\n\n  protected createRenderer(): void {\n    if (!Util.isDefined(this.renderer) && Util.isDefined(this.type)) {\n      const componentRef = renderersMapping[this.type];\n      if (componentRef !== undefined) {\n        const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(componentRef);\n        if (factory) {\n          const ref = this.container.createComponent(factory);\n          const newRenderer = ref.instance;\n          newRenderer.filterSource = this.filterSource;\n          newRenderer.filterFunction = this.filterFunction;\n          switch (this.type) {\n            case 'currency':\n              newRenderer.currencySymbol = this.currencySymbol;\n              newRenderer.currencySymbolPosition = this.currencySymbolPosition;\n              newRenderer.decimalSeparator = this.decimalSeparator;\n              newRenderer.minDecimalDigits = this.minDecimalDigits;\n              newRenderer.maxDecimalDigits = this.maxDecimalDigits;\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'date':\n              newRenderer.format = this.format;\n              break;\n            case 'time':\n              newRenderer.format = this.format;\n              break;\n            case 'integer':\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'boolean':\n              newRenderer.trueValue = this.trueValue;\n              newRenderer.falseValue = this.falseValue;\n              newRenderer.renderTrueValue = this.renderTrueValue;\n              newRenderer.renderFalseValue = this.renderFalseValue;\n              newRenderer.renderType = this.renderType;\n              newRenderer.booleanType = this.booleanType;\n              break;\n            case 'percentage':\n              newRenderer.valueBase = this.valueBase;\n            // tslint:disable-next-line:no-switch-case-fall-through\n            case 'real':\n              newRenderer.decimalSeparator = this.decimalSeparator;\n              newRenderer.minDecimalDigits = this.minDecimalDigits;\n              newRenderer.maxDecimalDigits = this.maxDecimalDigits;\n              newRenderer.grouping = this.grouping;\n              newRenderer.thousandSeparator = this.thousandSeparator;\n              break;\n            case 'image':\n              newRenderer.imageType = this.imageType;\n              newRenderer.avatar = this.avatar;\n              newRenderer.emptyImage = this.emptyImage;\n              break;\n            case 'action':\n              newRenderer.icon = this.icon;\n              newRenderer.action = this.action;\n              newRenderer.text = this.text;\n              newRenderer.iconPosition = this.iconPosition;\n              newRenderer.onClick = this.onClick;\n              break;\n            case 'service':\n              newRenderer.entity = this.entity;\n              newRenderer.service = this.service;\n              newRenderer.columns = this.columns;\n              newRenderer.valueColumn = this.valueColumn;\n              newRenderer.parentKeys = this.parentKeys;\n              newRenderer.queryMethod = this.queryMethod;\n              newRenderer.serviceType = this.serviceType;\n              break;\n            case 'translate':\n              newRenderer.translateArgsFn = this.translateArgsFn;\n              break;\n          }\n          this.registerRenderer(newRenderer);\n        }\n      }\n    }\n  }\n\n  buildCellEditor(type: string, resolver: ComponentFactoryResolver, container: ViewContainerRef, propsOrigin: any) {\n    let editor;\n    const componentRef = editorsMapping[type] || editorsMapping.text;\n    if (componentRef === undefined) {\n      return editor;\n    }\n    const factory: ComponentFactory<any> = resolver.resolveComponentFactory(componentRef);\n    if (factory) {\n      const ref = container.createComponent(factory);\n      editor = ref.instance;\n      if (propsOrigin !== undefined) {\n        switch (type) {\n          case 'date':\n            editor.format = propsOrigin.format;\n            editor.locale = propsOrigin.locale;\n            editor.oStartView = propsOrigin.oStartView;\n            editor.oMinDate = propsOrigin.oMinDate;\n            editor.oMaxDate = propsOrigin.oMaxDate;\n            editor.oTouchUi = propsOrigin.oTouchUi;\n            editor.oStartAt = propsOrigin.oStartAt;\n            editor.filterDate = propsOrigin.filterDate;\n            editor.dateValueType = propsOrigin.dateValueType;\n            break;\n          case 'time':\n            editor.oDateFormat = propsOrigin.oDateFormat;\n            editor.oHourFormat = propsOrigin.oHourFormat;\n            editor.oDateLocale = propsOrigin.oDateLocale;\n            editor.oMinDate = propsOrigin.oMinDate;\n            editor.oMaxDate = propsOrigin.oMaxDate;\n\n            editor.oTouchUi = propsOrigin.oTouchUi;\n            editor.oDateStartAt = propsOrigin.oDateStartAt;\n            editor.oDateTextInputEnabled = propsOrigin.oDateTextInputEnabled;\n\n            editor.oHourMin = propsOrigin.oHourMin;\n            editor.oHourMax = propsOrigin.oHourMax;\n            editor.oHourTextInputEnabled = propsOrigin.oHourTextInputEnabled;\n            editor.oHourPlaceholder = propsOrigin.oHourPlaceholder;\n            editor.oDatePlaceholder = propsOrigin.oDatePlaceholder;\n            break;\n          case 'boolean':\n            editor.booleanType = propsOrigin.booleanType;\n            editor.indeterminateOnNull = propsOrigin.indeterminateOnNull;\n            editor.autoCommit = propsOrigin.autoCommit;\n            editor.trueValue = propsOrigin.trueValue;\n            editor.falseValue = propsOrigin.falseValue;\n            break;\n          case 'integer':\n          case 'percentage':\n          case 'currency':\n          case 'real':\n            editor.min = propsOrigin.min;\n            editor.max = propsOrigin.max;\n            editor.step = Util.isDefined(propsOrigin.step) ? propsOrigin.step : editor.step;\n            break;\n          case 'image':\n            break;\n          default:\n            break;\n        }\n        editor.olabel = propsOrigin.olabel;\n        editor.type = propsOrigin.type;\n      }\n    }\n    return editor;\n  }\n\n  protected createEditor() {\n    if (!Util.isDefined(this.editor) && this.editable) {\n      const newEditor = this.buildCellEditor(this.type, this.resolver, this.container, this);\n      if (newEditor) {\n        newEditor.orequired = this.orequired;\n        newEditor.showPlaceHolder = this.showPlaceHolder;\n        newEditor.updateRecordOnEdit = this.updateRecordOnEdit;\n        newEditor.showNotificationOnEdit = this.showNotificationOnEdit;\n        newEditor.editionStarted = this.editionStarted;\n        newEditor.editionCancelled = this.editionCancelled;\n        newEditor.editionCommitted = this.editionCommitted;\n        newEditor.onPostUpdateRecord = this.onPostUpdateRecord;\n        this.registerEditor(newEditor);\n      }\n    }\n  }\n\n  public registerRenderer(renderer: any) {\n    this.renderer = renderer;\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol !== undefined) {\n      oCol.renderer = this.renderer;\n    }\n    this.renderer.initialize();\n  }\n\n  public registerEditor(editor: any) {\n    this.editor = editor;\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol !== undefined) {\n      oCol.editor = this.editor;\n    }\n    this.editor.initialize();\n  }\n\n  set orderable(val: any) {\n    this._orderable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.orderable = this._orderable;\n    }\n  }\n\n  get orderable(): any {\n    return this._orderable;\n  }\n\n  set resizable(val: any) {\n    this._resizable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.resizable = this._resizable;\n    }\n  }\n\n  get resizable(): any {\n    return this._resizable;\n  }\n\n  set searchable(val: any) {\n    this._searchable = typeof val === 'boolean' ? val : Util.parseBoolean(val, true);\n    const oCol = this.table.getOColumn(this.attr);\n    if (oCol) {\n      oCol.searchable = this._searchable;\n    }\n  }\n\n  get searchable(): any {\n    return this._searchable;\n  }\n\n  getSQLType(): number {\n    if (!(this.sqlType && this.sqlType.length > 0)) {\n      switch (this.type) {\n        case 'date':\n          this.sqlType = 'TIMESTAMP';\n          break;\n        case 'integer':\n          this.sqlType = 'INTEGER';\n          break;\n        case 'boolean':\n          this.sqlType = 'BOOLEAN';\n          break;\n        case 'real':\n        case 'percentage':\n        case 'currency':\n          this.sqlType = 'DOUBLE';\n          break;\n      }\n    }\n    const sqlt = this.sqlType && this.sqlType.length > 0 ? this.sqlType : this._defaultSQLTypeKey;\n    this._SQLType = SQLTypes.getSQLTypeValue(sqlt);\n    return this._SQLType;\n  }\n\n  set filterSource(val: string) {\n    const lowerVal = (val || '').toLowerCase();\n    this._filterSource = (lowerVal === 'render' || lowerVal === 'data' || lowerVal === 'both') ? lowerVal : 'render';\n  }\n\n  get filterSource(): string {\n    return this._filterSource;\n  }\n}\n","import { ChangeDetectionStrategy, Component, ComponentFactoryResolver, forwardRef, Inject, Injector } from '@angular/core';\n\nimport { OTableColumnCalculated } from '../../../../interfaces/o-table-column-calculated.interface';\nimport { OperatorFunction } from '../../../../types/operation-function.type';\nimport { OTableComponent } from '../../o-table.component';\nimport { DEFAULT_INPUTS_O_TABLE_COLUMN, OTableColumnComponent } from '../o-table-column.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_CALCULATED = [\n  ...DEFAULT_INPUTS_O_TABLE_COLUMN,\n  // operation [string]: operation .\n  'operation',\n  // operation-function [funtion]: callback title. Default: no value.\n  'functionOperation: operation-function'\n];\n\n@Component({\n  selector: 'o-table-column-calculated',\n  templateUrl: './o-table-column-calculated.component.html',\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_CALCULATED,\n  providers: [\n    {\n      provide: OTableColumnComponent,\n      useExisting: forwardRef(() => OTableColumnCalculatedComponent)\n    }\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\n\nexport class OTableColumnCalculatedComponent extends OTableColumnComponent implements OTableColumnCalculated {\n\n  public operation: string;\n  public functionOperation: OperatorFunction;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected resolver: ComponentFactoryResolver,\n    protected injector: Injector) {\n    super(table, resolver, injector);\n\n  }\n\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../../decorators/input-converter';\nimport { OTranslateService } from '../../../../services/translate/o-translate.service';\nimport { ColumnValueFilterOperator, OColumnValueFilter } from '../../../../types/o-column-value-filter.type';\nimport { Util } from '../../../../util/util';\nimport { OContextMenuComponent } from '../../../contextmenu/o-context-menu.component';\nimport { OColumn } from '../../column/o-column.class';\nimport { OTableComponent } from '../../o-table.component';\n\nexport const DEFAULT_TABLE_CONTEXT_MENU_INPUTS = [\n  'contextMenu: context-menu',\n  'showInsert: insert',\n  'showEdit: edit',\n  'showViewDetail: view-detail',\n  'showCopy: copy',\n  'showSelectAll: select-all',\n  'showRefresh: refresh',\n  'showDelete: delete',\n  'showFilter: filter'\n];\n\n@Component({\n  selector: 'o-table-context-menu',\n  templateUrl: './o-table-context-menu.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_TABLE_CONTEXT_MENU_INPUTS\n})\nexport class OTableContextMenuComponent implements AfterViewInit {\n  public contextMenu: OContextMenuComponent;\n  public isVisibleInsert: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleEdit: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleDetail: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleCopy: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleSelectAll: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleRefresh: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleDelete: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  public isVisibleFilter: BehaviorSubject<boolean> = new BehaviorSubject(true);\n\n  set showInsert(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleInsert.next(value);\n  }\n\n  get showInsert(): boolean {\n    return this.isVisibleInsert.getValue();\n  }\n\n  set showEdit(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleEdit.next(value);\n  }\n\n  get showEdit(): boolean {\n    return this.isVisibleEdit.getValue();\n  }\n\n  set showViewDetail(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleDetail.next(value);\n  }\n\n  get showViewDetail(): boolean {\n    return this.isVisibleDetail.getValue();\n  }\n\n  set showCopy(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleCopy.next(value);\n  }\n\n  get showCopy(): boolean {\n    return this.isVisibleCopy.getValue();\n  }\n\n  @InputConverter()\n  set showSelectAll(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.table.isSelectionModeNone() ? this.isVisibleSelectAll.next(false) : this.isVisibleSelectAll.next(value);\n  }\n\n  get showSelectAll(): boolean {\n    return this.isVisibleSelectAll.getValue();\n  }\n\n  set showRefresh(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleRefresh.next(value);\n  }\n\n  get showRefresh(): boolean {\n    return this.isVisibleRefresh.getValue();\n  }\n\n  set showDelete(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleDelete.next(value);\n  }\n\n  get showDelete(): boolean {\n    return this.isVisibleDelete.getValue();\n  }\n\n  set showFilter(value: boolean) {\n    if (typeof value !== 'boolean') {\n      value = Util.parseBoolean(value as any);\n    }\n    this.isVisibleFilter.next(value);\n  }\n\n  get showFilter(): boolean {\n    return this.isVisibleFilter.getValue();\n  }\n\n  @ViewChild('defaultContextMenu', { static: false })\n  protected defaultContextMenu: OContextMenuComponent;\n  protected row: any;\n  protected column: OColumn;\n  protected translateService: OTranslateService;\n  protected contextMenuSubscription: Subscription = new Subscription();\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n  public ngAfterViewInit(): void {\n    const itemsParsed = this.defaultContextMenu.oContextMenuItems.toArray();\n    if (this.contextMenu) {\n      const items = itemsParsed.concat(this.contextMenu.oContextMenuItems.toArray());\n      this.defaultContextMenu.oContextMenuItems.reset(items);\n    } else {\n      this.defaultContextMenu.oContextMenuItems.reset(itemsParsed);\n    }\n    if (!Util.isDefined(this.showSelectAll)) {\n      this.isVisibleSelectAll.next(this.table.selectAllCheckbox);\n    }\n    this.table.registerContextMenu(this.defaultContextMenu);\n    this.registerContextMenuListeners();\n  }\n\n  public registerContextMenuListeners() {\n    this.contextMenuSubscription.add(this.defaultContextMenu.onClose.subscribe((param: any) => {\n      if (!this.table.isSelectionModeMultiple()) {\n        this.table.clearSelection();\n      }\n    }));\n\n    this.contextMenuSubscription.add(this.defaultContextMenu.onShow.subscribe((param: any) => {\n      this.initProperties(param);\n    }));\n  }\n\n  public gotoDetails(event): void {\n    const data = event.data.rowValue;\n    this.table.viewDetail(data);\n  }\n\n  public edit(event): void {\n    const data = event.data.rowValue;\n    this.table.doHandleClick(data);\n  }\n\n  public add(): void {\n    this.table.add();\n  }\n\n  public selectAll(): void {\n    this.table.showAndSelectAllCheckbox();\n  }\n\n  public unSelectAll(): void {\n    this.table.selection.clear();\n  }\n\n  public copyAll(): void {\n    this.table.copyAll();\n  }\n\n  public copyCell(event): void {\n    const cell_data = this.defaultContextMenu.origin.innerText;\n    Util.copyToClipboard(cell_data);\n  }\n\n  public copySelection(): void {\n    this.table.copySelection();\n  }\n\n  public copyRow(event): void {\n    const data = JSON.stringify(this.table.dataSource.getRenderedData([event.data.rowValue]));\n    Util.copyToClipboard(data);\n  }\n\n  public delete(event): void {\n    this.table.remove();\n  }\n\n  public refresh(): void {\n    this.table.refresh();\n  }\n\n  public filterByValue(event): void {\n    this.table.showFilterByColumnIcon = true;\n    const columValueFilter: OColumnValueFilter = {\n      attr: this.column.attr,\n      operator: ColumnValueFilterOperator.IN,\n      values: [this.row[this.column.attr]]\n    };\n    this.table.dataSource.addColumnFilter(columValueFilter);\n    this.table.reloadPaginatedDataFromStart();\n  }\n\n  get labelFilterByColumn(): string {\n    return (this.column && this.column.attr) ? this.translateService.get('TABLE_CONTEXT_MENU.FILTER_BY') + ' ' + this.translateService.get(this.column.attr) : '';\n  }\n\n  public filterByColumn(event): void {\n    if (this.table.oTableMenu) {\n      this.table.showFilterByColumnIcon = true;\n      this.table.oTableMenu.columnFilterOption.active = true;\n      this.table.openColumnFilterDialog(this.column, event.event);\n    }\n  }\n\n  public checkVisibleFilter(): void {\n    let isVisible = false;\n    if (this.column) {\n      isVisible = this.showFilter && this.table.isColumnFilterable(this.column);\n    }\n    this.isVisibleFilter.next(isVisible);\n  }\n\n  protected initProperties(param: any): void {\n    const data = param.data;\n    if (data) {\n      const columnName = data.cellName;\n      this.column = this.table.getOColumn(columnName);\n      this.row = data.rowValue;\n      this.checkVisibleFilter();\n    }\n  }\n\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport { Component, EventEmitter, Inject, Injector, OnInit, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\n\nimport { DialogService } from '../../../../../services/dialog.service';\nimport { OTableConfiguration } from '../../../../../types/o-table-configuration.type';\n\n@Component({\n  selector: 'o-table-apply-configuration-dialog',\n  templateUrl: './o-table-apply-configuration-dialog.component.html',\n  styleUrls: ['./o-table-apply-configuration-dialog.component.scss']\n})\nexport class OTableApplyConfigurationDialogComponent implements OnInit {\n\n  public default_configuration = 'OTableApplyConfigurationDialogComponent-default';\n  public configurations: OTableConfiguration[] = [];\n\n  public onDelete: EventEmitter<string> = new EventEmitter();\n\n  @ViewChild(MatSelectionList, { static: true })\n  protected configurationList: MatSelectionList;\n\n  protected dialogService: DialogService;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableApplyConfigurationDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: OTableConfiguration[],\n    protected injector: Injector\n  ) {\n    this.loadConfigurations(data);\n    this.dialogService = this.injector.get(DialogService);\n  }\n\n  public ngOnInit(): void {\n    this.configurationList.selectedOptions = new SelectionModel<MatListOption>(false);\n  }\n\n  public loadConfigurations(configurations: OTableConfiguration[]): void {\n    this.configurations = configurations;\n  }\n\n  public removeConfiguration(configurationName: string): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION').then(result => {\n      if (result) {\n        this.onDelete.emit(configurationName);\n      }\n    });\n  }\n\n  public isDefaultConfigurationSelected(): boolean {\n    const selected: MatListOption[] = this.configurationList.selectedOptions.selected;\n    const selectedValue = selected.length ? selected[0].value : void 0;\n    return selectedValue === this.default_configuration;\n  }\n\n  public getSelectedConfigurationName(): string {\n    const selected: MatListOption[] = this.configurationList.selectedOptions.selected;\n    return selected.length ? selected[0].value : void 0;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class OTableExportButtonService {\n\n  public export$: Subject<string> = new Subject();\n\n}\n","export class OTableExportConfiguration {\n  columns: Array<any>;\n  columnNames: object;\n  sqlTypes: object;\n  service: string;\n  serviceType: string;\n  data?: any[];\n  filter?: object;\n  mode: string;\n  entity: string;\n  visibleButtons: string;\n  options?: any;\n}\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { ChangeDetectionStrategy, Component, Inject, Injector, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { IExportService } from '../../../../../interfaces/export-service.interface';\nimport { OntimizeExportServiceProvider } from '../../../../../services/factories';\nimport { OntimizeExportService } from '../../../../../services/ontimize/ontimize-export.service';\nimport { SnackBarService } from '../../../../../services/snackbar.service';\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\nimport { Codes } from '../../../../../util/codes';\nimport { SQLTypes } from '../../../../../util/sqltypes';\nimport { Util } from '../../../../../util/util';\nimport { OTableExportButtonService } from '../../export-button/o-table-export-button.service';\nimport { OTableExportConfiguration } from '../../header/table-menu/o-table-export-configuration.class';\n\n@Component({\n  selector: 'o-table-export-dialog',\n  templateUrl: 'o-table-export-dialog.component.html',\n  styleUrls: ['o-table-export-dialog.component.scss'],\n  providers: [\n    OntimizeExportServiceProvider\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class: 'o-table-export-dialog'\n  },\n  encapsulation: ViewEncapsulation.None\n})\nexport class OTableExportDialogComponent implements OnInit, OnDestroy {\n\n  protected snackBarService: SnackBarService;\n  protected exportService: IExportService;\n  protected translateService: OTranslateService;\n  protected oTableExportButtonService: OTableExportButtonService;\n  protected visibleButtons: string[];\n  private subscription: Subscription = new Subscription();\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableExportDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) public config: OTableExportConfiguration\n  ) {\n    this.snackBarService = injector.get(SnackBarService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.oTableExportButtonService = this.injector.get(OTableExportButtonService);\n\n    if (config && Util.isDefined(config.visibleButtons)) {\n      this.visibleButtons = Util.parseArray(config.visibleButtons.toLowerCase(), true);\n    }\n  }\n\n  ngOnInit() {\n    this.initialize();\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  initialize(): void {\n    this.configureService();\n    this.subscription.add(\n      this.oTableExportButtonService.export$.pipe(filter(type => ['xlsx', 'html', 'pdf'].indexOf(type) === -1)).subscribe(e => this.export(e))\n    );\n  }\n\n  configureService(): void {\n    let loadingService: any = OntimizeExportService;\n    if (this.config.serviceType) {\n      loadingService = this.config.serviceType;\n    }\n    this.exportService = this.injector.get(loadingService);\n    const serviceCfg = this.exportService.getDefaultServiceConfiguration(this.config.service);\n    this.exportService.configureService(serviceCfg, Codes.EXPORT_MODE_ALL === this.config.mode);\n  }\n\n  export(exportType: string, button?: any): void {\n    if (button) {\n      button.disabled = true;\n    }\n    const exportData = {\n      data: this.config.data,\n      columns: this.config.columns,\n      columnNames: this.config.columnNames,\n      sqlTypes: this.config.sqlTypes,\n      filter: this.config.filter\n    };\n\n    this.proccessExportData(exportData.data, exportData.sqlTypes);\n    this.dialogRef.close(true);\n    this.exportService.exportData(exportData, exportType, this.config.entity).subscribe(\n      res => {\n        this.snackBarService.open('MESSAGES.SUCCESS_EXPORT_TABLE_DATA', { icon: 'check_circle' });\n      },\n      err => {\n        this.handleError(err);\n      }\n    );\n  }\n\n  proccessExportData(data: object[], sqlTypes: object): void {\n    // Parse boolean\n    Object.keys(sqlTypes).forEach(key => {\n      if (SQLTypes.BOOLEAN === sqlTypes[key]) {\n        const yes = this.translateService.get('YES');\n        const no = this.translateService.get('NO');\n        data.forEach(row => {\n          if (row[key]) {\n            row[key] = Util.parseBoolean(row[key]) ? yes : no;\n          }\n        });\n      }\n    });\n  }\n\n  isButtonVisible(btn: string): boolean {\n    return !this.visibleButtons || (this.visibleButtons.indexOf(btn) !== -1);\n  }\n\n  protected handleError(err): void {\n    if (err instanceof HttpErrorResponse) {\n      this.snackBarService.open(err.message, { icon: 'error' });\n    } else {\n      this.snackBarService.open('MESSAGES.ERROR_EXPORT_TABLE_DATA', { icon: 'error' });\n    }\n  }\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Inject,\n  Injector,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\n\nimport { DialogService } from '../../../../../services/dialog.service';\nimport { OTableFiltersStatus } from '../../../../../types/o-table-filter-status.type';\n\n@Component({\n  selector: 'o-table-load-filter-dialog',\n  templateUrl: './o-table-load-filter-dialog.component.html',\n  styleUrls: ['./o-table-load-filter-dialog.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableLoadFilterDialogComponent implements OnInit {\n\n  @ViewChild(MatSelectionList, { static: true }) filterList: MatSelectionList;\n\n  filters: Array<OTableFiltersStatus> = [];\n\n  onDelete: EventEmitter<string> = new EventEmitter();\n\n  protected dialogService: DialogService;\n  protected cd: ChangeDetectorRef;\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableLoadFilterDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: Array<OTableFiltersStatus>,\n    protected injector: Injector\n  ) {\n    this.loadFilters(data);\n    this.dialogService = this.injector.get(DialogService);\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);\n    } catch (e) {\n      // no parent form\n    }\n  }\n\n  ngOnInit(): void {\n    this.filterList.selectedOptions = new SelectionModel<MatListOption>(false);\n  }\n\n  loadFilters(filters: Array<OTableFiltersStatus>): void {\n    this.filters = filters;\n  }\n\n  getSelectedFilterName(): string {\n    const selected: MatListOption[] = this.filterList.selectedOptions.selected;\n    return selected.length ? selected[0].value : void 0;\n  }\n\n  removeFilter(filterName: string): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_REMOVE_FILTER').then(result => {\n      if (result) {\n        this.onDelete.emit(filterName);\n        this.cd.detectChanges();\n      }\n    });\n  }\n\n}\n","import { Injector, QueryList, ViewChildren } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\n\nimport { O_MAT_ERROR_OPTIONS, OMatErrorComponent } from '../../../../shared/material/o-mat-error/o-mat-error';\nimport { OMatErrorOptions } from '../../../../types/o-mat-error.type';\nimport { Codes } from '../../../../util/codes';\nimport { Util } from '../../../../util/util';\n\nexport class OTableBaseDialogClass {\n\n  protected errorOptions: OMatErrorOptions;\n  @ViewChildren(OMatErrorComponent)\n  protected oMatErrorChildren: QueryList<OMatErrorComponent>;\n  protected formControl: AbstractControl;\n\n  constructor(\n    protected injector: Injector\n  ) {\n    try {\n      this.errorOptions = this.injector.get(O_MAT_ERROR_OPTIONS) || {};\n    } catch (e) {\n      this.errorOptions = {};\n    }\n  }\n\n  protected setFormControl(formControl: AbstractControl) {\n    this.formControl = formControl;\n  }\n\n  get tooltipClass(): string {\n    let result: string;\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && Util.isDefined(this.formControl) && this.formControlHasErrors()) {\n      result = `o-tooltip o-mat-error`;\n    }\n    return result;\n  }\n\n  get tooltipText(): string {\n    let result: string;\n    const liteError = this.errorOptions.type === Codes.O_MAT_ERROR_LITE;\n    if (liteError && this.formControlHasErrors() && this.oMatErrorChildren && this.oMatErrorChildren.length > 0) {\n      result = '';\n      this.oMatErrorChildren.forEach((oMatError: OMatErrorComponent) => {\n        result += `${oMatError.text}\\n`;\n      });\n    }\n    return result;\n  }\n\n  protected formControlHasErrors(): boolean {\n    return Util.isDefined(this.formControl) && this.formControl.touched && Util.isDefined(this.formControl.errors);\n  }\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, Injector, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatCheckboxChange, MatDialogRef, MatListOption, MatSelectionList } from '@angular/material';\n\nimport { OTableBaseDialogClass } from '../o-table-base-dialog.class';\n\n@Component({\n  selector: 'o-table-store-configuration-dialog',\n  templateUrl: './o-table-store-configuration-dialog.component.html',\n  styleUrls: ['./o-table-store-configuration-dialog.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableStoreConfigurationDialogComponent extends OTableBaseDialogClass implements AfterViewInit {\n\n  @ViewChild('propertiesList', { static: false })\n  public propertiesList: MatSelectionList;\n\n  public properties: any[] = [{\n    property: 'sort',\n    name: 'TABLE.DIALOG.PROPERTIES.SORT',\n    info: 'TABLE.DIALOG.PROPERTIES.SORT.INFO'\n  }, {\n    property: 'columns-display',\n    name: 'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY',\n    info: 'TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO'\n  }, {\n    property: 'quick-filter',\n    name: 'TABLE.DIALOG.PROPERTIES.QUICK_FILTER',\n    info: 'TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO'\n  }, {\n    property: 'columns-filter',\n    name: 'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER',\n    info: 'TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO'\n  }, {\n    property: 'page',\n    name: 'TABLE.DIALOG.PROPERTIES.PAGE',\n    info: 'TABLE.DIALOG.PROPERTIES.PAGE.INFO'\n  }];\n\n  public formGroup: FormGroup = new FormGroup({\n    name: new FormControl('', [\n      Validators.required\n    ]),\n    description: new FormControl('')\n  });\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableStoreConfigurationDialogComponent>,\n    protected injector: Injector\n  ) {\n    super(injector);\n    this.setFormControl(this.formGroup.get('name'));\n  }\n\n  public ngAfterViewInit(): void {\n    this.propertiesList.selectAll();\n  }\n\n  public areAllSelected(): boolean {\n    return this.propertiesList && this.propertiesList.options && this.propertiesList.options.length === this.propertiesList.selectedOptions.selected.length;\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    event.checked ? this.propertiesList.selectAll() : this.propertiesList.deselectAll();\n  }\n\n  public getConfigurationAttributes(): any {\n    return this.formGroup.value;\n  }\n\n  public getSelectedTableProperties(): any[] {\n    const selected: MatListOption[] = this.propertiesList.selectedOptions.selected;\n    return selected.length ? selected.map(item => item.value) : [];\n  }\n\n  public isIndeterminate(): boolean {\n    return !this.areAllSelected();\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, Inject, Injector } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { OTableFiltersStatus } from '../../../../../types/o-table-filter-status.type';\nimport { OTableBaseDialogClass } from '../o-table-base-dialog.class';\n\n@Component({\n  selector: 'o-table-store-filter-dialog',\n  templateUrl: './o-table-store-filter-dialog.component.html',\n  styleUrls: ['./o-table-store-filter-dialog.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableStoreFilterDialogComponent extends OTableBaseDialogClass {\n\n  filterNames: Array<string> = [];\n  formGroup: FormGroup = new FormGroup({\n    name: new FormControl('', [\n      Validators.required,\n      this.filterNameValidator.bind(this)\n    ]),\n    description: new FormControl('')\n  });\n\n  constructor(\n    public dialogRef: MatDialogRef<OTableStoreFilterDialogComponent>,\n    protected injector: Injector,\n    @Inject(MAT_DIALOG_DATA) data: Array<string>\n  ) {\n    super(injector);\n    this.setFormControl(this.formGroup.get('name'));\n    this.loadFilterNames(data);\n  }\n\n  loadFilterNames(filterNames): void {\n    this.filterNames = filterNames;\n  }\n\n  getFilterAttributes(): OTableFiltersStatus {\n    return this.formGroup.value;\n  }\n\n  protected filterNameValidator(control: FormControl) {\n    const ctrlValue: string = control.value;\n    if (this.filterNames.indexOf(ctrlValue) !== -1) {\n      return { filterNameAlreadyExists: true };\n    }\n    return {};\n  }\n\n}\n","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, Injector, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../../column/o-column.class';\n\n@Component({\n  selector: 'o-table-visible-columns-dialog',\n  templateUrl: 'o-table-visible-columns-dialog.component.html',\n  styleUrls: ['o-table-visible-columns-dialog.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-visible-columns-dialog]': 'true'\n  }\n})\nexport class OTableVisibleColumnsDialogComponent {\n\n  columns: Array<any> = [];\n  protected cd: ChangeDetectorRef;\n  rowHeight: string = Codes.DEFAULT_ROW_HEIGHT;\n\n  constructor(\n    protected injector: Injector,\n    public dialogRef: MatDialogRef<OTableVisibleColumnsDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    try {\n      this.cd = this.injector.get(ChangeDetectorRef);      \n    } catch (e) {\n      // no parent form\n    }\n    if (Util.isArray(data.columnsData) && Util.isArray(data.visibleColumns)) {      \n      data.columnsData.forEach((oCol: OColumn) => {\n        this.columns.push({\n          attr: oCol.attr,\n          title: oCol.title,\n          visible: oCol.visible,\n          showInList: data.visibleColumns.indexOf(oCol.attr) !== -1 || oCol.definition !== undefined\n        });\n      });\n    }\n    if (Util.isDefined(data.rowHeight)) {\n      this.rowHeight = data.rowHeight;\n    }\n  }\n\n  getVisibleColumns(): Array<string> {\n    return this.columns.filter(col => col.visible).map(col => col.attr);\n  }\n\n  getColumnsOrder(): Array<string> {\n    return this.columns.map(col => col.attr);\n  }\n\n  onClickColumn(col: OColumn): void {\n    col.visible = !col.visible;\n  }\n\n  drop(event: CdkDragDrop<string[]>) {\n    moveItemInArray(this.columns, event.previousIndex, event.currentIndex);\n  }\n}\n","import { OTableApplyConfigurationDialogComponent } from './apply-configuration/o-table-apply-configuration-dialog.component';\nimport { OTableExportDialogComponent } from './export/o-table-export-dialog.component';\nimport { OTableFilterByColumnDataDialogComponent } from './filter-by-column/o-table-filter-by-column-data-dialog.component';\nimport { OTableLoadFilterDialogComponent } from './load-filter/o-table-load-filter-dialog.component';\nimport { OTableStoreConfigurationDialogComponent } from './store-configuration/o-table-store-configuration-dialog.component';\nimport { OTableStoreFilterDialogComponent } from './store-filter/o-table-store-filter-dialog.component';\nimport { OTableVisibleColumnsDialogComponent } from './visible-columns/o-table-visible-columns-dialog.component';\n\nexport const O_TABLE_DIALOGS = [\n  OTableApplyConfigurationDialogComponent,\n  OTableExportDialogComponent,\n  OTableStoreConfigurationDialogComponent,\n  OTableLoadFilterDialogComponent,\n  OTableStoreFilterDialogComponent,\n  OTableVisibleColumnsDialogComponent,\n  OTableFilterByColumnDataDialogComponent\n];\n","import { Component, EventEmitter, Injector } from '@angular/core';\n\nimport { OTableExportButtonService } from './o-table-export-button.service';\n\nexport const DEFAULT_INPUTS_O_TABLE_EXPORT_BUTTON = [\n  'icon',\n  'svgIcon : svg-icon',\n  'olabel: label',\n  'exportType: export-type'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_EXPORT_BUTTON = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-table-export-button',\n  templateUrl: './o-table-export-button.component.html',\n  inputs: DEFAULT_INPUTS_O_TABLE_EXPORT_BUTTON,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_EXPORT_BUTTON\n})\nexport class OTableExportButtonComponent {\n\n  public icon: string;\n  public svgIcon: string;\n  public olabel: string;\n  public onClick: EventEmitter<any> = new EventEmitter();\n  protected exportType: string;\n  protected oTableExportButtonService: OTableExportButtonService;\n\n  constructor(\n    private injector: Injector\n  ) {\n    this.oTableExportButtonService = this.injector.get(OTableExportButtonService);\n  }\n\n  click() {\n    this.onClick.emit(this.exportType);\n    this.oTableExportButtonService.export$.next(this.exportType);\n  }\n\n}\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { AggregateFunction } from '../../../../../types/aggregate-function.type';\nimport { OColumnAggregate } from '../../../../../types/o-column-aggregate.type';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_TABLE_COLUMN_AGGREGATE = [\n  // attr [string]: column name.\n  'attr',\n\n  // title [string]: Title for the header total column\n  'title',\n\n  // aggregate [sum | count | avg | min |max]\n  'aggregate',\n\n  // function-aggregate [ (value: any[]) => number] Function that calculates a value on the values of the column 'attr'\n  'functionAggregate: function-aggregate'\n];\n\n@Component({\n  selector: 'o-table-column-aggregate',\n  templateUrl: './o-table-column-aggregate.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_TABLE_COLUMN_AGGREGATE\n})\nexport class OTableColumnAggregateComponent implements OnDestroy, OnInit {\n  public static DEFAULT_AGGREGATE = 'SUM';\n\n  public attr: string;\n  public aggregate: string;\n  public table: OTableComponent;\n  public title: string = '';\n  protected _aggregateFunction: AggregateFunction;\n\n  protected subscription: Subscription = new Subscription();\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) table: OTableComponent,\n    protected injector: Injector) {\n    this.table = table;\n  }\n\n  get functionAggregate(): AggregateFunction {\n    return this._aggregateFunction;\n  }\n\n  set functionAggregate(val: AggregateFunction) {\n    this._aggregateFunction = val;\n  }\n\n  getColumnData(attr) {\n    let columnData = [];\n    if (this.table.dataSource) {\n      columnData = this.table.dataSource.getColumnData(attr);\n    }\n    return columnData;\n  }\n\n  ngOnInit() {\n    if (!this.attr) {\n      return;\n    }\n\n    const ocolumnaggregate: OColumnAggregate = {};\n    ocolumnaggregate.attr = this.attr;\n    if (this.title) {\n      ocolumnaggregate.title = this.title;\n    }\n\n    ocolumnaggregate.operator = this.aggregate ? this.aggregate : (this.functionAggregate ? this.functionAggregate : OTableColumnAggregateComponent.DEFAULT_AGGREGATE);\n    this.table.registerColumnAggregate(ocolumnaggregate);\n\n    this.subscription.add(this.table.onReinitialize.subscribe(() => this.table.registerColumnAggregate(ocolumnaggregate)));\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef, forwardRef, Inject, Injector, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\nimport { OTableComponent } from './../../../o-table.component';\n\n@Directive({\n  selector: '[oTableExpandedFooter]'\n})\nexport class OTableExpandedFooterDirective implements AfterViewInit {\n\n  private spanMessageNotResults: any;\n  private translateService: OTranslateService;\n  private tableBody: any;\n  private tableHeader: any;\n  private tdTableWithMessage: any;\n  private onContentChangeSubscription: Subscription;\n  private onVisibleColumnsChangeSubscription: Subscription;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    public element: ElementRef,\n    private renderer: Renderer2,\n    protected injector: Injector\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n  }\n\n\n  ngAfterViewInit() {\n    if (this.element.nativeElement.childNodes[2]) {\n      this.tableBody = this.element.nativeElement.childNodes[1];\n      this.tableHeader = this.element.nativeElement.childNodes[0];\n    }\n    this.registerContentChange();\n    this.registerVisibleColumnsChange();\n  }\n\n  registerContentChange() {\n    /** Create a tr with a td and inside put the message and add to tbody\n    * <tr><td><span> {message}</span><td><tr>\n    */\n    let tr = this.renderer.createElement('tr');\n    this.tdTableWithMessage = this.renderer.createElement('td');\n    this.renderer.addClass(tr, 'o-table-no-results');\n    tr.appendChild(this.tdTableWithMessage);\n    this.renderer.appendChild(this.tableBody, tr);\n\n    const self = this;\n    this.onContentChangeSubscription = this.table.onContentChange.subscribe((data) => {\n      self.updateMessageNotResults(data);\n      self.table.cd.detectChanges();\n    });\n  }\n\n  registerVisibleColumnsChange() {\n    const self = this;\n    this.onVisibleColumnsChangeSubscription = this.table.onVisibleColumnsChange.subscribe(() => {\n      self.updateColspanTd();\n    });\n\n  }\n\n  updateMessageNotResults(data) {\n    // reset span message\n    if (this.spanMessageNotResults) {\n      this.renderer.removeChild(this.element.nativeElement, this.spanMessageNotResults);\n    }\n    //generate new message\n    if (data.length === 0) {\n\n      let result = '';\n      result = this.translateService.get('TABLE.EMPTY');\n      if (this.table.quickFilter && this.table.oTableQuickFilterComponent &&\n        this.table.oTableQuickFilterComponent.value && this.table.oTableQuickFilterComponent.value.length > 0) {\n        result += this.translateService.get('TABLE.EMPTY_USING_FILTER', [(this.table.oTableQuickFilterComponent.value)]);\n      }\n      this.spanMessageNotResults = this.renderer.createElement('span');\n      let messageNotResults = this.renderer.createText(result);\n      this.tdTableWithMessage.setAttribute('colspan', this.tableHeader.querySelectorAll('th').length);\n      this.renderer.appendChild(this.spanMessageNotResults, messageNotResults);\n      this.renderer.appendChild(this.tdTableWithMessage, this.spanMessageNotResults);\n    }\n  }\n\n  /* Update colspan in td that show message not results */\n  updateColspanTd() {\n    if (this.tdTableWithMessage) {\n      this.tdTableWithMessage.setAttribute('colspan', this.tableHeader.querySelectorAll('th').length);\n    }\n  }\n\n  destroy() {\n    if (this.onContentChangeSubscription) {\n      this.onContentChangeSubscription.unsubscribe();\n    }\n\n    if (this.onVisibleColumnsChangeSubscription) {\n      this.onVisibleColumnsChangeSubscription.unsubscribe();\n    }\n  }\n}\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injector, OnInit } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { OTablePaginator } from '../../../../../interfaces/o-table-paginator.interface';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OBaseTablePaginator } from './o-base-table-paginator.class';\n\nexport const DEFAULT_PAGINATOR_TABLE = [\n  // page-size [number]: Number of items to display on a page. By default set to 50.\n  'pageSize: page-size',\n  'showFirstLastButtons: show-first-last-buttons'\n];\n\n@Component({\n  selector: 'o-table-paginator',\n  template: ' ',\n  inputs: DEFAULT_PAGINATOR_TABLE,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTablePaginatorComponent extends OBaseTablePaginator implements OTablePaginator, OnInit {\n\n  protected _pageIndex: number = 0;\n  protected _pageSize: number = 10;\n  protected _pageSizeOptions: Array<any>;\n\n  @InputConverter()\n  showFirstLastButtons: boolean = true;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    super();\n    this.pageSize = this.table.queryRows;\n    this.pageIndex = this.table.currentPage;\n    this.showFirstLastButtons = this.table.showPaginatorFirstLastButtons;\n  }\n\n  ngOnInit() {\n    this.table.registerPagination(this);\n  }\n\n  get pageIndex(): number {\n    return this._pageIndex;\n  }\n\n  set pageIndex(value: number) {\n    this._pageIndex = value;\n    if (this.table.matpaginator) {\n      this.table.matpaginator.pageIndex = this._pageIndex;\n    }\n  }\n\n  public isShowingAllRows(selectedLength: number): boolean {\n    // return this._pageSizeOptions.indexOf(selectedLength) === (this._pageSizeOptions.length - 1);\n    // temporal while not having an option for showing all records in paginated tables\n    return false;\n  }\n}\n","import { OTableColumnAggregateComponent } from './aggregate/o-table-column-aggregate.component';\nimport { OTablePaginatorComponent } from './paginator/o-table-paginator.component';\n\nexport const O_TABLE_FOOTER_COMPONENTS = [\n  OTablePaginatorComponent,\n  OTableColumnAggregateComponent\n];\n","import { Injectable, Injector } from '@angular/core';\nimport { MatPaginatorIntl } from '@angular/material';\n\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\n\n@Injectable()\nexport class OTableMatPaginatorIntl extends MatPaginatorIntl {\n\n  itemsPerPageLabel;\n  nextPageLabel;\n  previousPageLabel;\n  translateService: OTranslateService;\n  protected onLanguageChangeSubscribe: any;\n\n  constructor(protected injector: Injector) {\n    super();\n    this.translateService = this.injector.get(OTranslateService);\n    this.itemsPerPageLabel = this.translateService.get('TABLE.PAGINATE.ITEMSPERPAGELABEL');\n    this.nextPageLabel = this.translateService.get('TABLE.PAGINATE.NEXT');\n    this.previousPageLabel = this.translateService.get('TABLE.PAGINATE.PREVIOUS');\n    this.firstPageLabel = this.translateService.get('TABLE.PAGINATE.FIRST');\n    this.lastPageLabel = this.translateService.get('TABLE.PAGINATE.LAST');\n    this.getRangeLabel = this.getORangeLabel;\n\n    this.onLanguageChangeSubscribe = this.translateService.onLanguageChanged.subscribe(res => {\n      this.itemsPerPageLabel = this.translateService.get('TABLE.PAGINATE.ITEMSPERPAGELABEL');\n      this.nextPageLabel = this.translateService.get('TABLE.PAGINATE.NEXT');\n      this.previousPageLabel = this.translateService.get('TABLE.PAGINATE.PREVIOUS');\n      this.firstPageLabel = this.translateService.get('TABLE.PAGINATE.FIRST');\n      this.lastPageLabel = this.translateService.get('TABLE.PAGINATE.LAST');\n      this.getRangeLabel = this.getORangeLabel;\n      this.changes.next();\n    });\n  }\n\n  getORangeLabel(page: number, pageSize: number, length: number): string {\n    if (!isNaN(pageSize) && (length === 0 || pageSize === 0)) {\n      return `0  ${this.translateService.get('TABLE.PAGINATE.RANGE_LABEL')} ${length}`;\n    }\n    length = Math.max(length, 0);\n    let startIndex = page * pageSize;\n    // If the start index exceeds the list length, do not try and fix the end index to the end.\n    let endIndex = startIndex < length ?\n      Math.min(startIndex + pageSize, length) :\n      startIndex + pageSize;\n\n    // option show all\n    if (isNaN(pageSize)) {\n      startIndex = 0;\n      endIndex = length;\n    }\n\n    return `${startIndex + 1} - ${endIndex}  ${this.translateService.get('TABLE.PAGINATE.RANGE_LABEL')} ${length}`;\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OTableButton } from '../../../../../interfaces/o-table-button.interface';\n\nexport const DEFAULT_INPUTS_O_TABLE_BUTTON = [\n  'oattr: attr',\n  'enabled',\n  'icon',\n  'svgIcon: svg-icon',\n  'iconPosition: icon-position',\n  'olabel: label'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_BUTTON = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-table-button',\n  templateUrl: './o-table-button.component.html',\n  styleUrls: ['./o-table-button.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_BUTTON,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_BUTTON,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-button]': 'true',\n  }\n})\nexport class OTableButtonComponent implements OTableButton, OnInit {\n\n  public onClick: EventEmitter<object> = new EventEmitter<object>();\n\n  public oattr: string;\n  @InputConverter()\n  public enabled: boolean = true;\n  public icon: string;\n  public svgIcon: string;\n  public olabel: string;\n  public iconPosition: string;\n\n  constructor(\n    protected injector: Injector,\n    public elRef: ElementRef,\n    @Inject(forwardRef(() => OTableComponent)) protected _table: OTableComponent\n  ) { }\n\n  public ngOnInit(): void {\n    if (!Util.isDefined(this.icon) && !Util.isDefined(this.svgIcon)) {\n      this.icon = 'priority_high';\n    }\n    this.iconPosition = Util.parseIconPosition(this.iconPosition);\n  }\n\n  public innerOnClick(event): void {\n    event.stopPropagation();\n    this.onClick.emit();\n  }\n\n  public isIconPositionLeft(): boolean {\n    return this.iconPosition === Codes.ICON_POSITION_LEFT;\n  }\n\n  get table(): OTableComponent {\n    return this._table;\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { OTableButtons } from '../../../../../interfaces/o-table-buttons.interface';\nimport { OPermissions } from '../../../../../types/o-permissions.type';\nimport { PermissionsUtils } from '../../../../../util/permissions';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OTableButtonComponent } from '../table-button/o-table-button.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_BUTTONS = [\n  // insert-button [no|yes]: show insert button. Default: yes.\n  'insertButton: insert-button',\n  // refresh-button [no|yes]: show refresh button. Default: yes.\n  'refreshButton: refresh-button',\n  // delete-button [no|yes]: show delete button. Default: yes.\n  'deleteButton: delete-button'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_BUTTONS = [];\n\n@Component({\n  selector: 'o-table-buttons',\n  templateUrl: './o-table-buttons.component.html',\n  styleUrls: ['./o-table-buttons.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_BUTTONS,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_BUTTONS,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-buttons]': 'true',\n  }\n})\nexport class OTableButtonsComponent implements OTableButtons, OnInit, OnDestroy {\n\n  /* Inputs */\n  @InputConverter()\n  public insertButton: boolean = true;\n  @InputConverter()\n  public refreshButton: boolean = true;\n  @InputConverter()\n  public deleteButton: boolean = true;\n  /* End of inputs */\n\n  public enabledInsertButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n  public enabledRefreshButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n  public enabledDeleteButton: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  protected permissions: OPermissions[];\n  protected mutationObservers: MutationObserver[] = [];\n  protected subscription: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.permissions = this.table.getActionsPermissions();\n  }\n\n  public ngOnInit(): void {\n    const insertPerm: OPermissions = this.getPermissionByAttr('insert');\n    const refreshPerm: OPermissions = this.getPermissionByAttr('refresh');\n    const deletePerm: OPermissions = this.getPermissionByAttr('delete');\n\n    if (this.insertButton && (insertPerm && insertPerm.enabled === false)) {\n      this.enabledInsertButton.next(false);\n    }\n    if (this.refreshButton && (refreshPerm && refreshPerm.enabled === false)) {\n      this.enabledRefreshButton.next(false);\n    }\n    this.subscription = this.table.selection.changed.subscribe(() =>\n      deletePerm ? this.enabledDeleteButton.next(deletePerm.enabled && !this.table.selection.isEmpty()) : this.enabledDeleteButton.next(!this.table.selection.isEmpty())\n    );\n  }\n\n  public ngOnDestroy(): void {\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  public add(): void {\n    this.table.add();\n  }\n\n  public reloadData(): void {\n    this.table.reloadData();\n  }\n\n  public remove(): void {\n    this.table.remove();\n  }\n\n  public getPermissionByAttr(attr: string): OPermissions {\n    return this.permissions.find((perm: OPermissions) => perm.attr === attr);\n  }\n\n  public registerButtons(oTableButtons: OTableButtonComponent[]): void {\n    const fixedButtons = ['insert', 'refresh', 'delete'];\n    const userItems: OPermissions[] = this.permissions.filter((perm: OPermissions) => fixedButtons.indexOf(perm.attr) === -1);\n    const self = this;\n    userItems.forEach((perm: OPermissions) => {\n      const button = oTableButtons.find((oTableButton: OTableButtonComponent) => oTableButton.oattr === perm.attr);\n      self.setPermissionsToOTableButton(perm, button);\n    });\n  }\n\n  get showInsertOButton(): boolean {\n    if (!this.insertButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('insert');\n    return !(perm && perm.visible === false);\n  }\n\n  get showRefreshOButton(): boolean {\n    if (!this.refreshButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('refresh');\n    return !(perm && perm.visible === false);\n  }\n\n  get showDeleteOButton(): boolean {\n    if (!this.deleteButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('delete');\n    return !(perm && perm.visible === false);\n  }\n\n  protected setPermissionsToOTableButton(perm: OPermissions, button: OTableButtonComponent): void {\n    if (perm.visible === false && button) {\n      button.elRef.nativeElement.remove();\n    } else if (perm.enabled === false && button) {\n      button.enabled = false;\n      const buttonEL = button.elRef.nativeElement.querySelector('button');\n      const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n      this.mutationObservers.push(obs);\n    }\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  forwardRef,\n  HostListener,\n  Inject,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER = [\n  'column'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER = [\n  // 'resizing',\n  // 'resized'\n];\n\n@Component({\n  selector: 'o-table-column-resizer',\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER,\n  templateUrl: './o-table-column-resizer.component.html',\n  styleUrls: ['./o-table-column-resizer.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-column-resizer]': 'true',\n    '[class.disabled]': 'isDisabled',\n  }\n})\nexport class OTableColumnResizerComponent implements OnInit, OnDestroy {\n\n  column: OColumn;\n  @InputConverter()\n  disabled: boolean = false;\n\n  // resizing = new EventEmitter<boolean>();\n  // resized = new EventEmitter<number>();\n  protected startWidth: any;\n  protected minWidth: any;\n  protected maxWidth: any;\n\n  protected startX: any;\n\n  protected headerEl: any;\n\n  protected nextOColumns: OColumn[];\n\n  protected dragListeners: Array<() => void> = [];\n  protected isResizing: boolean = false;\n  protected blockedMinCols = [];\n  protected blockedMaxCols = [];\n\n  protected columnsStartWidth = {};\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected elRef: ElementRef,\n    protected ngZone: NgZone,\n    protected renderer: Renderer2\n  ) { }\n\n  ngOnInit(): void {\n    if (!this.isDisabled) {\n      this.headerEl = this.getHeaderEL();\n      if (this.headerEl) {\n        this.nextOColumns = this.getFollowingOColumns();\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.stopDragging();\n  }\n\n  onClick(event: MouseEvent) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  get isDisabled(): boolean {\n    return this.column && !this.column.resizable;\n  }\n\n  @HostListener('mousedown', ['$event'])\n  onMousedown(e: MouseEvent) {\n    if (!this.isDisabled) {\n      this.startResize(e);\n    }\n  }\n\n  onMouseup() {\n    this.isResizing = false;\n    this.stopDragging();\n    // this.resize.emit(this.element.clientWidth);\n  }\n\n  protected stopDragging() {\n    this.isResizing = false;\n    this.columnsStartWidth = {};\n    while (this.dragListeners.length > 0) {\n      const fct = this.dragListeners.pop();\n      if (fct) {\n        fct();\n      }\n    }\n  }\n\n  startResize(startEvent: MouseEvent): void {\n    startEvent.preventDefault();\n    startEvent.stopPropagation();\n    if (!Util.isDefined(this.headerEl)) {\n      return;\n    }\n    this.startX = startEvent.screenX;\n    this.startWidth = this.column.DOMWidth;\n    this.minWidth = this.column.getMinWidthValue();\n    this.initializeWidthData();\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mouseup', (e: MouseEvent) => this.stopDragging()));\n    });\n\n    if (!(startEvent instanceof MouseEvent)) {\n      return;\n    }\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mousemove', (e: MouseEvent) => this.resizeEvent(e)));\n    });\n    this.isResizing = true;\n  }\n\n  protected resizeEvent(event: MouseEvent): void {\n    if (!this.isResizing || !(event instanceof MouseEvent)) {\n      return;\n    }\n    const movementX = (event.screenX - this.startX);\n    if (movementX === 0) {\n      return;\n    }\n    const newColumnWidth = this.startWidth + movementX;\n\n    const lessThanMin = newColumnWidth < this.minWidth;\n    const moreThanMax = newColumnWidth > this.maxWidth;\n    if (lessThanMin || moreThanMax) {\n      return;\n    }\n    if (!this.table.horizontalScroll) {\n      this.calculateNewColumnsWidth(movementX, newColumnWidth);\n      this.updateBlockedCols();\n    } else {\n      this.column.setWidth(newColumnWidth);\n    }\n    this.table.cd.detectChanges();\n  }\n\n  protected getHeaderEL(): Node {\n    let element;\n    let currentEl: Node = this.elRef.nativeElement.parentElement;\n    while (!element && currentEl) {\n      if (currentEl.nodeName === 'TH') {\n        element = currentEl;\n      } else {\n        currentEl = currentEl.parentElement;\n      }\n    }\n    return currentEl;\n  }\n\n  protected getFollowingOColumns(): OColumn[] {\n    const result: OColumn[] = [];\n    let nextTh: any = this.headerEl.nextSibling;\n    const self = this;\n    while (nextTh) {\n      const oCol: OColumn = self.table.getOColumnFromTh(nextTh);\n      if (Util.isDefined(oCol)) {\n        result.push(oCol);\n      }\n      nextTh = nextTh.nextSibling;\n    }\n    return result;\n  }\n\n  protected updateBlockedCols() {\n    const self = this;\n    this.blockedMinCols = [];\n    this.blockedMaxCols = [];\n    const columns = [this.column, ...this.nextOColumns];\n    columns.forEach(oCol => {\n      if (oCol.DOMWidth <= oCol.getMinWidthValue()) {\n        self.blockedMinCols.push(oCol.attr);\n      }\n      const maxW = oCol.getMaxWidthValue();\n      if (Util.isDefined(maxW) && oCol.DOMWidth >= maxW) {\n        self.blockedMaxCols.push(oCol.attr);\n      }\n    });\n  }\n\n  protected calculateNewColumnsWidth(movementX: number, newColumnWidth: number) {\n    const positive = (movementX > 0);\n    if (positive) {\n      this.calculateUsingNextColumnsRestrictions(movementX, newColumnWidth);\n    } else {\n      this.calculateUsingOwnColumnRestriction(movementX, newColumnWidth);\n    }\n  }\n\n  protected calculateUsingNextColumnsRestrictions(movementX: number, newColumnWidth: number) {\n    const availableCols = this.nextOColumns.length - this.blockedMinCols.length;\n    if (availableCols <= 0) {\n      return;\n    }\n    const widthRatio = movementX / availableCols;\n    const cols = this.nextOColumns.filter((oCol: OColumn) => this.blockedMinCols.indexOf(oCol.attr) === -1);\n    cols.forEach(oCol => {\n      let newWidth = (this.columnsStartWidth[oCol.attr] - widthRatio);\n      const minWidth = oCol.getMinWidthValue();\n      if (newWidth <= minWidth) {\n        newWidth = minWidth;\n        this.blockedMinCols.push(oCol.attr);\n      }\n      oCol.setWidth(newWidth);\n    });\n    this.column.setWidth(newColumnWidth);\n  }\n\n  protected calculateUsingOwnColumnRestriction(movementX: number, newColumnWidth: number) {\n    let widthRatio = Math.abs(movementX) / this.nextOColumns.length;\n    let widthDifference = 0;\n    if (widthRatio > 0 && this.blockedMaxCols.length < this.nextOColumns.length) {\n      const cols = this.nextOColumns.filter((oCol: OColumn) => this.blockedMaxCols.indexOf(oCol.attr) === -1);\n      cols.forEach(oCol => {\n        let newWidthValue = (this.columnsStartWidth[oCol.attr] + widthRatio);\n        const maxWidth = oCol.getMaxWidthValue();\n        if (maxWidth && newWidthValue > maxWidth) {\n          const diff = newWidthValue - maxWidth;\n          newWidthValue = maxWidth;\n          this.blockedMaxCols.push(oCol.attr);\n          const notBlocked = this.nextOColumns.length - this.blockedMaxCols.length;\n          widthRatio += notBlocked > 0 ? Math.floor(diff / notBlocked) : 0;\n        }\n        widthDifference += newWidthValue - oCol.DOMWidth;\n        oCol.setWidth(newWidthValue);\n      });\n    }\n    const newWidth = Math.min(this.startWidth - widthDifference, newColumnWidth);\n    this.column.setWidth(newWidth);\n  }\n\n  protected initializeWidthData() {\n    let maxWidth = this.column.getMaxWidthValue();\n    let nextColMinWidthAcum = 0;\n    let nextColWidthAcum = 0;\n    this.nextOColumns.forEach((col: OColumn) => {\n      nextColMinWidthAcum += col.getMinWidthValue();\n      nextColWidthAcum += col.DOMWidth;\n      this.columnsStartWidth[col.attr] = col.DOMWidth;\n    });\n    const calcMaxWidth = this.headerEl.clientWidth + (nextColWidthAcum - nextColMinWidthAcum);\n    if (Util.isDefined(maxWidth)) {\n      maxWidth = Math.min(maxWidth, calcMaxWidth);\n    } else {\n      maxWidth = calcMaxWidth;\n    }\n    this.maxWidth = maxWidth;\n  }\n}\n","import { ChangeDetectionStrategy, Component, forwardRef, Inject, Injector, OnInit } from '@angular/core';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { Codes } from '../../../../../util/codes';\nimport { Util } from '../../../../../util/util';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER = [\n  // columns [string]: columns that might be filtered, separated by ';'. Default: all visible columns.\n  'columns',\n  // preloadValues [true|false|yes|no]: indicates whether or not to show the list values when the filter dialog is opened. Default: true.\n  'preloadValues: preload-values',\n  // mode [default | selection |  custom]\n  'mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER = [\n];\n\n@Component({\n  selector: 'o-table-columns-filter',\n  template: ' ',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER\n})\n\nexport class OTableColumnsFilterComponent implements OnInit {\n\n  public static DEFAULT_COMPARISON_TYPE = 'VIEW';\n  public static MODEL_COMPARISON_TYPE = 'MODEL';\n  public static OTableColumnsFilterModes = ['default', 'selection', 'custom'];\n\n  protected _columns: string;\n  protected _mode: string = 'default';\n  @InputConverter()\n  preloadValues: boolean = true;\n\n  get mode(): string {\n    return this._mode;\n  }\n\n  @InputConverter()\n  set mode(val: string) {\n    const m = OTableColumnsFilterComponent.OTableColumnsFilterModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._mode = m;\n    } else {\n      console.error('Invalid `o-table-columns-filter` mode (' + val + ')');\n    }\n  }\n\n  protected _columnsArray: Array<string> = [];\n  protected columnsComparisonProperty: object = {};\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) { }\n\n  ngOnInit() {\n    if (this.columnsArray.length === 0) {\n      this.columnsArray = this.table.oTableOptions.visibleColumns;\n    }\n    const self = this;\n    this.columnsArray.forEach((colData, i, arr) => {\n      const colDef = colData.split(Codes.TYPE_SEPARATOR);\n      const colName = colDef[0];\n      let compType = (colDef[1] || '').toUpperCase();\n      if ([OTableColumnsFilterComponent.DEFAULT_COMPARISON_TYPE, OTableColumnsFilterComponent.MODEL_COMPARISON_TYPE].indexOf(compType) === -1) {\n        compType = OTableColumnsFilterComponent.DEFAULT_COMPARISON_TYPE;\n      }\n      arr[i] = colName;\n      self.columnsComparisonProperty[colName] = compType;\n    });\n    this.table.setOTableColumnsFilter(this);\n  }\n\n  isColumnFilterable(attr: string) {\n    return (this.columnsArray.indexOf(attr) !== -1);\n  }\n\n  getColumnComparisonValue(column: OColumn, val: any): any {\n    if (!column || this.columnsComparisonProperty[column.attr] === OTableColumnsFilterComponent.MODEL_COMPARISON_TYPE) {\n      return val;\n    } else {\n      return column.renderer ? column.renderer.getCellData(val) : val;\n    }\n  }\n\n  set columns(arg: string) {\n    this._columns = arg;\n    this._columnsArray = Util.parseArray(this._columns, true);\n  }\n\n  set columnsArray(arg: string[]) {\n    this._columnsArray = arg;\n  }\n\n  get columnsArray(): string[] {\n    return this._columnsArray;\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ComponentFactoryResolver,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnInit,\n} from '@angular/core';\nimport { FormControl, ValidatorFn, Validators } from '@angular/forms';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { SnackBarService } from '../../../../../services/snackbar.service';\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\nimport { OPermissions } from '../../../../../types/o-permissions.type';\nimport { Observable, ObservableWrapper } from '../../../../../util/async';\nimport { Util } from '../../../../../util/util';\nimport { OBaseTableCellEditor } from '../../../column/cell-editor/o-base-table-cell-editor.class';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW = [\n  // columns [string]: columns that can be inserted, separated by ';'. Default: all visible columns.\n  'columns',\n  'requiredColumns : required-columns',\n  // position [first |last ] default: last\n  'position',\n  'showPlaceHolder: show-placeholder',\n  'includeParentKeys: include-parent-keys'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW = [\n  'onPostInsertRecord'\n];\n\n@Component({\n  selector: 'o-table-insertable-row',\n  template: ' ',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW\n})\n\nexport class OTableInsertableRowComponent implements OnInit {\n\n  public static AVAILABLE_ROW_POSITIONS = ['first', 'last'];\n  public static DEFAULT_ROW_POSITION = 'last';\n\n  protected columns: string;\n  protected columnsArray: Array<string> = [];\n\n  protected requiredColumns: string;\n  protected requiredColumnsArray: Array<string> = [];\n\n  onPostInsertRecord: EventEmitter<any> = new EventEmitter();\n  columnEditors: any = {};\n  trWrapper: EventTarget;\n\n  protected position: string = OTableInsertableRowComponent.DEFAULT_ROW_POSITION;\n\n  @InputConverter()\n  showPlaceHolder: boolean = false;\n  @InputConverter()\n  includeParentKeys: boolean = true;\n\n  enabled = true;\n  rowData = {};\n  protected controls: any = {};\n  translateService: OTranslateService;\n  snackBarService: SnackBarService;\n\n  constructor(\n    protected injector: Injector,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent,\n    protected resolver: ComponentFactoryResolver\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  ngOnInit() {\n    this.columnsArray = Util.parseArray(this.columns, true);\n    if (this.columnsArray.length === 0) {\n      this.columnsArray = this.table.oTableOptions.visibleColumns;\n    }\n    this.requiredColumnsArray = Util.parseArray(this.requiredColumns, true);\n    if (OTableInsertableRowComponent.AVAILABLE_ROW_POSITIONS.indexOf((this.position || '').toLowerCase()) === -1) {\n      this.position = OTableInsertableRowComponent.DEFAULT_ROW_POSITION;\n    }\n    this.table.setOTableInsertableRow(this);\n  }\n\n  isFirstRow(): boolean {\n    return this.position === 'first';\n  }\n\n  isColumnInsertable(column: OColumn): boolean {\n    return (this.columnsArray.indexOf(column.attr) !== -1);\n  }\n\n  isColumnRequired(column: OColumn): boolean {\n    return (this.requiredColumnsArray.indexOf(column.attr) !== -1);\n  }\n\n  initializeEditors(): void {\n    const self = this;\n    this.table.oTableOptions.columns.forEach((col, i, array) => {\n      if (self.isColumnInsertable(col)) {\n        const columnEditorType = col.editor ? col.editor.type : col.type;\n        if (col.definition) {\n          const editor: OBaseTableCellEditor = col.definition.buildCellEditor(columnEditorType, this.resolver, col.definition.container, col.definition);\n          this.columnEditors[col.attr] = editor;\n          let disabledCol = !this.enabled;\n          if (!disabledCol) {\n            const columnPermissions: OPermissions = this.table.getOColumnPermissions(col.attr);\n            disabledCol = columnPermissions.enabled === false;\n          }\n          editor.enabled = !disabledCol;\n          editor.showPlaceHolder = this.showPlaceHolder || editor.showPlaceHolder;\n          editor.table = self.table;\n          editor.tableColumn = col.editor ? col.editor.tableColumn : col.definition;\n          editor.orequired = this.isColumnRequired(col);\n          editor.formControl = this.getControl(col, disabledCol);\n          editor.controlArgs = { silent: true };\n          editor.rowData = self.rowData;\n          editor.startEdition(self.rowData);\n          editor.formControl.markAsUntouched();\n          col.editor = editor;\n        }\n      }\n      array[i] = col;\n    });\n  }\n\n  useCellEditor(column: OColumn): boolean {\n    return this.isColumnInsertable(column) && Util.isDefined(this.columnEditors[column.attr]);\n  }\n\n  getControl(column: OColumn, disabled: boolean = false): FormControl {\n    if (!this.controls[column.attr]) {\n      const validators: ValidatorFn[] = this.resolveValidators(column);\n      const cfg = {\n        value: undefined,\n        disabled: disabled\n      };\n      this.controls[column.attr] = new FormControl(cfg, validators);\n    }\n    return this.controls[column.attr];\n  }\n\n  resolveValidators(column: OColumn): ValidatorFn[] {\n    const validators: ValidatorFn[] = [];\n    if (this.isColumnRequired(column)) {\n      validators.push(Validators.required);\n    }\n    return validators;\n  }\n\n  getPlaceholder(column: OColumn): string {\n    let showPlaceHolder = this.showPlaceHolder;\n    const cellEditor = this.columnEditors[column.attr];\n    if (cellEditor) {\n      showPlaceHolder = cellEditor.showPlaceHolder;\n    } else if (column.definition) {\n      showPlaceHolder = showPlaceHolder || column.definition.showPlaceHolder;\n    }\n    return showPlaceHolder ? this.translateService.get(column.title) : undefined;\n  }\n\n  handleKeyboardEvent(event: KeyboardEvent) {\n    if (event.keyCode !== 13) {\n      // not intro\n      return;\n    }\n    this.trWrapper = event.currentTarget;\n\n    event.preventDefault();\n    event.stopPropagation();\n    this.insertRecord();\n  }\n\n  insertRecord() {\n    const self = this;\n    if (!this.validateFields()) {\n      // this.table.showDialogError('TABLE.ROW_VALIDATION_ERROR');\n      return;\n    }\n    const values = this.getAttributesValuesToInsert();\n    const insertObservable: Observable<any> = this.table.insertRecord(values);\n    if (insertObservable) {\n      insertObservable.subscribe(res => {\n        self.onInsertSuccess(res);\n      }, error => {\n        self.table.showDialogError(error, 'MESSAGES.ERROR_INSERT');\n      });\n    }\n  }\n\n  protected validateFields(): boolean {\n    let valid = true;\n    // columns with no editor defined\n    Object.keys(this.controls).forEach((controlKey) => {\n      const control = this.controls[controlKey];\n      control.markAsTouched();\n      valid = valid && control.valid;\n    });\n    return valid;\n  }\n\n  protected getAttributesValuesToInsert(): object {\n    let attrValues = {};\n    if (this.includeParentKeys) {\n      attrValues = this.table.getParentKeysValues();\n    }\n    Object.keys(this.controls).forEach((controlKey) => {\n      attrValues[controlKey] = this.controls[controlKey].value;\n    });\n    return attrValues;\n  }\n\n  protected onInsertSuccess(res: any) {\n    ObservableWrapper.callEmit(this.onPostInsertRecord, res);\n    this.snackBarService.open('MESSAGES.INSERTED', { icon: 'check_circle' });\n    this.cleanFields();\n\n    if (this.table.daoTable.usingStaticData) {\n      this.table.setDataArray(res);\n    } else {\n      this.table.reloadData();\n    }\n  }\n\n  protected cleanFields() {\n    // columns with no editor defined\n    const controlKeys = Object.keys(this.controls);\n    controlKeys.forEach((controlKey) => {\n      this.controls[controlKey].setValue(void 0);\n    });\n    const firstInputEl = (this.trWrapper as any).querySelector('input');\n    if (firstInputEl) {\n      setTimeout(() => {\n        firstInputEl.focus();\n      });\n    }\n  }\n\n  columnHasError(column: OColumn, error: string): boolean {\n    const control = this.controls[column.attr];\n    return control && control.touched && control.hasError(error);\n  }\n\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { MatDialog, MatMenu } from '@angular/material';\nimport { Observable } from 'rxjs';\n\nimport { InputConverter } from '../../../../../decorators/input-converter';\nimport { OTableMenu } from '../../../../../interfaces/o-table-menu.interface';\nimport { DialogService } from '../../../../../services/dialog.service';\nimport { SnackBarService } from '../../../../../services/snackbar.service';\nimport { OTranslateService } from '../../../../../services/translate/o-translate.service';\nimport { OPermissions } from '../../../../../types/o-permissions.type';\nimport { OTableMenuPermissions } from '../../../../../types/o-table-menu-permissions.type';\nimport { Codes } from '../../../../../util/codes';\nimport { PermissionsUtils } from '../../../../../util/permissions';\nimport { Util } from '../../../../../util/util';\nimport { OTableCellRendererImageComponent } from '../../../column/cell-renderer/image/o-table-cell-renderer-image.component';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OTableComponent } from '../../../o-table.component';\nimport { OTableApplyConfigurationDialogComponent } from '../../dialog/apply-configuration/o-table-apply-configuration-dialog.component';\nimport { OTableExportDialogComponent } from '../../dialog/export/o-table-export-dialog.component';\nimport { OTableLoadFilterDialogComponent } from '../../dialog/load-filter/o-table-load-filter-dialog.component';\nimport { OTableStoreConfigurationDialogComponent } from '../../dialog/store-configuration/o-table-store-configuration-dialog.component';\nimport { OTableStoreFilterDialogComponent } from '../../dialog/store-filter/o-table-store-filter-dialog.component';\nimport { OTableVisibleColumnsDialogComponent } from '../../dialog/visible-columns/o-table-visible-columns-dialog.component';\nimport { OTableOptionComponent } from '../table-option/o-table-option.component';\nimport { OTableExportConfiguration } from './o-table-export-configuration.class';\n\nexport const DEFAULT_INPUTS_O_TABLE_MENU = [\n  // select-all-checkbox [yes|no|true|false]: show selection check boxes. Default: no.\n  'selectAllCheckbox: select-all-checkbox',\n\n  // export-button [no|yes]: show export button. Default: yes.\n  'exportButton: export-button',\n\n  // columns-visibility-button [no|yes]: show columns visibility button. Default: yes.\n  'columnsVisibilityButton: columns-visibility-button',\n\n  // show-configuration-option [yes|no|true|false]: show configuration button in header. Default: yes.\n  'showConfigurationOption: show-configuration-option',\n\n  // show-filter-option [yes|no|true|false]: show filter menu option in the header menu\n  'showFilterOption: show-filter-option'\n];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_MENU = [];\n\n@Component({\n  selector: 'o-table-menu',\n  templateUrl: './o-table-menu.component.html',\n  styleUrls: ['./o-table-menu.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_MENU,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_MENU,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-table-menu]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OTableMenuComponent implements OTableMenu, OnInit, AfterViewInit, OnDestroy {\n\n  /* Inputs */\n  @InputConverter()\n  selectAllCheckbox: boolean = false;\n  @InputConverter()\n  exportButton: boolean = true;\n  @InputConverter()\n  showConfigurationOption: boolean = true;\n  @InputConverter()\n  showFilterOption: boolean = true;\n  @InputConverter()\n  columnsVisibilityButton: boolean = true;\n  /* End of inputs */\n\n  protected dialogService: DialogService;\n  protected translateService: OTranslateService;\n  protected snackBarService: SnackBarService;\n\n  @ViewChild('menu', { static: true })\n  matMenu: MatMenu;\n  @ViewChild('selectAllCheckboxOption', { static: false })\n  selectAllCheckboxOption: OTableOptionComponent;\n  @ViewChild('exportButtonOption', { static: false })\n  exportButtonOption: OTableOptionComponent;\n  @ViewChild('columnsVisibilityButtonOption', { static: false })\n  columnsVisibilityButtonOption: OTableOptionComponent;\n  @ViewChild('filterMenuButton', { read: ElementRef, static: false })\n  filterMenuButton: ElementRef;\n  @ViewChild('configurationMenuButton', { read: ElementRef, static: false })\n  configurationMenuButton: ElementRef;\n\n  @ViewChild('filterMenu', { static: false })\n  filterMenu: MatMenu;\n  @ViewChild('configurationMenu', { static: false })\n  configurationMenu: MatMenu;\n  @ViewChild('columnFilterOption', { static: false })\n  columnFilterOption: OTableOptionComponent;\n\n  protected permissions: OTableMenuPermissions;\n  protected mutationObservers: MutationObserver[] = [];\n\n  constructor(\n    protected injector: Injector,\n    protected dialog: MatDialog,\n    protected cd: ChangeDetectorRef,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.translateService = this.injector.get(OTranslateService);\n    this.snackBarService = this.injector.get(SnackBarService);\n  }\n\n  ngOnInit() {\n    this.permissions = this.table.getMenuPermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.columnFilterOption) {\n      this.columnFilterOption.setActive(this.table.showFilterByColumnIcon);\n      this.cd.detectChanges();\n    }\n\n    if (!this.permissions.items || this.permissions.items.length === 0) {\n      return;\n    }\n    if (this.selectAllCheckboxOption && !this.enabledSelectAllCheckbox) {\n      this.disableOTableOptionComponent(this.selectAllCheckboxOption);\n    }\n    if (this.exportButtonOption && !this.enabledExportButton) {\n      this.disableOTableOptionComponent(this.exportButtonOption);\n    }\n    if (this.columnsVisibilityButtonOption && !this.enabledColumnsVisibilityButton) {\n      this.disableOTableOptionComponent(this.columnsVisibilityButtonOption);\n    }\n    if (this.filterMenuButton && !this.enabledFilterMenu) {\n      this.disableButton(this.filterMenuButton);\n    }\n    if (this.configurationMenuButton && !this.enabledConfigurationMenu) {\n      this.disableButton(this.configurationMenuButton);\n    }\n    this.cd.detectChanges();\n  }\n\n  protected disableOTableOptionComponent(comp: OTableOptionComponent) {\n    comp.enabled = false;\n    const buttonEL = comp.elRef.nativeElement.querySelector('button');\n    const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n    this.mutationObservers.push(obs);\n  }\n\n  protected disableButton(buttonEL: ElementRef) {\n    buttonEL.nativeElement.disabled = true;\n    const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL.nativeElement);\n    this.mutationObservers.push(obs);\n  }\n\n  ngOnDestroy() {\n    if (this.mutationObservers) {\n      this.mutationObservers.forEach((m: MutationObserver) => {\n        m.disconnect();\n      });\n    }\n  }\n\n  registerOptions(oTableOptions: OTableOptionComponent[]) {\n    const items: OPermissions[] = this.permissions.items || [];\n    const fixedOptions = ['select-all-checkbox', 'export', 'show-hide-columns', 'filter', 'configuration'];\n    const userItems: OPermissions[] = items.filter((perm: OPermissions) => fixedOptions.indexOf(perm.attr) === -1);\n    const self = this;\n    userItems.forEach((perm: OPermissions) => {\n      const option = oTableOptions.find((oTableOption: OTableOptionComponent) => oTableOption.oattr === perm.attr);\n      self.setPermissionsToOTableOption(perm, option);\n    });\n  }\n\n  protected setPermissionsToOTableOption(perm: OPermissions, option: OTableOptionComponent) {\n    if (perm.visible === false && option) {\n      option.elRef.nativeElement.remove();\n    } else if (perm.enabled === false && option) {\n      option.enabled = false;\n      const buttonEL = option.elRef.nativeElement.querySelector('button');\n      const obs = PermissionsUtils.registerDisabledChangesInDom(buttonEL);\n      this.mutationObservers.push(obs);\n    }\n  }\n\n  getPermissionByAttr(attr: string) {\n    const items: OPermissions[] = this.permissions.items || [];\n    return items.find((perm: OPermissions) => perm.attr === attr);\n  }\n\n  get isSelectAllOptionActive(): boolean {\n    return this.table.oTableOptions.selectColumn.visible;\n  }\n\n  get showColumnsFilterOption(): boolean {\n    return this.table.oTableColumnsFilterComponent !== undefined;\n  }\n\n  get enabledColumnsFilterOption(): boolean {\n    return this.table.oTableColumnsFilterComponent !== undefined;\n  }\n\n  get showSelectAllCheckbox(): boolean {\n    if (!this.selectAllCheckbox) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('select-all-checkbox');\n    return this.showFilterOption && !(perm && perm.visible === false);\n  }\n\n  get rowHeightObservable(): Observable<string> {\n    return this.table.rowHeightObservable;\n  }\n  get enabledSelectAllCheckbox(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('select-all-checkbox');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showExportButton(): boolean {\n    if (!this.exportButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('export');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledExportButton(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('export');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showColumnsVisibilityButton(): boolean {\n    if (!this.columnsVisibilityButton) {\n      return false;\n    }\n    const perm: OPermissions = this.getPermissionByAttr('show-hide-columns');\n    return !(perm && perm.visible === false);\n  }\n\n  get enabledColumnsVisibilityButton(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('show-hide-columns');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showFilterMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('filter');\n    return this.showFilterOption && !(perm && perm.visible === false);\n  }\n\n  get enabledFilterMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('filter');\n    return !(perm && perm.enabled === false);\n  }\n\n  get showConfigurationMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('configuration');\n    return this.showConfigurationOption && !(perm && perm.visible === false);\n  }\n\n  get enabledConfigurationMenu(): boolean {\n    const perm: OPermissions = this.getPermissionByAttr('configuration');\n    return !(perm && perm.enabled === false);\n  }\n\n  onShowsSelects() {\n    const tableOptions = this.table.oTableOptions;\n    tableOptions.selectColumn.visible = !tableOptions.selectColumn.visible;\n    this.table.initializeCheckboxColumn();\n  }\n\n  onExportButtonClicked() {\n    const tableOptions = this.table.oTableOptions;\n    const exportCnfg: OTableExportConfiguration = new OTableExportConfiguration();\n\n    // get column's attr whose renderer is OTableCellRendererImageComponent\n    const colsNotIncluded: string[] = tableOptions.columns.filter(c => void 0 !== c.renderer && c.renderer instanceof OTableCellRendererImageComponent).map(c => c.attr);\n    colsNotIncluded.push(Codes.NAME_COLUMN_SELECT);\n\n    // Table data/filters\n    switch (this.table.exportMode) {\n      case Codes.EXPORT_MODE_ALL:\n        exportCnfg.filter = this.table.getComponentFilter();\n        break;\n      case Codes.EXPORT_MODE_LOCAL:\n        exportCnfg.data = this.table.getAllRenderedValues();\n        colsNotIncluded.forEach(attr => exportCnfg.data.forEach(row => delete row[attr]));\n        break;\n      default:\n        exportCnfg.data = this.table.getRenderedValue();\n        colsNotIncluded.forEach(attr => exportCnfg.data.forEach(row => delete row[attr]));\n        break;\n    }\n    exportCnfg.mode = this.table.exportMode;\n    exportCnfg.entity = this.table.entity;\n\n    // Table columns\n    exportCnfg.columns = tableOptions.visibleColumns.filter(c => colsNotIncluded.indexOf(c) === -1);\n    // Table column names\n    const tableColumnNames = {};\n    tableOptions.visibleColumns.filter(c => colsNotIncluded.indexOf(c) === -1).forEach(c => {\n      const oColumn = tableOptions.columns.find(oc => oc.attr === c);\n      tableColumnNames[c] = this.translateService.get(oColumn.title ? oColumn.title : oColumn.attr);\n    });\n    exportCnfg.columnNames = tableColumnNames;\n    // Table column sqlTypes\n    exportCnfg.sqlTypes = this.table.getSqlTypes();\n    // Table service, needed for configuring ontimize export service with table service configuration\n    exportCnfg.service = this.table.service;\n    exportCnfg.serviceType = this.table.exportServiceType;\n    exportCnfg.visibleButtons = this.table.visibleExportDialogButtons;\n    exportCnfg.options = this.table.exportOptsTemplate;\n\n    this.dialog.open(OTableExportDialogComponent, {\n      data: exportCnfg,\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n  }\n\n  onChangeColumnsVisibilityClicked() {\n    const dialogRef = this.dialog.open(OTableVisibleColumnsDialogComponent, {\n      data: {\n        visibleColumns: Util.parseArray(this.table.visibleColumns, true),\n        columnsData: this.table.oTableOptions.columns,\n        rowHeight: this.table.rowHeight\n      },\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.table.visibleColArray = dialogRef.componentInstance.getVisibleColumns();\n        const columnsOrder = dialogRef.componentInstance.getColumnsOrder();\n        this.table.oTableOptions.columns.sort((a: OColumn, b: OColumn) => columnsOrder.indexOf(a.attr) - columnsOrder.indexOf(b.attr));\n        this.table.refreshColumnsWidth();\n        this.table.onVisibleColumnsChange.emit(this.table.visibleColArray);\n      }\n    });\n  }\n\n  onFilterByColumnClicked() {\n    if (this.table.showFilterByColumnIcon && this.table.dataSource.isColumnValueFilterActive()) {\n      const self = this;\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN').then(res => {\n        if (res) {\n          self.table.dataSource.clearColumnFilters();\n        }\n        self.table.showFilterByColumnIcon = !res;\n        self.table.cd.detectChanges();\n      });\n    } else {\n      this.table.showFilterByColumnIcon = !this.table.showFilterByColumnIcon;\n      this.table.cd.detectChanges();\n    }\n  }\n\n  public onStoreFilterClicked(): void {\n    const dialogRef = this.dialog.open(OTableStoreFilterDialogComponent, {\n      data: this.table.oTableStorage.getStoredFilters().map(filter => filter.name),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.table.oTableStorage.storeFilter(dialogRef.componentInstance.getFilterAttributes());\n      }\n    });\n  }\n\n  public onLoadFilterClicked(): void {\n    const dialogRef = this.dialog.open(OTableLoadFilterDialogComponent, {\n      data: this.table.oTableStorage.getStoredFilters(),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n\n    dialogRef.componentInstance.onDelete.subscribe(filterName => this.table.oTableStorage.deleteStoredFilter(filterName));\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const selectedFilterName: string = dialogRef.componentInstance.getSelectedFilterName();\n        if (selectedFilterName) {\n          const storedFilter = this.table.oTableStorage.getStoredFilterConf(selectedFilterName);\n          if (storedFilter) {\n            this.table.setFiltersConfiguration(storedFilter);\n            this.table.reloadPaginatedDataFromStart();\n          }\n        }\n      }\n    });\n  }\n\n  onClearFilterClicked(): void {\n    this.dialogService.confirm('CONFIRM', 'TABLE.DIALOG.CONFIRM_CLEAR_FILTER').then(result => {\n      if (result) {\n        this.table.clearFilters();\n        this.table.reloadPaginatedDataFromStart();\n      }\n    });\n  }\n\n  public onStoreConfigurationClicked(): void {\n    const dialogRef = this.dialog.open(OTableStoreConfigurationDialogComponent, {\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const configurationData = dialogRef.componentInstance.getConfigurationAttributes();\n        const tableProperties = dialogRef.componentInstance.getSelectedTableProperties();\n        self.table.oTableStorage.storeConfiguration(configurationData, tableProperties);\n      }\n    });\n  }\n\n  public onApplyConfigurationClicked(): void {\n    const dialogRef = this.dialog.open(OTableApplyConfigurationDialogComponent, {\n      data: this.table.oTableStorage.getStoredConfigurations(),\n      width: 'calc((75em - 100%) * 1000)',\n      maxWidth: '65vw',\n      minWidth: '30vw',\n      disableClose: true,\n      panelClass: ['o-dialog-class', 'o-table-dialog']\n    });\n    const self = this;\n    dialogRef.componentInstance.onDelete.subscribe(configurationName => this.table.oTableStorage.deleteStoredConfiguration(configurationName));\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && dialogRef.componentInstance.isDefaultConfigurationSelected()) {\n        self.table.applyDefaultConfiguration();\n      } else if (result) {\n        const selectedConfigurationName: string = dialogRef.componentInstance.getSelectedConfigurationName();\n        if (selectedConfigurationName) {\n          self.table.applyConfiguration(selectedConfigurationName);\n        }\n      }\n    });\n  }\n\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatCheckboxChange, MatMenu } from '@angular/material';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { O_INPUTS_OPTIONS } from '../../../../../config/app-config';\nimport { OTableOptions } from '../../../../../interfaces/o-table-options.interface';\nimport { OTableQuickfilter } from '../../../../../interfaces/o-table-quickfilter.interface';\nimport { Expression } from '../../../../../types/expression.type';\nimport { OInputsOptions } from '../../../../../types/o-inputs-options.type';\nimport { FilterExpressionUtils } from '../../../../../util/filter-expression.utils';\nimport { Util } from '../../../../../util/util';\nimport {\n  OTableCellRendererServiceComponent,\n} from '../../../column/cell-renderer/service/o-table-cell-renderer-service.component';\nimport { OColumn } from '../../../column/o-column.class';\nimport { OTableComponent } from '../../../o-table.component';\n\nexport const DEFAULT_INPUTS_O_TABLE_QUICKFILTER = [];\n\nexport const DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER = [\n  'onChange'\n];\n\n@Component({\n  selector: 'o-table-quickfilter',\n  templateUrl: './o-table-quickfilter.component.html',\n  styleUrls: ['./o-table-quickfilter.component.scss'],\n  inputs: DEFAULT_INPUTS_O_TABLE_QUICKFILTER,\n  outputs: DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.o-table-quickfilter]': 'true',\n  }\n})\nexport class OTableQuickfilterComponent implements OTableQuickfilter, OnInit, AfterViewInit, OnDestroy {\n\n  @ViewChild('filter', { static: false })\n  public filter: ElementRef;\n\n  @ViewChild('menu', { static: true })\n  public matMenu: MatMenu;\n\n  public value: string;\n  public onChange: EventEmitter<string> = new EventEmitter<string>();\n\n  public formControl;\n\n  protected oInputsOptions: OInputsOptions;\n  protected quickFilterObservable: Subscription;\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    @Inject(forwardRef(() => OTableComponent)) protected table: OTableComponent\n  ) {\n    this.formControl = new FormControl();\n  }\n\n  public ngOnInit(): void {\n    this.table.registerQuickFilter(this);\n    // workaround because 'x-position=\"before\"' was not working in the template\n    this.matMenu.xPosition = 'before';\n  }\n\n  public ngAfterViewInit(): void {\n    this.initializeEventFilter();\n\n    try {\n      this.oInputsOptions = this.injector.get(O_INPUTS_OPTIONS);\n    } catch (e) {\n      this.oInputsOptions = {};\n    }\n    Util.parseOInputsOptions(this.elRef, this.oInputsOptions);\n  }\n\n  public ngOnDestroy(): void {\n    if (this.quickFilterObservable) {\n      this.quickFilterObservable.unsubscribe();\n    }\n  }\n\n  get oTableOptions(): OTableOptions {\n    return this.table.oTableOptions;\n  }\n\n  get quickFilterColumns(): OColumn[] {\n    return this.table.oTableOptions.columns.filter(oCol => {\n      // CHECK: Why columns with renderers are not filtered?\n      // return oCol.searchable && oCol.visible && !Util.isDefined(oCol.renderer);\n      return oCol.searchable && oCol.visible;\n    });\n  }\n\n  get filterExpression(): Expression {\n    let result: Expression = this.getUserFilter();\n    if (!Util.isDefined(result) && Util.isDefined(this.value) && this.value.length > 0) {\n      const expressions: Expression[] = [];\n      this.oTableOptions.columns\n        .filter((oCol: OColumn) => oCol.searching && oCol.visible && this.isFilterableColumn(oCol))\n        .forEach((oCol: OColumn) => {\n          // CHECK: Why columns with renderers are not filtered?\n          // if (!oCol.renderer) {\n          if (oCol.filterExpressionFunction) {\n            expressions.push(oCol.filterExpressionFunction(oCol.attr, this.value));\n          } else if (oCol.renderer instanceof OTableCellRendererServiceComponent) {\n            // Filter column with service renderer. Look for the value in the renderer cache\n            const expr = oCol.renderer.getFilterExpression(this.value);\n            if (expr) {\n              expressions.push(expr);\n            }\n            // }\n            //  else if (SQLTypes.isNumericSQLType(oCol.sqlType)) {\n            //   // Filter numeric column\n            //   const numValue: any = SQLTypes.parseUsingSQLType(this.value, SQLTypes.getSQLTypeKey(oCol.sqlType));\n            //   if (numValue) {\n            //     expressions.push(FilterExpressionUtils.buildExpressionEquals(oCol.attr, numValue));\n            //   }\n          } else {\n            // Default\n            expressions.push(FilterExpressionUtils.buildExpressionLike(oCol.attr, this.value));\n          }\n        });\n      if (expressions.length > 0) {\n        result = expressions.reduce((a, b) => FilterExpressionUtils.buildComplexExpression(a, b, FilterExpressionUtils.OP_OR));\n      }\n    }\n    return result;\n  }\n\n  public getUserFilter(): Expression {\n    let result: Expression;\n    if (this.table.quickFilterCallback instanceof Function) {\n      const userFilter = this.table.quickFilterCallback(this.value);\n      if (Util.isDefined(userFilter) && FilterExpressionUtils.instanceofExpression(userFilter)) {\n        result = (userFilter as Expression);\n      } else if (Util.isDefined(userFilter)) {\n        result = FilterExpressionUtils.buildExpressionFromObject(userFilter);\n      }\n    }\n    return result;\n  }\n\n  public initializeEventFilter(): void {\n    if (this.filter && !this.quickFilterObservable) {\n      this.quickFilterObservable = fromEvent(this.filter.nativeElement, 'keyup')\n        .pipe(debounceTime(150))\n        .pipe(distinctUntilChanged())\n        .subscribe(() => {\n          const filterVal = this.filter.nativeElement.value;\n          if (!this.table.dataSource || this.value === filterVal) {\n            return;\n          }\n          this.setValue(filterVal);\n          this.onChange.emit(this.value);\n        });\n\n      // if exists filter value in storage then filter result table\n      const filterValue = this.value || this.filter.nativeElement.value;\n      // this.filter.nativeElement.value = filterValue;\n      this.formControl.setValue(filterValue);\n      if (this.table.dataSource && filterValue && filterValue.length) {\n        this.table.dataSource.quickFilter = filterValue;\n      }\n    }\n  }\n\n  public setValue(value: any, trigger: boolean = true): void {\n    this.value = value;\n    if (trigger && this.table && this.table.dataSource) {\n      this.table.dataSource.quickFilter = this.value;\n    }\n  }\n\n  public onMenuClosed(): void {\n    this.setValue(this.value);\n    this.onChange.emit(this.value);\n  }\n\n  public isChecked(column: OColumn): boolean {\n    return column.searching;\n  }\n\n  public onCheckboxChange(column: OColumn, event: MatCheckboxChange): void {\n    column.searching = event.checked;\n  }\n\n  public showCaseSensitiveCheckbox(): boolean {\n    return this.table.showCaseSensitiveCheckbox();\n  }\n\n  public areAllColumnsChecked(): boolean {\n    let result: boolean = true;\n    this.quickFilterColumns.forEach((col: OColumn) => {\n      result = result && col.searching;\n    });\n    return result;\n  }\n\n  public onSelectAllChange(event: MatCheckboxChange): void {\n    this.quickFilterColumns.forEach((col: OColumn) => {\n      col.searching = event.checked;\n    });\n  }\n\n  protected isFilterableColumn(column: OColumn): boolean {\n    return !column.renderer || (\n      column.type === 'string' ||\n      column.type === 'translate' ||\n      column.type === 'integer' ||\n      column.type === 'real' ||\n      column.type === 'percentage' ||\n      column.type === 'currency' ||\n      column.type === 'service'\n    );\n  }\n\n}\n","import { OTableButtonComponent } from './table-button/o-table-button.component';\nimport { OTableButtonsComponent } from './table-buttons/o-table-buttons.component';\nimport { OTableColumnResizerComponent } from './table-column-resizer/o-table-column-resizer.component';\nimport { OTableColumnsFilterComponent } from './table-columns-filter/o-table-columns-filter.component';\nimport { OTableInsertableRowComponent } from './table-insertable-row/o-table-insertable-row.component';\nimport { OTableMenuComponent } from './table-menu/o-table-menu.component';\nimport { OTableOptionComponent } from './table-option/o-table-option.component';\nimport { OTableQuickfilterComponent } from './table-quickfilter/o-table-quickfilter.component';\n\nexport const O_TABLE_HEADER_COMPONENTS = [\n  OTableButtonComponent,\n  OTableButtonsComponent,\n  OTableColumnResizerComponent,\n  OTableColumnsFilterComponent,\n  OTableMenuComponent,\n  OTableOptionComponent,\n  OTableInsertableRowComponent,\n  OTableQuickfilterComponent\n];\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'oTableRowClass' })\nexport class OTableRowClassPipe implements PipeTransform {\n\n  transform(rowData: any, rowIndex: number, rowClassFn?: (row: any, index: number) => string | string[]): string | string[] {\n    return rowClassFn ? rowClassFn(rowData, rowIndex) : '';\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef, forwardRef, Inject, OnDestroy, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OTableComponent } from '../../o-table.component';\n\n@Directive({\n  selector: '[oTableRow]'\n})\nexport class OTableRowDirective implements AfterViewInit, OnDestroy {\n  protected resizeSubscription: Subscription;\n\n  constructor(\n    @Inject(forwardRef(() => OTableComponent)) public table: OTableComponent,\n    protected elementRef: ElementRef,\n    protected renderer: Renderer2\n  ) {\n  }\n\n  ngAfterViewInit() {\n    this.registerResize();\n  }\n\n  ngOnDestroy(): void {\n    if (this.resizeSubscription) {\n      this.resizeSubscription.unsubscribe();\n    }\n  }\n\n  registerResize() {\n    if (this.table.horizontalScroll) {\n      const self = this;\n      this.table.onUpdateScrolledState.subscribe(scrolled => {\n        setTimeout(() => {\n          if (scrolled) {\n            self.calculateRowWidth();\n          } else {\n            self.setRowWidth(undefined);\n          }\n        }, 0);\n      });\n    }\n  }\n\n  calculateRowWidth() {\n    if (!this.table.horizontalScroll) {\n      return;\n    }\n    if (this.alreadyScrolled) {\n      this.setRowWidth(this.table.rowWidth);\n    }\n    let totalWidth: number = 0;\n    try {\n      this.elementRef.nativeElement.childNodes.forEach(element => {\n        if (element && element.tagName && element.tagName.toLowerCase() === 'mat-cell') {\n          totalWidth += element.clientWidth;\n        }\n      });\n    } catch (error) {\n      //\n    }\n    if (!isNaN(totalWidth) && totalWidth > 0) {\n      totalWidth += 48;\n      this.setRowWidth(totalWidth);\n    }\n  }\n\n  setRowWidth(value: number) {\n    const widthValue = value !== undefined ? value + 'px' : 'auto';\n    this.renderer.setStyle(this.elementRef.nativeElement, 'width', widthValue);\n    this.table.rowWidth = value;\n  }\n\n  get alreadyScrolled(): boolean {\n    return this.table.rowWidth !== undefined;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MAT_SORT_HEADER_INTL_PROVIDER } from '@angular/material';\n\nimport { OMatSort } from './o-mat-sort';\nimport { OMatSortHeader } from './o-mat-sort-header';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [OMatSort, OMatSortHeader],\n  declarations: [OMatSort, OMatSortHeader],\n  providers: [MAT_SORT_HEADER_INTL_PROVIDER]\n})\nexport class OMatSortModule { }\n","import { DragDropModule } from '@angular/cdk/drag-drop';\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatPaginatorIntl } from '@angular/material';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OContextMenuModule } from '../contextmenu/o-context-menu.module';\nimport { OTableColumnCalculatedComponent } from './column/calculated/o-table-column-calculated.component';\nimport { O_TABLE_CELL_EDITORS } from './column/cell-editor/cell-editor';\nimport { O_TABLE_CELL_RENDERERS } from './column/cell-renderer/cell-renderer';\nimport { OTableColumnComponent } from './column/o-table-column.component';\nimport { OTableContextMenuComponent } from './extensions/contextmenu/o-table-context-menu.component';\nimport { O_TABLE_DIALOGS } from './extensions/dialog/o-table-dialog-components';\nimport { OTableExportButtonComponent } from './extensions/export-button/o-table-export-button.component';\nimport { OTableExportButtonService } from './extensions/export-button/o-table-export-button.service';\nimport { OTableColumnAggregateComponent } from './extensions/footer/aggregate/o-table-column-aggregate.component';\nimport { OTableExpandedFooterDirective } from './extensions/footer/expanded/o-table-expanded-footer.directive';\nimport { O_TABLE_FOOTER_COMPONENTS } from './extensions/footer/o-table-footer-components';\nimport { OTableMatPaginatorIntl } from './extensions/footer/paginator/o-table-mat-paginator-intl';\nimport { O_TABLE_HEADER_COMPONENTS } from './extensions/header/o-table-header-components';\nimport { OTableRowClassPipe } from './extensions/pipes/o-table-row-class.pipe';\nimport { OTableRowDirective } from './extensions/row/o-table-row.directive';\nimport { OMatSortModule } from './extensions/sort/o-mat-sort-module';\nimport { OTableComponent } from './o-table.component';\n\n@NgModule({\n  declarations: [\n    OTableComponent,\n    OTableColumnComponent,\n    OTableColumnCalculatedComponent,\n    OTableContextMenuComponent,\n    OTableRowDirective,\n    OTableExpandedFooterDirective,\n    OTableExportButtonComponent,\n    OTableRowClassPipe,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_DIALOGS,\n    ...O_TABLE_HEADER_COMPONENTS,\n    ...O_TABLE_FOOTER_COMPONENTS\n  ],\n  imports: [\n    CommonModule,\n    OSharedModule,\n    CdkTableModule,\n    DragDropModule,\n    OContextMenuModule,\n    ObserversModule,\n    OMatSortModule,\n    NgxMaterialTimepickerModule\n  ],\n  exports: [\n    OTableComponent,\n    OTableColumnComponent,\n    CdkTableModule,\n    OTableColumnCalculatedComponent,\n    OTableContextMenuComponent,\n    OTableRowDirective,\n    OTableExpandedFooterDirective,\n    OMatSortModule,\n    OTableExportButtonComponent,\n    ...O_TABLE_HEADER_COMPONENTS,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_FOOTER_COMPONENTS\n  ],\n  entryComponents: [\n    OTableColumnAggregateComponent,\n    OTableContextMenuComponent,\n    ...O_TABLE_CELL_RENDERERS,\n    ...O_TABLE_CELL_EDITORS,\n    ...O_TABLE_DIALOGS\n  ],\n  providers: [\n    OTableExportButtonService,\n    { provide: MatPaginatorIntl, useClass: OTableMatPaginatorIntl }\n  ]\n})\nexport class OTableModule { }\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { HostListener, Injectable, Injector } from '@angular/core';\nimport { Observable, Subscriber, Subscription, timer } from 'rxjs';\n\nimport { AppConfig } from '../config/app-config';\nimport { ServiceResponse } from '../interfaces/service-response.interface';\nimport { ORemoteConfiguration, ORemoteConfigurationColumns } from '../types/remote-configuration.type';\nimport { SessionInfo } from '../types/session-info.type';\nimport { Codes } from '../util/codes';\nimport { Util } from '../util/util';\nimport { LocalStorageService } from './local-storage.service';\nimport { LoginStorageService } from './login-storage.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ORemoteConfigurationService {\n\n  public static DEFAULT_COLUMN_USER = 'USER_';\n  public static DEFAULT_COLUMN_APPID = 'APP_UUID';\n  public static DEFAULT_COLUMN_CONFIG = 'CONFIGURATION';\n  public static DEFAULT_STORAGE_TIMEOUT = 60000;\n\n  protected localStorageService: LocalStorageService;\n  protected loginStorageService: LoginStorageService;\n  protected httpClient: HttpClient;\n  protected _appConfig: AppConfig;\n  protected _url: string;\n  protected _uuid: string;\n  protected _timeout: number;\n  protected timerSubscription: Subscription;\n  protected storeSubscription: Subscription;\n\n  protected _columns: ORemoteConfigurationColumns = {\n    user: ORemoteConfigurationService.DEFAULT_COLUMN_USER,\n    appId: ORemoteConfigurationService.DEFAULT_COLUMN_APPID,\n    configuration: ORemoteConfigurationService.DEFAULT_COLUMN_CONFIG\n  };\n\n  @HostListener('window:beforeunload', [])\n  beforeunloadHandler() {\n    this.finalize().subscribe(() => {\n      //\n    });\n  }\n\n  constructor(protected injector: Injector) {\n    this.httpClient = this.injector.get(HttpClient);\n    this._appConfig = this.injector.get(AppConfig);\n    this.loginStorageService = this.injector.get(LoginStorageService);\n    this.localStorageService = this.injector.get(LocalStorageService);\n\n    this.httpClient = this.injector.get(HttpClient);\n    this._uuid = this._appConfig.getConfiguration().uuid;\n\n    if (this._appConfig.useRemoteConfiguration()) {\n      this._url = this._appConfig.getRemoteConfigurationEndpoint();\n\n      const remoteConfig: ORemoteConfiguration = this._appConfig.getRemoteConfigurationConfig();\n      this._columns = (remoteConfig && remoteConfig.columns) ? Object.assign(this._columns, remoteConfig.columns) : this._columns;\n\n      this._timeout = (remoteConfig && remoteConfig.timeout) ? remoteConfig.timeout : ORemoteConfigurationService.DEFAULT_STORAGE_TIMEOUT;\n      const self = this;\n      this.localStorageService.onSetLocalStorage.subscribe(() => {\n        if (self.storeSubscription) {\n          self.storeSubscription.unsubscribe();\n        }\n      });\n    }\n  }\n\n  public getUserConfiguration(): Observable<ServiceResponse> {\n    const self = this;\n    const observable = new Observable((observer: Subscriber<ServiceResponse>) => {\n      const sessionInfo = self.loginStorageService.getSessionInfo();\n      if (!self.hasSession(sessionInfo)) {\n        observer.error();\n        return;\n      }\n      const url = self._url + '/search';\n      const body: any = {};\n      body[self._columns.user] = sessionInfo.user;\n      body[self._columns.appId] = self._uuid;\n      const options = {\n        headers: self.buildHeaders()\n      };\n      self.httpClient.post(url, body, options).subscribe((resp: ServiceResponse) => {\n        if (resp && resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE && Util.isDefined(resp.data)) {\n          observer.next(resp);\n        } else {\n          observer.error();\n        }\n      },\n        (error) => observer.error(error),\n        () => observer.complete());\n    });\n    return observable;\n  }\n\n  public storeUserConfiguration(): Observable<any> {\n    const self = this;\n    if (self.storeSubscription) {\n      self.storeSubscription.unsubscribe();\n    }\n    const observable = new Observable((observer: Subscriber<ServiceResponse>) => {\n      const sessionInfo = self.loginStorageService.getSessionInfo();\n      if (!self._appConfig.useRemoteConfiguration() || !self.hasSession(sessionInfo)) {\n        observer.next();\n        observer.complete();\n        return;\n      }\n      const url = self._url;\n      const body: any = { filter: {}, data: {} };\n      body.filter[self._columns.user] = sessionInfo.user;\n      body.filter[self._columns.appId] = self._uuid;\n      let userData = self.localStorageService.getSessionUserComponentsData() || '';\n      try {\n        userData = btoa(JSON.stringify(userData));\n      } catch (e) {\n        userData = '';\n      }\n      body.data[self._columns.configuration] = userData;\n      const options = {\n        headers: self.buildHeaders()\n      };\n      self.httpClient.put(url, body, options).subscribe((resp: ServiceResponse) => {\n        if (resp && resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n          observer.next(resp);\n        } else {\n          observer.error();\n        }\n      }, (error) => observer.error(error),\n        () => observer.complete());\n    });\n    return observable;\n  }\n\n  public initialize(): Observable<any> {\n    const self = this;\n    return new Observable(observer => {\n      if (self._appConfig.useRemoteConfiguration()) {\n        self.timerSubscription = timer(self._timeout, self._timeout).subscribe(() => {\n          self.storeSubscription = self.storeUserConfiguration().subscribe(() => {\n            //\n          });\n        });\n        self.getUserConfiguration().subscribe((resp: ServiceResponse) => {\n          let storedConf;\n          if (Util.isArray(resp.data)) {\n            storedConf = resp.data[0][self._columns.configuration];\n          } else {\n            storedConf = resp.data;\n          }\n          if (Util.isDefined(storedConf)) {\n            let componentsData;\n            try {\n              const decoded = atob(storedConf);\n              componentsData = JSON.parse(decoded);\n            } catch (e) {\n              componentsData = {};\n            }\n            self.localStorageService.storeSessionUserComponentsData(componentsData);\n          }\n          observer.next();\n        }, () => {\n          observer.next();\n        });\n      } else {\n        observer.next();\n      }\n    });\n  }\n\n  public finalize(): Observable<any> {\n    if (this.timerSubscription) {\n      this.timerSubscription.unsubscribe();\n    }\n    return this.storeUserConfiguration();\n  }\n\n  protected hasSession(sessionInfo: SessionInfo): boolean {\n    return Util.isDefined(sessionInfo) && Util.isDefined(sessionInfo.user) && Util.isDefined(sessionInfo.id);\n  }\n\n  protected buildHeaders(): HttpHeaders {\n    const sessionInfo = this.loginStorageService.getSessionInfo();\n    return new HttpHeaders({\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json;charset=UTF-8',\n      Authorization: 'Bearer ' + sessionInfo.id\n    });\n  }\n\n}\n","import { EventEmitter, Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { combineLatest, Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../config/app-config';\nimport { IAuthService } from '../interfaces/auth-service.interface';\nimport { ILoginService } from '../interfaces/login-service.interface';\nimport { DialogService } from '../services/dialog.service';\nimport { PermissionsService } from '../services/permissions/permissions.service';\nimport { ORemoteConfigurationService } from '../services/remote-config.service';\nimport { Config } from '../types/config.type';\nimport { SessionInfo } from '../types/session-info.type';\nimport { ObservableWrapper } from '../util/async';\nimport { Codes } from '../util/codes';\nimport { ServiceUtils } from '../util/service.utils';\nimport { LoginStorageService } from './login-storage.service';\nimport { OntimizeService } from './ontimize/ontimize.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginService implements ILoginService {\n\n  public onLogin: EventEmitter<any> = new EventEmitter();\n  public onLogout: EventEmitter<any> = new EventEmitter();\n\n  private _user: string;\n  private _config: Config;\n  private router: Router;\n  private ontService: OntimizeService;\n  private dialogService: DialogService;\n  private loginStorageService: LoginStorageService;\n\n  constructor(protected injector: Injector) {\n    this._config = this.injector.get(AppConfig).getConfiguration();\n    this.router = this.injector.get(Router);\n    this.loginStorageService = this.injector.get(LoginStorageService);\n    const sessionInfo = this.loginStorageService.getSessionInfo();\n    if (sessionInfo && sessionInfo.id && sessionInfo.user && sessionInfo.user.length > 0) {\n      this._user = sessionInfo.user;\n    }\n    this.dialogService = injector.get(DialogService);\n  }\n\n  public get user(): string {\n    return this._user;\n  }\n\n  public get localStorageKey(): string {\n    return this.loginStorageService._localStorageKey;\n  }\n\n  public configureOntimizeAuthService(config: object): void {\n    this.ontService = this.injector.get(OntimizeService);\n    const servConf = {};\n    servConf[Codes.SESSION_KEY] = this.loginStorageService.getSessionInfo();\n    this.ontService.configureService(servConf);\n  }\n\n  public retrieveAuthService(): Promise<IAuthService> {\n    return new Promise<IAuthService>(resolve => {\n      if (this.ontService !== undefined) {\n        resolve(this.ontService);\n      } else {\n        this.configureOntimizeAuthService(this._config);\n        resolve(this.ontService);\n      }\n    });\n  }\n\n  public login(user: string, password: string): Observable<any> {\n    this._user = user;\n    const dataObservable: Observable<any> = new Observable(observer => {\n      this.retrieveAuthService().then(service => {\n        service.startsession(user, password).subscribe(resp => {\n          this.onLoginSuccess(resp);\n          const permissionsService = this.injector.get(PermissionsService);\n          const remoteConfigService = this.injector.get(ORemoteConfigurationService);\n          const pendingArray = [];\n          pendingArray.push(permissionsService.getUserPermissionsAsPromise());\n          pendingArray.push(remoteConfigService.initialize());\n          combineLatest(pendingArray).subscribe(() => {\n            observer.next();\n            observer.complete();\n          });\n        }, error => {\n          this.onLoginError(error);\n          observer.error(error);\n        });\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public onLoginSuccess(sessionId: string | number): void {\n    // save user and sessionid into local storage\n    const session = {\n      user: this._user,\n      id: sessionId\n    };\n    this.loginStorageService.storeSessionInfo(session);\n    ObservableWrapper.callEmit(this.onLogin, session);\n  }\n\n  public onLoginError(error: any): void {\n    this.dialogService.alert('ERROR', 'MESSAGES.ERROR_LOGIN');\n  }\n\n  public logout(): Observable<any> {\n    ObservableWrapper.callEmit(this.onLogout, null);\n    const sessionInfo = this.loginStorageService.getSessionInfo();\n    const dataObservable: Observable<any> = new Observable(innerObserver => {\n      this.retrieveAuthService().then(service => {\n        service.endsession(sessionInfo.user, sessionInfo.id).subscribe(resp => {\n          const remoteConfigService = this.injector.get(ORemoteConfigurationService);\n          remoteConfigService.finalize().subscribe(() => {\n            this.onLogoutSuccess(resp);\n            innerObserver.next();\n            innerObserver.complete();\n          });\n        }, error => {\n          this.onLogoutError(error);\n          innerObserver.error(error);\n        });\n      });\n    });\n    return dataObservable.pipe(share());\n  }\n\n  public onLogoutSuccess(sessionId: number): void {\n    if (sessionId === 0) {\n      this.sessionExpired();\n    }\n  }\n\n  public onLogoutError(error: any): void {\n    console.error('Error on logout');\n  }\n\n  public sessionExpired(): void {\n    this.loginStorageService.sessionExpired();\n  }\n\n  public isLoggedIn(): boolean {\n    return this.loginStorageService.isLoggedIn();\n  }\n\n  public logoutAndRedirect(): void {\n    this.logout().subscribe(() => {\n      ServiceUtils.redirectLogin(this.router, false);\n    });\n  }\n\n  public logoutWithConfirmationAndRedirect(): void {\n    this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_LOGOUT').then(res => {\n      if (res) {\n        this.logoutAndRedirect();\n      }\n    });\n  }\n\n  public getSessionInfo(): SessionInfo {\n    return this.loginStorageService.getSessionInfo();\n  }\n\n  public storeSessionInfo(info: SessionInfo): void {\n    this.loginStorageService.storeSessionInfo(info);\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nexport interface UserInfo {\n  username?: string;\n  avatar?: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OUserInfoService {\n  protected storedInfo: UserInfo;\n  private subject = new Subject<any>();\n\n  constructor(protected injector: Injector) {\n  }\n\n  setUserInfo(info: UserInfo) {\n    this.storedInfo = info;\n    this.subject.next(info);\n  }\n\n  getUserInfo(): UserInfo {\n    return this.storedInfo;\n  }\n\n  getUserInfoObservable(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n}\n","import { Component, ElementRef, Injector, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { DialogService } from '../../services/dialog.service';\nimport { LoginService } from '../../services/login.service';\nimport { OUserInfoService, UserInfo } from '../../services/o-user-info.service';\n\nexport const DEFAULT_INPUTS_O_USER_INFO = [];\n\nexport const DEFAULT_OUTPUTS_O_USER_INFO = [];\n\n@Component({\n  selector: 'o-user-info',\n  inputs: DEFAULT_INPUTS_O_USER_INFO,\n  outputs: DEFAULT_OUTPUTS_O_USER_INFO,\n  templateUrl: './o-user-info.component.html',\n  styleUrls: ['./o-user-info.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-user-info]': 'true'\n  }\n})\nexport class OUserInfoComponent implements OnDestroy {\n\n  protected dialogService: DialogService;\n  protected loginService: LoginService;\n  protected oUserInfoService: OUserInfoService;\n\n  userInfoSubscription: Subscription;\n  protected userInfo: UserInfo;\n\n  constructor(\n    protected elRef: ElementRef,\n    protected injector: Injector,\n    protected router: Router\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.loginService = this.injector.get(LoginService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n\n    this.userInfo = this.oUserInfoService.getUserInfo();\n    this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n      this.userInfo = res;\n    });\n  }\n\n  ngOnDestroy() {\n    this.userInfoSubscription.unsubscribe();\n  }\n\n  onLogoutClick() {\n    this.loginService.logoutWithConfirmationAndRedirect();\n  }\n\n  onSettingsClick() {\n    this.router.navigate(['main/settings']);\n  }\n\n  get existsUserInfo(): boolean {\n    return this.userInfo !== undefined;\n  }\n\n  get avatar(): string {\n    return this.userInfo ? this.userInfo.avatar : undefined;\n  }\n\n  get username(): string {\n    return this.userInfo ? this.userInfo.username : undefined;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OUserInfoComponent } from './o-user-info.component';\n\n@NgModule({\n  declarations: [OUserInfoComponent],\n  imports: [CommonModule, OSharedModule, RouterModule],\n  exports: [OUserInfoComponent]\n})\nexport class OUserInfoModule { }\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\nimport { Observable, Subject } from 'rxjs';\n\nimport { OTranslateService } from '../services/translate/o-translate.service';\n\nexport interface ModuleInfo {\n  name?: string;\n  route?: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OModulesInfoService {\n  protected storedInfo: ModuleInfo;\n  protected actRoute: ActivatedRoute;\n  protected router: Router;\n  protected translateService: OTranslateService;\n\n  private subject = new Subject<any>();\n\n  constructor(\n    protected injector: Injector\n  ) {\n    this.router = this.injector.get(Router);\n    this.actRoute = this.injector.get(ActivatedRoute);\n    this.translateService = this.injector.get(OTranslateService);\n\n    this.router.events.subscribe(ev => {\n      if (ev instanceof NavigationEnd) {\n        const translation = this.translateService.get(ev.url);\n        if (translation !== ev.url) {\n          this.setModuleInfo({\n            name: translation\n          });\n        }\n      }\n    });\n  }\n\n  setModuleInfo(info: ModuleInfo) {\n    this.storedInfo = info;\n    this.subject.next(info);\n  }\n\n  getModuleInfo(): ModuleInfo {\n    return this.storedInfo;\n  }\n\n  getModuleChangeObservable(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n}\n","import { Component, ElementRef, EventEmitter, Injector, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { DialogService } from '../../services/dialog.service';\nimport { OModulesInfoService } from '../../services/o-modules-info.service';\nimport { ServiceUtils } from '../../util/service.utils';\n\nexport const DEFAULT_INPUTS_O_APP_HEADER = [\n  'showUserInfo: show-user-info',\n  'showLanguageSelector: show-language-selector',\n  'useFlagIcons: use-flag-icons'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_HEADER = [\n  'onSidenavToggle'\n];\n\n@Component({\n  selector: 'o-app-header',\n  inputs: DEFAULT_INPUTS_O_APP_HEADER,\n  outputs: DEFAULT_OUTPUTS_O_APP_HEADER,\n  templateUrl: './o-app-header.component.html',\n  styleUrls: ['./o-app-header.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-header]': 'true'\n  }\n})\nexport class OAppHeaderComponent implements OnDestroy {\n\n  protected dialogService: DialogService;\n  protected modulesInfoService: OModulesInfoService;\n  protected _headerTitle = '';\n\n  protected modulesInfoSubscription: Subscription;\n\n  @InputConverter()\n  showUserInfo: boolean = true;\n  @InputConverter()\n  showLanguageSelector: boolean = true;\n  @InputConverter()\n  useFlagIcons: boolean = false;\n\n  public onSidenavToggle = new EventEmitter<void>();\n\n  constructor(\n    protected router: Router,\n    protected injector: Injector,\n    protected elRef: ElementRef\n  ) {\n    this.dialogService = this.injector.get(DialogService);\n    this.modulesInfoService = this.injector.get(OModulesInfoService);\n\n    this.modulesInfoSubscription = this.modulesInfoService.getModuleChangeObservable().subscribe(res => {\n      this.headerTitle = res.name;\n    });\n  }\n\n  ngOnDestroy() {\n    this.modulesInfoSubscription.unsubscribe();\n  }\n\n  onLogoutClick() {\n    this.dialogService.confirm('CONFIRM', 'MESSAGES.CONFIRM_LOGOUT').then(res => {\n      if (res) {\n        ServiceUtils.redirectLogin(this.router, false);\n      }\n    });\n  }\n\n  get headerTitle(): string {\n    return this._headerTitle;\n  }\n\n  set headerTitle(value: string) {\n    this._headerTitle = value;\n  }\n\n  get showHeaderTitle(): boolean {\n    return this._headerTitle.length > 0;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OLanguageSelectorModule } from '../language-selector/o-language-selector.module';\nimport { OUserInfoModule } from '../user-info/o-user-info.module';\nimport { OAppHeaderComponent } from './o-app-header.component';\n\n@NgModule({\n  imports: [CommonModule, OLanguageSelectorModule, OUserInfoModule, OSharedModule],\n  declarations: [OAppHeaderComponent],\n  exports: [OAppHeaderComponent]\n})\nexport class OAppHeaderModule { }\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MediaObserver } from '@angular/flex-layout';\nimport { MatSidenav } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../decorators/input-converter';\nimport { MenuGroup, MenuItemUserInfo } from '../../interfaces/app-menu.interface';\nimport { AppMenuService } from '../../services/app-menu.service';\nimport { OUserInfoService, UserInfo } from '../../services/o-user-info.service';\nimport { MenuRootItem } from '../../types/menu-root-item.type';\nimport { Codes, OAppLayoutMode, OSidenavMode } from '../../util/codes';\nimport { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV = [\n  'opened',\n  'showUserInfo: show-user-info',\n  'showToggleButton: show-toggle-button',\n  'openedSidenavImg: opened-sidenav-image',\n  'closedSidenavImg: closed-sidenav-image',\n  'layoutMode: layout-mode',\n  'sidenavMode: sidenav-mode'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV = [\n  'onSidenavOpenedChange',\n  'onSidenavOpenedStart',\n  'onSidenavClosedStart',\n  'onSidenavToggle',\n  'afterSidenavToggle'\n];\n\n@Component({\n  selector: 'o-app-sidenav',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV,\n  templateUrl: './o-app-sidenav.component.html',\n  styleUrls: ['./o-app-sidenav.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-sidenav]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OAppSidenavComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  @ViewChild(MatSidenav, { static: false })\n  sidenav: MatSidenav;\n\n  protected routerSubscription: Subscription;\n  appMenuService: AppMenuService;\n  protected _menuRootArray: MenuRootItem[] = [];\n  protected _layoutMode: OAppLayoutMode = Codes.APP_LAYOUT_MODE_DESKTOP;\n  protected _sidenavMode: OSidenavMode;\n  @InputConverter()\n  protected opened: boolean = true;\n  _showUserInfo: boolean = true;\n  _showToggleButton: boolean = true;\n  openedSidenavImg: string;\n  closedSidenavImg: string;\n\n  onSidenavOpenedChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n  onSidenavOpenedStart: EventEmitter<void> = new EventEmitter<void>();\n  onSidenavClosedStart: EventEmitter<void> = new EventEmitter<void>();\n  onSidenavToggle: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterSidenavToggle: EventEmitter<boolean> = new EventEmitter<boolean>();\n  protected oUserInfoService: OUserInfoService;\n  protected userInfoSubscription: Subscription;\n  protected userInfo: UserInfo;\n\n  protected mediaWatch: Subscription;\n  protected manuallyClosed: boolean = false;\n\n  constructor(\n    protected injector: Injector,\n    protected router: Router,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef,\n    protected media: MediaObserver\n  ) {\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRootArray = this.appMenuService.getMenuRoots();\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    const self = this;\n    this.mediaWatch = this.media.asObservable().subscribe(() => {\n      if (self.isScreenSmall() && self.sidenav) {\n        self.sidenav.close();\n      }\n    });\n  }\n\n  @HostListener('window:resize', [])\n  onResize() {\n    if (!this.manuallyClosed && !this.isScreenSmall() && !this.isMobileMode()) {\n      this.sidenav.open();\n    }\n  }\n\n  ngOnInit() {\n    this.routerSubscription = this.router.events.subscribe(() => {\n      if (this.isScreenSmall()) {\n        this.sidenav.close();\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.showUserInfo && this.showToggleButton) {\n      this.userInfo = this.oUserInfoService.getUserInfo();\n      this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n        this.userInfo = res;\n        this.refreshMenuRoots();\n      });\n    }\n    this.refreshMenuRoots();\n  }\n\n  get layoutMode(): OAppLayoutMode {\n    return this._layoutMode;\n  }\n\n  set layoutMode(val: OAppLayoutMode) {\n    const m = Codes.OAppLayoutModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._layoutMode = m;\n    }\n  }\n\n  get sidenavMode(): OSidenavMode {\n    return this._sidenavMode;\n  }\n\n  set sidenavMode(val: OSidenavMode) {\n    const m = Codes.OSidenavModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._sidenavMode = m;\n    }\n  }\n\n  protected refreshMenuRoots() {\n    if (this.showUserInfo && this.userInfo && this._showToggleButton) {\n      const firstRoot = this.menuRootArray[0];\n      const alreadyExistsUserInfo = firstRoot ? firstRoot.id === 'user-info' : false;\n      if (alreadyExistsUserInfo) {\n        const userInfoItem: MenuItemUserInfo = (this.menuRootArray[0] as MenuGroup).items[0] as MenuItemUserInfo;\n        userInfoItem.id = this.userInfo.username;\n        userInfoItem.name = this.userInfo.username;\n        userInfoItem.user = this.userInfo.username;\n        userInfoItem.avatar = this.userInfo.avatar;\n      } else {\n        const userInfoItem: MenuItemUserInfo = {\n          id: this.userInfo.username,\n          name: this.userInfo.username,\n          user: this.userInfo.username,\n          avatar: this.userInfo.avatar\n        };\n        const menuGroupUserInfo: MenuGroup = {\n          id: 'user-info',\n          name: 'APP_LAYOUT.USER_PROFILE',\n          items: [userInfoItem],\n          opened: true,\n          icon: 'person_pin'\n        };\n        this.menuRootArray.unshift(menuGroupUserInfo);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n    }\n    if (this.userInfoSubscription) {\n      this.userInfoSubscription.unsubscribe();\n    }\n  }\n\n  isScreenSmall(): boolean {\n    return !this.manuallyClosed && this.media.isActive('lt-sm');\n  }\n\n  isMobileMode(): boolean {\n    return this._layoutMode === Codes.APP_LAYOUT_MODE_MOBILE;\n  }\n\n  isDesktopMode(): boolean {\n    return this._layoutMode === Codes.APP_LAYOUT_MODE_DESKTOP;\n  }\n\n  isSidenavOpened(): boolean {\n    return this.opened && !this.isMobileMode() && !this.isScreenSmall();\n  }\n\n  get menuRootArray(): MenuRootItem[] {\n    return this._menuRootArray;\n  }\n\n  set menuRootArray(val: MenuRootItem[]) {\n    this._menuRootArray = val;\n  }\n\n  toggleSidenav() {\n    const promise = this.sidenav.opened ? this.sidenav.close() : this.sidenav.open();\n    const self = this;\n    promise.then(() => {\n      self.afterSidenavToggle.emit(self.sidenav.opened);\n    });\n    this.cd.detectChanges();\n    this.opened = this.sidenav.opened;\n    this.manuallyClosed = !this.opened;\n    this.onSidenavToggle.emit(this.sidenav.opened);\n  }\n\n  get showUserInfo(): boolean {\n    return this._showUserInfo;\n  }\n\n  set showUserInfo(arg: boolean) {\n    this._showUserInfo = arg;\n  }\n\n  get showToggleButton(): boolean {\n    return this._showToggleButton;\n  }\n\n  set showToggleButton(arg: boolean) {\n    this._showToggleButton = arg;\n  }\n\n  onMenuItemClick(): void {\n    if (this.isMobileMode()) {\n      this.sidenav.close();\n    }\n  }\n\n  sidenavClosedStart() {\n    this.onSidenavClosedStart.emit();\n  }\n\n  sidenavOpenedStart() {\n    this.onSidenavOpenedStart.emit();\n  }\n\n  sidenavOpenedChange() {\n    this.onSidenavOpenedChange.emit();\n  }\n}\n\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE = [\n  'openedSrc: opened-src',\n  'closedSrc: closed-src'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE = [\n];\n\n@Component({\n  selector: 'o-app-sidenav-image',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE,\n  templateUrl: './o-app-sidenav-image.component.html',\n  styleUrls: ['./o-app-sidenav-image.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-app-sidenav-image]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OAppSidenavImageComponent implements OnInit, OnDestroy {\n\n  protected sidenav: OAppSidenavComponent;\n  protected openedSrc: string;\n  protected closedSrc: string;\n  private _src: string;\n\n  protected sidenavOpenSubs: Subscription;\n  protected sidenavCloseSubs: Subscription;\n\n  constructor(\n    protected injector: Injector,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n  }\n\n  ngOnInit() {\n    if (this.sidenav) {\n      const self = this;\n      this.sidenavOpenSubs = this.sidenav.onSidenavClosedStart.subscribe(() => {\n        self.updateImage();\n      });\n      this.sidenavCloseSubs = this.sidenav.onSidenavOpenedStart.subscribe(() => {\n        self.updateImage();\n      });\n    }\n    this.updateImage();\n  }\n\n  ngOnDestroy() {\n    if (this.sidenavOpenSubs) {\n      this.sidenavOpenSubs.unsubscribe();\n    }\n    if (this.sidenavCloseSubs) {\n      this.sidenavCloseSubs.unsubscribe();\n    }\n  }\n\n  updateImage() {\n    if (this.sidenav && this.sidenav.sidenav && this.sidenav.sidenav.opened) {\n      this.setOpenedImg();\n    } else {\n      this.setClosedImg();\n    }\n    this.cd.detectChanges();\n  }\n\n  set src(val: string) {\n    this._src = val;\n  }\n\n  get src() {\n    return this._src;\n  }\n\n  setOpenedImg() {\n    this.src = this.openedSrc;\n  }\n\n  setClosedImg() {\n    this.src = this.closedSrc;\n  }\n\n  get showImage(): boolean {\n    return (this._src !== undefined && this._src.length > 0);\n  }\n}\n","import { animate, state, style, transition, trigger } from '@angular/animations';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport { MenuGroup } from '../../../interfaces/app-menu.interface';\nimport { AppMenuService } from '../../../services/app-menu.service';\nimport { PermissionsService } from '../../../services/permissions/permissions.service';\nimport { OTranslateService } from '../../../services/translate/o-translate.service';\nimport { OPermissions } from '../../../types/o-permissions.type';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { Util } from '../../../util/util';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP = [\n  'menuGroup : menu-group',\n  'sidenavOpened : sidenav-opened'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP = [\n  'onItemClick'\n];\n\n@Component({\n  selector: 'o-app-sidenav-menu-group',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP,\n  templateUrl: './o-app-sidenav-menu-group.component.html',\n  styleUrls: ['./o-app-sidenav-menu-group.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  animations: [\n    trigger('contentExpansion', [\n      state('collapsed', style({ height: '0px' })),\n      state('expanded', style({ height: '*' })),\n      transition('collapsed => expanded', animate('200ms ease-in')),\n      transition('expanded => collapsed', animate('200ms ease-out'))\n    ])\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': 'getClass()',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OAppSidenavMenuGroupComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public onItemClick: EventEmitter<any> = new EventEmitter<any>();\n\n  protected translateService: OTranslateService;\n  protected permissionsService: PermissionsService;\n\n  appMenuService: AppMenuService;\n  protected sidenav: OAppSidenavComponent;\n  protected sidenavSubscription: Subscription;\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  public menuGroup: MenuGroup;\n\n  @InputConverter()\n  sidenavOpened: boolean = true;\n\n  hidden: boolean;\n  disabled: boolean;\n  protected _contentExpansion;\n\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.permissionsService = this.injector.get(PermissionsService);\n\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n  }\n\n  ngOnInit() {\n    this.parsePermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.menuGroup.id === 'user-info' && this.sidenav) {\n      const self = this;\n      this.sidenavSubscription = this.sidenav.onSidenavOpenedChange.subscribe((opened) => {\n        self.disabled = ((!opened && Util.isDefined(opened)) || (Util.isDefined(self.permissions) && self.permissions && self.permissions.enabled === false));\n        self.updateContentExpansion();\n        self.cd.markForCheck();\n      });\n    }\n    this.updateContentExpansion();\n  }\n\n  ngOnDestroy() {\n    if (this.sidenavSubscription) {\n      this.sidenavSubscription.unsubscribe();\n    }\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.permissionsService.getMenuPermissions(this.menuGroup.id);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.hidden = this.permissions.visible === false;\n    this.disabled = this.permissions.enabled === false;\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  onClick() {\n    if (this.disabled) {\n      return;\n    }\n    this.menuGroup.opened = !this.menuGroup.opened;\n    this.updateContentExpansion();\n  }\n\n  updateContentExpansion() {\n    let isOpened = this.menuGroup && this.menuGroup.opened;\n    if (this.menuGroup.id === 'user-info') {\n      isOpened = (this.sidenav && this.sidenav.sidenav && this.sidenav.sidenav.opened) && isOpened;\n    }\n    this.contentExpansion = isOpened ? 'expanded' : 'collapsed';\n  }\n\n  get contentExpansion(): string {\n    return this._contentExpansion;\n  }\n\n  set contentExpansion(val: string) {\n    this._contentExpansion = val;\n    this.cd.detectChanges();\n  }\n\n  get tooltip() {\n    let result = this.translateService.get(this.menuGroup.name);\n    if (Util.isDefined(this.menuGroup.tooltip)) {\n      result += ': ' + this.translateService.get(this.menuGroup.tooltip);\n    }\n    return result;\n  }\n\n  onMenuItemClick(e: Event): void {\n    this.onItemClick.emit(e);\n  }\n\n  getClass() {\n    let className = 'o-app-sidenav-menu-group';\n    if (this.menuGroup.class) {\n      className += ' ' + this.menuGroup.class;\n    }\n    return className;\n  }\n}\n","import { Component, EventEmitter, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { OAppSidenavComponent } from '../../components/app-sidenav/o-app-sidenav.component';\nimport { InputConverter } from '../../decorators/input-converter';\nimport { Codes, OAppLayoutMode, OSidenavMode } from '../../util/codes';\nimport { Util } from '../../util/util';\n\nexport const DEFAULT_INPUTS_O_APP_LAYOUT = [\n  'mode',\n  'sidenavMode: sidenav-mode',\n  'sidenavOpened: sidenav-opened',\n  '_showHeader: show-header',\n  'showUserInfo: show-user-info',\n  'showLanguageSelector: show-language-selector',\n  'useFlagIcons: use-flag-icons',\n  'openedSidenavImg: opened-sidenav-image',\n  'closedSidenavImg: closed-sidenav-image'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_LAYOUT: any[] = [\n  'beforeOpenSidenav',\n  'afterOpenSidenav',\n  'beforeCloseSidenav',\n  'afterCloseSidenav'\n];\n\n@Component({\n  selector: 'o-app-layout',\n  inputs: DEFAULT_INPUTS_O_APP_LAYOUT,\n  outputs: DEFAULT_OUTPUTS_O_APP_LAYOUT,\n  templateUrl: './o-app-layout.component.html',\n  styleUrls: ['./o-app-layout.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class OAppLayoutComponent {\n\n  @InputConverter()\n  sidenavOpened: boolean = true;\n  @InputConverter()\n  showUserInfo: boolean = true;\n  @InputConverter()\n  showLanguageSelector: boolean = true;\n  @InputConverter()\n  useFlagIcons: boolean = false;\n  @InputConverter()\n  protected _showHeader: boolean;\n\n  @ViewChild('appSidenav', { static: false })\n  public appSidenav: OAppSidenavComponent;\n\n  protected _mode: OAppLayoutMode;\n  protected _sidenavMode: OSidenavMode;\n\n  openedSidenavImg: string;\n  closedSidenavImg: string;\n\n  beforeOpenSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterOpenSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  beforeCloseSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n  afterCloseSidenav: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  get showHeader(): boolean {\n    return this._showHeader;\n  }\n\n  set showHeader(val: boolean) {\n    this._showHeader = val;\n  }\n\n  get mode(): OAppLayoutMode {\n    return this._mode;\n  }\n\n  set mode(val: OAppLayoutMode) {\n    const m = Codes.OAppLayoutModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._mode = m;\n      if (this._mode === 'mobile' && !Util.isDefined(this.showHeader)) {\n        this.showHeader = true;\n      }\n    } else {\n      console.error('Invalid `o-app-layout` mode (' + val + ')');\n    }\n  }\n\n  get sidenavMode(): OSidenavMode {\n    return this._sidenavMode;\n  }\n\n  set sidenavMode(val: OSidenavMode) {\n    const m = Codes.OSidenavModes.find(e => e === val);\n    if (Util.isDefined(m)) {\n      this._sidenavMode = m;\n    } else {\n      console.error('Invalid `o-app-layout` sidenav-mode (' + val + ')');\n    }\n  }\n\n  sidenavToggle(opened: boolean) {\n    opened ? this.beforeOpenSidenav.emit() : this.beforeCloseSidenav.emit();\n  }\n\n  afterToggle(opened: boolean) {\n    opened ? this.afterOpenSidenav.emit() : this.afterCloseSidenav.emit();\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  OnDestroy,\n  OnInit,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { InputConverter } from '../../../decorators/input-converter';\nimport {\n  MenuItemAction,\n  MenuItemLocale,\n  MenuItemLogout,\n  MenuItemRoute,\n  MenuItemUserInfo,\n} from '../../../interfaces/app-menu.interface';\nimport { OAppLayoutComponent } from '../../../layouts/app-layout/o-app-layout.component';\nimport { DialogService } from '../../../services/dialog.service';\nimport { LoginService } from '../../../services/login.service';\nimport { OUserInfoService } from '../../../services/o-user-info.service';\nimport { PermissionsService } from '../../../services/permissions/permissions.service';\nimport { OTranslateService } from '../../../services/translate/o-translate.service';\nimport { OPermissions } from '../../../types/o-permissions.type';\nimport { PermissionsUtils } from '../../../util/permissions';\nimport { Util } from '../../../util/util';\nimport { OAppSidenavComponent } from '../o-app-sidenav.component';\n\nexport const DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM = [\n  'menuItem : menu-item',\n  'menuItemType : menu-item-type',\n  'sidenavOpened : sidenav-opened',\n  'disabled'\n];\n\nexport const DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM = [\n  'onClick'\n];\n\n@Component({\n  selector: 'o-app-sidenav-menu-item',\n  inputs: DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM,\n  outputs: DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM,\n  templateUrl: './o-app-sidenav-menu-item.component.html',\n  styleUrls: ['./o-app-sidenav-menu-item.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': 'getClass()',\n    '[attr.disabled]': 'disabled'\n  }\n})\nexport class OAppSidenavMenuItemComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  public onClick: EventEmitter<any> = new EventEmitter<any>();\n\n  protected translateService: OTranslateService;\n  protected loginService: LoginService;\n  protected dialogService: DialogService;\n  protected permissionsService: PermissionsService;\n  protected oUserInfoService: OUserInfoService;\n  protected userInfoSubscription: Subscription;\n\n  protected sidenav: OAppSidenavComponent;\n  protected router: Router;\n\n  menuItem: any; // TODO MenuRootItem;\n  menuItemType: string;\n  @InputConverter()\n  sidenavOpened: boolean = true;\n  @InputConverter()\n  disabled: boolean = false;\n\n  protected appSidenavToggleSubscription: Subscription;\n  protected routerSubscription: Subscription;\n  protected oAppLayoutComponent: OAppLayoutComponent;\n\n  protected permissions: OPermissions;\n  protected mutationObserver: MutationObserver;\n\n  hidden: boolean;\n  constructor(\n    protected injector: Injector,\n    protected elRef: ElementRef,\n    protected cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.loginService = this.injector.get(LoginService);\n    this.dialogService = this.injector.get(DialogService);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    this.sidenav = this.injector.get(OAppSidenavComponent);\n    this.oAppLayoutComponent = this.injector.get(OAppLayoutComponent);\n    this.router = this.injector.get(Router);\n    this.routerSubscription = this.router.events.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  ngOnInit() {\n    this.parsePermissions();\n  }\n\n  ngAfterViewInit() {\n    if (this.isUserInfoItem() && this.sidenav) {\n      this.setUserInfoImage();\n      this.appSidenavToggleSubscription = this.sidenav.onSidenavOpenedChange.subscribe(() => {\n        if (this.sidenav.sidenav.opened) {\n          this.setUserInfoImage();\n          this.setUserInfoImage();\n        }\n      });\n      this.userInfoSubscription = this.oUserInfoService.getUserInfoObservable().subscribe(res => {\n        if (Util.isDefined(res.avatar) && this.sidenav.sidenav.opened) {\n          (this.menuItem as MenuItemUserInfo).avatar = res.avatar;\n          this.setUserInfoImage();\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.appSidenavToggleSubscription) {\n      this.appSidenavToggleSubscription.unsubscribe();\n    }\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n    }\n    if (this.mutationObserver) {\n      this.mutationObserver.disconnect();\n    }\n    if (this.userInfoSubscription) {\n      this.userInfoSubscription.unsubscribe();\n    }\n  }\n\n  protected parsePermissions() {\n    // if oattr in form, it can have permissions\n    this.permissions = this.permissionsService.getMenuPermissions(this.menuItem.id);\n    if (!Util.isDefined(this.permissions)) {\n      return;\n    }\n    this.hidden = this.permissions.visible === false;\n    if (!this.disabled) {\n      // if the disabled input is true it means that its parent is disabled using permissions\n      this.disabled = this.permissions.enabled === false;\n    }\n\n    if (this.disabled) {\n      this.mutationObserver = PermissionsUtils.registerDisabledChangesInDom(this.elRef.nativeElement, {\n        checkStringValue: true\n      });\n    }\n  }\n\n  public setUserInfoImage() {\n    const imgEl = this.elRef.nativeElement.getElementsByClassName('o-user-info-image')[0];\n    if (imgEl !== undefined) {\n      const item = this.menuItem as MenuItemUserInfo;\n      imgEl.setAttribute('style', 'background-image: url(\\'' + item.avatar + '\\')');\n    }\n    this.cd.detectChanges();\n  }\n\n  executeItemAction() {\n    const actionItem = (this.menuItem as MenuItemAction);\n    if (Util.parseBoolean(actionItem.confirm, false)) {\n      this.dialogService.confirm('CONFIRM', actionItem.confirmText || 'MESSAGES.CONFIRM_ACTION').then(result => result ? actionItem.action() : null);\n    } else {\n      actionItem.action();\n    }\n  }\n\n  configureI18n() {\n    const localeItem = (this.menuItem as MenuItemLocale);\n    if (this.isConfiguredLang()) {\n      return;\n    }\n    if (this.translateService) {\n      this.translateService.use(localeItem.locale);\n    }\n  }\n\n  isConfiguredLang() {\n    const localeItem = (this.menuItem as MenuItemLocale);\n    if (this.translateService) {\n      return (this.translateService.getCurrentLang() === localeItem.locale);\n    }\n    return false;\n  }\n\n  logout() {\n    const menuItem = (this.menuItem as MenuItemLogout);\n    if (Util.parseBoolean(menuItem.confirm, true)) {\n      this.loginService.logoutWithConfirmationAndRedirect();\n    } else {\n      this.loginService.logoutAndRedirect();\n    }\n  }\n\n  navigate() {\n    const route = (this.menuItem as MenuItemRoute).route;\n    if (this.router.url !== route) {\n      this.router.navigate([route]);\n    }\n  }\n\n  triggerClick(e: Event) {\n    if (this.disabled) {\n      return;\n    }\n    switch (this.menuItemType) {\n      case 'action':\n        this.executeItemAction();\n        break;\n      case 'locale':\n        this.configureI18n();\n        break;\n      case 'logout':\n        this.logout();\n        break;\n      case 'route':\n        this.navigate();\n        break;\n      default:\n        break;\n    }\n    this.onClick.emit(e);\n  }\n\n  isRouteItem(): boolean {\n    return this.menuItemType === 'route';\n  }\n\n  isActionItem(): boolean {\n    return this.menuItemType === 'action';\n  }\n\n  isLocaleItem(): boolean {\n    return this.menuItemType === 'locale';\n  }\n\n  isLogoutItem(): boolean {\n    return this.menuItemType === 'logout';\n  }\n\n  isUserInfoItem(): boolean {\n    return this.menuItemType === 'user-info';\n  }\n\n  isDefaultItem(): boolean {\n    return this.menuItemType === 'default';\n  }\n\n  get useFlagIcons(): boolean {\n    return this.oAppLayoutComponent && this.oAppLayoutComponent.useFlagIcons;\n  }\n\n  isActiveItem(): boolean {\n    if (!this.isRouteItem()) {\n      return false;\n    }\n    const route = (this.menuItem as MenuItemRoute).route;\n    return this.router.url === route || this.router.url.startsWith(route + '/');\n  }\n\n  get tooltip(): string {\n    let result = this.translateService.get(this.menuItem.name);\n    if (Util.isDefined(this.menuItem.tooltip)) {\n      result += ': ' + this.translateService.get(this.menuItem.tooltip);\n    }\n    return result;\n  }\n\n  getClass() {\n    let className = 'o-app-sidenav-menu-item';\n    if (this.menuItem.class) {\n      className += ' ' + this.menuItem.class;\n    }\n    return className;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OLanguageSelectorModule } from '../language-selector/o-language-selector.module';\nimport { OAppSidenavImageComponent } from './image/o-app-sidenav-image.component';\nimport { OAppSidenavMenuGroupComponent } from './menu-group/o-app-sidenav-menu-group.component';\nimport { OAppSidenavMenuItemComponent } from './menu-item/o-app-sidenav-menu-item.component';\nimport { OAppSidenavComponent } from './o-app-sidenav.component';\n\n@NgModule({\n    imports: [CommonModule, OSharedModule, RouterModule, OLanguageSelectorModule],\n    declarations: [\n        OAppSidenavComponent,\n        OAppSidenavMenuGroupComponent,\n        OAppSidenavImageComponent,\n        OAppSidenavMenuItemComponent\n    ],\n    exports: [OAppSidenavComponent]\n})\nexport class OAppSidenavModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'o-app-layout-header',\n  templateUrl: './o-app-layout-header.component.html',\n})\nexport class OAppLayoutHeaderComponent {\n\n}\n","import { Component } from '@angular/core';\n\nexport const DEFAULT_INPUTS_O_APP_LAYOUT_SIDENAV = [\n  'position'\n];\n\n@Component({\n  selector: 'o-app-layout-sidenav',\n  templateUrl: './o-app-layout-sidenav.component.html',\n  inputs: DEFAULT_INPUTS_O_APP_LAYOUT_SIDENAV\n})\nexport class OAppLayoutSidenavComponent {\n\n  position: 'start' | 'end' = 'end';\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OAppHeaderModule } from '../../components/app-header/o-app-header.module';\nimport { OAppSidenavModule } from '../../components/app-sidenav/o-app-sidenav.module';\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OAppLayoutHeaderComponent } from './app-layout-header/o-app-layout-header.component';\nimport { OAppLayoutSidenavComponent } from './app-layout-sidenav/o-app-layout-sidenav.component';\nimport { OAppLayoutComponent } from './o-app-layout.component';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule, OAppSidenavModule, OAppHeaderModule],\n  declarations: [OAppLayoutComponent, OAppLayoutHeaderComponent, OAppLayoutSidenavComponent],\n  exports: [OAppLayoutComponent, OAppLayoutHeaderComponent, OAppLayoutSidenavComponent]\n})\nexport class OAppLayoutModule { }\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Injector,\n  OnDestroy,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { MenuGroup } from '../../interfaces/app-menu.interface';\nimport { AppMenuService } from '../../services/app-menu.service';\nimport { OTranslateService } from '../../services/translate/o-translate.service';\nimport { MenuRootItem } from '../../types/menu-root-item.type';\n\nexport const DEFAULT_INPUTS_O_MENU_LAYOUT = [\n  'parentMenuId : parent-menu-id'\n];\n\nexport const DEFAULT_OUTPUTS_O_MENU_LAYOUT = [\n];\n\n@Component({\n  selector: 'o-card-menu-layout',\n  templateUrl: './o-card-menu-layout.component.html',\n  styleUrls: ['./o-card-menu-layout.component.scss'],\n  inputs: DEFAULT_INPUTS_O_MENU_LAYOUT,\n  outputs: DEFAULT_OUTPUTS_O_MENU_LAYOUT,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-menu-layout]': 'true'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class OCardMenuLayoutComponent implements AfterViewInit, OnDestroy {\n\n  protected translateService: OTranslateService;\n  protected translateServiceSubscription: Subscription;\n  protected appMenuService: AppMenuService;\n  protected menuRoots: MenuRootItem[];\n  protected cardItemsArray: MenuRootItem[];\n  protected parentMenuId: string;\n\n  constructor(\n    private injector: Injector,\n    private cd: ChangeDetectorRef\n  ) {\n    this.translateService = this.injector.get(OTranslateService);\n    this.appMenuService = this.injector.get(AppMenuService);\n    this.menuRoots = this.appMenuService.getMenuRoots();\n\n    this.translateServiceSubscription = this.translateService.onLanguageChanged.subscribe(() => {\n      this.cd.detectChanges();\n    });\n  }\n\n  public ngAfterViewInit(): void {\n    this.setCardMenuItems();\n  }\n\n  public ngOnDestroy(): void {\n    if (this.translateServiceSubscription) {\n      this.translateServiceSubscription.unsubscribe();\n    }\n  }\n\n  public setCardMenuItems(): void {\n    let cardItemsAux = [];\n    if (!this.parentMenuId) {\n      cardItemsAux = this.menuRoots.filter(item => !this.appMenuService.isMenuGroup(item));\n    } else {\n      cardItemsAux = this.getItemsFilteredByParentId(this.menuRoots);\n    }\n\n    this.cardItems = cardItemsAux;\n  }\n\n  get cardItems(): MenuRootItem[] {\n    return this.cardItemsArray;\n  }\n\n  set cardItems(val: MenuRootItem[]) {\n    this.cardItemsArray = val;\n    this.cd.detectChanges();\n  }\n\n  protected getItemsFilteredByParentId(array: MenuRootItem[]): MenuRootItem[] {\n    let result: MenuRootItem[];\n    const groups = array.filter(item => this.appMenuService.isMenuGroup(item));\n\n    for (let i = 0, len = groups.length; i < len; i++) {\n      const menuGroup = (groups[i] as MenuGroup);\n      if (menuGroup.id === this.parentMenuId) {\n        result = menuGroup.items;\n        break;\n      } else {\n        result = this.getItemsFilteredByParentId(menuGroup.items);\n      }\n    }\n    return result;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OCardMenuItemModule } from '../../components/card-menu-item/o-card-menu-item.module';\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OCardMenuLayoutComponent } from './o-card-menu-layout.component';\n\n@NgModule({\n  declarations: [OCardMenuLayoutComponent],\n  imports: [CommonModule, OCardMenuItemModule, OSharedModule],\n  exports: [OCardMenuLayoutComponent]\n})\nexport class OCardMenuLayoutModule { }\n","import {\n  AfterViewInit,\n  Component,\n  ComponentFactoryResolver,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  QueryList,\n  ViewChild,\n  ViewChildren,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MatTabChangeEvent, MatTabGroup } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { DialogService } from '../../../services/dialog.service';\nimport { ONavigationItem } from '../../../services/navigation.service';\nimport { FormLayoutDetailComponentData } from '../../../types/form-layout-detail-component-data.type';\nimport { Codes } from '../../../util/codes';\nimport { Util } from '../../../util/util';\nimport { OFormLayoutManagerContentDirective } from '../directives/o-form-layout-manager-content.directive';\nimport { OFormLayoutManagerComponent } from '../o-form-layout-manager.component';\nimport { OFormLayoutTabGroup } from '../../../interfaces/o-form-layout-tab-group.interface';\n\nexport const DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP = [\n  'title',\n  'options'\n];\n\nexport const DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP = [\n  'onMainTabSelected',\n  'onSelectedTabChange',\n  'onCloseTab'\n];\n\n@Component({\n  selector: 'o-form-layout-tabgroup',\n  inputs: DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP,\n  outputs: DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP,\n  templateUrl: './o-form-layout-tabgroup.component.html',\n  styleUrls: ['./o-form-layout-tabgroup.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.o-form-layout-tabgroup]': 'true'\n  }\n})\nexport class OFormLayoutTabGroupComponent implements OFormLayoutTabGroup, AfterViewInit, OnDestroy {\n\n  public data: FormLayoutDetailComponentData[] = [];\n  public selectedTabIndex: number | null;\n  public title: string;\n  public options: any;\n  public showLoading = new BehaviorSubject<boolean>(false);\n  protected _state: any;\n\n  @ViewChild('tabGroup', { static: false }) tabGroup: MatTabGroup;\n  @ViewChildren(OFormLayoutManagerContentDirective) tabsDirectives: QueryList<OFormLayoutManagerContentDirective>;\n\n  protected closeTabSubscription: Subscription;\n  protected tabsDirectivesSubscription: Subscription;\n  protected router: Router;\n  protected loading: boolean = false;\n  protected dialogService: DialogService;\n\n  public onMainTabSelected: EventEmitter<any> = new EventEmitter<any>();\n  public onSelectedTabChange: EventEmitter<any> = new EventEmitter<any>();\n  public onCloseTab: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(\n    protected injector: Injector,\n    protected componentFactoryResolver: ComponentFactoryResolver,\n    protected location: ViewContainerRef,\n    protected elRef: ElementRef,\n    @Inject(forwardRef(() => OFormLayoutManagerComponent)) protected formLayoutManager: OFormLayoutManagerComponent\n  ) {\n    this.dialogService = injector.get(DialogService);\n    this.router = this.injector.get(Router);\n  }\n\n  ngAfterViewInit() {\n\n    this.tabsDirectivesSubscription = this.tabsDirectives.changes.subscribe(changes => {\n      if (this.tabsDirectives.length) {\n        const tabItem = this.tabsDirectives.last;\n        const tabData = this.data[tabItem.index];\n        if (tabData && !tabData.rendered) {\n          this.createTabComponent(tabData, tabItem);\n        }\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.tabsDirectivesSubscription) {\n      this.tabsDirectivesSubscription.unsubscribe();\n    }\n    if (this.closeTabSubscription) {\n      this.closeTabSubscription.unsubscribe();\n    }\n  }\n\n\n  public get disableAnimation() {\n    return this.options && this.options.disableAnimation;\n  }\n\n  public get headerPosition() {\n    let headerPosition;\n    if (this.options && this.options.headerPosition) {\n      headerPosition = this.options.headerPosition;\n    }\n    return headerPosition;\n  }\n\n  public get color() {\n    let color;\n    if (this.options && this.options.color) {\n      color = this.options.color;\n    }\n    return color;\n  }\n\n  public get backgroundColor() {\n    let backgroundColor;\n    if (this.options && this.options.backgroundColor) {\n      backgroundColor = this.options.backgroundColor;\n    }\n    return backgroundColor;\n  }\n\n  public get templateMatTabLabel() {\n    let templateMatTabLabel;\n    if (this.options && this.options.templateMatTabLabel) {\n      templateMatTabLabel = this.options.templateMatTabLabel;\n    }\n    return templateMatTabLabel;\n  }\n\n  public get icon() {\n    let icon;\n    if (this.options && this.options.icon) {\n      icon = this.options.icon;\n    }\n    return icon;\n  }\n\n  public get isIconPositionLeft() {\n    return this.options && this.options.iconPosition === 'left';\n  }\n\n  addTab(compData: FormLayoutDetailComponentData) {\n    let addNewComp = true;\n    const navData: ONavigationItem = this.formLayoutManager.navigationService.getLastItem();\n    if (navData && navData.isInsertFormRoute()) {\n      const existingData = this.data.find(item => item.insertionMode);\n      addNewComp = !existingData;\n    }\n    const newCompParams = compData.params;\n    if (addNewComp) {\n      this.data.forEach(comp => {\n        const currParams = comp.params || {};\n        Object.keys(currParams).forEach(key => {\n          addNewComp = addNewComp && (currParams[key] !== newCompParams[key]);\n        });\n      });\n    }\n    if (addNewComp) {\n      this.data.push(compData);\n    } else {\n      this.reloadTab(compData);\n    }\n  }\n\n  reloadTab(compData: FormLayoutDetailComponentData) {\n    let compIndex = -1;\n    const compParams = compData.params;\n    this.data.forEach((comp, i) => {\n      const currParams = comp.params || {};\n      const sameParams = Util.isEquivalent(currParams, compParams);\n      if (sameParams) {\n        compIndex = i;\n      }\n    });\n    if (compIndex >= 0) {\n      this.tabGroup.selectedIndex = (compIndex + 1);\n    }\n  }\n\n  onTabSelectChange(arg: MatTabChangeEvent) {\n    if (this.formLayoutManager && this.tabGroup.selectedIndex === 0) {\n      this.formLayoutManager.updateIfNeeded();\n      this.onMainTabSelected.emit();\n    }\n    if (Util.isDefined(this.state) && Util.isDefined(this.state.tabsData)) {\n      if (this.state.tabsData.length > 1) {\n        if ((arg.index === this.state.tabsData.length) && Util.isDefined(this.state.selectedIndex)) {\n          this.selectedTabIndex = this.state.selectedIndex;\n          this.state = undefined;\n        }\n      } else {\n        this.state = undefined;\n      }\n    }\n    this.onSelectedTabChange.emit(this.data[this.selectedTabIndex - 1]);\n  }\n\n  closeTab(id: string) {\n    if (!this.formLayoutManager) {\n      return;\n    }\n    const onCloseTabAccepted: EventEmitter<any> = new EventEmitter<any>();\n    const self = this;\n    this.closeTabSubscription = onCloseTabAccepted.asObservable().subscribe(res => {\n      if (res) {\n        let closedTabData;\n        for (let i = self.data.length - 1; i >= 0; i--) {\n          if (self.data[i].id === id) {\n            closedTabData = self.data.splice(i, 1)[0];\n            break;\n          }\n        }\n        self.onCloseTab.emit(closedTabData);\n      }\n    });\n    const tabData = this.data.find((item: FormLayoutDetailComponentData) => item.id === id);\n    if (Util.isDefined(tabData) && tabData.modified) {\n      this.dialogService.confirm('CONFIRM', 'MESSAGES.FORM_CHANGES_WILL_BE_LOST').then(res => {\n        onCloseTabAccepted.emit(res);\n      });\n    } else {\n      onCloseTabAccepted.emit(true);\n    }\n  }\n\n  createTabComponent(tabData: FormLayoutDetailComponentData, content: OFormLayoutManagerContentDirective) {\n    const component = tabData.component;\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n    const viewContainerRef: ViewContainerRef = content.viewContainerRef;\n    viewContainerRef.clear();\n    viewContainerRef.createComponent(componentFactory);\n    tabData.rendered = true;\n  }\n\n  getFormCacheData(idArg: string): FormLayoutDetailComponentData {\n    return this.data.filter(cacheItem => cacheItem.id === idArg)[0];\n  }\n\n  getLastTabId(): string {\n    return this.data.length > 0 ? this.data[this.data.length - 1].id : undefined;\n  }\n\n  getRouteOfActiveItem(): any[] {\n    const route = [];\n    if (this.data.length && this.tabGroup.selectedIndex > 0) {\n      const urlSegments = this.data[this.tabGroup.selectedIndex - 1].urlSegments || [];\n      urlSegments.forEach((segment) => {\n        route.push(segment.path);\n      });\n      return route;\n    }\n    return route;\n  }\n\n  setModifiedState(modified: boolean, id: string) {\n    for (let i = 0, len = this.data.length; i < len; i++) {\n      if (this.data[i].id === id) {\n        this.data[i].modified = modified;\n        break;\n      }\n    }\n  }\n\n  updateNavigation(data: any, id: string, insertionMode?: boolean) {\n    const index = this.data.findIndex((item: any) => item.id === id);\n    if (index >= 0) {\n      let label = this.formLayoutManager.getLabelFromData(data);\n      this.tabGroup.selectedIndex = (index + 1);\n      label = label.length ? label : this.formLayoutManager.getLabelFromUrlParams(this.data[index].params);\n      this.data[index].label = label;\n      this.data[index].insertionMode = insertionMode;\n      if (Object.keys(data).length > 0) {\n        this.data[index].formDataByLabelColumns = this.formLayoutManager.getFormDataFromLabelColumns(data);\n      }\n    }\n  }\n\n  updateActiveData(data: any) {\n    const index = this.tabGroup.selectedIndex - 1;\n    if (Util.isDefined(this.data[index])) {\n      this.data[index] = Object.assign(this.data[index], data);\n    }\n  }\n\n  getDataToStore(): object {\n    const tabsData = [];\n    this.data.forEach((data: FormLayoutDetailComponentData) => {\n      tabsData.push({\n        params: data.params,\n        queryParams: data.queryParams,\n        urlSegments: data.urlSegments,\n        url: data.url\n      });\n    });\n    return {\n      tabsData: tabsData,\n      selectedIndex: this.tabGroup.selectedIndex\n    };\n  }\n\n  initializeComponentState(state: any) {\n    if (Util.isDefined(state) && Util.isDefined(state.tabsData) && Util.isDefined(state.tabsData[0])) {\n      this.state = state;\n      const extras = {};\n      extras[Codes.QUERY_PARAMS] = state.tabsData[0].queryParams;\n      const self = this;\n      if (this.formLayoutManager) {\n        this.formLayoutManager.setAsActiveFormLayoutManager();\n      }\n      this.router.navigate([state.tabsData[0].url], extras).then(val => {\n        if (self.data[0]) {\n          setTimeout(() => {\n            self.createTabsFromState();\n          }, 0);\n        }\n      });\n    }\n  }\n\n  protected createTabsFromState() {\n    const self = this;\n    const tabComponent = self.data[0].component;\n    this.state.tabsData.forEach((tabData: any, index: number) => {\n      if (tabComponent && index > 0) {\n        setTimeout(() => {\n          const newDetailData = self.createDetailComponent(tabComponent, tabData);\n          self.data.push(newDetailData);\n        }, 0);\n      }\n    });\n  }\n\n  protected createDetailComponent(component: any, paramsObj: any) {\n    const newDetailComp: FormLayoutDetailComponentData = {\n      params: paramsObj.params,\n      queryParams: paramsObj.queryParams,\n      urlSegments: paramsObj.urlSegments,\n      component: component,\n      url: paramsObj.url,\n      id: Math.random().toString(36),\n      label: '',\n      modified: false\n    };\n    return newDetailComp;\n  }\n\n  set state(arg: any) {\n    this._state = arg;\n    if (Util.isDefined(arg)) {\n      this.showLoading.next(true);\n    } else {\n      this.showLoading.next(false);\n    }\n  }\n\n  get state(): any {\n    return this._state;\n  }\n\n  getParams(): any {\n    return Util.isDefined(this.data[0]) ? this.data[0].params : undefined;\n  }\n\n  get elementRef(): ElementRef {\n    return this.elRef;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { OSharedModule } from '../../shared/shared.module';\nimport { OFormLayoutDialogComponent } from './dialog/o-form-layout-dialog.component';\nimport { OFormLayoutDialogOptionsComponent } from './dialog/options/o-form-layout-dialog-options.component';\nimport { OFormLayoutManagerContentDirective } from './directives/o-form-layout-manager-content.directive';\nimport { CanActivateFormLayoutChildGuard } from './guards/o-form-layout-can-activate-child.guard';\nimport { OFormLayoutManagerComponent } from './o-form-layout-manager.component';\nimport { OFormLayoutTabGroupComponent } from './tabgroup/o-form-layout-tabgroup.component';\nimport { OFormLayoutTabGroupOptionsComponent } from './tabgroup/options/o-form-layout-tabgroup-options.component';\n\n@NgModule({\n  imports: [CommonModule, OSharedModule, RouterModule],\n  declarations: [\n    OFormLayoutDialogComponent,\n    OFormLayoutManagerComponent,\n    OFormLayoutTabGroupComponent,\n    OFormLayoutManagerContentDirective,\n    OFormLayoutDialogOptionsComponent,\n    OFormLayoutTabGroupOptionsComponent\n  ],\n  exports: [\n    OFormLayoutManagerComponent,\n    OFormLayoutDialogOptionsComponent,\n    OFormLayoutTabGroupOptionsComponent\n  ],\n  entryComponents: [OFormLayoutDialogComponent],\n  providers: [{\n    provide: CanActivateFormLayoutChildGuard,\n    useClass: CanActivateFormLayoutChildGuard\n  }],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OFormLayoutManagerModule { }\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivateChild, Router, RouterStateSnapshot } from '@angular/router';\n\nimport { Util } from '../../util/util';\nimport { ShareCanActivateChildService } from '../share-can-activate-child.service';\nimport { SnackBarService } from '../snackbar.service';\nimport { PermissionsService } from './permissions.service';\n\n@Injectable()\nexport class PermissionsGuardService implements CanActivateChild {\n\n  protected router: Router;\n  protected permissionsService: PermissionsService;\n  protected snackBarService: SnackBarService;\n  protected shareCanActivateChildService: ShareCanActivateChildService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.permissionsService = this.injector.get(PermissionsService);\n    this.snackBarService = this.injector.get(SnackBarService);\n    this.shareCanActivateChildService = this.injector.get(ShareCanActivateChildService);\n    this.shareCanActivateChildService.setPermissionsGuard(this);\n  }\n\n  canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    let restricted: boolean = false;\n    const oPermission = childRoute.data ? childRoute.data['oPermission'] : undefined;\n    const permissionId: string = (oPermission || {})['permissionId'];\n    if (Util.isDefined(permissionId)) {\n      restricted = this.permissionsService.isPermissionIdRouteRestricted(permissionId);\n      if (restricted) {\n        let msg = 'MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION';\n        const route: string = oPermission['restrictedPermissionsRedirect'];\n        if (Util.isDefined(route)) {\n          msg = 'MESSAGES.NAVIGATION_REDIRECTED_PERMISSION';\n          this.router.navigate([route]);\n        }\n        this.snackBarService.open(msg);\n      }\n    }\n    return !restricted;\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { Injector, NgModule } from '@angular/core';\n\nimport { permissionsServiceFactory } from '../factories';\nimport { OntimizePermissionsService } from './ontimize-permissions.service';\nimport { PermissionsGuardService } from './permissions-can-activate.guard';\nimport { PermissionsService } from './permissions.service';\n\nexport function getPermissionsServiceProvider(injector: Injector) {\n  return new PermissionsService(injector);\n}\n\n@NgModule({\n  imports: [CommonModule],\n  providers: [\n    { provide: PermissionsGuardService, useClass: PermissionsGuardService },\n    { provide: PermissionsService, useFactory: getPermissionsServiceProvider, deps: [Injector] },\n    { provide: OntimizePermissionsService, useFactory: permissionsServiceFactory, deps: [Injector] }\n  ]\n})\nexport class OPermissionsModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injector } from '@angular/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { combineLatest, Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { AppConfig } from '../../config/app-config';\nimport { Codes } from '../../util/codes';\nimport { OTranslateService } from './o-translate.service';\n\nexport class OTranslateHttpLoader extends TranslateHttpLoader {\n\n  static BUNDLE_KEY = 'key';\n  static BUNDLE_VALUE = 'value';\n\n  protected appConfig: AppConfig;\n  protected httpClient: HttpClient;\n\n  constructor(\n    httpClient: HttpClient,\n    prefix: string = OTranslateService.ASSETS_PATH,\n    suffix: string = OTranslateService.ASSETS_EXTENSION,\n    protected injector: Injector\n  ) {\n    super(httpClient, prefix, suffix);\n    this.appConfig = this.injector.get(AppConfig);\n    this.httpClient = httpClient;\n  }\n\n  getAssetsPath(): string {\n    return this.prefix;\n  }\n\n  getAssetsExtension(): string {\n    return this.suffix;\n  }\n\n  getLocalTranslation(lang: string): Observable<any> {\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n    super.getTranslation(lang)\n      .subscribe((res) => {\n        innerObserver.next(res);\n        innerObserver.complete();\n      }, error => {\n        innerObserver.next(undefined);\n      },\n        () => innerObserver.complete());\n    return dataObservable;\n  }\n\n  getTranslation(lang: string): any {\n    const translationOrigins: any[] = [];\n\n    translationOrigins.push(this.getLocalTranslation(lang));\n\n    if (this.appConfig.useRemoteBundle()) {\n      translationOrigins.push(this.getRemoteBundle(lang));\n    }\n\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n\n    combineLatest(translationOrigins).subscribe((res: any[]) => {\n      const staticBundle = res[0] || {};\n      const remoteBundle = res[1] || {};\n      const allBundles = Object.assign(staticBundle, remoteBundle);\n      innerObserver.next(allBundles);\n    });\n    return dataObservable;\n  }\n\n  getRemoteBundle(lang: string): Observable<any> {\n    const bundleEndpoint = this.appConfig.getBundleEndpoint();\n    let innerObserver: any;\n    const dataObservable = new Observable(observer => innerObserver = observer).pipe(share());\n    if (!bundleEndpoint) {\n      innerObserver.next([]);\n    }\n    const url = bundleEndpoint + '?lang=' + lang;\n\n    this.httpClient.get(url).subscribe((resp: any) => {\n      let response = {};\n      if (resp.code === Codes.ONTIMIZE_SUCCESSFUL_CODE) {\n        response = this.parseBundleResponse(resp.data);\n      }\n      innerObserver.next(response);\n    },\n      error => {\n        console.log('Remote Bundle service is not available');\n        innerObserver.next(error);\n      },\n      () => innerObserver.complete()\n    );\n\n    return dataObservable;\n  }\n\n  protected parseBundleResponse(data: any[]): any {\n    const result = {};\n    data.forEach((item) => {\n      result[item[OTranslateHttpLoader.BUNDLE_KEY]] = item[OTranslateHttpLoader.BUNDLE_VALUE];\n    });\n    return result;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TranslateDefaultParser } from '@ngx-translate/core';\n\nimport { Util } from '../../util/util';\n\n@Injectable()\nexport class OTranslateParser extends TranslateDefaultParser {\n  public templateMatcher: RegExp = /{\\s?([0-9][^{}\\s]*)\\s?}/g;\n\n  public interpolate(expr: string, params?: any): string {\n    if (typeof expr !== 'string' || !params) {\n      return expr;\n    }\n    return expr.replace(this.templateMatcher, (substring: string, index: string) => {\n      const argValue = Util.isDefined(params[index]) ? params[index] : '';\n      return !isNaN(parseInt(index, 10)) ? argValue : substring;\n    });\n  }\n}\n","import { Injector } from '@angular/core';\n\nimport { APP_CONFIG, AppConfig } from '../config/app-config';\nimport { Config } from '../types/config.type';\n\nexport class AppConfigFactory {\n  config: Config;\n  constructor(protected injector: Injector) {\n    this.config = this.injector.get(APP_CONFIG);\n  }\n\n  public factory(): any {\n    return new AppConfig(this.config);\n  }\n}\n\nexport function appConfigFactory(injector: Injector) {\n  return new AppConfigFactory(injector).factory();\n}\n","import { LOCATION_INITIALIZED } from '@angular/common';\nimport { Injector, Provider } from '@angular/core';\nimport { MAT_RIPPLE_GLOBAL_OPTIONS } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { combineLatest } from 'rxjs';\n\nimport { AppConfig, O_INPUTS_OPTIONS } from '../config/app-config';\nimport { appConfigFactory } from '../services/app-config.provider';\nimport { OntimizeServiceProvider } from '../services/factories';\nimport { LocalStorageService } from '../services/local-storage.service';\nimport { NavigationService } from '../services/navigation.service';\nimport { OntimizeMatIconRegistry } from '../services/ontimize-icon-registry.service';\nimport { OntimizeServiceResponseAdapter } from '../services/ontimize/ontimize-service-response.adapter';\nimport { ORemoteConfigurationService } from '../services/remote-config.service';\nimport { OTranslateService } from '../services/translate/o-translate.service';\nimport { Error403Component } from '../shared/components/error403/o-error-403.component';\nimport { O_MAT_ERROR_OPTIONS } from '../shared/material/o-mat-error/o-mat-error';\nimport { Config } from '../types/config.type';\nimport { Codes } from '../util/codes';\nimport { Util } from '../util/util';\n\nfunction addPermissionsRouteGuard(injector: Injector) {\n  const route = injector.get(Router);\n  const exists403 = route.config.find(r => r.path === Codes.FORBIDDEN_ROUTE);\n  if (!exists403) {\n    route.config.push({ path: Codes.FORBIDDEN_ROUTE, component: Error403Component });\n  }\n}\n\nexport function appInitializerFactory(injector: Injector, config: Config, oTranslate: OTranslateService) {\n  return () => new Promise<any>((resolve: any) => {\n    const observableArray = [];\n    const locationInitialized = injector.get(LOCATION_INITIALIZED, Promise.resolve(null));\n    locationInitialized.then(() => {\n      const storedLang = oTranslate.getStoredLanguage();\n      const configLang = config['locale'];\n      const browserLang = oTranslate.getBrowserLang();\n      let userLang = Util.isDefined(config['defaultLocale']) ? config['defaultLocale'] : 'en';\n      let defaultLang = Util.isDefined(config['defaultLocale']) ? config['defaultLocale'] : 'en';\n      if (storedLang) {\n        userLang = storedLang;\n      } else if (configLang) {\n        userLang = configLang;\n        defaultLang = configLang;\n      } else if (browserLang) {\n        userLang = browserLang;\n        defaultLang = browserLang;\n      }\n      oTranslate.setDefaultLang(defaultLang);\n\n      const locales = new Set(config.applicationLocales || []);\n      locales.add('en');\n      locales.add(userLang);\n\n      // initialize available locales array if needed\n      if (!config.applicationLocales) {\n        config.applicationLocales = [...locales];\n      }\n\n      if (config.uuid == null || config.uuid === '') {\n        console.error('Your app must have an \\'uuid\\' property defined on your app.config file. Otherwise, your application will not work correctly.');\n        alert('Your app must have an \\'uuid\\' property defined on your app.config file. Otherwise, your application will not work correctly.');\n      }\n      injector.get(NavigationService).initialize();\n      injector.get(OntimizeMatIconRegistry).initialize();\n      injector.get(LocalStorageService).setBackwardCompatibility();\n      addPermissionsRouteGuard(injector);\n      observableArray.push(oTranslate.setAppLang(userLang));\n      const remoteConfigService = injector.get(ORemoteConfigurationService);\n      observableArray.push(remoteConfigService.initialize());\n      combineLatest(observableArray).subscribe(() => {\n        resolve();\n      });\n    });\n  });\n}\n\nexport const ONTIMIZE_PROVIDERS: Provider[] = [\n  { provide: AppConfig, useFactory: appConfigFactory, deps: [Injector] },\n  OntimizeServiceProvider,\n  OntimizeServiceResponseAdapter,\n  // disabled global ripple\n  { provide: MAT_RIPPLE_GLOBAL_OPTIONS, useValue: { disabled: true } },\n  { provide: O_MAT_ERROR_OPTIONS, useValue: {} },\n  { provide: O_INPUTS_OPTIONS, useValue: {} }\n];\n","import { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { APP_INITIALIZER, Injector, NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule, NoopAnimationsModule } from '@angular/platform-browser/animations';\nimport { TranslateLoader, TranslateModule, TranslateParser } from '@ngx-translate/core';\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\n\nimport { OBarMenuModule } from '../components/bar-menu/o-bar-menu.module';\nimport { OBreadcrumbModule } from '../components/breadcrumb/o-breadcrumb.module';\nimport { OButtonToggleModule } from '../components/button-toggle/o-button-toggle.module';\nimport { OButtonModule } from '../components/button/o-button.module';\nimport { OCardMenuItemModule } from '../components/card-menu-item/o-card-menu-item.module';\nimport { OColumnCollapsibleModule } from '../components/container/column-collapsible/o-column-collapsible.module';\nimport { OColumnModule } from '../components/container/column/o-column.module';\nimport { ORowCollapsibleModule } from '../components/container/row-collapsible/o-row-collapsible.module';\nimport { ORowModule } from '../components/container/row/o-row.module';\nimport { OContextMenuModule } from '../components/contextmenu/o-context-menu.module';\nimport { OFilterBuilderModule } from '../components/filter-builder/o-filter-builder.module';\nimport { OFormContainerModule } from '../components/form-container/o-form-container.module';\nimport { OFormModule } from '../components/form/o-form.module';\nimport { OGridModule } from '../components/grid/o-grid.module';\nimport { OImageModule } from '../components/image/o-image.module';\nimport { OCheckboxModule } from '../components/input/checkbox/o-checkbox.module';\nimport { OComboModule } from '../components/input/combo/o-combo.module';\nimport { OCurrencyInputModule } from '../components/input/currency-input/o-currency-input.module';\nimport { ODateInputModule } from '../components/input/date-input/o-date-input.module';\nimport { ODateRangeInputModule } from '../components/input/date-range/o-daterange-input.module';\nimport { OEmailInputModule } from '../components/input/email-input/o-email-input.module';\nimport { OFileInputModule } from '../components/input/file-input/o-file-input.module';\nimport { OHourInputModule } from '../components/input/hour-input/o-hour-input.module';\nimport { OHTMLInputModule } from '../components/input/html-input/o-html-input.module';\nimport { OIntegerInputModule } from '../components/input/integer-input/o-integer-input.module';\nimport { OListPickerModule } from '../components/input/listpicker/o-list-picker.module';\nimport { ONIFInputModule } from '../components/input/nif-input/o-nif-input.module';\nimport { OPasswordInputModule } from '../components/input/password-input/o-password-input.module';\nimport { OPercentInputModule } from '../components/input/percent-input/o-percent-input.module';\nimport { ORadioModule } from '../components/input/radio/o-radio.module';\nimport { ORealInputModule } from '../components/input/real-input/o-real-input.module';\nimport { OSearchInputModule } from '../components/input/search-input/o-search-input.module';\nimport { OSlideToggleModule } from '../components/input/slide-toggle/o-slide-toggle.module';\nimport { OSliderModule } from '../components/input/slider/o-slider.module';\nimport { OTextInputModule } from '../components/input/text-input/o-text-input.module';\nimport { OTextareaInputModule } from '../components/input/textarea-input/o-textarea-input.module';\nimport { OTimeInputModule } from '../components/input/time-input/o-time-input.module';\nimport { OLanguageSelectorModule } from '../components/language-selector/o-language-selector.module';\nimport { OListModule } from '../components/list/o-list.module';\nimport { OTableModule } from '../components/table/o-table.module';\nimport { OUserInfoModule } from '../components/user-info/o-user-info.module';\nimport { APP_CONFIG, AppConfig } from '../config/app-config';\nimport { OAppLayoutModule } from '../layouts/app-layout/o-app-layout.module';\nimport { OCardMenuLayoutModule } from '../layouts/card-menu-layout/o-card-menu-layout.module';\nimport { OFormLayoutManagerModule } from '../layouts/form-layout/o-form-layout-manager.module';\nimport { OPermissionsModule } from '../services/permissions/o-permissions.module';\nimport { OTranslateHttpLoader } from '../services/translate/o-translate-http-loader';\nimport { OTranslateParser } from '../services/translate/o-translate.parser';\nimport { OTranslateService } from '../services/translate/o-translate.service';\nimport { OSharedModule } from '../shared/shared.module';\nimport { Util } from '../util/util';\nimport { appInitializerFactory } from './o-providers';\n\nexport const INTERNAL_ONTIMIZE_MODULES_EXPORTED: any = [\n  // Standard modules\n  HttpClientModule,\n  OSharedModule,\n\n  // Ontimize modules\n  OBarMenuModule,\n  OBreadcrumbModule,\n  OButtonModule,\n  OButtonToggleModule,\n  OCheckboxModule,\n  OComboModule,\n  OColumnModule,\n  OColumnCollapsibleModule,\n  OContextMenuModule,\n  ORowModule,\n  ORowCollapsibleModule,\n  OFilterBuilderModule,\n  OFormModule,\n  OFormContainerModule,\n  OImageModule,\n  OCurrencyInputModule,\n  ODateInputModule,\n  OEmailInputModule,\n  OFileInputModule,\n  OHTMLInputModule,\n  OIntegerInputModule,\n  OListPickerModule,\n  ONIFInputModule,\n  OPasswordInputModule,\n  OPercentInputModule,\n  ORealInputModule,\n  OTextInputModule,\n  OTextareaInputModule,\n  OListModule,\n  OSearchInputModule,\n  OTableModule,\n  OAppLayoutModule,\n  OFormLayoutManagerModule,\n  OUserInfoModule,\n  OLanguageSelectorModule,\n  OCardMenuItemModule,\n  OCardMenuLayoutModule,\n  OHourInputModule,\n  OTimeInputModule,\n  OGridModule,\n  ORadioModule,\n  OSlideToggleModule,\n  OSliderModule,\n  ODateRangeInputModule\n];\n\n// AoT requires an exported function for factories\nexport function OHttpLoaderFactory(http: HttpClient, injector: Injector, appConfig: AppConfig) {\n  const i18nConf = appConfig.getI18nAssetsConfiguration();\n  let i18nPath;\n  let i18nExtension;\n  if (Util.isDefined(i18nConf)) {\n    if (Util.isDefined(i18nConf.path)) {\n      i18nPath = i18nConf.path;\n    }\n    if (Util.isDefined(i18nConf.extension)) {\n      i18nExtension = i18nConf.extension;\n    }\n  }\n  return new OTranslateHttpLoader(http, i18nPath, i18nExtension, injector);\n}\n\nexport function OTranslateParserFactory() {\n  return new OTranslateParser();\n}\n\nexport const INTERNAL_ONTIMIZE_MODULES: any = [\n  HttpClientModule,\n\n  // // Ngx-translate\n  TranslateModule.forRoot({\n    loader: {\n      provide: TranslateLoader,\n      useFactory: OHttpLoaderFactory,\n      deps: [HttpClient, Injector, AppConfig]\n    },\n    parser: {\n      provide: TranslateParser,\n      useFactory: OTranslateParserFactory\n    }\n  }),\n  // DndModule.forRoot(),\n  NgxMaterialTimepickerModule,\n  OSharedModule,\n\n  // Ontimize modules\n  OBarMenuModule,\n  OBreadcrumbModule,\n  OButtonModule,\n  OButtonToggleModule,\n  OCardMenuItemModule,\n  OColumnModule,\n  OColumnCollapsibleModule,\n  ORowModule,\n  ORowCollapsibleModule,\n  OContextMenuModule,\n  OFilterBuilderModule,\n  OFormModule,\n  OFormContainerModule,\n  OGridModule,\n  OImageModule,\n\n  OCheckboxModule,\n  OComboModule,\n  OCurrencyInputModule,\n  ODateInputModule,\n  ODateRangeInputModule,\n  OEmailInputModule,\n  OFileInputModule,\n  OHourInputModule,\n  OHTMLInputModule,\n  OIntegerInputModule,\n  OListPickerModule,\n  ONIFInputModule,\n  OPasswordInputModule,\n  OPercentInputModule,\n  ORadioModule,\n  ORealInputModule,\n  OSearchInputModule,\n  OSlideToggleModule,\n  OTextInputModule,\n  OTextareaInputModule,\n  OTimeInputModule,\n\n  OLanguageSelectorModule,\n  OListModule,\n  OTableModule,\n  OUserInfoModule,\n\n  OAppLayoutModule,\n  OCardMenuLayoutModule,\n  OFormLayoutManagerModule\n];\n\n@NgModule({\n  providers: [{\n    provide: APP_INITIALIZER,\n    useFactory: appInitializerFactory,\n    deps: [Injector, APP_CONFIG, OTranslateService],\n    multi: true\n  }]\n})\nexport class OntimizeWebTranslateModule { }\n\nexport const ONTIMIZE_MODULES: any = [\n  BrowserModule,\n  BrowserAnimationsModule,\n  OntimizeWebTranslateModule,\n  OPermissionsModule\n];\n\nexport const ONTIMIZE_MODULES_WITHOUT_ANIMATIONS: any = [\n  NoopAnimationsModule,\n  OntimizeWebTranslateModule,\n  OPermissionsModule\n];\n\n","import { CUSTOM_ELEMENTS_SCHEMA, ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { APP_CONFIG } from './config/app-config';\nimport { INTERNAL_ONTIMIZE_MODULES, INTERNAL_ONTIMIZE_MODULES_EXPORTED } from './config/o-modules';\nimport { ONTIMIZE_PROVIDERS } from './config/o-providers';\nimport { ODialogComponent } from './shared/components/dialog/o-dialog.component';\nimport { OSnackBarComponent } from './shared/components/snackbar/o-snackbar.component';\nimport { Config } from './types/config.type';\n\n@NgModule({\n  declarations: [],\n  imports: INTERNAL_ONTIMIZE_MODULES,\n  exports: [INTERNAL_ONTIMIZE_MODULES_EXPORTED],\n  entryComponents: [\n    ODialogComponent,\n    OSnackBarComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OntimizeWebModule {\n  static forRoot(config: Config): ModuleWithProviders {\n    return {\n      ngModule: OntimizeWebModule,\n      providers: [\n        ...ONTIMIZE_PROVIDERS,\n        { provide: APP_CONFIG, useValue: config }\n      ]\n    };\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\n\nimport { OUserInfoService } from '../services/o-user-info.service';\nimport { Codes } from '../util/codes';\nimport { LoginStorageService } from './login-storage.service';\nimport { PermissionsService } from './permissions/permissions.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuardService implements CanActivate {\n\n  protected router: Router;\n  protected loginStorageService: LoginStorageService;\n  protected oUserInfoService: OUserInfoService;\n  protected permissionsService: PermissionsService;\n\n  constructor(protected injector: Injector) {\n    this.router = this.injector.get(Router);\n    this.loginStorageService = this.injector.get(LoginStorageService);\n    this.oUserInfoService = this.injector.get(OUserInfoService);\n    this.permissionsService = this.injector.get(PermissionsService);\n  }\n\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<boolean> | boolean {\n    const isLoggedIn = this.loginStorageService.isLoggedIn();\n    let result: Promise<boolean> | boolean = isLoggedIn;\n    if (!isLoggedIn) {\n      this.permissionsService.restart();\n      this.router.navigate([Codes.LOGIN_ROUTE]);\n    }\n    if (isLoggedIn) {\n      this.setUserInformation();\n      if (!this.permissionsService.hasPermissions()) {\n        result = this.permissionsService.getUserPermissionsAsPromise();\n      }\n    }\n    return result;\n  }\n\n  setUserInformation() {\n    const sessionInfo = this.loginStorageService.getSessionInfo();\n    // TODO query user information\n    this.oUserInfoService.setUserInfo({\n      username: sessionInfo.user,\n      avatar: './assets/images/user_profile.png'\n    });\n  }\n}\n","import 'reflect-metadata';\n\nimport { Component } from '@angular/core';\n\nexport function OComponent(newCompAnnotations: any) {\n\n  function OComponentInner(target: Function) {\n    const parentTarget = Object.getPrototypeOf(target.prototype).constructor;\n    const parentAnnotations = Reflect.getMetadata('annotations', parentTarget);\n    if (parentAnnotations) {\n      const parentAnnotation = parentAnnotations[0];\n      copyDecorators(newCompAnnotations, parentAnnotation);\n    } else if (parentTarget.hasOwnProperty('decorators')) {\n      const parentDecorators = getDecorators(parentTarget);\n      copyDecorators(newCompAnnotations, parentDecorators);\n    }\n    const metadata = new Component(newCompAnnotations);\n    Reflect.defineMetadata('annotations', [metadata], target);\n  }\n  return OComponentInner;\n}\n\nfunction isPresent(obj) {\n  return obj !== undefined && obj !== null;\n}\n\nfunction getDecorators(target: any) {\n  let decoratorsObj;\n  const decorators = target.decorators[0];\n  if (decorators && decorators.args && decorators.args[0]) {\n    decoratorsObj = decorators.args[0];\n  }\n  return decoratorsObj;\n}\n\nfunction copyDecorators(newComp: any, parent: any) {\n  Object.keys(parent).forEach(key => {\n    if (isPresent(parent[key])) {\n      if (!isPresent(newComp[key])) {\n        if (typeof newComp[key] === 'function') {\n          newComp[key] = newComp[key].call(this, parent[key]);\n        } else {\n          newComp[key] = parent[key];\n        }\n      }\n    }\n    if (!isPresent(newComp[key])) {\n      newComp[key] = parent[key];\n    }\n  });\n}\n","export type AlertType = 'info' | 'warn' | 'error';\n\nexport class ODialogConfig {\n\n  /* The type of preconfigured alert dialogs */\n  alertType?: AlertType;\n\n  /* The text of 'ok' button */\n  okButtonText?: string;\n\n  /* The text of 'cancel' button */\n  cancelButtonText?: string;\n\n  /* The material icon of the dialog */\n  icon?: string;\n}\n","import { NgModuleRef } from '@angular/core';\n// import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\n// export function ontimizeBootstrap(appModule: any): Promise<NgModuleRef<any>> {\n//   const promise = platformBrowserDynamic().bootstrapModule(appModule);\n//   promise.then(moduleRef => {\n//     console.log('Bootstrap Successful');\n//     return ontimizePostBootstrap(moduleRef);\n//   }).catch(err => {\n//     console.error(err.message);\n//   });\n\n//   return promise;\n// }\n\nexport function ontimizePostBootstrap(ngModuleRef: NgModuleRef<any>): NgModuleRef<any> {\n  // Hiding loader...\n  const loader: HTMLElement = document && document.getElementById('loader-wrapper');\n  if (loader && loader.parentNode) {\n    loader.parentNode.removeChild(loader);\n  }\n  return ngModuleRef;\n}\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","metadataKey","metadataValue","metadata","__values","o","m","Symbol","iterator","call","next","value","done","__read","n","e","ar","push","error","__spread","concat","Base64","decode","s","b10","pads","imax","x","String","charAt","PADCHAR","getByte64","fromCharCode","join","encode","getByte","ALPHA","charCodeAt","indexOf","Codes","isDoubleClickMode","DETAIL_MODE_DBLCLICK_VALUES","isValidRowHeight","AVAILABLE_ROW_HEIGHTS_VALUES","getIsDetailObject","res","IS_DETAIL","formatString","format","TWENTY_FOUR_HOUR_FORMAT","HourFormat","TWENTY_FOUR","TWELVE","isHourInputAllowed","some","keyCode","ctrlKey","metaKey","PAGINATED_QUERY_METHOD","DELETE_METHOD","INSERT_METHOD","UPDATE_METHOD","QUERY_METHOD","DEFAULT_QUERY_ROWS","DETAIL_ICON","EDIT_ICON","DEFAULT_ROW_HEIGHT","DETAIL_MODE_NONE","DETAIL_MODE_CLICK","EDITION_MODE_NONE","EDITION_MODE_CLICK","EDITION_MODE_DBLCLICK_VALUES","SELECTION_MODE_NONE","SELECTION_MODE_SINGLE","SELECTION_MODE_MULTIPLE","EXPORT_MODE_VISIBLE","EXPORT_MODE_LOCAL","EXPORT_MODE_ALL","HYPHEN_SEPARATOR","SPACE_SEPARATOR","COLUMNS_ALIAS_SEPARATOR","ARRAY_INPUT_SEPARATOR","TYPE_SEPARATOR","VALUES_SEPARATOR","ASC_SORT","DESC_SORT","TYPE_INT","ROUTE_SEPARATOR","ROUTE_VARIABLE_CHAR","PARENT_KEYS_KEY","QUERY_PARAMS","LANGUAGE_KEY","SESSION_KEY","SESSION_EXPIRED_KEY","LOGIN_ROUTE","FORBIDDEN_ROUTE","DEFAULT_EDIT_ROUTE","DEFAULT_DETAIL_ROUTE","undefined","DEFAULT_INSERT_ROUTE","IGNORE_CAN_DEACTIVATE","ONTIMIZE_SUCCESSFUL_CODE","ONTIMIZE_FAILED_CODE","ONTIMIZE_UNAUTHORIZED_CODE","ICON_POSITION_LEFT","ICON_POSITION_RIGHT","AVAILABLE_COLUMN_TITLE_ALIGNS","COLUMN_TITLE_ALIGN_START","COLUMN_TITLE_ALIGN_CENTER","COLUMN_TITLE_ALIGN_END","COLUMN_TITLE_ALIGN_AUTO","O_MAT_ERROR_STANDARD","O_MAT_ERROR_LITE","O_INPUTS_OPTIONS_COLOR_ACCENT","CLOSE_DETAIL_ACTION","BACK_ACTION","RELOAD_ACTION","GO_EDIT_ACTION","EDIT_ACTION","INSERT_ACTION","GO_INSERT_ACTION","DELETE_ACTION","UNDO_LAST_CHANGE_ACTION","DEFAULT_COLUMN_MIN_WIDTH","NAME_COLUMN_SELECT","SUFFIX_COLUMN_INSERTABLE","LIMIT_SCROLLVIRTUAL","TWELVE_FOUR_HOUR_FORMAT","OAppLayoutModes","OSidenavModes","OAppLayoutMode","OSidenavMode","APP_LAYOUT_MODE_DESKTOP","APP_LAYOUT_MODE_MOBILE","Util","isObject","val","isArray","parseBoolean","defaultValue","toUpperCase","isDefined","parseArray","excludeRepeated","result","split","from","Set","parseParentKeysEquivalences","pKeysArray","separator","equivalences","forEach","item","equivKey","equivValue","equiv","aux","test","substring","encodeParentKeys","parentKeys","encoded","JSON","stringify","decodeParentKeys","decoded","parse","isArrayEmpty","array","isDataService","arg","getDefaultServiceConfiguration","configureService","isPermissionsService","loadPermissions","isFormDataComponent","isAutomaticBinding","isEquivalent","a","aProps","getOwnPropertyNames","bProps","intB","propName","bValue","parseInt","isNaN","equals","o1","o2","keySet","t1","normalizeString","toLowerCase","normalize","replace","flatten","apply","getValuesFromObject","obj","keys","parseIconPosition","availablePositions","copyToClipboard","data","document","addEventListener","clipboardData","setData","preventDefault","removeEventListener","execCommand","checkPixelsValueString","endsWith","extractPixelsValue","parsed","parseFloat","substr","parseOInputsOptions","elRef","oInputsOptions","iconColor","matFormFieldEL","nativeElement","getElementsByTagName","classList","add","escapeSpecialCharacter","S","str","cpList","cuList","cpList_1","tslib_1.__values","cpList_1_1","differenceArrays","array1","array2","_this","filter","obj2","convertToODateValueType","lowerVal","DEFAULT_CONFIG","uuid","title","O_INPUTS_OPTIONS","InjectionToken","APP_CONFIG","AppConfig","getConfiguration","assign","_config","getServiceConfiguration","servicesConfiguration","getMenuConfiguration","appMenuConfiguration","useRemoteBundle","bundle","getBundleEndpoint","existsBundleConf","endpoint","path","apiEndpoint","getI18nAssetsConfiguration","assets","i18n","getCssAssetsConfiguration","css","getImagesAssetsConfiguration","images","getJsAssetsConfiguration","js","getRemoteConfigurationConfig","remoteConfig","useRemoteConfiguration","getRemoteConfigurationEndpoint","existsRemoteConf","config","noop","ObservableWrapper","subscribe","emitter","onNext","onError","onComplete","complete","isObservable","obs","hasSubscribers","observers","dispose","subscription","unsubscribe","callNext","emit","callEmit","callError","callComplete","OListItemDirective","ngOnInit","subcription","actRoute","params","updateActiveState","ngOnDestroy","onMouseEnter","selectable","_list","detailMode","renderer","setStyle","_el","aKeys","getKeys","modelData","_act","k","id","remove","onItemClicked","mdClick","onClick","onItemDoubleClicked","mdDoubleClick","onDoubleClick","isSelected","isItemSelected","onSelect","setSelected","setListComponent","list","setItemData","getItemData","Directive","args","selector","exportAs","host","[class.o-list-item]","(click)","(dblclick)","ElementRef","Renderer2","ActivatedRoute","Input","HostListener","EventEmitter","OKeyboardListenerDirective","keyDown","pressedCode","keyboardNumberKeysArray","activeKeys","checkNeededKeys","keyUp","parseKeyboardKeys","keyboardKeys","console","trigger","stopPropagation","onKeysPressed","Output","StringConverter","toString","BooleanConverter","NumberConverter","InputConverter","converter","getMetadata","Error","name","createConverterIfNeeded","stringKey","definition","get","set","newValue","enumerable","configurable","ODialogComponent","onOkClick","dialogRef","close","alert","message","ensureConfig","configureDefaultAlert","info","alertType","icon","warn","confirm","twoOptions","useIcon","okButtonText","DEFAULT_OK_BUTTON_TEXT","cancelButtonText","DEFAULT_CANCEL_BUTTON_TEXT","_title","_message","_okButtonText","_cancelButtonText","_icon","_alertType","_twoOptions","_useIcon","Component","template","encapsulation","ViewEncapsulation","None","[class.o-dialog]","MatDialogRef","DialogService","componentInstance","self","Observable","observer","openDialog","toPromise","ng2Dialog","open","role","disableClose","panelClass","afterClosed","Injectable","providedIn","Injector","injector","MatDialog","SQLTypes","getSQLTypeValue","type","BIT","TINYINT","SMALLINT","INTEGER","BIGINT","FLOAT","REAL","DOUBLE","NUMERIC","DECIMAL","CHAR","VARCHAR","LONGVARCHAR","DATE","TIME","TIMESTAMP","BINARY","VARBINARY","LONGVARBINARY","NULL","OTHER","JAVA_OBJECT","DISTINCT","STRUCT","ARRAY","BLOB","CLOB","REF","DATALINK","BOOLEAN","ROWID","NCHAR","NVARCHAR","LONGNVARCHAR","NCLOB","SQLXML","BASE64","getSQLTypeKey","parseUsingSQLType","Number","err","isNumericSQLType","ServiceUtils","getParentKeysFromForm","parentKeysObject","form","ownKeys","formComponents","getComponents","existsComponents","formDataProperties","getDataValues","existsProperties","urlData","getFormNavigation","getFilterFromUrlParams","existsUrlData","keysArray","keysSqlTypesArray","ownKey","currentData","formPropValue","keyValue","isEquivObject","formFieldAttr","component","getSelectedRecord","getValue","OFormValue","trim","filterContainsAllParentKeys","parentKeysFilter","pkKeys","parentKeysFilterKeys_1","every","getFilterUsingParentKeys","parentItem","parentKey","getArrayProperties","properties","map","getObjectProperties","object","objectProperties","parseSortColumns","sortColumns","sortColArray","col","colDef","colName","colSort","columnName","ascendent","redirectLogin","router","sessionExpired","extras","navigate","LoginStorageService","getSessionInfo","localStorage","getItem","_localStorageKey","storeSessionInfo","sessionInfo","stored","setItem","user","isLoggedIn","BaseServiceResponse","isSuccessful","code","isFailed","isUnauthorized","sqlTypes","startRecordIndex","totalQueryRecordsNumber","tslib_1.__extends","OntimizeServiceResponse","OntimizeServiceResponseAdapter","adapt","body","OntimizeServiceResponseParser","parseSuccessfulResponse","resp","subscriber","service","clientErrorFallback","parseUnsuccessfulResponse","status","serverErrorFallback","BaseService","configureAdapter","adapter","_urlBase","urlBase","_appConfig","serviceName","configuration","servConfig","loginStorageService","doRequest","param","options","headers","buildHeaders","observe","method","requestObs","httpClient","url","put","deleteOptions","delete","post","pipe","successCallback","bind","errorCallBack","share","HttpHeaders","Access-Control-Allow-Origin","Content-Type","errorCode","responseParser","parseSuccessfulQueryResponse","parseSuccessfulAdvancedQueryResponse","parseSuccessfulInsertResponse","parseSuccessfulUpdateResponse","parseSuccessfulDeleteResponse","parseUnsuccessfulQueryResponse","parseUnsuccessfulAdvancedQueryResponse","parseUnsuccessfulInsertResponse","parseUnsuccessfulUpdateResponse","parseUnsuccessfulDeleteResponse","HttpClient","Router","OntimizeBaseService","_super","_sessionid","session","startsession","password","endsession","sessionId","hassession","kv","av","sqltypes","pagesize","offset","orderby","totalsize","OntimizeService","_startSessionPath","startSessionPath","entity","encodedPassword","encodeURIComponent","_startSessionObserver","_closeSessionObserver","ok","query","sessionid","advancedQuery","pageSize","orderBy","insert","update","OntimizeEEPermissionsService","permissionsConfig","_user","DEFAULT_PERMISSIONS_PATH","_innerObserver","permissions","response","PERMISSIONS_KEY","Authorization","OntimizePermissionsService","keyColumn","valueColumn","permissionsResp","PermissionsService","loadingService","permissionsService","ontimizePermissionsConfig","restart","hasPermissions","getUserPermissionsAsPromise","Promise","resolve","reject","queryPermissions","innerObserver","getPermissionIdFromActRoute","snapshot","firstChild","getComponentPermissionsUsingRoute","attr","permissionId","routePermissions","routes","find","route","components","comp","getOComponentPermissions","compPermissions","genericRoutePerm","attrPermissions","getTablePermissions","perm","routePerm","compPerm","menu","mergeOTableMenuPermissions","columns","mergeOPermissionsArrays","actions","contextMenu","getFormPermissions","getMenuPermissions","permissionsA","permissionsB","found","visible","enabled","items","isPermissionIdRouteRestricted","routeData","appConfig","permissionsConfiguration","DEFAULT_INPUTS_O_VALIDATOR","OValidatorComponent","registerError","oError","errorsData","getName","text","getText","getValidatorFn","validatorFn","getErrorsData","errorName","errorText","inputs","O_MAT_ERROR_OPTIONS","nextUniqueId","OMatErrorComponent","errorType","changeDetection","ChangeDetectionStrategy","OnPush","class","[attr.id]","ChangeDetectorRef","Optional","Inject","elementRef","cd","errorOptions","PermissionsUtils","checkEnabledPermission","permission","registerDisabledChangesInDom","callback","setDisabledDOMElement","checkStringValue","mutationObserver","MutationObserver","mutations","mutation","attributeName","attribute","attributes","getNamedItem","attributeFilter","setAttribute","STANDARD_ACTIONS","ACTION_REFRESH","ACTION_INSERT","ACTION_UPDATE","ACTION_DELETE","FormControl","OFormControl","markAsTouched","opts","fControlChildren","getFormControl","markAsDirty","markAsPristine","formState","validatorOrOpts","asyncValidator","MAP","en","LANGUAGE","LOCALE_en","LOCALE_es","LOCALE_pt","USERNAME","PASSWORD","LOGIN","LOGOUT","OK","ACCEPT","CANCEL","CLOSE","YES","NO","RESET","CONFIRM","NEXT","PREVIOUS","FINISH","SAVE","INSERT","REFRESH","SEARCH","FILTER","DELETE","ADD","SELECT","SELECT_ALL","INFO","ERROR","FOUND","RESULTS","TOTAL","MONEY","HOME","SHOW_CONSOLE","FILE","OPTIONS","EDIT","UNDO","REDO","COPY","PASTE","LOCK","EXIT","SETTINGS","FORM","LIST","LIST.EMPTY","LIST.EMPTY_USING_FILTER","TABLE","DETAIL","PAGE","FIRST_PAGE","LAST_PAGE","PREVIOUS_PAGE","NEXT_PAGE","PHOTO","CHOOSE_FILE","FORM_VALIDATION.REQUIRED","FORM_VALIDATION.LENGTH","FORM_VALIDATION.MIN_LENGTH","FORM_VALIDATION.MAX_LENGTH","FORM_VALIDATION.MIN_DECIMAL_DIGITS","FORM_VALIDATION.MAX_DECIMAL_DIGITS","FORM_VALIDATION.EMAIL_FORMAT","FORM_VALIDATION.NIF_FORMAT","FORM_VALIDATION.DNI_LETTER","FORM_VALIDATION.DATE_RANGE","FORM_VALIDATION.MIN_VALUE","FORM_VALIDATION.MAX_VALUE","FORM_VALIDATION.DATE_PARSE","FORM_VALIDATION.DATE_FILTER","FORM_VALIDATION.DATE_MIN","FORM_VALIDATION.DATE_MAX","FORM_VALIDATION.DATERANGE_MIN","FORM_VALIDATION.DATERANGE_MAX","FORM_VALIDATION.DATERANGE_INVALID","FORM_VALIDATION.FILE_TYPE","FORM_VALIDATION.FILE_MAXSIZE","FORM_VALIDATION.FILE_MAXNUM","FORM_VALIDATION.HOUR_FORMAT","MESSAGES.FORM_VALIDATION_ERROR","MESSAGES.FORM_NOTHING_TO_UPDATE_INFO","MESSAGES.FORM_CHANGES_WILL_BE_LOST","MESSAGES.ERROR_LOGIN","MESSAGES.ERROR_SESSION","MESSAGES.ERROR_INSERT","MESSAGES.ERROR_QUERY","MESSAGES.ERROR_UPDATE","MESSAGES.ERROR_DELETE","MESSAGES.ERROR_ATTRIBUTE_REQUIRED","MESSAGES.ERROR_FILE_LOAD","MESSAGES.CONFIRM_ACTION","MESSAGES.CONFIRM_LOGOUT","MESSAGES.CONFIRM_DELETE","MESSAGES.CONFIRM_CANCEL","MESSAGES.SAVING","MESSAGES.SAVED","MESSAGES.DELETED","MESSAGES.INSERTED","MESSAGES.UPDATED","MESSAGES.NO_RESULTS","MESSAGES.ERROR_MISSING_LANG","MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN","MESSAGES.ERROR_EXPORT_TABLE_DATA","MESSAGES.SUCCESS_EXPORT_TABLE_DATA","MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION","MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION","MESSAGES.NAVIGATION_REDIRECTED_PERMISSION","MESSAGES.ERROR_403_TEXT","MESSAGES.ERROR_403_TEXT_BUTTON","MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS","INPUT.COMBO.EMPTY","INPUT.COMBO.MESSAGE_TRIGGER","TABLE.FILTER_BY_COLUMN.CHECK_ALL","TABLE.FILTER_BY_COLUMN.EMPTY_VALUE","TABLE.FILTER_BY_COLUMN.HINT_STAR","TABLE.FILTER_BY_COLUMN.BY_VALUE","TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER","TABLE.FILTER_BY_COLUMN.FROM","TABLE.FILTER_BY_COLUMN.TO","TABLE.FILTER_BY_COLUMN.LIST_EMPTY","TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER","TABLE.FILTER","TABLE.FILTER.CASE_SENSITIVE","TABLE.EMPTY","TABLE.EMPTY_USING_FILTER","TABLE.INFO","TABLE.INFO_EMPTY","TABLE.INFO_FILTERED","TABLE.INFO_POST_FIX","TABLE.LENGTH_MENU","TABLE.LOADING_RECORDS","TABLE.PROCESSING","TABLE.SEARCH","TABLE.ZERO_RECORDS","TABLE.PAGINATE.FIRST","TABLE.PAGINATE.LAST","TABLE.PAGINATE.NEXT","TABLE.PAGINATE.PREVIOUS","TABLE.PAGINATE.RANGE_LABEL","TABLE.PAGINATE.ITEMSPERPAGELABEL","TABLE.ARIA.SORT_ASCENDING","TABLE.ARIA.SORT_DESCENDING","TABLE.BUTTONS.COLVIS","TABLE.BUTTONS.COPY_TITLE","TABLE.BUTTONS.COPY_SUCCESS._","TABLE.BUTTONS.COPY_SUCCESS.1","TABLE.BUTTONS.COPY_TO_CLIPBOARD","TABLE.BUTTONS.PRINT","TABLE.BUTTONS.EXPORT","TABLE.BUTTONS.EXCEL","TABLE.BUTTONS.HTML","TABLE.BUTTONS.PDF","TABLE.BUTTONS.GROUP_ROWS","TABLE.BUTTONS.RESIZE_COLUMNS","TABLE.BUTTONS.FILTER","TABLE.BUTTONS.FILTER_SAVE","TABLE.BUTTONS.FILTER_LOAD","TABLE.BUTTONS.FILTER_CLEAR","TABLE.BUTTONS.REFRESH","TABLE.BUTTONS.DELETE","TABLE.BUTTONS.ADD","TABLE.BUTTONS.SELECT","TABLE.BUTTONS.FILTER_BY_COLUMN","TABLE.BUTTONS.SAVE_FILTER","TABLE.BUTTONS.CONFIGURATION","TABLE.BUTTONS.SAVE_CONFIGURATION","TABLE.BUTTONS.APPLY_CONFIGURATION","TABLE.BUTTONS.APPLY","TABLE.SELECT.ROWS._","TABLE.SELECT.ROWS.0","TABLE.SELECT.ROWS.1","TABLE.SHOW_ALL","TABLE.SELECT_DATE","TABLE.ROW_VALIDATION_ERROR","TABLE.DIALOG.SAVE_FILTER","TABLE.DIALOG.FILTER_NAME","TABLE.DIALOG.FILTER_DESCRIPTION","TABLE.DIALOG.LOAD_FILTER","TABLE.DIALOG.CONFIRM_CLEAR_FILTER","TABLE.DIALOG.CONFIRM_REMOVE_FILTER","TABLE.DIALOG.EMPTY_FILTER_LIST","TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS","TABLE.DIALOG.SAVE_CONFIGURATION","TABLE.DIALOG.CONFIGURATION_NAME","TABLE.DIALOG.CONFIGURATION_DESCRIPTION","TABLE.DIALOG.APPLY_CONFIGURATION","TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT","TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION","TABLE.DIALOG.CONFIGURATION_PROPERTIES","TABLE.DIALOG.PROPERTIES.SORT","TABLE.DIALOG.PROPERTIES.SORT.INFO","TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY","TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO","TABLE.DIALOG.PROPERTIES.QUICK_FILTER","TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO","TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER","TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO","TABLE.DIALOG.PROPERTIES.PAGE","TABLE.DIALOG.PROPERTIES.PAGE.INFO","TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION","TABLE.DIALOG.EXPORT.DESCRIPTION","LAYOUT_MANANGER.MAIN_TAB_LABEL","LAYOUT_MANANGER.DIALOG_TITLE","LAYOUT_MANANGER.INSERTION_MODE_TITLE","APP_LAYOUT.USER_PROFILE","CARD_MENU_LAYOUT.BUTTON_TEXT","GRID.ITEMS_PER_PAGE","GRID.SORT_BY","GRID.SORT_BY_ASC","GRID.SORT_BY_DESC","GRID.BUTTON_NEXT","GRID.TEXT_SHOWN_ITEMS","GRID.EMPTY","GRID.EMPTY_USING_FILTER","TABLE_CONTEXT_MENU.VIEW_DETAIL","TABLE_CONTEXT_MENU.EDIT","TABLE_CONTEXT_MENU.INSERT","TABLE_CONTEXT_MENU.COPY","TABLE_CONTEXT_MENU.COPY_CELL","TABLE_CONTEXT_MENU.COPY_ROW","TABLE_CONTEXT_MENU.COPY_ALL","TABLE_CONTEXT_MENU.COPY_SELECTION","TABLE_CONTEXT_MENU.SELECT_ALL","TABLE_CONTEXT_MENU.DESELECT_ALL","TABLE_CONTEXT_MENU.REFRESH","TABLE_CONTEXT_MENU.DELETE","TABLE_CONTEXT_MENU.FILTER","TABLE_CONTEXT_MENU.FILTER_BY","TABLE_CONTEXT_MENU.FILTER_BY_VALUE","DATERANGE.today","DATERANGE.yesterday","DATERANGE.last_7days","DATERANGE.last_30days","DATERANGE.this_month","DATERANGE.last_month","DATERANGE.this_year","DATERANGE.APPLYLABEL","DATERANGE.W","es","FEATURES","pt","MomentService","load","locale","_locale","parseDate","moment","Date","DATE_FORMATS","defaultFormat","getLocale","OSnackBarComponent","action","iconPosition","onAction","snackBarRef","dismissWithAction","[class.o-snackbar]","MatSnackBarRef","SnackBarService","containerClasses","DEFAULT_CONTAINER_CLASS","cssClass","matConfig","duration","milliseconds","DEFAULT_DURATION","matSnackBar","openFromComponent","afterDismissed","instance","MatSnackBar","FilterExpressionUtils","instanceofBasicExpression","BASIC_EXPRESSION_KEY","instanceofExpression","buildBasicExpression","exp","@basic_expression","instanceofFilterExpression","FILTER_EXPRESSION_KEY","buildFilterExpression","@filter_expression","buildComplexExpression","expr1","expr2","op","lop","rop","buildExpressionEquals","OP_EQUAL","buildExpressionIsNotNull","OP_NOT_NULL","buildExpressionIsNull","OP_NULL","buildExpressionLess","OP_LESS","buildExpressionLessEqual","OP_LESS_EQUAL","buildExpressionMore","OP_MORE","buildExpressionMoreEqual","OP_MORE_EQUAL","buildExpressionIn","values","OP_IN","buildExpressionNotLike","RegExp","OP_NOT_LIKE","buildExpressionLike","OP_LIKE","buildExpressionLikeEnd","buildExpressionLikeStart","buildExpressionNotEquals","OP_NOT_EQUAL","buildExpressionNullAndValue","buildArrayExpressionLike","stackExpressionLikeOR","buildExpressionFromObject","stackExpressionEqualsAND","expr","likeExpr","OP_OR","equalsExpr","OP_AND","OntimizeEEService","btoa","setTimeout","append","OntimizeExportService","modeAll","exportAll","exportPath","downloadPath","servicePath","exportData","resData","parseSuccessfulExportDataResponse","downloadFile","fileId","fileExtension","responseType","fileData","fileURL","URL","createObjectURL","createElement","appendChild","href","download","click","removeChild","revokeObjectURL","OntimizeFileService","upload","files","toUpload","FormData","prepareToUpload","isUploading","file","request","HttpRequest","reportProgress","progressData","HttpEventType","UploadProgress","loaded","total","Response","O_DATA_SERVICE","O_TRANSLATE_SERVICE","O_FILE_SERVICE","O_EXPORT_SERVICE","O_PERMISSION_SERVICE","dataServiceFactory","_createServiceInstance","_getInjectionTokenValue","serviceType","fileServiceFactory","exportServiceFactory","exportServiceType","permissionsServiceFactory","permissionsServiceType","OntimizeServiceProvider","provide","useFactory","deps","OntimizeExportServiceProvider","token","clazz","newInstance","translateServiceFactory","OTranslateService","storeLanguage","language","dataStr","localStorageKey","getStoredLanguage","checkExistingLangFile","lang","localeAssetsPath","localeAssetsExtension","existingLangFiles","ngxTranslateService","currentLoader","prefix","suffix","notFoundLang","setDefaultLang","defaultLang","then","exists","textTranslated","CORE_TRANSLATIONS.MAP","currentLang","DEFAULT_LANG","setAppLang","use","newLang","propagateLang","getDefaultLang","msg","langRes","coreBundle","mixed","translations","momentService","onLanguageChanged","getCurrentLang","getBrowserLang","window","navigator","browserLang","languages","browserLanguage","userLanguage","ASSETS_PATH","ASSETS_EXTENSION","TranslateService","OBaseComponent","initialize","_olabel","oattr","oplaceholder","translateService","getAttribute","setEnabled","parsedValue","_enabled","getTooltipClass","tooltipPosition","getTooltipText","_tooltip","_tooltipPosition","_tooltipShowDelay","_tooltipHideDelay","_isReadOnly","setIsReadOnly","readOnly","_readOnly","_orequired","orequired","OValueChangeEvent","isUserChange","USER_CHANGE","isProgrammaticChange","PROGRAMMATIC_CHANGE","oldValue","DEFAULT_INPUTS_O_FORM_DATA_COMPONENT","DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT","OFormDataComponent","width","ngAfterViewInit","_matSuffixList","setSuffixClass","matSuffixSubscription","changes","validatorChildren","validatorsSubscription","updateValidators","getMutationObserverTarget","disableFormControl","addOntimizeCustomAppearanceClass","destroy","ngOnChanges","angularValidatorsFn","hasEnabledPermission","hasVisiblePermission","getFormGroup","_fGroup","group","formGroup","_fControl","FormGroup","hasError","isReadOnly","touched","getErrorValue","prop","getError","getActiveOErrors","getControl","parsePermissions","registerFormListeners","isInUpdateMode","isInInsertMode","isEditableDetail","unregisterFormListeners","disconnect","_fControlSubscription","registerFormComponent","registerFormControlComponent","registerSQLTypeFormComponent","unregisterFormComponent","unregisterFormControlComponent","unregisterSQLTypeFormComponent","previousValue","setFormValue","emitOnValueChange","autoBinding","isAutomaticRegistering","autoRegistering","setValue","setDirty","emitModelToViewValueChange","changeType","clearValue","onClickClearValue","event","onChangeEvent","clearButton","onFormControlChange","ensureOFormValue","onChange","createFormControl","cfg","validators","resolveValidators","disabled","registerOnFormControlChange","fn","Validators","required","getSQLType","sqlt","sqlType","_defaultSQLTypeKey","_SQLType","valid","isEmpty","enable","disable","old","innerOnFocus","onFocus","innerOnBlur","onBlur","_appearance","labelVisible","floatLabel","_floatLabel","valueChanges","onValueChange","invalid","clearValidators","oValidator","validatorFunction","_a","setValidators","matFormFieldEl","errorClass","errors","oMatErrorChildren","result_1","oMatError","getFormComponentPermissions","count","iconFieldEl","getElementsByClassName","slice","className","startsWith","matSuffixClass","onlySelf","emitEvent","HostBinding","ViewChildren","MatSuffix","ContentChildren","tslib_1.__decorate","hideRequiredMarker","DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT","DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT","OFormServiceComponent","cacheQueried","colArray","visibleColArray","visibleColumns","descriptionColArray","descriptionColumns","pkArray","_pKeysEquiv","self_1","self_2","setValueSetArray","setValueOnValueChange","_setValueOnValueChangeEquiv","queryOnBind","_formDataSubcribe","onDataLoaded","queryData","staticData","queryOnInit","setDataArray","queryOnEvent","queryOnEventSubscription","queryWithNullParentKeys","queryFallbackFunction","loaderSubscription","record","onSetValueOnValueChange","formComponents_1","setValueSetKeys","serviceCfg","dataService","getAttributesValuesToQuery","queryCols","queryMethod","querySuscription","loadingSubject","dialogService","getDataArray","dataArray","syncDataIndex","queryIfNotFound","self_3","_currentIndex","index","itemValue","indexValue","parseByValueColumnType","valueColumnType","selectedValue","zone","NgZone","timer","delayLoad","clearTimeout","run","loading","BehaviorSubject","DEFAULT_INPUTS_O_LOCKER","OLockerDirective","manageLockerMode","_oLockerMode","manageLoadMode","manageDisableMode","parent","addLoading","removeLoading","componentDiv","element","children","loadingParentDiv","loaderChild1","loaderChild2","loaderChild3","loaderChild4","insertBefore","addClass","removeClass","removeStyle","Host","OHiddenDirective","el","OTabGroupDirective","_mode","mode","applyMode","OTabModes","material","ontimize","_defaultMode","ONTIMIZE_DIRECTIVES","ColumnsFilterPipe","transform","filterValue","filterColumns","that","_isBlank","origValue","Pipe","NumberService","_grouping","_minDecimalDigits","_maxDecimalDigits","getIntegerValue","grouping","thousandSeparator","intValue","formattedIntValue","Intl","NumberFormat","getRealValue","decimalSeparator","minDecimalDigits","maxDecimalDigits","formattedRealValue","formatterArgs","minimumFractionDigits","maximumFractionDigits","realValue","tmpStr","toFixed","parts","getPercentValue","valueBase","DEFAULT_DECIMAL_DIGITS","CurrencyService","_symbol","_symbolPosition","getCurrencyValue","symbol","currencySimbol","symbolPosition","currencySymbolPosition","currencyValue","_numberService","DEFAULT_CURRENCY_SYMBOL","DEFAULT_CURRENCY_SYMBOL_POSITION","OCurrencyPipe","currencyService","OIntegerPipe","numberService","OMomentPipe","ORealPipe","OPercentPipe","parseValueBase","OTranslatePipe","_dispose","lastKey","lastParams","updateValue","oTranslateService","_ref","markForCheck","pure","OTranslateModule","forRoot","ngModule","providers","NgModule","declarations","imports","exports","OrderByPipe","_orderByComparator","isFinite","input","_c","propertyToCheck","desc_1","property_1","sort","reverse","property","LocalStorageService","getComponentStorage","routeKey","completeKey","getComponentKey","getAppComponentData","updateComponentStorage","dataToStore","getDataToStore","componentKey","storedObject","updateAppComponentStorage","componentData","storedComponents","getSessionUserComponentsData","atob","componentDataB64","storeComponentInSessionUser","appData","getStoredData","SESSION_STORAGE_KEY","USERS_STORAGE_KEY","COMPONENTS_STORAGE_KEY","storeSessionUserComponentsData","componentsData","userData","setLocalStorage","users","idUser","appStoredData","setBackwardCompatibility","componentsInfo","usersObject","createUserInfo","onSetLocalStorage","onRouteChange","_router","events","NavigationStart","OBreadcrumbService","breadcrumbs$","ONavigationItem","getActiveModePath","activeFormMode","formRoutes","isInsertFormRoute","getInsertFormRoute","insertFormRoute","getEditFormRoute","editFormRoute","getDetailFormRoute","detailFormRoute","isMainFormLayoutManagerComponent","formLayoutRoutes","isMainNavigationComponent","getFormRoutes","setFormRoutes","mainFormLayoutManagerComponent","deleteActiveFormMode","queryParams","keysValues","queryConfiguration","NavigationService","NavigationEnd","routerState","root","outlet","parseNavigationItems","buildBreadcrumbsForRoute","activatedRoute","pRoute","breadcrumbs","parseRoute","parsedRoute","oBreadcrumbService","label","len","segment","storedNavigation","lastStored","navigationItem","navigationItems","setNavigationItems","storeNavigation","navigationEvents$","NAVIGATION_STORAGE_KEY","localStorageService","setTitle","currentTitle","_emitTitleChanged","setVisible","_emitVisibleChanged","openSidenav","_emitOpenSidenav","closeSidenav","_emitCloseSidenav","onTitleChange","_titleEmitter","onVisibleChange","_visibleEmitter","onSidenavChange","_sidenavEmitter","storeFormRoutes","activeMode","queryConf","storageData","getPreviousRouteData","parent_1","getLastMainNavigationRouteData","routeMatches","currentLocation","location","includes","arr1","arr2","maxMatches","reduce","Math","max","lastNavItem","itemResult","removeLastItem","pop","removeLastItemsUntilMain","lastMain","isCurrentRoute","getLastItem","allNavigationItems","ReplaySubject","Location","previousRoute","qParams","arr","fullUrl","Error403Component","onNavigateBackClick","lastPageData","[class.o-error-403]","navigationService","DEFAULT_INPUTS_O_ERROR","OErrorComponent","registerValidatorError","forwardRef","OntimizeMatIconRegistry","matIconRegistry","addSvgIconSetInNamespace","ONTIMIZE_NAMESPACE","domSanitizer","bypassSecurityTrustResourceUrl","ONTIMIZE_ICON_SET_PATH","addOntimizeSvgIcon","iconName","addSvgIconInNamespace","getSVGElement","getNamedSvgIcon","existsIcon","DomSanitizer","MatIconRegistry","OntimizeMatDateFormats","factory","DEFAULT_DATE_FORMATS","dateInput","display","monthYearLabel","dateA11yLabel","monthYearA11yLabel","dateFormatFactory","MATERIAL_MODULES","MatAutocompleteModule","MatButtonModule","MatButtonToggleModule","MatCardModule","MatChipsModule","MatCheckboxModule","MatDatepickerModule","MatDialogModule","MatExpansionModule","MatGridListModule","MatIconModule","MatInputModule","MatFormFieldModule","MatListModule","MatMenuModule","MatProgressBarModule","MatProgressSpinnerModule","MatRadioModule","MatRippleModule","MatSelectModule","MatSidenavModule","MatSliderModule","MatSlideToggleModule","MatSnackBarModule","MatTabsModule","MatToolbarModule","MatTooltipModule","MatMomentDateModule","MatTableModule","MatPaginatorModule","MatSortModule","OverlayModule","OCustomMaterialModule","CommonModule","MAT_DATE_FORMATS","useClass","OMatErrorModule","FlexLayoutModule","FormsModule","ReactiveFormsModule","entryComponents","OSharedModule","AppMenuService","getMenuRoots","MENU_ROOTS","getMenuRootById","getAllMenuItems","ALL_MENU_ITEMS","getMenuItemById","getMenuItemType","isMenuGroup","getMenuItems","DEFAULT_INPUTS_O_BAR_MENU","OBarMenuComponent","tooltip","menuTitle","setDOMTitle","collapseAll","querySelectorAll","checked","fakeLis","getPermissionsService","_menuTitle","_id","menuRoots","[class.o-bar-menu]","getTime","random","appMenuService","DEFAULT_INPUTS_O_BASE_MENU_ITEM","OBaseMenuItemClass","onLanguageChangeSubscription","restricted","_isHovered","onMouseover","isHovered","onMouseout","DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM","OLocaleBarMenuItemComponent","configureI18n","isConfiguredLang","[class.o-locale-bar-menu-item]","DEFAULT_INPUTS_O_BAR_MENU_GROUP","OBarMenuGroupComponent","[class.o-bar-menu-group]","[attr.disabled]","DEFAULT_INPUTS_O_BAR_MENU_ITEM","OBarMenuItemComponent","collapseMenu","evt","[class.o-bar-menu-item]","DEFAULT_INPUTS_O_BAR_MENU_NESTED","OBarMenuNestedComponent","getValueOfAttr","valAttr","[class.o-bar-menu-separator]","OBarMenuSeparatorComponent","RouterModule","OBarMenuModule","DEFAULT_INPUTS_O_BREADCRUMB","OBreadcrumbComponent","_formRef","labelColsArray","labelColumns","oBreadcrumService","bs","displayText","onRouteClick","[class.o-breadcrumb]","Subscription","OBreadcrumbModule","DEFAULT_INPUTS_O_BUTTON_TOGGLE","DEFAULT_OUTPUTS_O_BUTTON_TOGGLE","OButtonToggleComponent","_innerButtonToggle","outputs","[class.o-button-toggle]","ViewContainerRef","ViewChild","static","viewContainerRef","_checked","DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP","DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP","OButtonToggleGroupComponent","_innerButtonToggleGroup","MatButtonToggleGroup","buildChildren","_children","resolver","resolveComponentFactory","_viewContainerRef","clear","childList","child","componentRef","createComponent","changeDetectorRef","detectChanges","_buttonToggles","reset","[class.o-button-toggle-group]","ComponentFactoryResolver","read","layout","multiple","OButtonToggleModule","DEFAULT_INPUTS_O_BUTTON","OButtonComponent","otype","olabel","isFab","isRaised","isFlat","isStroked","isBasic","isMiniFab","isIconButton","DEFAULT_TYPE","[class.o-button]","OButtonModule","DEFAULT_INPUTS_O_MENU_CARD","DEFAULT_OUTPUTS_O_MENU_CARD","OCardMenuItemComponent","_detailComponentContainer","content","detailComponentContainer","detailComponent","ref","detailComponentInputs","showSecondaryContainer","secondaryContent","translateServiceSubscription","useImage","image","onButtonClick","relativeTo","buttonText","_showSecondaryContainer","[class.o-card-menu-item]","[class.mat-elevation-z1]","[class.compact]","disabledButton","mainContainerLayout","secondaryContainerLayout","OCardMenuItemModule","DEFAULT_INPUTS_O_CONTAINER","OContainerComponent","elem","_titleEl","registerObserver","updateOutlineGap","unRegisterObserver","removeAttribute","ngAfterContentChecked","_outlineGapCalculationNeededImmediately","_elevation","elevation","propagateElevationToDOM","_layoutAlign","align","defaultLayoutAlign","_layoutGap","layoutGap","hasHeader","isAppearanceOutline","matFormDefaultOption","appearance","APPEARANCE_OUTLINE","hasTitleInAppearanceOutline","cleanElevationCSSclasses","container","labelWidth","startWidth","startEls","titleEl","_containerRef","documentElement","contains","containerRect","getBoundingClientRect","height","containerStart","left","labelStart","offsetWidth","style","titleObserver","characterData","subtree","MAT_FORM_FIELD_DEFAULT_OPTIONS","DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE","OContainerCollapsibleComponent","expPanel","_containerCollapsibleRef","_body","registerContentObserver","unregisterContentObserver","titleWidth","descrWidth","empty1Width","gapTitleEls","gapEmpty1Els","gapDescrEls","exPanelHeader","_element","containerOutlineRect","containerOutline","querySelector","descrEl","descrStart","description","updateHeightExpansionPanelContent","exPanelContent","parentHeight","parentNode","offsetHeight","contentObserver","expanded","collapsedHeight","expandedHeight","DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE","OColumnCollapsibleComponent","[class.o-column-collapsible]","[class.o-appearance-outline]","[class.o-appearance-outline-title]","OColumnCollapsibleModule","DEFAULT_INPUTS_O_COLUMN","OColumnComponent","[class.o-column]","OColumnModule","DEFAULT_INPUTS_O_ROW_COLLAPSIBLE","ORowCollapsibleComponent","[class.o-row-collapsible]","ORowCollapsibleModule","DEFAULT_INPUTS_O_ROW","ORowComponent","[class.o-row]","ORowModule","DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS","OComponentMenuItems","parseInput","ovisible","Function","TYPE_ITEM_MENU","TYPE_GROUP_MENU","TYPE_SEPARATOR_MENU","DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS","DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM","OContextMenuItemComponent","oenabled","triggerExecute","$event","execute","useExisting","DEFAULT_CONTEXT_MENU_GROUP_INPUTS","OContextMenuGroupComponent","ngAfterContentInit","oContextMenuItems","toArray","DEFAULT_CONTEXT_MENU_ITEM_INPUTS","OContextMenuSeparatorComponent","DEFAULT_CONTEXT_MENU_CONTENT_ITEM_INPUTS","OWrapperContentMenuComponent","isGroup","isSepararor","isItem","DEFAULT_CONTEXT_MENU_CONTENT_INPUTS","DEFAULT_CONTEXT_MENU_CONTENT_OUTPUTS","OContextMenuContentComponent","closeContent","openMenu","menuItems","menuItem","onMenuClosed","closeMenu","[class.o-context-menu-content]","MatMenuTrigger","OContextMenuService","openContextMenu","context","destroyOverlays","createOverlay","overlays","overlay","detach","fakeElement","bottom","clientY","clientX","right","top","positionStrategy","position","flexibleConnectedTo","anchorElement","withPositions","overlayX","overlayY","originX","originY","overlayRef","hasBackdrop","scrollStrategy","attachContextMenu","contextMenuContent","attach","ComponentPortal","menuClass","closeContextMenu","Overlay","ScrollStrategyOptions","showContextMenu","Subject","DEFAULT_OUTPUTS_O_CONTEXT_MENU","OContextMenuComponent","oContextMenuService","onClose","origin","onShow","DEFAULT_CONTEXT_MENU_DIRECTIVE_INPUTS","OContextMenuDirective","onRightClick","oContextMenu","oContextMenuData","OContextMenuModule","DEFAULT_INPUTS_O_FORM_CONTAINER","OFormContainerComponent","breadcrumb","formMananger","createBreadcrumb","breadContainer","setForm","getFormManager","breadcrumbLabelColumns","breadcrumbSeparator","[class.o-form-container]","[class.breadcrumb]","OFormCacheClass","updateFormDataCache","formDataCache","getRegisteredFieldsValues","addChangeToStack","currentValue","wasEmpty","valueChangesStack","onCacheEmptyStateChanges","onCacheStateChanges","registerComponentCaching","listenTo","detectChangesOnBlur","_componentsSubscritpions","initializedCache","blockCaching","hasComponentChanged","changedFormControls","getCachedValue","removeUndefinedProperties","registerCache","initialCache","initializeCache","initialDataCache","getInitialDataCache","getDataCache","restartCache","setCacheSnapshot","undoLastChange","lastElement","lastValue","lastCacheValue","getCacheLastValue","undoComponentValue","getFieldReference","updateChangesStack","current","prev","splice","isInitialStateChanged","currentCache","initialKeys","currentKeys","getChangedFormControlsAttr","CanDeactivateFormGuard","canDeactivate","curr","state","future","oForm","CLASSNAME","OFormLayoutManagerContentDirective","OFormLayoutDialogComponent","contentDirective","componentFactory","updateNavigation","formLayoutManager","getLabelFromData","updateActiveData","closeDialog","getRouteOfActiveItem","parentRoute","parentFormLayoutManager","segments","urlSegments","getParams","[class.o-form-layout-dialog]","MAT_DIALOG_DATA","componentFactoryResolver","layoutManagerComponent","OFormLayoutManagerService","registerFormLayoutManager","registeredFormLayoutManagers","removeFormLayoutManager","_activeFormLayoutManager","DEFAULT_INPUTS_O_FORM_LAYOUT_DIALOG_OPTIONS","OFormLayoutDialogOptionsComponent","[class.o-form-layout-dialog-options]","closeOnNavigation","ShareCanActivateChildService","setPermissionsGuard","guard","permissionsGuard","canActivateChildUsingPermissions","childRoute","canActivateChild","CanActivateFormLayoutChildGuard","oFormLayoutService","activeFormLayoutManager","shareCanActivateChildService","addDetailComponent","DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP_OPTIONS","OFormLayoutTabGroupOptionsComponent","[class.o-form-layout-tabgroup-options]","ContentChild","TemplateRef","DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER","DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER","OFormLayoutManagerComponent","availableModeValues","DIALOG_MODE","TAB_MODE","addActivateChildGuard","oFormLayoutManagerService","storeState","isTabMode","oTabGroup","initializeComponentState","onRouteChangeStorageSubscription","updateStateStorage","destroyAactivateChildGuard","beforeunloadHandler","getLabelFromUrlParams","urlParams","getFormDataFromLabelColumns","formData","routeConfig","getParentActRouteRoute","canActivateChildArray","previouslyAdded","guardClassName","addingGuard","isDialogMode","newDetailComp","modified","addTab","openFormLayoutDialog","closeDetail","closeTab","reloadMainComponents","detailComp","cssclass","dialogClass","dialogConfig","dialogOptions","dialogWidth","minWidth","dialogMinWidth","maxWidth","dialogMaxWidth","dialogHeight","minHeight","dialogMinHeight","maxHeight","dialogMaxHeight","backdropClass","dialog","updateIfNeeded","getFormCacheData","formId","getLastTabId","setModifiedState","isDataDefined","new_tab_title","idx","insertionMode","isMainComponent","firstTab","oFormLayoutDialog","getRouteForComponent","activeRoute","setAsActiveFormLayoutManager","onTriggerUpdate","allowToUpdateNavigation","formAttr","titleDataOrigin","loadChildren","markForUpdate","[class.o-form-layout-manager]","SkipSelf","onMainTabSelected","onSelectedTabChange","onCloseTab","OFormNavigationClass","qParamSub","urlParamSub","urlSub","combinedNavigationStreamSubscription","subscribeToQueryParams","cacheData","parseQueryParams","isDetail","isDetailForm","subscribeToUrlParams","parseUrlParams","formParentKeysValues","onUrlParamChangedStream","subscribeToUrl","subscribeToCacheChanges","cacheStateSubscription","asObservable","getCurrentKeysValues","getFilterFromObject","objectParam","urlVal","getUrlParams","urlParamsKeys","getUrlSegments","getQueryParams","setUrlParams","formData_1","self_4","navigateBack","navData","closeDetailAction","beforeCloseDetail","changeToolbarMode","getFormToolbar","setInitialMode","stayInRecordAfterInsert","insertedKeys","self_5","subscription_1","params_1","detailIndex","getKeysValues","detailRoute","lastIndexOf","unshift","goInsertMode","setInsertMode","storeNavigationFormRoutes","goEditMode","params_2","urlParams_1","setUpdateMode","beforeGoEditMode","setEditMode","getNestedLevelsNumber","getFullUrlSegments","fullUrlSegments","parseUrl","hasChildren","primary","showConfirmDiscardChanges","navigationStream","formLayoutDialog","combinedNavigationStream","combineLatest","valArr","DEFAULT_INPUTS_O_FORM","DEFAULT_OUTPUTS_O_FORM","OFormComponent","Mode","_components","repeatedAttr","emitModelToViewChange","cachedValue","formCache","ignoreFormCacheKeys","_compSQLTypes","control","registerControl","removeControl","registerToolbar","fToolbar","_formToolbar","getDataValue","formNavigation","isInInitialMode","dirty","clearData","_setData","confirmExit","canDiscardChanges","executeToolbarAction","_backAction","_closeDetailAction","_reloadAction","_goInsertMode","_insertAction","_goEditMode","_editAction","_undoLastChangeAction","_deleteAction","addDeactivateGuard","deactivateGuard","canDeactivateArray","destroyDeactivateGuard","hasDeactivateGuard","headeractions","colsArray","keysSqlTypes","showHeader","INITIAL","reinitialize","clonedOpts","reloadStreamSubscription","querySubscription","determinateFormMode","onFormInitStream","_setComponentsEditable","compKey","setFormMode","onFormModeChange","UPDATE","_updateFormData","toFormValueData","_emitData","_stayInRecordAfterInsert","useFilter","_clearFormAfterInsert","controls","getAttributesValuesToInsert","getAttributesSQLTypes","insertData","postCorrectInsert","markFormLayoutManagerToUpdate","afterInsertMode","postIncorrectInsert","getAttributesValuesToUpdate","updateData","postCorrectUpdate","stayInRecordAfterEdit","postIncorrectUpdate","deleteData","clearComponentsOldValue","getAttributesToQuery","statusText","dataCache","insertMethod","attrValues","types","kst","updateMethod","changedAttrs","controlName","deleteMethod","postCorrectDelete","postIncorrectDelete","toJSONData","valueData","valueData_1","objectToFormValueData","currentRecord","isInQueryMode","QUERY","setQueryMode","registerDynamicFormComponent","dynamicForm","dynamicFormSubscription","render","refreshComponentsEditableState","unregisterDynamicFormComponent","getRequiredComponents","requiredCompontents","isRequired","_layoutDirection","parsedVal","DEFAULT_LAYOUT_DIRECTION","headerMode","editableDetail","isCacheStackEmpty","undoKeyboardPressed","keyboardEvent","getFormCache","getUrlParam","setUrlParamsAndReload","getFieldValue","getFieldValues","attrs","setFieldValue","setFieldValues","clearFieldValue","clearFieldValues","getFieldReferences","getActionsPermissions","determinateModeFromUrlSegment","_path","isInsertModePath","isUpdateModePath","newFormData","initializeFields","snackBarService","onInsert","showError","onUpdate","onDelete","operation","[class.o-form]","headerPosition","labelheader","labelHeaderAlign","showHeaderActionsText","undoButton","showHeaderNavigation","includeBreadcrumb","navigationData","currentIndex","reloadStream","valArrValues","formContainer","DEFAULT_INPUTS_O_FILTER_BUILDER","DEFAULT_OUTPUTS_O_FILTER_BUILDER","OFilterBuilderComponent","initializeListeners","subscriptions","filters","filterElms","filterComponents","targetAttr","formComponentAttr","targetCmp","setFilterBuilder","queryOnChange","filterComponent","formComponent","debounceTime","queryOnChangeDelay","triggerReload","getExpression","expressionBuilder","expressions","fe1","fe2","getBasicExpression","getTargetComponent","pageable","reloadPaginatedDataFromStart","reloadData","onFilter","clearFilter","getFilterAttrs","onClear","OFilterBuilderClearDirective","_filterBuilder","filterBuilder","OFilterBuilderQueryDirective","OFilterBuilderModule","OFormContainerModule","OFormNavigationComponent","queryNavigationData","conf","queryArgs","queryArguments","getKeysArray","queryRows","queryRecordOffset","_form","getCurrentIndex","currentItem","findIndex","itemKeys","move","previous","first","last","isLast","totalRecordsNumber","isFirst","moveInDialogManager","moveWithoutManager","getRouteOfSelectedRow","urlArray","navigationDone","showNavigation","getRecordIndex","getTotalRecordsNumber","[class.o-form-navigation]","DEFAULT_INPUTS_O_FORM_TOOLBAR","OFormToolbarComponent","_changesToSave","actionsPermissions","_existsChangesToSaveSubject","_editBtnEnabled","_isEditBtnEnabledSubject","_saveBtnEnabled","_isSaveBtnEnabledSubject","formActions","refreshBtnEnabled","insertBtnEnabled","editBtnEnabled","deleteBtnEnabled","insertMode","_navigationService","labelHeader","formCacheSubscription","mutationObservers","manageEditableDetail","initialMode","editMode","onCloseDetail","onBack","onReload","onEdit","showConfirmDelete","onSave","handleAcceptEditOperation","cancelOperation","acceptOperation","handleAcceptInsertOperation","_dialogService","getLabelHeaderAlign","onUndoLastChange","_includeBreadcrumb","updatePermissions","saveBtnEnabled","changesToSave","permissionManagement","attrAction","elementByAction","enabledPermision","[class.o-form-toolbar]","isSaveBtnEnabled","isEditBtnEnabled","existsChangesToSave","OFormToolbarModule","schemas","CUSTOM_ELEMENTS_SCHEMA","OFormModule","DEFAULT_INPUTS_O_SEARCH_INPUT","DEFAULT_OUTPUTS_O_SEARCH_INPUT","OSearchInputComponent","term","addControl","distinctUntilChanged","checkActiveColumns","onSearch","column","_filterCaseSensitive","showMenu","isChecked","onCheckboxChange","onSelectAllChange","areAllColumnsChecked","onFilterCaseSensitiveChange","filterCaseSensitive","getActiveColumns","setActiveColumns","triggerOnSearch","termValue","filterCols","[class.o-search-input]","placeholder","showCaseSensitiveCheckbox","OSearchInputModule","DEFAULT_INPUTS_O_GRID_ITEM","OGridItemComponent","[class.o-grid-item]","colspan","rowspan","OGridItemDirective","grid","setGridComponent","DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT","OServiceBaseComponent","originalQueryRows","_queryRows","oattrFromEntity","alreadyStored","initializeState","setFormComponent","afterViewInit","onFormDataSubscribe","getRouteKey","ovrrArgs","filterParentKeys","queryMethodName","paginatedQueryMethod","getQueryArguments","arrData","updatePaginationInfo","extractKeysFromRecord","compFilter","getComponentFilter","queryOffset","queryRowsN","queryRes","resultEndIndex","existingFilter","getSqlTypes","_state","getParentKeysValues","DEFAULT_INPUTS_O_SERVICE_COMPONENT","OServiceComponent","_rowHeight","rowHeightSubject","_quickFilter","registerQuickFilter","searchInputComponent","formLayoutManagerTabIndex","tabsSubscriptions","selectedTabIndex","detailButtonInRow","editButtonInRow","onTriggerUpdateSubscription","isVisible","hasControls","hasTitle","getSelectedItems","selection","selected","clearSelection","toggle","navigateToDetail","insertDetail","getInsertRoute","addFormLayoutManagerRoute","recursiveInsert","viewDetail","getItemModeRoute","recursiveDetail","editDetail","recursiveEdit","routeArr","compRoute","getEncodedParentKeys","pKeys","insertRoute","encodedParentKeys","routeObj","modeRoute","getQueryConfiguration","deleteLocalItems","selectedItems","selectedItem","selectedItemKv","j","itemKv","quickFilterExpr","getQuickFilterExpression","filterBuilderExpr","getFilterBuilderExpression","complexExpr","quickFilterComponent","filterExpression","mainFormLayoutComp","saveDataNavigationInLocalStorage","row","tabsData","quickFilter","parsedArr","quickFilterActiveColumns","filterData","loadMore","isFilterCaseSensitive","configureFilterValue","returnVal","getQuickFilterValue","getQuickFilterColumns","quickFilterColArray","detailButtonInRowIcon","editButtonInRowIcon","rowHeightObservable","SelectionModel","DEFAULT_INPUTS_O_GRID","DEFAULT_OUTPUTS_O_GRID","PAGE_SIZE_OPTIONS","OGridComponent","_cols","_colsDefault","_pageSizeOptions","_sortableColumns","_gridItems","_currentPage","sortColumn","parseSortColumn","existingOption","pageSizeOptions","option","quickFilterColumns","currentPage","setGridItemDirectivesData","subscribeToMediaChanges","gridItems","inputGridItems","queryChanges","_results","media","change","mqAlias","paginationControls","dataResponseArray","caseSensitive_1","filteredData","sort_1","factor_1","regExpStr","sortColumnOrder","aOp","bOp","registerGridItemDirective","gridItem","onItemDetailClick","onItemDetailDblClick","sortableColumns","onChangePage","pageIndex","tableState","goingBack","newStartRecord","changingPageSize","queryLength","newEndRecord","min","storePaginationState","getSortOptionText","colTextKey","respDataArray","onPaginatedDataLoaded","gridItemDirectives","[class.o-grid]","[class.o-grid-fixed]","MatPaginator","fixedHeader","showPageSize","showSort","showFooter","gridItemHeight","refreshButton","gutterSize","MediaObserver","OGridModule","[class.o-fullscreen-dialog]","OFullScreenDialogComponent","imageSrc","DEFAULT_INPUTS_O_IMAGE","DEFAULT_OUTPUTS_O_IMAGE","OImageComponent","_fullScreenButton","emptyimage","_useEmptyIcon","_useEmptyImage","emptyicon","bytes","stateCtrl","fileChange","reader","FileReader","readAsDataURL","currentFileName","notFoundImageUrl","src","notfoundimage","getSrcValue","_domSanitizer","bypassSecurityTrustUrl","onClickBlocker","fileInput","showControls","useEmptyIcon","useEmptyImage","openFullScreen","openFileSelector","internalFormControl","[class.o-image]","acceptFileType","autoFit","OImageModule","DEFAULT_INPUTS_O_CHECKBOX","DEFAULT_OUTPUTS_O_CHECKBOX","OCheckboxComponent","booleanType","trueValue","falseValue","parseInputs","parseValueByType","parseStringInputs","parseNumberInputs","[class.o-checkbox]","labelPosition","OCheckboxModule","OComboSearchComponent","_value","matSelect","openedChange","takeUntil","_onDestroy","opened","focus","take","previousSelectedValues","_options","keyManager","_keyManager","panelOpen","setFirstItemActive","initMultipleHandling","handleKeydown","onInputChange","writeValue","onTouched","registerOnChange","registerOnTouched","panel","scrollTop","searchSelectInput","valueChange","restoreSelectedValues_1","optionValues_1","_onChange","NG_VALUE_ACCESSOR","multi","[class.o-combo-search]","MatSelect","_","DEFAULT_INPUTS_O_COMBO","DEFAULT_OUTPUTS_O_COMBO","OComboComponent","_filteredDataArray","searchControl","searchFilter","nullSelection","filteredDataArray","getFilteredDataArray","hasNullSelection","getEmptyValue","getMultiple","onSelectionChange","selectModel","getOptionDescriptionValue","descTxt","txt","translate","getValueColumn","rowIndex","isDefinedVal","setSelectedItems","getFirstSelectedValue","viewValue","valueArr","search_1","[class.o-combo]","multipleTriggerLabel","searchable","OComboModule","DEFAULT_INPUTS_O_TEXT_INPUT","DEFAULT_OUTPUTS_O_TEXT_INPUT","OTextInputComponent","minLength","maxLength","_minLength","_maxLength","OTextInputModule","DEFAULT_INPUTS_O_INTEGER_INPUT","DEFAULT_OUTPUTS_O_INTEGER_INPUT","OIntegerInputComponent","initializeStep","setComponentPipe","componentPipe","pipeArguments","olocale","step","setPipeValue","setNumberDOMValue","formControl","updateValueAndValidity","setTextDOMValue","getInputEl","inputElement","tagName","userAgent","minValidator","maxValidator","requiredMin","requiredMax","inputType","OIntegerInputModule","DEFAULT_INPUTS_O_REAL_INPUT","DEFAULT_OUTPUTS_O_REAL_INPUT","ORealInputComponent","minDecimalDigitsValidator","maxDecimalDigitsValidator","ctrlValue","valArray","minDecimaldigits","requiredMinDecimaldigits","maxDecimaldigits","requiredMaxDecimaldigits","pow","ORealInputModule","DEFAULT_INPUTS_O_CURRENCY_INPUT","DEFAULT_OUTPUTS_O_CURRENCY_INPUT","OCurrencyInputComponent","existsOntimizeIcon","currency_icons","currencySymbol","useSymbol","currency_symbols","CRC","NGN","PHP","PLN","PYG","THB","UAH","VND","OCurrencyInputModule","MomentDateAdapter","OntimizeMomentDateAdapter","date","displayFormat","oFormat","parseFormat","deserialize","isValid","MAT_DATE_LOCALE","dateLocale","DEFAULT_OUTPUTS_O_DATE_INPUT","DEFAULT_INPUTS_O_DATE_INPUT","ODateInputComponent","momentD","updateLocaleOnChange","momentSrv","oformat","momentDateAdapter","setLocale","oStartView","datepicker","startView","oStartAt","startAt","oMinDate","datepickerInput","minDateString","oMaxDate","maxDateString","mediaSubscription","touchUi","oTouchUi","getValueAsDate","dateValue","timestampValue","matInputRef","valueOf","valueType","toISOString","onClickInput","textInputEnabled","_filterDate","_dateClass","_oformat","_minDateString","_maxDateString","ensureODateValueType","_valueType","DateAdapter","MatDatepickerInput","dateAdapter","ODateInputModule","_moment","SideEnum","DaterangepickerComponent","_ranges","renderRanges","_buildLocale","daysOfWeek","firstDay","shift","inline","_old","start","startDate","clone","end","endDate","updateMonthsInView","renderCalendar","rangesArray","ranges","range","minDate","isBefore","maxDate","maxSpan","isAfter","timePicker","innerHTML","rangeHtml","showCustomRangeLabel","customRangeLabel","showCalInRanges","alwaysShowCalendars","startOf","endOf","autoApply","renderTimePicker","side","timePicker24Hour","timepickerVariables","hours","minutes","minutesLabel","seconds","secondsLabel","disabledHours","disabledMinutes","disabledSeconds","selectedHour","selectedMinute","selectedSecond","i_in_24","hour","time","minute","timePickerIncrement","padded","second","timePickerSeconds","amDisabled","pmDisabled","ampmModel","mainCalendar","leftCalendar","rightCalendar","month","year","daysInMonth","lastDay","lastMonth","subtract","lastYear","daysInLastMonth","dayOfWeek","day","calendar","startDay","curDate","dateLimit","maxLimit","calendarVariables","calRows","calCols","classes","showDropdowns","currentMonth","currentYear","maxYear","minYear","inMinYear","inMaxYear","years","y","dropdowns","monthArrays","yearArrays","_buildCells","setStartDate","round","floor","isShown","updateElement","setEndDate","isInvalidDate","isCustomDate","updateView","updateCalendars","singleDatePicker","linkedCalendars","calculateChosenLabel","autoUpdateInput","showRangeLabelOnInput","chosenRange","chosenLabel","customRange","clickApply","choosedDate","datesUpdated","hide","clickCancel","monthChanged","monthEvent","monthOrYearChanged","yearChanged","yearEvent","timeChanged","timeEvent","ampm","isLeft","clickPrev","clickNext","clickDate","parentElement","_getDateWithTime","clickRange","dates","rangeClicked","keepCalendarOpeningWithRange","show","isSame","handleInternalClick","updateLocale","disableRange","rangeMarkers","areBothBefore","areBothAfter","localeData","longDateFormat","rowClasses","emptyWeekRowClass","hasCurrentMonthDays","isoWeekday","lastDayOfPreviousMonthClass","firstDayOfNextMonthClass","firstMonthDayClass","lastMonthDayClass","isCustom","cname","daterangepicker","applyBtn","sideEnum","showWeekNumbers","showISOWeekNumbers","showClearButton","showCancel","ODaterangepickerDirective","_separator","_startKey","_endKey","_changeDetectorRef","drops","opens","showRanges","localeDiffer","differs","_onTouched","openAsDialog","openAsPopup","_popupRef","_popupComponentRef","setValueInDateComponent","_calendarPortal","_createPopup","hasAttached","_ngZone","onStable","updatePosition","overlayConfig","OverlayConfig","_createPopupPositionStrategy","direction","_overlay","overlayElement","merge","backdropClick","detachments","keydownEvents","ESCAPE","altKey","UP_ARROW","withViewportMargin","_dialogRef","_dialog","isAttached","(keyup.esc)","(blur)","KeyValueDiffers","_validatorChange","notForChangesProperty","DEFAULT_OUTPUTS_O_DATERANGE_INPUT","DEFAULT_INPUTS_O_DATERANGE_INPUT","ODateRangeInputComponent","_oMinDate","_oMaxDate","_localeOptions","openPicker","pickerDirective","objectValue","Event","getDateRangeToString","isObjectDataRangeNull","startKey","endKey","ensureDateRangeValue","valueToString","rangeDateValidator","minDateValidator","maxDateValidator","parseDateValidator","isSameOrBefore","dateRange","mindate","dateRangeMin","dateMin","maxdate","dateRangeMax","dateMax","dateRangeParse","q","dateString","isMoment","unix","t","oTranslate","weekLabel","applyLabel","cancelLabel","weekdaysMin","monthNames","monthsShort","firstDayOfWeek","ODateRangeInputModule","EMAIL_REGEXP","TWELVE_HOUR_FORMAT_PATTERN","TWENTY_FOUR_HOUR_FORMAT_PATTERN","OValidators","twelveHourFormatValidator","regExp","invalidFormatHour","twentyFourHourFormatValidator","emailValidator","invalidEmailAddress","nifValidator","DNI_PATTERN","valueWithoutDashes","firstChar","number","pos","invalidNIFLetter","invalidNIF","DEFAULT_INPUTS_O_EMAIL_INPUT","DEFAULT_OUTPUTS_O_EMAIL_INPUT","OEmailInputComponent","OEmailInputModule","OFileItem","uploader","uploadItem","cancel","cancelItem","removeFile","nextIndex","isReady","_file","size","lastModified","_onBeforeUpload","notify","isUploaded","isSuccess","isCancel","isError","progress","onBeforeUpload","_onProgress","onProgress","_onSuccess","onSuccess","_onError","_onCancel","onCancel","_onComplete","OFileUploader","addFile","fileItem","_getTotalProgress","getIndexOfItem","pendingUpload","splitUpload","uploadItems","_onBeforeUploadItem","_uploadSuscription","_onProgressItem","_onSuccessItem","_onErrorItem","_onCompleteItem","_onBeforeUploadAll","_onProgressAll","_onSuccessAll","_onErrorAll","_onCompleteAll","_onCancelAll","_onCancelItem","getNotUploadedItems","onBeforeUploadItem","onBeforeUploadAll","onProgressItem","onProgressAll","onCancelItem","onCancelAll","onSuccessItem","onSuccessAll","onErrorItem","onErrorAll","onCompleteItem","onCompleteAll","nextItem","_getReadyItems","item1","item2","notUploaded","uploaded","ratio","DEFAULT_INPUTS_O_FILE_INPUT","DEFAULT_OUTPUTS_O_FILE_INPUT","OFileInputComponent","onBeforeUploadFile","onProgressFile","onCancelFile","onUpload","onUploadFile","onCompleteFile","onErrorFile","fileService","filetypeValidator","maxFileSize","maxFileSizeValidator","maxFiles","maxFilesValidator","fileSelected","srcElement","f","onClickUpload","innerOnChange","regex_1","match","fileType","allowedFileTypes","fileSize","numFile","ɵ0$1","showInfo","OFileInputModule","DEFAULT_INPUTS_O_HOUR_INPUT","DEFAULT_OUTPUTS_O_HOUR_INPUT","OHourInputComponent","modifyPickerMethods","onKeyDown","onKeyboardInputDone","updateValeOnInputChange","picker","setTime","updateTime","setTimestampValue","momentV","utcOffset","_format","convertToOHourValueType","onTimepickerChange","getValueAsString","blurEvent","parseHour","currentTarget","period","strArray","valueTimestamp","convertToFormatString","formatStr","[class.o-hour-input]","NgxMaterialTimepickerModule","OHourInputModule","defaults","contentsCss","customConfig","CKEditorComponent","ckIns","_readonly","editable","setReadOnly","readonly","getRandomIdentifier","destroyCKEditor","initCKEditor","identifier","CKEDITOR","ck","opt","skin","fullPage","innerValue","on","getData","ngZone","ready","blur","propagateTouch","editorEl","removeAllListeners","instances","propagateChange","CKEditorModule","DEFAULT_INPUTS_O_HTML_INPUT","DEFAULT_OUTPUTS_O_HTML_INPUT","OHTMLInputComponent","tabGroupContainer","selectedTabChange","isInActiveTab","ckEditor","_subscriptAnimationState","tabContainer","_tabs","tab","selectedIndex","getCKEditor","animations","opacity","transition","animate","MatTabGroup","MatTab","OHTMLInputModule","DEFAULT_INPUTS_O_LIST_PICKER_DIALOG","OListPickerDialogComponent","searchVal","searchInput","_startIndex","visibleData","startIndex","recordsNumber","onClickListItem","trackByFn","onScroll","pendingScroll","scrollHeight","clientHeight","scrollThreshold","appendData","filtervalue","filtercolumns","visibleColsArray","onFilterList","transformData","isEmptyData","[class.o-list-picker-dialog]","menuColumns","DEFAULT_INPUTS_O_LIST_PICKER","DEFAULT_OUTPUTS_O_LIST_PICKER","OListPickerComponent","getDescriptionValue","descCol","onClickClear","blurTimer","blurPrevent","onClickListpicker","onDialogClose","visibleInputValue","onDialogAccept","onDialogCancel","blurDelay","onVisibleInputChange","onKeydownEnter","dialogDisableClose","getDialogDataArray","matDialog","itemIndex","visibleCol","newItem","_parsedVisibleColumnText","_parsedIndex","OListPickerModule","DEFAULT_INPUTS_O_NIF_INPUT","DEFAULT_OUTPUTS_O_NIF_INPUT","ONIFInputComponent","ONIFInputModule","DEFAULT_INPUTS_O_PASSWORD_INPUT","DEFAULT_OUTPUTS_O_PASSWORD_INPUT","OPasswordInputComponent","OPasswordInputModule","DEFAULT_INPUTS_O_PERCENT_INPUT","DEFAULT_OUTPUTS_O_PERCENT_INPUT","OPercentInputComponent","OPercentInputModule","DEFAULT_INPUTS_O_RADIO","DEFAULT_OUTPUTS_O_RADIO","ORadioComponent","onMatRadioGroupChange","currItem_1","[class.o-radio]","ORadioModule","OFormValue$1","DEFAULT_INPUTS_O_SLIDETOGGLE","DEFAULT_OUTPUTS_O_SLIDETOGGLE","OSlideToggleComponent","[class.o-slide-toggle]","OSlideToggleModule","DEFAULT_INPUTS_O_SLIDER_INPUT","DEFAULT_OUTPUTS_O_SLIDER_INPUT","OSliderComponent","_tickInterval","vertical","invert","thumbLabel","OSliderModule","DEFAULT_INPUTS_O_TEXTAREA_INPUT","DEFAULT_OUTPUTS_O_TEXTAREA_INPUT","OTextareaInputComponent","isResizable","resizable","rows","OTextareaInputModule","DEFAULT_INPUTS_O_TIME_INPUT","DEFAULT_OUTPUTS_O_TIME_INPUT","OTimeInputComponent","dateAttr","hourAttr","hourInput","updateComponentValue","modifyFormControls","registerFormControls","setInnerComponentsData","changed","blockGroupValueChanges","hourValue","getRawValue","mDate","mHour","timeValue","[class.o-time-input]","oDateFormat","oDateStartView","oDateTextInputEnabled","oHourFormat","oHourTextInputEnabled","oHourPlaceholder","oDatePlaceholder","OTimeInputModule","REG_LANGUAGE","LocaleCode","getLanguageCode","getCountryCode","DEFAULT_INPUTS_O_LANGUAGE_SELECTOR","DEFAULT_OUTPUTS_LANGUAGE_SELECTOR","OLanguageSelectorComponent","getFlagClass","flagName","getAvailableLangs","availableLangs","getCurrentCountry","[class.o-language-selector]","useFlagIcons","applicationLocales","OLanguageSelectorModule","DEFAULT_INPUTS_O_LIST","DEFAULT_OUTPUTS_O_LIST","OListComponent","enabledDeleteButton","setListItemDirectivesData","listItemDirectives","initialQueryLength","registerListItemDirective","directiveItem","onItemDetailDoubleClick","getDense","odense","onListItemClicked","selectedIndexes","updateSelectedState","pendingRegistries","clearSelectedItems","onItemDeleted","onInsertButtonClick","sortColumnsParam","registerItem","listItemComponents","selectedIndexes_1","selectedIndexes_1_1","selIndex","select","[class.o-list]","deleteButton","insertButtonFloatable","insertButtonPosition","OListItemComponent","avatar","listItemNativeEl","_renderer","matLinesRef","_lines","ngAfterContentInitOriginal","_innerListItem","emptyDiv","onDetailIconClicked","onEditIconClicked","MatLine","MatListAvatarCssMatStyler","_injector","_isSelected","DEFAULT_INPUTS_O_TEXT_RENDERER","DEFAULT_OUTPUTS_O_TEXT_RENDERER","OListItemTextRenderer","modifyMatListItemElement","listItem","linesNo","nodeName","primaryText","secondaryText","onActionIconClick","onIconClick","_primaryText","_secondaryText","_listItem","DEFAULT_INPUTS_O_LIST_ITEM_AVATAR","DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR","OListItemAvatarComponent","avatarValue","avatarType","emptyAvatar","avatarSrc","sanitizer","_avatarSrc","[class.o-custom-list-item]","[class.o-list-item-avatar]","DEFAULT_INPUTS_O_CARD_RENDERER","DEFAULT_OUTPUTS_O_CARD_RENDERER","OListItemCardRenderer","matListItem","onAction1ButtonClick","onAction1Click","onAction2ButtonClick","onAction2Click","compareListHeight","rowHeight","_subtitle","_image","_showImage","_action1Text","_action2Text","DEFAULT_INPUTS_O_LIST_ITEM_CARD_IMAGE","DEFAULT_OUTPUTS_O_LIST_ITEM_CARD_IMAGE","OListItemCardImageComponent","_content","_avatar","_collapsible","_collapsed","[class.o-list-item-card-image]","DEFAULT_INPUTS_O_LIST_ITEM_CARD","DEFAULT_OUTPUTS_O_LIST_ITEM_CARD","OListItemCardComponent","[class.o-list-item-card]","DEFAULT_INPUTS_O_LIST_ITEM_TEXT","DEFAULT_OUTPUTS_O_LIST_ITEM_TEXT","OListItemTextComponent","_iconPosition","MatCheckbox","OListModule","ColumnValueFilterOperator","OColumn","_editing","editor","autoCommit","setDefaultProperties","orderable","searching","multiline","setColumnProperties","functionOperation","calculate","tooltipValue","function","tooltipFunction","filterExpressionFunction","_searchable","_multiline","multilineSubject","hasTooltip","getTooltip","rowData","getMinWidth","getMinWidthValue","getMaxWidthValue","getRenderWidth","horizontalScrolled","minValue","DOMWidth","maxValue","defaultWidth","_width","widthVal","pxVal","getWidthToStore","setWidth","getTitleAlignClass","titleAlign","getFilterValue","cellValue","rowValue","getFilter","useCustomFilterFunction","filterFunction","useQuickfilterFunction","isMultiline","DefaultOTableOptions","_visibleColumns","oCol","_selectColumn","selectColumn","OTableFilterByColumnDataDialogComponent","initializeFilterEvent","_listData","initializeDataList","preloadValues","operator","IN","listDataSubject","columnData","fromEvent","renderedValue","initializeCustomFilterValues","EQUAL","isTextType","fcText","BETWEEN","isDateType","fcFrom","fcTo","MORE_EQUAL","LESS_EQUAL","filterValueList","selectedOptions","areAllSelected","selectedValues","isIndeterminate","selectAll","deselectAll","getDistinctValues","colRenderedValues","getColumnDataUsingRenderer","colValues","tableIndex","getColumnValuesFilter","fromValue","toValue","isCustomFilterSubject","getTypedValue","onSlideChange","isNumericType","getRowValue","tableData","getFixedDimensionClass","useRenderer","getCellData","[class.o-filter-by-column-dialog]","isCustomFilter","isDefaultFilterSubject","isDefaultFilter","previousFilter","OBaseTablePaginator","_pageSize","_pageIndex","isShowingAllRows","selectedLength","showFirstLastButtons","DEFAULT_INPUTS_O_TABLE_OPTION","DEFAULT_OUTPUTS_O_TABLE_OPTION","OTableOptionComponent","innerOnClick","setActive","active","showActiveOptionIcon","showActiveIcon","O_TABLE_OPTION_ACTIVE_CLASS","[class.o-table-option]","OTableScrollEvent","DataSource","DefaultOTableDataSource","dataTotalsChange","_loadDataScrollableChange","page","_quickFilterChange","sortFunction","_sort","_renderedData","onRenderedDataChange","connect","displayDataChanges","_database","dataChange","table","oSortChange","_tableOptions","_paginator","oTableColumnsFilterComponent","_columnValueFilterChange","renderedData","existsAnyCalculatedColumn","getColumnCalculatedData","getColumnValueFilterData","getQuickFilterData","getSortedData","resultsLength","getPaginationData","pageScrollVirtual","aggregateData","getAggregatesData","totalValue","aggregate","calculateAggregate","calculatedCols","oColumn","transformFormula","formulaArg","formula","resultFormula","passCustomFilter","fulfillsCustomFilterFunctions","passSearchString","fulfillsQuickfilter","oTableOptions","searchStr","getTableData","getCurrentData","getCurrentAllData","getAllData","getCurrentRendererData","getRenderedData","getAllRendererData","usingRendererers","onlyVisibleColumns","tableColumns","getRenderersData","getColumnData","ocolumn","initializeColumnsFilters","columnValueFilters","isColumnValueFilterActive","getColumnValueFilters","getColumnValueFilterByAttr","clearColumnFilters","addColumnFilter","filterColumn","colValues_1","normalizedValue_1","colValue","getAggregateData","resultAggregate","avg","sum","acumulator","tempMin","updateRenderedRowData","tableKeys","daoTable","paginator","matpaginator","OTableDataSourceService","getInstance","OTableStorage","oTableQuickFilterComponent","getTablePropertiesToStore","storedFiltersArr","getStoredFilters","USER_STORED_FILTERS_KEY","storedConfigurationsArr","getStoredConfigurations","STORED_CONFIGURATIONS_KEY","getTablePropertyToStore","getSortState","getColumnsDisplayState","getColumnsQuickFilterState","getColumnFiltersState","getPageState","getSelectionState","getInitialConfigurationState","sortColumns_1","sortColumnsArray","getSortColumns","sortData","dataSource","oColumnsData","tableOptions","oColumns","query-rows","selection_1","keepSelectedItems","initialConfiguration","getOColumn","originalWidth","setStoredFilters","getStoredFilter","filterName","getStoredFilterConf","STORED_FILTER_KEY","deleteStoredFilter","storedFilters","storeFilter","filterArgs","storedFilter","existingFilters","getStoredColumnsFilters","getStoredConfiguration","configurationName","storeConfiguration","configurationAgs","tableProperties","storedConfiguration","STORED_CONFIGURATION_KEY","STORED_PROPERTIES_KEY","existingConfigurations","deleteStoredConfiguration","storedConfigurations","OTableDao","sqlTypesChange","getQuery","isLoadingResults","methods","removeQuery","insertQuery","usingStaticData","of","updateQuery","setAsynchronousColumn","_isLoadingResults","cleanTimer","loadingTimer","MatSort","OMatSort","setMultipleSort","multipleSort","activeData","activeArray","directionById","setTableInfo","colData","sortDirection","disableClear","addSortColumn","sortable","isActive","getNextSortDirection","deleteSortColumn","_stateChanges","hasDirection","sortables","deregister","sortByColumns","sortFunctionBind","sortC","activeSortColumn","activeSortDirection","groupedData","getDataGrouped","sortGroupedData","propArr","filtered","resItem","sorted","propertyA","propertyB","MatSortHeader","OMatSortHeader","_handleClick","viewState","_isDisabled","_viewState","toState","_disableViewStateAnimation","_isSorted","fromState","_arrowDirection","_setAnimationTransitionState","_showIndicatorHint","_updateArrowDirection","refresh","_intl","(mouseenter)","(longpress)","(mouseleave)","[attr.aria-sort]","[class.mat-sort-header-disabled]","matSortAnimations","indicator","leftPointer","rightPointer","arrowOpacity","arrowPosition","allowChildren","MatSortHeaderIntl","CdkColumnDef","_cdkColumnDef","DEFAULT_INPUTS_O_TABLE","DEFAULT_OUTPUTS_O_TABLE","OTableComponent","DEFAULT_BASE_SIZE_SPINNER","spinnerContainer","_oTableOptions","filterCaseSensitivePvt","_selectAllCheckboxVisible","initializeCheckboxColumn","_visibleColArray","permissionsBlocked","permissionsChecked","updateScrolledState","horizontalScroll","bodyWidth","tableBodyEl","clientWidth","scrollWidth","previousState","onUpdateScrolledState","refreshColumnsWidth","initTableAfterViewInit","oTableMenu","matMenu","registerOptions","oTableButtons","registerButtons","tableButtons","getSuffixColumnInsertable","getOColumnPermissions","getActionPermissions","checkEnabledActionPermission","registerTabListener","initializeParams","initializeDao","oTableStorage","onReinitialize","parseVisibleColumns","setDatasource","registerDataSourceListeners","registerSortListener","setFiltersConfiguration","addDefaultRowButtons","tabGroupChangeSubscription","selectionChangeSubscription","sortSubscription","contextMenuSubscription","asyncLoadSubscriptions","registerPagination","registerContextMenu","tableContextMenu","selectedRow","registerDefaultColumn","createOColumn","pushOColumnDefinition","registerColumn","columnWidth","storedData_1","columnAttr","columnDef","storedCols","asyncLoad","avoidQueryColumns","asyncLoadColumns","alreadyExisting","replacingIndex","refreshEditionModeWarn","editionMode","registerColumnAggregate","showTotalsSubject","stateCols_1","checkChangesVisibleColummnsInInitialConfiguration","stateCols","originalVisibleColArray","colToAddInVisibleCol_1","colToDeleteInVisibleCol_1","colAdd","initialConfigSortColumnsArray","colToDelInVisibleCol","originalSortColumnsArray","colToAddInVisibleCol","colDel","columnsOrder_1","showPaginatorFirstLastButtons","selectAllCheckboxVisible","interval","setInterval","clearInterval","insideTabBugWorkaround","pendingQuery","pendingQueryFilter","sortHeaders","sortH","onSortChange","sortArray","loadingSortingSubject","dataSourceService","destroyed","loadingSorting","loadingScroll","isInsideInactiveTab","beColFilter","parentItemExpr","getColumnFiltersExpression","columnFilters","beColumnFilters","colFilter","beIn_1","besIn","be","beFrom","beTo","showDialogError","errorOptional","projectContentChanged","loadingScrollSubject","previousRendererData","onContentChange","getColumnsWidthFromDOM","foundItem","getSqlTypesForFilter","allSqlTypes","onExportButtonClicked","onChangeColumnsVisibilityClicked","onMatTableContentChanged","onRowDeleted","showAndSelectAllCheckbox","isSelectionModeMultiple","selectAllCheckbox","finishQuerySubscription","editingCell","handleClick","clickTimer","clickPrevent","doHandleClick","clickDelay","shiftKey","handleMultipleSelection","isSelectionModeNone","editionEnabled","clearSelectionAndEditing","indexTo","indexFrom","handleDoubleClick","editing","handleDOMClick","tableContainer","tableContent","overlayContainer","handleCellClick","activateColumnEdition","handleCellDoubleClick","editingRow","startEdition","updateCellData","saveChanges","updateRecordOnEdit","toUpdate","updateRecord","getAllValues","onShowsSelects","selectionData","added","onRowSelected","removed","onRowDeselected","updateSelectionColumnState","isAllSelected","numSelected","numRows","masterToggle","selectionCheckboxToggle","isSelectionModeSingle","getTrackByFunction","hasScrollableContainer","itemId","keysLenght","asyncAndVisible","queryRowAsyncData","columnQueryArgs","getAllRenderedValues","getRenderedValue","setOTableColumnsFilter","tableColumnsFilter","onFilterByColumnClicked","onStoreFilterClicked","onLoadFilterClicked","onClearFilterClicked","clearFilters","triggerDatasourceUpdate","columnFilterOption","showFilterByColumnIcon","isColumnFilterable","isModeColumnFilterable","isColumnFilterActive","openColumnFilterDialog","columnValueFilter","exportButton","showConfigurationOption","columnsVisibilityButton","showFilterOption","setOTableInsertableRow","tableInsertableRow","insertPerm","oTableInsertableRowComponent","showFirstInsertableRow","isFirstRow","showLastInsertableRow","initializeEditors","useDetailButton","onDetailButtonClick","getDetailButtonIcon","usePlainRender","useCellRenderer","useCellEditor","selectionMode","insertRecord","recordData","allSqlTypes_1","allSqlTypes_2","sqlTypesArg","isColumnSortActive","isColumnDescSortActive","hasTabGroupChangeSubscription","storedColumnFilters","oColData","onStoreConfigurationClicked","onApplyConfigurationClicked","applyDefaultConfiguration","applyConfiguration","conf_1","hasTitleAlign","autoAlignTitles","getCellAlignClass","contentAlign","onTableScroll","tableViewHeight","getDataScrollable","pageVirtualBefore","ceil","loadDataScrollable","addButtonInRow","tableHeaderEl","tableToolbarEl","isDetailMode","copyAll","copySelection","getOColumnFromTh","th","columnClass","getColumnInsertable","isRowSelected","thEl","FIRST_LAST_CELL_PADDING","[class.o-table]","[class.ontimize-table]","[class.o-table-fixed]","[class.o-table-disabled]","(document:click)","showButtonsText","insertButton","showTitle","autoAdjust","exportMode","setStaticData","onVisibleColumnsChange","showTotals","DEFAULT_INPUTS_O_TABLE_CELL_EDITOR","DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR","OBaseTableCellEditor","onDocumentKeyup","handleKeyup","registerEditor","editorCreated","tableColumnAttr","onEscClicked","commitEdition","registerInColumn","tableColumn","_rowData","isSilentControl","editionStarted","endEdition","updateObserver","onUpdateSuccess","editionCommitted","_tableColumn","_table","cellData","inputRef","setSelectionRange","hasErrorExclusive","errorsOrder","editionCancelled","controlArgs","silent","getPlaceholder","showPlaceHolder","onPostUpdateRecord","showNotificationOnEdit","OTableColumnComponent","DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN","DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN","OTableCellEditorBooleanComponent","isTrue","indeterminate","indeterminateOnNull","hasCellDataTrueValue","[class.o-table-cell-editor-boolean]","DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE","DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE","OTableCellEditorDateComponent","dateValueType","toDate","getValueByValyType","onDateChange","openDatepicker","_dateValueType","onClosed","DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER","DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER","OTableCellEditorIntegerComponent","DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL","DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL","OTableCellEditorRealComponent","floatValue","DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT","DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT","OTableCellEditorTextComponent","DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME","DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME","OTableCellEditorTimeComponent","onDocumentKeydown","createInternalFormControl","_oDateLocale","oDateLocale","formControlDate","formControlHour","ngAfterViewChecked","onHourChange","getPlaceholderHour","getPlaceholderDate","enabledCommitOnTabPress","hasErrorDate","hasErrorHour","getCellDataDate","getCellDataHour","cellDataDate","cellDataHour","onDatepickerClosed","onTimepickerClosed","O_TABLE_CELL_EDITORS","O_TABLE_CELL_EDITORS_INPUTS","O_TABLE_CELL_EDITORS_OUTPUTS","editorsMapping","boolean","integer","real","percentage","currency","DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER","OBaseTableCellRenderer","registerRenderer","cellvalue","rowvalue","_filterSource","filterSource","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION","DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION","OTableCellRendererActionComponent","isIconPositionLeft","isIconPositionRight","isSvgIconPositionRight","svgIcon","isSvgIconPositionLeft","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN","OTableCellRendererBooleanComponent","renderType","_booleanType","_renderType","_renderTrueValue","_renderFalseValue","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER","OTableCellRendererIntegerComponent","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL","OTableCellRendererRealComponent","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY","OTableCellRendererCurrencyComponent","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE","OTableCellRendererDateComponent","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE","OTableCellRendererImageComponent","getSource","_source","imageType","emptyImage","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE","OTableCellRendererPercentageComponent","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE","OTableCellRendererServiceComponent","editorSuscription","cellValues","tableColAlias","responseMap","getFilterExpression","cacheValue","responseValue","translateArgsFn","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME","OTableCellRendererTimeComponent","DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE","OTableCellRendererTranslateComponent","O_TABLE_CELL_RENDERERS","O_TABLE_CELL_RENDERERS_INPUTS","O_TABLE_CELL_RENDERERS_OUTPUTS","renderersMapping","DEFAULT_INPUTS_O_TABLE_COLUMN","DEFAULT_OUTPUTS_O_TABLE_COLUMN","addEditor","editorClassReference","parseTitleAlign","createRenderer","createEditor","newRenderer","renderTrueValue","renderFalseValue","buildCellEditor","propsOrigin","filterDate","oDateStartAt","oHourMin","oHourMax","newEditor","_orderable","_resizable","DEFAULT_INPUTS_O_TABLE_COLUMN_CALCULATED","OTableColumnCalculatedComponent","DEFAULT_TABLE_CONTEXT_MENU_INPUTS","OTableContextMenuComponent","isVisibleInsert","isVisibleEdit","isVisibleDetail","isVisibleCopy","isVisibleSelectAll","isVisibleRefresh","isVisibleDelete","isVisibleFilter","itemsParsed","defaultContextMenu","showSelectAll","registerContextMenuListeners","initProperties","gotoDetails","edit","unSelectAll","copyCell","cell_data","innerText","copyRow","filterByValue","columValueFilter","filterByColumn","checkVisibleFilter","showFilter","cellName","OTableApplyConfigurationDialogComponent","configurationList","loadConfigurations","configurations","removeConfiguration","isDefaultConfigurationSelected","default_configuration","getSelectedConfigurationName","MatSelectionList","OTableExportButtonService","export$","OTableExportDialogComponent","oTableExportButtonService","export","exportService","exportType","button","columnNames","proccessExportData","handleError","yes_1","no_1","isButtonVisible","btn","visibleButtons","HttpErrorResponse","OTableExportConfiguration","OTableLoadFilterDialogComponent","filterList","loadFilters","getSelectedFilterName","removeFilter","OTableBaseDialogClass","setFormControl","formControlHasErrors","OTableStoreConfigurationDialogComponent","propertiesList","getConfigurationAttributes","getSelectedTableProperties","OTableStoreFilterDialogComponent","loadFilterNames","filterNames","getFilterAttributes","filterNameValidator","filterNameAlreadyExists","OTableVisibleColumnsDialogComponent","getVisibleColumns","getColumnsOrder","onClickColumn","drop","moveItemInArray","previousIndex","[class.o-table-visible-columns-dialog]","columnsData","showInList","O_TABLE_DIALOGS","DEFAULT_INPUTS_O_TABLE_EXPORT_BUTTON","DEFAULT_OUTPUTS_O_TABLE_EXPORT_BUTTON","OTableExportButtonComponent","DEFAULT_TABLE_COLUMN_AGGREGATE","OTableColumnAggregateComponent","_aggregateFunction","ocolumnaggregate","functionAggregate","DEFAULT_AGGREGATE","OTableExpandedFooterDirective","childNodes","tableBody","tableHeader","registerContentChange","registerVisibleColumnsChange","tr","tdTableWithMessage","onContentChangeSubscription","updateMessageNotResults","onVisibleColumnsChangeSubscription","updateColspanTd","spanMessageNotResults","messageNotResults","createText","DEFAULT_PAGINATOR_TABLE","OTablePaginatorComponent","O_TABLE_FOOTER_COMPONENTS","MatPaginatorIntl","OTableMatPaginatorIntl","getORangeLabel","endIndex","itemsPerPageLabel","nextPageLabel","previousPageLabel","firstPageLabel","lastPageLabel","getRangeLabel","onLanguageChangeSubscribe","DEFAULT_INPUTS_O_TABLE_BUTTON","DEFAULT_OUTPUTS_O_TABLE_BUTTON","OTableButtonComponent","[class.o-table-button]","DEFAULT_INPUTS_O_TABLE_BUTTONS","DEFAULT_OUTPUTS_O_TABLE_BUTTONS","OTableButtonsComponent","getPermissionByAttr","refreshPerm","deletePerm","enabledInsertButton","enabledRefreshButton","fixedButtons","userItems","oTableButton","setPermissionsToOTableButton","buttonEL","[class.o-table-buttons]","DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER","DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER","OTableColumnResizerComponent","isDisabled","headerEl","getHeaderEL","nextOColumns","getFollowingOColumns","stopDragging","onMousedown","startResize","onMouseup","isResizing","columnsStartWidth","dragListeners","fct","startEvent","startX","screenX","initializeWidthData","runOutsideAngular","listen","MouseEvent","resizeEvent","movementX","newColumnWidth","lessThanMin","moreThanMax","calculateNewColumnsWidth","updateBlockedCols","currentEl","nextTh","nextSibling","blockedMinCols","blockedMaxCols","maxW","calculateUsingNextColumnsRestrictions","calculateUsingOwnColumnRestriction","widthRatio","availableCols","newWidth","abs","widthDifference","diff","newWidthValue","notBlocked","nextColMinWidthAcum","nextColWidthAcum","calcMaxWidth","[class.o-table-column-resizer]","[class.disabled]","DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER","DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER","OTableColumnsFilterComponent","OTableColumnsFilterModes","columnsArray","compType","DEFAULT_COMPARISON_TYPE","MODEL_COMPARISON_TYPE","columnsComparisonProperty","getColumnComparisonValue","_columns","_columnsArray","DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW","DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW","OTableInsertableRowComponent","requiredColumnsArray","requiredColumns","AVAILABLE_ROW_POSITIONS","DEFAULT_ROW_POSITION","isColumnInsertable","isColumnRequired","disabledCol","columnEditorType","columnEditors","markAsUntouched","cellEditor","handleKeyboardEvent","trWrapper","insertObservable","validateFields","onInsertSuccess","controlKey","includeParentKeys","onPostInsertRecord","cleanFields","firstInputEl","columnHasError","DEFAULT_INPUTS_O_TABLE_MENU","DEFAULT_OUTPUTS_O_TABLE_MENU","OTableMenuComponent","selectAllCheckboxOption","enabledSelectAllCheckbox","disableOTableOptionComponent","exportButtonOption","enabledExportButton","columnsVisibilityButtonOption","enabledColumnsVisibilityButton","filterMenuButton","enabledFilterMenu","disableButton","configurationMenuButton","enabledConfigurationMenu","fixedOptions","oTableOption","setPermissionsToOTableOption","exportCnfg","colsNotIncluded","tableColumnNames","oc","visibleExportDialogButtons","exportOptsTemplate","selectedFilterName","configurationData","selectedConfigurationName","[class.o-table-menu]","DEFAULT_INPUTS_O_TABLE_QUICKFILTER","DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER","OTableQuickfilterComponent","xPosition","initializeEventFilter","quickFilterObservable","expressions_1","getUserFilter","isFilterableColumn","userFilter","quickFilterCallback","filterVal","[class.o-table-quickfilter]","O_TABLE_HEADER_COMPONENTS","OTableRowClassPipe","rowClassFn","OTableRowDirective","registerResize","resizeSubscription","scrolled","calculateRowWidth","setRowWidth","alreadyScrolled","rowWidth","totalWidth","widthValue","MAT_SORT_HEADER_INTL_PROVIDER","OMatSortModule","CdkTableModule","DragDropModule","ObserversModule","OTableModule","ORemoteConfigurationService","finalize","getUserConfiguration","hasSession","_url","appId","_uuid","storeUserConfiguration","storeSubscription","timerSubscription","_timeout","storedConf","DEFAULT_COLUMN_USER","DEFAULT_COLUMN_APPID","DEFAULT_COLUMN_CONFIG","DEFAULT_STORAGE_TIMEOUT","timeout","LoginService","configureOntimizeAuthService","ontService","servConf","retrieveAuthService","login","onLoginSuccess","remoteConfigService","pendingArray","onLoginError","onLogin","logout","onLogout","onLogoutSuccess","onLogoutError","logoutAndRedirect","logoutWithConfirmationAndRedirect","OUserInfoService","setUserInfo","storedInfo","subject","getUserInfo","getUserInfoObservable","DEFAULT_INPUTS_O_USER_INFO","DEFAULT_OUTPUTS_O_USER_INFO","OUserInfoComponent","userInfoSubscription","onLogoutClick","loginService","onSettingsClick","userInfo","username","[class.o-user-info]","oUserInfoService","OUserInfoModule","OModulesInfoService","setModuleInfo","getModuleInfo","getModuleChangeObservable","ev","translation","DEFAULT_INPUTS_O_APP_HEADER","DEFAULT_OUTPUTS_O_APP_HEADER","OAppHeaderComponent","modulesInfoSubscription","_headerTitle","[class.o-app-header]","showUserInfo","showLanguageSelector","onSidenavToggle","modulesInfoService","headerTitle","OAppHeaderModule","DEFAULT_INPUTS_O_APP_SIDENAV","DEFAULT_OUTPUTS_O_APP_SIDENAV","OAppSidenavComponent","onResize","manuallyClosed","isScreenSmall","isMobileMode","sidenav","routerSubscription","showToggleButton","refreshMenuRoots","_layoutMode","_sidenavMode","firstRoot","menuGroupUserInfo","_showToggleButton","menuRootArray","userInfoItem","isDesktopMode","isSidenavOpened","_menuRootArray","toggleSidenav","promise","afterSidenavToggle","_showUserInfo","onMenuItemClick","sidenavClosedStart","onSidenavClosedStart","sidenavOpenedStart","onSidenavOpenedStart","sidenavOpenedChange","onSidenavOpenedChange","[class.o-app-sidenav]","MatSidenav","mediaWatch","DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE","DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE","OAppSidenavImageComponent","sidenavOpenSubs","updateImage","sidenavCloseSubs","setOpenedImg","setClosedImg","_src","openedSrc","closedSrc","[class.o-app-sidenav-image]","DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP","DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP","OAppSidenavMenuGroupComponent","menuGroup","sidenavSubscription","updateContentExpansion","hidden","isOpened","contentExpansion","_contentExpansion","onItemClick","getClass","[class]","sidenavOpened","DEFAULT_INPUTS_O_APP_LAYOUT","DEFAULT_OUTPUTS_O_APP_LAYOUT","OAppLayoutComponent","_showHeader","sidenavToggle","beforeOpenSidenav","beforeCloseSidenav","afterToggle","afterOpenSidenav","afterCloseSidenav","DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM","DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM","OAppSidenavMenuItemComponent","isUserInfoItem","setUserInfoImage","appSidenavToggleSubscription","imgEl","executeItemAction","actionItem","confirmText","localeItem","triggerClick","menuItemType","isRouteItem","isActionItem","isLocaleItem","isLogoutItem","isDefaultItem","oAppLayoutComponent","isActiveItem","OAppSidenavModule","OAppLayoutHeaderComponent","DEFAULT_INPUTS_O_APP_LAYOUT_SIDENAV","OAppLayoutSidenavComponent","OAppLayoutModule","DEFAULT_INPUTS_O_MENU_LAYOUT","DEFAULT_OUTPUTS_O_MENU_LAYOUT","OCardMenuLayoutComponent","setCardMenuItems","cardItemsAux","parentMenuId","getItemsFilteredByParentId","cardItems","cardItemsArray","groups","[class.o-menu-layout]","OCardMenuLayoutModule","DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP","DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP","OFormLayoutTabGroupComponent","tabsDirectivesSubscription","tabsDirectives","tabItem","tabData","rendered","createTabComponent","closeTabSubscription","disableAnimation","color","backgroundColor","templateMatTabLabel","compData","addNewComp","newCompParams","currParams","reloadTab","compIndex","compParams","tabGroup","onTabSelectChange","onCloseTabAccepted","closedTabData","idArg","cacheItem","formDataByLabelColumns","createTabsFromState","tabComponent","newDetailData","createDetailComponent","paramsObj","showLoading","[class.o-form-layout-tabgroup]","OFormLayoutManagerModule","PermissionsGuardService","oPermission","getPermissionsServiceProvider","ɵ0$2","OPermissionsModule","TranslateHttpLoader","OTranslateHttpLoader","getAssetsPath","getAssetsExtension","getLocalTranslation","dataObservable","getTranslation","translationOrigins","getRemoteBundle","staticBundle","remoteBundle","allBundles","bundleEndpoint","parseBundleResponse","log","BUNDLE_KEY","BUNDLE_VALUE","TranslateDefaultParser","OTranslateParser","interpolate","templateMatcher","argValue","AppConfigFactory","appConfigFactory","appInitializerFactory","observableArray","LOCATION_INITIALIZED","storedLang","configLang","userLang","locales","ONTIMIZE_PROVIDERS","MAT_RIPPLE_GLOBAL_OPTIONS","useValue","INTERNAL_ONTIMIZE_MODULES_EXPORTED","HttpClientModule","OHttpLoaderFactory","http","i18nPath","i18nExtension","i18nConf","extension","OTranslateParserFactory","INTERNAL_ONTIMIZE_MODULES","TranslateModule","loader","TranslateLoader","parser","TranslateParser","APP_INITIALIZER","OntimizeWebTranslateModule","ONTIMIZE_MODULES","BrowserModule","BrowserAnimationsModule","OntimizeWebModule","AuthGuardService","canActivate","setUserInformation","isPresent","copyDecorators","newComp","ngModuleRef","getElementById","newCompAnnotations","parentTarget","getPrototypeOf","parentAnnotations","parentAnnotation","parentDecorators","decoratorsObj","getDecorators","defineMetadata"],"mappings":"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c,KAAKub,UAAYvb,KAAKgc,SAASvD,IAAIwD,EAAAA,W,OCdrC,SAAYpa,GACV7B,KAAK6B,MAAQA,G,ICgRDqa,GAAAC,gBAAd,SAA8BC,GAC5B,IAAIva,EAEJ,OADAua,EAAOA,EAAOA,EAAKtS,cAAgB,IAEjC,IAAK,MACHjI,EAAQqa,GAASG,IACjB,MACF,IAAK,UACHxa,EAAQqa,GAASI,QACjB,MACF,IAAK,WACHza,EAAQqa,GAASK,SACjB,MACF,IAAK,UACH1a,EAAQqa,GAASM,QACjB,MACF,IAAK,SACH3a,EAAQqa,GAASO,OACjB,MACF,IAAK,QACH5a,EAAQqa,GAASQ,MACjB,MACF,IAAK,OACH7a,EAAQqa,GAASS,KACjB,MACF,IAAK,SACH9a,EAAQqa,GAASU,OACjB,MACF,IAAK,UACH/a,EAAQqa,GAASW,QACjB,MACF,IAAK,UACHhb,EAAQqa,GAASY,QACjB,MACF,IAAK,OACHjb,EAAQqa,GAASa,KACjB,MACF,IAAK,UACHlb,EAAQqa,GAASc,QACjB,MACF,IAAK,cACHnb,EAAQqa,GAASe,YACjB,MACF,IAAK,OACHpb,EAAQqa,GAASgB,KACjB,MACF,IAAK,OACHrb,EAAQqa,GAASiB,KACjB,MACF,IAAK,YACHtb,EAAQqa,GAASkB,UACjB,MACF,IAAK,SACHvb,EAAQqa,GAASmB,OACjB,MACF,IAAK,YACHxb,EAAQqa,GAASoB,UACjB,MACF,IAAK,gBACHzb,EAAQqa,GAASqB,cACjB,MACF,IAAK,OACH1b,EAAQqa,GAASsB,KACjB,MACF,IAAK,QACH3b,EAAQqa,GAASuB,MACjB,MACF,IAAK,cACH5b,EAAQqa,GAASwB,YACjB,MACF,IAAK,WACH7b,EAAQqa,GAASyB,SACjB,MACF,IAAK,SACH9b,EAAQqa,GAAS0B,OACjB,MACF,IAAK,QACH/b,EAAQqa,GAAS2B,MACjB,MACF,IAAK,OACHhc,EAAQqa,GAAS4B,KACjB,MACF,IAAK,OACHjc,EAAQqa,GAAS6B,KACjB,MACF,IAAK,MACHlc,EAAQqa,GAAS8B,IACjB,MACF,IAAK,WACHnc,E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"}