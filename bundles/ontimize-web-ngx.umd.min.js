!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/router"),require("@angular/material"),require("@angular/common/http"),require("rxjs/operators"),require("@angular/forms"),require("moment"),require("@ngx-translate/core"),require("@angular/common"),require("@angular/platform-browser"),require("@angular/cdk/overlay"),require("@angular/material-moment-adapter"),require("@angular/flex-layout"),require("@angular/cdk/portal"),require("@angular/cdk/collections"),require("@angular/cdk/keycodes"),require("ngx-material-timepicker"),require("@angular/animations"),require("@angular/cdk/table"),require("@angular/cdk/drag-drop"),require("@angular/cdk/observers"),require("@ngx-translate/http-loader"),require("@angular/platform-browser/animations"),require("reflect-metadata")):"function"==typeof define&&define.amd?define("ontimize-web-ngx",["exports","@angular/core","rxjs","@angular/router","@angular/material","@angular/common/http","rxjs/operators","@angular/forms","moment","@ngx-translate/core","@angular/common","@angular/platform-browser","@angular/cdk/overlay","@angular/material-moment-adapter","@angular/flex-layout","@angular/cdk/portal","@angular/cdk/collections","@angular/cdk/keycodes","ngx-material-timepicker","@angular/animations","@angular/cdk/table","@angular/cdk/drag-drop","@angular/cdk/observers","@ngx-translate/http-loader","@angular/platform-browser/animations","reflect-metadata"],e):e(t["ontimize-web-ngx"]={},t.ng.core,t.rxjs,t.ng.router,t.ng.material,t.ng.common.http,t.rxjs.operators,t.ng.forms,t.moment,t["@ngx-translate/core"],t.ng.common,t.ng.platformBrowser,t.ng.cdk.overlay,t.ng["material-moment-adapter"],t.ng["flex-layout"],t.ng.cdk.portal,t.ng.cdk.collections,t.ng.cdk.keycodes,t["ngx-material-timepicker"],t.ng.animations,t.ng.cdk.table,t.ng.cdk["drag-drop"],t.ng.cdk.observers,t["@ngx-translate/http-loader"],t.ng.platformBrowser.animations)}(this,function(O,c,u,p,d,s,l,i,t,e,n,o,r,a,h,m,f,g,y,b,v,E,C,T,I){"use strict";var S="default"in t?t["default"]:t,A=function(t,e){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function _(t,e){function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function D(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(r<3?i(a):3<r?i(e,n,a):i(e,n))||a);return 3<r&&a&&Object.defineProperty(e,n,a),a}function L(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function R(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}function x(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,i,r=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(i)throw i.error}}return a}function w(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(x(arguments[e]));return t}var M=(N.decode=function(t){var e,n,o=0,i=t.length,r=[];if(t=String(t),0===i)return t;for(t.charAt(i-1)===this.PADCHAR&&(o=1,t.charAt(i-2)===this.PADCHAR&&(o=2),i-=4),e=0;e<i;e+=4)n=this.getByte64(t,e)<<18|this.getByte64(t,e+1)<<12|this.getByte64(t,e+2)<<6|this.getByte64(t,e+3),r.push(String.fromCharCode(n>>16,n>>8&255,255&n));switch(o){case 1:n=this.getByte64(t,e)<<18|this.getByte64(t,e+1)<<12|this.getByte64(t,e+2)<<6,r.push(String.fromCharCode(n>>16,n>>8&255));break;case 2:n=this.getByte64(t,e)<<18|this.getByte64(t,e+1)<<12,r.push(String.fromCharCode(n>>16))}return r.join("")},N.encode=function(t){var e,n,o=[],i=(t=String(t)).length-t.length%3;if(0===t.length)return t;for(e=0;e<i;e+=3)n=this.getByte(t,e)<<16|this.getByte(t,e+1)<<8|this.getByte(t,e+2),o.push(this.ALPHA.charAt(n>>18)),o.push(this.ALPHA.charAt(n>>12&63)),o.push(this.ALPHA.charAt(n>>6&63)),o.push(this.ALPHA.charAt(63&n));switch(t.length-i){case 1:n=this.getByte(t,e)<<16,o.push(this.ALPHA.charAt(n>>18)+this.ALPHA.charAt(n>>12&63)+this.PADCHAR+this.PADCHAR);break;case 2:n=this.getByte(t,e)<<16|this.getByte(t,e+1)<<8,o.push(this.ALPHA.charAt(n>>18)+this.ALPHA.charAt(n>>12&63)+this.ALPHA.charAt(n>>6&63)+this.PADCHAR)}return o.join("")},N.getByte=function(t,e){return t.charCodeAt(e)},N.getByte64=function(t,e){return this.ALPHA.indexOf(t.charAt(e))},N.PADCHAR="=",N.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N);function N(){}var P=(F.isDoubleClickMode=function(t){return-1!==F.DETAIL_MODE_DBLCLICK_VALUES.indexOf(t)},F.isValidRowHeight=function(t){return-1!==F.AVAILABLE_ROW_HEIGHTS_VALUES.indexOf(t)},F.getIsDetailObject=function(){var t={};return t[F.IS_DETAIL]="true",t},F.formatString=function(t){return t===F.TWENTY_FOUR_HOUR_FORMAT?F.HourFormat.TWENTY_FOUR:F.HourFormat.TWELVE},F.isHourInputAllowed=function(e){return!!([46,8,9,27,13].some(function(t){return t===e.keyCode})||":"===e.key||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||67===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||88===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||35<=e.keyCode&&e.keyCode<=40)||!((e.keyCode<48||57<e.keyCode)&&(e.keyCode<96||105<e.keyCode))},F.PAGINATED_QUERY_METHOD="advancedQuery",F.DELETE_METHOD="delete",F.INSERT_METHOD="insert",F.UPDATE_METHOD="update",F.QUERY_METHOD="query",F.DEFAULT_QUERY_ROWS=10,F.DETAIL_ICON="chevron_right",F.EDIT_ICON="mode_edit",F.DEFAULT_ROW_HEIGHT="medium",F.AVAILABLE_ROW_HEIGHTS_VALUES=["small","medium","large"],F.DETAIL_MODE_NONE="none",F.DETAIL_MODE_CLICK="click",F.DETAIL_MODE_DBLCLICK_VALUES=["dblclick","doubleclick"],F.EDITION_MODE_NONE="none",F.EDITION_MODE_CLICK="click",F.EDITION_MODE_DBLCLICK_VALUES=["dblclick","doubleclick"],F.SELECTION_MODE_NONE="none",F.SELECTION_MODE_SINGLE="single",F.SELECTION_MODE_MULTIPLE="multiple",F.EXPORT_MODE_VISIBLE="visible",F.EXPORT_MODE_LOCAL="local",F.EXPORT_MODE_ALL="all",F.HYPHEN_SEPARATOR="-",F.SPACE_SEPARATOR=" ",F.COLUMNS_ALIAS_SEPARATOR=":",F.ARRAY_INPUT_SEPARATOR=";",F.TYPE_SEPARATOR=":",F.VALUES_SEPARATOR="=",F.ASC_SORT="asc",F.DESC_SORT="desc",F.TYPE_INT="int",F.ROUTE_SEPARATOR="/",F.ROUTE_VARIABLE_CHAR=":",F.PARENT_KEYS_KEY="pk",F.QUERY_PARAMS="queryParams",F.IS_DETAIL="isdetail",F.LANGUAGE_KEY="lang",F.SESSION_KEY="session",F.SESSION_EXPIRED_KEY="session-expired",F.LOGIN_ROUTE="/login",F.FORBIDDEN_ROUTE="403",F.DEFAULT_EDIT_ROUTE="edit",F.DEFAULT_DETAIL_ROUTE=undefined,F.DEFAULT_INSERT_ROUTE="new",F.IGNORE_CAN_DEACTIVATE="ignore_can_deactivate",F.ONTIMIZE_SUCCESSFUL_CODE=0,F.ONTIMIZE_FAILED_CODE=1,F.ONTIMIZE_UNAUTHORIZED_CODE=3,F.ICON_POSITION_LEFT="left",F.ICON_POSITION_RIGHT="right",F.AVAILABLE_COLUMN_TITLE_ALIGNS=[F.COLUMN_TITLE_ALIGN_START="start",F.COLUMN_TITLE_ALIGN_CENTER="center",F.COLUMN_TITLE_ALIGN_END="end",F.COLUMN_TITLE_ALIGN_AUTO="auto"],F.O_MAT_ERROR_STANDARD="standard",F.O_MAT_ERROR_LITE="lite",F.O_INPUTS_OPTIONS_COLOR_ACCENT="accent",F.HourFormat={TWELVE:"hh:mm a",TWENTY_FOUR:"HH:mm a"},F.CLOSE_DETAIL_ACTION="CLOSE",F.BACK_ACTION="BACK",F.RELOAD_ACTION="RELOAD",F.GO_EDIT_ACTION="GO_EDIT",F.EDIT_ACTION="EDIT",F.INSERT_ACTION="INSERT",F.GO_INSERT_ACTION="GO_INSERT",F.DELETE_ACTION="DELETE",F.UNDO_LAST_CHANGE_ACTION="UNDO_LAST_CHANGE",F.DEFAULT_COLUMN_MIN_WIDTH=80,F.NAME_COLUMN_SELECT="select",F.NAME_COLUMN_EXPANDABLE="expandable",F.SUFFIX_COLUMN_INSERTABLE="_insertable",F.LIMIT_SCROLLVIRTUAL=50,F.TWENTY_FOUR_HOUR_FORMAT=24,F.TWELVE_FOUR_HOUR_FORMAT=12,F.OAppLayoutModes=["mobile","desktop"],F.OSidenavModes=["over","push","side"],F.OAppLayoutMode=["mobile","desktop"],F.OSidenavMode=["over","push","side"],F.APP_LAYOUT_MODE_DESKTOP="desktop",F.APP_LAYOUT_MODE_MOBILE="mobile",F);function F(){}var k=(B.isObject=function(t){return"object"==typeof t},B.isArray=function(t){return t instanceof Array},B.parseBoolean=function(t,e){return"string"==typeof t&&("TRUE"===t.toUpperCase()||"YES"===t.toUpperCase())||("string"!=typeof t||"FALSE"!==t.toUpperCase()&&"NO"!==t.toUpperCase())&&(!!B.isDefined(e)&&e)},B.parseArray=function(t,e){void 0===e&&(e=!1);var n=[];return t&&(n=t.split(P.ARRAY_INPUT_SEPARATOR)),n=e&&0<n.length?Array.from(new Set(n)):n},B.parseParentKeysEquivalences=function(t,r){void 0===r&&(r=":");var a={};return t&&0<t.length&&t.forEach(function(t){var e,n,o,i=t.split(r);i&&2===i.length?/.+\[.+\]/.test(i[1])?(e=i[1].substring(0,i[1].indexOf("[")),n=i[1].substring(i[1].indexOf("[")+1,i[1].indexOf("]")),(o={})[e]=n,a[i[0]]=o):a[i[0]]=i[1]:i&&1===i.length&&(a[t]=t)}),a},B.encodeParentKeys=function(t){var e="";return e=t?M.encode(JSON.stringify(t)):e},B.decodeParentKeys=function(t){var e={};return t&&0<t.length&&(t=M.decode(t),e=JSON.parse(t)),e},B.isArrayEmpty=function(t){return!(!t||0!==t.length)},B.isDataService=function(t){return t!==undefined&&null!==t&&(t.getDefaultServiceConfiguration!==undefined&&t.configureService!==undefined)},B.isPermissionsService=function(t){return t!==undefined&&null!==t&&t.loadPermissions!==undefined},B.isFormDataComponent=function(t){return t!==undefined&&null!==t&&t.isAutomaticBinding!==undefined},B.isEquivalent=function(t,e){var n=Object.getOwnPropertyNames(t),o=Object.getOwnPropertyNames(e);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++){var r,a=n[i],s=e[a];if("number"==typeof t[a]&&(r=parseInt(s,10),s=isNaN(r)?s:r),t[a]!==s)return!1}return!0},B.equals=function(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,o,i,r=typeof t;if(r==typeof e&&"object"==r){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(o in i=Object.create(null),t){if(!B.equals(t[o],e[o]))return!1;i[o]=!0}for(o in e)if(!(o in i)&&"undefined"!=typeof e[o])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)===e.length){for(o=0;o<n;o++)if(!B.equals(t[o],e[o]))return!1;return!0}}return!1},B.isDefined=function(t){return null!=t},B.normalizeString=function(t,e){if(void 0===e&&(e=!0),t&&t.length){t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return t=e?t.toLowerCase():t}return""},B.flatten=function(t){return[].concat.apply([],w(t))},B.getValuesFromObject=function(e){void 0===e&&(e={});var n=[];return Object.keys(e).forEach(function(t){"object"==typeof e[t]&&n.push(B.getValuesFromObject(e[t])),n.push(e[t])}),B.flatten(n)},B.parseIconPosition=function(t,e){var n=e||P.ICON_POSITION_LEFT,o=[P.ICON_POSITION_LEFT,P.ICON_POSITION_RIGHT];return t&&t.length&&(n=t.toLowerCase()),n=-1===o.indexOf(n)?e||P.ICON_POSITION_LEFT:n},B.copyToClipboard=function(e){document.addEventListener("copy",function(t){t.clipboardData.setData("text/plain",e),t.preventDefault(),document.removeEventListener("copy",null)}),document.execCommand("copy")},B.checkPixelsValueString=function(t){return"string"==typeof t&&t.toLowerCase().endsWith("px")},B.extractPixelsValue=function(t,e){var n="number"==typeof t?t:undefined;return B.checkPixelsValueString(t)&&(t=parseFloat(t.substr(0,t.length-"px".length)),n=isNaN(t)?e:t),B.isDefined(n)?n:e},B.parseOInputsOptions=function(t,e){e.iconColor===P.O_INPUTS_OPTIONS_COLOR_ACCENT&&(t=t.nativeElement.getElementsByTagName("mat-form-field")[0],B.isDefined(t)&&t.classList.add("accent"))},B.escapeSpecialCharacter=function(t){var e,n,t=String(t),o=Array.from(t[Symbol.iterator]()),i=[];try{for(var r=R(o),a=r.next();!a.done;a=r.next()){var s=a.value;-1!=="^$\\.*+?()[]{}|".indexOf(s)&&i.push("\\"),i.push(s)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=r["return"])&&n.call(r)}finally{if(e)throw e.error}}return i.join("")},B.differenceArrays=function(t,n){var o=this;return t.filter(function(e){return!n.some(function(t){return o.equals(e,t)})})},B.convertToODateValueType=function(t){var e="timestamp",t=(t||"").toLowerCase();return e="string"===t||"date"===t||"timestamp"===t||"iso-8601"===t?t:e},B);function B(){}var U={uuid:undefined,title:"Ontimize Web App"},V=new c.InjectionToken("o-inputs-options"),j=new c.InjectionToken("app.config"),G=(q.prototype.getConfiguration=function(){return Object.assign(U,this._config)},q.prototype.getServiceConfiguration=function(){return this._config.servicesConfiguration||{}},q.prototype.getMenuConfiguration=function(){return this._config.appMenuConfiguration||[]},q.prototype.useRemoteBundle=function(){return k.isDefined(this._config.bundle)},q.prototype.getBundleEndpoint=function(){var t,e=this.useRemoteBundle();return e&&k.isDefined(this._config.bundle.endpoint)?t=this._config.bundle.endpoint:e&&k.isDefined(this._config.bundle.path)&&(t=this._config.apiEndpoint+"/"+this._config.bundle.path),t},q.prototype.getI18nAssetsConfiguration=function(){return k.isDefined(this._config.assets)&&k.isDefined(this._config.assets.i18n)?this._config.assets.i18n:undefined},q.prototype.getCssAssetsConfiguration=function(){return k.isDefined(this._config.assets)&&k.isDefined(this._config.assets.css)?this._config.assets.css:undefined},q.prototype.getImagesAssetsConfiguration=function(){return k.isDefined(this._config.assets)&&k.isDefined(this._config.assets.images)?this._config.assets.images:undefined},q.prototype.getJsAssetsConfiguration=function(){return k.isDefined(this._config.assets)&&k.isDefined(this._config.assets.js)?this._config.assets.js:undefined},q.prototype.getRemoteConfigurationConfig=function(){return this._config.remoteConfig},q.prototype.useRemoteConfiguration=function(){return k.isDefined(this._config.remoteConfig)},q.prototype.getRemoteConfigurationEndpoint=function(){var t,e=this.useRemoteConfiguration();return e&&k.isDefined(this._config.remoteConfig.endpoint)?t=this._config.remoteConfig.endpoint:e&&k.isDefined(this._config.remoteConfig.path)&&(t=this._config.apiEndpoint+"/"+this._config.remoteConfig.path),t},q);function q(t){this._config=t&&k.isObject(t)&&!Array.isArray(t)?t:{}}function H(){}var Y=(z.subscribe=function(t,e,n,o){return n="function"==typeof n&&n||H,o="function"==typeof(o=void 0===o?function(){}:o)&&o||H,t.subscribe({next:e,error:n,complete:o})},z.isObservable=function(t){return!!t.subscribe},z.hasSubscribers=function(t){return 0<t.observers.length},z.dispose=function(t){t.unsubscribe()},z.callNext=function(t,e){t.emit(e)},z.callEmit=function(t,e){t.emit(e)},z.callError=function(t,e){t.error(e)},z.callComplete=function(t){t.complete()},z);function z(){}var K=(W.prototype.ngOnInit=function(){var e=this;this.subcription=this.actRoute.params.subscribe(function(t){return e.updateActiveState(t)})},W.prototype.ngOnDestroy=function(){this.subcription&&this.subcription.unsubscribe()},W.prototype.onMouseEnter=function(){this.selectable||this._list.detailMode===P.DETAIL_MODE_NONE||this.renderer.setStyle(this._el.nativeElement,"cursor","pointer")},W.prototype.updateActiveState=function(t){if(this._list){var e=this._list.getKeys();if(this.modelData){var n=!1;if(0<e.length)for(var o=0;o<e.length;++o){var i=e[o],r=t[i];if(!1===(n=this.modelData[i]===r))break}n?this._el.nativeElement.classList.add("mat-active"):this._el.nativeElement.classList.remove("mat-active")}else this._el.nativeElement.classList.remove("mat-active")}},W.prototype.onItemClicked=function(t){this.selectable||Y.callEmit(this.mdClick,this)},W.prototype.onClick=function(t){return Y.subscribe(this.mdClick,t)},W.prototype.onItemDoubleClicked=function(t){this.selectable||Y.callEmit(this.mdDoubleClick,this)},W.prototype.onDoubleClick=function(t){return Y.subscribe(this.mdDoubleClick,t)},W.prototype.isSelected=function(){return this._list.isItemSelected(this.modelData)},W.prototype.onSelect=function(){this._list.setSelected(this.modelData)},W.prototype.setListComponent=function(t){this._list=t},W.prototype.setItemData=function(t){this.modelData||(this.modelData=t)},W.prototype.getItemData=function(){return this.modelData},W.decorators=[{type:c.Directive,args:[{selector:"o-list-item, mat-list-item[o-list-item], mat-card[o-list-item]",exportAs:"olistitem",host:{"[class.o-list-item]":"true","(click)":"onItemClicked($event)","(dblclick)":"onItemDoubleClicked($event)"}}]}],W.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2},{type:p.ActivatedRoute}]},W.propDecorators={modelData:[{type:c.Input,args:["o-list-item"]}],selectable:[{type:c.Input}],onMouseEnter:[{type:c.HostListener,args:["mouseenter"]}]},W);function W(t,e,n){this._el=t,this.renderer=e,this.actRoute=n,this.mdClick=new c.EventEmitter,this.mdDoubleClick=new c.EventEmitter,this.selectable=!1}var Q=(X.prototype.keyDown=function(t){var e=t.keyCode;-1!==this.keyboardNumberKeysArray.indexOf(e)&&(this.activeKeys[e]=!0,this.checkNeededKeys(t))},X.prototype.keyUp=function(t){t=t.keyCode;-1!==this.keyboardNumberKeysArray.indexOf(t)&&(this.activeKeys[t]=!1)},X.prototype.ngOnInit=function(){this.parseKeyboardKeys()},X.prototype.parseKeyboardKeys=function(){var n=this;k.parseArray(this.keyboardKeys).forEach(function(t){try{n.keyboardNumberKeysArray.push(parseInt(t,10))}catch(e){console.error(e)}})},X.prototype.checkNeededKeys=function(t){var e=this,n=!0;this.keyboardNumberKeysArray.forEach(function(t){n=n&&e.activeKeys[t]}),n&&(t.preventDefault(),t.stopPropagation(),this.onKeysPressed.emit())},X.decorators=[{type:c.Directive,args:[{selector:"[oKeyboardListener]"}]}],X.propDecorators={keyboardKeys:[{type:c.Input}],onKeysPressed:[{type:c.Output}],keyDown:[{type:c.HostListener,args:["keydown",["$event"]]}],keyUp:[{type:c.HostListener,args:["keyup",["$event"]]}]},X);function X(){this.onKeysPressed=new c.EventEmitter,this.keyboardNumberKeysArray=[],this.activeKeys={}}function $(t){return null==t||"string"==typeof t?t:t.toString()}function Z(t){return null==t||"boolean"==typeof t?t:"true"===t.toString()||"yes"===t.toString()}function J(t){return null==t||"number"==typeof t?t:parseFloat(t.toString())}function tt(r){return function(t,e){var n=Reflect.getMetadata("design:type",t,e);if(null==n)throw new Error("The reflection metadata could not be found.");if(null==(r=function(t,e){if(null!=e)return e;switch(t.name){case"String":e=$;break;case"Boolean":e=Z;break;case"Number":e=J}return e}(n,r)))throw new Error('There is no converter for the given property type "'+n.name+'".');var o="string"==typeof e?e:e.toString(),i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(t,e,{get:null!=i?i.get:function(){return this["__"+o]},set:null!=i?function(t){i.set(r(t))}:function(t){this["__"+o]=r(t)},enumerable:!0,configurable:!0})}}var et=(nt.prototype.onOkClick=function(){this.dialogRef&&this.dialogRef.close(!0)},nt.prototype.alert=function(t,e,n){n=this.ensureConfig(n),this.configureDefaultAlert(t,e,n)},nt.prototype.info=function(t,e,n){(n=this.ensureConfig(n)).alertType="info","undefined"==typeof n.icon&&(n.icon="info"),this.configureDefaultAlert(t,e,n)},nt.prototype.warn=function(t,e,n){(n=this.ensureConfig(n)).alertType="warn","undefined"==typeof n.icon&&(n.icon="warning"),this.configureDefaultAlert(t,e,n)},nt.prototype.error=function(t,e,n){(n=this.ensureConfig(n)).alertType="error","undefined"==typeof n.icon&&(n.icon="error"),this.configureDefaultAlert(t,e,n)},nt.prototype.confirm=function(t,e,n){n=this.ensureConfig(n),this.configureDefaultAlert(t,e,n),this.twoOptions=!0},nt.prototype.ensureConfig=function(t){return t=t||{}},nt.prototype.configureDefaultAlert=function(t,e,n){this.twoOptions=!1,this.title=t,this.message=e,this.icon="undefined"!=typeof n.icon?n.icon:undefined,this.icon!==undefined&&(this.useIcon=!0),this.alertType=n.alertType,this.okButtonText="undefined"!=typeof n.okButtonText?n.okButtonText:nt.DEFAULT_OK_BUTTON_TEXT,this.cancelButtonText="undefined"!=typeof n.cancelButtonText?n.cancelButtonText:nt.DEFAULT_CANCEL_BUTTON_TEXT},Object.defineProperty(nt.prototype,"isInfo",{get:function(){return"info"===this.alertType},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"isWarn",{get:function(){return"warn"===this.alertType},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"isError",{get:function(){return"error"===this.alertType},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"message",{get:function(){return this._message},set:function(t){this._message=t},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"okButtonText",{get:function(){return this._okButtonText},set:function(t){this._okButtonText=t},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"cancelButtonText",{get:function(){return this._cancelButtonText},set:function(t){this._cancelButtonText=t},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"icon",{get:function(){return this._icon},set:function(t){this._icon=t},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"alertType",{get:function(){return this._alertType},set:function(t){this._alertType=t},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"twoOptions",{get:function(){return this._twoOptions},set:function(t){this._twoOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"useIcon",{get:function(){return this._useIcon},set:function(t){this._useIcon=t},enumerable:!0,configurable:!0}),nt.DEFAULT_OK_BUTTON_TEXT="OK",nt.DEFAULT_CANCEL_BUTTON_TEXT="CANCEL",nt.decorators=[{type:c.Component,args:[{selector:"o-dialog",template:'<div *ngIf="title && title.length > 0" mat-dialog-title>{{ title | oTranslate }}</div>\n<div mat-dialog-content>\n  <div fxLayout="row" class="alert-content" [class.alert-content-icon]="useIcon" fxLayoutAlign="space-between center">\n    <mat-icon *ngIf="useIcon" class="alert-icon" [class.info]="isInfo" [class.warn]="isWarn" [class.error]="isError">\n      {{ icon }}\n    </mat-icon>\n    <span [innerHTML]="message | oTranslate"></span>\n  </div>\n</div>\n<mat-dialog-actions align="end">\n  <span fxFlex></span>\n  <button type="button" *ngIf="twoOptions" mat-stroked-button mat-dialog-close>{{ cancelButtonText | oTranslate | uppercase }}</button>\n  <button type="button" mat-stroked-button (click)="onOkClick()">{{ okButtonText | oTranslate | uppercase }}</button>\n</mat-dialog-actions>\n',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-dialog]":"true"},styles:[".o-dialog{cursor:default}.o-dialog .alert-content{box-sizing:border-box;flex:1 1 100%;display:flex;flex-direction:row;place-content:center space-between;align-items:center;padding:12px 0}.o-dialog .alert-content-icon{min-height:70px}.o-dialog .alert-icon{font-size:50px;margin-right:16px;min-height:50px;min-width:50px}"]}]}],nt.ctorParameters=function(){return[{type:d.MatDialogRef}]},nt);function nt(t){this.dialogRef=t}var ot=(Object.defineProperty(it.prototype,"dialog",{get:function(){return this.dialogRef?this.dialogRef.componentInstance:undefined},enumerable:!0,configurable:!0}),it.prototype.alert=function(e,n,o){var i=this;return new u.Observable(function(t){i.openDialog(t),i.dialogRef.componentInstance.alert(e,n,o)}).toPromise()},it.prototype.info=function(e,n,o){var i=this;return new u.Observable(function(t){i.openDialog(t),i.dialogRef.componentInstance.info(e,n,o)}).toPromise()},it.prototype.warn=function(e,n,o){var i=this;return new u.Observable(function(t){i.openDialog(t),i.dialogRef.componentInstance.warn(e,n,o)}).toPromise()},it.prototype.error=function(e,n,o){var i=this;return new u.Observable(function(t){i.openDialog(t),i.dialogRef.componentInstance.error(e,n,o)}).toPromise()},it.prototype.confirm=function(e,n,o){var i=this;return new u.Observable(function(t){i.openDialog(t),i.dialogRef.componentInstance.confirm(e,n,o)}).toPromise()},it.prototype.openDialog=function(e){var n=this;this.dialogRef=this.ng2Dialog.open(et,{role:"alertdialog",disableClose:!0,panelClass:["o-dialog-class","o-dialog-service"]}),this.dialogRef.afterClosed().subscribe(function(t){t=t!==undefined&&t,e.next(t),e.complete(),n.dialogRef=null})},it.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],it.ctorParameters=function(){return[{type:c.Injector}]},it.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new it(c.ɵɵinject(c.INJECTOR))},token:it,providedIn:"root"}),it);function it(t){this.injector=t,this.ng2Dialog=this.injector.get(d.MatDialog)}var rt=function(t){this.value=t},at=(st.getSQLTypeValue=function(t){var e;switch(t=t?t.toUpperCase():""){case"BIT":e=st.BIT;break;case"TINYINT":e=st.TINYINT;break;case"SMALLINT":e=st.SMALLINT;break;case"INTEGER":e=st.INTEGER;break;case"BIGINT":e=st.BIGINT;break;case"FLOAT":e=st.FLOAT;break;case"REAL":e=st.REAL;break;case"DOUBLE":e=st.DOUBLE;break;case"NUMERIC":e=st.NUMERIC;break;case"DECIMAL":e=st.DECIMAL;break;case"CHAR":e=st.CHAR;break;case"VARCHAR":e=st.VARCHAR;break;case"LONGVARCHAR":e=st.LONGVARCHAR;break;case"DATE":e=st.DATE;break;case"TIME":e=st.TIME;break;case"TIMESTAMP":e=st.TIMESTAMP;break;case"BINARY":e=st.BINARY;break;case"VARBINARY":e=st.VARBINARY;break;case"LONGVARBINARY":e=st.LONGVARBINARY;break;case"NULL":e=st.NULL;break;case"OTHER":e=st.OTHER;break;case"JAVA_OBJECT":e=st.JAVA_OBJECT;break;case"DISTINCT":e=st.DISTINCT;break;case"STRUCT":e=st.STRUCT;break;case"ARRAY":e=st.ARRAY;break;case"BLOB":e=st.BLOB;break;case"CLOB":e=st.CLOB;break;case"REF":e=st.REF;break;case"DATALINK":e=st.DATALINK;break;case"BOOLEAN":e=st.BOOLEAN;break;case"ROWID":e=st.ROWID;break;case"NCHAR":e=st.NCHAR;break;case"NVARCHAR":e=st.NVARCHAR;break;case"LONGNVARCHAR":e=st.LONGNVARCHAR;break;case"NCLOB":e=st.NCLOB;break;case"SQLXML":e=st.SQLXML;break;case"BASE64":e=st.BASE64;break;default:e=st.OTHER}return e},st.getSQLTypeKey=function(t){var e;switch(t){case st.BIT:e="BIT";break;case st.TINYINT:e="TINYINT";break;case st.SMALLINT:e="SMALLINT";break;case st.INTEGER:e="INTEGER";break;case st.BIGINT:e="BIGINT";break;case st.FLOAT:e="FLOAT";break;case st.REAL:e="REAL";break;case st.DOUBLE:e="DOUBLE";break;case st.NUMERIC:e="NUMERIC";break;case st.DECIMAL:e="DECIMAL";break;case st.CHAR:e="CHAR";break;case st.VARCHAR:e="VARCHAR";break;case st.LONGVARCHAR:e="LONGVARCHAR";break;case st.DATE:e="DATE";break;case st.TIME:e="TIME";break;case st.TIMESTAMP:e="TIMESTAMP";break;case st.BINARY:e="BINARY";break;case st.VARBINARY:e="VARBINARY";break;case st.LONGVARBINARY:e="LONGVARBINARY";break;case st.NULL:e="NULL";break;case st.OTHER:e="OTHER";break;case st.JAVA_OBJECT:e="JAVA_OBJECT";break;case st.DISTINCT:e="DISTINCT";break;case st.STRUCT:e="STRUCT";break;case st.ARRAY:e="ARRAY";break;case st.BLOB:e="BLOB";break;case st.CLOB:e="CLOB";break;case st.REF:e="REF";break;case st.DATALINK:e="DATALINK";break;case st.BOOLEAN:e="BOOLEAN";break;case st.ROWID:e="ROWID";break;case st.NCHAR:e="NCHAR";break;case st.NVARCHAR:e="NVARCHAR";break;case st.LONGNVARCHAR:e="LONGNVARCHAR";break;case st.NCLOB:e="NCLOB";break;case st.SQLXML:e="SQLXML";break;case st.BASE64:e="BASE64";break;default:e="OTHER"}return e},st.parseUsingSQLType=function(t,e){var n=t;e=e?e.toUpperCase():"";try{switch(e){case"TINYINT":case"SMALLINT":case"INTEGER":case"BIGINT":n=Number(t);break;case"FLOAT":case"REAL":case"DOUBLE":case"NUMERIC":case"DECIMAL":n=parseFloat(t)}}catch(o){console.error("SQLTypes.parseUsingSQLType error")}return n},st.isNumericSQLType=function(t){return-1!==[st.TINYINT,st.SMALLINT,st.INTEGER,st.BIGINT,st.FLOAT,st.REAL,st.DOUBLE,st.NUMERIC,st.DECIMAL].indexOf(t)},st.BIT=-7,st.TINYINT=-6,st.SMALLINT=5,st.INTEGER=4,st.BIGINT=-5,st.FLOAT=6,st.REAL=7,st.DOUBLE=8,st.NUMERIC=2,st.DECIMAL=3,st.CHAR=1,st.VARCHAR=12,st.LONGVARCHAR=-1,st.DATE=91,st.TIME=92,st.TIMESTAMP=93,st.BINARY=-2,st.VARBINARY=-3,st.LONGVARBINARY=-4,st.NULL=0,st.OTHER=1111,st.JAVA_OBJECT=2e3,st.DISTINCT=2001,st.STRUCT=2002,st.ARRAY=2003,st.BLOB=2004,st.CLOB=2005,st.REF=2006,st.DATALINK=70,st.BOOLEAN=16,st.ROWID=-8,st.NCHAR=-15,st.NVARCHAR=-9,st.LONGNVARCHAR=-16,st.NCLOB=2011,st.BASE64=6464,st.SQLXML=2009,st);function st(){}var lt=(ct.getParentKeysFromExpandableContainer=function(o,t){var i={},e=Object.keys(o||{}),r=t?t.data:{};return 0<Object.keys(r).length&&e.forEach(function(t){var e=o[t];if(r.hasOwnProperty(e)){var n=r[e];if(k.isDefined(n))switch(typeof n){case"string":0<n.trim().length&&(i[t]=n.trim());break;case"number":isNaN(n)||(i[t]=n)}}}),i},ct.getParentKeysFromForm=function(a,n){var s={},t=Object.keys(a||{}),l=n?n.getComponents():{},e=0<Object.keys(l).length,c=n?n.getDataValues():{},o=0<Object.keys(c).length,u=n?n.getFormNavigation().getFilterFromUrlParams():{},i=0<Object.keys(u).length;return i&&n.keysArray.forEach(function(t,e){u.hasOwnProperty(t)&&(u[t]=at.parseUsingSQLType(u[t],n.keysSqlTypesArray[e]))}),(e||o||i)&&t.forEach(function(t){var e,n,o=a[t],i=k.isObject(o),r=i?Object.keys(o)[0]:o;if(l.hasOwnProperty(r)?e="getSelectedRecord"in(n=l[r])&&i?(n.getSelectedRecord()||{})[o[r]]:n.getValue():c.hasOwnProperty(r)?e=(n=c[r])instanceof rt?n.value:n:u.hasOwnProperty(r)&&(e=u[r]),k.isDefined(e))switch(typeof e){case"string":0<e.trim().length&&(s[t]=e.trim());break;case"number":isNaN(e)||(s[t]=e)}}),s},ct.filterContainsAllParentKeys=function(t,e){e=Object.keys(e);if(0<e.length&&k.isDefined(t)){var n=Object.keys(t);return e.every(function(t){return-1!==n.indexOf(t)})}return!0},ct.getFilterUsingParentKeys=function(n,o){var i={},t=Object.keys(o);return 0<t.length&&k.isDefined(n)&&t.forEach(function(t){var e=o[t];n.hasOwnProperty(e)&&((e=n[e])instanceof rt&&(e=e.value),i[t]=e)}),i},ct.getArrayProperties=function(t,e){return t.map(function(t){return ct.getObjectProperties(t,e)})},ct.getObjectProperties=function(e,t){var n={};return t.forEach(function(t){n[t]=e[t]}),n},ct.parseSortColumns=function(t){var n=[];return t&&k.parseArray(t).forEach(function(t){var e=t.split(P.TYPE_SEPARATOR);0<e.length&&(t=e[0],e=e[1]||P.ASC_SORT,n.push({columnName:t,ascendent:e===P.ASC_SORT}))}),n},ct.redirectLogin=function(t,e){void 0===e&&(e=!1);var n={};n[P.SESSION_EXPIRED_KEY]=e;e={};e[P.QUERY_PARAMS]=n,t.navigate([P.LOGIN_ROUTE],e)},ct);function ct(){}var ut=(pt.prototype.getSessionInfo=function(){var t=localStorage.getItem(this._localStorageKey);return t&&JSON.parse(t)[P.SESSION_KEY]||{}},pt.prototype.storeSessionInfo=function(t){var e,n;t!==undefined&&(n=null,(n=(e=localStorage.getItem(this._localStorageKey))&&0<e.length?JSON.parse(e):{})[P.SESSION_KEY]=t,localStorage.setItem(this._localStorageKey,JSON.stringify(n)))},pt.prototype.sessionExpired=function(){var t=this.getSessionInfo();delete t.id,delete t.user,this.storeSessionInfo(t)},pt.prototype.isLoggedIn=function(){var t=this.getSessionInfo();return!!(t&&t.id&&t.user&&0<t.user.length)&&("number"!=typeof t.id||!(isNaN(t.id)||t.id<0))},pt.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],pt.ctorParameters=function(){return[{type:c.Injector}]},pt.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new pt(c.ɵɵinject(c.INJECTOR))},token:pt,providedIn:"root"}),pt);function pt(t){this.injector=t,this._config=this.injector.get(G).getConfiguration(),this._localStorageKey=this._config.uuid}var dt=(ht.prototype.isSuccessful=function(){return this.code===P.ONTIMIZE_SUCCESSFUL_CODE},ht.prototype.isFailed=function(){return this.code===P.ONTIMIZE_FAILED_CODE},ht.prototype.isUnauthorized=function(){return this.code===P.ONTIMIZE_UNAUTHORIZED_CODE},ht);function ht(t,e,n,o,i,r){this.code=t,this.data=e,this.message=n,this.sqlTypes=o,this.startRecordIndex=i,this.totalQueryRecordsNumber=r}var mt,ft=(_(gt,mt=dt),gt);function gt(){return null!==mt&&mt.apply(this,arguments)||this}var yt=(bt.prototype.adapt=function(t){return new ft(t.body.code,t.body.data,t.body.message,t.body.sqlTypes,t.body.startRecordIndex,t.body.totalQueryRecordsNumber)},bt.decorators=[{type:c.Injectable}],bt);function bt(){}var vt=(Et.prototype.parseSuccessfulResponse=function(t,e,n){t&&t.isUnauthorized()?n.clientErrorFallback(401):t&&t.isFailed()?e.error(t.message):t&&t.isSuccessful()?e.next(t):e.error("Service unavailable")},Et.prototype.parseUnsuccessfulResponse=function(t,e,n){if(t)switch(t.status){case 401:case 403:case 404:case 405:n.clientErrorFallback(t.status);break;case 500:case 501:case 502:case 503:case 504:default:e.error(t),n.serverErrorFallback(t.status)}else e.error(t)},Et.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],Et.ctorParameters=function(){return[{type:c.Injector}]},Et.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new Et(c.ɵɵinject(c.INJECTOR))},token:Et,providedIn:"root"}),Et);function Et(t){this.injector=t}var Ct=(Tt.prototype.configureAdapter=function(){this.adapter=this.injector.get(yt)},Tt.prototype.configureService=function(t){this._urlBase=t.urlBase||this._appConfig.apiEndpoint},Tt.prototype.getDefaultServiceConfiguration=function(t){var e=this._config.getServiceConfiguration(),n={};return(n=t&&e.hasOwnProperty(t)?e[t]:n)[P.SESSION_KEY]=this.loginStorageService.getSessionInfo(),n},Object.defineProperty(Tt.prototype,"urlBase",{get:function(){return this._urlBase},set:function(t){this._urlBase=t},enumerable:!0,configurable:!0}),Tt.prototype.doRequest=function(i){var r=this;return new u.Observable(function(e){var t=i.options||{headers:r.buildHeaders()};switch(t.observe="response",i.method){case"GET":o=r.httpClient.get(i.url,t);break;case"PUT":o=r.httpClient.put(i.url,i.body,t);break;case"DELETE":var n={headers:t.headers,body:i.body,observe:"response"},o=r.httpClient["delete"](i.url,n);break;case"POST":default:o=r.httpClient.post(i.url,i.body,t)}o.pipe(l.map(function(t){return r.adapter.adapt(t)})).subscribe(function(t){(i.successCallback||r.parseSuccessfulResponse).bind(r)(t,e)},function(t){(i.errorCallBack||r.parseUnsuccessfulResponse).bind(r)(t,e)},function(){return e.complete()})}).pipe(l.share())},Tt.prototype.buildHeaders=function(){return new s.HttpHeaders({"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8"})},Tt.prototype.clientErrorFallback=function(t){},Tt.prototype.serverErrorFallback=function(t){},Tt.prototype.parseSuccessfulResponse=function(t,e){this.responseParser.parseSuccessfulResponse(t,e,this)},Tt.prototype.parseSuccessfulQueryResponse=function(t,e){this.parseSuccessfulResponse(t,e)},Tt.prototype.parseSuccessfulAdvancedQueryResponse=function(t,e){this.parseSuccessfulResponse(t,e)},Tt.prototype.parseSuccessfulInsertResponse=function(t,e){this.parseSuccessfulResponse(t,e)},Tt.prototype.parseSuccessfulUpdateResponse=function(t,e){this.parseSuccessfulResponse(t,e)},Tt.prototype.parseSuccessfulDeleteResponse=function(t,e){this.parseSuccessfulResponse(t,e)},Tt.prototype.parseUnsuccessfulResponse=function(t,e){this.responseParser.parseUnsuccessfulResponse(t,e,this)},Tt.prototype.parseUnsuccessfulQueryResponse=function(t,e){this.parseUnsuccessfulResponse(t,e)},Tt.prototype.parseUnsuccessfulAdvancedQueryResponse=function(t,e){this.parseUnsuccessfulResponse(t,e)},Tt.prototype.parseUnsuccessfulInsertResponse=function(t,e){this.parseUnsuccessfulResponse(t,e)},Tt.prototype.parseUnsuccessfulUpdateResponse=function(t,e){this.parseUnsuccessfulResponse(t,e)},Tt.prototype.parseUnsuccessfulDeleteResponse=function(t,e){this.parseUnsuccessfulResponse(t,e)},Tt);function Tt(t){this.injector=t,this.httpClient=this.injector.get(s.HttpClient),this.router=this.injector.get(p.Router),this._config=this.injector.get(G),this._appConfig=this._config.getConfiguration(),this.responseParser=this.injector.get(vt),this.loginStorageService=this.injector.get(ut),this.configureAdapter()}var It,Ot=(_(St,It=Ct),St.prototype.configureService=function(t){It.prototype.configureService.call(this,t),this._sessionid=t.session?t.session.id:-1},St.prototype.startsession=function(t,e){return null},St.prototype.endsession=function(t,e){return null},St.prototype.hassession=function(t,e){return null},St.prototype.redirectLogin=function(t){(t=void 0===t?!1:t)&&this.loginStorageService.sessionExpired(),lt.redirectLogin(this.router,t)},St.prototype.clientErrorFallback=function(t){401===t&&this.redirectLogin(!0)},St);function St(t){var e=It.call(this,t)||this;return e.injector=t,e.kv={},e.av=[],e.sqltypes={},e.pagesize=10,e.offset=0,e.orderby=[],e.totalsize=-1,e}var At,_t=(_(Dt,At=Ot),Dt.prototype.configureService=function(t){At.prototype.configureService.call(this,t),this._startSessionPath=this._appConfig.startSessionPath||"/startsession",this.user=t.session?t.session.user:"",t.entity!==undefined&&(this.entity=t.entity)},Dt.prototype.startsession=function(t,e){var n=this,e=encodeURIComponent(e),o=this.urlBase+this._startSessionPath+"?user="+t+"&password="+e;return new u.Observable(function(e){n.httpClient.get(o).subscribe(function(t){0<=t?e.next(t):e.error("Invalid user or password")},function(t){return e.error(t)})}).pipe(l.share())},Dt.prototype.endsession=function(t,e){var n=this,o=this.urlBase+"/endsession?user="+t+"&sessionid="+e;return new u.Observable(function(e){n.httpClient.get(o).subscribe(function(t){e.next(t)},function(t){401!==t.status&&0!==t.status&&t.ok?e.error(t):e.next(0)})}).pipe(l.share())},Dt.prototype.hassession=function(n,o){var i=this;return new u.Observable(function(e){var t=i.urlBase+"/hassession?user="+n+"&sessionid="+o;i.httpClient.get(t).subscribe(function(t){e.next(t)},function(t){return e.error(t)})}).pipe(l.share())},Dt.prototype.query=function(t,e,n,o){n=k.isDefined(n)?n:this.entity,t=k.isDefined(t)?t:this.kv,e=k.isDefined(e)?e:this.av,o=k.isDefined(o)?o:this.sqltypes;var i=this.urlBase+"/query",o=JSON.stringify({user:this.user,sessionid:this._sessionid,type:1,entity:n,kv:t,av:e,sqltypes:o});return this.doRequest({method:"POST",url:i,body:o,successCallback:this.parseSuccessfulQueryResponse,errorCallBack:this.parseUnsuccessfulQueryResponse})},Dt.prototype.advancedQuery=function(t,e,n,o,i,r,a){n=k.isDefined(n)?n:this.entity,t=k.isDefined(t)?t:this.kv,e=k.isDefined(e)?e:this.av,o=k.isDefined(o)?o:this.sqltypes,a=k.isDefined(a)?a:this.orderby,i=k.isDefined(i)?i:this.offset,r=k.isDefined(r)?r:this.pagesize;var s=this.urlBase+"/advancedquery",a=JSON.stringify({user:this.user,sessionid:this._sessionid,type:1,entity:n,kv:t,av:e,sqltypes:o,offset:i,pageSize:r,orderBy:a});return this.doRequest({method:"POST",url:s,body:a,successCallback:this.parseSuccessfulAdvancedQueryResponse,errorCallBack:this.parseUnsuccessfulAdvancedQueryResponse})},Dt.prototype.insert=function(t,e,n){void 0===t&&(t={}),e=k.isDefined(e)?e:this.entity,t=k.isDefined(t)?t:this.av,n=k.isDefined(n)?n:this.sqltypes;var o=this.urlBase+"/insert",n=JSON.stringify({user:this.user,sessionid:this._sessionid,entity:e,av:t,sqltypes:n});return this.doRequest({method:"POST",url:o,body:n,successCallback:this.parseSuccessfulInsertResponse,errorCallBack:this.parseUnsuccessfulInsertResponse})},Dt.prototype.update=function(t,e,n,o){void 0===t&&(t={}),void 0===e&&(e={}),n=k.isDefined(n)?n:this.entity,t=k.isDefined(t)?t:this.kv,e=k.isDefined(e)?e:this.av,o=k.isDefined(o)?o:this.sqltypes;var i=this.urlBase+"/update",o=JSON.stringify({user:this.user,sessionid:this._sessionid,entity:n,kv:t,av:e,sqltypes:o});return this.doRequest({method:"POST",url:i,body:o,successCallback:this.parseSuccessfulUpdateResponse,errorCallBack:this.parseUnsuccessfulUpdateResponse})},Dt.prototype["delete"]=function(t,e,n){void 0===t&&(t={}),e=k.isDefined(e)?e:this.entity,t=k.isDefined(t)?t:this.kv,n=k.isDefined(n)?n:this.sqltypes;var o=this.urlBase+"/delete",n=JSON.stringify({user:this.user,sessionid:this._sessionid,entity:e,kv:t,sqltypes:n});return this.doRequest({method:"POST",url:o,body:n,successCallback:this.parseSuccessfulDeleteResponse,errorCallBack:this.parseUnsuccessfulDeleteResponse})},Dt.decorators=[{type:c.Injectable}],Dt);function Dt(){var t=null!==At&&At.apply(this,arguments)||this;return t.entity="",t}var Lt=(Rt.prototype.getDefaultServiceConfiguration=function(t){var e=t?t.service:undefined,n=this.injector.get(ut),o=this._config.getServiceConfiguration(),t={};return(t=e&&o.hasOwnProperty(e)?o[e]:t)[P.SESSION_KEY]=n.getSessionInfo(),t},Rt.prototype.configureService=function(t){t=this.getDefaultServiceConfiguration(t);this._urlBase=t.urlBase||this._appConfig.apiEndpoint,this._sessionid=t.session?t.session.id:-1,this._user=t.session?t.session.user:"",this.path=t.path||Rt.DEFAULT_PERMISSIONS_PATH},Rt.prototype.loadPermissions=function(){var t=this._urlBase+this.path,e={headers:this.buildHeaders()},n=this;return new u.Observable(function(i){n.httpClient.get(t,e).subscribe(function(t){var e={};if(t.code===P.ONTIMIZE_SUCCESSFUL_CODE&&k.isDefined(t.data)){var n=t.data;if(1===n.length&&k.isObject(n[0]))try{e=JSON.parse(n[0][Rt.PERMISSIONS_KEY])}catch(o){console.warn("[OntimizeEEPermissionsService: permissions parsing failed]")}}i.next(e)},function(t){i.error(t)},function(){return i.complete()})}).pipe(l.share())},Rt.prototype.buildHeaders=function(){return new s.HttpHeaders({"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+this._sessionid})},Rt.DEFAULT_PERMISSIONS_PATH="/loadPermissions",Rt.PERMISSIONS_KEY="permission",Rt.decorators=[{type:c.Injectable}],Rt.ctorParameters=function(){return[{type:c.Injector}]},Rt);function Rt(t){this.injector=t,this.path="",this._sessionid=-1,this.httpClient=this.injector.get(s.HttpClient),this._config=this.injector.get(G),this._appConfig=this._config.getConfiguration()}var xt=(wt.prototype.getDefaultServiceConfiguration=function(){var t=this.injector.get(ut),e={};return e[P.SESSION_KEY]=t.getSessionInfo(),e},wt.prototype.configureService=function(t){var e=this.getDefaultServiceConfiguration();this._urlBase=e.urlBase||this._appConfig.apiEndpoint,this._sessionid=e.session?e.session.id:-1,this._user=e.session?e.session.user:"",k.isDefined(t)&&(t.entity!==undefined&&(this.entity=t.entity),t.keyColumn!==undefined&&(this.keyColumn=t.keyColumn),t.valueColumn!==undefined&&(this.valueColumn=t.valueColumn))},wt.prototype.loadPermissions=function(){var t={};t[this.keyColumn]=this._user;var e=[this.valueColumn],n=this._urlBase+"/query",o={headers:this.buildHeaders()},r=JSON.stringify({user:this._user,sessionid:this._sessionid,type:1,entity:this.entity,kv:t,av:e}),a=this;return new u.Observable(function(i){a.httpClient.post(n,r,o).subscribe(function(t){var e={};if(t.code===P.ONTIMIZE_SUCCESSFUL_CODE&&k.isDefined(t.data)){t=t.data;if(1===t.length&&k.isObject(t[0])){var n=t[0];try{e=n.hasOwnProperty(a.valueColumn)?JSON.parse(n[a.valueColumn]):{}}catch(o){console.warn("[OntimizePermissionsService: permissions parsing failed]")}}}i.next(e)},function(t){i.error(t)},function(){return i.complete()})}).pipe(l.share())},wt.prototype.buildHeaders=function(){return new s.HttpHeaders({"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8"})},wt.decorators=[{type:c.Injectable}],wt.ctorParameters=function(){return[{type:c.Injector}]},wt);function wt(t){this.injector=t,this.entity="",this._sessionid=-1,this.httpClient=this.injector.get(s.HttpClient),this._config=this.injector.get(G),this._appConfig=this._config.getConfiguration()}var Mt=(Nt.prototype.configureService=function(){var t=xt;try{this.permissionsService=this.injector.get(t),k.isPermissionsService(this.permissionsService)&&(this.permissionsService instanceof xt||this.permissionsService instanceof Lt)&&this.permissionsService.configureService(this.ontimizePermissionsConfig)}catch(e){console.error(e)}},Nt.prototype.restart=function(){this.permissions=undefined},Nt.prototype.hasPermissions=function(){return this.permissions!==undefined},Nt.prototype.getUserPermissionsAsPromise=function(){var n=this;return new Promise(function(e,t){n.permissions={},k.isDefined(n.ontimizePermissionsConfig)?(n.configureService(),n.queryPermissions().subscribe(function(){e(!0)},function(t){e(!0)})):e(!0)})},Nt.prototype.queryPermissions=function(){var n=this;return new u.Observable(function(e){n.permissionsService.loadPermissions().subscribe(function(t){n.permissions=t,e.next(t)},function(t){console.error("[Permissions.queryPermissions]: error",t),e.error(t)},function(){e.complete()})}).pipe(l.share())},Nt.prototype.getPermissionIdFromActRoute=function(t){for(var e=t.snapshot,n=((e.data||{}).oPermission||{}).permissionId;k.isDefined(e.firstChild)&&!k.isDefined(n);)n=(((e=e.firstChild).data||{}).oPermission||{}).permissionId;return n},Nt.prototype.getComponentPermissionsUsingRoute=function(e,t){var n,o=this.getPermissionIdFromActRoute(t);return k.isDefined(o)&&(t=(this.permissions.routes||[]).find(function(t){return t.permissionId===o}),k.isDefined(t)&&(n=(t.components||[]).find(function(t){return t.attr===e}))),n},Nt.prototype.getOComponentPermissions=function(e,t,n){if(!k.isDefined(this.permissions))return undefined;var o,i,t=this.getComponentPermissionsUsingRoute(e,t);t&&t.selector===n&&(o=t);t=(this.permissions.components||[]).find(function(t){return t.attr===e});return{route:o,component:i=t&&t.selector===n?t:i}},Nt.prototype.getTablePermissions=function(t,e){if(!k.isDefined(this.permissions))return undefined;t=this.getOComponentPermissions(t,e,"o-table"),e=t.route,t=t.component;return k.isDefined(e)&&k.isDefined(t)?{selector:"o-table",attr:e.attr,menu:this.mergeOTableMenuPermissions(t.menu,e.menu),columns:this.mergeOPermissionsArrays(t.columns,e.columns),actions:this.mergeOPermissionsArrays(t.actions,e.actions),contextMenu:this.mergeOPermissionsArrays(t.contextMenu,e.contextMenu)}:t||e},Nt.prototype.getFormPermissions=function(t,e){if(!k.isDefined(this.permissions))return undefined;t=this.getOComponentPermissions(t,e,"o-form"),e=t.route,t=t.component;return k.isDefined(e)&&k.isDefined(t)?{selector:"o-form",attr:e.attr,components:this.mergeOPermissionsArrays(t.components,e.components),actions:this.mergeOPermissionsArrays(t.actions,e.actions)}:t||e},Nt.prototype.getMenuPermissions=function(e){return k.isDefined(this.permissions)?(this.permissions.menu||[]).find(function(t){return t.attr===e}):undefined},Nt.prototype.mergeOPermissionsArrays=function(t,e){if(!k.isDefined(t)||!k.isDefined(e))return t||e;var n=Object.assign([],t);return e.forEach(function(e){var t=n.find(function(t){return t.attr===e.attr});t?(t.visible=e.visible,t.enabled=e.enabled):n.push(e)}),n},Nt.prototype.mergeOTableMenuPermissions=function(t,e){return k.isDefined(t)&&k.isDefined(e)?{visible:e.visible,enabled:e.enabled,items:this.mergeOPermissionsArrays(t.items,e.items)}:t||e},Nt.prototype.isPermissionIdRouteRestricted=function(e){var t=(this.permissions.routes||[]).find(function(t){return t.permissionId===e});return k.isDefined(t)&&!1===t.enabled},Nt.decorators=[{type:c.Injectable}],Nt.ctorParameters=function(){return[{type:c.Injector}]},Nt);function Nt(t){this.injector=t;t=this.injector.get(G).getConfiguration();k.isDefined(t.permissionsConfiguration)&&(this.ontimizePermissionsConfig=t.permissionsConfiguration)}var Pt=["validatorFn: validator-function","errorName: error-name","errorText: error-text"],Ft=(kt.prototype.registerError=function(t){this.errorsData.push({name:t.getName(),text:t.getText()})},kt.prototype.getValidatorFn=function(){return this.validatorFn},kt.prototype.getErrorsData=function(){var t=[];return 0<this.errorsData.length?t=this.errorsData:k.isDefined(this.errorName)&&k.isDefined(this.errorText)&&(t=[{name:this.errorName,text:this.errorText}]),t},kt.decorators=[{type:c.Component,args:[{selector:"o-validator",template:" ",inputs:Pt}]}],kt.ctorParameters=function(){return[{type:c.Injector}]},kt);function kt(t){this.injector=t,this.validatorFn=null,this.errorsData=[]}var Bt=new c.InjectionToken("o-mat-error-options"),Ut=0,Vt=(Object.defineProperty(jt.prototype,"isStandardError",{get:function(){return this.errorType===P.O_MAT_ERROR_STANDARD},enumerable:!0,configurable:!0}),jt.decorators=[{type:c.Component,args:[{selector:"mat-error",template:'<ng-container *ngIf="isStandardError">\n  {{ text }}\n</ng-container>',changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"class":"mat-error",role:"alert","[attr.id]":"id"}}]}],jt.ctorParameters=function(){return[{type:c.Injector},{type:c.ElementRef},{type:c.ChangeDetectorRef},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[Bt]}]}]},jt.propDecorators={id:[{type:c.Input}],text:[{type:c.Input}]},jt);function jt(t,e,n,o){this.injector=t,this.elementRef=e,this.cd=n,this.id="mat-error-"+Ut++,this.text="",this.errorOptions=o||{},this.errorType=this.errorOptions.type||"standard"}var Gt=(qt.checkEnabledPermission=function(t){return!k.isDefined(t)||!1!==t.enabled||(console.warn("MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION"),!1)},qt.registerDisabledChangesInDom=function(t,e){var n=e&&e.callback?e.callback:qt.setDisabledDOMElement,o=!(!e||!e.checkStringValue);if(!k.isDefined(t))return undefined;e=new MutationObserver(function(t){var e=t[0];"attributes"!==e.type||"disabled"!==e.attributeName||(null===(t=e.target.attributes.getNamedItem("disabled"))||o&&"true"!==t.value)&&n(e)});return e.observe(t,{attributes:!0,attributeFilter:["disabled"]}),e},qt.setDisabledDOMElement=function(t){t.target.setAttribute("disabled","true")},qt.STANDARD_ACTIONS=[qt.ACTION_REFRESH="refresh",qt.ACTION_INSERT="insert",qt.ACTION_UPDATE="update",qt.ACTION_DELETE="delete"],qt);function qt(){}var Ht,Yt=(_(zt,Ht=i.FormControl),zt.prototype.markAsTouched=function(e){void 0===e&&(e={}),Ht.prototype.markAsTouched.call(this,e),this.fControlChildren&&this.fControlChildren.forEach(function(t){t instanceof i.FormControl?t.markAsTouched(e):t.getFormControl()&&t.getFormControl().markAsTouched()})},zt.prototype.markAsDirty=function(e){void 0===e&&(e={}),Ht.prototype.markAsDirty.call(this,e),this.fControlChildren&&this.fControlChildren.forEach(function(t){t instanceof i.FormControl?t.markAsDirty(e):t.getFormControl()&&t.getFormControl().markAsDirty()})},zt.prototype.markAsPristine=function(e){void 0===e&&(e={}),Ht.prototype.markAsPristine.call(this,e),this.fControlChildren&&this.fControlChildren.forEach(function(t){t instanceof i.FormControl?t.markAsPristine(e):t.getFormControl()&&t.getFormControl().markAsPristine()})},zt.prototype.getValue=function(){return this.value},zt);function zt(t,e,n){return void 0===t&&(t=null),Ht.call(this,t,e,n)||this}var Kt={en:{LANGUAGE:"Language",LOCALE_en:"EN",LOCALE_es:"ES",LOCALE_pt:"PT",USERNAME:"Username",PASSWORD:"Password",LOGIN:"Login",LOGOUT:"Logout",OK:"Ok",ACCEPT:"Accept",CANCEL:"Cancel",CLOSE:"Close",YES:"Yes",NO:"No",RESET:"Reset",CONFIRM:"Confirm",NEXT:"Next",PREVIOUS:"Previous",FINISH:"Finish",SAVE:"Save",INSERT:"Ok",REFRESH:"Refresh",SEARCH:"Search",FILTER:"Filter",DELETE:"Delete",ADD:"New",SELECT:"Select",SELECT_ALL:"Select all",INFO:"Information",ERROR:"Error",FOUND:"Found",RESULTS:"Results",TOTAL:"Total",MONEY:"Money",HOME:"Home",SHOW_CONSOLE:"Show console",FILE:"File",OPTIONS:"Options",EDIT:"Edit",UNDO:"Undo",REDO:"Redo",COPY:"Copy",PASTE:"Paste",LOCK:"Lock",EXIT:"Exit",SETTINGS:"Settings",FORM:"Form",LIST:"List","LIST.EMPTY":"No results found","LIST.EMPTY_USING_FILTER":' using filter "{0}"',TABLE:"Table",DETAIL:"Detail",PAGE:"Page",FIRST_PAGE:"First",LAST_PAGE:"Last",PREVIOUS_PAGE:"Previous",NEXT_PAGE:"Next",PHOTO:"Picture",CHOOSE_FILE:"Choose file","FORM_VALIDATION.REQUIRED":"Required","FORM_VALIDATION.LENGTH":"Invalid length","FORM_VALIDATION.MIN_LENGTH":"Minimum length","FORM_VALIDATION.MAX_LENGTH":"Maximum length","FORM_VALIDATION.MIN_DECIMAL_DIGITS":"Minimum number of decimal digits","FORM_VALIDATION.MAX_DECIMAL_DIGITS":"Maximum number of decimal digits","FORM_VALIDATION.EMAIL_FORMAT":"Invalid email","FORM_VALIDATION.NIF_FORMAT":"Invalid format (DNI: 12345678-A, NIE: X-1234567-A)","FORM_VALIDATION.DNI_LETTER":"Invalid DNI letter","FORM_VALIDATION.DATE_RANGE":"Date outside valid range","FORM_VALIDATION.MIN_VALUE":"Minimum value","FORM_VALIDATION.MAX_VALUE":"Maximum value","FORM_VALIDATION.DATE_PARSE":"Date not valid format","FORM_VALIDATION.DATE_FILTER":"Date is not valid for the defined filter","FORM_VALIDATION.DATE_MIN":"Date min","FORM_VALIDATION.DATE_MAX":"Date max","FORM_VALIDATION.DATERANGE_MIN":"Date min is not in the range","FORM_VALIDATION.DATERANGE_MAX":"Date max is not in the range","FORM_VALIDATION.DATERANGE_INVALID":"Date range invalid","FORM_VALIDATION.FILE_TYPE":"Invalid format","FORM_VALIDATION.FILE_MAXSIZE":"Maximum file size","FORM_VALIDATION.FILE_MAXNUM":"Max. files","FORM_VALIDATION.HOUR_FORMAT":"Format not valid format","MESSAGES.FORM_VALIDATION_ERROR":"Form values are not valid!","MESSAGES.FORM_NOTHING_TO_UPDATE_INFO":"There are no values to update!","MESSAGES.FORM_CHANGES_WILL_BE_LOST":"Are you sure you want to continue? All unsaved changes will be lost","MESSAGES.ERROR_LOGIN":"Login failed. Check username and/or password.","MESSAGES.ERROR_SESSION":"Session expired.","MESSAGES.ERROR_INSERT":"Failed to insert data.","MESSAGES.ERROR_QUERY":"Failed to get data from the server.","MESSAGES.ERROR_UPDATE":"Failed to save data.","MESSAGES.ERROR_DELETE":"Failed to delete data.","MESSAGES.ERROR_ATTRIBUTE_REQUIRED":"Required attribute not set.","MESSAGES.ERROR_FILE_LOAD":"Failed to load file.","MESSAGES.CONFIRM_ACTION":"Are you sure you want to continue?","MESSAGES.CONFIRM_LOGOUT":"Are you sure you want to leave?","MESSAGES.CONFIRM_DELETE":"Are you sure you want to delete the selected items?","MESSAGES.CONFIRM_CANCEL":"Are you sure you want to cancel without saving changes?","MESSAGES.SAVING":"Saving, please wait...","MESSAGES.SAVED":"Saved","MESSAGES.DELETED":"Deleted","MESSAGES.INSERTED":"Inserted","MESSAGES.UPDATED":"Updated","MESSAGES.NO_RESULTS":"No results were obtained.","MESSAGES.ERROR_MISSING_LANG":"Selected language bundle file not found","MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN":"Are you sure you want to discard all active columns filters?","MESSAGES.ERROR_EXPORT_TABLE_DATA":"Failed to export table data.","MESSAGES.SUCCESS_EXPORT_TABLE_DATA":"Table data exported successfully.","MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION":"Operation is not allowed due to permissions restrictions","MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION":"Navigation is not allowed due to permissions restrictions","MESSAGES.NAVIGATION_REDIRECTED_PERMISSION":"Navigation redirected due to permissions restrictions","MESSAGES.ERROR_403_TEXT":"You are not authorized to view this page.","MESSAGES.ERROR_403_TEXT_BUTTON":"Navigate back","MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS":"No column has been selected to perform the search.","INPUT.COMBO.EMPTY":"No results found","INPUT.COMBO.MESSAGE_TRIGGER":" (+{0} others)","TABLE.FILTER_BY_COLUMN.CHECK_ALL":"Select all","TABLE.FILTER_BY_COLUMN.EMPTY_VALUE":"(empty value)","TABLE.FILTER_BY_COLUMN.HINT_STAR":"Use * to search for any character string","TABLE.FILTER_BY_COLUMN.BY_VALUE":"Filter by value","TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER":"Custom filter","TABLE.FILTER_BY_COLUMN.FROM":"From","TABLE.FILTER_BY_COLUMN.TO":"To","TABLE.FILTER_BY_COLUMN.LIST_EMPTY":"No values","TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER":"Insert a filter","TABLE.FILTER":"Filter","TABLE.FILTER.CASE_SENSITIVE":"Match uppercase and lowercase","TABLE.EMPTY":"No results found","TABLE.EMPTY_USING_FILTER":' using filter "{0}"',"TABLE.INFO":"_START_ - _END_ of _TOTAL_","TABLE.INFO_EMPTY":"0 - 0 of 0","TABLE.INFO_FILTERED":"(filtered from _MAX_ total entries)","TABLE.INFO_POST_FIX":" ","TABLE.LENGTH_MENU":"Rows per page: _MENU_","TABLE.LOADING_RECORDS":"Loading...","TABLE.PROCESSING":"Processing...","TABLE.SEARCH":" ","TABLE.ZERO_RECORDS":"No matching records found","TABLE.PAGINATE.FIRST":"First","TABLE.PAGINATE.LAST":"Last","TABLE.PAGINATE.NEXT":"Next","TABLE.PAGINATE.PREVIOUS":"Previous","TABLE.PAGINATE.RANGE_LABEL":"of","TABLE.PAGINATE.ITEMSPERPAGELABEL":"Items per page","TABLE.ARIA.SORT_ASCENDING":": activate to sort column ascending","TABLE.ARIA.SORT_DESCENDING":": activate to sort column descending","TABLE.BUTTONS.COLVIS":"Show / hide columns","TABLE.BUTTONS.COPY_TITLE":"Added to clipboard","TABLE.BUTTONS.COPY_SUCCESS._":"%d rows copied","TABLE.BUTTONS.COPY_SUCCESS.1":"1 row copied","TABLE.BUTTONS.COPY_TO_CLIPBOARD":"Copy to clipboard","TABLE.BUTTONS.PRINT":"Print","TABLE.BUTTONS.EXPORT":"Export","TABLE.BUTTONS.EXCEL":"Excel","TABLE.BUTTONS.HTML":"HTML","TABLE.BUTTONS.PDF":"PDF","TABLE.BUTTONS.GROUP_ROWS":"Group rows","TABLE.BUTTONS.RESIZE_COLUMNS":"Resize columns","TABLE.BUTTONS.FILTER":"Filter","TABLE.BUTTONS.FILTER_SAVE":"Save filter","TABLE.BUTTONS.FILTER_LOAD":"Load filter","TABLE.BUTTONS.FILTER_CLEAR":"Clear filter","TABLE.BUTTONS.REFRESH":"Refresh","TABLE.BUTTONS.DELETE":"Delete","TABLE.BUTTONS.ADD":"New","TABLE.BUTTONS.SELECT":"Select...","TABLE.BUTTONS.FILTER_BY_COLUMN":"Filter by column","TABLE.BUTTONS.SAVE_FILTER":"Save filter","TABLE.BUTTONS.CONFIGURATION":"Configuration","TABLE.BUTTONS.SAVE_CONFIGURATION":"Save configuration","TABLE.BUTTONS.APPLY_CONFIGURATION":"Load configuration","TABLE.BUTTONS.APPLY":"Load","TABLE.SELECT.ROWS._":"%d selected rows","TABLE.SELECT.ROWS.0":" ","TABLE.SELECT.ROWS.1":"1 row selected","TABLE.SHOW_ALL":"All","TABLE.SELECT_DATE":"Select date","TABLE.ROW_VALIDATION_ERROR":"Row data is not valid!","TABLE.DIALOG.SAVE_FILTER":"Select a name for the filter.","TABLE.DIALOG.FILTER_NAME":"Name","TABLE.DIALOG.FILTER_DESCRIPTION":"Description","TABLE.DIALOG.LOAD_FILTER":"Select a filter to apply to the table","TABLE.DIALOG.CONFIRM_CLEAR_FILTER":"This acction will clear every filter on the table. Are you sure you want to continue?","TABLE.DIALOG.CONFIRM_REMOVE_FILTER":"Are you sure you want to delete the selected filter?","TABLE.DIALOG.EMPTY_FILTER_LIST":"There are no filters stored","TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS":"Already exists a filter with that name","TABLE.DIALOG.SAVE_CONFIGURATION":"Enter a name and description for the configuration","TABLE.DIALOG.CONFIGURATION_NAME":"Name","TABLE.DIALOG.CONFIGURATION_DESCRIPTION":"Description","TABLE.DIALOG.APPLY_CONFIGURATION":"Select a configuration to apply to the table","TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT":"Default configuration","TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION":"Restores the initial configuration of the table","TABLE.DIALOG.CONFIGURATION_PROPERTIES":"Select which properties you want to store","TABLE.DIALOG.PROPERTIES.SORT":"Columns sort","TABLE.DIALOG.PROPERTIES.SORT.INFO":"Stores the sort of each column","TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY":"Columns visibility","TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO":"Stores the columns displayed and its order and width","TABLE.DIALOG.PROPERTIES.QUICK_FILTER":"Filter state","TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO":"Stores the current value of the filter","TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER":"Filter by column","TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO":"Stores the filter configured on each column","TABLE.DIALOG.PROPERTIES.PAGE":"Pagination status","TABLE.DIALOG.PROPERTIES.PAGE.INFO":"Stores the pagination status","TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION":"Are you sure you want to delete the selected configuration?","TABLE.DIALOG.EXPORT.DESCRIPTION":"Select the format you want to export the table information.","LAYOUT_MANANGER.MAIN_TAB_LABEL":"Home","LAYOUT_MANANGER.DIALOG_TITLE":"Detail","LAYOUT_MANANGER.INSERTION_MODE_TITLE":"New","APP_LAYOUT.USER_PROFILE":"My profile","CARD_MENU_LAYOUT.BUTTON_TEXT":"View list","GRID.ITEMS_PER_PAGE":"Items per page","GRID.SORT_BY":"Sort by","GRID.SORT_BY_ASC":"Sort by {0} ascending","GRID.SORT_BY_DESC":"Sort by {0} descending","GRID.BUTTON_NEXT":"Show more","GRID.TEXT_SHOWN_ITEMS":"{0} / {1}","GRID.EMPTY":"No results found","GRID.EMPTY_USING_FILTER":' using filter "{0}"',"TABLE_CONTEXT_MENU.VIEW_DETAIL":"View detail","TABLE_CONTEXT_MENU.EDIT":"Edit","TABLE_CONTEXT_MENU.INSERT":"Insert","TABLE_CONTEXT_MENU.COPY":"Copy","TABLE_CONTEXT_MENU.COPY_CELL":"Copy cell","TABLE_CONTEXT_MENU.COPY_ROW":"Copy row","TABLE_CONTEXT_MENU.COPY_ALL":"Copy all","TABLE_CONTEXT_MENU.COPY_SELECTION":"Copy selection","TABLE_CONTEXT_MENU.SELECT_ALL":"Select all","TABLE_CONTEXT_MENU.DESELECT_ALL":"Deselect all","TABLE_CONTEXT_MENU.REFRESH":"Refresh","TABLE_CONTEXT_MENU.DELETE":"Delete","TABLE_CONTEXT_MENU.FILTER":"Filter","TABLE_CONTEXT_MENU.FILTER_BY":"Filter by:","TABLE_CONTEXT_MENU.FILTER_BY_VALUE":"Filter by this value","DATERANGE.today":"Today","DATERANGE.yesterday":"Yesterday","DATERANGE.last_7days":"Last 7 days","DATERANGE.last_30days":"Last 30 days","DATERANGE.this_month":"This month","DATERANGE.last_month":"Last month","DATERANGE.this_year":"This year","DATERANGE.APPLYLABEL":"Select dates","DATERANGE.W":"W"},es:{LANGUAGE:"Idioma",LOCALE_en:"EN",LOCALE_es:"ES",LOCALE_pt:"PT",USERNAME:"Usuario",PASSWORD:"Contraseña",LOGIN:"Entrar",LOGOUT:"Salir",OK:"Ok",ACCEPT:"Aceptar",CANCEL:"Cancelar",CLOSE:"Cerrar",YES:"Sí",NO:"No",RESET:"Resetear",CONFIRM:"Confirmar",NEXT:"Siguiente",PREVIOUS:"Anterior",FINISH:"Finalizar",SAVE:"Guardar",INSERT:"Ok",REFRESH:"Refrescar",SEARCH:"Buscar",FILTER:"Filtrar",DELETE:"Borrar",ADD:"Nuevo",SELECT:"Seleccionar",SELECT_ALL:"Seleccionar todo",INFO:"Información",ERROR:"Error",FOUND:"Encontrados",RESULTS:"Resultados",TOTAL:"Total",MONEY:"Dinero",HOME:"Inicio",SHOW_CONSOLE:"Mostrar consola",FILE:"Archivo",OPTIONS:"Opciones",EDIT:"Editar",UNDO:"Deshacer",REDO:"Rehacer",COPY:"Copiar",PASTE:"Pegar",LOCK:"Bloquear",EXIT:"Salir",SETTINGS:"Configuración",FEATURES:"Características",FORM:"Formulario",LIST:"Lista","LIST.EMPTY":"No se han obtenido resultados","LIST.EMPTY_USING_FILTER":' usando el filtro "{0}"',TABLE:"Tabla",DETAIL:"Detalle",PAGE:"Página",FIRST_PAGE:"Primera",LAST_PAGE:"Última",PREVIOUS_PAGE:"Anterior",NEXT_PAGE:"Siguiente",PHOTO:"Fotografía",CHOOSE_FILE:"Escoger fichero","FORM_VALIDATION.REQUIRED":"Requerido","FORM_VALIDATION.LENGTH":"Longitud no válida","FORM_VALIDATION.MIN_LENGTH":"Longitud mínima","FORM_VALIDATION.MAX_LENGTH":"Longitud máxima","FORM_VALIDATION.MIN_DECIMAL_DIGITS":"Mínimo número de cifras decimales","FORM_VALIDATION.MAX_DECIMAL_DIGITS":"Máximo número de cifras decimales","FORM_VALIDATION.EMAIL_FORMAT":"Email no válido","FORM_VALIDATION.NIF_FORMAT":"Formato no válido (DNI: 12345678-A, NIE: X-1234567-A)","FORM_VALIDATION.DNI_LETTER":"Letra de DNI no válida","FORM_VALIDATION.DATE_RANGE":"Fecha fuera del rango válido","FORM_VALIDATION.MIN_VALUE":"Valor mínimo","FORM_VALIDATION.MAX_VALUE":"Valor máximo","FORM_VALIDATION.DATE_PARSE":"Formato no válido","FORM_VALIDATION.DATE_FILTER":"Fecha no es válida para el filtro definido","FORM_VALIDATION.DATE_MIN":"Fecha mínima","FORM_VALIDATION.DATE_MAX":"Fecha máxima","FORM_VALIDATION.DATERANGE_INVALID":"Rango de fechas inválido","FORM_VALIDATION.FILE_TYPE":"Formato no válido","FORM_VALIDATION.FILE_MAXSIZE":"Tamaño de fichero máximo","FORM_VALIDATION.FILE_MAXNUM":"Número máximo de ficheros","FORM_VALIDATION.HOUR_FORMAT":"Formato no válido","MESSAGES.FORM_VALIDATION_ERROR":"El formulario contiene campos con valores no válidos","MESSAGES.FORM_NOTHING_TO_UPDATE_INFO":"¡No existen valores para actualizar!","MESSAGES.FORM_CHANGES_WILL_BE_LOST":"¿Está seguro de que quiere continuar? Perderá los cambios realizados","MESSAGES.ERROR_LOGIN":"Error de inicio de sesión. Compruebe nombre de usuario y/o contraseña.","MESSAGES.ERROR_SESSION":"La sesión ha caducado","MESSAGES.ERROR_INSERT":"Error al insertar datos.","MESSAGES.ERROR_QUERY":"Error al consultar datos del servidor.","MESSAGES.ERROR_UPDATE":"Error al actualizar datos.","MESSAGES.ERROR_DELETE":"Error al borrar datos.","MESSAGES.ERROR_ATTRIBUTE_REQUIRED":"Atributo requerido no proporcionado.","MESSAGES.ERROR_FILE_LOAD":"Error al cargar el archivo.","MESSAGES.CONFIRM_ACTION":"¿Está seguro de que quiere continuar?","MESSAGES.CONFIRM_LOGOUT":"¿Está seguro de que quiere salir?","MESSAGES.CONFIRM_DELETE":"¿Está seguro de que quiere borrar los items seleccionados?","MESSAGES.CONFIRM_CANCEL":"¿Está seguro de que quiere cancelar sin guardar los cambios?","MESSAGES.SAVING":"Guardando, espere...","MESSAGES.SAVED":"Guardado","MESSAGES.DELETED":"Borrado","MESSAGES.INSERTED":"Insertado","MESSAGES.UPDATED":"Actualizado","MESSAGES.NO_RESULTS":"No se obtuvieron resultados.","MESSAGES.ERROR_MISSING_LANG":"No se ha encontrado el fichero de configuración del idioma seleccionado","MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN":"¿Está seguro de que quiere descartar todos los filtros de columna activos?","MESSAGES.ERROR_EXPORT_TABLE_DATA":"Error al exportar los datos de la tabla.","MESSAGES.SUCCESS_EXPORT_TABLE_DATA":"Se han exportado los datos de la tabla correctamente.","MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION":"Operación no permitida debido a restricciones de permisos.","MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION":"Navegación no permitida debido a restricciones de permisos.","MESSAGES.NAVIGATION_REDIRECTED_PERMISSION":"Navegación redirigida debido a restricciones de permisos.","MESSAGES.ERROR_403_TEXT":"No está autorizado para ver esta página.","MESSAGES.ERROR_403_TEXT_BUTTON":"Volver atrás","MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS":"No se ha seleccionado ninguna columna por la que realizar la búsqueda.","INPUT.COMBO.EMPTY":"No hay resultados","INPUT.COMBO.MESSAGE_TRIGGER":" (+ otros {0})","TABLE.FILTER_BY_COLUMN.CHECK_ALL":"Seleccionar todos","TABLE.FILTER_BY_COLUMN.EMPTY_VALUE":"(valor vacío)","TABLE.FILTER_BY_COLUMN.HINT_STAR":"Use * para buscar por cualquier valor","TABLE.FILTER_BY_COLUMN.BY_VALUE":"Filtro por valor","TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER":"Filtro personalizado","TABLE.FILTER_BY_COLUMN.FROM":"Desde","TABLE.FILTER_BY_COLUMN.TO":"Hasta","TABLE.FILTER_BY_COLUMN.LIST_EMPTY":"No hay valores","TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER":"Introduzca un filtro","TABLE.FILTER":"Filtrar","TABLE.FILTER.CASE_SENSITIVE":"Coincidir mayúsculas y minúsculas","TABLE.EMPTY":"No se han obtenido resultados","TABLE.EMPTY_USING_FILTER":' usando el filtro "{0}"',"TABLE.INFO":"_START_ - _END_ de _TOTAL_","TABLE.INFO_EMPTY":"0 - 0 de 0","TABLE.INFO_FILTERED":"(filtrados de un total de _MAX_ registros)","TABLE.INFO_POST_FIX":" ","TABLE.LENGTH_MENU":"Registros por página: _MENU_","TABLE.LOADING_RECORDS":"Cargando...","TABLE.PROCESSING":"Procesando...","TABLE.SEARCH":" ","TABLE.ZERO_RECORDS":"No se encontraron coincidencias","TABLE.PAGINATE.FIRST":"Primero","TABLE.PAGINATE.LAST":"Último","TABLE.PAGINATE.NEXT":"Siguiente","TABLE.PAGINATE.PREVIOUS":"Anterior","TABLE.PAGINATE.RANGE_LABEL":"de","TABLE.PAGINATE.ITEMSPERPAGELABEL":"Registros por página","TABLE.ARIA.SORT_ASCENDING":": activar para ordenar la columna de forma ascendente","TABLE.ARIA.SORT_DESCENDING":": activar para ordenar la columna de forma descendente","TABLE.BUTTONS.COLVIS":"Mostrar / ocultar columnas","TABLE.BUTTONS.COPY_TITLE":"Copiado al portapapeles","TABLE.BUTTONS.COPY_SUCCESS._":"%d registros copiados","TABLE.BUTTONS.COPY_SUCCESS.1":"1 registro copiado","TABLE.BUTTONS.COPY_TO_CLIPBOARD":"Copiar al portapapeles","TABLE.BUTTONS.PRINT":"Imprimir","TABLE.BUTTONS.EXPORT":"Exportar","TABLE.BUTTONS.EXCEL":"Excel","TABLE.BUTTONS.HTML":"HTML","TABLE.BUTTONS.PDF":"PDF","TABLE.BUTTONS.GROUP_ROWS":"Agrupar registros","TABLE.BUTTONS.RESIZE_COLUMNS":"Cambiar tamaño de columnas","TABLE.BUTTONS.FILTER":"Filtrar","TABLE.BUTTONS.FILTER_SAVE":"Guardar filtro","TABLE.BUTTONS.FILTER_LOAD":"Aplicar filtro","TABLE.BUTTONS.FILTER_CLEAR":"Limpiar filtro","TABLE.BUTTONS.REFRESH":"Refrescar","TABLE.BUTTONS.DELETE":"Eliminar","TABLE.BUTTONS.ADD":"Nuevo","TABLE.BUTTONS.SELECT":"Seleccionar...","TABLE.BUTTONS.FILTER_BY_COLUMN":"Filtrado por columnas","TABLE.BUTTONS.SAVE_FILTER":"Guardar filtro","TABLE.BUTTONS.CONFIGURATION":"Configuración","TABLE.BUTTONS.SAVE_CONFIGURATION":"Guardar configuración","TABLE.BUTTONS.APPLY_CONFIGURATION":"Aplicar configuración","TABLE.BUTTONS.APPLY":"Aplicar","TABLE.SELECT.ROWS._":"%d registros seleccionados","TABLE.SELECT.ROWS.0":" ","TABLE.SELECT.ROWS.1":"1 registro seleccionado","TABLE.SHOW_ALL":"Todo","TABLE.SELECT_DATE":"Seleccionar fecha","TABLE.ROW_VALIDATION_ERROR":"La fila contiene campos con valores no válidos","TABLE.DIALOG.SAVE_FILTER":"Seleccione un nombre para el filtro.","TABLE.DIALOG.FILTER_NAME":"Nombre","TABLE.DIALOG.FILTER_DESCRIPTION":"Descripción","TABLE.DIALOG.LOAD_FILTER":"Seleccione un filtro para aplicar a la tabla","TABLE.DIALOG.CONFIRM_CLEAR_FILTER":"Esta acción limpiará todos los filtros aplicados a la tabla. ¿Desea continuar?","TABLE.DIALOG.CONFIRM_REMOVE_FILTER":"¿Está seguro de que quiere eliminar el filtro seleccionado?","TABLE.DIALOG.EMPTY_FILTER_LIST":"No hay filtros almacenados","TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS":"Ya existe un filtro con ese nombre","TABLE.DIALOG.SAVE_CONFIGURATION":"Introduzca un nombre y una descripción para la configuración","TABLE.DIALOG.CONFIGURATION_NAME":"Nombre","TABLE.DIALOG.CONFIGURATION_DESCRIPTION":"Descripción","TABLE.DIALOG.APPLY_CONFIGURATION":"Seleccione una configuración para aplicar a la tabla","TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT":"Configuración por defecto","TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION":"Restaura la configuración inicial de la tabla","TABLE.DIALOG.CONFIGURATION_PROPERTIES":"Seleccione qué propiedades desea almacenar","TABLE.DIALOG.PROPERTIES.SORT":"Ordenación de columnas","TABLE.DIALOG.PROPERTIES.SORT.INFO":"Almacena la ordenación de cada columna","TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY":"Visibilidad de columnas","TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO":"Almacena las columnas que se muestran, el orden en el que se muestran y el ancho de cada una","TABLE.DIALOG.PROPERTIES.QUICK_FILTER":"Estado del filtro","TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO":"Almacena el valor actual del filtro","TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER":"Filtrado por columnas","TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO":"Almacena los filtros configurados en cada una de las columnas","TABLE.DIALOG.PROPERTIES.PAGE":"Estado de paginación","TABLE.DIALOG.PROPERTIES.PAGE.INFO":"Almacena el estado de la paginación","TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION":"¿Está seguro de que quiere eliminar la configuración seleccionada?","TABLE.DIALOG.EXPORT.DESCRIPTION":"Seleccione el formato al que desea exportar la información de la tabla.","LAYOUT_MANANGER.MAIN_TAB_LABEL":"Inicio","LAYOUT_MANANGER.DIALOG_TITLE":"Detalle","LAYOUT_MANANGER.INSERTION_MODE_TITLE":"Nuevo","APP_LAYOUT.USER_PROFILE":"Mi perfil","CARD_MENU_LAYOUT.BUTTON_TEXT":"Acceder","GRID.ITEMS_PER_PAGE":"Elementos por página","GRID.SORT_BY":"Ordenado por","GRID.SORT_BY_ASC":"Ordenado por {0} ascendente","GRID.SORT_BY_DESC":"Ordenado por {0} descendente","GRID.BUTTON_NEXT":"Ver más","GRID.TEXT_SHOWN_ITEMS":"{0} / {1}","GRID.EMPTY":"No se han obtenido resultados","GRID.EMPTY_USING_FILTER":' usando el filtro "{0}"',"TABLE_CONTEXT_MENU.VIEW_DETAIL":"Ver detalle","TABLE_CONTEXT_MENU.EDIT":"Editar","TABLE_CONTEXT_MENU.INSERT":"Insertar","TABLE_CONTEXT_MENU.COPY":"Copiar","TABLE_CONTEXT_MENU.COPY_CELL":"Copiar celda","TABLE_CONTEXT_MENU.COPY_ROW":"Copiar celda","TABLE_CONTEXT_MENU.COPY_ALL":"Copy all","TABLE_CONTEXT_MENU.COPY_SELECTION":"Copiar selección","TABLE_CONTEXT_MENU.SELECT_ALL":"Seleccionar todos","TABLE_CONTEXT_MENU.DESELECT_ALL":"Deseleccionar todos","TABLE_CONTEXT_MENU.REFRESH":"Refrescar","TABLE_CONTEXT_MENU.DELETE":"Borrar","TABLE_CONTEXT_MENU.FILTER":"Filtrar","TABLE_CONTEXT_MENU.FILTER_BY":"Filter by:","TABLE_CONTEXT_MENU.FILTER_BY_VALUE":"Filtrar por este valor"},pt:{LANGUAGE:"Idioma",LOCALE_en:"EN",LOCALE_es:"ES",LOCALE_pt:"PT",USERNAME:"Usuário",PASSWORD:"Senha",LOGIN:"Entrar",LOGOUT:"Sair",OK:"Ok",ACCEPT:"Aceitar",CANCEL:"Cancelar",CLOSE:"Fechar",YES:"Sim",NO:"Não",RESET:"Resetar",CONFIRM:"Confirmar",NEXT:"Próximo",PREVIOUS:"Anterior",FINISH:"Finalizar",SAVE:"Salvar",INSERT:"Ok",REFRESH:"Recarregar",SEARCH:"Buscar",FILTER:"Filtrar",DELETE:"Apagar",ADD:"Novo",SELECT:"Selecionar",SELECT_ALL:"Selecionar Tudo",INFO:"Informação",ERROR:"Erro",FOUND:"Encontrados",RESULTS:"Resultados",TOTAL:"Total",MONEY:"Dinheiro",HOME:"Início",SHOW_CONSOLE:"Mostrar console",FILE:"Arquivo",OPTIONS:"Opções",EDIT:"Editar",UNDO:"Desfazer",REDO:"Refazer",COPY:"Copiar",PASTE:"Colar",LOCK:"Bloquear",EXIT:"Sair",SETTINGS:"Configuração",FEATURES:"Características",FORM:"Formulário",LIST:"Lista","LIST.EMPTY":"Nenhum resultado encontrado","LIST.EMPTY_USING_FILTER":' usando o filtro "{0}"',TABLE:"Tabela",DETAIL:"Detalhe",PAGE:"Página",FIRST_PAGE:"Primeira",LAST_PAGE:"Última",PREVIOUS_PAGE:"Anterior",NEXT_PAGE:"Próxima",PHOTO:"Fotografia",CHOOSE_FILE:"Escolher Arquivo","FORM_VALIDATION.REQUIRED":"Requerido","FORM_VALIDATION.LENGTH":"Longitude inválida","FORM_VALIDATION.MIN_LENGTH":"Longitude mínima","FORM_VALIDATION.MAX_LENGTH":"Longitude máxima","FORM_VALIDATION.MIN_DECIMAL_DIGITS":"Mínimo número de cifras decimais","FORM_VALIDATION.MAX_DECIMAL_DIGITS":"Máximo número de cifras decimais","FORM_VALIDATION.EMAIL_FORMAT":"Email inválido","FORM_VALIDATION.NIF_FORMAT":"Formato inválido (DNI: 12345678-A, NIE: X-1234567-A)","FORM_VALIDATION.DNI_LETTER":"Letra de RG inválida","FORM_VALIDATION.DATE_RANGE":"Data inválida","FORM_VALIDATION.MIN_VALUE":"Valor mínimo","FORM_VALIDATION.MAX_VALUE":"Valor máximo","FORM_VALIDATION.DATE_PARSE":"Data inválida para o filtro definido","FORM_VALIDATION.DATE_FILTER":"Fecha no es válida para el filtro definido","FORM_VALIDATION.DATE_MIN":"Data mínima","FORM_VALIDATION.DATE_MAX":"Data máxima","FORM_VALIDATION.FILE_TYPE":"Formato no válido","FORM_VALIDATION.FILE_MAXSIZE":"Tamanho de arquivo máximo","FORM_VALIDATION.FILE_MAXNUM":"Número máximo de arquivos","FORM_VALIDATION.HOUR_FORMAT":"Formato inválido","MESSAGES.FORM_VALIDATION_ERROR":"O formulário apresenta campos com valores inválidos","MESSAGES.FORM_NOTHING_TO_UPDATE_INFO":"Não existem valores a serem atualizados!","MESSAGES.FORM_CHANGES_WILL_BE_LOST":"Tem certeza que quer continuar? Perderá todas as alterações realizadas","MESSAGES.ERROR_LOGIN":"Erro de início de sessão. Comprove nome de usuário e/ou senha.","MESSAGES.ERROR_SESSION":"A sessão foi encerrada","MESSAGES.ERROR_INSERT":"Erro ao inserir os dados.","MESSAGES.ERROR_QUERY":"Erro na consulta de dados do servidor.","MESSAGES.ERROR_UPDATE":"Erro de atualização dos dados.","MESSAGES.ERROR_DELETE":"Erro ao apagar os dados.","MESSAGES.ERROR_ATTRIBUTE_REQUIRED":"Atributo requerido não fornecido.","MESSAGES.ERROR_FILE_LOAD":"Erro ao carregar o arquivo.","MESSAGES.CONFIRM_ACTION":"Tem certeza que quer continuar?","MESSAGES.CONFIRM_LOGOUT":"Tem certeza que quer sair?","MESSAGES.CONFIRM_DELETE":"Tem certeza que quer apagar os ítens selecionados?","MESSAGES.CONFIRM_CANCEL":"Tem certeza que quer cancelar sem salvar as alterações?","MESSAGES.SAVING":"Salvando, aguarde...","MESSAGES.SAVED":"Salvado","MESSAGES.DELETED":"Apagado","MESSAGES.INSERTED":"Inserido","MESSAGES.UPDATED":"Atualizado","MESSAGES.NO_RESULTS":"Nenhum resultado encontrado.","MESSAGES.ERROR_MISSING_LANG":"Não foi encontrado o arquivo de configuração do idioma selecionado","MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN":"Tem certeza que quer descartar todos os filtros de coluna ativos?","MESSAGES.ERROR_EXPORT_TABLE_DATA":"Erro na exportação dos dados da tabela.","MESSAGES.SUCCESS_EXPORT_TABLE_DATA":"Os dados da tabela foram exportados corretamente.","MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION":"Operação não permitida por falta de permissões.","MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION":"Navegação não permitida por falta de permissões.","MESSAGES.NAVIGATION_REDIRECTED_PERMISSION":"Navegção redirecionada por falta de permissões.","MESSAGES.ERROR_403_TEXT":"Não tem autorização para ver esta página.","MESSAGES.ERROR_403_TEXT_BUTTON":"Voltar","MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS":"Não foi selecionada nenhuma coluna para realizar a busca.","INPUT.COMBO.EMPTY":"Não existem resultados","INPUT.COMBO.MESSAGE_TRIGGER":"(+ outros {0})","TABLE.FILTER_BY_COLUMN.CHECK_ALL":"Selecionar todos","TABLE.FILTER_BY_COLUMN.EMPTY_VALUE":"(valor vazío)","TABLE.FILTER_BY_COLUMN.HINT_STAR":"Use * para buscar por quaisquer valores","TABLE.FILTER_BY_COLUMN.BY_VALUE":"Filtro por valor","TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER":"Filtro personalizado","TABLE.FILTER_BY_COLUMN.FROM":"De","TABLE.FILTER_BY_COLUMN.TO":"Até","TABLE.FILTER_BY_COLUMN.LIST_EMPTY":"Não existem valores","TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER":"Introduza um filtro","TABLE.FILTER":"Filtrar","TABLE.FILTER.CASE_SENSITIVE":"Coincidir maiúsculas e minúsculas","TABLE.EMPTY":"Nenhum resultado encontrado.","TABLE.EMPTY_USING_FILTER":"usando o filtro '{0}","TABLE.INFO":"_START_ - _END_ de _TOTAL_","TABLE.INFO_EMPTY":"0 - 0 de 0","TABLE.INFO_FILTERED":"(filtrados de um total de _MAX_ registros)","TABLE.INFO_POST_FIX":"","TABLE.LENGTH_MENU":"Registros por página: _MENU_","TABLE.LOADING_RECORDS":"Carregando...","TABLE.PROCESSING":"Processando...","TABLE.SEARCH":"","TABLE.ZERO_RECORDS":"Não foram encontradas coincidências","TABLE.PAGINATE.FIRST":"Primeiro","TABLE.PAGINATE.LAST":"Último","TABLE.PAGINATE.NEXT":"Próximo","TABLE.PAGINATE.PREVIOUS":"Anterior","TABLE.PAGINATE.RANGE_LABEL":"de","TABLE.PAGINATE.ITEMSPERPAGELABEL":"Registros por página","TABLE.ARIA.SORT_ASCENDING":": ativar para ordenar a coluna de forma ascendente","TABLE.ARIA.SORT_DESCENDING":": ativar para ordenar a coluna de forma descendente","TABLE.BUTTONS.COLVIS":"Mostrar / ocultar colunas","TABLE.BUTTONS.COPY_TITLE":"Copiado na área de transferência (clipboard)","TABLE.BUTTONS.COPY_SUCCESS._":"%d registros copiados","TABLE.BUTTONS.COPY_SUCCESS.1":"1 registro copiado","TABLE.BUTTONS.COPY_TO_CLIPBOARD":"Copia para a área de transferência (clipboard)","TABLE.BUTTONS.PRINT":"Imprimir","TABLE.BUTTONS.EXPORT":"Exportar","TABLE.BUTTONS.EXCEL":"Excel","TABLE.BUTTONS.HTML":"HTML","TABLE.BUTTONS.PDF":"PDF","TABLE.BUTTONS.GROUP_ROWS":"Agrupar registros","TABLE.BUTTONS.RESIZE_COLUMNS":"Alterar tamanho de colunas","TABLE.BUTTONS.FILTER":"Filtrar","TABLE.BUTTONS.FILTER_SAVE":"Guardar filtro","TABLE.BUTTONS.FILTER_LOAD":"Aplicar filtro","TABLE.BUTTONS.FILTER_CLEAR":"Limpar filtro","TABLE.BUTTONS.REFRESH":"Recarregar","TABLE.BUTTONS.DELETE":"Eliminar","TABLE.BUTTONS.ADD":"Novo","TABLE.BUTTONS.SELECT":"Selecionar...","TABLE.BUTTONS.FILTER_BY_COLUMN":"Filtrado por colunas","TABLE.BUTTONS.SAVE_FILTER":"Guardar filtro","TABLE.BUTTONS.CONFIGURATION":"Configuração","TABLE.BUTTONS.SAVE_CONFIGURATION":"Guardar configuração","TABLE.BUTTONS.APPLY_CONFIGURATION":"Aplicar configuração","TABLE.BUTTONS.APPLY":"Aplicar","TABLE.SELECT.ROWS._":"%d registros selecionados","TABLE.SELECT.ROWS.0":"","TABLE.SELECT.ROWS.1":"1 registro selecionado","TABLE.SHOW_ALL":"Tudo","TABLE.SELECT_DATE":"Selecionar data","TABLE.ROW_VALIDATION_ERROR":"A linha apresenta campos com valores inválidos","TABLE.DIALOG.SAVE_FILTER":"Selecione um nome para o filtro.","TABLE.DIALOG.FILTER_NAME":"Nome","TABLE.DIALOG.FILTER_DESCRIPTION":"Descrição","TABLE.DIALOG.LOAD_FILTER":"Selecione um filtro para aplicar à tabela","TABLE.DIALOG.CONFIRM_CLEAR_FILTER":"Esta ação limpará todos os filtros aplicados à tabela. Deseja continuar?","TABLE.DIALOG.CONFIRM_REMOVE_FILTER":"Tem certeza que quer eliminar o filtro selecionado?","TABLE.DIALOG.EMPTY_FILTER_LIST":"Não existem filtros armazenados","TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS":"Já existe um filtro com esse nome","TABLE.DIALOG.SAVE_CONFIGURATION":"Introduza um nome e uma descrição para a configuração","TABLE.DIALOG.CONFIGURATION_NAME":"Nome","TABLE.DIALOG.CONFIGURATION_DESCRIPTION":"Descrição","TABLE.DIALOG.APPLY_CONFIGURATION":"Selecione uma configuração para aplicar à tabela","TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT":"Configuração padrão","TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION":"Restaura a configuração inicial da tabela","TABLE.DIALOG.CONFIGURATION_PROPERTIES":"Selecione que propriedades deseja armazenar","TABLE.DIALOG.PROPERTIES.SORT":"Ordenação de colunas","TABLE.DIALOG.PROPERTIES.SORT.INFO":"Armazena a ordenação de cada coluna","TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY":"Visibilidade de colunas","TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO":"Armazena as colunas mostradas, a ordem em que são mostradas e a largura de cada uma","TABLE.DIALOG.PROPERTIES.QUICK_FILTER":"Estado do filtro","TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO":"Armazena o valor atual do filtro","TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER":"Filtrado por colunas","TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO":"Armazena os filtros configurados em cada uma das colunas","TABLE.DIALOG.PROPERTIES.PAGE":"Estado de paginação","TABLE.DIALOG.PROPERTIES.PAGE.INFO":"Armazena o estado da paginação","TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION":"Tem certeza que quer eliminar a configuração selecionada?","TABLE.DIALOG.EXPORT.DESCRIPTION":"Selecione o formato de exportação da informação da tabela.","LAYOUT_MANANGER.MAIN_TAB_LABEL":"Início","LAYOUT_MANANGER.DIALOG_TITLE":"Detalhe","LAYOUT_MANANGER.INSERTION_MODE_TITLE":"Novo","APP_LAYOUT.USER_PROFILE":"Meu perfil","CARD_MENU_LAYOUT.BUTTON_TEXT":"Acessar","GRID.ITEMS_PER_PAGE":"Elementos por página","GRID.SORT_BY":"Ordenado por","GRID.SORT_BY_ASC":"Ordenado por {0} ascendente","GRID.SORT_BY_DESC":"Ordenado por {0} descendente","GRID.BUTTON_NEXT":"Ver mais","GRID.TEXT_SHOWN_ITEMS":"{0} / {1}","GRID.EMPTY":"Não existem resultados","GRID.EMPTY_USING_FILTER":"usando o filtro '{0}","TABLE_CONTEXT_MENU.VIEW_DETAIL":"Ver detalhes","TABLE_CONTEXT_MENU.EDIT":"Editar","TABLE_CONTEXT_MENU.INSERT":"Inserir","TABLE_CONTEXT_MENU.COPY":"Copiar","TABLE_CONTEXT_MENU.COPY_CELL":"Copiar célula","TABLE_CONTEXT_MENU.COPY_ROW":"Copiar célula","TABLE_CONTEXT_MENU.COPY_ALL":"Copiar todos","TABLE_CONTEXT_MENU.COPY_SELECTION":"Copiar seleção","TABLE_CONTEXT_MENU.SELECT_ALL":"Selecionar todos","TABLE_CONTEXT_MENU.DESELECT_ALL":"Desselecionar todos","TABLE_CONTEXT_MENU.REFRESH":"Recarregar","TABLE_CONTEXT_MENU.DELETE":"Apagar","TABLE_CONTEXT_MENU.FILTER":"Filtrar","TABLE_CONTEXT_MENU.FILTER_BY":"Filtrar por:","TABLE_CONTEXT_MENU.FILTER_BY_VALUE":"Filtrar por esse valor"}},Wt=(Qt.prototype.load=function(t){this._locale=t},Qt.prototype.parseDate=function(t,e,n){var o="";return n=n||this._locale,o="Invalid date"===(o=("number"==typeof t?S(new Date(t)).locale(n):S(t,Qt.DATE_FORMATS,n)).format(e||Qt.defaultFormat))?"":o},Qt.prototype.getLocale=function(){return this._locale},Qt.DATE_FORMATS=["YYYY-MM-DD","DD-MM-YYYY","MM-DD-YYYY","YYYY-MM-DDThh:mm:ss.S","YYYY-MM-DDThh:mm:ss.SSSZ","YYYY-MM-DD hh:mm:ssZ"],Qt.defaultFormat="L",Qt.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],Qt.ctorParameters=function(){return[{type:c.Injector}]},Qt.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new Qt(c.ɵɵinject(c.INJECTOR))},token:Qt,providedIn:"root"}),Qt);function Qt(t){this.injector=t,this._config=this.injector.get(G).getConfiguration(),this.load(this._config.locale)}var Xt=function(){},$t=(Zt.prototype.open=function(t,e){this.message=t,e&&(e.action&&(this.action=e.action),e.icon&&(this.icon=e.icon),e.iconPosition&&(this.iconPosition=e.iconPosition))},Zt.prototype.onAction=function(){this.snackBarRef.dismissWithAction()},Zt.decorators=[{type:c.Component,args:[{selector:"o-snackbar",template:'<div fxLayout="row" fxLayoutAlign="start center">\n  <mat-icon *ngIf="icon && iconPosition===\'left\'" class="o-snackbar-icon">{{ icon }}</mat-icon>\n  <span fxFlex class="o-snackbar-message">\n    {{ message | oTranslate }}\n  </span>\n  <mat-icon *ngIf="icon && iconPosition===\'right\'" class="o-snackbar-icon">{{ icon }}</mat-icon>\n  <button type="button" *ngIf="action" (click)="onAction()"\n    class="mat-simple-snackbar-action">{{ action | oTranslate }}</button>\n</div>\n',host:{"[class.o-snackbar]":"true"},styles:[".o-snackbar-message{padding:0 8px}.mat-simple-snackbar-action{-webkit-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;background:0 0}"]}]}],Zt.ctorParameters=function(){return[{type:c.Injector}]},Zt);function Zt(t){this.injector=t,this.iconPosition="left",this.snackBarRef=this.injector.get(d.MatSnackBarRef)}var Jt=(te.prototype.open=function(n,o){var i=this;return new u.Observable(function(e){var t=[te.DEFAULT_CONTAINER_CLASS];o&&o.cssClass&&t.push(o.cssClass);t={duration:o&&o.milliseconds?o.milliseconds:te.DEFAULT_DURATION,panelClass:t};i.snackBarRef=i.matSnackBar.openFromComponent($t,t),i.snackBarRef.onAction().subscribe(function(t){e.next(t)}),i.snackBarRef.afterDismissed().subscribe(function(){e.complete(),i.snackBarRef=null}),i.snackBarRef.instance.open(n,o)}).toPromise()},te.DEFAULT_DURATION=2e3,te.DEFAULT_CONTAINER_CLASS="o-snackbar-container",te.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],te.ctorParameters=function(){return[{type:c.Injector}]},te.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new te(c.ɵɵinject(c.INJECTOR))},token:te,providedIn:"root"}),te);function te(t){this.injector=t,this.matSnackBar=this.injector.get(d.MatSnackBar)}var ee=(ne.instanceofBasicExpression=function(t){return t.hasOwnProperty(ne.BASIC_EXPRESSION_KEY)&&ne.instanceofExpression(t[ne.BASIC_EXPRESSION_KEY])},ne.buildBasicExpression=function(t){return t?(ne.instanceofExpression(t)||console.error("The expression provided is not an instance of 'Expression'"),{"@basic_expression":t}):undefined},ne.instanceofFilterExpression=function(t){return t.hasOwnProperty(ne.FILTER_EXPRESSION_KEY)&&ne.instanceofExpression(t[ne.FILTER_EXPRESSION_KEY])},ne.buildFilterExpression=function(t){return t?(ne.instanceofExpression(t)||console.error("The expression provided is not an instance of 'Expression'"),{"@filter_expression":t}):undefined},ne.instanceofExpression=function(t){return t.hasOwnProperty("lop")&&t.hasOwnProperty("op")},ne.buildComplexExpression=function(t,e,n){return t.lop===undefined&&t.op===undefined?e:e.lop===undefined&&e.op===undefined?t:{lop:t,op:n,rop:e}},ne.buildExpressionEquals=function(t,e){return{lop:t,op:ne.OP_EQUAL,rop:e}},ne.buildExpressionIsNotNull=function(t){return{lop:t,op:ne.OP_NOT_NULL}},ne.buildExpressionIsNull=function(t){return{lop:t,op:ne.OP_NULL}},ne.buildExpressionLess=function(t,e){return{lop:t,op:ne.OP_LESS,rop:e}},ne.buildExpressionLessEqual=function(t,e){return{lop:t,op:ne.OP_LESS_EQUAL,rop:e}},ne.buildExpressionMore=function(t,e){return{lop:t,op:ne.OP_MORE,rop:e}},ne.buildExpressionMoreEqual=function(t,e){return{lop:t,op:ne.OP_MORE_EQUAL,rop:e}},ne.buildExpressionIn=function(t,e){return{lop:t,op:ne.OP_IN,rop:e}},ne.buildExpressionNotLike=function(t,e){return e!==undefined&&-1===(e=e.replace(new RegExp("\\*","g"),"%")).indexOf("%")&&(e="%"+e+"%"),{lop:t,op:ne.OP_NOT_LIKE,rop:e}},ne.buildExpressionLike=function(t,e){return e!==undefined&&-1===(e=e.replace(new RegExp("\\*","g"),"%")).indexOf("%")&&(e="%"+e+"%"),{lop:t,op:ne.OP_LIKE,rop:e}},ne.buildExpressionLikeEnd=function(t,e){return e!==undefined&&(e="%"+e),{lop:t,op:ne.OP_LIKE,rop:e}},ne.buildExpressionLikeStart=function(t,e){return e!==undefined&&(e+="%"),{lop:t,op:ne.OP_LIKE,rop:e}},ne.buildExpressionNotEquals=function(t,e){return{lop:t,op:ne.OP_NOT_EQUAL,rop:e}},ne.buildExpressionNullAndValue=function(t,e,n){return{lop:ne.buildExpressionIsNull(t),op:n,rop:ne.buildExpressionEquals(t,e)}},ne.buildArrayExpressionLike=function(t,e){var n={lop:undefined,op:undefined};return t.forEach(function(t){n=ne.stackExpressionLikeOR(t,e,n)}),n},ne.buildExpressionFromObject=function(e){var n={lop:undefined,op:undefined};return Object.keys(e||{}).forEach(function(t){n=ne.stackExpressionEqualsAND(t,e[t],n)}),n},ne.stackExpressionLikeOR=function(t,e,n){e=ne.buildExpressionLike(t,e);return n.lop===undefined&&n.op===undefined?e:n=ne.buildComplexExpression(n,e,ne.OP_OR)},ne.stackExpressionEqualsAND=function(t,e,n){e=ne.buildExpressionEquals(t,e);return n.lop===undefined&&n.op===undefined?e:n=ne.buildComplexExpression(n,e,ne.OP_AND)},ne.BASIC_EXPRESSION_KEY="@basic_expression",ne.FILTER_EXPRESSION_KEY="@filter_expression",ne.OP_OR="OR",ne.OP_AND="AND",ne.OP_LIKE="LIKE",ne.OP_NOT_LIKE="NOT LIKE",ne.OP_EQUAL="=",ne.OP_NOT_EQUAL="<>",ne.OP_NULL="IS NULL",ne.OP_NOT_NULL="IS NOT NULL",ne.OP_LESS="<",ne.OP_LESS_EQUAL="<=",ne.OP_MORE=">",ne.OP_MORE_EQUAL=">=",ne.OP_IN="IN",ne);function ne(){}var oe,ie=(_(re,oe=Ot),re.prototype.configureService=function(t){oe.prototype.configureService.call(this,t),this._startSessionPath=this._appConfig.startSessionPath||"/users/login",this.path=t.path},re.prototype.startsession=function(t,e){var n=this,o=this.urlBase+this._startSessionPath,i={headers:new s.HttpHeaders({Authorization:"Basic "+btoa(t+":"+e)}),observe:"response"};return new u.Observable(function(e){n.httpClient.post(o,null,i).subscribe(function(t){k.isDefined(t)&&k.isDefined(t.headers)&&k.isDefined(t.headers.get("X-Auth-Token"))?e.next(t.headers.get("X-Auth-Token")):e.error("Invalid user or password")},function(t){return e.error(t)})}).pipe(l.share())},re.prototype.endsession=function(t,e){return new u.Observable(function(t){setTimeout(function(){t.next(0)},0)}).pipe(l.share())},re.prototype.hassession=function(t,e){return new u.Observable(function(t){t.next(!0)}).pipe(l.share())},re.prototype.query=function(t,e,n,o){t=k.isDefined(t)?t:this.kv,e=k.isDefined(e)?e:this.av,o=k.isDefined(o)?o:this.sqltypes;n=""+this.urlBase+this.path+"/"+n+"/search",o=JSON.stringify({filter:t,columns:e,sqltypes:o});return this.doRequest({method:"POST",url:n,body:o,successCallback:this.parseSuccessfulQueryResponse,errorCallBack:this.parseUnsuccessfulQueryResponse})},re.prototype.advancedQuery=function(t,e,n,o,i,r,a){t=k.isDefined(t)?t:this.kv,e=k.isDefined(e)?e:this.av,o=k.isDefined(o)?o:this.sqltypes,a=k.isDefined(a)?a:this.orderby,i=k.isDefined(i)?i:this.offset,r=k.isDefined(r)?r:this.pagesize;n=""+this.urlBase+this.path+"/"+n+"/advancedsearch",a=JSON.stringify({filter:t,columns:e,sqltypes:o,offset:i,pageSize:r,orderBy:a});return this.doRequest({method:"POST",url:n,body:a,successCallback:this.parseSuccessfulAdvancedQueryResponse,errorCallBack:this.parseUnsuccessfulAdvancedQueryResponse})},re.prototype.insert=function(t,e,n){void 0===t&&(t={});e=""+this.urlBase+this.path+"/"+e,n=JSON.stringify({data:t,sqltypes:n});return this.doRequest({method:"POST",url:e,body:n,successCallback:this.parseSuccessfulInsertResponse,errorCallBack:this.parseUnsuccessfulInsertResponse})},re.prototype.update=function(t,e,n,o){void 0===t&&(t={}),void 0===e&&(e={});n=""+this.urlBase+this.path+"/"+n,o=JSON.stringify({filter:t,data:e,sqltypes:o});return this.doRequest({method:"PUT",url:n,body:o,successCallback:this.parseSuccessfulUpdateResponse,errorCallBack:this.parseUnsuccessfulUpdateResponse})},re.prototype["delete"]=function(t,e,n){void 0===t&&(t={});e=""+this.urlBase+this.path+"/"+e,n=JSON.stringify({filter:t,sqltypes:n});return this.doRequest({method:"DELETE",url:e,body:n,successCallback:this.parseSuccessfulDeleteResponse,errorCallBack:this.parseUnsuccessfulDeleteResponse})},re.prototype.buildHeaders=function(){return oe.prototype.buildHeaders.call(this).append("Authorization","Bearer "+this._sessionid)},re.decorators=[{type:c.Injectable}],re);function re(){var t=null!==oe&&oe.apply(this,arguments)||this;return t.path="",t}var ae,se=(_(le,ae=Ot),le.prototype.configureService=function(t,e){void 0===e&&(e=!1),ae.prototype.configureService.call(this,t),this.exportAll=e,t.exportPath&&(this.exportPath=t.exportPath),t.downloadPath&&(this.downloadPath=t.downloadPath),t.path&&(this.servicePath=t.path)},le.prototype.buildHeaders=function(){return new s.HttpHeaders({"Access-Control-Allow-Origin":"*",Authorization:"Bearer "+this._sessionid})},le.prototype.exportData=function(t,n,e){var o=this,i=""+this.urlBase+(this.exportPath||"")+this.servicePath+"/"+e+"/"+n,r={headers:this.buildHeaders().append("Content-Type","application/json;charset=UTF-8"),observe:"response"},a=JSON.stringify(t);return new u.Observable(function(e){o.httpClient.post(i,a,r).pipe(l.map(function(t){return o.adapter.adapt(t)})).subscribe(function(t){o.parseSuccessfulExportDataResponse(n,t,e)},function(t){o.parseUnsuccessfulResponse(t,e)})}).pipe(l.share())},le.prototype.parseSuccessfulExportDataResponse=function(t,e,n){e&&e.isUnauthorized()?this.clientErrorFallback(401):e&&e.isFailed()?n.error(e.message):e&&e.isSuccessful()?this.downloadFile(e.data[0][t+"Id"],t).subscribe(function(t){return n.next(t)},function(t){return n.error(t)},function(){return n.complete()}):n.error("Service unavailable")},le.prototype.downloadFile=function(i,r){var t=this,e=""+this.urlBase+(this.downloadPath||"")+this.servicePath+"/"+r+"/"+i,n={headers:this.buildHeaders(),observe:"response",responseType:"blob"};return new u.Observable(function(o){t.httpClient.get(e,n).subscribe(function(t){var e=t.body,n=URL.createObjectURL(e),t=document.createElement("a");document.body.appendChild(t),t.href=n,t.download=i+"."+r,t.click(),document.body.removeChild(t),o.next(e),URL.revokeObjectURL(n)},function(t){return o.error(t)},function(){return o.complete()})}).pipe(l.share())},le.decorators=[{type:c.Injectable}],le.ctorParameters=function(){return[{type:c.Injector}]},le);function le(t){var e=ae.call(this,t)||this;return e.injector=t,e.exportAll=!1,e}var ce,ue=(_(pe,ce=Ot),pe.prototype.configureService=function(t){ce.prototype.configureService.call(this,t),this.path=t.path},pe.prototype.upload=function(o,i,r){var a=this;return new u.Observable(function(n){var t=""+a.urlBase+a.path+"/"+i,e=new FormData;o.forEach(function(t){t.prepareToUpload(),t.isUploading=!0,e.append("name",t.name),e.append("file",t.file)}),r&&e.append("data",JSON.stringify(r));t=new s.HttpRequest("POST",t,e,{headers:a.buildHeaders(),reportProgress:!0});a.httpClient.request(t).subscribe(function(t){var e;s.HttpEventType.UploadProgress===t.type?(e={loaded:t.loaded,total:t.total},n.next(e)):s.HttpEventType.Response===t.type&&(t.body?3===t.body.code?a.redirectLogin(!0):1===t.body.code?n.error(t.body.message):0===t.body.code?n.next(t.body):n.error("Service unavailable"):n.next(t.body))},function(t){console.error(t),401===t.status?a.redirectLogin(!0):n.error(t)},function(){return n.complete()})}).pipe(l.share())},pe.prototype.buildHeaders=function(){return new s.HttpHeaders({"Access-Control-Allow-Origin":"*",Authorization:"Bearer "+this._sessionid})},pe.decorators=[{type:c.Injectable}],pe);function pe(){var t=null!==ce&&ce.apply(this,arguments)||this;return t.path="",t}var de=new c.InjectionToken("Ontimize data service"),he=new c.InjectionToken("Translate service"),me=new c.InjectionToken("File uploader service"),fe=new c.InjectionToken("Export service"),ge=new c.InjectionToken("Permission service");function ye(t){var e=Oe(Ie(de,t),t);if(k.isDefined(e))return e;e=t.get(G).getConfiguration();return"undefined"==typeof e.serviceType?new _t(t):"OntimizeEE"===e.serviceType?new ie(t):Oe(e.serviceType,t)}function be(t){var e=Oe(Ie(me,t),t);return k.isDefined(e)?e:new ue(t)}function ve(t){var e=Oe(Ie(fe,t),t);if(k.isDefined(e))return e;e=t.get(G).getConfiguration();return"undefined"==typeof e.exportServiceType?new se(t):Oe(e.exportServiceType,t)}function Ee(t){var e=Oe(Ie(ge,t),t);if(k.isDefined(e))return e;e=t.get(G).getConfiguration();return k.isDefined(e.permissionsServiceType)&&"OntimizePermissions"!==e.permissionsServiceType?"OntimizeEEPermissions"===e.permissionsServiceType?new Lt(t):Oe(e.permissionsServiceType,t):new xt(t)}var Ce={provide:_t,useFactory:ye,deps:[c.Injector]},Te={provide:se,useFactory:ve,deps:[c.Injector]};function Ie(t,e){var n;try{n=e.get(t)}catch(o){}return n}function Oe(t,e){if(k.isDefined(t)){var n=Object.create(t.prototype);return t.apply(n,[e]),n}}function Se(t){var e=Oe(Ie(he,t),t);return k.isDefined(e)?e:new Ae(t)}var Ae=(_e.prototype.storeLanguage=function(t){var e;t&&((e=(e=localStorage.getItem(this.localStorageKey))&&0<e.length?JSON.parse(e):{})[P.LANGUAGE_KEY]=t,localStorage.setItem(this.localStorageKey,JSON.stringify(e)))},_e.prototype.getStoredLanguage=function(){var t=localStorage.getItem(this.localStorageKey);return t?JSON.parse(t)[P.LANGUAGE_KEY]:void 0},_e.prototype.checkExistingLangFile=function(o){var i=this,r=this;return new Promise(function(t){var e,n;-1===r.existingLangFiles.indexOf(o)?(e=i.ngxTranslateService.currentLoader.prefix,n=i.ngxTranslateService.currentLoader.suffix,r.httpClient.get(e+o+n).subscribe(function(){-1===r.existingLangFiles.indexOf(o)&&r.existingLangFiles.push(o),t(!0)},function(){-1===r.notFoundLang.indexOf(o)&&r.notFoundLang.push(o),t(!1)})):t(!0)})},_e.prototype.setDefaultLang=function(e){this.ngxTranslateService.defaultLang=e,this.checkExistingLangFile(e).then(function(t){t||console.error("Default language("+e+") has no bundle file defined")})},_e.prototype.get=function(t,e){void 0===e&&(e=[]);try{var n,o=(o=(n=this.ngxTranslateService.get(t,e))&&n.value?n.value:o)===t?undefined:o}catch(i){o=undefined}return o=o||((n=Kt[this.ngxTranslateService.currentLang]||Kt[this.DEFAULT_LANG])&&n[t]?n[t]:t)},_e.prototype.setAppLang=function(e){var n=this;return new u.Observable(function(t){n.use(e,t)})},_e.prototype.use=function(n,o){var t,i=this;n===undefined?(t=n||this.DEFAULT_LANG,this.propagateLang(t,{},o)):this.checkExistingLangFile(n).then(function(t){var e=n;t||(e=k.isDefined(i.appConfig._config.defaultLocale)?i.appConfig._config.defaultLocale:i.ngxTranslateService.getDefaultLang(),t=Kt[e||i.DEFAULT_LANG]["MESSAGES.ERROR_MISSING_LANG"],i.injector.get(Jt).open(t,{milliseconds:2500})),i.ngxTranslateService.use(e).subscribe(function(t){i.storeLanguage(e),i.propagateLang(e,t,o)})})},_e.prototype.propagateLang=function(t,e,n){var o=Kt[t||this.DEFAULT_LANG];o!==undefined&&(o=Object.assign({},o,e),this.ngxTranslateService.translations[t]=o),this.momentService.load(t),Y.callEmit(this.onLanguageChanged,t),n&&n.next(e)},_e.prototype.getCurrentLang=function(){return this.ngxTranslateService.currentLang},_e.prototype.getBrowserLang=function(){if("undefined"==typeof window||"undefined"==typeof window.navigator)return undefined;var t=window.navigator,e=t.languages?t.languages[0]:null;return e=-1!==(e=-1!==(e=t.language||e||t.browserLanguage||t.userLanguage).indexOf("-")?e.split("-")[0]:e).indexOf("_")?e.split("_")[0]:e},_e.ASSETS_PATH="./assets/i18n/",_e.ASSETS_EXTENSION=".json",_e.decorators=[{type:c.Injectable,args:[{providedIn:"root",useFactory:Se,deps:[c.Injector]}]}],_e.ctorParameters=function(){return[{type:c.Injector}]},_e.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return Se(c.ɵɵinject(c.INJECTOR))},token:_e,providedIn:"root"}),_e);function _e(t){this.injector=t,this.DEFAULT_LANG="en",this.onLanguageChanged=new c.EventEmitter,this.notFoundLang=[],this.existingLangFiles=[],this.ngxTranslateService=this.injector.get(e.TranslateService),this.momentService=this.injector.get(Wt),this.httpClient=this.injector.get(s.HttpClient),this.appConfig=this.injector.get(G),this.localStorageKey=this.appConfig.getConfiguration().uuid}var De=(Le.prototype.initialize=function(){k.isDefined(this._olabel)||(this._olabel=this.oattr),k.isDefined(this.oplaceholder)&&0<this.oplaceholder.length&&(this.oplaceholder=this.translateService.get(this.oplaceholder))},Le.prototype.getAttribute=function(){return this.oattr||undefined},Le.prototype.setEnabled=function(t){Gt.checkEnabledPermission(this.permissions)&&(t=Z(t),this._enabled=t)},Object.defineProperty(Le.prototype,"placeHolder",{get:function(){return this.oplaceholder},set:function(t){this.oplaceholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(Le.prototype,"tooltipClass",{get:function(){return this.getTooltipClass()},enumerable:!0,configurable:!0}),Le.prototype.getTooltipClass=function(){return"o-tooltip "+this.tooltipPosition},Le.prototype.getTooltipText=function(){return k.isDefined(this._tooltip)&&this.translateService?this.translateService.get(this._tooltip):this._tooltip},Object.defineProperty(Le.prototype,"tooltip",{get:function(){return this.getTooltipText()},set:function(t){this._tooltip=t},enumerable:!0,configurable:!0}),Object.defineProperty(Le.prototype,"tooltipPosition",{get:function(){return this._tooltipPosition},set:function(t){this._tooltipPosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(Le.prototype,"tooltipShowDelay",{get:function(){return this._tooltipShowDelay},set:function(t){this._tooltipShowDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(Le.prototype,"tooltipHideDelay",{get:function(){return this._tooltipHideDelay},set:function(t){this._tooltipHideDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(Le.prototype,"isReadOnly",{get:function(){return this._isReadOnly},set:function(t){this.setIsReadOnly(t)},enumerable:!0,configurable:!0}),Le.prototype.setIsReadOnly=function(t){k.isDefined(this.readOnly)||(this.enabled?Gt.checkEnabledPermission(this.permissions)&&(this._isReadOnly=t):this._isReadOnly=!1)},Object.defineProperty(Le.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){Gt.checkEnabledPermission(this.permissions)&&(t=Z(t),this._readOnly=t,this._isReadOnly=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Le.prototype,"orequired",{get:function(){return this._orequired},set:function(t){this._orequired=Z(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Le.prototype,"isRequired",{get:function(){return this.orequired},enumerable:!0,configurable:!0}),Object.defineProperty(Le.prototype,"required",{set:function(t){this.orequired=t},enumerable:!0,configurable:!0}),Object.defineProperty(Le.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t=Z(t);this.setEnabled(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Le.prototype,"olabel",{get:function(){return this._olabel},set:function(t){this._olabel=t},enumerable:!0,configurable:!0}),Le);function Le(t){this._enabled=!0,this._orequired=!1,this._tooltipPosition="below",this._tooltipShowDelay=500,this._tooltipHideDelay=0,this.injector=t,this.injector&&(this.translateService=this.injector.get(Ae))}var Re=(xe.prototype.isUserChange=function(){return this.type===xe.USER_CHANGE},xe.prototype.isProgrammaticChange=function(){return this.type===xe.PROGRAMMATIC_CHANGE},xe.USER_CHANGE=0,xe.PROGRAMMATIC_CHANGE=1,xe);function xe(t,e,n,o){this.type=t,this.newValue=e,this.oldValue=n,this.target=o}var we,Me=["oattr: attr","olabel: label","floatLabel: float-label","oplaceholder: placeholder","tooltip","tooltipPosition: tooltip-position","tooltipShowDelay: tooltip-show-delay","tooltipHideDelay: tooltip-hide-delay","data","autoBinding: automatic-binding","autoRegistering: automatic-registering","enabled","orequired: required","sqlType: sql-type","width","readOnly: read-only","clearButton: clear-button","angularValidatorsFn: validators","appearance","hideRequiredMarker:hide-required-marker","labelVisible:label-visible"],Ne=["onChange","onValueChange","onFocus","onBlur"],Pe=(_(Fe,we=De),Object.defineProperty(Fe.prototype,"hostWidth",{get:function(){return this.width},enumerable:!0,configurable:!0}),Fe.prototype.ngOnInit=function(){this.initialize()},Fe.prototype.ngAfterViewInit=function(){var t=this;this._matSuffixList&&(this.setSuffixClass(this._matSuffixList.length),this.matSuffixSubscription=this._matSuffixList.changes.subscribe(function(){t.setSuffixClass(t._matSuffixList.length)})),this.validatorChildren&&(this.validatorsSubscription=this.validatorChildren.changes.subscribe(function(){t.updateValidators()}),0<this.validatorChildren.length&&this.updateValidators()),this.enabled||(this.mutationObserver=Gt.registerDisabledChangesInDom(this.getMutationObserverTarget(),{callback:this.disableFormControl.bind(this)})),this.addOntimizeCustomAppearanceClass();try{this.oInputsOptions=this.injector.get(V)}catch(e){this.oInputsOptions={}}k.parseOInputsOptions(this.elRef,this.oInputsOptions)},Fe.prototype.ngOnDestroy=function(){this.destroy()},Fe.prototype.ngOnChanges=function(t){k.isDefined(t.angularValidatorsFn)&&this.updateValidators()},Fe.prototype.hasEnabledPermission=function(){return!this.permissions||this.permissions.enabled},Fe.prototype.hasVisiblePermission=function(){return!this.permissions||this.permissions.visible},Fe.prototype.getFormGroup=function(){if(this._fGroup)return this._fGroup;var t,e=this.form?this.form.formGroup:undefined;return this.hasEnabledPermission()&&this.hasVisiblePermission()||this._fGroup||((t={})[this.oattr]=this._fControl,this._fGroup=new i.FormGroup(t),e=this._fGroup),e},Fe.prototype.getFormControl=function(){return this._fControl},Fe.prototype.hasError=function(t){return!this.isReadOnly&&this._fControl&&this._fControl.touched&&this._fControl.hasError(t)},Fe.prototype.getErrorValue=function(t,e){return this._fControl&&this._fControl.hasError(t)&&this._fControl.getError(t)[e]||""},Fe.prototype.getActiveOErrors=function(){var e=this;return this.errorsData.filter(function(t){return e.hasError(t.name)})},Fe.prototype.initialize=function(){we.prototype.initialize.call(this),this.getControl(),this.parsePermissions(),k.isDefined(this.permissions)||(this.form?(this.registerFormListeners(),this.isReadOnly=!(this.form.isInUpdateMode()||this.form.isInInsertMode()||this.form.isEditableDetail())):this.isReadOnly=!this.enabled)},Fe.prototype.destroy=function(){this.unregisterFormListeners(),this.matSuffixSubscription&&this.matSuffixSubscription.unsubscribe(),this.validatorsSubscription&&this.validatorsSubscription.unsubscribe(),this.mutationObserver&&this.mutationObserver.disconnect(),this._fControlSubscription&&this._fControlSubscription.unsubscribe()},Fe.prototype.registerFormListeners=function(){this.form&&(this.form.registerFormComponent(this),this.form.registerFormControlComponent(this),this.form.registerSQLTypeFormComponent(this))},Fe.prototype.unregisterFormListeners=function(){this.form&&(this.form.unregisterFormComponent(this),this.form.unregisterFormControlComponent(this),this.form.unregisterSQLTypeFormComponent(this))},Object.defineProperty(Fe.prototype,"data",{set:function(t){this.setData(t)},enumerable:!0,configurable:!0}),Fe.prototype.setData=function(t){var e=this.oldValue;this.setFormValue(t),this.emitOnValueChange(Re.PROGRAMMATIC_CHANGE,t,e)},Fe.prototype.isAutomaticBinding=function(){return this.autoBinding},Fe.prototype.isAutomaticRegistering=function(){return this.autoRegistering},Fe.prototype.getValue=function(){return this.value instanceof rt&&this.value.value!==undefined?this.value.value:this.defaultValue},Fe.prototype.setValue=function(t,e,n){var o,i;void 0===e&&(e={}),void 0===n&&(n=!1),Gt.checkEnabledPermission(this.permissions)&&this.oldValue!==t&&(o=t,i=this.oldValue,this.setFormValue(t,e,n),e&&!1!==e.emitModelToViewValueChange&&(e=e.hasOwnProperty("changeType")?e.changeType:Re.PROGRAMMATIC_CHANGE,this.emitOnValueChange(e,o,i)))},Fe.prototype.clearValue=function(t,e){void 0===e&&(e=!1),Gt.checkEnabledPermission(this.permissions)&&this.setValue(void 0,t,e)},Fe.prototype.onClickClearValue=function(t){t.stopPropagation(),t.preventDefault(),this.clearValue({changeType:Re.USER_CHANGE},!0)},Fe.prototype.onChangeEvent=function(t){var e,n=this.getValue();this.oldValue!==n&&(e=this.oldValue,this.oldValue=n,this.emitOnValueChange(Re.USER_CHANGE,n,e))},Object.defineProperty(Fe.prototype,"showClearButton",{get:function(){return this.clearButton&&!this.isReadOnly&&this.enabled&&this.getValue()},enumerable:!0,configurable:!0}),Fe.prototype.onFormControlChange=function(t){this.value||(this.value=new rt),this.ensureOFormValue(t),this.onChange.emit(t)},Fe.prototype.ensureOFormValue=function(t){var e;t instanceof rt?this.value=t:!k.isDefined(t)||t instanceof rt?this.value=new rt(this.defaultValue):((e=this.value||new rt).value=t,this.value=e)},Fe.prototype.createFormControl=function(t,e){return new Yt(t,{validators:e},null)},Fe.prototype.getControl=function(){var t,e;return this._fControl||(t=this.resolveValidators(),e={value:this.value?this.value.value:undefined,disabled:!this.enabled},this._fControl=this.createFormControl(e,t),this.registerOnFormControlChange()),this._fControl},Fe.prototype.resolveValidators=function(){var e=[];return this.angularValidatorsFn.forEach(function(t){e.push(t)}),this.orequired&&e.push(i.Validators.required),e},Fe.prototype.getSQLType=function(){var t=this.sqlType&&0<this.sqlType.length?this.sqlType:this._defaultSQLTypeKey;return this._SQLType=at.getSQLTypeValue(t),this._SQLType},Object.defineProperty(Fe.prototype,"isValid",{get:function(){return!!this._fControl&&this._fControl.valid},enumerable:!0,configurable:!0}),Fe.prototype.isEmpty=function(){return!(this.value instanceof rt&&this.value.value!==undefined)},Fe.prototype.setEnabled=function(t){we.prototype.setEnabled.call(this,t),this.hasVisiblePermission()&&(this._fControl&&t?this._fControl.enable():this._fControl&&this._fControl.disable())},Object.defineProperty(Fe.prototype,"elementRef",{get:function(){return this.elRef},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"hasCustomWidth",{get:function(){return this.width!==undefined},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"orequired",{get:function(){return this._orequired},set:function(t){var e=this._orequired;this._orequired=Z(t),t!==e&&this.updateValidators()},enumerable:!0,configurable:!0}),Fe.prototype.innerOnFocus=function(t){!this.isReadOnly&&this.enabled&&this.onFocus.emit(t)},Fe.prototype.innerOnBlur=function(t){!this.isReadOnly&&this.enabled&&this.onBlur.emit(t)},Object.defineProperty(Fe.prototype,"appearance",{get:function(){return this._appearance},set:function(t){-1===["legacy","standard","fill","outline"].indexOf(t)&&(t=undefined),this._appearance=t},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"floatLabel",{get:function(){return this.labelVisible||(this.floatLabel="never"),this._floatLabel},set:function(t){-1===["always","never","auto"].indexOf(t)&&(t="auto"),this._floatLabel=t},enumerable:!0,configurable:!0}),Fe.prototype.registerOnFormControlChange=function(){var e=this;this._fControl&&(this._fControlSubscription=this._fControl.valueChanges.subscribe(function(t){e.onFormControlChange(t)}))},Fe.prototype.emitOnValueChange=function(t,e,n){n=new Re(t,e,n,this);this.onValueChange.emit(n)},Fe.prototype.setFormValue=function(t,e,n){void 0===n&&(n=!1),this.ensureOFormValue(t),this._fControl&&(this._fControl.setValue(this.value.value,e),n&&this._fControl.markAsDirty(),this._fControl.invalid&&!this.form.isInInsertMode()&&this._fControl.markAsTouched()),this.oldValue=this.value.value},Fe.prototype.updateValidators=function(){var n,o;this._fControl&&((n=this)._fControl.clearValidators(),this.errorsData=[],o=this.resolveValidators(),this.validatorChildren&&this.validatorChildren.forEach(function(t){var e=t.getValidatorFn();e&&o.push(e);e=t.getErrorsData();(t=n.errorsData).push.apply(t,w(e))}),this._fControl.setValidators(o))},Fe.prototype.addOntimizeCustomAppearanceClass=function(){try{var t;!this.elRef||(t=this.elRef.nativeElement.getElementsByTagName("mat-form-field"))&&1===t.length&&t.item(0).classList.add("mat-form-field-appearance-ontimize")}catch(e){}},Fe.prototype.getTooltipClass=function(){if(!(this.errorOptions.type===P.O_MAT_ERROR_LITE))return we.prototype.getTooltipClass.call(this);var t=k.isDefined(this._fControl.errors)?"o-mat-error":"";return we.prototype.getTooltipClass.call(this)+" "+t},Fe.prototype.getTooltipText=function(){if(this.errorOptions.type===P.O_MAT_ERROR_LITE&&k.isDefined(this._fControl.errors)&&this.oMatErrorChildren&&0<this.oMatErrorChildren.length){var e="";return this.oMatErrorChildren.forEach(function(t){e+=t.text+"\n"}),e}return we.prototype.getTooltipText.call(this)},Fe.prototype.parsePermissions=function(){var t;this.form&&k.isDefined(this.form.oattr)&&(t=this.form.getFormComponentPermissions(this.oattr),k.isDefined(t)&&(!1===t.visible?(this.elRef.nativeElement.remove(),this.destroy()):!1===t.enabled&&(this.enabled=!1,this.form&&this.form.registerFormComponent(this)),this.permissions=t))},Fe.prototype.getMutationObserverTarget=function(){var t;try{t=this.elementRef.nativeElement.getElementsByTagName("input").item(0)}catch(e){}return t},Fe.prototype.setSuffixClass=function(t){var e=this.elRef.nativeElement.getElementsByClassName("icon-field");1===e.length&&([].slice.call(e[0].classList).forEach(function(t){t.startsWith("icon-field-")&&e[0].classList.remove(t)}),0<t&&(t="icon-field-"+t+"-suffix",e[0].classList.add(t)))},Fe.prototype.disableFormControl=function(){this.getFormControl().disable({onlySelf:!0,emitEvent:!1})},Fe.propDecorators={hostWidth:[{type:c.HostBinding,args:["style.width"]}],_matSuffixList:[{type:c.ViewChildren,args:[d.MatSuffix]}],validatorChildren:[{type:c.ContentChildren,args:[Ft]}],oMatErrorChildren:[{type:c.ViewChildren,args:[Vt]}]},D([tt(),L("design:type",Boolean)],Fe.prototype,"autoBinding",void 0),D([tt(),L("design:type",Boolean)],Fe.prototype,"autoRegistering",void 0),D([tt(),L("design:type",Boolean)],Fe.prototype,"clearButton",void 0),D([tt(),L("design:type",Boolean)],Fe.prototype,"hideRequiredMarker",void 0),D([tt(),L("design:type",Boolean)],Fe.prototype,"labelVisible",void 0),Fe);function Fe(t,e,n){var o=we.call(this,n)||this;o.autoBinding=!0,o.autoRegistering=!0,o.clearButton=!1,o.angularValidatorsFn=[],o.hideRequiredMarker=!1,o.labelVisible=!0,o.onChange=new c.EventEmitter,o.onValueChange=new c.EventEmitter,o.onFocus=new c.EventEmitter,o.onBlur=new c.EventEmitter,o.defaultValue=void 0,o._SQLType=at.OTHER,o._defaultSQLTypeKey="OTHER",o.errorsData=[],o.form=t,o.elRef=e,o.permissionsService=o.injector.get(Mt);try{o.errorOptions=o.injector.get(Bt)||{}}catch(i){o.errorOptions={}}return o}var ke,Be=w(Me,["staticData: static-data","entity","service","columns","valueColumn: value-column","valueColumnType: value-column-type","parentKeys: parent-keys","visibleColumns: visible-columns","descriptionColumns: description-columns","separator","queryOnInit: query-on-init","queryOnBind: query-on-bind","queryOnEvent: query-on-event","queryMethod: query-method","serviceType: service-type","queryWithNullParentKeys: query-with-null-parent-keys","setValueOnValueChange: set-value-on-value-change","queryFallbackFunction: query-fallback-function"]),Ue=w(Ne,["onSetValueOnValueChange","onDataLoaded"]),Ve=(_(je,ke=Pe),je.prototype.initialize=function(){var e=this;ke.prototype.initialize.call(this),this.cacheQueried=!1,this.colArray=k.parseArray(this.columns,!0),this.visibleColArray=k.parseArray(this.visibleColumns,!0),k.isArrayEmpty(this.visibleColArray)&&(this.visibleColumns=this.columns,this.visibleColArray=this.colArray),this.descriptionColArray=k.parseArray(this.descriptionColumns),k.isArrayEmpty(this.descriptionColArray)&&(this.descriptionColArray=this.visibleColArray);var t=k.parseArray(this.parentKeys);this._pKeysEquiv=k.parseParentKeysEquivalences(t);var n,o,t=k.parseArray(this.setValueOnValueChange);this._setValueOnValueChangeEquiv=k.parseParentKeysEquivalences(t),this.form&&this.queryOnBind&&((n=this)._formDataSubcribe=this.form.onDataLoaded.subscribe(function(){return n.queryData()})),this.staticData?(this.queryOnBind=!1,this.queryOnInit=!1,this.setDataArray(this.staticData)):this.configureService(),this.queryOnEvent!==undefined&&this.queryOnEvent.subscribe!==undefined&&((o=this).queryOnEventSubscription=this.queryOnEvent.subscribe(function(t){(k.isDefined(t)||e.queryWithNullParentKeys)&&o.queryData()})),"function"!=typeof this.queryFallbackFunction&&(this.queryFallbackFunction=undefined)},je.prototype.destroy=function(){ke.prototype.destroy.call(this),this._formDataSubcribe&&this._formDataSubcribe.unsubscribe(),this.queryOnEventSubscription&&this.queryOnEventSubscription.unsubscribe(),this.loaderSubscription&&this.loaderSubscription.unsubscribe()},je.prototype.emitOnValueChange=function(t,e,n){var o=this;ke.prototype.emitOnValueChange.call(this,t,e,n);var i=this.getSelectedRecord();this.onSetValueOnValueChange.emit(i);var r,n=Object.keys(this._setValueOnValueChangeEquiv);n.length&&(r=this.form.getComponents(),k.isDefined(i)&&n.forEach(function(t){var e=r[o._setValueOnValueChangeEquiv[t]];k.isDefined(e)&&e.setValue(i[t])}))},je.prototype.configureService=function(){var t,e=_t;this.serviceType&&(e=this.serviceType);try{this.dataService=this.injector.get(e),k.isDataService(this.dataService)&&(t=this.dataService.getDefaultServiceConfiguration(this.service),this.entity&&(t.entity=this.entity),this.dataService.configureService(t))}catch(n){console.error(n)}},je.prototype.getAttributesValuesToQuery=function(t){t=k.isDefined(t)?t:this.colArray;return-1===t.indexOf(this.valueColumn)&&t.push(this.valueColumn),t},je.prototype.queryData=function(t){var e,n=this;this.dataService&&this.queryMethod in this.dataService&&this.entity?(t=Object.assign(t||{},lt.getParentKeysFromForm(this._pKeysEquiv,this.form)),lt.filterContainsAllParentKeys(t,this._pKeysEquiv)||this.queryWithNullParentKeys?(this.querySuscription&&this.querySuscription.unsubscribe(),this.loaderSubscription&&this.loaderSubscription.unsubscribe(),e=this.getAttributesValuesToQuery(),this.loaderSubscription=this.load(),this.querySuscription=this.dataService[this.queryMethod](t,e,this.entity).subscribe(function(t){t.isSuccessful()&&(n.cacheQueried=!0,n.setDataArray(t.data)),n.loadingSubject.next(!1),n.loaderSubscription.unsubscribe()},function(t){console.error(t),n.loadingSubject.next(!1),n.loaderSubscription.unsubscribe(),k.isDefined(n.queryFallbackFunction)?n.queryFallbackFunction(t):t&&!k.isObject(t)?n.dialogService.alert("ERROR",t):n.dialogService.alert("ERROR","MESSAGES.ERROR_QUERY")})):this.setDataArray([])):console.warn("Service not properly configured! aborting query")},je.prototype.getDataArray=function(){return this.dataArray},je.prototype.setDataArray=function(t){k.isArray(t)?(this.dataArray=t,this.syncDataIndex(!1)):k.isObject(t)&&0<Object.keys(t).length?this.dataArray=[t]:(console.warn("Component has received not supported service data. Supported data are Array or not empty Object"),this.dataArray=[]),this.onDataLoaded.emit(this.dataArray)},je.prototype.syncDataIndex=function(t){var o,i=this;void 0===t&&(t=!0),this._currentIndex=undefined,this.value&&this.value.value&&this.dataArray&&((o=this).dataArray.forEach(function(n,t){i.value.value instanceof Array?(i._currentIndex=[],i.value.value.forEach(function(t,e){n[o.valueColumn]===t&&(i._currentIndex[i._currentIndex.length]=e)})):n[o.valueColumn]===i.value.value&&(o._currentIndex=t),n[o.valueColumn]===i.value.value&&(o._currentIndex=t)}),this._currentIndex===undefined&&t&&this.queryOnBind&&this.dataArray&&0===this.dataArray.length&&!this.cacheQueried&&!this.isEmpty()&&this.queryData())},je.prototype.parseByValueColumnType=function(t){var e=t;return this.valueColumnType===P.TYPE_INT&&(t=parseInt(e,10),isNaN(t)||(e=t)),e},je.prototype.setValue=function(t,e){t=this.parseByValueColumnType(t);ke.prototype.setValue.call(this,t,e)},je.prototype.setData=function(t){t=this.parseByValueColumnType(t);ke.prototype.setData.call(this,t)},je.prototype.getSelectedRecord=function(){var t,e=this,n=this.getValue();return t=k.isDefined(n)?this.getDataArray().find(function(t){return t[e.valueColumn]===n}):t},je.prototype.load=function(){var n=this,o=this.injector.get(c.NgZone);return new u.Observable(function(t){var e=window.setTimeout(function(){t.next(!0)},n.delayLoad);return function(){window.clearTimeout(e),o.run(function(){t.next(!1),n.loading=!1})}}).subscribe(function(t){o.run(function(){n.loading=t,n.loadingSubject.next(t)})})},je.prototype.onFormControlChange=function(t){this.oldValue!==t&&ke.prototype.onFormControlChange.call(this,t)},D([tt(),L("design:type",Boolean)],je.prototype,"queryOnInit",void 0),D([tt(),L("design:type",Boolean)],je.prototype,"queryOnBind",void 0),D([tt(),L("design:type",Boolean)],je.prototype,"queryWithNullParentKeys",void 0),je);function je(t,e,n){var o=ke.call(this,t,e,n)||this;return o.valueColumnType=P.TYPE_INT,o.separator=P.SPACE_SEPARATOR,o.queryOnInit=!0,o.queryOnBind=!1,o.queryMethod=P.QUERY_METHOD,o.queryWithNullParentKeys=!1,o.onSetValueOnValueChange=new c.EventEmitter,o.onDataLoaded=new c.EventEmitter,o.dataArray=[],o.colArray=[],o.visibleColArray=[],o.descriptionColArray=[],o.loading=!1,o.cacheQueried=!1,o._pKeysEquiv={},o._setValueOnValueChangeEquiv={},o.delayLoad=250,o.loadingSubject=new u.BehaviorSubject(!1),o.form=t,o.elRef=e,o.dialogService=n.get(ot),o}var Ge=["oLockerMode","oLockerDelay"],qe=(He.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},He.prototype.manageLockerMode=function(t){"load"===this._oLockerMode?this.manageLoadMode(t):this.manageDisableMode(t)},He.prototype.manageDisableMode=function(t){this.parent.enabled=!t},He.prototype.manageLoadMode=function(t){t?this.addLoading():this.removeLoading()},He.prototype.addLoading=function(){this.componentDiv=this.element.nativeElement.children[0],this.loadingParentDiv=this.renderer.createElement("div");var t=this.renderer.createElement("div"),e=this.renderer.createElement("div"),n=this.renderer.createElement("div"),o=this.renderer.createElement("div");this.renderer.appendChild(this.loadingParentDiv,o),this.renderer.appendChild(this.loadingParentDiv,n),this.renderer.appendChild(this.loadingParentDiv,e),this.renderer.appendChild(this.loadingParentDiv,t),this.renderer.insertBefore(this.element.nativeElement,this.loadingParentDiv,this.componentDiv),this.renderer.addClass(this.loadingParentDiv,"o-loading"),this.renderer.addClass(this.element.nativeElement,"relative"),this.renderer.setStyle(this.componentDiv,"opacity","0.6")},He.prototype.removeLoading=function(){this.loadingParentDiv&&(this.renderer.removeChild(this.element.nativeElement,this.loadingParentDiv),this.renderer.removeClass(this.element.nativeElement,"relative"),this.renderer.removeStyle(this.componentDiv,"opacity"))},Object.defineProperty(He.prototype,"oLockerMode",{set:function(t){this._oLockerMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(He.prototype,"oLockerDelay",{set:function(t){this.parent.delayLoad=t},enumerable:!0,configurable:!0}),He.decorators=[{type:c.Directive,args:[{selector:"[oLocker]",inputs:Ge}]}],He.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2},{type:Ve,decorators:[{type:c.Optional},{type:c.Host}]}]},He.propDecorators={oLockerMode:[{type:c.Input}],oLockerDelay:[{type:c.Input}]},He);function He(t,e,n){var o=this;this.element=t,this.renderer=e,this.parent=n,this._oLockerMode="disable",n&&(this.subscription=n.loadingSubject.subscribe(function(t){return o.manageLockerMode(t)}))}var Ye=(ze.decorators=[{type:c.Directive,args:[{selector:"[oHidden]"}]}],ze.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},ze);function ze(t,e){e.setStyle(t.nativeElement,"display","none")}var Ke=(Object.defineProperty(We.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode=t,this.applyMode()},enumerable:!0,configurable:!0}),We.prototype.applyMode=function(t){this.renderer.removeClass(this.el.nativeElement,We.OTabModes.material),this.renderer.removeClass(this.el.nativeElement,We.OTabModes.ontimize),this.renderer.addClass(this.el.nativeElement,We.OTabModes[this.mode||this._defaultMode])},We.OTabModes={ontimize:"o-tab-ontimize",material:"o-tab-material"},We.decorators=[{type:c.Directive,args:[{selector:"[oTabGroup]"}]}],We.ctorParameters=function(){return[{type:c.Renderer2},{type:c.ElementRef}]},We.propDecorators={mode:[{type:c.Input,args:["oTabGroup"]}]},We);function We(t,e){this.renderer=t,this.el=e,this._mode="ontimize",this._defaultMode="ontimize"}var Qe=[Q,K,Ke,qe,Ye],Xe=($e.prototype.transform=function(t,e){var o=this;if(!e||e.length<=1)return t;if(this.filterValue=e.filtervalue||"",this.filterColumns=e.filtercolumns,!this.filterColumns||!this.filterValue||0===this.filterValue.length)return t;if(t===undefined||null===t)return t;var i=this;return t.filter(function(t){for(var e=0;e<i.filterColumns.length;e++){var n=i.filterColumns[e];if(!o._isBlank(n)){n=t[n];if(n&&(n=n.toString(),!o._isBlank(n)&&-1<n.toUpperCase().indexOf(i.filterValue.toUpperCase())))return t}}})},$e.prototype._isBlank=function(t){return t===undefined||null===t||0===t.length},$e.decorators=[{type:c.Pipe,args:[{name:"columnsfilter"}]}],$e);function $e(){}var Ze=(Object.defineProperty(Je.prototype,"grouping",{get:function(){return this._grouping},set:function(t){this._grouping=t},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"minDecimalDigits",{get:function(){return this._minDecimalDigits},set:function(t){this._minDecimalDigits=t},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"maxDecimalDigits",{get:function(){return this._maxDecimalDigits},set:function(t){this._maxDecimalDigits=t},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale=t},enumerable:!0,configurable:!0}),Je.prototype.getIntegerValue=function(t,e){var n=e?e.grouping:undefined;if(!k.isDefined(t)&&!k.isDefined(n)||!n)return t;n=e?e.thousandSeparator:undefined,e=e?e.locale:undefined,t=parseInt(t,10);if(!isNaN(t)){t=k.isDefined(e)?new Intl.NumberFormat(e).format(t):k.isDefined(n)?String(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,n):new Intl.NumberFormat(this._locale).format(t);return t}},Je.prototype.getRealValue=function(t,e){var n=e?e.grouping:undefined;if(!k.isDefined(t)&&!k.isDefined(n)||!n)return t;var o=e?e.locale:undefined,i=e?e.thousandSeparator:undefined,r=e?e.decimalSeparator:undefined,a=e?e.minDecimalDigits:undefined,s=e?e.maxDecimalDigits:undefined,e=t,a={minimumFractionDigits:a=!k.isDefined(a)?this._minDecimalDigits:a,maximumFractionDigits:s=!k.isDefined(s)?this._maxDecimalDigits:s};return k.isDefined(o)?e=new Intl.NumberFormat(o,a).format(t):k.isDefined(i)&&k.isDefined(r)?(o=parseFloat(t),isNaN(o)||(e=String(o),s=(s=o.toFixed(s)).replace(".",r),n?0<(n=s.split(r)).length&&(n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,i),e=n.join(r)):e=s)):e=new Intl.NumberFormat(this._locale,a).format(t),e},Je.prototype.getPercentValue=function(t,e){var n=t;switch(e?e.valueBase:undefined){case 100:break;case 1:default:n*=100}return this.getRealValue(n,e)+" %"},Je.DEFAULT_DECIMAL_DIGITS=2,Je.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],Je.ctorParameters=function(){return[{type:c.Injector}]},Je.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new Je(c.ɵɵinject(c.INJECTOR))},token:Je,providedIn:"root"}),Je);function Je(t){this.injector=t,this._config=this.injector.get(G).getConfiguration(),this._minDecimalDigits=Je.DEFAULT_DECIMAL_DIGITS,this._maxDecimalDigits=Je.DEFAULT_DECIMAL_DIGITS,this._grouping=!0,this._locale=this._config.locale}var tn=(Object.defineProperty(en.prototype,"symbol",{get:function(){return this._symbol},set:function(t){this._symbol=t},enumerable:!0,configurable:!0}),Object.defineProperty(en.prototype,"symbolPosition",{get:function(){return this._symbolPosition},set:function(t){this._symbolPosition=t},enumerable:!0,configurable:!0}),en.prototype.getCurrencyValue=function(t,e){var n=e?e.currencySimbol:undefined,o=e?e.currencySymbolPosition:undefined;k.isDefined(n)||(n=this._symbol),k.isDefined(o)||(o=this._symbolPosition);var i=this._numberService.getRealValue(t,e);switch(o){case"left":i=n+" "+i;break;case"right":i=i+" "+n}return i},en.DEFAULT_CURRENCY_SYMBOL="$",en.DEFAULT_CURRENCY_SYMBOL_POSITION="left",en.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],en.ctorParameters=function(){return[{type:c.Injector}]},en.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new en(c.ɵɵinject(c.INJECTOR))},token:en,providedIn:"root"}),en);function en(t){this.injector=t,this._numberService=this.injector.get(Ze),this._symbol=en.DEFAULT_CURRENCY_SYMBOL,this._symbolPosition=en.DEFAULT_CURRENCY_SYMBOL_POSITION}var nn=(on.prototype.transform=function(t,e){return this.currencyService.getCurrencyValue(t,e)},on.decorators=[{type:c.Pipe,args:[{name:"oCurrency"}]}],on.ctorParameters=function(){return[{type:c.Injector}]},on);function on(t){this.injector=t,this.currencyService=this.injector.get(tn)}var rn=(an.prototype.transform=function(t,e){return this.numberService.getIntegerValue(t,e)},an.decorators=[{type:c.Pipe,args:[{name:"oInteger"}]}],an.ctorParameters=function(){return[{type:c.Injector}]},an);function an(t){this.injector=t,this.numberService=this.injector.get(Ze)}var sn=(ln.prototype.transform=function(t,e){e=e.format;return this.momentService.parseDate(t,e)},ln.decorators=[{type:c.Pipe,args:[{name:"oMoment"}]}],ln.ctorParameters=function(){return[{type:c.Injector}]},ln);function ln(t){this.injector=t,this.momentService=this.injector.get(Wt)}var cn,un=(_(pn,cn=rn),pn.prototype.transform=function(t,e){return this.numberService.getRealValue(t,e)},pn.decorators=[{type:c.Pipe,args:[{name:"oReal"}]}],pn.ctorParameters=function(){return[{type:c.Injector}]},pn);function pn(t){var e=cn.call(this,t)||this;return e.injector=t,e}var dn,hn=(_(mn,dn=un),mn.prototype.transform=function(t,e){return e.valueBase=this.parseValueBase(e.valueBase),this.numberService.getPercentValue(t,e)},mn.prototype.parseValueBase=function(t){t=parseInt(t,10);return 1===t||100===t?t:1},mn.decorators=[{type:c.Pipe,args:[{name:"oPercent"}]}],mn.ctorParameters=function(){return[{type:c.Injector}]},mn);function mn(t){var e=dn.call(this,t)||this;return e.injector=t,e}var fn=(gn.prototype.ngOnDestroy=function(){this._dispose()},gn.prototype.transform=function(e,t){var n=this;return e&&0!==e.length?(k.equals(e,this.lastKey)&&k.equals(t,this.lastParams)||(this.lastKey=e,this.lastParams=t,this.updateValue(e),this._dispose(),this.onLanguageChanged||(this.onLanguageChanged=this.oTranslateService.onLanguageChanged.subscribe(function(t){n.lastKey&&(n.lastKey=null,n.updateValue(e))}))),this.value):e},gn.prototype.updateValue=function(t){var e=k.isDefined(this.lastParams)&&this.lastParams.values||[],e=this.oTranslateService.get(t,e);this.value=e!==undefined?e:t,this.lastKey=t,this._ref.markForCheck()},gn.prototype._dispose=function(){"undefined"!=typeof this.onLanguageChanged&&(this.onLanguageChanged.unsubscribe(),this.onLanguageChanged=undefined)},gn.decorators=[{type:c.Pipe,args:[{name:"oTranslate",pure:!1}]}],gn.ctorParameters=function(){return[{type:c.Injector}]},gn);function gn(t){this.injector=t,this.value="",this._ref=this.injector.get(c.ChangeDetectorRef),this.oTranslateService=this.injector.get(Ae)}var yn=(bn.forRoot=function(){return{ngModule:bn,providers:[]}},bn.decorators=[{type:c.NgModule,args:[{declarations:[fn],imports:[],exports:[fn]}]}],bn);function bn(){}var vn=(En._orderByComparator=function(t,e){if(isNaN(parseFloat(t))||!isFinite(t)||isNaN(parseFloat(e))||!isFinite(e)){if(t.toLowerCase()<e.toLowerCase())return-1;if(t.toLowerCase()>e.toLowerCase())return 1}else{if(parseFloat(t)<parseFloat(e))return-1;if(parseFloat(t)>parseFloat(e))return 1}return 0},En.prototype.transform=function(t,e){var e=x(e,1)[0],r=void 0===e?"+":e;if(!Array.isArray(t))return t;if(!Array.isArray(r)||Array.isArray(r)&&1===r.length){var e=Array.isArray(r)?r[0]:r,n="-"===e.substr(0,1);if(e&&"-"!==e&&"+"!==e){var o="+"===e.substr(0,1)||"-"===e.substr(0,1)?e.substr(1):e;return t.sort(function(t,e){return n?-En._orderByComparator(t[o],e[o]):En._orderByComparator(t[o],e[o])})}return n?t.sort().reverse():t.sort()}return t.sort(function(t,e){for(var n=0;n<r.length;n++){var o="-"===r[n].substr(0,1),i="+"===r[n].substr(0,1)||"-"===r[n].substr(0,1)?r[n].substr(1):r[n];o?En._orderByComparator(t[i],e[i]):En._orderByComparator(t[i],e[i])}return 0})},En.decorators=[{type:c.Pipe,args:[{name:"orderBy",pure:!1}]}],En);function En(){}var Cn=(Tn.prototype.getComponentStorage=function(t,e){t=t.getComponentKey();return e&&(t+="_"+e),this.getAppComponentData(t)||{}},Tn.prototype.updateComponentStorage=function(t,e){var n=t.getDataToStore(),t=t.getComponentKey();if(k.isDefined(t)){t=t;e&&(t+="_"+e);var o,i={};for(o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);this.updateAppComponentStorage(t,i)}},Tn.prototype.getAppComponentData=function(t){var e,n=this.getSessionUserComponentsData()||{};if(n[t]){var o=atob(n[t]);try{e=JSON.parse(o)}catch(i){e=undefined}}return e},Tn.prototype.updateAppComponentStorage=function(t,e){var n;try{n=btoa(JSON.stringify(e))}catch(o){n=undefined}this.storeComponentInSessionUser(t,n)},Tn.prototype.getSessionUserComponentsData=function(){var t=this.getStoredData(),e=t[Tn.SESSION_STORAGE_KEY]||{};return((t[Tn.USERS_STORAGE_KEY]||{})[e.user]||{})[Tn.COMPONENTS_STORAGE_KEY]||{}},Tn.prototype.storeSessionUserComponentsData=function(t){var e=this.getStoredData(),n=e[Tn.SESSION_STORAGE_KEY]||{};k.isDefined(e[Tn.USERS_STORAGE_KEY])||(e[Tn.USERS_STORAGE_KEY]={});var o=e[Tn.USERS_STORAGE_KEY][n.user]||{};o[Tn.COMPONENTS_STORAGE_KEY]=t,e[Tn.USERS_STORAGE_KEY][n.user]=o,this.setLocalStorage(e)},Tn.prototype.storeComponentInSessionUser=function(t,e){var n,o,i,r=this.getStoredData(),a=r[Tn.SESSION_STORAGE_KEY]||{};k.isDefined(a)&&k.isDefined(a.user)&&(i=(n=r[Tn.USERS_STORAGE_KEY]||{})[o=a.user||this.loginStorageService.getSessionInfo().user]||{},a={},(a=n[o]?n[o][Tn.COMPONENTS_STORAGE_KEY]:a)[t]=e||{},i[Tn.COMPONENTS_STORAGE_KEY]=a,n[o]=i,r[Tn.USERS_STORAGE_KEY]=n,this.setLocalStorage(r))},Tn.prototype.getStoredData=function(){var t={},e=localStorage.getItem(this._config.uuid);if(e)try{t=JSON.parse(e)}catch(n){t={}}return t},Tn.prototype.setBackwardCompatibility=function(){var t,e,n,o=this.getStoredData(),i=o[Tn.SESSION_STORAGE_KEY];k.isDefined(i)&&k.isDefined(i.user)&&(t=o[Tn.COMPONENTS_STORAGE_KEY]||{},e={},(n=k.isDefined(o[Tn.USERS_STORAGE_KEY]))&&(e=o[Tn.USERS_STORAGE_KEY],n=!k.isDefined(o[Tn.USERS_STORAGE_KEY][i.user])),n&&(e[i.user]={},e[i.user][Tn.COMPONENTS_STORAGE_KEY]=t,o[Tn.USERS_STORAGE_KEY]=e,localStorage.setItem(this._config.uuid,JSON.stringify(o))))},Tn.prototype.setLocalStorage=function(t){this.onSetLocalStorage.emit(),localStorage.setItem(this._config.uuid,JSON.stringify(t))},Tn.COMPONENTS_STORAGE_KEY="components",Tn.USERS_STORAGE_KEY="users",Tn.SESSION_STORAGE_KEY="session",Tn.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],Tn.ctorParameters=function(){return[{type:c.Injector}]},Tn.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new Tn(c.ɵɵinject(c.INJECTOR))},token:Tn,providedIn:"root"}),Tn);function Tn(t){this.injector=t,this.onRouteChange=new c.EventEmitter,this.onSetLocalStorage=new c.EventEmitter,this._config=this.injector.get(G).getConfiguration(),this._router=this.injector.get(p.Router),this.loginStorageService=this.injector.get(ut);var e=this;this._router.events.subscribe(function(t){t instanceof p.NavigationStart&&Y.callEmit(e.onRouteChange,{})})}var In=(On.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],On.ctorParameters=function(){return[{type:c.Injector}]},On.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new On(c.ɵɵinject(c.INJECTOR))},token:On,providedIn:"root"}),On);function On(t){this.injector=t,this.breadcrumbs$=new u.BehaviorSubject([])}var Sn=(An.prototype.getActiveModePath=function(){var t;return t=k.isDefined(this.activeFormMode)?(this.formRoutes||{})[this.activeFormMode]:t},An.prototype.isInsertFormRoute=function(){return"insertFormRoute"===this.activeFormMode},An.prototype.getInsertFormRoute=function(){var t=this.formRoutes;return t&&t.insertFormRoute||P.DEFAULT_INSERT_ROUTE},An.prototype.getEditFormRoute=function(){var t=this.formRoutes;return t&&t.editFormRoute||P.DEFAULT_EDIT_ROUTE},An.prototype.getDetailFormRoute=function(){var t=this.formRoutes;return t&&t.detailFormRoute||P.DEFAULT_DETAIL_ROUTE},An.prototype.isMainFormLayoutManagerComponent=function(){return k.isDefined(this.formLayoutRoutes)},An.prototype.isMainNavigationComponent=function(){return k.isDefined(this.formRoutes)&&this.formRoutes.isMainNavigationComponent},An.prototype.getFormRoutes=function(){return this.formRoutes},An.prototype.setFormRoutes=function(t){t&&t.mainFormLayoutManagerComponent?this.formLayoutRoutes=t:this.formRoutes=t},An.prototype.deleteActiveFormMode=function(){this.activeFormMode=undefined},An);function An(t){this.url=t.url||"",this.queryParams=t[P.QUERY_PARAMS]||{},this.formRoutes=t.formRoutes,this.formLayoutRoutes=t.formLayoutRoutes,this.activeFormMode=t.activeFormMode,this.keysValues=t.keysValues,this.queryConfiguration=t.queryConfiguration}var _n=(Dn.prototype.initialize=function(){var t=this;this.router.events.pipe(l.filter(function(t){return t instanceof p.NavigationEnd}),l.map(function(){return t.router.routerState.root}),l.map(function(t){for(;t.firstChild;)t=t.firstChild;return t}),l.filter(function(t){return"primary"===t.outlet})).subscribe(this.parseNavigationItems.bind(this))},Dn.prototype.buildBreadcrumbsForRoute=function(t){for(var e,n=[],o="",i=t.firstChild;i.firstChild;)i.url.length&&(e=this.parseRoute(o,i),n.push(e),o=e.route),i=i.firstChild;t=this.parseRoute(o,i);n.push(t),this.oBreadcrumbService.breadcrumbs$.next(n)},Dn.prototype.parseRoute=function(t,e){for(var n="",o=0,i=e.url.length;o<i;o++){var r=e.url[o];0===n.length&&(n=0<n.length?"/"+r.path:r.path,t+="/"+r.path)}return{route:t,label:n,queryParams:e.queryParams}},Dn.prototype.parseNavigationItems=function(){var t=this.getStoredData(),e=this.router.routerState.root.snapshot,n=this.router.routerState.snapshot.url.split("?")[0];this.buildBreadcrumbsForRoute(e);t=t[t.length-1];t&&t.url===n||(e=new Sn({url:n,queryParams:e.queryParams}),this.navigationItems.push(e),this.setNavigationItems(this.navigationItems))},Dn.prototype.setNavigationItems=function(t){this.navigationItems=t,this.storeNavigation(),this.navigationEvents$.next(t)},Dn.prototype.getDataToStore=function(){return this.navigationItems},Dn.prototype.getComponentKey=function(){return Dn.NAVIGATION_STORAGE_KEY},Dn.prototype.storeNavigation=function(){this.localStorageService&&this.localStorageService.updateComponentStorage(this)},Dn.prototype.setTitle=function(t){this.currentTitle=t,this._emitTitleChanged(this.currentTitle)},Dn.prototype.setVisible=function(t){this.visible=t,this._emitVisibleChanged(this.visible)},Dn.prototype.openSidenav=function(){this._emitOpenSidenav()},Dn.prototype.closeSidenav=function(){this._emitCloseSidenav()},Dn.prototype.onTitleChange=function(t){return Y.subscribe(this._titleEmitter,t)},Dn.prototype.onVisibleChange=function(t){return Y.subscribe(this._visibleEmitter,t)},Dn.prototype.onSidenavChange=function(t){return Y.subscribe(this._sidenavEmitter,t)},Dn.prototype._emitTitleChanged=function(t){Y.callEmit(this._titleEmitter,t)},Dn.prototype._emitVisibleChanged=function(t){Y.callEmit(this._visibleEmitter,t)},Dn.prototype._emitOpenSidenav=function(){Y.callEmit(this._sidenavEmitter,"open")},Dn.prototype._emitCloseSidenav=function(){Y.callEmit(this._sidenavEmitter,"close")},Dn.prototype.storeFormRoutes=function(t,e,n){0<this.navigationItems.length&&(this.navigationItems[this.navigationItems.length-1].setFormRoutes(t),this.navigationItems[this.navigationItems.length-1].activeFormMode=e,n&&(this.navigationItems[this.navigationItems.length-1].keysValues=n.keysValues,delete n.keysValues,this.navigationItems[this.navigationItems.length-1].queryConfiguration=0<Object.keys(n).length?n:null),this.storeNavigation())},Dn.prototype.getStoredData=function(){var e=this.localStorageService.getComponentStorage(this),n=[];return Object.keys(e).forEach(function(t){return n.push(new Sn(e[t]))}),n},Dn.prototype.getPreviousRouteData=function(){var t,e=this.navigationItems.length;return 2<=e&&(t=this.navigationItems[e-2])&&t.formRoutes&&t.formRoutes.mainFormLayoutManagerComponent&&this.navigationItems[e-3]&&((e=this.navigationItems[e-3]).isMainFormLayoutManagerComponent()&&(t=e)),t},Dn.prototype.getLastMainNavigationRouteData=function(){var s=this,l=[],t=this.navigationItems.slice().reverse().map(function(t,e){var n=s.location.path().substr(1);n.includes("?")&&(n=n.substring(0,n.indexOf("?")));for(var o=t.url.substr(1).split("/"),i=n.split("/"),r=0,a=-1;++a<=o.length&&a<=i.length;)l[e]=o[a]===i[a]?r++:r;return t}),n=l.reduce(function(t,e){return Math.max(t,e)}),e=this.navigationItems[this.navigationItems.length-1];e.isMainNavigationComponent()||e.isMainFormLayoutManagerComponent()||n--;for(var o=void 0;!o&&0<=n;)o=t.find(function(t,e){return(t.isMainNavigationComponent()||t.isMainFormLayoutManagerComponent())&&l[e]===n}),n--;return o},Dn.prototype.removeLastItem=function(){this.navigationItems.pop(),this.storeNavigation()},Dn.prototype.removeLastItemsUntilMain=function(){var t=this.getLastMainNavigationRouteData();if(!k.isDefined(t))return!1;t=this.navigationItems.indexOf(t);return this.navigationItems=this.navigationItems.slice(0,t+1),this.storeNavigation(),!0},Dn.prototype.isCurrentRoute=function(t){return t===this.router.routerState.snapshot.url.split("?")[0]},Dn.prototype.getLastItem=function(){var t;return t=0<this.navigationItems.length?this.navigationItems[this.navigationItems.length-1]:t},Dn.prototype.deleteActiveFormMode=function(t){t.deleteActiveFormMode(),this.storeNavigation()},Dn.NAVIGATION_STORAGE_KEY="nav_service",Dn.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],Dn.ctorParameters=function(){return[{type:c.Injector}]},Dn.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new Dn(c.ɵɵinject(c.INJECTOR))},token:Dn,providedIn:"root"}),Dn);function Dn(t){var i=this;this.injector=t,this.currentTitle=null,this.visible=!0,this.navigationItems=[],this.allNavigationItems=[],this.navigationEvents$=new u.ReplaySubject(1),this._titleEmitter=new c.EventEmitter,this._visibleEmitter=new c.EventEmitter,this._sidenavEmitter=new c.EventEmitter,this.router=this.injector.get(p.Router),this.oBreadcrumbService=this.injector.get(In),this.localStorageService=this.injector.get(Cn),this.location=this.injector.get(n.Location),this.location.subscribe(function(t){var e=i.getPreviousRouteData(),n=Object.keys(e.queryParams),o=[];n.forEach(function(t){o.push(t+"="+e.queryParams[t])});n="/"+e.url;(n=0<o.length?"/"+e.url+"?"+o.join("&"):n)===t.url&&i.navigationItems.pop()})}var Ln=(Rn.prototype.onNavigateBackClick=function(){var t={},e="";this.lastPageData&&(t[P.QUERY_PARAMS]=this.lastPageData.queryParams,e=this.lastPageData.url),this.router.navigate([e],t)},Rn.decorators=[{type:c.Component,args:[{selector:"o-error-403",template:'<div fxFlex fxFlexFill fxLayout="column" fxLayoutAlign="center center">\n  {{ \'MESSAGES.ERROR_403_TEXT\' | oTranslate }}\n  <button color="accent" type="button" mat-raised-button (click)="onNavigateBackClick()">\n    {{ \'MESSAGES.ERROR_403_TEXT_BUTTON\' | oTranslate }}\n  </button>\n</div>',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-error-403]":"true"},styles:[".o-error-403{height:100%}.o-error-403 button{margin:16px}"]}]}],Rn.ctorParameters=function(){return[{type:c.Injector}]},Rn);function Rn(t){this.injector=t,this.router=this.injector.get(p.Router),this.navigationService=this.injector.get(_n),this.lastPageData=this.navigationService.getLastItem()}var xn=["name","text"],wn=(Mn.prototype.ngOnInit=function(){this.registerValidatorError()},Mn.prototype.registerValidatorError=function(){this.oValidator&&this.oValidator.registerError(this)},Mn.prototype.getName=function(){return this.name},Mn.prototype.getText=function(){return this.text},Mn.decorators=[{type:c.Component,args:[{selector:"o-error",template:" ",inputs:xn}]}],Mn.ctorParameters=function(){return[{type:Ft,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Ft})]}]},{type:c.Injector}]},Mn);function Mn(t,e){this.oValidator=t,this.injector=e}var Nn=(Pn.prototype.initialize=function(){this.matIconRegistry.addSvgIconSetInNamespace(Pn.ONTIMIZE_NAMESPACE,this.domSanitizer.bypassSecurityTrustResourceUrl(Pn.ONTIMIZE_ICON_SET_PATH))},Pn.prototype.addOntimizeSvgIcon=function(t,e){return this.matIconRegistry.addSvgIconInNamespace(Pn.ONTIMIZE_NAMESPACE,t,this.domSanitizer.bypassSecurityTrustResourceUrl(e)),this.matIconRegistry},Pn.prototype.getSVGElement=function(t){return this.matIconRegistry.getNamedSvgIcon(t,Pn.ONTIMIZE_NAMESPACE)},Pn.prototype.existsIcon=function(t){var n=this;return new u.Observable(function(e){n.getSVGElement(t).subscribe(function(t){e.next(!0)},function(t){e.next(!1)},function(){return e.complete()})})},Pn.ONTIMIZE_ICON_SET_PATH="assets/svg/ontimize-icon-set.svg",Pn.ONTIMIZE_NAMESPACE="ontimize",Pn.decorators=[{type:c.Injectable}],Pn.ctorParameters=function(){return[{type:o.DomSanitizer},{type:d.MatIconRegistry}]},Pn);function Pn(t,e){this.domSanitizer=t,this.matIconRegistry=e}var Fn=(kn.prototype.factory=function(){return this.DEFAULT_DATE_FORMATS},kn);function kn(){this.DEFAULT_DATE_FORMATS={parse:{dateInput:"L"},display:{dateInput:"L",monthYearLabel:"Y",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM Y"}}}function Bn(){return(new Fn).factory()}var Un=[d.MatAutocompleteModule,d.MatButtonModule,d.MatButtonToggleModule,d.MatCardModule,d.MatChipsModule,d.MatCheckboxModule,d.MatDatepickerModule,d.MatDialogModule,d.MatExpansionModule,d.MatGridListModule,d.MatIconModule,d.MatInputModule,d.MatFormFieldModule,d.MatListModule,d.MatMenuModule,d.MatProgressBarModule,d.MatProgressSpinnerModule,d.MatRadioModule,d.MatRippleModule,d.MatSelectModule,d.MatSidenavModule,d.MatSliderModule,d.MatSlideToggleModule,d.MatSnackBarModule,d.MatTabsModule,d.MatToolbarModule,d.MatTooltipModule,a.MatMomentDateModule,d.MatTableModule,d.MatPaginatorModule,d.MatSortModule,r.OverlayModule],Vn=(jn.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule],exports:Un,providers:[{provide:d.MAT_DATE_FORMATS,useFactory:Bn},{provide:Nn,useClass:Nn}]}]}],jn);function jn(){}var Gn=(qn.decorators=[{type:c.NgModule,args:[{declarations:[Vt],imports:[d.MatTooltipModule,d.MatFormFieldModule,n.CommonModule],exports:[Vt]}]}],qn);function qn(){}var Hn=(Yn.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule,yn,h.FlexLayoutModule,Vn,Gn],declarations:[Xe,vn,rn,un,sn,nn,hn,Qe,Ln,et,wn,Ft,$t],exports:[h.FlexLayoutModule,Gn,i.FormsModule,i.ReactiveFormsModule,yn,Xe,vn,rn,un,sn,nn,hn,Qe,Vn,Ln,wn,Ft,$t],entryComponents:[Ln]}]}],Yn);function Yn(){}var zn=(Kn.prototype.getMenuRoots=function(){return this.MENU_ROOTS},Kn.prototype.getMenuRootById=function(e){return this.MENU_ROOTS.find(function(t){return t.id===e})},Kn.prototype.getAllMenuItems=function(){return this.ALL_MENU_ITEMS},Kn.prototype.getMenuItemById=function(e){return this.ALL_MENU_ITEMS.find(function(t){return t.id===e})},Kn.prototype.getMenuItemType=function(t){var e;switch(!0){case t.route===P.LOGIN_ROUTE:e="logout";break;case t.route!==undefined:e="route";break;case t.action!==undefined:e="action";break;case t.locale!==undefined:e="locale";break;case t.user!==undefined:e="user-info";break;case t.items!==undefined:e="group";break;default:e="default"}return e},Kn.prototype.isMenuGroup=function(t){return"group"===this.getMenuItemType(t)},Kn.prototype.getMenuItems=function(t){return t.items!==undefined?t.items:[t]},Kn.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],Kn.ctorParameters=function(){return[{type:c.Injector}]},Kn.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new Kn(c.ɵɵinject(c.INJECTOR))},token:Kn,providedIn:"root"}),Kn);function Kn(t){this.injector=t,this._config=this.injector.get(G),this.MENU_ROOTS=this._config.getMenuConfiguration(),this.ALL_MENU_ITEMS=[];for(var e=0,n=this.MENU_ROOTS.length;e<n;e++){var o=this.MENU_ROOTS[e];this.ALL_MENU_ITEMS=this.ALL_MENU_ITEMS.concat(this.getMenuItems(o))}}var Wn=["menuTitle: title","tooltip"],Qn=(Xn.prototype.ngOnInit=function(){var t=this;this.tooltip||(this.tooltip=this.menuTitle),this.translateService&&(this.translateService.onLanguageChanged.subscribe(function(){t.setDOMTitle()}),this.setDOMTitle())},Xn.prototype.setDOMTitle=function(){var t=this.translateService.get(this.tooltip);this.elRef.nativeElement.setAttribute("title",t)},Xn.prototype.collapseAll=function(){var t=this.elRef.nativeElement.querySelectorAll("input");t&&t.forEach(function(t){t.checked=!1});t=this.elRef.nativeElement.querySelectorAll(".fake-li-hover");t&&t.forEach(function(t){t.classList.remove("fake-li-hover")})},Xn.prototype.getPermissionsService=function(){return this.permissionsService},Object.defineProperty(Xn.prototype,"menuTitle",{get:function(){return this._menuTitle},set:function(t){this._menuTitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(Xn.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){this._tooltip=t},enumerable:!0,configurable:!0}),Object.defineProperty(Xn.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(Xn.prototype,"menuItems",{get:function(){return this.menuRoots},enumerable:!0,configurable:!0}),Xn.decorators=[{type:c.Component,args:[{selector:"o-bar-menu",template:'<mat-toolbar color="primary">\n  <nav>\n    <mat-icon class="mat-24 menu-icon toggle" (click)="input.checked = !input.checked" svgIcon="ontimize:menu"></mat-icon>\n    <label [attr.for]="id" class="toggle title-label">{{ menuTitle | oTranslate }}</label>\n    <input #input [attr.id]="id" type="checkbox" />\n    <div class="fake-ul mat-primary menu">\n      <ng-container>\n        <o-bar-menu-nested [items]="menuItems"> </o-bar-menu-nested>\n      </ng-container>\n      <ng-content></ng-content>\n    </div>\n  </nav>\n</mat-toolbar>',inputs:Wn,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-bar-menu]":"true"},styles:[".o-bar-menu .toggle,.o-bar-menu input{display:none}.o-bar-menu nav{margin:0;padding:0}.o-bar-menu nav:after{content:\"\";display:table;clear:both}.o-bar-menu nav .fake-li a{cursor:pointer}.o-bar-menu nav .fake-ul{float:right;padding:0;margin:0;list-style:none;position:relative}.o-bar-menu nav .fake-ul.menu>.o-bar-menu-item .o-bar-menu-item-title{top:0;padding-left:0}.o-bar-menu nav .fake-ul .fake-li{margin:0;display:inline-block}.o-bar-menu nav .fake-ul .fake-ul{display:none;position:absolute;top:60px}.o-bar-menu nav .fake-ul .fake-ul .fake-li{min-width:250px;width:250px;float:none;display:list-item;position:relative;white-space:nowrap}.o-bar-menu nav .fake-ul .fake-ul .fake-ul{top:0}.o-bar-menu nav .fake-ul .fake-ul .fake-ul .fake-li{position:relative;top:0;left:0}.o-bar-menu nav a{display:flex;align-items:center;padding:0 20px;font-size:20px;line-height:60px;text-decoration:none}.o-bar-menu .fake-li>a:only-child:after{content:''}@media all and (min-width:768px){.o-bar-menu nav .fake-ul .fake-li-hover>.fake-ul{display:inline-block;z-index:1000}.o-bar-menu nav .fake-ul .fake-ul .fake-li-hover>.fake-ul{display:inline-block;z-index:1000;left:250px}}@media all and (max-width:767px){.o-bar-menu .mat-toolbar{height:auto!important}.o-bar-menu nav{margin:10px 0;width:100%}.o-bar-menu nav .o-bar-menu-group,.o-bar-menu nav .o-bar-menu-item,.o-bar-menu nav .o-bar-menu-separator,.o-bar-menu nav .o-locale-bar-menu-item{display:flex}.o-bar-menu nav .o-bar-menu-group .mat-list-item,.o-bar-menu nav .o-bar-menu-item .mat-list-item,.o-bar-menu nav .o-bar-menu-separator .mat-list-item,.o-bar-menu nav .o-locale-bar-menu-item .mat-list-item{display:flex;justify-content:flex-start;align-items:center}.o-bar-menu nav .fake-ul,.o-bar-menu nav .fake-ul .fake-li{width:100%}.o-bar-menu nav .fake-ul .fake-ul{float:none;position:static;width:100%}.o-bar-menu nav .fake-ul .fake-ul .fake-li{padding-left:20px;width:100%}.o-bar-menu nav .fake-ul .fake-ul .mat-elevation-z4{box-shadow:none}.o-bar-menu .toggle{display:inline-block;padding:0 20px;font-size:20px;line-height:60px;text-decoration:none;border:none;cursor:pointer}.o-bar-menu .toggle+a{display:none!important}.o-bar-menu .menu{display:none;float:left!important}.o-bar-menu label.title-label{display:inline-block}.o-bar-menu .mat-icon.menu-icon{vertical-align:middle;display:inline-block;line-height:1;padding:0 4px}.o-bar-menu input:checked+.fake-ul{display:block}}@media all and (max-width:330px){.o-bar-menu nav .fake-ul .fake-li{width:94%}}"]}]}],Xn.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Injector}]},Xn);function Xn(t,e){this.elRef=t,this.injector=e,this.id="m_"+String((new Date).getTime()+Math.random()),this.permissionsService=this.injector.get(Mt),this.translateService=this.injector.get(Ae),this.appMenuService=this.injector.get(zn),this.menuRoots=this.appMenuService.getMenuRoots()}var $n=["title","tooltip","icon","attr"],Zn=(Jn.prototype.ngOnInit=function(){var t=this;this.tooltip||(this.tooltip=this.title),this.translateService&&(this.onLanguageChangeSubscription=this.translateService.onLanguageChanged.subscribe(function(){t.setDOMTitle()}),this.setDOMTitle()),this.parsePermissions()},Jn.prototype.ngOnDestroy=function(){this.onLanguageChangeSubscription&&this.onLanguageChangeSubscription.unsubscribe(),this.mutationObserver&&this.mutationObserver.disconnect()},Jn.prototype.setDOMTitle=function(){var t=this.translateService.get(this.tooltip);this.elRef.nativeElement.setAttribute("title",t)},Jn.prototype.parsePermissions=function(){this.permissions=this.menu.getPermissionsService().getMenuPermissions(this.attr),k.isDefined(this.permissions)&&(this.restricted=!1===this.permissions.visible,this.disabled=!1===this.permissions.enabled,this.disabled&&(this.mutationObserver=Gt.registerDisabledChangesInDom(this.elRef.nativeElement,{checkStringValue:!0})))},Object.defineProperty(Jn.prototype,"isHovered",{get:function(){return this._isHovered},set:function(t){this.disabled||(this._isHovered=t)},enumerable:!0,configurable:!0}),Jn.propDecorators={onMouseover:[{type:c.HostListener,args:["mouseover"]}],onMouseout:[{type:c.HostListener,args:["mouseout"]}]},Jn);function Jn(t,e,n){var o=this;this.menu=t,this.elRef=e,this.injector=n,this._isHovered=!1,this.onMouseover=function(){return o.isHovered=!0},this.onMouseout=function(){return o.isHovered=!1},this.translateService=this.injector.get(Ae)}var to,eo=w($n,["locale"]),no=(_(oo,to=Zn),oo.prototype.configureI18n=function(){this.isConfiguredLang()||(this.translateService&&this.translateService.use(this.locale),this.menu&&this.menu.collapseAll())},oo.prototype.isConfiguredLang=function(){return!!this.translateService&&this.translateService.getCurrentLang()===this.locale},oo.decorators=[{type:c.Component,args:[{selector:"o-locale-bar-menu-item",template:'<div class="fake-li mat-primary " [class.fake-li-hover]="isHovered" [class.is-selected]="isConfiguredLang()">\n  <a fxLayout="row" fxLayoutAlign="space-between center" (click)="configureI18n()" class="mat-list-item">\n    <mat-icon *ngIf="icon !== undefined" class="o-bar-menu-item-icon mat-24">{{ icon }}</mat-icon>\n    <div fxFlex matLine class="o-bar-menu-item-title">{{ title | oTranslate }}</div>\n    <mat-icon *ngIf="isConfiguredLang()" class="o-bar-menu-item-icon configured-lang mat-24" svgIcon="ontimize:check_circle"></mat-icon>\n  </a>\n</div>',inputs:eo,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-locale-bar-menu-item]":"true"},styles:[".o-bar-menu-item-icon.configured-lang{flex:0 1 auto;line-height:24px}"]}]}],oo.ctorParameters=function(){return[{type:Qn,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Qn})]}]},{type:c.ElementRef},{type:c.Injector}]},oo);function oo(t,e,n){var o=to.call(this,t,e,n)||this;return o.menu=t,o.elRef=e,o.injector=n,o}var io,ro=w($n),ao=(_(so,io=Zn),so.decorators=[{type:c.Component,args:[{selector:"o-bar-menu-group",template:'<div class="fake-li" [class.fake-li-hover]="isHovered">\n  <label [attr.for]="id" class="toggle mat-list-item">\n    <mat-icon class="o-bar-menu-group-icon mat-24">{{ icon }}</mat-icon>\n    {{ title | oTranslate }}\n    <mat-icon class="o-bar-menu-group-icon-arrow" *ngIf="!checkbox.checked">chevron_right</mat-icon>\n    <mat-icon class="o-bar-menu-group-icon-arrow" *ngIf="checkbox.checked">expand_more</mat-icon>\n  </label>\n  <a class="o-bar-menu-group-title">\n    <mat-icon class="o-bar-menu-group-icon mat-24">{{ icon }}</mat-icon> {{ title | oTranslate }}\n    <mat-icon class="o-bar-menu-group-icon-arrow">chevron_right</mat-icon>\n  </a>\n  <input [attr.id]="id" type="checkbox" #checkbox />\n  <div *ngIf="!disabled" class="fake-ul mat-primary mat-elevation-z4">\n    <ng-content></ng-content>\n  </div>\n</div>',inputs:ro,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-bar-menu-group]":"true","[attr.disabled]":"disabled"},styles:[".o-bar-menu-group[disabled=true] .fake-li{opacity:.5}.o-bar-menu-group[disabled=true] .fake-li a.o-bar-menu-group-title{cursor:default}.o-bar-menu-group .fake-li .o-bar-menu-group-icon,.o-bar-menu-group .fake-ul .o-bar-menu-group-icon{display:inline-block;margin:0 10px 0 0}.o-bar-menu-group .fake-li .o-bar-menu-group-icon~.o-bar-menu-group-title,.o-bar-menu-group .fake-ul .o-bar-menu-group-icon~.o-bar-menu-group-title{padding-left:0}.o-bar-menu-group .fake-li .o-bar-menu-group-icon-arrow,.o-bar-menu-group .fake-ul .o-bar-menu-group-icon-arrow{margin-left:auto}"]}]}],so.ctorParameters=function(){return[{type:Qn,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Qn})]}]},{type:c.ElementRef},{type:c.Injector}]},so);function so(t,e,n){var o=io.call(this,t,e,n)||this;return o.menu=t,o.elRef=e,o.injector=n,o.id="m_"+String((new Date).getTime()+Math.random()),o}var lo,co=w($n,["route","action"]),uo=(_(po,lo=Zn),po.prototype.ngOnInit=function(){lo.prototype.ngOnInit.call(this)},po.prototype.collapseMenu=function(t){this.menu&&this.menu.collapseAll()},po.prototype.onClick=function(){this.disabled||(k.isDefined(this.route)?this.router.navigate([this.route]):k.isDefined(this.action)&&this.action())},po.decorators=[{type:c.Component,args:[{selector:"o-bar-menu-item",template:'<div class="fake-li mat-primary" *ngIf="!restricted" (click)="collapseMenu($event)" [class.fake-li-hover]="isHovered">\n  <a *ngIf="action || route" class="mat-list-item" (click)="onClick()">\n    <mat-icon class="o-bar-menu-item-icon mat-24">{{ icon }}</mat-icon>\n    <div class="o-bar-menu-item-title">{{ title | oTranslate }}</div>\n  </a>\n  <div *ngIf="!route && !action" class="o-bar-menu-item-text mat-list-item">\n    <mat-icon class="o-bar-menu-item-icon mat-24">{{ icon }}</mat-icon>\n    <div class="o-bar-menu-item-title">{{ title | oTranslate }}</div>\n  </div>\n</div>',inputs:co,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-bar-menu-item]":"true","[attr.disabled]":"disabled"},styles:[".o-bar-menu-item[disabled=true] .fake-li{opacity:.5}.o-bar-menu-item[disabled=true] .fake-li a.mat-list-item{cursor:default}.o-bar-menu-item .o-bar-menu-item-text{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;font-size:16px;height:48px;padding:0 16px}.o-bar-menu-item .o-bar-menu-item-icon{display:inline-block;margin:6px 10px 0 0}.o-bar-menu-item .o-bar-menu-item-icon~.o-bar-menu-item-title{padding-left:0}.o-bar-menu-item .o-bar-menu-item-title{display:inline-block;position:relative;top:3px;padding-left:40px}"]}]}],po.ctorParameters=function(){return[{type:Qn,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Qn})]}]},{type:c.ElementRef},{type:c.Injector}]},po);function po(t,e,n){var o=lo.call(this,t,e,n)||this;return o.menu=t,o.elRef=e,o.injector=n,o.router=o.injector.get(p.Router),o}var ho=["items"],mo=(fo.prototype.getValueOfAttr=function(t,e){var n="";return n=t.hasOwnProperty(e)?t[e]:n},fo.prototype.isMenuGroup=function(t){return"group"===this.appMenuService.getMenuItemType(t)},fo.decorators=[{type:c.Component,args:[{selector:"o-bar-menu-nested",template:'<ng-container *ngFor="let item of items">\n  \x3c!--menu-group--\x3e\n  <o-bar-menu-group *ngIf="isMenuGroup(item)" [title]="getValueOfAttr(item, \'name\')" [attr]="getValueOfAttr(item,\'id\')"\n    [tooltip]="getValueOfAttr(item, \'tooltip\')" [icon]="getValueOfAttr(item,\'icon\')" [ngClass]="item.class">\n    <o-bar-menu-nested [items]="item.items"> </o-bar-menu-nested>\n  </o-bar-menu-group>\n  \x3c!--menu-item--\x3e\n  <o-bar-menu-item *ngIf="!isMenuGroup(item)" [title]="getValueOfAttr(item,\'name\')" [attr]="getValueOfAttr(item,\'id\')"\n    [tooltip]="getValueOfAttr(item, \'tooltip\') " [icon]="getValueOfAttr(item, \'icon\') "\n    [route]="getValueOfAttr(item, \'route\') " [ngClass]="item.class">\n  </o-bar-menu-item>\n</ng-container>',inputs:ho,encapsulation:c.ViewEncapsulation.None}]}],fo.ctorParameters=function(){return[{type:c.Injector}]},fo);function fo(t){this.injector=t,this.appMenuService=this.injector.get(zn)}var go=(yo.decorators=[{type:c.Component,args:[{selector:"o-bar-menu-separator",template:'<div class="fake-li mat-primary separator"></div>',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-bar-menu-separator]":"true"},styles:["o-bar-menu-separator .fake-li.separator{border-bottom:2px solid #ccc}"]}]}],yo);function yo(){}var bo=(vo.decorators=[{type:c.NgModule,args:[{declarations:[Qn,uo,ao,no,go,mo],imports:[n.CommonModule,Hn,p.RouterModule],exports:[Qn,uo,ao,no,go,mo]}]}],vo);function vo(){}var Eo=["_formRef: form","labelColumns: label-columns","separator"],Co=(Object.defineProperty(To.prototype,"form",{set:function(t){this._formRef=t},enumerable:!0,configurable:!0}),To.prototype.ngOnInit=function(){var e=this;this.labelColsArray=k.parseArray(this.labelColumns),this.subscription.add(this.oBreadcrumService.breadcrumbs$.subscribe(function(t){return e.breadcrumbs.next(t)}))},To.prototype.ngAfterViewInit=function(){var n;this._formRef&&this.labelColsArray.length&&(n=this).subscription.add(this._formRef.onDataLoaded.subscribe(function(e){var t;n.breadcrumbs.value.length&&(t=n.labelColsArray.map(function(t){return e[t]}).join(n.separator),n.breadcrumbs.value[n.breadcrumbs.value.length-1].displayText=t)}))},To.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},To.prototype.isCurrentRoute=function(t){return t.route===this.router.routerState.snapshot.url.split("?")[0]},To.prototype.onRouteClick=function(t){var e={};t.queryParams&&(e[P.QUERY_PARAMS]=t.queryParams),this.router.navigate([t.route],e)},To.decorators=[{type:c.Component,args:[{selector:"o-breadcrumb",template:'<mat-toolbar class="toolbar-breadcrumb">\n  <ng-container *ngFor="let route of breadcrumbs | async; index as i; last as isLast">\n    <span *ngIf="isCurrentRoute(route); else bredcrumItem" class="breadcrumb-item active" layout-padding>\n      {{ route.displayText ? route.displayText : route.label | uppercase | oTranslate }}\n    </span>\n    <ng-template #bredcrumItem>\n      <a (click)="onRouteClick(route)" class="breadcrumb-item" layout-padding>\n        {{ route.displayText ? route.displayText : route.label | uppercase | oTranslate }}\n      </a>\n    </ng-template>\n    <mat-icon *ngIf="!isLast" svgIcon="ontimize:keyboard_arrow_right"></mat-icon>\n  </ng-container>\n</mat-toolbar>\n',inputs:Eo,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-breadcrumb]":"true"},styles:[".o-breadcrumb{display:flex;height:50px;min-height:50px;padding-bottom:8px}.o-breadcrumb .mat-toolbar{box-shadow:2px 2px 6px rgba(0,0,0,.24);background:#fff;border-radius:6px;min-height:50px;max-height:50px}.o-breadcrumb .mat-toolbar .mat-toolbar-row{height:50px}.o-breadcrumb .mat-toolbar a{text-decoration:none;cursor:pointer}.o-breadcrumb .mat-toolbar span{cursor:default}.o-breadcrumb .mat-toolbar a,.o-breadcrumb .mat-toolbar span{padding-top:0;padding-bottom:0}"]}]}],To.ctorParameters=function(){return[{type:c.Injector}]},To);function To(t){this.injector=t,this.separator=" ",this.breadcrumbs=new u.BehaviorSubject([]),this.labelColsArray=[],this.subscription=new u.Subscription,this.router=this.injector.get(p.Router),this.oBreadcrumService=this.injector.get(In)}var Io=(Oo.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule,Hn,p.RouterModule],exports:[Co],declarations:[Co]}]}],Oo);function Oo(){}var So=["oattr: attr","label","icon","iconPosition: icon-position","checked","enabled","value","name"],Ao=["onChange"],_o=(Object.defineProperty(Do.prototype,"checked",{get:function(){return this._innerButtonToggle.checked},set:function(t){t=k.parseBoolean(String(t)),this._innerButtonToggle.checked=t},enumerable:!0,configurable:!0}),Object.defineProperty(Do.prototype,"enabled",{get:function(){return!this._innerButtonToggle.disabled},set:function(t){t=k.parseBoolean(String(t)),this._innerButtonToggle.disabled=!t},enumerable:!0,configurable:!0}),Object.defineProperty(Do.prototype,"value",{get:function(){return this._innerButtonToggle.value},set:function(t){this._innerButtonToggle.value=t},enumerable:!0,configurable:!0}),Do.decorators=[{type:c.Component,args:[{selector:"o-button-toggle",template:'<mat-button-toggle #bt [id]="oattr" [name]="name" [checked]="checked" [disabled]="!enabled" [value]="value" (change)="onChange.emit($event)">\n  <mat-icon *ngIf="icon && iconPosition===\'before\'">{{ icon }}</mat-icon>\n  {{ label }}\n  <mat-icon *ngIf="icon && iconPosition===\'after\'">{{ icon }}</mat-icon>\n</mat-button-toggle>\n',inputs:So,outputs:Ao,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-button-toggle]":"true"},styles:[".o-button-toggle{display:inline-block}.o-button-toggle .mat-button-toggle{display:flex}"]}]}],Do.ctorParameters=function(){return[{type:c.ViewContainerRef}]},Do.propDecorators={_innerButtonToggle:[{type:c.ViewChild,args:["bt",{"static":!0}]}]},Do);function Do(t){this.viewContainerRef=t,this.DEFAULT_INPUTS_O_BUTTON_TOGGLE=So,this.DEFAULT_OUTPUTS_O_BUTTON_TOGGLE=Ao,this.iconPosition="before",this._checked=!1,this._enabled=!0,this.onChange=new c.EventEmitter}var Lo=["oattr: attr","name","enabled","layout","multiple","value"],Ro=["onChange"],xo=(Object.defineProperty(wo.prototype,"enabled",{get:function(){return!(this._innerButtonToggleGroup instanceof d.MatButtonToggleGroup)||!this._innerButtonToggleGroup.disabled},set:function(t){this._innerButtonToggleGroup instanceof d.MatButtonToggleGroup&&(t=k.parseBoolean(String(t)),this._innerButtonToggleGroup.disabled=!t)},enumerable:!0,configurable:!0}),wo.prototype.ngOnInit=function(){k.isDefined(this.name)||(this.name=this.oattr)},wo.prototype.ngAfterViewInit=function(){var t=this;this.buildChildren(),this._children.changes.subscribe(function(){return t.buildChildren()})},wo.prototype.buildChildren=function(){var n=this,o=this.resolver.resolveComponentFactory(_o);this._viewContainerRef.clear();var t=this._children.map(function(t){var e=n._viewContainerRef.createComponent(o);return e.instance.oattr=t.oattr,e.instance.label=t.label,e.instance.icon=t.icon,e.instance.iconPosition=t.iconPosition,e.instance.checked=t.checked,e.instance.enabled=t.enabled,e.instance.value=t.value,e.instance.name=n.name,e.instance.onChange=t.onChange,e.changeDetectorRef.detectChanges(),e.instance});this._innerButtonToggleGroup._buttonToggles.reset(t.map(function(t){return t._innerButtonToggle})),this._children.reset(t)},wo.prototype.getValue=function(){return this._innerButtonToggleGroup?this._innerButtonToggleGroup.value:void 0},wo.prototype.setValue=function(t){this._innerButtonToggleGroup.value=t},wo.decorators=[{type:c.Component,args:[{selector:"o-button-toggle-group",template:'<mat-button-toggle-group [disabled]="!enabled" [name]="name" [value]="value" [vertical]="layout===\'column\'" [multiple]="multiple"\n  (change)="onChange.emit($event)">\n  <ng-container #childContainer></ng-container>\n</mat-button-toggle-group>\n',inputs:Lo,outputs:Ro,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-button-toggle-group]":"true"},entryComponents:[_o],styles:[""]}]}],wo.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},wo.propDecorators={_innerButtonToggleGroup:[{type:c.ViewChild,args:[d.MatButtonToggleGroup,{"static":!1}]}],_viewContainerRef:[{type:c.ViewChild,args:["childContainer",{read:c.ViewContainerRef,"static":!1}]}],_children:[{type:c.ContentChildren,args:[c.forwardRef(function(){return _o})]}]},D([tt(),L("design:type",Boolean)],wo.prototype,"multiple",void 0),wo);function wo(t){this.resolver=t,this.DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP=Lo,this.DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP=Ro,this._enabled=!0,this.layout="row",this.multiple=!1,this.onChange=new c.EventEmitter}var Mo=(No.decorators=[{type:c.NgModule,args:[{declarations:[_o,xo],imports:[n.CommonModule,Hn],exports:[_o,xo]}]}],No);function No(){}var Po=["oattr: attr","olabel: label","otype: type","icon","svgIcon : svg-icon","iconPosition: icon-position","image","enabled","color"],Fo=(ko.prototype.ngOnInit=function(){this.otype&&(this.otype=this.otype.toUpperCase())},Object.defineProperty(ko.prototype,"needsIconButtonClass",{get:function(){return this.icon!==undefined&&(this.olabel===undefined||""===this.olabel)},enumerable:!0,configurable:!0}),ko.prototype.isFab=function(){return"FAB"===this.otype},ko.prototype.isRaised=function(){return"RAISED"===this.otype},ko.prototype.isFlat=function(){return"FLAT"===this.otype},ko.prototype.isStroked=function(){return"STROKED"===this.otype||!this.otype},ko.prototype.isBasic=function(){return"BASIC"===this.otype},ko.prototype.isMiniFab=function(){return"FAB-MINI"===this.otype},ko.prototype.isIconButton=function(){return"ICON"===this.otype},ko.DEFAULT_TYPE="STROKED",ko.decorators=[{type:c.Component,args:[{selector:"o-button",inputs:Po,template:'<button type="button" *ngIf="isBasic()" mat-button [class.mat-icon-button]="needsIconButtonClass" [disabled]="!enabled" [color]="color">\n  <img src="{{ image }}" class="o-button-image" *ngIf="image!=undefined" />\n  <mat-icon class="material-icons o-button-icon" *ngIf="icon!==undefined" style="vertical-align:middle">{{ icon }}\n  </mat-icon>\n  <mat-icon class="material-icons o-button-icon" *ngIf="svgIcon!==undefined" style="vertical-align:middle" [svgIcon]="svgIcon"></mat-icon>\n  <br *ngIf="iconPosition===\'top\'" />\n  {{ olabel | oTranslate }}\n</button>\n\n<button type="button" *ngIf="isRaised()" mat-raised-button class="mat-raised-button" [class.mat-icon-button]="needsIconButtonClass"\n  [disabled]="!enabled" [color]="color">\n  <img src="{{ image }}" class="o-button-image" *ngIf="image!=undefined" />\n  <mat-icon class="material-icons o-button-icon" *ngIf="icon!==undefined" style="vertical-align:middle">{{ icon }}\n  </mat-icon>\n  <mat-icon class="material-icons o-button-icon" *ngIf="svgIcon!==undefined" style="vertical-align:middle" [svgIcon]="svgIcon"></mat-icon>\n  <br *ngIf="iconPosition===\'top\'" />\n  {{ olabel | oTranslate }}\n</button>\n\n<button type="button" *ngIf="isStroked()" mat-stroked-button [class.mat-icon-button]="needsIconButtonClass" [disabled]="!enabled" [color]="color">\n  <img src="{{ image }}" class="o-button-image" *ngIf="image!=undefined" />\n  <mat-icon class="material-icons o-button-icon" *ngIf="icon!==undefined" style="vertical-align:middle">{{ icon }}\n  </mat-icon>\n  <mat-icon class="material-icons o-button-icon" *ngIf="svgIcon!==undefined" style="vertical-align:middle" [svgIcon]="svgIcon"></mat-icon>\n  <br *ngIf="iconPosition===\'top\'" />\n  {{ olabel | oTranslate }}\n</button>\n\n<button type="button" *ngIf="isFlat()" mat-flat-button [class.mat-icon-button]="needsIconButtonClass" [disabled]="!enabled" [color]="color">\n  <img src="{{ image }}" class="o-button-image" *ngIf="image!=undefined" />\n  <mat-icon class="material-icons o-button-icon" *ngIf="icon!==undefined" style="vertical-align:middle">{{ icon }}\n  </mat-icon>\n  <mat-icon class="material-icons o-button-icon" *ngIf="svgIcon!==undefined" style="vertical-align:middle" [svgIcon]="svgIcon"></mat-icon>\n  <br *ngIf="iconPosition===\'top\'" />\n  {{ olabel | oTranslate }}\n</button>\n\n<button type="button" *ngIf="isIconButton()" mat-icon-button [class.mat-icon-button]="needsIconButtonClass" [disabled]="!enabled" [color]="color">\n  <mat-icon class="material-icons o-button-icon" *ngIf="icon!==undefined" style="vertical-align:middle">{{ icon }}\n  </mat-icon>\n  <mat-icon class="material-icons o-button-icon" *ngIf="svgIcon!==undefined" style="vertical-align:middle" [svgIcon]="svgIcon"></mat-icon>\n</button>\n\n<button type="button" *ngIf="isFab()" mat-fab [disabled]="!enabled" [color]="color">\n  <img src="{{ image }}" class="o-button-image" *ngIf="image!=undefined" />\n  <mat-icon class="material-icons o-button-icon" *ngIf="icon!==undefined" style="vertical-align:middle">{{ icon }}\n  </mat-icon>\n  <mat-icon class="material-icons o-button-icon" *ngIf="svgIcon!==undefined" style="vertical-align:middle" [svgIcon]="svgIcon"></mat-icon>\n  <br *ngIf="iconPosition===\'top\'" />\n  {{ olabel | oTranslate }}\n</button>\n\n<button type="button" *ngIf="isMiniFab()" mat-mini-fab [disabled]="!enabled" [color]="color">\n  <img src="{{ image }}" class="o-button-image" *ngIf="image!=undefined" />\n  <mat-icon class="material-icons o-button-icon" *ngIf="icon!==undefined" style="vertical-align:middle">{{ icon }}\n  </mat-icon>\n  <mat-icon class="material-icons o-button-icon" *ngIf="svgIcon!==undefined" style="vertical-align:middle" [svgIcon]="svgIcon"></mat-icon>\n  <br *ngIf="iconPosition===\'top\'" />\n  {{ olabel | oTranslate }}\n</button>\n',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-button]":"true"},styles:[".o-button{display:inline-block}.o-button .mat-icon-button .mat-button-ripple.mat-ripple{border-radius:50%}"]}]}],ko.ctorParameters=function(){return[]},D([tt(),L("design:type",Boolean)],ko.prototype,"enabled",void 0),ko);function ko(){this.enabled=!0,this.otype=ko.DEFAULT_TYPE}var Bo=(Uo.decorators=[{type:c.NgModule,args:[{declarations:[Fo],imports:[n.CommonModule,Hn],exports:[Fo]}]}],Uo);function Uo(){}var Vo=["title","image","icon","tooltip","buttonText : button-text","disabledButton : disabled-button","mainContainerLayout : main-container-layout","secondaryContainerLayout : secondary-container-layout","route","detailComponent : detail-component","detailComponentInputs : detail-component-inputs","action"],jo=[],Go=(Object.defineProperty(qo.prototype,"detailComponentContainer",{get:function(){return this._detailComponentContainer},set:function(t){this._detailComponentContainer=t},enumerable:!0,configurable:!0}),qo.prototype.ngAfterViewInit=function(){if(this.detailComponentContainer&&this.detailComponent){var t=this.resolver.resolveComponentFactory(this.detailComponent),e=this.detailComponentContainer.createComponent(t);if(this.detailComponentInputs&&e.instance)for(var n=Object.keys(this.detailComponentInputs),o=0,i=n.length;o<i;o++)e.instance[n[o]]=this.detailComponentInputs[n[o]]}this.showSecondaryContainer=this.detailComponentContainer&&this.detailComponent||0<this.secondaryContent.length,this.cd.detectChanges()},qo.prototype.ngOnDestroy=function(){this.translateServiceSubscription&&this.translateServiceSubscription.unsubscribe()},qo.prototype.useImage=function(){return this.image!==undefined},qo.prototype.useIcon=function(){return this.icon!==undefined&&this.image===undefined},qo.prototype.onButtonClick=function(){this.route?this.router.navigate([this.route],{relativeTo:this.actRoute}):this.action&&this.action()},qo.prototype.onClick=function(){this.buttonText===undefined&&this.onButtonClick()},Object.defineProperty(qo.prototype,"showSecondaryContainer",{get:function(){return this._showSecondaryContainer},set:function(t){(this._showSecondaryContainer=t)?this.elRef.nativeElement.classList.remove("compact"):this.elRef.nativeElement.classList.add("compact")},enumerable:!0,configurable:!0}),qo.decorators=[{type:c.Component,args:[{selector:"o-card-menu-item",template:'<div class="o-card-menu-item-content" (click)="onClick()" fxLayout="column" fxFill fxLayoutAlign="space-between center"\n  layout-padding>\n\n  <div class="o-card-menu-item-main" fxFlex="{{ showSecondaryContainer ? \'40\' : \'80\' }}" [fxLayout]="mainContainerLayout"\n    fxLayoutAlign="space-between center">\n    <div *ngIf="useImage() || useIcon()" fxFlex="80" fxLayout="column" fxLayoutAlign="center center" class="o-card-menu-item-image-container">\n      <img *ngIf="useImage()" [src]="image" />\n      <mat-icon *ngIf="useIcon()" class="o-card-menu-item-icon" fxLayoutAlign="center center">{{ icon }}</mat-icon>\n    </div>\n\n    <div class="o-card-menu-item-title" fxFlex="20" fxLayout="column" fxLayoutAlign="center center" *ngIf="title !== undefined">{{\n      title | oTranslate }}</div>\n\n    <mat-icon class="o-card-menu-item-info" matTooltip="{{ tooltip | oTranslate }}" *ngIf="tooltip" svgIcon="ontimize:info_outline"></mat-icon>\n\n    <ng-content select=".main-container"></ng-content>\n  </div>\n\n  <button type="button" *ngIf="buttonText !== undefined" [disabled]="disabledButton" (click)="onButtonClick()"\n    mat-button>{{ buttonText | oTranslate }}</button>\n\n  <div *ngIf="showSecondaryContainer" class="o-card-menu-item-secondary" fxFlex="50" [fxLayout]="secondaryContainerLayout"\n    fxLayoutAlign="space-around center">\n    <ng-content select=".secondary-container"></ng-content>\n    <ng-container #menuCardContent *ngIf="detailComponent">\n    </ng-container>\n  </div>\n</div>\n',inputs:Vo,outputs:jo,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-card-menu-item]":"true","[class.mat-elevation-z1]":"true","[class.compact]":"!showSecondaryContainer"},changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[".o-card-menu-item{border-radius:3px}.o-card-menu-item .o-card-menu-item-main,.o-card-menu-item .o-card-menu-item-secondary{width:100%;padding:12px 0}.o-card-menu-item .o-card-menu-item-image-container{width:100%}.o-card-menu-item .o-card-menu-item-image-container .o-card-menu-item-icon{width:100%;height:100%;font-size:5em}.o-card-menu-item .o-card-menu-item-image-container img{max-width:100%;max-height:100%}.o-card-menu-item .mat-button,.o-card-menu-item .o-card-menu-item-title{font-weight:600}.o-card-menu-item .mat-button{width:100%;border-radius:5px;text-decoration:none}.o-card-menu-item .o-card-menu-item-main{position:relative}.o-card-menu-item .o-card-menu-item-icon,.o-card-menu-item .o-card-menu-item-title{cursor:default}.o-card-menu-item .o-card-menu-item-info{cursor:default;position:absolute;top:0;right:0}"]}]}],qo.ctorParameters=function(){return[{type:c.Injector},{type:p.Router},{type:p.ActivatedRoute},{type:c.ComponentFactoryResolver},{type:c.ChangeDetectorRef},{type:c.ElementRef}]},qo.propDecorators={detailComponentContainer:[{type:c.ViewChild,args:["menuCardContent",{read:c.ViewContainerRef,"static":!1}]}],secondaryContent:[{type:c.ContentChildren,args:[".secondary-container"]}]},D([tt(),L("design:type",Boolean)],qo.prototype,"disabledButton",void 0),qo);function qo(t,e,n,o,i,r){var a=this;this.injector=t,this.router=e,this.actRoute=n,this.resolver=o,this.cd=i,this.elRef=r,this.disabledButton=!1,this.mainContainerLayout="column",this.secondaryContainerLayout="column",this._showSecondaryContainer=!0,this.translateService=this.injector.get(Ae),this.translateServiceSubscription=this.translateService.onLanguageChanged.subscribe(function(){a.cd.detectChanges()})}var Ho=(Yo.decorators=[{type:c.NgModule,args:[{declarations:[Go],imports:[n.CommonModule,Hn],exports:[Go]}]}],Yo);function Yo(){}var zo=["oattr: attr","title","layoutAlign: layout-align","elevation","icon","appearance","layoutGap: layout-gap"],Ko=(Object.defineProperty(Wo.prototype,"containerTitle",{set:function(t){this._titleEl=t,this._titleEl?(this.registerObserver(),this.updateOutlineGap()):this.unRegisterObserver()},enumerable:!0,configurable:!0}),Wo.prototype.ngAfterViewInit=function(){this.elRef&&this.elRef.nativeElement.removeAttribute("title"),this.registerObserver()},Wo.prototype.ngAfterContentChecked=function(){this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()},Wo.prototype.ngOnDestroy=function(){this.unRegisterObserver()},Wo.prototype.getAttribute=function(){return this.oattr||(this.elRef&&this.elRef.nativeElement.attributes.attr?this.elRef.nativeElement.attributes.attr.value:void 0)},Object.defineProperty(Wo.prototype,"appearance",{get:function(){return this._appearance},set:function(t){var e=this;this._appearance=t,setTimeout(function(){e.updateOutlineGap()},0)},enumerable:!0,configurable:!0}),Object.defineProperty(Wo.prototype,"elevation",{get:function(){return this._elevation},set:function(t){this._elevation=t,this.propagateElevationToDOM()},enumerable:!0,configurable:!0}),Object.defineProperty(Wo.prototype,"layoutAlign",{get:function(){return this._layoutAlign},set:function(t){t&&0!==t.length||(t=this.defaultLayoutAlign),this._layoutAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(Wo.prototype,"layoutGap",{get:function(){return this._layoutGap},set:function(t){this._layoutGap=t},enumerable:!0,configurable:!0}),Wo.prototype.hasHeader=function(){return!!this.title||!!this.icon},Wo.prototype.isAppearanceOutline=function(){var t=this.matFormDefaultOption&&this.matFormDefaultOption.appearance===Wo.APPEARANCE_OUTLINE;return t=k.isDefined(this.appearance)?this.appearance===Wo.APPEARANCE_OUTLINE:t},Wo.prototype.hasTitleInAppearanceOutline=function(){return this.isAppearanceOutline()&&this.hasHeader()},Wo.prototype.propagateElevationToDOM=function(){this.cleanElevationCSSclasses(),0<this.elevation&&this.elevation<=12&&this.elRef.nativeElement.classList.add("mat-elevation-z"+this.elevation)},Wo.prototype.cleanElevationCSSclasses=function(){var e=this,t=[].slice.call(this.elRef.nativeElement.classList);t&&t.length&&t.forEach(function(t){t.startsWith("mat-elevation")&&e.elRef.nativeElement.classList.remove(t)})},Wo.prototype.updateOutlineGap=function(){var t,e,n,o;this.isAppearanceOutline()&&(e=this._titleEl?this._titleEl.nativeElement:null,this._containerRef&&(!document.documentElement||document.documentElement.contains(this.elRef.nativeElement)?0===(n=(t=this._containerRef.nativeElement).getBoundingClientRect()).width&&0===n.height||(o=n.left,n=e.getBoundingClientRect().left,e=this.hasHeader()?e.offsetWidth:0,n=n-o,o=t.querySelectorAll(".o-container-outline-start"),t.querySelectorAll(".o-container-outline-gap")[0].style.width=e+"px",o[0].style.width=n+"px",this._outlineGapCalculationNeededImmediately=!1):this._outlineGapCalculationNeededImmediately=!0))},Wo.prototype.registerObserver=function(){this._titleEl&&this.titleObserver.observe(this._titleEl.nativeElement,{childList:!0,characterData:!0,subtree:!0})},Wo.prototype.unRegisterObserver=function(){this.titleObserver&&this.titleObserver.disconnect()},Wo.APPEARANCE_OUTLINE="outline",Wo.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Injector},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[d.MAT_FORM_FIELD_DEFAULT_OPTIONS]}]}]},Wo.propDecorators={containerTitle:[{type:c.ViewChild,args:["containerTitle",{"static":!1}]}],_containerRef:[{type:c.ViewChild,args:["container",{"static":!1}]}]},Wo);function Wo(t,e,n){var o=this;this.elRef=t,this.injector=e,this.matFormDefaultOption=n,this._elevation=0,this.defaultLayoutAlign="start start",this._outlineGapCalculationNeededImmediately=!1,this.titleObserver=new MutationObserver(function(){return o.updateOutlineGap()})}var Qo,Xo=w(zo,["expanded","description","collapsedHeight:collapsed-height","expandedHeight:expanded-height"]),$o=(_(Zo,Qo=Ko),Zo.prototype.ngAfterViewInit=function(){this.expPanel?(this._containerCollapsibleRef=this.expPanel._body,this.registerContentObserver()):this.unregisterContentObserver()},Zo.prototype.updateOutlineGap=function(){var t,e,n,o,i,r;this.isAppearanceOutline()&&(o=this._titleEl?this._titleEl._element.nativeElement:null,this._containerRef&&(0===(t=(r=this._containerRef.nativeElement).getBoundingClientRect()).width&&0===t.height||(e=o.querySelector(".o-container-title.mat-expansion-panel-header-title"),n=o.querySelector(".mat-expansion-panel-header-description"),i=t.left,o=n.getBoundingClientRect().left,t=0,this.hasHeader()&&(t+=this.icon?e.querySelector("mat-icon").offsetWidth:0,t=0===(t+=this.title?e.querySelector("span").offsetWidth:0)?0:t+4),e=this.description?n.querySelector("span").offsetWidth+8:0,n=o-i-14-t-4,o=r.querySelectorAll(".o-container-outline-gap-title"),i=r.querySelectorAll(".o-container-outline-gap-empty1"),r=r.querySelectorAll(".o-container-outline-gap-description"),o[0].style.width=t+"px",i[0].style.width=n+"px",r[0].style.width=e+"px")))},Zo.prototype.registerObserver=function(){this._titleEl&&this.titleObserver.observe(this._titleEl._element.nativeElement,{childList:!0,characterData:!0,subtree:!0})},Zo.prototype.updateHeightExpansionPanelContent=function(){var t=this._titleEl?this._titleEl._element.nativeElement:null,e=this._containerCollapsibleRef?this._containerCollapsibleRef.nativeElement.querySelector(".o-container-scroll"):null,n=t.parentNode?t.parentNode.offsetHeight:null,t=Ko.APPEARANCE_OUTLINE===this.appearance?n:n-t.offsetHeight;0<t&&(e.style.height=t+"px")},Zo.prototype.unregisterContentObserver=function(){this.contentObserver&&this.contentObserver.disconnect()},Zo.prototype.registerContentObserver=function(){this._containerCollapsibleRef&&this.contentObserver.observe(this._containerCollapsibleRef.nativeElement,{childList:!0,attributes:!0,attributeFilter:["style"]})},Zo.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Injector},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[d.MAT_FORM_FIELD_DEFAULT_OPTIONS]}]}]},Zo.propDecorators={expPanel:[{type:c.ViewChild,args:["expPanel",{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Zo.prototype,"expanded",void 0),Zo);function Zo(t,e,n){var o=Qo.call(this,t,e,n)||this;return o.elRef=t,o.injector=e,o.matFormDefaultOption=n,o.expanded=!0,o.collapsedHeight="37px",o.expandedHeight="37px",o.contentObserver=new MutationObserver(function(){return o.updateHeightExpansionPanelContent()}),o}var Jo,ti=w(Xo),ei=(_(ni,Jo=$o),ni.decorators=[{type:c.Component,args:[{selector:"o-column-collapsible",template:'<mat-expansion-panel #expPanel [expanded]="expanded" class="o-container">\n  <mat-expansion-panel-header #containerTitle [expandedHeight]="expandedHeight" [collapsedHeight]="collapsedHeight">\n    <mat-panel-title fxLayout="row" fxLayoutAlign="start center" class="o-container-title">\n      <mat-icon *ngIf="icon">{{ icon }}</mat-icon>\n      <span *ngIf="title">{{ title | oTranslate }}</span>\n    </mat-panel-title>\n    <mat-panel-description fxLayout="row" fxLayoutAlign="start center">\n      <span>{{ description | oTranslate }}</span>\n    </mat-panel-description>\n  </mat-expansion-panel-header>\n  <div #containerContent id="innerCol" fxLayout="column" fxLayoutAlign="{{ layoutAlign }}" fxLayoutGap="{{ layoutGap }}"\n    class="o-container-scroll o-scroll" fxFlex="grow">\n    <ng-content></ng-content>\n  </div>\n</mat-expansion-panel>\n<div #container [class.o-container-outline-expanded]="expPanel.expanded" class="o-container-outline"\n  *ngIf="isAppearanceOutline()">\n  <div class="o-container-outline-start"></div>\n  <div class="o-container-outline-gap-title"></div>\n  <div class="o-container-outline-gap-empty1"></div>\n  <div class="o-container-outline-gap-description"></div>\n  <div class="o-container-outline-gap-empty2"></div>\n  <div class="o-container-outline-gap-icon"></div>\n  <div class="o-container-outline-end"></div>\n</div>',inputs:ti,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-column-collapsible]":"true","[class.o-appearance-outline]":"isAppearanceOutline()","[class.o-appearance-outline-title]":"hasTitleInAppearanceOutline()"},styles:[""]}]}],ni.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Injector},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[d.MAT_FORM_FIELD_DEFAULT_OPTIONS]}]}]},ni);function ni(t,e,n){var o=Jo.call(this,t,e,n)||this;return o.elRef=t,o.injector=e,o.matFormDefaultOption=n,o}var oi=(ii.decorators=[{type:c.NgModule,args:[{declarations:[ei],imports:[n.CommonModule,Hn],exports:[ei]}]}],ii);function ii(){}var ri,ai=w(zo),si=(_(li,ri=Ko),li.decorators=[{type:c.Component,args:[{selector:"o-column",template:'<div #container fxLayout="column" class="o-container" fxFill>\n  <div #containerTitle *ngIf="hasHeader()" fxLayoutAlign="start center" class="o-container-title" layout-padding>\n    <mat-icon *ngIf="icon">{{ icon }}</mat-icon>\n    <span *ngIf="title">{{ title | oTranslate }}</span>\n  </div>\n  <div [class.o-container-gap]="hasHeader() || (elevation > 0 && elevation <= 12)" class="o-container-scroll o-scroll">\n    <div class="o-container-outline" *ngIf="isAppearanceOutline() && hasHeader()">\n      <div class="o-container-outline-start"></div>\n      <div class="o-container-outline-gap"></div>\n      <div class="o-container-outline-end"></div>\n    </div>\n    <div fxLayout="column" fxLayoutAlign="{{ layoutAlign }}" fxLayoutGap="{{ layoutGap }}" fxFlex="grow">\n      <ng-content></ng-content>\n    </div>\n</div>',inputs:ai,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-column]":"true","[class.o-appearance-outline]":"isAppearanceOutline()","[class.o-appearance-outline-title]":"hasTitleInAppearanceOutline()"},styles:[".o-column .o-container{flex:1;display:flex;flex-direction:column}.o-column .o-container .o-container-scroll{overflow:auto;position:relative}"]}]}],li.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Injector},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[d.MAT_FORM_FIELD_DEFAULT_OPTIONS]}]}]},li);function li(t,e,n){var o=ri.call(this,t,e,n)||this;return o.elRef=t,o.injector=e,o.matFormDefaultOption=n,o}var ci=(ui.decorators=[{type:c.NgModule,args:[{declarations:[si],imports:[n.CommonModule,Hn],exports:[si]}]}],ui);function ui(){}var pi,di=w(Xo),hi=(_(mi,pi=$o),mi.decorators=[{type:c.Component,args:[{selector:"o-row-collapsible",template:'<mat-expansion-panel #expPanel [expanded]="expanded" class="o-container">\n  <mat-expansion-panel-header #containerTitle [expandedHeight]="expandedHeight" [collapsedHeight]="collapsedHeight">\n    <mat-panel-title fxLayout="row" fxLayoutAlign="start center" class="o-container-title">\n      <mat-icon *ngIf="icon">{{ icon }}</mat-icon>\n      <span *ngIf="title">{{ title | oTranslate }}</span>\n    </mat-panel-title>\n    <mat-panel-description fxLayout="row" fxLayoutAlign="start center">\n      <span>{{ description | oTranslate }}</span>\n    </mat-panel-description>\n  </mat-expansion-panel-header>\n  <div #containerContent id="innerRow" fxLayout="row" fxLayoutAlign="{{ layoutAlign }}" fxLayoutGap="{{ layoutGap }}"\n    class="o-container-scroll o-scroll" fxFlex="grow">\n    <ng-content></ng-content>\n  </div>\n</mat-expansion-panel>\n<div #container [class.o-container-outline-expanded]="expPanel.expanded" class="o-container-outline"\n  *ngIf="isAppearanceOutline()">\n  <div class="o-container-outline-start"></div>\n  <div class="o-container-outline-gap-title"></div>\n  <div class="o-container-outline-gap-empty1"></div>\n  <div class="o-container-outline-gap-description"></div>\n  <div class="o-container-outline-gap-empty2"></div>\n  <div class="o-container-outline-gap-icon"></div>\n  <div class="o-container-outline-end"></div>\n</div>',inputs:di,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-row-collapsible]":"true","[class.o-appearance-outline]":"isAppearanceOutline()","[class.o-appearance-outline-title]":"hasTitleInAppearanceOutline()"},styles:[""]}]}],mi.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Injector},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[d.MAT_FORM_FIELD_DEFAULT_OPTIONS]}]}]},mi);function mi(t,e,n){var o=pi.call(this,t,e,n)||this;return o.elRef=t,o.injector=e,o.matFormDefaultOption=n,o}var fi=(gi.decorators=[{type:c.NgModule,args:[{declarations:[hi],imports:[n.CommonModule,Hn],exports:[hi]}]}],gi);function gi(){}var yi,bi=w(zo),vi=(_(Ei,yi=Ko),Ei.decorators=[{type:c.Component,args:[{selector:"o-row",template:'<div #container fxLayout="column" class="o-container" fxFill>\n  <div #containerTitle *ngIf="hasHeader()" fxLayoutAlign="start center" class="o-container-title" layout-padding>\n    <mat-icon *ngIf="icon">{{ icon }}</mat-icon>\n    <span *ngIf="title">{{ title | oTranslate }}</span>\n  </div>\n  <div [class.o-container-gap]="hasHeader() || (elevation > 0 && elevation <= 12)" class="o-container-scroll o-scroll">\n    <div class="o-container-outline" *ngIf="isAppearanceOutline() && hasHeader()">\n      <div class="o-container-outline-start"></div>\n      <div class="o-container-outline-gap"></div>\n      <div class="o-container-outline-end"></div>\n    </div>\n    <div fxLayout="row" fxLayoutAlign="{{ layoutAlign }}" fxLayoutGap="{{ layoutGap }}" fxFlex="grow">\n      <ng-content></ng-content>\n    </div>\n  </div>\n</div>',inputs:bi,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-row]":"true","[class.o-appearance-outline]":"isAppearanceOutline()","[class.o-appearance-outline-title]":"hasTitleInAppearanceOutline()"},styles:[".o-row>.o-container{width:100%}.o-row>.o-container .o-container-scroll{overflow:auto;position:relative}"]}]}],Ei.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Injector},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[d.MAT_FORM_FIELD_DEFAULT_OPTIONS]}]}]},Ei);function Ei(t,e,n){var o=yi.call(this,t,e,n)||this;return o.elRef=t,o.injector=e,o.matFormDefaultOption=n,o}var Ci=(Ti.decorators=[{type:c.NgModule,args:[{declarations:[vi],imports:[n.CommonModule,Hn],exports:[vi]}]}],Ti);function Ti(){}var Ii=["attr","ovisible: visible"],Oi=(Object.defineProperty(Si.prototype,"isVisible",{get:function(){return this.parseInput(this.ovisible)},enumerable:!0,configurable:!0}),Si.prototype.parseInput=function(t,e){return t instanceof Function||"boolean"==typeof t?t:k.parseBoolean(t,e)},Si.TYPE_ITEM_MENU="item_menu",Si.TYPE_GROUP_MENU="item_group",Si.TYPE_SEPARATOR_MENU="item_separator",Si);function Si(){this.ovisible=!0,this.type=Si.TYPE_GROUP_MENU}var Ai,_i=["execute"],Di=w(Ii,["icon","data","label","oenabled: enabled","svgIcon: svg-icon"]),Li=(_(Ri,Ai=Oi),Ri.prototype.ngOnInit=function(){this.enabled=this.parseInput(this.oenabled,!0)},Ri.prototype.onClick=function(t){t.preventDefault(),t.stopPropagation(),this.triggerExecute(this.data,t)},Ri.prototype.triggerExecute=function(t,e){this.enabled&&this.execute.emit({event:e,data:t})},Object.defineProperty(Ri.prototype,"disabled",{get:function(){return this.enabled instanceof Function?!this.enabled(this.data):!this.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(Ri.prototype,"isVisible",{get:function(){return this.ovisible instanceof Function?this.ovisible(this.data):this.ovisible},enumerable:!0,configurable:!0}),Ri.decorators=[{type:c.Component,args:[{selector:"o-context-menu-item",template:" ",inputs:Di,outputs:_i,providers:[{provide:Oi,useExisting:c.forwardRef(function(){return Ri})}]}]}],Ri);function Ri(){var t=null!==Ai&&Ai.apply(this,arguments)||this;return t.execute=new c.EventEmitter,t.type=Oi.TYPE_ITEM_MENU,t.enabled=!0,t}var xi,wi=w(Di,["children"]),Mi=(_(Ni,xi=Li),Ni.prototype.ngAfterContentInit=function(){this.children=this.oContextMenuItems.toArray().slice(1,this.oContextMenuItems.toArray().length)},Ni.decorators=[{type:c.Component,args:[{selector:"o-context-menu-group",template:" ",inputs:wi,providers:[{provide:Oi,useExisting:c.forwardRef(function(){return Ni})}]}]}],Ni.propDecorators={oContextMenuItems:[{type:c.ContentChildren,args:[Oi]}]},Ni);function Ni(){var t=null!==xi&&xi.apply(this,arguments)||this;return t.type=Oi.TYPE_GROUP_MENU,t.children=[],t}var Pi,Fi=w(Ii),ki=(_(Bi,Pi=Li),Bi.prototype.ngOnInit=function(){Pi.prototype.ngOnInit.call(this)},Bi.decorators=[{type:c.Component,args:[{selector:"o-context-menu-separator",template:" ",inputs:Fi,providers:[{provide:Oi,useExisting:c.forwardRef(function(){return Bi})}]}]}],Bi);function Bi(){var t=null!==Pi&&Pi.apply(this,arguments)||this;return t.type=Oi.TYPE_SEPARATOR_MENU,t}var Ui=["items","class"],Vi=(ji.prototype.onClick=function(t,e){t.triggerExecute(t.data,e)},ji.prototype.isGroup=function(t){var e=!1;return e=t&&t.children&&0<t.children.length?!0:e},ji.prototype.isSepararor=function(t){var e=!1;return e=t&&t.type&&t.type===Oi.TYPE_SEPARATOR_MENU?!0:e},ji.prototype.isItem=function(t){var e=!1;return e=t&&t.type&&t.type===Oi.TYPE_ITEM_MENU?!0:e},ji.decorators=[{type:c.Component,args:[{selector:"o-wrapper-content-menu",template:'<mat-menu #childMenu="matMenu" [class]="class" [overlapTrigger]="false" [hasBackdrop]="false">\n  <ng-container *ngFor="let child of items">\n    \x3c!-- Handle branch node menu items --\x3e\n    <span *ngIf="isGroup(child) && child.isVisible">\n      <button mat-menu-item color="primary" [matMenuTriggerFor]="menu.childMenu" [disabled]="child.disabled">\n        <mat-icon *ngIf="child.svgIcon !== undefined" [svgIcon]="child.svgIcon"></mat-icon>\n        <mat-icon *ngIf="child.svgIcon === undefined">{{ child.icon }}</mat-icon>\n        <span>{{ child.label | oTranslate}}</span>\n      </button>\n      <o-wrapper-content-menu #menu [items]="child.children" [class]="class"></o-wrapper-content-menu>\n    </span>\n    \x3c!-- Handle leaf node menu items --\x3e\n    <button mat-menu-item (click)="onClick(child, $event)" [disabled]="child.disabled" *ngIf="isItem(child) && child.isVisible">\n      <mat-icon *ngIf="child.svgIcon !== undefined" [svgIcon]="child.svgIcon"></mat-icon>\n      <mat-icon *ngIf="child.svgIcon === undefined">{{ child.icon }}</mat-icon>\n      <span>{{ child.label | oTranslate}} </span>\n    </button>\n    \x3c!-- separator leaf node menu items --\x3e\n    <mat-divider *ngIf="isSepararor(child) && child.isVisible"></mat-divider>\n  </ng-container>\n</mat-menu>\n',inputs:Ui,styles:["mat-divider.mat-divider:first-child,mat-divider.mat-divider:last-child{display:none}.mat-icon{display:inline-flex}"]}]}],ji.ctorParameters=function(){return[{type:c.Injector}]},ji.propDecorators={items:[{type:c.Input}],childMenu:[{type:c.ViewChild,args:["childMenu",{"static":!0}]}],menu:[{type:c.ViewChild,args:[ji,{"static":!0}]}]},ji);function ji(t){this.injector=t}var Gi=["menuItems","overlay","data","menuClass"],qi=["execute","close"],Hi=(Yi.prototype.click=function(){this.closeContent()},Yi.prototype.ngOnInit=function(){this.initialize()},Yi.prototype.ngAfterViewInit=function(){this.trigger.openMenu()},Yi.prototype.initialize=function(){this.setData(this.menuItems)},Yi.prototype.setData=function(t){var e=this;t.forEach(function(t){e.data&&(t.data=e.data,t.children&&0<t.children.length&&e.setData(t.children))})},Yi.prototype.onMenuClosed=function(t){this.closeContent()},Yi.prototype.closeContent=function(){this.trigger.closeMenu(),this.close.emit()},Yi.decorators=[{type:c.Component,args:[{selector:"o-context-menu-content",template:'<button mat-button [matMenuTriggerFor]="menu.childMenu" (menuClosed)="onMenuClosed($event)"></button>\n<o-wrapper-content-menu #menu [items]="menuItems" [class]="menuClass"> </o-wrapper-content-menu>',inputs:Gi,outputs:qi,host:{"[class.o-context-menu-content]":"true"}}]}],Yi.ctorParameters=function(){return[{type:c.Injector}]},Yi.propDecorators={oContextMenuItems:[{type:c.ContentChildren,args:[Oi]}],trigger:[{type:c.ViewChild,args:[d.MatMenuTrigger,{"static":!1}]}],menu:[{type:c.ViewChild,args:[Vi,{"static":!1}]}],click:[{type:c.HostListener,args:["document:click"]}]},Yi);function Yi(t){this.injector=t,this.menuItems=[],this.execute=new c.EventEmitter,this.close=new c.EventEmitter}var zi=(Ki.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},Ki.prototype.openContextMenu=function(t){this.destroyOverlays(),this.createOverlay(t)},Ki.prototype.destroyOverlays=function(){this.overlays&&this.overlays.forEach(function(t){t.detach(),t.dispose()}),this.overlays=[]},Ki.prototype.createOverlay=function(t){t.event.preventDefault(),t.event.stopPropagation(),this.fakeElement.nativeElement.getBoundingClientRect=function(){return{bottom:t.event.clientY,height:0,left:t.event.clientX,right:t.event.clientX,top:t.event.clientY,width:0}};var e=this.overlay.position().flexibleConnectedTo(t.anchorElement||this.fakeElement).withPositions([{overlayX:"start",overlayY:"top",originX:"start",originY:"bottom"}]),e=this.overlay.create({positionStrategy:e,hasBackdrop:!1,panelClass:["o-context-menu"],scrollStrategy:this.scrollStrategy.close()});this.overlays=[e],this.attachContextMenu(this.overlays[0],t)},Ki.prototype.attachContextMenu=function(t,e){var n=this,o=t.attach(new m.ComponentPortal(Hi));o.instance.overlay=t,o.instance.menuItems=e.menuItems,o.instance.data=e.data,o.instance.menuClass=e["class"],this.subscription.add(o.instance.close.subscribe(function(){n.closeContextMenu.next()}))},Ki.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],Ki.ctorParameters=function(){return[{type:r.Overlay},{type:r.ScrollStrategyOptions}]},Ki.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new Ki(c.ɵɵinject(r.Overlay),c.ɵɵinject(r.ScrollStrategyOptions))},token:Ki,providedIn:"root"}),Ki);function Ki(t,e){var n=this;this.overlay=t,this.scrollStrategy=e,this.showContextMenu=new u.Subject,this.closeContextMenu=new u.Subject,this.overlays=[],this.fakeElement=new c.ElementRef({nativeElement:""}),this.subscription=new u.Subscription,this.subscription.add(this.closeContextMenu.subscribe(function(){return n.destroyOverlays()}))}var Wi=["onShow","onClose"],Qi=(Xi.prototype.ngOnInit=function(){var e=this;this.subscription.add(this.oContextMenuService.showContextMenu.subscribe(function(t){return e.showContextMenu(t)})),this.subscription.add(this.oContextMenuService.closeContextMenu.subscribe(function(t){return e.onClose.emit()}))},Xi.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},Xi.prototype.showContextMenu=function(t){this.origin=t.event.target,this.onShow.emit(t),t.contextMenu===this&&(t.menuItems=this.oContextMenuItems,0<t.menuItems.length&&this.oContextMenuService.openContextMenu(t))},Xi.decorators=[{type:c.Component,args:[{selector:"o-context-menu",template:" ",outputs:Wi}]}],Xi.ctorParameters=function(){return[{type:c.Injector}]},Xi.propDecorators={oContextMenuItems:[{type:c.ContentChildren,args:[Oi]}]},Xi);function Xi(t){this.injector=t,this.onShow=new c.EventEmitter,this.onClose=new c.EventEmitter,this.subscription=new u.Subscription,this.oContextMenuService=this.injector.get(zi)}var $i=["oContextMenu","oContextMenuData"],Zi=(Ji.prototype.onRightClick=function(t){t.preventDefault(),t.stopPropagation(),this.oContextMenuService.showContextMenu.next({contextMenu:this.oContextMenu,event:t,data:this.oContextMenuData})},Ji.decorators=[{type:c.Directive,args:[{selector:"[oContextMenu]",inputs:$i}]}],Ji.ctorParameters=function(){return[{type:c.Injector}]},Ji.propDecorators={onRightClick:[{type:c.HostListener,args:["contextmenu",["$event"]]}]},Ji);function Ji(t){this.injector=t,this.oContextMenuService=this.injector.get(zi)}var tr=(er.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule,Hn],entryComponents:[Hi,Qi],exports:[n.CommonModule,Zi,Qi,Li,Mi,ki],declarations:[Zi,Hi,Qi,Li,Mi,Vi,ki]}]}],er);function er(){}var nr=["breadcrumb","breadcrumbSeparator : breadcrumb-separator","breadcrumbLabelColumns : breadcrumb-label-columns","form"],or=(ir.prototype.ngAfterViewInit=function(){this.breadcrumb=this.breadcrumb&&this.form&&!this.formMananger,this.breadcrumb&&this.createBreadcrumb(this.breadContainer)},ir.prototype.setForm=function(t){this.form=t,this.formMananger=t.getFormManager()},ir.prototype.createBreadcrumb=function(t){var e=this.resolver.resolveComponentFactory(Co),e=t.createComponent(e);e.instance.form=this.form,e.instance.labelColumns=this.breadcrumbLabelColumns,e.instance.separator=this.breadcrumbSeparator},ir.decorators=[{type:c.Component,args:[{selector:"o-form-container",template:'<div class="o-form-container-content">\n  <ng-template #breadcrumb></ng-template>\n  <ng-content></ng-content>\n</div>',inputs:nr,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-form-container]":"true","[class.breadcrumb]":"breadcrumb"},styles:[".application-layout-content-wrapper .o-form-container{position:relative;width:100%;height:100%;display:block}.application-layout-content-wrapper .o-form-container .o-form-container-content{display:flex;flex:auto;flex-direction:column;max-height:100%}.application-layout-content-wrapper .o-form-container .o-form-container-content>.o-breadcrumb{padding-left:8px;padding-right:8px}"]}]}],ir.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},ir.propDecorators={breadContainer:[{type:c.ViewChild,args:["breadcrumb",{read:c.ViewContainerRef,"static":!1}]}]},D([tt(),L("design:type",Boolean)],ir.prototype,"breadcrumb",void 0),ir);function ir(t){this.resolver=t,this.breadcrumb=!1,this.breadcrumbSeparator=" "}var rr=(ar.prototype.updateFormDataCache=function(){this.formDataCache=this.form.getRegisteredFieldsValues()},ar.prototype.addChangeToStack=function(t){var e=t.getFormControl().value,n=0===this.valueChangesStack.length;this.valueChangesStack.push({attr:t.getAttribute(),value:e}),n&&this.onCacheEmptyStateChanges.emit(!1),this.onCacheStateChanges.emit()},ar.prototype.registerComponentCaching=function(t){var e=this,n=t.getAttribute(),o=this.form.detectChangesOnBlur?t.onValueChange:t.onChange;k.isDefined(o)&&(this._componentsSubscritpions[n]=o.subscribe(function(){e.initializedCache&&!e.blockCaching&&e.hasComponentChanged(n,t)&&(-1===e.changedFormControls.indexOf(n)&&e.changedFormControls.push(n),e.updateFormDataCache(),e.addChangeToStack(t))}))},ar.prototype.getCachedValue=function(t){return this.formDataCache&&this.formDataCache.hasOwnProperty(t)?this.formDataCache[t]:undefined},ar.prototype.destroy=function(){var e=this;Object.keys(this._componentsSubscritpions).forEach(function(t){e._componentsSubscritpions[t].unsubscribe()}),this._componentsSubscritpions={},this.formDataCache=undefined,this.changedFormControls=[]},ar.prototype.removeUndefinedProperties=function(e){return Object.keys(e).forEach(function(t){e[t]===undefined&&delete e[t]}),e},ar.prototype.registerCache=function(){var t=this.form.getRegisteredFieldsValues();this.removeUndefinedProperties(t),this.initializeCache(t),this.formDataCache=t;var e=this.form.getComponents(),n=this;Object.keys(e).forEach(function(t){t=e[t];t.isAutomaticRegistering()&&n.registerComponentCaching(t)})},ar.prototype.initializeCache=function(t){this.initialDataCache=t,this.valueChangesStack=[],this.onCacheEmptyStateChanges.emit(!0),this.initializedCache=!0,this.changedFormControls=[]},ar.prototype.getInitialDataCache=function(){return this.initialDataCache},ar.prototype.getDataCache=function(){return this.formDataCache},ar.prototype.restartCache=function(){this.formDataCache=undefined,this.initializeCache({}),this.initializedCache=!1,this.onCacheStateChanges.emit()},ar.prototype.setCacheSnapshot=function(){this.initializeCache(this.getDataCache())},ar.prototype.undoLastChange=function(t){void 0===t&&(t={});var e=this.valueChangesStack[this.valueChangesStack.length-1];e&&(t=null!==(t=this.getCacheLastValue(e.attr))?t:this.initialDataCache[e.attr],this.undoComponentValue(e.attr,t),this.updateFormDataCache(),this.onCacheStateChanges.emit())},ar.prototype.undoComponentValue=function(t,e){this.blockCaching=!0;t=this.form.getFieldReference(t);t&&t.setValue(e),this.blockCaching=!1},ar.prototype.hasComponentChanged=function(t,e){return e.getFormControl().value!==(this.formDataCache||this.initialDataCache)[t]},ar.prototype.getCacheLastValue=function(t){this.updateChangesStack(t);for(var e=null,n=this.valueChangesStack.length-1;0<=n;n--){var o=this.valueChangesStack[n];if(o.attr===t){e=o.value;break}}return e},ar.prototype.updateChangesStack=function(t){for(var e,n=this.valueChangesStack.length-1;0<=n;n--)if((i=this.valueChangesStack[n]).attr===t){e=n;break}if(e!==undefined)for(n=e;0<=n;n--){var o=this.valueChangesStack[n-1],i=this.valueChangesStack[n];if(i.attr===t&&(this.valueChangesStack.splice(n,1),o&&o.attr!==t))break}0===this.valueChangesStack.length&&this.onCacheEmptyStateChanges.emit(!0)},Object.defineProperty(ar.prototype,"isCacheStackEmpty",{get:function(){return 0===this.valueChangesStack.length},enumerable:!0,configurable:!0}),ar.prototype.isInitialStateChanged=function(){var t;this.formDataCache&&(t=Object.assign({},this.formDataCache),this.removeUndefinedProperties(t));var e=Object.keys(this.initialDataCache),n=t?Object.keys(t):e;if(e.length!==n.length)return!0;for(var o=!1,i=0,r=e.length;i<r;i++){var a=e[i];if(o=this.initialDataCache[a]!==t[a])break}return o},ar.prototype.getChangedFormControlsAttr=function(){return this.changedFormControls},ar);function ar(t){this.form=t,this.initialDataCache={},this.valueChangesStack=[],this._componentsSubscritpions={},this.blockCaching=!1,this.initializedCache=!1,this.onCacheEmptyStateChanges=new c.EventEmitter,this.onCacheStateChanges=new c.EventEmitter,this.changedFormControls=[]}var sr=(lr.prototype.canDeactivate=function(t,e,n,o){return!!o.root.queryParams.hasOwnProperty(P.IGNORE_CAN_DEACTIVATE)||(!this.oForm||this.oForm.canDeactivate())},lr.prototype.setForm=function(t){this.oForm=t},lr.CLASSNAME="CanDeactivateFormGuard",lr.decorators=[{type:c.Injectable}],lr);function lr(){}var cr=(ur.decorators=[{type:c.Directive,args:[{selector:"[o-form-layout-manager-content]"}]}],ur.ctorParameters=function(){return[{type:c.ViewContainerRef}]},ur.propDecorators={index:[{type:c.Input}]},ur);function ur(t){this.viewContainerRef=t}var pr=(dr.prototype.ngAfterViewInit=function(){var t;this.contentDirective&&this.componentFactory&&((t=this.contentDirective.viewContainerRef).clear(),t.createComponent(this.componentFactory))},dr.prototype.updateNavigation=function(t,e){t=this.formLayoutManager.getLabelFromData(t);t&&t.length&&(t=": "+t),this.label=t},dr.prototype.updateActiveData=function(t){this.data=Object.assign(this.data,t)},dr.prototype.closeDialog=function(){this.dialogRef.close()},dr.prototype.getRouteOfActiveItem=function(){var n=this.formLayoutManager.parentFormLayoutManager.getRouteOfActiveItem(),t=this.urlSegments||[],o=[];return t.forEach(function(t,e){n[e]!==t.path&&o.push(t.path)}),o},dr.prototype.getParams=function(){return this.params},dr.decorators=[{type:c.Component,args:[{selector:"o-form-layout-dialog",template:'<div fxLayout="row" fxLayoutAlign="space-between center" class="title-container">\n  <span fxFlex fxLayoutAlign="center center" mat-dialog-title> {{ (title || \'LAYOUT_MANANGER.DIALOG_TITLE\') | oTranslate }}{{ label }} </span>\n  <mat-icon (click)="closeDialog()" svgIcon="ontimize:close"></mat-icon>\n</div>\n\n<div mat-dialog-content class="form-layout-dialog-container">\n  <ng-template o-form-layout-manager-content></ng-template>\n</div>',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-form-layout-dialog]":"true"},styles:[".o-form-layout-dialog-overlay{width:65%;height:90%}.o-form-layout-dialog-overlay .title-container{cursor:default;height:64px;padding:0 16px}.o-form-layout-dialog-overlay .title-container .mat-dialog-title{width:100%;padding-left:24px;text-align:center;margin:0}.o-form-layout-dialog-overlay .title-container .mat-icon{cursor:pointer}.o-form-layout-dialog-overlay .mat-dialog-container{padding:0!important;overflow:hidden}.o-form-layout-dialog-overlay .mat-dialog-container .mat-dialog-content.form-layout-dialog-container{display:block;padding-top:16px;margin:0;max-height:calc(100% - 78px);height:100%}.o-form-layout-dialog-overlay .mat-dialog-container .o-form-layout-dialog o-form-toolbar .mat-toolbar{padding:0}.o-form-layout-dialog-overlay .mat-dialog-container .o-form-layout-dialog .o-form form.inner-form{position:relative;margin-top:0}"]}]}],dr.ctorParameters=function(){return[{type:d.MatDialogRef},{type:c.Injector},{type:c.ComponentFactoryResolver},{type:undefined,decorators:[{type:c.Inject,args:[d.MAT_DIALOG_DATA]}]}]},dr.propDecorators={contentDirective:[{type:c.ViewChild,args:[cr,{"static":!1}]}]},dr);function dr(t,e,n,o){this.dialogRef=t,this.injector=e,this.componentFactoryResolver=n,o.title&&(this.title=o.title),o.data&&(this.data=o.data,n=o.data.component,this.componentFactory=this.componentFactoryResolver.resolveComponentFactory(n),this.params=o.data.params,this.queryParams=o.data.queryParams,this.urlSegments=o.data.urlSegments),o.layoutManagerComponent&&(this.formLayoutManager=o.layoutManagerComponent)}var hr=(mr.prototype.registerFormLayoutManager=function(t){this.registeredFormLayoutManagers[t.getAttribute()]=t},mr.prototype.removeFormLayoutManager=function(t){delete this.registeredFormLayoutManagers[t.getAttribute()]},Object.defineProperty(mr.prototype,"activeFormLayoutManager",{get:function(){return this._activeFormLayoutManager},set:function(t){this._activeFormLayoutManager=t},enumerable:!0,configurable:!0}),mr.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],mr.ctorParameters=function(){return[{type:c.Injector}]},mr.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new mr(c.ɵɵinject(c.INJECTOR))},token:mr,providedIn:"root"}),mr);function mr(t){this.injector=t,this.registeredFormLayoutManagers={}}var fr=["width","minWidth: min-width","maxWidth: max-width","height","minHeight: min-height","maxHeight max-height","class","position","backdropClass: backdrop-class","closeOnNavigation: close-on-navigation","disableClose:disable-close"],gr=(yr.decorators=[{type:c.Component,args:[{selector:"o-form-layout-dialog-options",template:" ",inputs:fr,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-form-layout-dialog-options]":"true"}}]}],yr.ctorParameters=function(){return[]},D([tt(),L("design:type",Boolean)],yr.prototype,"closeOnNavigation",void 0),D([tt(),L("design:type",Boolean)],yr.prototype,"disableClose",void 0),yr);function yr(){this.width="",this.height="",this["class"]="",this.closeOnNavigation=!0,this.disableClose=!0}var br=(vr.prototype.setPermissionsGuard=function(t){this.permissionsGuard=t},vr.prototype.canActivateChildUsingPermissions=function(t,e){return!this.permissionsGuard||this.permissionsGuard.canActivateChild(t,e)},vr.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],vr.ctorParameters=function(){return[{type:c.Injector}]},vr.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new vr(c.ɵɵinject(c.INJECTOR))},token:vr,providedIn:"root"}),vr);function vr(t){this.injector=t,this.router=this.injector.get(p.Router),this.permissionsService=this.injector.get(Mt)}var Er=(Cr.prototype.canActivateChild=function(t,e){var n=this.oFormLayoutService.activeFormLayoutManager;if(this.oFormLayoutService.activeFormLayoutManager=undefined,n){var o=((t.data?t.data.oPermission:undefined)||{}).permissionId;if(k.isDefined(o))if(!this.shareCanActivateChildService.canActivateChildUsingPermissions(t,e))return!1;return n.addDetailComponent(t,e.url.substring(0,e.url.indexOf("?"))),!1}return!0},Cr.decorators=[{type:c.Injectable}],Cr.ctorParameters=function(){return[{type:c.Injector}]},Cr);function Cr(t){this.injector=t,this.shareCanActivateChildService=this.injector.get(br);try{this.oFormLayoutService=this.injector.get(hr)}catch(e){console.error(e)}}var Tr=["backgroundColor:background-color","color","headerPosition:header-position","disableAnimation:disable-animation","icon","iconPosition:icon-position"],Ir=(Or.decorators=[{type:c.Component,args:[{selector:"o-form-layout-tabgroup-options",template:" ",encapsulation:c.ViewEncapsulation.None,inputs:Tr,host:{"[class.o-form-layout-tabgroup-options]":"true"}}]}],Or.ctorParameters=function(){return[]},Or.propDecorators={templateMatTabLabel:[{type:c.ContentChild,args:[c.TemplateRef,{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Or.prototype,"disableAnimation",void 0),Or);function Or(){this.iconPosition="left"}var Sr=["oattr: attr","mode","labelColumns: label-columns","separator","title","storeState: store-state","titleDataOrigin: title-data-origin","dialogWidth: dialog-width","dialogMinWidth: dialog-min-width","dialogMaxWidth: dialog-max-width","dialogHeight: dialog-height","dialogMinHeight: dialog-min-height","dialogMaxHeight dialog-max-height","dialogClass: dialog-class"],Ar=["onMainTabSelected","onSelectedTabChange","onCloseTab"],_r=(Dr.prototype.ngOnInit=function(){var t=[Dr.DIALOG_MODE,Dr.TAB_MODE];this.mode=(this.mode||"").toLowerCase(),-1===t.indexOf(this.mode)&&(this.mode=Dr.DIALOG_MODE),this.labelColsArray=k.parseArray(this.labelColumns),this.addActivateChildGuard(),k.isDefined(this.oattr)||(this.oattr=this.title+this.mode,console.warn("o-form-layout-manager must have an unique attr")),this.oFormLayoutManagerService.registerFormLayoutManager(this)},Dr.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){var t;e.elRef&&e.elRef.nativeElement.removeAttribute("title"),e.storeState&&e.isTabMode()&&k.isDefined(e.oTabGroup)&&(t=e.localStorageService.getComponentStorage(e),e.oTabGroup.initializeComponentState(t))})},Dr.prototype.ngOnDestroy=function(){this.onRouteChangeStorageSubscription&&this.onRouteChangeStorageSubscription.unsubscribe(),this.updateStateStorage(),this.oFormLayoutManagerService.removeFormLayoutManager(this),this.destroyAactivateChildGuard()},Dr.prototype.getAttribute=function(){return this.oattr},Dr.prototype.getComponentKey=function(){return"OFormLayoutManagerComponent_"+this.oattr},Dr.prototype.getDataToStore=function(){return this.isTabMode()&&k.isDefined(this.oTabGroup)?this.oTabGroup.getDataToStore():{}},Dr.prototype.beforeunloadHandler=function(){this.updateStateStorage()},Dr.prototype.getLabelFromUrlParams=function(n){var o=this,i="",r=Object.keys(n);return r.forEach(function(t,e){i+=n[t]+(e<r.length-1?o.separator:"")}),i},Dr.prototype.getFormDataFromLabelColumns=function(e){var n=this,o={};return Object.keys(e).forEach(function(t){-1<n.labelColsArray.indexOf(t)&&(o[t]=e[t])}),o},Dr.prototype.addActivateChildGuard=function(){var t=this.getParentActRouteRoute();if(k.isDefined(t)){for(var e=t.canActivateChild||[],n=!1,o=0,i=e.length;o<i&&!(n=e[o].name===Dr.guardClassName);o++);n||(this.addingGuard=!0,e.push(Er),t.canActivateChild=e)}},Dr.prototype.destroyAactivateChildGuard=function(){if(this.addingGuard){var t=this.getParentActRouteRoute();if(k.isDefined(t))for(var e=(t.canActivateChild||[]).length-1;0<=e;e--)if(t.canActivateChild[e].name===Dr.guardClassName){t.canActivateChild.splice(e,1);break}}},Dr.prototype.isDialogMode=function(){return this.mode===Dr.DIALOG_MODE},Dr.prototype.isTabMode=function(){return this.mode===Dr.TAB_MODE},Dr.prototype.addDetailComponent=function(t,e){e={params:t.params,queryParams:t.queryParams,urlSegments:t.url,component:t.routeConfig.component,url:e,id:Math.random().toString(36),label:"",modified:!1};this.isTabMode()&&k.isDefined(this.oTabGroup)?this.oTabGroup.addTab(e):this.isDialogMode()&&this.openFormLayoutDialog(e)},Dr.prototype.closeDetail=function(t){this.isTabMode()&&k.isDefined(this.oTabGroup)?this.oTabGroup.closeTab(t):this.isDialogMode()&&k.isDefined(this.dialogRef)&&(this.dialogRef.close(),this.reloadMainComponents())},Dr.prototype.openFormLayoutDialog=function(t){var e=this,n=["o-form-layout-dialog-overlay"];this.dialogClass&&n.push(this.dialogClass);n={data:{data:t,layoutManagerComponent:this,title:this.title},width:this.dialogOptions?this.dialogOptions.width:this.dialogWidth,minWidth:this.dialogOptions?this.dialogOptions.minWidth:this.dialogMinWidth,maxWidth:this.dialogOptions?this.dialogOptions.maxWidth:this.dialogMaxWidth,height:this.dialogOptions?this.dialogOptions.height:this.dialogHeight,minHeight:this.dialogOptions?this.dialogOptions.minHeight:this.dialogMinHeight,maxHeight:this.dialogOptions?this.dialogOptions.maxHeight:this.dialogMaxHeight,disableClose:!this.dialogOptions||this.dialogOptions.disableClose,panelClass:this.dialogOptions?this.dialogOptions["class"]:n};this.dialogOptions&&(n.closeOnNavigation=this.dialogOptions.closeOnNavigation,n.backdropClass=this.dialogOptions.backdropClass,n.position=this.dialogOptions.position,n.disableClose=this.dialogOptions.disableClose),this.dialogRef=this.dialog.open(pr,n),this.dialogRef.afterClosed().subscribe(function(){e.updateIfNeeded()})},Dr.prototype.getFormCacheData=function(t){return this.isTabMode()&&k.isDefined(this.oTabGroup)?this.oTabGroup.getFormCacheData(t):this.isDialogMode()&&k.isDefined(this.dialogRef)?this.dialogRef.componentInstance.data:undefined},Dr.prototype.getLastTabId=function(){return this.isTabMode()&&k.isDefined(this.oTabGroup)?this.oTabGroup.getLastTabId():undefined},Dr.prototype.setModifiedState=function(t,e){this.isTabMode()&&k.isDefined(this.oTabGroup)&&this.oTabGroup.setModifiedState(t,e)},Dr.prototype.getLabelFromData=function(n){var o=this,i="",t=k.isDefined(n);return t&&n.hasOwnProperty("new_tab_title")?i=this.translateService.get(n.new_tab_title):t&&0!==this.labelColsArray.length&&this.labelColsArray.forEach(function(t,e){n[t]!==undefined&&(i+=n[t]+(e<o.labelColsArray.length-1?o.separator:""))}),i},Dr.prototype.updateNavigation=function(t,e,n){this.isTabMode()&&k.isDefined(this.oTabGroup)?this.oTabGroup.updateNavigation(t,e,n):this.isDialogMode()&&k.isDefined(this.dialogRef)&&this.dialogRef.componentInstance.updateNavigation(t,e)},Dr.prototype.updateActiveData=function(t){this.isTabMode()&&k.isDefined(this.oTabGroup)?this.oTabGroup.updateActiveData(t):this.isDialogMode()&&k.isDefined(this.dialogRef)&&this.dialogRef.componentInstance.updateActiveData(t)},Dr.prototype.getRouteOfActiveItem=function(){var t=[];return this.isTabMode()&&k.isDefined(this.oTabGroup)?t=this.oTabGroup.getRouteOfActiveItem():this.isDialogMode()&&k.isDefined(this.dialogRef)&&(t=this.dialogRef.componentInstance.getRouteOfActiveItem()),t},Dr.prototype.isMainComponent=function(t){var e,n=!1;return this.isTabMode()&&k.isDefined(this.oTabGroup)?(e=this.oTabGroup.elementRef.nativeElement.getElementsByTagName("mat-tab-body")[0])&&(n=e.contains(t.elementRef.nativeElement)):this.isDialogMode()&&(n=!t.oFormLayoutDialog),n},Dr.prototype.getRouteForComponent=function(t){var e,n=[];return!this.parentFormLayoutManager||(e=this.parentFormLayoutManager.getRouteForComponent(t))&&0<e.length&&n.push.apply(n,w(e)),this.isMainComponent(t)||(t=this.getRouteOfActiveItem())&&0<t.length&&n.push.apply(n,w(t)),n},Dr.prototype.setAsActiveFormLayoutManager=function(){this.oFormLayoutManagerService.activeFormLayoutManager=this},Dr.prototype.reloadMainComponents=function(){this.onTriggerUpdate.emit()},Dr.prototype.allowToUpdateNavigation=function(t){return!(this.isTabMode()&&k.isDefined(this.oTabGroup)&&k.isDefined(this.titleDataOrigin))||this.titleDataOrigin===t},Dr.prototype.updateStateStorage=function(){this.localStorageService&&this.isTabMode()&&k.isDefined(this.oTabGroup)&&this.storeState&&this.localStorageService.updateComponentStorage(this)},Dr.prototype.getParentActRouteRoute=function(){for(var t=this.actRoute;t.parent!==undefined&&null!==t.parent&&!t.routeConfig.children&&!t.routeConfig.loadChildren;)t=t.parent;return t.routeConfig},Dr.prototype.updateIfNeeded=function(){this.markForUpdate&&(this.markForUpdate=!1,this.onTriggerUpdate.emit())},Dr.prototype.getParams=function(){var t;return this.isTabMode()&&k.isDefined(this.oTabGroup)?t=this.oTabGroup.getParams():this.isDialogMode()&&k.isDefined(this.dialogRef)&&(t=this.dialogRef.componentInstance.getParams()),t},Dr.guardClassName="CanActivateFormLayoutChildGuard",Dr.DIALOG_MODE="dialog",Dr.TAB_MODE="tab",Dr.decorators=[{type:c.Component,args:[{selector:"o-form-layout-manager",inputs:Sr,outputs:Ar,template:'<o-form-layout-tabgroup #tabGroup *ngIf="isTabMode(); else elseBlock" [title]="title"\n  (onMainTabSelected)="onMainTabSelected.emit($event)" (onSelectedTabChange)="onSelectedTabChange.emit($event)"\n  (onCloseTab)="onCloseTab.emit($event)" [options]="tabGroupOptions">\n  <ng-content *ngTemplateOutlet="elseBlock"></ng-content>\n</o-form-layout-tabgroup>\n\n<ng-template #elseBlock>\n  <ng-content></ng-content>\n</ng-template>',host:{"[class.o-form-layout-manager]":"true"}}]}],Dr.ctorParameters=function(){return[{type:c.Injector},{type:p.Router},{type:p.ActivatedRoute},{type:d.MatDialog},{type:c.ElementRef},{type:Dr,decorators:[{type:c.SkipSelf},{type:c.Optional}]}]},Dr.propDecorators={oTabGroup:[{type:c.ViewChild,args:["tabGroup",{"static":!1}]}],tabGroupOptions:[{type:c.ContentChild,args:[Ir,{"static":!1}]}],dialogOptions:[{type:c.ContentChild,args:[gr,{"static":!1}]}],beforeunloadHandler:[{type:c.HostListener,args:["window:beforeunload",[]]}]},D([tt(),L("design:type",Boolean)],Dr.prototype,"storeState",void 0),Dr);function Dr(t,e,n,o,i,r){var a=this;this.injector=t,this.router=e,this.actRoute=n,this.dialog=o,this.elRef=i,this.parentFormLayoutManager=r,this.separator=" ",this.storeState=!0,this.dialogClass="",this.onMainTabSelected=new c.EventEmitter,this.onSelectedTabChange=new c.EventEmitter,this.onCloseTab=new c.EventEmitter,this.labelColsArray=[],this.addingGuard=!1,this.markForUpdate=!1,this.onTriggerUpdate=new c.EventEmitter,this.oFormLayoutManagerService=this.injector.get(hr),this.localStorageService=this.injector.get(Cn),this.translateService=this.injector.get(Ae),this.navigationService=this.injector.get(_n),this.storeState&&(this.onRouteChangeStorageSubscription=this.localStorageService.onRouteChange.subscribe(function(t){a.updateStateStorage()}))}var Lr=(Rr.prototype.initialize=function(){this.formLayoutManager&&this.formLayoutManager.isTabMode()&&(this.id=this.formLayoutManager.getLastTabId())},Rr.prototype.destroy=function(){this.qParamSub&&this.qParamSub.unsubscribe(),this.urlParamSub&&this.urlParamSub.unsubscribe(),this.urlSub&&this.urlSub.unsubscribe(),this.combinedNavigationStreamSubscription&&this.combinedNavigationStreamSubscription.unsubscribe()},Rr.prototype.subscribeToQueryParams=function(){var t,e;this.formLayoutManager?(t=this.formLayoutManager.getFormCacheData(this.id),k.isDefined(t)&&(this.queryParams=t.queryParams||{},this.parseQueryParams())):(e=this).qParamSub=this.actRoute.queryParams.subscribe(function(t){t&&(e.queryParams=t,e.parseQueryParams())})},Rr.prototype.parseQueryParams=function(){var t=this.queryParams[P.IS_DETAIL];this.form.isDetailForm=!this.formLayoutManager&&"true"===t},Rr.prototype.subscribeToUrlParams=function(){var t,e,n=this;this.formLayoutManager?(t=this.formLayoutManager.getFormCacheData(this.id),k.isDefined(t)&&(this.urlParams=t.params,this.parseUrlParams())):(e=this).urlParamSub=this.actRoute.params.subscribe(function(t){e.urlParams=t,n.parseUrlParams()})},Rr.prototype.parseUrlParams=function(){k.isDefined(this.urlParams)&&k.isDefined(this.urlParams[P.PARENT_KEYS_KEY])&&(this.form.formParentKeysValues=k.decodeParentKeys(this.urlParams[P.PARENT_KEYS_KEY])),this.urlParams&&this.onUrlParamChangedStream.emit(!0)},Rr.prototype.subscribeToUrl=function(){var t,e;this.formLayoutManager?(t=this.formLayoutManager.getFormCacheData(this.id),k.isDefined(t)&&(this.urlSegments=t.urlSegments)):(e=this).urlSub=this.actRoute.url.subscribe(function(t){e.urlSegments=t})},Rr.prototype.subscribeToCacheChanges=function(t){var e=this;this.cacheStateSubscription=t.asObservable().subscribe(function(t){e.setModifiedState(!t)})},Rr.prototype.getCurrentKeysValues=function(){var t={};return t=this.urlParams?this.getFilterFromObject(this.urlParams):t},Rr.prototype.getFilterFromObject=function(o){var i=this,r={};return o&&0!==Object.keys(o).length&&(this.form.keysArray&&this.form.keysArray.forEach(function(t,e){o[t]&&(r[t]=at.parseUsingSQLType(o[t],i.form.keysSqlTypesArray[e]))}),Object.keys(this.form._pKeysEquiv).forEach(function(t,e){var n=o[i.form._pKeysEquiv[t]];n&&(r[t]=at.parseUsingSQLType(n,i.form.keysSqlTypesArray[e]))})),r},Rr.prototype.getFilterFromUrlParams=function(){var e=this,n=Object.assign({},this.getUrlParams()||{}),t=Object.keys(n||{});return 0<t.length&&t.forEach(function(t){t===P.PARENT_KEYS_KEY&&(delete n[t],Object.assign(n,e.form.formParentKeysValues))}),n},Rr.prototype.getUrlSegments=function(){return this.urlSegments},Rr.prototype.getQueryParams=function(){return this.queryParams},Rr.prototype.setUrlParams=function(t){this.urlParams=t},Rr.prototype.getUrlParams=function(){return this.urlParams},Rr.prototype.setModifiedState=function(t){this.formLayoutManager&&this.formLayoutManager.setModifiedState(t,this.id)},Rr.prototype.updateNavigation=function(){var t,e,n;this.formLayoutManager&&((t=this.form.isInInsertMode())?e={new_tab_title:"LAYOUT_MANANGER.INSERTION_MODE_TITLE"}:this.formLayoutManager.allowToUpdateNavigation(this.form.oattr)&&(e={},n=this,Object.keys(this.form.formData).forEach(function(t){e[t]=n.form.formData[t].value})),e&&this.formLayoutManager.updateNavigation(e,this.id,t))},Rr.prototype.navigateBack=function(){var t,e;this.formLayoutManager?this.formLayoutManager.closeDetail(this.id):this.navigationService&&(this.navigationService.removeLastItem(),(t=this.navigationService.getLastItem())&&((e={})[P.QUERY_PARAMS]=t.queryParams,this.router.navigate([t.url],e)))},Rr.prototype.closeDetailAction=function(e){var t,n,o=this;this.formLayoutManager?this.formLayoutManager.closeDetail(this.id):this.navigationService&&(this.form.beforeCloseDetail.emit(),this.navigationService.removeLastItemsUntilMain()||this.navigationService.removeLastItem(),(t=this.navigationService.getLastItem())&&(this.navigationService.isCurrentRoute(t.url)&&(this.navigationService.removeLastItem(),t=this.navigationService.getLastItem()),(n={})[P.QUERY_PARAMS]=t.queryParams,this.router.navigate([t.url],n).then(function(t){t&&e&&e.changeToolbarMode&&o.form.getFormToolbar().setInitialMode()})))},Rr.prototype.stayInRecordAfterInsert=function(n){var e,o,i,t,r,a,s,l;this.formLayoutManager?(this.form.setInitialMode(),o=(e=this).form.onDataLoaded.subscribe(function(){var t=e.form.getKeysValues();e.formLayoutManager.updateActiveData({params:t});t=e.formLayoutManager.getFormCacheData(e.id);k.isDefined(t)&&(e.urlParams=t.params),o.unsubscribe()}),this.form.queryData(n)):this.navigationService&&this.form.keysArray&&n&&(this.navigationService.removeLastItem(),i=[],this.form.keysArray.forEach(function(t,e){n[t]&&i.push(n[t])}),t={},l=Object.assign({},this.getQueryParams(),P.getIsDetailObject()),t[P.QUERY_PARAMS]=l,r=[],(a=this.navigationService.getLastMainNavigationRouteData())?(s=a.url,l=a.getDetailFormRoute(),k.isDefined(l)&&(r.push(l),-1!==(l=s.lastIndexOf("/"+l))&&(s=s.substring(0,l))),r.unshift(s),r.push.apply(r,w(i)),this.navigationService.deleteActiveFormMode(a)):(t.relativeTo=this.actRoute,r=w(["../"],i)),this.router.navigate(r,t))},Rr.prototype.goInsertMode=function(e){var t,n,o,i,r=this;this.formLayoutManager&&this.formLayoutManager.isDialogMode()?this.form.setInsertMode():this.navigationService&&(this.formLayoutManager&&this.formLayoutManager.isTabMode()&&this.formLayoutManager.setAsActiveFormLayoutManager(),t=[],n={},o=this.navigationService.getLastMainNavigationRouteData(),!this.formLayoutManager&&o?(t.push(o.url),i=o.getDetailFormRoute(),k.isDefined(i)&&t.push(i),t.push(o.getInsertFormRoute())):(n.relativeTo=this.actRoute,t=["../"+P.DEFAULT_INSERT_ROUTE]),this.storeNavigationFormRoutes("insertFormRoute"),this.router.navigate(t,n).then(function(t){t&&e&&e.changeToolbarMode&&r.form.getFormToolbar().setInsertMode()}))},Rr.prototype.goEditMode=function(e){var t,n,o,i,r,a,s=this;this.formLayoutManager&&this.formLayoutManager.isDialogMode()?this.form.setUpdateMode():this.navigationService&&(t=[],n={},this.form.isDetailForm&&(n[P.QUERY_PARAMS]=P.getIsDetailObject()),n[P.QUERY_PARAMS]=Object.assign({},this.getQueryParams(),n[P.QUERY_PARAMS]||{}),o=[],i=this.getUrlParams(),this.form.keysArray.forEach(function(t){i[t]&&o.push(i[t])}),r=this.navigationService.getPreviousRouteData(),k.isDefined(r)?(t.push(r.url),a=r.getDetailFormRoute(),k.isDefined(a)&&t.push(a),t.push.apply(t,w(o)),t.push(r.getEditFormRoute())):(n.relativeTo=this.actRoute,t=w(["../"],o,[P.DEFAULT_EDIT_ROUTE])),this.storeNavigationFormRoutes("editFormRoute"),this.form.beforeUpdateMode.emit(),this.router.navigate(t,n).then(function(t){t&&e&&e.changeToolbarMode&&s.form.getFormToolbar().setEditMode()}))},Rr.prototype.getNestedLevelsNumber=function(){for(var t=this.actRoute,e=0;t.parent;)(t=t.parent).url.subscribe(function(t){t&&t.length&&e++});return e},Rr.prototype.getFullUrlSegments=function(){var t=[],e=this.router;return e&&e.url&&e.url.length&&((e=e.parseUrl(e.url).root)&&e.hasChildren()&&e.children.primary&&(t=e.children.primary.segments)),t},Rr.prototype.showConfirmDiscardChanges=function(){var t;return t=(t=this.form.isInitialStateChanged()&&!this.form.isInInsertMode()?this.dialogService.confirm("CONFIRM","MESSAGES.FORM_CHANGES_WILL_BE_LOST"):t)===undefined?new u.Observable(function(t){t.next(!0),t.complete()}).toPromise():t},Rr.prototype.storeNavigationFormRoutes=function(t){var e=this.navigationService.getPreviousRouteData().formRoutes;this.navigationService.storeFormRoutes({detailFormRoute:e?e.detailFormRoute:P.DEFAULT_DETAIL_ROUTE,editFormRoute:e?e.editFormRoute:P.DEFAULT_EDIT_ROUTE,insertFormRoute:e?e.insertFormRoute:P.DEFAULT_INSERT_ROUTE},t)},Rr);function Rr(t,e,n,o){this.injector=t,this.form=e,this.router=n,this.actRoute=o,this.urlSegments=[],this.onUrlParamChangedStream=new c.EventEmitter,this.navigationStream=new c.EventEmitter,this.dialogService=t.get(ot),this.navigationService=t.get(_n);try{this.formLayoutManager=this.injector.get(_r)}catch(r){}try{this.formLayoutDialog=this.injector.get(pr)}catch(r){}this.formLayoutDialog&&!this.formLayoutManager&&(this.formLayoutManager=this.formLayoutDialog.formLayoutManager);var i=this;this.combinedNavigationStream=u.combineLatest([i.onUrlParamChangedStream.asObservable()]),this.combinedNavigationStream.subscribe(function(t){k.isArray(t)&&1===t.length&&t[0]&&i.navigationStream.emit(!0)})}var xr=["showHeader: show-header","headerMode: header-mode","headerPosition: header-position","labelheader: label-header","labelHeaderAlign: label-header-align","headeractions: header-actions","showHeaderActionsText: show-header-actions-text","entity","keys","columns","service","stayInRecordAfterEdit: stay-in-record-after-edit","afterInsertMode: after-insert-mode","serviceType : service-type","queryOnInit : query-on-init","parentKeys: parent-keys","queryMethod: query-method","insertMethod: insert-method","updateMethod: update-method","deleteMethod: delete-method","layoutDirection: layout-direction","layoutAlign: layout-align","editableDetail: editable-detail","keysSqlTypes: keys-sql-types","undoButton: undo-button","showHeaderNavigation: show-header-navigation","oattr:attr","includeBreadcrumb: include-breadcrumb","detectChangesOnBlur: detect-changes-on-blur","confirmExit: confirm-exit","queryFallbackFunction: query-fallback-function"],wr=["onDataLoaded","beforeCloseDetail","beforeGoEditMode","onFormModeChange","onInsert","onUpdate","onDelete","beforeInsertMode","beforeUpdateMode","beforeInitialMode","onInsertMode","onUpdateMode","onInitialMode"],Mr=(Nr.Mode=function(){var t,e;return(e=t=t||{})[e.QUERY=0]="QUERY",e[e.INSERT=1]="INSERT",e[e.UPDATE=2]="UPDATE",e[e.INITIAL=3]="INITIAL",t},Nr.prototype.registerFormComponent=function(t){if(t){var e=t.getAttribute();if(e&&0<e.length&&t.isAutomaticRegistering()){if(this._components.hasOwnProperty(e))return t.repeatedAttr=!0,void console.error("There is already a component registered in the form with the attr: "+e);this._components[e]=t,this.formParentKeysValues&&this.formParentKeysValues[e]!==undefined&&(n=this.formParentKeysValues[e],this._components[e].setValue(n,{emitModelToViewChange:!1,emitEvent:!1}));var n=this.formCache.getCachedValue(e);k.isDefined(n)&&this.getDataValues()&&this._components.hasOwnProperty(e)&&this._components[e].setValue(n,{emitModelToViewChange:!1,emitEvent:!1})}}},Nr.prototype.registerSQLTypeFormComponent=function(t){var e;t.repeatedAttr||t&&(e=t.getSQLType(),t=t.getAttribute(),e!==at.OTHER&&t&&0<t.length&&-1===this.ignoreFormCacheKeys.indexOf(t)&&(this._compSQLTypes[t]=e))},Nr.prototype.registerFormControlComponent=function(t){var e,n;t.repeatedAttr||!t||(e=t.getAttribute())&&0<e.length&&((n=t.getControl())&&(this.formGroup.registerControl(e,n),t.isAutomaticRegistering()||this.ignoreFormCacheKeys.push(t.getAttribute())))},Nr.prototype.unregisterFormComponent=function(t){!t||(t=t.getAttribute())&&0<t.length&&this._components.hasOwnProperty(t)&&delete this._components[t]},Nr.prototype.unregisterFormControlComponent=function(t){var e;t&&t.isAutomaticRegistering()&&(e=t.getControl(),t=t.getAttribute(),e&&t&&0<t.length&&this.formGroup.removeControl(t))},Nr.prototype.unregisterSQLTypeFormComponent=function(t){!t||(t=t.getAttribute())&&0<t.length&&delete this._compSQLTypes[t]},Nr.prototype.registerToolbar=function(t){t&&(this._formToolbar=t,this._formToolbar.isDetail=this.isDetailForm)},Nr.prototype.getComponents=function(){return this._components},Nr.prototype.load=function(){var n=this,o=this.injector.get(c.NgZone);return new u.Observable(function(t){var e=window.setTimeout(function(){t.next(!0)},250);return function(){window.clearTimeout(e),o.run(function(){n.loadingSubject.next(!1)})}}).subscribe(function(t){o.run(function(){n.loadingSubject.next(t)})})},Nr.prototype.getDataValue=function(t){if(this.isInInsertMode()){var e=this.formNavigation.getFilterFromUrlParams(),e=this.formGroup.value[t]||e[t];return new rt(e)}if(this.isInInitialMode()&&!this.isEditableDetail()){if((n=this.formData)&&n.hasOwnProperty(t))return n[t]}else if((this.isInUpdateMode()||this.isEditableDetail())&&this.formData&&0<Object.keys(this.formData).length){var n,e=this.formCache.getCachedValue(t);if(this.formGroup.dirty&&e)return e instanceof rt?e:new rt(e);if((n=this.formData)&&n.hasOwnProperty(t))return n[t]}return new rt},Nr.prototype.getDataValues=function(){return this.formData},Nr.prototype.clearData=function(){var t=this.formNavigation.getFilterFromUrlParams();this.formGroup.reset({},{emitEvent:!1}),this.setData(t)},Nr.prototype.canDeactivate=function(){if(!this.confirmExit)return!0;var t=this.canDiscardChanges;return this.canDiscardChanges=!1,t||this.showConfirmDiscardChanges()},Nr.prototype.showConfirmDiscardChanges=function(){return this.formNavigation.showConfirmDiscardChanges()},Nr.prototype.executeToolbarAction=function(t,e){switch(t){case P.BACK_ACTION:this.back();break;case P.CLOSE_DETAIL_ACTION:this.closeDetail(e);break;case P.RELOAD_ACTION:this.reload(!0);break;case P.GO_INSERT_ACTION:this.goInsertMode(e);break;case P.INSERT_ACTION:this.insert();break;case P.GO_EDIT_ACTION:this.goEditMode(e);break;case P.EDIT_ACTION:this.update();break;case P.UNDO_LAST_CHANGE_ACTION:this.undo();break;case P.DELETE_ACTION:return this["delete"]()}return undefined},Nr.prototype.ngOnInit=function(){this.addDeactivateGuard(),this.formGroup=new i.FormGroup({}),this.formNavigation.initialize(),this.initialize()},Nr.prototype.addDeactivateGuard=function(){if((!this.isInInitialMode()||this.isEditableDetail())&&this.actRoute&&this.actRoute.routeConfig){this.deactivateGuard=this.injector.get(sr),this.deactivateGuard.setForm(this);for(var t=this.actRoute.routeConfig.canDeactivate||[],e=!1,n=0,o=t.length;n<o&&!(e=(t[n].hasOwnProperty("CLASSNAME")&&t[n].CLASSNAME)===Nr.guardClassName);n++);e||(t.push(this.deactivateGuard.constructor),this.actRoute.routeConfig.canDeactivate=t)}},Nr.prototype.destroyDeactivateGuard=function(){try{if(!(this.deactivateGuard&&this.actRoute&&this.actRoute.routeConfig&&this.actRoute.routeConfig.canDeactivate))return;this.deactivateGuard.setForm(undefined);for(var t=this.actRoute.routeConfig.canDeactivate.length-1;0<=t;t--)if(this.actRoute.routeConfig.canDeactivate[t].name===Nr.guardClassName){this.actRoute.routeConfig.canDeactivate.splice(t,1);break}0===this.actRoute.routeConfig.canDeactivate.length&&delete this.actRoute.routeConfig.canDeactivate}catch(e){}},Nr.prototype.hasDeactivateGuard=function(){return k.isDefined(this.deactivateGuard)},Nr.prototype.initialize=function(){var e=this;"all"===this.headeractions&&(this.headeractions="R;I;U;D"),this.keysArray=k.parseArray(this.keys,!0),this.colsArray=k.parseArray(this.columns,!0);var t=k.parseArray(this.parentKeys);this._pKeysEquiv=k.parseParentKeysEquivalences(t),this.keysSqlTypesArray=k.parseArray(this.keysSqlTypes),this.configureService(),this.formNavigation.subscribeToQueryParams(),this.formNavigation.subscribeToUrlParams(),this.formNavigation.subscribeToUrl(),this.formNavigation.subscribeToCacheChanges(this.formCache.onCacheEmptyStateChanges),this.navigationService&&this.navigationService.onVisibleChange(function(t){e.showHeader=t}),this.mode=Nr.Mode().INITIAL,this.permissions=this.permissionsService.getFormPermissions(this.oattr,this.actRoute),"function"!=typeof this.queryFallbackFunction&&(this.queryFallbackFunction=undefined)},Nr.prototype.reinitialize=function(t){if(t&&Object.keys(t).length){var e,n=Object.assign({},t);for(e in n)n.hasOwnProperty(e)&&(this[e]=n[e]);this.destroy(),this.initialize()}},Nr.prototype.configureService=function(){var t,e=_t;this.serviceType&&(e=this.serviceType);try{this.dataService=this.injector.get(e),k.isDataService(this.dataService)&&(t=this.dataService.getDefaultServiceConfiguration(this.service),this.entity&&(t.entity=this.entity),this.dataService.configureService(t))}catch(n){console.error(n)}},Nr.prototype.ngOnDestroy=function(){this.destroy()},Nr.prototype.destroy=function(){this.reloadStreamSubscription&&this.reloadStreamSubscription.unsubscribe(),this.querySubscription&&this.querySubscription.unsubscribe(),this.loaderSubscription&&this.loaderSubscription.unsubscribe(),this.formCache.destroy(),this.formNavigation.destroy(),this.destroyDeactivateGuard()},Nr.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.determinateFormMode(),t.onFormInitStream.emit(!0)},0)},Nr.prototype._setComponentsEditable=function(e){var n=this.getComponents();Object.keys(n).forEach(function(t){n[t].isReadOnly=!e})},Nr.prototype.setFormMode=function(t){switch(t){case Nr.Mode().INITIAL:this.beforeInitialMode.emit(),this.mode=t,this._formToolbar&&this._formToolbar.setInitialMode(),this._setComponentsEditable(this.isEditableDetail()),this.onFormModeChange.emit(this.mode),this.onInitialMode.emit();break;case Nr.Mode().INSERT:this.beforeInsertMode.emit(),this.mode=t,this._formToolbar&&this._formToolbar.setInsertMode(),this.clearData(),this._setComponentsEditable(!0),this.onFormModeChange.emit(this.mode),this.onInsertMode.emit();break;case Nr.Mode().UPDATE:this.beforeUpdateMode.emit(),this.mode=t,this._formToolbar&&this._formToolbar.setEditMode(),this._setComponentsEditable(!0),this.onFormModeChange.emit(this.mode),this.onUpdateMode.emit();break;case Nr.Mode().QUERY:console.error("Form QUERY mode is not implemented")}},Nr.prototype.setData=function(t){var e;k.isArray(t)?(1<t.length&&console.warn("[OFormComponent] Form data has more than a single record. Storing empty data"),e=1===t.length?t[0]:{},this._updateFormData(this.toFormValueData(e)),this._emitData(e)):k.isObject(t)?(this._updateFormData(this.toFormValueData(t)),this._emitData(t)):(console.warn("Form has received not supported service data. Supported data are Array or Object"),this._updateFormData({}))},Nr.prototype._setData=function(t){console.warn("Method `OFormComponent._setData` is deprecated and will be removed in the furute. Use `setData` instead"),this.setData(t)},Nr.prototype._emitData=function(t){this.onDataLoaded.emit(t)},Nr.prototype._backAction=function(){console.warn("Method `OFormComponent._backAction` is deprecated and will be removed in the furute. Use `back` instead"),this.back()},Nr.prototype.back=function(){this.formNavigation.navigateBack()},Nr.prototype._closeDetailAction=function(t){console.warn("Method `OFormComponent._closeDetailAction` is deprecated and will be removed in the furute. Use `closeDetail` instead"),this.closeDetail(t)},Nr.prototype.closeDetail=function(t){this.formNavigation.closeDetailAction(t)},Nr.prototype._stayInRecordAfterInsert=function(t){this.formNavigation.stayInRecordAfterInsert(t)},Nr.prototype._reloadAction=function(t){void 0===t&&(t=!1),console.warn("Method `OFormComponent._reloadAction` is deprecated and will be removed in the furute. Use `reload` instead"),this.reload(t)},Nr.prototype.reload=function(t){var e={};(t=void 0===t?!1:t)&&(e=this.getCurrentKeysValues()),this.queryData(e)},Nr.prototype._goInsertMode=function(t){console.warn("Method `OFormComponent._goInsertMode` is deprecated and will be removed in the furute. Use `goInsertMode` instead"),this.goInsertMode(t)},Nr.prototype.goInsertMode=function(t){this.formNavigation.goInsertMode(t)},Nr.prototype._clearFormAfterInsert=function(){this.clearData(),this._setComponentsEditable(!0)},Nr.prototype._insertAction=function(){console.warn("Method `OFormComponent._insertAction` is deprecated and will be removed in the furute. Use `insert` instead"),this.insert()},Nr.prototype.insert=function(){var e,t,n,o=this;Object.keys(this.formGroup.controls).forEach(function(t){o.formGroup.controls[t].markAsTouched()}),this.formGroup.valid?(t=(e=this).getAttributesValuesToInsert(),n=this.getAttributesSQLTypes(),this.insertData(t,n).subscribe(function(t){e.postCorrectInsert(t),e.formCache.setCacheSnapshot(),e.markFormLayoutManagerToUpdate(),"detail"===e.afterInsertMode?e._stayInRecordAfterInsert(t):"new"===e.afterInsertMode?o._clearFormAfterInsert():e.closeDetail()},function(t){e.postIncorrectInsert(t)})):this.dialogService.alert("ERROR","MESSAGES.FORM_VALIDATION_ERROR")},Nr.prototype._goEditMode=function(t){console.warn("Method `OFormComponent._goEditMode` is deprecated and will be removed in the furute. Use `goEditMode` instead"),this.goEditMode(t)},Nr.prototype.goEditMode=function(t){this.formNavigation.goEditMode()},Nr.prototype._editAction=function(){console.warn("Method `OFormComponent._editAction` is deprecated and will be removed in the furute. Use `update` instead"),this.update()},Nr.prototype.update=function(){var e,t,n,o,i=this;Object.keys(this.formGroup.controls).forEach(function(t){i.formGroup.controls[t].markAsTouched()}),this.formGroup.valid?(t=(e=this).getKeysValues(),n=this.getAttributesValuesToUpdate(),o=this.getAttributesSQLTypes(),0!==Object.keys(n).length?this.updateData(t,n,o).subscribe(function(t){e.postCorrectUpdate(t),e.formCache.setCacheSnapshot(),e.markFormLayoutManagerToUpdate(),e.stayInRecordAfterEdit?e.reload(!0):e.closeDetail()},function(t){e.postIncorrectUpdate(t)}):this.dialogService.alert("INFO","MESSAGES.FORM_NOTHING_TO_UPDATE_INFO")):this.dialogService.alert("ERROR","MESSAGES.FORM_VALIDATION_ERROR")},Nr.prototype._deleteAction=function(){return console.warn("Method `OFormComponent._deleteAction` is deprecated and will be removed in the furute. Use `delete` instead"),this["delete"]()},Nr.prototype["delete"]=function(){var t=this.getKeysValues();return this.deleteData(t)},Nr.prototype.queryData=function(t){var e,n,o=this;k.isDefined(this.dataService)?k.isDefined(t)&&0!==Object.keys(t).length?(this.formCache.restartCache(),this.clearComponentsOldValue(),this.querySubscription&&this.querySubscription.unsubscribe(),this.loaderSubscription&&this.loaderSubscription.unsubscribe(),this.loaderSubscription=this.load(),e=this.getAttributesToQuery(),n=this.getAttributesSQLTypes(),this.querySubscription=this.dataService[this.queryMethod](t,e,this.entity,n).subscribe(function(t){t.isSuccessful()?o.setData(t.data):(o._updateFormData({}),o.dialogService.alert("ERROR","MESSAGES.ERROR_QUERY"),console.error("ERROR: "+t.message)),o.loaderSubscription.unsubscribe()},function(t){console.error(t),o._updateFormData({}),k.isDefined(o.queryFallbackFunction)?o.queryFallbackFunction(t):t&&t.statusText?o.dialogService.alert("ERROR",t.statusText):o.dialogService.alert("ERROR","MESSAGES.ERROR_QUERY"),o.loaderSubscription.unsubscribe()})):console.warn("OFormComponent: no filter configured! aborting query"):console.warn("OFormComponent: no service configured! aborting query")},Nr.prototype.getAttributesToQuery=function(){var e=[];this.keysArray&&0<this.keysArray.length&&e.push.apply(e,w(this.keysArray));var n=this.getComponents();Object.keys(n).forEach(function(t){e.indexOf(t)<0&&n[t].isAutomaticRegistering()&&n[t].isAutomaticBinding()&&e.push(t)});var t=this.formCache.getDataCache();return t&&Object.keys(t).forEach(function(t){t!==undefined&&-1===e.indexOf(t)&&e.push(t)}),e=e.concat(this.colsArray.filter(function(t){return e.indexOf(t)<0}))},Nr.prototype.insertData=function(t,n){var o=this;this.loaderSubscription&&this.loaderSubscription.unsubscribe(),this.loaderSubscription=this.load();var i=this;return new u.Observable(function(e){o.dataService[o.insertMethod](t,o.entity,n).subscribe(function(t){t.isSuccessful()?(e.next(t.data),e.complete()):e.error(t.message),i.loaderSubscription.unsubscribe()},function(t){e.error(t),i.loaderSubscription.unsubscribe()})})},Nr.prototype.getAttributesValuesToInsert=function(){var t={};return this.formParentKeysValues&&Object.assign(t,this.formParentKeysValues),Object.assign(t,this.getRegisteredFieldsValues())},Nr.prototype.getAttributesSQLTypes=function(){var n=this,o={};return this.keysSqlTypesArray.forEach(function(t,e){return o[n.keysArray[e]]=at.getSQLTypeValue(t)}),this._compSQLTypes&&0<Object.keys(this._compSQLTypes).length&&Object.assign(o,this._compSQLTypes),o},Nr.prototype.updateData=function(t,n,o){var i=this;this.loaderSubscription&&this.loaderSubscription.unsubscribe(),this.loaderSubscription=this.load();var r=this;return new u.Observable(function(e){i.dataService[i.updateMethod](t,n,i.entity,o).subscribe(function(t){t.isSuccessful()?(e.next(t.data),e.complete()):e.error(t.message),r.loaderSubscription.unsubscribe()},function(t){e.error(t),r.loaderSubscription.unsubscribe()})})},Nr.prototype.getAttributesValuesToUpdate=function(){var n={},o=this,e=this.formCache.getChangedFormControlsAttr();return Object.keys(this.formGroup.controls).filter(function(t){return-1===o.ignoreFormCacheKeys.indexOf(t)&&-1!==e.indexOf(t)}).forEach(function(t){var e=o.formGroup.controls[t];n[t]=e instanceof Yt?e.getValue():e.value,n[t]===undefined&&(n[t]=null)}),n},Nr.prototype.deleteData=function(t){var n=this;this.loaderSubscription&&this.loaderSubscription.unsubscribe(),this.loaderSubscription=this.load();var o=this;return new u.Observable(function(e){n.canDiscardChanges=!0,n.dataService[n.deleteMethod](t,n.entity).subscribe(function(t){t.isSuccessful()?(o.formCache.setCacheSnapshot(),o.markFormLayoutManagerToUpdate(),o.postCorrectDelete(t),e.next(t.data),e.complete()):(o.postIncorrectDelete(t),e.error(t.message)),o.loaderSubscription.unsubscribe()},function(t){o.postIncorrectDelete(t),e.error(t),o.loaderSubscription.unsubscribe()})})},Nr.prototype.toJSONData=function(e){e=e||{};var n={};return Object.keys(e).forEach(function(t){n[t]=e[t].value}),n},Nr.prototype.toFormValueData=function(t){if(t&&k.isArray(t)){var e=[],n=this;return t.forEach(function(t){e.push(n.objectToFormValueData(t))}),e}return t&&k.isObject(t)?this.objectToFormValueData(t):undefined},Nr.prototype.getKeysValues=function(){var n={},o=this.formData;return this.keysArray&&this.keysArray.forEach(function(t){var e;o[t]!==undefined&&((e=o[t])instanceof rt&&(e=e.value),n[t]=e)}),n},Nr.prototype.isInQueryMode=function(){return this.mode===Nr.Mode().QUERY},Nr.prototype.isInInsertMode=function(){return this.mode===Nr.Mode().INSERT},Nr.prototype.isInUpdateMode=function(){return this.mode===Nr.Mode().UPDATE},Nr.prototype.isInInitialMode=function(){return this.mode===Nr.Mode().INITIAL},Nr.prototype.setQueryMode=function(){this.setFormMode(Nr.Mode().QUERY)},Nr.prototype.setInsertMode=function(){this.setFormMode(Nr.Mode().INSERT)},Nr.prototype.setUpdateMode=function(){this.setFormMode(Nr.Mode().UPDATE)},Nr.prototype.setInitialMode=function(){this.setFormMode(Nr.Mode().INITIAL)},Nr.prototype.registerDynamicFormComponent=function(t){var n;k.isDefined(t)&&((n=this).dynamicFormSubscription=t.render.subscribe(function(t){t&&(n.refreshComponentsEditableState(),!n.isInInsertMode()&&n.queryOnInit&&n.reload(!0),n.formParentKeysValues&&Object.keys(n.formParentKeysValues).forEach(function(t){var e=n.formParentKeysValues[t],t=n.getFieldReference(t);k.isFormDataComponent(t)&&t.isAutomaticBinding()&&t.setValue(e,{emitModelToViewChange:!1,emitEvent:!1})}))}))},Nr.prototype.unregisterDynamicFormComponent=function(t){t&&this.dynamicFormSubscription&&this.dynamicFormSubscription.unsubscribe()},Nr.prototype.getRequiredComponents=function(){var n={},o=this.getComponents();return o&&Object.keys(o).forEach(function(t){var e=o[t],t=e.getAttribute();e.isRequired&&t&&0<t.length&&(n[t]=e)}),n},Object.defineProperty(Nr.prototype,"layoutDirection",{get:function(){return this._layoutDirection},set:function(t){t=(t||"").toLowerCase();this._layoutDirection=-1!==["row","column","row-reverse","column-reverse"].indexOf(t)?t:Nr.DEFAULT_LAYOUT_DIRECTION},enumerable:!0,configurable:!0}),Object.defineProperty(Nr.prototype,"layoutAlign",{get:function(){return this._layoutAlign},set:function(t){this._layoutAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(Nr.prototype,"showFloatingToolbar",{get:function(){return this.showHeader&&"floating"===this.headerMode},enumerable:!0,configurable:!0}),Object.defineProperty(Nr.prototype,"showNotFloatingToolbar",{get:function(){return this.showHeader&&"floating"!==this.headerMode},enumerable:!0,configurable:!0}),Nr.prototype.isEditableDetail=function(){return this.editableDetail},Nr.prototype.isInitialStateChanged=function(){return this.formCache.isInitialStateChanged()},Nr.prototype._undoLastChangeAction=function(){console.warn("Method `OFormComponent._undoLastChangeAction` is deprecated and will be removed in the furute. Use `undo` instead"),this.undo()},Nr.prototype.undo=function(){this.formCache.undoLastChange()},Object.defineProperty(Nr.prototype,"isCacheStackEmpty",{get:function(){return this.formCache.isCacheStackEmpty},enumerable:!0,configurable:!0}),Nr.prototype.undoKeyboardPressed=function(){this.formCache.undoLastChange({keyboardEvent:!0})},Nr.prototype.getFormToolbar=function(){return this._formToolbar},Nr.prototype.getFormManager=function(){return this.formNavigation.formLayoutManager},Nr.prototype.getFormNavigation=function(){return this.formNavigation},Nr.prototype.getFormCache=function(){return this.formCache},Nr.prototype.getUrlParam=function(t){return this.getFormNavigation().getUrlParams()[t]},Nr.prototype.getUrlParams=function(){return this.getFormNavigation().getUrlParams()},Nr.prototype.setUrlParamsAndReload=function(t){this.formNavigation.setUrlParams(t),this.reload(!0)},Nr.prototype.getRegisteredFieldsValues=function(){var n={},o=this.getComponents(),e=this;return Object.keys(o).filter(function(t){return-1===e.ignoreFormCacheKeys.indexOf(t)}).forEach(function(t){var e=o[t];n[t]=e.getValue()}),n},Nr.prototype.getFieldValue=function(t){var e=null,t=this.getFieldReference(t);return e=t?t.getValue():e},Nr.prototype.getFieldValues=function(t){var e=this,n={};return t.forEach(function(t){return n[t]=e.getFieldValue(t)}),n},Nr.prototype.setFieldValue=function(t,e,n){t=this.getFieldReference(t);t&&t.setValue(e,n)},Nr.prototype.setFieldValues=function(t,e){for(var n in t)t.hasOwnProperty(n)&&this.setFieldValue(n,t[n],e)},Nr.prototype.clearFieldValue=function(t,e){t=this.getFieldReference(t);t&&t.clearValue(e)},Nr.prototype.clearFieldValues=function(t,e){var n=this;t.forEach(function(t){n.clearFieldValue(t,e)})},Nr.prototype.getFieldReference=function(t){return this._components[t]},Nr.prototype.getFieldReferences=function(t){var n={},o=this;return t.forEach(function(t,e){n[t]=o.getFieldReference(t)}),n},Nr.prototype.getFormComponentPermissions=function(e){var t;return t=k.isDefined(this.permissions)?(this.permissions.components||[]).find(function(t){return t.attr===e}):t},Nr.prototype.getActionsPermissions=function(){var t;return t=k.isDefined(this.permissions)?this.permissions.actions||[]:t},Nr.prototype.determinateFormMode=function(){var e=this,t=this.formNavigation.getUrlSegments();0<t.length?(t=t[t.length-1],this.determinateModeFromUrlSegment(t)):this.actRoute.parent?this.actRoute.parent.url.subscribe(function(t){t=t[t.length-1];e.determinateModeFromUrlSegment(t)}):this.setFormMode(Nr.Mode().INITIAL),this.stayInRecordAfterEdit=this.stayInRecordAfterEdit||this.isEditableDetail()},Nr.prototype.determinateModeFromUrlSegment=function(t){t=t?t.path:"";this.isInsertModePath(t)?this.setInsertMode():this.isUpdateModePath(t)?this.setUpdateMode():this.setInitialMode()},Nr.prototype._updateFormData=function(t){var e=this,i=this;this.zone.run(function(){e.formData=t;var o=e.getComponents();o&&(Object.keys(o).forEach(function(t){var e=o[t];if(k.isFormDataComponent(e))try{e.isAutomaticBinding()&&(e.data=i.getDataValue(t))}catch(n){console.error(n)}}),i.initializeFields())})},Nr.prototype.initializeFields=function(){var e=this;Object.keys(this.formGroup.controls).forEach(function(t){e.formGroup.controls[t].markAsPristine()}),this.formCache.registerCache(),this.formNavigation.updateNavigation()},Nr.prototype.clearComponentsOldValue=function(){var e=this.getComponents(),n=this;Object.keys(e).filter(function(t){return-1===n.ignoreFormCacheKeys.indexOf(t)}).forEach(function(t){t=e[t];t.oldValue=undefined,t.getFormControl().setValue(undefined)})},Nr.prototype.postCorrectInsert=function(t){this.snackBarService.open("MESSAGES.INSERTED",{icon:"check_circle"}),this.onInsert.emit(t)},Nr.prototype.postIncorrectInsert=function(t){this.showError("insert",t)},Nr.prototype.postIncorrectDelete=function(t){this.showError("delete",t)},Nr.prototype.postIncorrectUpdate=function(t){this.showError("update",t)},Nr.prototype.postCorrectUpdate=function(t){this.snackBarService.open("MESSAGES.SAVED",{icon:"check_circle"}),this.onUpdate.emit(t)},Nr.prototype.postCorrectDelete=function(t){this.snackBarService.open("MESSAGES.DELETED",{icon:"check_circle"}),this.onDelete.emit(t)},Nr.prototype.markFormLayoutManagerToUpdate=function(){var t=this.getFormManager();k.isDefined(t)&&(t.markForUpdate=!0)},Nr.prototype.objectToFormValueData=function(e){void 0===e&&(e={});var n={};return Object.keys(e).forEach(function(t){n[t]=new rt(e[t])}),n},Nr.prototype.getCurrentKeysValues=function(){return this.formNavigation.getCurrentKeysValues()},Nr.prototype.refreshComponentsEditableState=function(){switch(this.mode){case Nr.Mode().INITIAL:this._setComponentsEditable(this.isEditableDetail());break;case Nr.Mode().INSERT:case Nr.Mode().UPDATE:this._setComponentsEditable(!0)}},Nr.prototype.isInsertModePath=function(t){var e=this.navigationService.getLastItem();return k.isDefined(e)&&t===e.getInsertFormRoute()},Nr.prototype.isUpdateModePath=function(t){var e=this.navigationService.getPreviousRouteData();return k.isDefined(e)&&t===e.getEditFormRoute()},Nr.prototype.showError=function(t,e){if(e&&"object"!=typeof e)this.dialogService.alert("ERROR",e);else{var n="MESSAGES.ERROR_DELETE";switch(t){case"update":n="MESSAGES.ERROR_UPDATE";break;case"insert":n="MESSAGES.ERROR_INSERT"}this.dialogService.alert("ERROR",n)}},Nr.DEFAULT_LAYOUT_DIRECTION="column",Nr.guardClassName="CanDeactivateFormGuard",Nr.decorators=[{type:c.Component,args:[{selector:"o-form",providers:[Ce],template:'<ng-template #customFormToolbarButtons>\n  <ng-content select="[o-form-toolbar-buttons]"></ng-content>\n</ng-template>\n\n<o-form-toolbar *ngIf="showFloatingToolbar && headerPosition===\'top\'" [label-header]="labelheader"\n  [label-header-align]="labelHeaderAlign" [header-actions]="headeractions"\n  [show-header-navigation]="showHeaderNavigation" [show-header-actions-text]="showHeaderActionsText" layout-padding>\n  <div o-custom-form-toolbar-buttons-wrapper fxLayout="row" fxLayoutAlign="end center">\n    <ng-container *ngTemplateOutlet="customFormToolbarButtons"></ng-container>\n  </div>\n</o-form-toolbar>\n\n<ng-host oKeyboardListener keyboardKeys="17;90" (onKeysPressed)="undoKeyboardPressed()" class="scrolling o-scroll">\n  <div fxFlex="grow">\n    <o-form-toolbar *ngIf="showNotFloatingToolbar && headerPosition===\'top\'" [label-header]="labelheader"\n      [label-header-align]="labelHeaderAlign" [header-actions]="headeractions"\n      [show-header-navigation]="showHeaderNavigation" [show-header-actions-text]="showHeaderActionsText" layout-padding>\n      <div o-custom-form-toolbar-buttons-wrapper fxLayout="row" fxLayoutAlign="end center">\n        <div o-custom-form-toolbar-buttons-wrapper fxLayout="row" fxLayoutAlign="end center">\n          <ng-container *ngTemplateOutlet="customFormToolbarButtons"></ng-container>\n        </div>\n      </div>\n    </o-form-toolbar>\n\n    <form #innerForm [formGroup]="formGroup" class="inner-form" [class.form-no-toolbar]="!showHeader" autocomplete="off"\n      autocorrect="off" autocapitalize="off" spellcheck="false">\n      <div *ngIf="loading | async" class="progress-bar-container">\n        <mat-progress-bar mode="indeterminate"></mat-progress-bar>\n      </div>\n      <div layout-padding [fxLayout]="layoutDirection" [fxLayoutAlign]="layoutAlign" class="o-form-content-wrapper">\n        <ng-content></ng-content>\n      </div>\n    </form>\n\n    <o-form-toolbar *ngIf="showNotFloatingToolbar && headerPosition===\'bottom\'" [label-header]="labelheader"\n      [label-header-align]="labelHeaderAlign" [header-actions]="headeractions"\n      [show-header-navigation]="showHeaderNavigation" [show-header-actions-text]="showHeaderActionsText" layout-padding>\n      <div o-custom-form-toolbar-buttons-wrapper fxLayout="row" fxLayoutAlign="end center">\n        <ng-container *ngTemplateOutlet="customFormToolbarButtons"></ng-container>\n      </div>\n    </o-form-toolbar>\n  </div>\n</ng-host>\n\n<o-form-toolbar *ngIf="showFloatingToolbar && headerPosition===\'bottom\'" [label-header]="labelheader"\n  [label-header-align]="labelHeaderAlign" [header-actions]="headeractions"\n  [show-header-navigation]="showHeaderNavigation" [show-header-actions-text]="showHeaderActionsText" layout-padding>\n  <div o-custom-form-toolbar-buttons-wrapper fxLayout="row" fxLayoutAlign="end center">\n    <ng-container *ngTemplateOutlet="customFormToolbarButtons"></ng-container>\n  </div>\n</o-form-toolbar>',inputs:xr,outputs:wr,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-form]":"true"},styles:[".o-form{display:flex;flex:auto;flex-direction:column;max-height:100%}.o-form .scrolling{display:flex;flex:auto;overflow-y:auto;flex-direction:column}.o-form form.inner-form{display:flex;flex:auto;flex-direction:column;max-height:100%}.o-form form.inner-form .progress-bar-container{padding:8px}.o-form form.form-no-toolbar{top:0}.o-form form .o-form-content-wrapper{height:100%;width:100%;box-sizing:border-box}"]}]}],Nr.ctorParameters=function(){return[{type:p.Router},{type:p.ActivatedRoute},{type:c.NgZone},{type:c.ChangeDetectorRef},{type:c.Injector},{type:c.ElementRef}]},Nr.propDecorators={innerFormEl:[{type:c.ViewChild,args:["innerForm",{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Nr.prototype,"showHeader",void 0),D([tt(),L("design:type",Boolean)],Nr.prototype,"stayInRecordAfterEdit",void 0),D([tt(),L("design:type",Boolean)],Nr.prototype,"queryOnInit",void 0),D([tt(),L("design:type",Boolean)],Nr.prototype,"editableDetail",void 0),D([tt(),L("design:type",Boolean)],Nr.prototype,"undoButton",void 0),D([tt(),L("design:type",Boolean)],Nr.prototype,"showHeaderNavigation",void 0),D([tt(),L("design:type",Boolean)],Nr.prototype,"includeBreadcrumb",void 0),D([tt(),L("design:type",Boolean)],Nr.prototype,"detectChangesOnBlur",void 0),D([tt(),L("design:type",Boolean)],Nr.prototype,"confirmExit",void 0),Nr);function Nr(t,e,n,o,i,r){this.router=t,this.actRoute=e,this.zone=n,this.cd=o,this.injector=i,this.elRef=r,this.showHeader=!0,this.headerMode="floating",this.headerPosition="top",this.labelheader="",this.labelHeaderAlign="center",this.headeractions="",this.showHeaderActionsText="yes",this.keys="",this.columns="",this.stayInRecordAfterEdit=!1,this.afterInsertMode=null,this.queryOnInit=!0,this.queryMethod=P.QUERY_METHOD,this.insertMethod=P.INSERT_METHOD,this.updateMethod=P.UPDATE_METHOD,this.deleteMethod=P.DELETE_METHOD,this._layoutDirection=Nr.DEFAULT_LAYOUT_DIRECTION,this._layoutAlign="start stretch",this.editableDetail=!0,this.undoButton=!0,this.showHeaderNavigation=!1,this.oattr="",this.includeBreadcrumb=!1,this.detectChangesOnBlur=!0,this.confirmExit=!0,this.isDetailForm=!1,this.keysArray=[],this.colsArray=[],this._pKeysEquiv={},this.keysSqlTypesArray=[],this.onDataLoaded=new c.EventEmitter,this.beforeCloseDetail=new c.EventEmitter,this.beforeGoEditMode=new c.EventEmitter,this.beforeInsertMode=new c.EventEmitter,this.beforeUpdateMode=new c.EventEmitter,this.beforeInitialMode=new c.EventEmitter,this.onInsertMode=new c.EventEmitter,this.onUpdateMode=new c.EventEmitter,this.onInitialMode=new c.EventEmitter,this.onFormModeChange=new c.EventEmitter,this.onInsert=new c.EventEmitter,this.onUpdate=new c.EventEmitter,this.onDelete=new c.EventEmitter,this.loadingSubject=new u.BehaviorSubject(!1),this.loading=this.loadingSubject.asObservable(),this.formData={},this.navigationData=[],this.currentIndex=0,this.mode=Nr.Mode().INITIAL,this._components={},this._compSQLTypes={},this.onFormInitStream=new c.EventEmitter,this.ignoreFormCacheKeys=[],this.formCache=new rr(this),this.formNavigation=new Lr(this.injector,this,this.router,this.actRoute),this.dialogService=i.get(ot),this.navigationService=i.get(_n),this.snackBarService=i.get(Jt),this.permissionsService=this.injector.get(Mt);var a=this;this.reloadStream=u.combineLatest([a.onFormInitStream.asObservable(),a.formNavigation.navigationStream.asObservable()]),this.reloadStreamSubscription=this.reloadStream.subscribe(function(t){k.isArray(t)&&2===t.length&&!a.isInInsertMode()&&(t=!0===t[0]&&!0===t[1],a.queryOnInit&&t?a.reload(!0):a.initializeFields())});try{this.formContainer=i.get(or),this.formContainer.setForm(this)}catch(s){}}var Pr=["filters","targetCmp: target","expressionBuilder: expression-builder","queryOnChange: query-on-change","queryOnChangeDelay: query-on-change-delay"],Fr=["onFilter","onClear"],kr=(Br.prototype.ngOnInit=function(){this.initialize()},Br.prototype.ngAfterViewInit=function(){this.initializeListeners()},Br.prototype.ngOnDestroy=function(){this.subscriptions&&this.subscriptions.unsubscribe()},Br.prototype.initialize=function(){var e=this;this.filters&&k.parseArray(this.filters).forEach(function(t){t=t.split(P.COLUMNS_ALIAS_SEPARATOR);e.filterComponents.push({targetAttr:t[0],formComponentAttr:t[1]||t[0]})}),k.isDefined(this.targetCmp)&&this.targetCmp.setFilterBuilder(this)},Br.prototype.initializeListeners=function(){var e=this;this.queryOnChange&&this.filterComponents.forEach(function(t){t=e.form.getComponents()[t.formComponentAttr];t&&e.subscriptions.add(t.getFormControl().valueChanges.pipe(l.debounceTime(e.queryOnChangeDelay)).subscribe(function(t){return e.triggerReload()}))})},Br.prototype.getExpression=function(){var n=this.form.getComponents(),o=[];if(this.filterComponents.forEach(function(t){var e=n[t.formComponentAttr].getValue();o.push({attr:t.targetAttr,value:e})}),this.expressionBuilder)return this.expressionBuilder(o);var e=[];return o.forEach(function(t){k.isDefined(t.value)&&e.push(ee.buildExpressionEquals(t.attr,t.value))}),e.length?e.reduce(function(t,e){return ee.buildComplexExpression(t,e,ee.OP_OR)}):undefined},Br.prototype.getBasicExpression=function(){return ee.buildBasicExpression(this.getExpression())},Br.prototype.getTargetComponent=function(){return this.targetCmp},Br.prototype.triggerReload=function(){this.targetCmp&&(this.targetCmp.pageable?this.targetCmp.reloadPaginatedDataFromStart():this.targetCmp.reloadData(),this.onFilter.emit())},Br.prototype.clearFilter=function(){var e=this.form.getComponents();this.getFilterAttrs().forEach(function(t){e[t].setValue(void 0)}),this.onClear.emit()},Br.prototype.getFilterAttrs=function(){return this.filterComponents.map(function(t){return t.formComponentAttr})},Br.decorators=[{type:c.Component,args:[{selector:"o-filter-builder",template:"",inputs:Pr,outputs:Fr}]}],Br.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.Injector}]},D([tt(),L("design:type",Boolean)],Br.prototype,"queryOnChange",void 0),D([tt(),L("design:type",Number)],Br.prototype,"queryOnChangeDelay",void 0),Br);function Br(t,e){this.form=t,this.onFilter=new c.EventEmitter,this.onClear=new c.EventEmitter,this.queryOnChange=!1,this.queryOnChangeDelay=0,this.filterComponents=[],this.subscriptions=new u.Subscription}var Ur=(Vr.prototype.onClick=function(t){this._filterBuilder&&this._filterBuilder.clearFilter()},Vr.decorators=[{type:c.Directive,args:[{selector:"[oFilterBuilderClear]",inputs:["_filterBuilder: oFilterBuilderClear"],host:{"(click)":"onClick($event)"},exportAs:"oFilterBuilderClear"}]}],Vr.ctorParameters=function(){return[{type:kr,decorators:[{type:c.Optional}]}]},Vr);function Vr(t){k.isDefined(t)&&(this._filterBuilder=t)}var jr=(Gr.prototype.onClick=function(t){this._filterBuilder&&this._filterBuilder.triggerReload()},Gr.decorators=[{type:c.Directive,args:[{selector:"[oFilterBuilderQuery]",inputs:["_filterBuilder: oFilterBuilderQuery"],host:{"(click)":"onClick($event)"},exportAs:"oFilterBuilderQuery"}]}],Gr.ctorParameters=function(){return[{type:kr,decorators:[{type:c.Optional}]}]},Gr);function Gr(t){k.isDefined(t)&&(this._filterBuilder=t)}var qr=(Hr.decorators=[{type:c.NgModule,args:[{imports:[Hn,n.CommonModule],declarations:[kr,Ur,jr],exports:[kr,Ur,jr]}]}],Hr);function Hr(){}var Yr=(zr.decorators=[{type:c.NgModule,args:[{declarations:[or],imports:[Hn,n.CommonModule],entryComponents:[Co],exports:[or]}]}],zr);function zr(){}var Kr=(Wr.prototype.configureService=function(){if(this.queryConf){var t,e=_t;this.queryConf.serviceType&&(e=this.queryConf.serviceType);try{this.dataService=this.injector.get(e),k.isDataService(this.dataService)&&(t=this.dataService.getDefaultServiceConfiguration(this.queryConf.service),this.queryConf.entity&&(t.entity=this.queryConf.entity),this.dataService.configureService(t))}catch(n){console.error(n)}}},Wr.prototype.queryNavigationData=function(i,r){var a=this;return new Promise(function(e,t){var n=a.queryConf,o=n.queryArguments;o[1]=a.getKeysArray(),o[4]=i,o[5]=r||n.queryRows,a.querySubscription=a.dataService[n.queryMethod].apply(a.dataService,o).subscribe(function(t){t.isSuccessful()&&(a.navigationData=t.data,a.queryConf.queryRecordOffset=i),e()},function(){t()})})},Wr.prototype.ngOnDestroy=function(){this.querySubscription&&this.querySubscription.unsubscribe()},Wr.prototype.getKeysArray=function(){var e=this.navigationData&&this.navigationData[0]||{},n=[];return this._form.keysArray.forEach(function(t){e.hasOwnProperty(t)&&n.push(t)}),n},Wr.prototype.getCurrentIndex=function(){var t=this.getKeysArray(),o={},e=this.formNavigation.getUrlParams();t.forEach(function(t){o[t]=e[t]});var n=(this.navigationData||[]).findIndex(function(e){var n={};return t.forEach(function(t){n[t]=e[t]}),k.isEquivalent(n,o)});return 0<=n?n:0},Wr.prototype.next=function(){var t=this,e=this.navigationData.length,n=this.currentIndex+1;n<e?this.move(n):this.queryConf?(n=(this.queryConf.queryRecordOffset||0)+this.queryConf.queryRows,this.queryNavigationData(n).then(function(){t.move(0)})):console.error("form-toolbar->next(): total > index")},Wr.prototype.previous=function(){var t=this,e=this.currentIndex-1;0<=e?this.move(e):this.queryConf?(e=this.queryConf.queryRecordOffset-this.queryConf.queryRows,this.queryNavigationData(e).then(function(){t.move(t.navigationData.length-1)})):console.error("form-toolbar->next(): index < 0")},Wr.prototype.first=function(){var t=this;this.queryConf&&0!==this.queryConf.queryRecordOffset?this.queryNavigationData(0).then(function(){t.move(0)}):this.move(0)},Wr.prototype.last=function(){var t,e=this;!this.queryConf||this.isLast()?(t=this.navigationData.length-1,this.move(t)):(t=this.queryConf.totalRecordsNumber-this.queryConf.queryRows,this.queryNavigationData(t,this.queryConf.queryRows).then(function(){e.move(e.navigationData.length-1)}))},Wr.prototype.isFirst=function(){var t=0===this.currentIndex;return t=t&&this.queryConf?0===this.queryConf.queryRecordOffset:t},Wr.prototype.isLast=function(){var t=this.currentIndex===this.navigationData.length-1;return t=t&&this.queryConf?this.queryConf.queryRecordOffset+this.queryConf.queryRows>=this.queryConf.totalRecordsNumber:t},Wr.prototype.move=function(e){var n=this;this._form.showConfirmDiscardChanges().then(function(t){!0===t&&(n.currentIndex=e,n.formLayoutManager&&n.formLayoutManager.isDialogMode()?n.moveInDialogManager(n.formLayoutManager,e):n.moveWithoutManager(e))})},Wr.prototype.moveWithoutManager=function(e){var t,n,o=this,i=this.getRouteOfSelectedRow(this.navigationData[e]);0<i.length&&((n=this.navigationService.getLastItem())&&(this.navigationService.removeLastItem(),this._form.canDiscardChanges=!0,(t={})[P.QUERY_PARAMS]=P.getIsDetailObject(),n=(n=n.url.split(P.ROUTE_SEPARATOR)).splice(0,n.length-i.length).join(P.ROUTE_SEPARATOR),i.unshift(n),this.router.navigate(i,t).then(function(t){t&&(o.currentIndex=e)})))},Wr.prototype.moveInDialogManager=function(t,e){t.dialogRef.componentInstance.urlParams=this.navigationData[e],this._form.setUrlParamsAndReload(this.navigationData[e])},Wr.prototype.getRouteOfSelectedRow=function(e){var n=[];return k.isObject(e)&&this._form.keysArray.forEach(function(t){k.isDefined(e[t])&&n.push(e[t])}),n},Wr.prototype.showNavigation=function(){return 1<(this.navigationData||[]).length},Object.defineProperty(Wr.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){this._currentIndex=t},enumerable:!0,configurable:!0}),Wr.prototype.getRecordIndex=function(){var t=this.currentIndex+1;return this.queryConf&&(t+=this.queryConf.queryRecordOffset),t},Wr.prototype.getTotalRecordsNumber=function(){return this.queryConf&&this.queryConf.totalRecordsNumber?this.queryConf.totalRecordsNumber:this.navigationData.length},Wr.decorators=[{type:c.Component,args:[{selector:"o-form-navigation",template:'<ng-container *ngIf="showNavigation()">\n  <button mat-icon-button class="o-form-toolbar-button" [disabled]="isFirst()" (click)="first()">\n    <mat-icon aria-label="First" layout-padding svgIcon="ontimize:first_page"></mat-icon>\n  </button>\n  <button mat-icon-button class="o-form-toolbar-button" [disabled]="isFirst()" (click)="previous()">\n    <mat-icon aria-label="Previous" layout-padding svgIcon="ontimize:keyboard_arrow_left"></mat-icon>\n  </button>\n  <span layout-padding>{{ getRecordIndex() }} / {{ getTotalRecordsNumber() }}</span>\n  <button mat-icon-button class="o-form-toolbar-button" [disabled]="isLast()" (click)="next()">\n    <mat-icon aria-label="Next" layout-padding svgIcon="ontimize:keyboard_arrow_right"></mat-icon>\n  </button>\n  <button mat-icon-button class="o-form-toolbar-button" [disabled]="isLast()" (click)="last()">\n    <mat-icon aria-label="Last" layout-padding svgIcon="ontimize:last_page"></mat-icon>\n  </button>\n</ng-container>',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-form-navigation]":"true"},providers:[Ce],styles:[".o-form-navigation .mat-icon{cursor:pointer}.o-form-navigation span{cursor:default}"]}]}],Wr.ctorParameters=function(){return[{type:c.Injector},{type:Mr,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:p.Router}]},Wr);function Wr(t,e,n){this.injector=t,this._form=e,this.router=n,this.navigationData=[],this._currentIndex=0,this.formNavigation=this._form.getFormNavigation(),this.navigationService=this.injector.get(_n),this.formLayoutManager=this._form.getFormManager(),n=this.formLayoutManager&&this.formLayoutManager.isDialogMode()?this.navigationService.getLastItem():this.navigationService.getPreviousRouteData(),k.isDefined(n)&&(this.navigationData=n.keysValues||[],this.queryConf=n.queryConfiguration),this.currentIndex=this.getCurrentIndex(),this.configureService()}var Qr=["labelHeader: label-header","labelHeaderAlign: label-header-align","headeractions: header-actions","showHeaderActionsText: show-header-actions-text","showHeaderNavigation:show-header-navigation"],Xr=(Object.defineProperty($r.prototype,"changesToSave",{get:function(){return this._changesToSave},set:function(t){this._changesToSave=t;var e=this._form.isEditableDetail()?Gt.ACTION_UPDATE:Gt.ACTION_INSERT,n=(this.actionsPermissions||[]).find(function(t){return t.attr===e});k.isDefined(n)&&!1===n.enabled||this._existsChangesToSaveSubject.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty($r.prototype,"editBtnEnabled",{get:function(){return this._editBtnEnabled},set:function(t){this._editBtnEnabled=t,this._isEditBtnEnabledSubject.next(this._editBtnEnabled)},enumerable:!0,configurable:!0}),Object.defineProperty($r.prototype,"saveBtnEnabled",{get:function(){return this._saveBtnEnabled},set:function(t){this._saveBtnEnabled=t,this._isSaveBtnEnabledSubject.next(this._saveBtnEnabled)},enumerable:!0,configurable:!0}),$r.prototype.ngOnInit=function(){var e;this.formActions=k.parseArray(this.headeractions),this.formActions&&0<this.formActions.length&&(this.refreshBtnEnabled=-1!==this.formActions.indexOf("R"),this.insertBtnEnabled=-1!==this.formActions.indexOf("I"),this.editBtnEnabled=-1!==this.formActions.indexOf("U"),this.deleteBtnEnabled=!this.insertMode&&-1!==this.formActions.indexOf("D")),this._navigationService&&(e=this)._navigationService.onTitleChange(function(t){e.labelHeader=t}),this.includeBreadcrumb=this._form.includeBreadcrumb&&this._form.formContainer.breadcrumb,this.includeBreadcrumb&&(this._form.formContainer.breadcrumb=!1)},$r.prototype.ngOnDestroy=function(){this.formCacheSubscription&&this.formCacheSubscription.unsubscribe(),this.mutationObservers&&this.mutationObservers.forEach(function(t){t.disconnect()})},$r.prototype.ngAfterViewInit=function(){this.parsePermissions(),this.includeBreadcrumb&&this._form.formContainer.createBreadcrumb(this.breadContainer)},$r.prototype.setInitialMode=function(){this.manageEditableDetail(),this.initialMode=!0,this.insertMode=!1,this.editMode=!1},$r.prototype.setInsertMode=function(){this.initialMode=!1,this.insertMode=!0,this.editMode=!1},$r.prototype.setEditMode=function(){this.initialMode=!1,this.insertMode=!1,this.editMode=!0},$r.prototype.onCloseDetail=function(){this._form.executeToolbarAction(P.CLOSE_DETAIL_ACTION,{changeToolbarMode:!0})},$r.prototype.onBack=function(){this._form.executeToolbarAction(P.BACK_ACTION)},$r.prototype.onReload=function(){var e;this.checkEnabledPermission(Gt.ACTION_REFRESH)&&(e=this)._form.showConfirmDiscardChanges().then(function(t){t&&e._form.executeToolbarAction(P.RELOAD_ACTION)})},$r.prototype.onInsert=function(){this.checkEnabledPermission(Gt.ACTION_INSERT)&&this._form.executeToolbarAction(P.GO_INSERT_ACTION,{changeToolbarMode:!0})},$r.prototype.onEdit=function(){this.checkEnabledPermission(Gt.ACTION_UPDATE)&&this._form.executeToolbarAction(P.GO_EDIT_ACTION,{changeToolbarMode:!0})},$r.prototype.onDelete=function(){this.checkEnabledPermission(Gt.ACTION_DELETE)&&this.showConfirmDelete()},$r.prototype.onSave=function(){this.checkEnabledPermission(Gt.ACTION_UPDATE)&&this.handleAcceptEditOperation()},$r.prototype.cancelOperation=function(){this.isDetail?this.onCloseDetail():this.insertMode?this.onBack():(this.onReload(),this._form.setInitialMode())},$r.prototype.acceptOperation=function(){this.editMode?this.checkEnabledPermission(Gt.ACTION_UPDATE)&&this.handleAcceptEditOperation():this.insertMode&&this.checkEnabledPermission(Gt.ACTION_INSERT)&&this.handleAcceptInsertOperation()},$r.prototype.handleAcceptInsertOperation=function(){this._form.executeToolbarAction(P.INSERT_ACTION)},$r.prototype.handleAcceptEditOperation=function(){this._form.executeToolbarAction(P.EDIT_ACTION)},$r.prototype.showConfirmDelete=function(){var e=this;this._dialogService.confirm("CONFIRM","MESSAGES.CONFIRM_DELETE").then(function(t){!0===t&&e._form.executeToolbarAction(P.DELETE_ACTION).subscribe(function(t){e._form.onDelete.emit(t),e.onCloseDetail()},function(t){console.error("OFormToolbar.delete error",t)})})},Object.defineProperty($r.prototype,"showNavigation",{get:function(){return this.showHeaderNavigation&&!(this._form.getFormManager()&&this._form.getFormManager().isTabMode())},enumerable:!0,configurable:!0}),$r.prototype.getLabelHeaderAlign=function(){return this.labelHeaderAlign},Object.defineProperty($r.prototype,"showUndoButton",{get:function(){return this._form.undoButton&&(!this.initialMode||this._form.isEditableDetail())},enumerable:!0,configurable:!0}),Object.defineProperty($r.prototype,"isChangesStackEmpty",{get:function(){return this._form.isCacheStackEmpty},enumerable:!0,configurable:!0}),$r.prototype.onUndoLastChange=function(){this._form.executeToolbarAction(P.UNDO_LAST_CHANGE_ACTION)},Object.defineProperty($r.prototype,"isRefreshBtnEnabled",{get:function(){return this.refreshBtnEnabled},enumerable:!0,configurable:!0}),Object.defineProperty($r.prototype,"isInsertBtnEnabled",{get:function(){return this.insertBtnEnabled},enumerable:!0,configurable:!0}),Object.defineProperty($r.prototype,"isDeleteBtnEnabled",{get:function(){return this.deleteBtnEnabled},enumerable:!0,configurable:!0}),$r.prototype.hasEnabledPermission=function(t){return!t||t.enabled},Object.defineProperty($r.prototype,"includeBreadcrumb",{get:function(){return this._includeBreadcrumb},set:function(t){this._includeBreadcrumb=t},enumerable:!0,configurable:!0}),$r.prototype.manageEditableDetail=function(){var t=this._form.isEditableDetail(),e=(this.actionsPermissions||[]).find(function(t){return t.attr===Gt.ACTION_UPDATE});this.hasEnabledPermission(e)&&(this.saveBtnEnabled=t),this.refreshBtnEnabled=this.refreshBtnEnabled&&t,this.insertBtnEnabled=this.insertBtnEnabled&&t,this.editBtnEnabled=this.editBtnEnabled&&!t;var n=this;this._form.getFormCache().onCacheStateChanges.asObservable().subscribe(function(t){n._form.isEditableDetail()&&(n.changesToSave=n._form.isInitialStateChanged())})},$r.prototype.parsePermissions=function(){var e;this._form.oattr&&(this.actionsPermissions=this._form.getActionsPermissions(),k.isDefined(this.actionsPermissions)&&(e=this).actionsPermissions.forEach(function(t){e.permissionManagement(t),-1<Gt.STANDARD_ACTIONS.indexOf(t.attr)&&t.attr===Gt.ACTION_UPDATE&&e.permissionManagement(t,"edit")}))},$r.prototype.permissionManagement=function(t,e){e=k.isDefined(e)?e:t.attr,e=this.element.nativeElement.querySelector('[attr="'+e+'"]');k.isDefined(e)&&(t.visible?t.enabled||(e.disabled=!0,t=Gt.registerDisabledChangesInDom(e),this.mutationObservers.push(t)):e.remove())},$r.prototype.checkEnabledPermission=function(e){var t=(this.actionsPermissions||[]).find(function(t){return t.attr===e}),t=Gt.checkEnabledPermission(t);return t||this.snackBarService.open("MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION"),t},$r.decorators=[{type:c.Component,args:[{selector:"o-form-toolbar",template:'<mat-toolbar class="o-form-toolbar-header" [class.breadcrumb]="includeBreadcrumb" fxLayout="column" fxLayoutAlign="center center">\n\n  <ng-template *ngIf="includeBreadcrumb" #breadcrumb></ng-template>\n\n  <div class="mat-toolbar-tools" fxLayout="row" fxLayoutAlign="space-between center">\n    <button type="button" mat-icon-button (click)="onBack()" *ngIf="isDetail" class="o-form-toolbar-button o-form-toolbar-back">\n      <mat-icon svgIcon="ontimize:arrow_back"></mat-icon>\n    </button>\n\n    <o-form-navigation #formNavigation *ngIf="showNavigation" fxLayout="row" fxLayoutAlign="space-between center">\n    </o-form-navigation>\n\n    <span *ngIf="getLabelHeaderAlign() === \'center\' || getLabelHeaderAlign() === \'end\'" class="fill-remaining"></span>\n    <div *ngIf="labelHeader!=\'\'" fxLayout="row" fxLayoutAlign="center center">\n      <span>{{ labelHeader | oTranslate }}</span>\n    </div>\n    <span *ngIf="getLabelHeaderAlign() === \'start\' || getLabelHeaderAlign() === \'center\'" class="fill-remaining"></span>\n\n    <ng-content select="[o-custom-form-toolbar-buttons-wrapper]"></ng-content>\n\n    <ng-template [ngIf]="showHeaderActionsText" [ngIfElse]="undoBtnWithoutText">\n      <button type="button" class="o-form-toolbar-button o-form-toolbar-button-undo" mat-stroked-button (click)="onUndoLastChange()"\n        [disabled]="isChangesStackEmpty" *ngIf="showUndoButton">\n        <mat-icon svgIcon="ontimize:undo"></mat-icon>\n        <span>{{ \'UNDO\' | oTranslate }}</span>\n      </button>\n    </ng-template>\n    <ng-template #undoBtnWithoutText>\n      <button type="button" class="o-form-toolbar-button o-form-toolbar-button-undo" mat-icon-button (click)="onUndoLastChange()"\n        [disabled]="isChangesStackEmpty" *ngIf="showUndoButton">\n        <mat-icon svgIcon="ontimize:undo"></mat-icon>\n      </button>\n    </ng-template>\n\n    <ng-container *ngIf="initialMode">\n      <ng-template [ngIf]="showHeaderActionsText" [ngIfElse]="buttonsWithouText">\n        <button type="button" class="o-form-toolbar-button o-form-toolbar-button-refresh" mat-stroked-button (click)="onReload()"\n          *ngIf="isRefreshBtnEnabled" attr="refresh">\n          <mat-icon svgIcon="ontimize:autorenew"></mat-icon>\n          <span>{{ \'REFRESH\' | oTranslate }}</span>\n        </button>\n        <button type="button" class="o-form-toolbar-button o-form-toolbar-button-insert" mat-stroked-button (click)="onInsert()"\n          *ngIf="isInsertBtnEnabled" attr="insert">\n          <mat-icon svgIcon="ontimize:add"></mat-icon>\n          <span>{{ \'ADD\' | oTranslate }}</span>\n        </button>\n        <button type="button" class="o-form-toolbar-button o-form-toolbar-button-edit" mat-stroked-button (click)="onEdit()"\n          *ngIf="isEditBtnEnabled | async" attr="edit">\n          <mat-icon svgIcon="ontimize:edit"></mat-icon>\n          <span>{{ \'EDIT\' | oTranslate }}</span>\n        </button>\n        <button type="button" class="o-form-toolbar-button o-form-toolbar-button-delete" mat-stroked-button (click)="onDelete()"\n          *ngIf="isDeleteBtnEnabled" attr="delete">\n          <mat-icon svgIcon="ontimize:delete"></mat-icon>\n          <span>{{ \'DELETE\' | oTranslate }}</span>\n        </button>\n        <button type="button" class="o-form-toolbar-button o-form-toolbar-button-save" mat-stroked-button (click)="onSave()"\n          [disabled]="!(existsChangesToSave | async)" *ngIf="isSaveBtnEnabled | async" attr="update">\n          <mat-icon svgIcon="ontimize:save"></mat-icon>\n          <span>{{ \'SAVE\' | oTranslate }}</span>\n        </button>\n      </ng-template>\n      <ng-template #buttonsWithouText>\n        <button type="button" class="o-form-toolbar-button o-form-toolbar-button-refresh" mat-icon-button (click)="onReload()"\n          *ngIf="isRefreshBtnEnabled" attr="refresh">\n          <mat-icon svgIcon="ontimize:autorenew"></mat-icon>\n        </button>\n        <button type="button" class="o-form-toolbar-button o-form-toolbar-button-insert" mat-icon-button (click)="onInsert()"\n          *ngIf="isInsertBtnEnabled" attr="insert">\n          <mat-icon svgIcon="ontimize:add"></mat-icon>\n        </button>\n        <button type="button" class="o-form-toolbar-button-o-form-toolbar-button-edit" mat-icon-button (click)="onEdit()"\n          *ngIf="isEditBtnEnabled | async" attr="edit">\n          <mat-icon svgIcon="ontimize:edit"></mat-icon>\n        </button>\n        <button type="button" class="o-form-toolbar-button o-form-toolbar-button-delete" mat-icon-button (click)="onDelete()"\n          *ngIf="isDeleteBtnEnabled" attr="delete">\n          <mat-icon svgIcon="ontimize:delete"></mat-icon>\n        </button>\n        <button type="button" class="o-form-toolbar-button o-form-toolbar-button-save" mat-icon-button (click)="onSave()"\n          [disabled]="!existsChangesToSave" *ngIf="isSaveBtnEnabled | async" attr="update">\n          <mat-icon svgIcon="ontimize:save"></mat-icon>\n        </button>\n      </ng-template>\n    </ng-container>\n\n    <ng-container *ngIf="editMode || insertMode">\n      <button type="button" class="o-form-toolbar-button o-form-toolbar-button-cancel" mat-stroked-button (click)="cancelOperation()">\n        <mat-icon svgIcon="ontimize:clear"></mat-icon>\n        <span *ngIf="showHeaderActionsText">{{ \'CANCEL\' | oTranslate }}</span>\n      </button>\n      <button type="button" class="o-form-toolbar-button o-form-toolbar-button-insert" mat-stroked-button color="primary" (click)="acceptOperation()">\n        <mat-icon svgIcon="ontimize:done"></mat-icon>\n        <span *ngIf="showHeaderActionsText">{{ \'INSERT\' | oTranslate }}</span>\n      </button>\n    </ng-container>\n  </div>\n\n</mat-toolbar>\n',inputs:Qr,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-form-toolbar]":"true"},styles:[".o-form-toolbar{flex:none;display:block}.o-form-toolbar .o-form-toolbar-header{min-height:50px;max-height:50px;padding:0 16px 0 4px}.o-form-toolbar .o-form-toolbar-header.breadcrumb{padding:16px;min-height:84px;max-height:84px}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools{width:100%}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.o-form-toolbar-button[disabled]{cursor:default}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.o-form-toolbar-button:not(.mat-icon-button) .mat-button-wrapper{display:flex;align-items:center}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.o-form-toolbar-button:not(.mat-icon-button) .mat-button-wrapper span{flex:1}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button:not(.mat-icon-button){padding:0 6px}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.mat-icon-button{padding:0;margin:0}.o-form-toolbar .o-form-toolbar-header .mat-toolbar-tools button.mat-stroked-button{min-width:100px;margin:0 6px}.o-form-toolbar .o-form-toolbar-header .o-breadcrumb{width:100%;height:32px;min-height:initial}.o-form-toolbar .o-form-toolbar-header .o-breadcrumb .mat-toolbar{padding:0;min-height:initial;max-height:initial;height:100%}"]}]}],$r.ctorParameters=function(){return[{type:Mr},{type:c.ElementRef},{type:c.Injector}]},$r.propDecorators={breadContainer:[{type:c.ViewChild,args:["breadcrumb",{read:c.ViewContainerRef,"static":!1}]}]},D([tt(),L("design:type",Boolean)],$r.prototype,"showHeaderActionsText",void 0),D([tt(),L("design:type",Boolean)],$r.prototype,"showHeaderNavigation",void 0),$r);function $r(t,e,n){this._form=t,this.element=e,this.injector=n,this.labelHeader="",this.headeractions="",this.labelHeaderAlign="center",this.showHeaderActionsText=!0,this.showHeaderNavigation=!0,this.isDetail=!0,this.editMode=!1,this.insertMode=!1,this.initialMode=!0,this.refreshBtnEnabled=!1,this.insertBtnEnabled=!1,this.deleteBtnEnabled=!1,this._changesToSave=!1,this._editBtnEnabled=!1,this._saveBtnEnabled=!1,this.mutationObservers=[],this._isSaveBtnEnabledSubject=new u.BehaviorSubject(!1),this._isEditBtnEnabledSubject=new u.BehaviorSubject(!1),this._existsChangesToSaveSubject=new u.BehaviorSubject(!1),this.isSaveBtnEnabled=this._isSaveBtnEnabledSubject.asObservable(),this.isEditBtnEnabled=this._isEditBtnEnabledSubject.asObservable(),this.existsChangesToSave=this._existsChangesToSaveSubject.asObservable(),this._form.registerToolbar(this),this._dialogService=this.injector.get(ot),this._navigationService=this.injector.get(_n),this.snackBarService=this.injector.get(Jt)}var Zr=(Jr.decorators=[{type:c.NgModule,args:[{declarations:[Kr,Xr],imports:[n.CommonModule,Hn],exports:[Kr,Xr]}]}],Jr);function Jr(){}var ta=(ea.decorators=[{type:c.NgModule,args:[{declarations:[Mr],imports:[n.CommonModule,Zr,Hn],exports:[Mr,Zr],providers:[{provide:sr,useClass:sr}],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],ea);function ea(){}var na=["placeholder","width","floatLabel: float-label","appearance","columns","filterCaseSensitive: filter-case-sensitive","showCaseSensitiveCheckbox: show-case-sensitive-checkbox","showMenu: show-menu"],oa=["onSearch"],ia=(ra.prototype.ngOnInit=function(){var e=this;this.term=new i.FormControl,this.formGroup.addControl("term",this.term),this.term.valueChanges.pipe(l.debounceTime(400)).pipe(l.distinctUntilChanged()).subscribe(function(t){e.checkActiveColumns()&&e.onSearch.emit(t)}),k.parseArray(this.columns,!0).forEach(function(t){e.colArray.push({column:t,checked:!0})})},ra.prototype.ngAfterViewInit=function(){try{this.oInputsOptions=this.injector.get(V)}catch(t){this.oInputsOptions={}}k.parseOInputsOptions(this.elRef,this.oInputsOptions)},Object.defineProperty(ra.prototype,"floatLabel",{get:function(){return this._floatLabel},set:function(t){-1===["always","never","auto"].indexOf(t)&&(t="auto"),this._floatLabel=t},enumerable:!0,configurable:!0}),Object.defineProperty(ra.prototype,"appearance",{get:function(){return this._appearance},set:function(t){-1===["legacy","standard","fill","outline"].indexOf(t)&&(t=undefined),this._appearance=t},enumerable:!0,configurable:!0}),Object.defineProperty(ra.prototype,"filterCaseSensitive",{get:function(){return this._filterCaseSensitive},set:function(t){this._filterCaseSensitive=t},enumerable:!0,configurable:!0}),ra.prototype.getFormGroup=function(){return this.formGroup},ra.prototype.getValue=function(){return this.term.value},ra.prototype.setValue=function(t){this.term.setValue(t)},ra.prototype.getFormControl=function(){return this.term},Object.defineProperty(ra.prototype,"hasCustomWidth",{get:function(){return this.width!==undefined},enumerable:!0,configurable:!0}),Object.defineProperty(ra.prototype,"showFilterMenu",{get:function(){return this.showMenu&&0<this.colArray.length},enumerable:!0,configurable:!0}),ra.prototype.isChecked=function(t){return t.checked},ra.prototype.onCheckboxChange=function(t,e){t.checked=e.checked},ra.prototype.onSelectAllChange=function(e){this.colArray.forEach(function(t){t.checked=e.checked})},ra.prototype.areAllColumnsChecked=function(){var e=!0;return this.colArray.forEach(function(t){e=e&&t.checked}),e},ra.prototype.onFilterCaseSensitiveChange=function(t){this.filterCaseSensitive=t.checked},ra.prototype.getActiveColumns=function(){return this.colArray.filter(function(t){return t.checked}).map(function(t){return t.column})},ra.prototype.setActiveColumns=function(e){this.colArray.forEach(function(t){t.checked=-1!==e.indexOf(t.column)})},ra.prototype.checkActiveColumns=function(){return 0!==this.getActiveColumns().length||(this.snackBarService.open("MESSAGES.AVOID_QUERY_WITHOUT_QUICKFILTER_COLUMNS"),!1)},ra.prototype.triggerOnSearch=function(){var t=this.term.value;this.checkActiveColumns()&&k.isDefined(t)&&0<t.length&&this.onSearch.emit(t)},ra.prototype.onMenuClosed=function(){this.triggerOnSearch()},Object.defineProperty(ra.prototype,"filterExpression",{get:function(){var t=this.getValue();if(k.isDefined(t)&&0<t.length){var e=this.getActiveColumns();if(0<e.length)return ee.buildArrayExpressionLike(e,t)}return undefined},enumerable:!0,configurable:!0}),ra.decorators=[{type:c.Component,args:[{selector:"o-search-input",template:'<form [formGroup]="getFormGroup()">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [class.custom-width]="hasCustomWidth"\n    class="icon-field" fxFill>\n    <mat-icon *ngIf="!showFilterMenu" svgIcon="ontimize:search" matPrefix></mat-icon>\n    <mat-icon *ngIf="showFilterMenu" svgIcon="ontimize:search" matPrefix [matMenuTriggerFor]="menu"\n      class="menu-trigger" (menuClosed)="onMenuClosed()"></mat-icon>\n    <input #term matInput id="term" type="search" placeholder="{{ placeholder | oTranslate }}" formControlName="term">\n  </mat-form-field>\n</form>\n\n<mat-menu #menu="matMenu" class="o-search-input-menu">\n  <div fxLayout="column" class="checkbox-container">\n\n    <ng-container *ngIf="colArray.length > 1">\n      <mat-checkbox (click)="$event.stopPropagation()" [checked]="areAllColumnsChecked()"\n        (change)="onSelectAllChange($event)">\n        {{ \'SELECT_ALL\' | oTranslate }}</mat-checkbox>\n      <mat-divider></mat-divider>\n    </ng-container>\n\n    <ng-container *ngFor="let item of colArray">\n      <mat-checkbox (click)="$event.stopPropagation()" [checked]="isChecked(item)"\n        (change)="onCheckboxChange(item, $event)">\n        {{ item.column | oTranslate }}\n      </mat-checkbox>\n    </ng-container>\n\n    <ng-container *ngIf="showCaseSensitiveCheckbox">\n      <mat-divider></mat-divider>\n      <mat-checkbox (click)="$event.stopPropagation()" [checked]="filterCaseSensitive"\n        (change)="onFilterCaseSensitiveChange($event)">\n        {{ \'TABLE.FILTER.CASE_SENSITIVE\' | oTranslate }}\n      </mat-checkbox>\n    </ng-container>\n  </div>\n</mat-menu>',inputs:na,outputs:oa,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-search-input]":"true"},styles:[".o-search-input .mat-icon{vertical-align:bottom;cursor:default}.o-search-input .mat-icon.menu-trigger{cursor:pointer}.o-search-input .mat-input-element{line-height:20px}.o-search-input-menu .mat-divider{margin:8px 0}.o-search-input-menu .checkbox-container{padding:6px 12px}"]}]}],ra.ctorParameters=function(){return[{type:c.Injector},{type:c.ElementRef}]},D([tt(),L("design:type",Boolean)],ra.prototype,"showCaseSensitiveCheckbox",void 0),D([tt(),L("design:type",Boolean)],ra.prototype,"showMenu",void 0),D([tt(),L("design:type",Boolean)],ra.prototype,"_filterCaseSensitive",void 0),ra);function ra(t,e){this.injector=t,this.elRef=e,this.onSearch=new c.EventEmitter,this.colArray=[],this.placeholder="SEARCH",this.showCaseSensitiveCheckbox=!1,this.showMenu=!0,this._filterCaseSensitive=!1,this.translateService=this.injector.get(Ae),this.snackBarService=this.injector.get(Jt),this.formGroup=new i.FormGroup({})}var aa=(sa.decorators=[{type:c.NgModule,args:[{declarations:[ia],imports:[n.CommonModule,Hn],exports:[ia]}]}],sa);function sa(){}var la=["colspan","rowspan"],ca=(ua.prototype.onItemClicked=function(t){Y.callEmit(this.mdClick,this)},ua.prototype.onItemDoubleClicked=function(t){Y.callEmit(this.mdDoubleClick,this)},ua.prototype.onClick=function(t){return Y.subscribe(this.mdClick,t)},ua.prototype.onDoubleClick=function(t){return Y.subscribe(this.mdDoubleClick,t)},ua.prototype.setItemData=function(t){this.modelData||(this.modelData=t)},ua.prototype.getItemData=function(){return this.modelData},ua.decorators=[{type:c.Component,args:[{selector:"o-grid-item",template:"<ng-template #templateref>\n  <ng-content></ng-content>\n</ng-template>",inputs:la,host:{"[class.o-grid-item]":"true","(click)":"onItemClicked($event)","(dblclick)":"onItemDoubleClicked($event)"}}]}],ua.ctorParameters=function(){return[{type:c.ElementRef}]},ua.propDecorators={template:[{type:c.ViewChild,args:[c.TemplateRef,{"static":!1}]}]},D([tt(),L("design:type",Number)],ua.prototype,"colspan",void 0),D([tt(),L("design:type",Number)],ua.prototype,"rowspan",void 0),ua);function ua(t){this._el=t,this.mdClick=new c.EventEmitter,this.mdDoubleClick=new c.EventEmitter,this.colspan=1,this.rowspan=1}var pa=(da.prototype.onMouseEnter=function(){k.isDefined(this.grid)&&this.grid.detailMode!==P.DETAIL_MODE_NONE&&this.renderer.setStyle(this._el.nativeElement,"cursor","pointer")},da.prototype.onClick=function(t){return Y.subscribe(this.mdClick,t)},da.prototype.onDoubleClick=function(t){return Y.subscribe(this.mdDoubleClick,t)},da.prototype.onItemClicked=function(t){Y.callEmit(this.mdClick,this)},da.prototype.onItemDoubleClicked=function(t){Y.callEmit(this.mdDoubleClick,this)},da.prototype.setItemData=function(t){this.modelData||(this.modelData=t)},da.prototype.getItemData=function(){return this.modelData},da.prototype.setGridComponent=function(t){this.grid=t},da.decorators=[{type:c.Directive,args:[{selector:"mat-grid-tile[o-grid-item]",host:{"(click)":"onItemClicked($event)","(dblclick)":"onItemDoubleClicked($event)"}}]}],da.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},da.propDecorators={onMouseEnter:[{type:c.HostListener,args:["mouseenter"]}]},da);function da(t,e){this._el=t,this.renderer=e,this.mdClick=new c.EventEmitter,this.mdDoubleClick=new c.EventEmitter}var ha=["targets","data"],ma=(fa.prototype.ngAfterViewInit=function(){this.targets.forEach(function(t){t.queryData()})},fa.decorators=[{type:c.Component,args:[{selector:"o-expandable-container",template:"<ng-content></ng-content>",inputs:ha}]}],fa.ctorParameters=function(){return[]},fa);function fa(){}var ga=["oattr: attr","service","serviceType : service-type","entity","queryOnInit: query-on-init","queryOnBind: query-on-bind","queryOnEvent: query-on-event","pageable","columns","keys","parentKeys: parent-keys","staticData: static-data","queryMethod: query-method","paginatedQueryMethod : paginated-query-method","oQueryRows: query-rows","insertMethod: insert-method","updateMethod: update-method","deleteMethod: delete-method","storeState: store-state","queryWithNullParentKeys: query-with-null-parent-keys","queryFallbackFunction: query-fallback-function"],ya=(Object.defineProperty(ba.prototype,"oQueryRows",{set:function(t){k.isDefined(t)&&(this.originalQueryRows=t,this._queryRows=t)},enumerable:!0,configurable:!0}),Object.defineProperty(ba.prototype,"queryRows",{get:function(){return this._queryRows},set:function(t){k.isDefined(t)&&(this._queryRows=t)},enumerable:!0,configurable:!0}),ba.prototype.initialize=function(){var e=this;!k.isDefined(this.oattr)&&k.isDefined(this.entity)&&(this.oattr=this.entity.replace(".","_"),this.oattrFromEntity=!0),this.keysArray=k.parseArray(this.keys),this.colArray=k.parseArray(this.columns,!0);var n,t=k.parseArray(this.parentKeys);this._pKeysEquiv=k.parseParentKeysEquivalences(t,P.COLUMNS_ALIAS_SEPARATOR),this.storeState&&(this.onRouteChangeStorageSubscription=this.localStorageService.onRouteChange.subscribe(function(t){e.updateStateStorage(),e.alreadyStored=!1}),this.initializeState(),this.state.hasOwnProperty("query-rows")&&this.state.hasOwnProperty("initial-configuration")&&this.state["initial-configuration"].hasOwnProperty("query-rows")&&this.state["initial-configuration"]["query-rows"]===this.originalQueryRows&&(this.queryRows=this.state["query-rows"])),this.staticData?(this.queryOnBind=!1,this.queryOnInit=!1,this.setDataArray(this.staticData)):this.configureService(),this.form&&k.isDefined(this.dataService)&&this.setFormComponent(this.form),k.isDefined(this.queryOnEvent)&&k.isDefined(this.queryOnEvent.subscribe)&&((n=this).queryOnEventSubscription=this.queryOnEvent.subscribe(function(t){(k.isDefined(t)||e.queryWithNullParentKeys)&&n.queryData()})),"function"!=typeof this.queryFallbackFunction&&(this.queryFallbackFunction=undefined)},ba.prototype.afterViewInit=function(){},ba.prototype.destroy=function(){this.onFormDataSubscribe&&this.onFormDataSubscribe.unsubscribe(),this.querySubscription&&this.querySubscription.unsubscribe(),this.loaderSubscription&&this.loaderSubscription.unsubscribe(),this.onRouteChangeStorageSubscription&&this.onRouteChangeStorageSubscription.unsubscribe(),this.queryOnEventSubscription&&this.queryOnEventSubscription.unsubscribe(),this.updateStateStorage()},ba.prototype.ngOnChanges=function(t){k.isDefined(t.staticData)&&this.setDataArray(t.staticData.currentValue)},ba.prototype.beforeunloadHandler=function(){this.updateStateStorage()},ba.prototype.getAttribute=function(){return this.oattr},ba.prototype.getComponentKey=function(){return this.getAttribute()},ba.prototype.getDataToStore=function(){return this.state},ba.prototype.getRouteKey=function(){var n=this.router.url;return this.actRoute.params.subscribe(function(e){Object.keys(e).forEach(function(t){n=n.replace(e[t],t)})}),n},ba.prototype.getKeys=function(){return this.keysArray},ba.prototype.configureService=function(){var t,e=_t;this.serviceType&&(e=this.serviceType);try{this.dataService=this.injector.get(e),k.isDataService(this.dataService)&&(t=this.dataService.getDefaultServiceConfiguration(this.service),this.entity&&(t.entity=this.entity),this.dataService.configureService(t))}catch(n){console.error(n)}},ba.prototype.getDataArray=function(){return this.dataArray},ba.prototype.setDataArray=function(t){k.isArray(t)?this.dataArray=t:k.isObject(t)?this.dataArray=[t]:(console.warn("Component has received not supported service data. Supported data are Array or Object"),this.dataArray=[])},ba.prototype.setFormComponent=function(t){var e=this;k.isDefined(this.form)||(this.form=t),this.queryOnBind&&(this.onFormDataSubscribe=this.form.onDataLoaded.subscribe(function(){return e.pageable?e.reloadPaginatedDataFromStart():e.reloadData()}))},ba.prototype.getParentKeysFromContext=function(t,e){return e instanceof ma?lt.getParentKeysFromExpandableContainer(t,e):lt.getParentKeysFromForm(t,e)},ba.prototype.queryData=function(t,o){var e,i,r=this,n=this.pageable?this.paginatedQueryMethod:this.queryMethod;this.dataService&&n in this.dataService&&this.entity&&(e=this.getParentKeysValues(),lt.filterContainsAllParentKeys(e,this._pKeysEquiv)||this.queryWithNullParentKeys?(t=this.getQueryArguments(t,o),this.querySubscription&&this.querySubscription.unsubscribe(),this.loaderSubscription&&this.loaderSubscription.unsubscribe(),this.loaderSubscription=this.load(),(i=this).queryArguments=t,this.querySubscription=this.dataService[n].apply(this.dataService,t).subscribe(function(t){var e,n;r.sqlTypes=undefined,k.isArray(t)?(n=t,r.sqlTypes={}):t.isSuccessful()&&(e=t.data!==undefined?t.data:[],n=k.isArray(e)?e:[],r.sqlTypes=t.sqlTypes,r.pageable&&r.updatePaginationInfo(t)),i.setData(n,r.sqlTypes,o&&o.replace),i.loaderSubscription.unsubscribe()},function(t){i.setData([],[]),i.loaderSubscription.unsubscribe(),k.isDefined(i.queryFallbackFunction)?i.queryFallbackFunction(t):t&&"object"!=typeof t?i.dialogService.alert("ERROR",t):i.dialogService.alert("ERROR","MESSAGES.ERROR_QUERY")})):this.setData([],[]))},ba.prototype.reloadData=function(){this.queryData()},ba.prototype.reloadPaginatedDataFromStart=function(){this.reloadData()},ba.prototype.load=function(){var n=this,o=this.injector.get(c.NgZone);return new u.Observable(function(t){var e=window.setTimeout(function(){t.next(!0)},250);return function(){window.clearTimeout(e),o.run(function(){n.loadingSubject.next(!1)})}}).subscribe(function(t){o.run(function(){n.loadingSubject.next(t)})})},ba.prototype.extractKeysFromRecord=function(e){var n={};return k.isObject(e)&&this.keysArray.forEach(function(t){k.isDefined(e[t])&&(n[t]=e[t])}),n},ba.prototype.getAttributesValuesToQuery=function(){var e=this.colArray;return this.keysArray.forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),e},ba.prototype.getQueryArguments=function(t,e){var n=this.getComponentFilter(t),o=this.getAttributesValuesToQuery(),t=e&&e.hasOwnProperty("sqltypes")?e.sqltypes:this.form?this.form.getAttributesSQLTypes():{},o=[n,o,this.entity,t];return this.pageable&&(t=e&&e.hasOwnProperty("offset")?e.offset:this.state.queryRecordOffset,e=e&&e.hasOwnProperty("length")?e.length:this.queryRows,o=o.concat([t,e,undefined])),o},ba.prototype.updatePaginationInfo=function(t){var e=t.startRecordIndex+(t.data?t.data.length:0);t.startRecordIndex!==undefined&&(this.state.queryRecordOffset=e),t.totalQueryRecordsNumber!==undefined&&(this.state.totalQueryRecordsNumber=t.totalQueryRecordsNumber)},ba.prototype.getTotalRecordsNumber=function(){return this.state&&this.state.totalQueryRecordsNumber!==undefined?this.state.totalQueryRecordsNumber:undefined},ba.prototype.getContextComponent=function(){return this.expandableContainer||this.form},ba.prototype.getComponentFilter=function(t){void 0===t&&(t={});var e=this.getParentKeysFromContext(this._pKeysEquiv,this.getContextComponent());return t=Object.assign(t||{},e)},ba.prototype.getSqlTypes=function(){return k.isDefined(this.sqlTypes)?this.sqlTypes:{}},Object.defineProperty(ba.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t},enumerable:!0,configurable:!0}),ba.prototype.getParentKeysValues=function(){var t=this.getContextComponent();return this.getParentKeysFromContext(this._pKeysEquiv,t)},ba.prototype.updateStateStorage=function(){this.localStorageService&&this.storeState&&!this.alreadyStored&&(this.alreadyStored=!0,this.localStorageService.updateComponentStorage(this,this.getRouteKey()))},ba.prototype.setData=function(t,e,n){},ba.prototype.initializeState=function(){this.state=this.localStorageService.getComponentStorage(this,this.getRouteKey())},ba.propDecorators={beforeunloadHandler:[{type:c.HostListener,args:["window:beforeunload",[]]}]},D([tt(),L("design:type",Boolean)],ba.prototype,"queryOnInit",void 0),D([tt(),L("design:type",Boolean)],ba.prototype,"queryOnBind",void 0),D([tt(),L("design:type",Boolean)],ba.prototype,"pageable",void 0),D([tt(),L("design:type",Number),L("design:paramtypes",[Number])],ba.prototype,"oQueryRows",null),D([tt(),L("design:type",Boolean)],ba.prototype,"storeState",void 0),D([tt(),L("design:type",Boolean)],ba.prototype,"queryWithNullParentKeys",void 0),ba);function ba(t){this.injector=t,this.queryOnInit=!0,this.queryOnBind=!0,this.pageable=!1,this.queryMethod=P.QUERY_METHOD,this.paginatedQueryMethod=P.PAGINATED_QUERY_METHOD,this.originalQueryRows=P.DEFAULT_QUERY_ROWS,this._queryRows=this.originalQueryRows,this.insertMethod=P.INSERT_METHOD,this.updateMethod=P.UPDATE_METHOD,this.deleteMethod=P.DELETE_METHOD,this.storeState=!0,this.queryWithNullParentKeys=!1,this.colArray=[],this.keysArray=[],this._pKeysEquiv={},this.dataArray=[],this.oattrFromEntity=!1,this._state={},this.loadingSubject=new u.BehaviorSubject(!1),this.loading=this.loadingSubject.asObservable(),this.alreadyStored=!1,this.sqlTypes=undefined,this.dialogService=this.injector.get(ot),this.localStorageService=this.injector.get(Cn),this.router=this.injector.get(p.Router),this.actRoute=this.injector.get(p.ActivatedRoute);try{this.cd=this.injector.get(c.ChangeDetectorRef),this.form=this.injector.get(Mr)}catch(e){}try{this.expandableContainer=this.injector.get(ma)}catch(e){}}var va,Ea=w(ga,["_title: title","ovisible: visible","enabled","controls","detailMode: detail-mode","detailFormRoute: detail-form-route","recursiveDetail: recursive-detail","detailButtonInRow: detail-button-in-row","detailButtonInRowIcon: detail-button-in-row-icon","editFormRoute: edit-form-route","recursiveEdit: recursive-edit","editButtonInRow: edit-button-in-row","editButtonInRowIcon: edit-button-in-row-icon","insertButton: insert-button","rowHeight : row-height","insertFormRoute: insert-form-route","recursiveInsert: recursive-insert","filterCaseSensitive: filter-case-sensitive","quickFilter: quick-filter"]),Ca=(_(Ta,va=ya),Object.defineProperty(Ta.prototype,"title",{get:function(){return k.isDefined(this._title)?this.translateService.get(this._title):this._title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(Ta.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(t){this._rowHeight=t&&t.toLowerCase(),P.isValidRowHeight(this._rowHeight)||(this._rowHeight=P.DEFAULT_ROW_HEIGHT),this.rowHeightSubject.next(this._rowHeight)},enumerable:!0,configurable:!0}),Object.defineProperty(Ta.prototype,"quickFilter",{get:function(){return this._quickFilter},set:function(t){var e=this;t=k.parseBoolean(String(t)),(this._quickFilter=t)&&setTimeout(function(){return e.registerQuickFilter(e.searchInputComponent)},0)},enumerable:!0,configurable:!0}),Ta.prototype.initialize=function(){var t=this;this.formLayoutManager&&this.formLayoutManager.isTabMode()&&this.formLayoutManager.oTabGroup&&(this.formLayoutManagerTabIndex=this.formLayoutManager.oTabGroup.data.length,this.tabsSubscriptions=this.formLayoutManager.oTabGroup.onSelectedTabChange.subscribe(function(){t.formLayoutManagerTabIndex!==t.formLayoutManager.oTabGroup.selectedTabIndex&&(t.updateStateStorage(),t.alreadyStored=!1)}),this.tabsSubscriptions.add(this.formLayoutManager.oTabGroup.onCloseTab.subscribe(function(){t.formLayoutManagerTabIndex===t.formLayoutManager.oTabGroup.selectedTabIndex&&t.updateStateStorage()}))),va.prototype.initialize.call(this),(this.detailButtonInRow||this.editButtonInRow)&&(this.detailMode=P.DETAIL_MODE_NONE)},Ta.prototype.afterViewInit=function(){var t=this;va.prototype.afterViewInit.call(this),this.elRef&&this.elRef.nativeElement.removeAttribute("title"),this.formLayoutManager&&this.formLayoutManager.isMainComponent(this)&&(this.onTriggerUpdateSubscription=this.formLayoutManager.onTriggerUpdate.subscribe(function(){t.reloadData()}))},Ta.prototype.destroy=function(){va.prototype.destroy.call(this),this.onTriggerUpdateSubscription&&this.onTriggerUpdateSubscription.unsubscribe(),this.tabsSubscriptions&&this.tabsSubscriptions.unsubscribe()},Ta.prototype.isVisible=function(){return this.ovisible},Ta.prototype.hasControls=function(){return this.controls},Ta.prototype.hasTitle=function(){return this.title!==undefined},Ta.prototype.getSelectedItems=function(){return this.selection.selected},Ta.prototype.clearSelection=function(){this.selection.clear()},Ta.prototype.setSelected=function(t){this.selection.toggle(t)},Ta.prototype.navigateToDetail=function(t,e,n){n={relativeTo:n};this.formLayoutManager&&this.formLayoutManager.isMainComponent(this)&&(e[P.IGNORE_CAN_DEACTIVATE]=!0,this.formLayoutManager.setAsActiveFormLayoutManager()),n[P.QUERY_PARAMS]=e,this.router.navigate(t,n)},Ta.prototype.insertDetail=function(){var t,e;this.oFormLayoutDialog?console.warn('Navigation is not available yet in a form layout manager with mode="dialog"'):(t=this.getInsertRoute(),this.addFormLayoutManagerRoute(t),0<t.length&&(e=this.recursiveInsert?this.actRoute.parent:this.actRoute,this.navigateToDetail(t,{},e)))},Ta.prototype.viewDetail=function(t){var e,n;this.oFormLayoutDialog?console.warn('Navigation is not available yet in a form layout manager with mode="dialog"'):(e=this.getItemModeRoute(t,"detailFormRoute"),this.addFormLayoutManagerRoute(e),0<e.length&&(n=P.getIsDetailObject(),t=this.recursiveDetail?this.actRoute.parent:this.actRoute,this.navigateToDetail(e,n,t)))},Ta.prototype.editDetail=function(t){var e,n;this.oFormLayoutDialog?console.warn('Navigation is not available yet in a form layout manager with mode="dialog"'):(e=this.getItemModeRoute(t,"editFormRoute"),this.addFormLayoutManagerRoute(e),0<e.length&&(n=P.getIsDetailObject(),t=this.recursiveEdit?this.actRoute.parent:this.actRoute,this.navigateToDetail(e,n,t)))},Ta.prototype.addFormLayoutManagerRoute=function(t){var e;this.formLayoutManager&&0<t.length&&((e=this.formLayoutManager.getRouteForComponent(this))&&0<e.length&&t.unshift.apply(t,w(e)))},Ta.prototype.getEncodedParentKeys=function(){var t,e;return 0<Object.keys(this._pKeysEquiv).length&&(e=this.getParentKeysValues(),0<Object.keys(e).length&&(t=k.encodeParentKeys(e))),t},Ta.prototype.getInsertRoute=function(){var t=[];k.isDefined(this.detailFormRoute)&&t.push(this.detailFormRoute);var e=k.isDefined(this.insertFormRoute)?this.insertFormRoute:P.DEFAULT_INSERT_ROUTE;t.push(e);var n=this.getEncodedParentKeys();return k.isDefined(n)&&((e={})[P.PARENT_KEYS_KEY]=n,t.push(e)),0<t.length&&this.storeNavigationFormRoutes("insertFormRoute"),t},Ta.prototype.getItemModeRoute=function(t,e){t=this.getRouteOfSelectedRow(t);return 0<t.length&&(k.isDefined(this.detailFormRoute)&&t.unshift(this.detailFormRoute),"editFormRoute"===e&&t.push(this.editFormRoute||P.DEFAULT_EDIT_ROUTE)),0<t.length&&!this.oFormLayoutDialog&&this.storeNavigationFormRoutes(e,this.getQueryConfiguration()),t},Ta.prototype.getQueryConfiguration=function(){var t={keysValues:this.getKeysValues()};return t=this.pageable?Object.assign({serviceType:this.serviceType,queryArguments:this.queryArguments,entity:this.entity,service:this.service,queryMethod:this.pageable?this.paginatedQueryMethod:this.queryMethod,totalRecordsNumber:this.getTotalRecordsNumber(),queryRows:this.queryRows,queryRecordOffset:Math.max(this.state.queryRecordOffset-this.queryRows,0)},t):t},Ta.prototype.getRouteOfSelectedRow=function(e){var n=[];return k.isObject(e)&&this.keysArray.forEach(function(t){k.isDefined(e[t])&&n.push(e[t])}),n},Ta.prototype.deleteLocalItems=function(){for(var t=this.getSelectedItems(),e=0;e<t.length;++e){for(var n=t[e],o={},i=0;i<this.keysArray.length;++i)o[a=this.keysArray[i]]=n[a];for(var r=this.dataArray.length-1;0<=r;--r){for(var a,s=this.dataArray[r],l={},i=0;i<this.keysArray.length;++i)l[a=this.keysArray[i]]=s[a];var c=!1;for(i in o)o.hasOwnProperty(i)&&(c=l.hasOwnProperty(i)&&o[i]===l[i]);if(c){this.dataArray.splice(r,1);break}}}this.clearSelection()},Ta.prototype.reinitialize=function(t){if(t&&Object.keys(t).length){var e,n=Object.assign({},t);for(e in n.hasOwnProperty("entity")&&(this.entity=n.entity,this.oattrFromEntity&&(this.oattr=undefined),delete n.entity),n)n.hasOwnProperty(e)&&(this[e]=n[e]);this.destroy(),this.initialize()}},Ta.prototype.setFilterBuilder=function(t){this.filterBuilder=t},Ta.prototype.getComponentFilter=function(t){void 0===t&&(t={});var e=va.prototype.getComponentFilter.call(this,t),n=this.getQuickFilterExpression(),o=this.getFilterBuilderExpression(),t=n||o;return(t=n&&o?ee.buildComplexExpression(n,o,ee.OP_AND):t)&&!k.isDefined(e[ee.BASIC_EXPRESSION_KEY])?e[ee.BASIC_EXPRESSION_KEY]=t:t&&(e[ee.BASIC_EXPRESSION_KEY]=ee.buildComplexExpression(e[ee.BASIC_EXPRESSION_KEY],t,ee.OP_AND)),e},Ta.prototype.getQuickFilterExpression=function(){return this.pageable&&k.isDefined(this.quickFilterComponent)?this.quickFilterComponent.filterExpression:undefined},Ta.prototype.getFilterBuilderExpression=function(){return k.isDefined(this.filterBuilder)?this.filterBuilder.getExpression():undefined},Ta.prototype.storeNavigationFormRoutes=function(t,e){var n=this.formLayoutManager?k.isDefined(this.formLayoutManager.isMainComponent(this)):undefined;this.navigationService.storeFormRoutes({mainFormLayoutManagerComponent:n,isMainNavigationComponent:!0,detailFormRoute:this.detailFormRoute,editFormRoute:this.editFormRoute,insertFormRoute:k.isDefined(this.insertFormRoute)?this.insertFormRoute:P.DEFAULT_INSERT_ROUTE},t,e)},Ta.prototype.saveDataNavigationInLocalStorage=function(){},Ta.prototype.getKeysValues=function(){var t=this.dataArray,o=this;return t.map(function(e){var n={};return o.keysArray.forEach(function(t){e[t]!==undefined&&(n[t]=e[t])}),n})},Ta.prototype.getRouteKey=function(){var t,e="";return this.formLayoutManager&&!this.formLayoutManager.isMainComponent(this)?(e=this.router.url,(t=this.formLayoutManager.getParams())&&(e+="/"+Object.keys(t).join("/"))):e=va.prototype.getRouteKey.call(this),e},Object.defineProperty(Ta.prototype,"elementRef",{get:function(){return this.elRef},enumerable:!0,configurable:!0}),Ta.prototype.initializeState=function(){var t=va.prototype.getRouteKey.call(this);if(this.formLayoutManager&&this.formLayoutManager.isTabMode()&&!this.formLayoutManager.isMainComponent(this))try{var e=this.formLayoutManager.oTabGroup.state.tabsData[0].params;e&&(t=this.router.url,t+="/"+Object.keys(e).join("/"))}catch(n){}this.state=this.localStorageService.getComponentStorage(this,t)},Ta.prototype.showCaseSensitiveCheckbox=function(){return!this.pageable},Ta.prototype.registerQuickFilter=function(t){var e=this,t=t;k.isDefined(this.quickFilterComponent)||(this.quickFilterComponent=t,k.isDefined(this.quickFilterComponent)&&(this.state.hasOwnProperty("filterValue")&&this.quickFilterComponent.setValue(this.state.filterValue),this.state.hasOwnProperty("quickFilterActiveColumns")&&(t=k.parseArray(this.state.quickFilterActiveColumns,!0),this.quickFilterComponent.setActiveColumns(t)),this.quickFilterComponent.onSearch.subscribe(function(t){return e.filterData(t)})))},Ta.prototype.filterData=function(t,e){},Ta.prototype.isFilterCaseSensitive=function(){return(k.isDefined(this.quickFilterComponent)&&this.showCaseSensitiveCheckbox()?this.quickFilterComponent:this).filterCaseSensitive},Ta.prototype.configureFilterValue=function(t){var e=t;return t&&0<t.length&&(t.startsWith("*")||(e="*"+e),t.endsWith("*")||(e+="*")),e},Ta.prototype.getQuickFilterValue=function(){return k.isDefined(this.quickFilterComponent)&&this.quickFilterComponent.getValue()||""},Ta.prototype.getQuickFilterColumns=function(){var t=this.quickFilterColArray;return t=k.isDefined(this.quickFilterComponent)?this.quickFilterComponent.getActiveColumns():t},Ta.propDecorators={searchInputComponent:[{type:c.ViewChild,args:[c.forwardRef(function(){return ia}),{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Ta.prototype,"ovisible",void 0),D([tt(),L("design:type",Boolean)],Ta.prototype,"oenabled",void 0),D([tt(),L("design:type",Boolean)],Ta.prototype,"controls",void 0),D([tt(),L("design:type",Boolean)],Ta.prototype,"recursiveDetail",void 0),D([tt(),L("design:type",Boolean)],Ta.prototype,"detailButtonInRow",void 0),D([tt(),L("design:type",Boolean)],Ta.prototype,"recursiveEdit",void 0),D([tt(),L("design:type",Boolean)],Ta.prototype,"editButtonInRow",void 0),D([tt(),L("design:type",Boolean)],Ta.prototype,"insertButton",void 0),D([tt(),L("design:type",Boolean)],Ta.prototype,"recursiveInsert",void 0),D([tt(),L("design:type",Boolean)],Ta.prototype,"filterCaseSensitive",void 0),Ta);function Ta(t,e,n){var o=va.call(this,t)||this;o.elRef=e,o.form=n,o.ovisible=!0,o.oenabled=!0,o.controls=!0,o.detailMode=P.DETAIL_MODE_CLICK,o.recursiveDetail=!1,o.detailButtonInRow=!1,o.detailButtonInRowIcon=P.DETAIL_ICON,o.recursiveEdit=!1,o.editButtonInRow=!1,o.editButtonInRowIcon=P.EDIT_ICON,o._rowHeight=P.DEFAULT_ROW_HEIGHT,o.rowHeightSubject=new u.BehaviorSubject(o._rowHeight),o.rowHeightObservable=o.rowHeightSubject.asObservable(),o.recursiveInsert=!1,o.filterCaseSensitive=!1,o._quickFilter=!0,o.selection=new f.SelectionModel(!0,[]),o.permissionsService=o.injector.get(Mt),o.translateService=o.injector.get(Ae),o.navigationService=o.injector.get(_n);try{o.formLayoutManager=o.injector.get(_r)}catch(i){}try{o.oFormLayoutDialog=o.injector.get(pr),o.formLayoutManager=o.oFormLayoutDialog.formLayoutManager}catch(i){}return o}var Ia,Oa=w(Ea,["cols","pageSizeOptions: page-size-options","showPageSize: show-page-size","showSort: orderable","sortableColumns: sortable-columns","sortColumn: sort-column","quickFilterColumns: quick-filter-columns","gridItemHeight: grid-item-height","refreshButton: refresh-button","paginationControls: pagination-controls","gutterSize:gutter-size","fixedHeader:fixed-header","showFooter:show-footer"]),Sa=["onClick","onDoubleClick","onDataLoaded","onPaginatedDataLoaded"],Aa=[8,16,24,32,64],_a=(_(Da,Ia=Ca),Object.defineProperty(Da.prototype,"cols",{get:function(){return this._cols||this._colsDefault},set:function(t){this._cols=t},enumerable:!0,configurable:!0}),Object.defineProperty(Da.prototype,"pageSizeOptions",{get:function(){return this._pageSizeOptions},set:function(t){t instanceof Array||(t=k.parseArray(String(t)).map(function(t){return parseInt(t,10)})),this._pageSizeOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(Da.prototype,"sortableColumns",{get:function(){return this._sortableColumns},set:function(t){var e=[];k.isArray(t)||(e=lt.parseSortColumns(String(t))),this._sortableColumns=e},enumerable:!0,configurable:!0}),Object.defineProperty(Da.prototype,"gridItems",{get:function(){return this._gridItems},set:function(t){this._gridItems=t},enumerable:!0,configurable:!0}),Object.defineProperty(Da.prototype,"currentPage",{get:function(){return this._currentPage},set:function(t){this._currentPage=t},enumerable:!0,configurable:!0}),Da.prototype.ngOnInit=function(){this.initialize()},Da.prototype.initialize=function(){var e=this;Ia.prototype.initialize.call(this),this.state.hasOwnProperty("sort-column")&&(this.sortColumn=this.state["sort-column"]),this.parseSortColumn();var t=this.pageSizeOptions.find(function(t){return t===e.queryRows});k.isDefined(t)||(this._pageSizeOptions.push(this.queryRows),this._pageSizeOptions.sort(function(t,e){return t-e})),k.isDefined(this.quickFilterColumns)||(this.quickFilterColumns=this.columns),this.quickFilterColArray=k.parseArray(this.quickFilterColumns,!0),this.state.hasOwnProperty("currentPage")&&(this.currentPage=this.state.currentPage),this.queryOnInit&&this.queryData()},Da.prototype.ngAfterViewInit=function(){Ia.prototype.afterViewInit.call(this),this.setGridItemDirectivesData(),this.searchInputComponent&&this.registerQuickFilter(this.searchInputComponent),this.subscribeToMediaChanges()},Da.prototype.ngAfterContentInit=function(){var e=this;this.gridItems=this.inputGridItems.toArray(),this.subscription.add(this.inputGridItems.changes.subscribe(function(t){e.gridItems=t._results}))},Da.prototype.subscribeToMediaChanges=function(){var e=this;this.subscription.add(this.media.asObservable().subscribe(function(t){if(t&&t[0])switch(t[0].mqAlias){case"xs":case"sm":e._colsDefault=1;break;case"md":e._colsDefault=2;break;case"lg":case"xl":e._colsDefault=4}}))},Da.prototype.reloadData=function(){var t={};this.pageable&&(this.state.queryRecordOffset=0,t={offset:this.paginationControls?this.currentPage*this.queryRows:0,length:Math.max(this.queryRows,this.dataResponseArray.length),replace:!0}),this.queryData(void 0,t)},Da.prototype.reloadPaginatedDataFromStart=function(){this.currentPage=0,this.dataResponseArray=[],this.reloadData()},Da.prototype.setDataArray=function(t){k.isArray(t)?this.dataResponseArray=t:k.isObject(t)?this.dataResponseArray=[t]:(console.warn("Component has received not supported service data. Supported data are Array or Object"),this.dataResponseArray=[]),this.filterData()},Da.prototype.filterData=function(o,t){var i,e,n,r,a;o=k.isDefined(o)?o:k.isDefined(this.quickFilterComponent)?this.quickFilterComponent.getValue():void 0,this.state&&k.isDefined(o)&&(this.state.filterValue=o),this.pageable?(n={offset:0,length:this.queryRows,replace:!0},this.queryData(void 0,n)):this.dataResponseArray&&0<this.dataResponseArray.length?(n=this.dataResponseArray.slice(0),o&&0<o.length&&(i=this.isFilterCaseSensitive(),e=this,n=n.filter(function(n){return e.getQuickFilterColumns().some(function(t){var e=k.escapeSpecialCharacter(k.normalizeString(o,!i));return new RegExp(e).test(k.normalizeString(n[t]+"",!i))})})),k.isDefined(this.sortColumnOrder)&&(r=this.sortColumnOrder,a=r.ascendent?1:-1,n.sort(function(t,e){t=isNaN(t[r.columnName])?k.normalizeString(t[r.columnName]):t[r.columnName],e=isNaN(e[r.columnName])?k.normalizeString(e[r.columnName]):e[r.columnName];return e<t?a:t<e?-1*a:0})),this.paginationControls?this.dataArray=n.splice(this.currentPage*this.queryRows,this.queryRows):this.dataArray=n.splice(0,this.queryRows*(this.currentPage+1))):this.dataArray=this.dataResponseArray},Da.prototype.registerGridItemDirective=function(t){var e;t&&((e=this).detailMode===P.DETAIL_MODE_CLICK&&t.onClick(function(t){return e.onItemDetailClick(t)}),P.isDoubleClickMode(e.detailMode)&&t.onDoubleClick(function(t){return e.onItemDetailDblClick(t)}))},Da.prototype.onItemDetailClick=function(t){this.oenabled&&this.detailMode===P.DETAIL_MODE_CLICK&&(this.saveDataNavigationInLocalStorage(),this.viewDetail(t.getItemData()),Y.callEmit(this.onClick,t))},Da.prototype.onItemDetailDblClick=function(t){this.oenabled&&P.isDoubleClickMode(this.detailMode)&&(this.saveDataNavigationInLocalStorage(),this.viewDetail(t.getItemData()),Y.callEmit(this.onDoubleClick,t))},Da.prototype.ngOnDestroy=function(){this.destroy()},Da.prototype.destroy=function(){Ia.prototype.destroy.call(this),this.subscription&&this.subscription.unsubscribe()},Da.prototype.loadMore=function(){var t;this.currentPage+=1,this.pageable?(t={offset:this.state.queryRecordOffset,length:this.queryRows},this.queryData(void 0,t)):this.filterData(void 0,!0)},Object.defineProperty(Da.prototype,"totalRecords",{get:function(){return this.pageable?this.getTotalRecordsNumber():this.dataResponseArray.length},enumerable:!0,configurable:!0}),Da.prototype.getQueryArguments=function(t,e){e=Ia.prototype.getQueryArguments.call(this,t,e);return this.pageable&&k.isDefined(this.sortColumn)&&(e[6]=this.sortColumnOrder&&[this.sortColumnOrder]),e},Da.prototype.parseSortColumn=function(){var e=(lt.parseSortColumns(this.sortColumn)||[])[0];!!e&&this.sortableColumns.find(function(t){return t.columnName===e.columnName&&t.ascendent===e.ascendent})&&(this.sortColumnOrder=e)},Object.defineProperty(Da.prototype,"currentOrderColumn",{get:function(){var n,o=this;return k.isDefined(this.sortColumnOrder)?(this.sortableColumns.forEach(function(t,e){t.columnName===o.sortColumnOrder.columnName&&t.ascendent===o.sortColumnOrder.ascendent&&(n=e)}),n):undefined},set:function(t){this.sortColumnOrder=this.sortableColumns[t]},enumerable:!0,configurable:!0}),Da.prototype.onChangePage=function(t){if(!this.pageable)return this.currentPage=t.pageIndex,this.queryRows=t.pageSize,void this.filterData();var e=this.state,n=t.pageIndex<this.currentPage;this.currentPage=t.pageIndex;var o,i=t.pageSize,t=this.queryRows!==i;this.queryRows=i,r=n||t?(o=this.currentPage*this.queryRows,this.queryRows):(o=Math.max(e.queryRecordOffset,this.currentPage*this.queryRows),r=Math.min(o+this.queryRows,e.totalQueryRecordsNumber),Math.min(this.queryRows,r-o));var r={offset:o,length:r};this.queryData(void 0,r)},Da.prototype.getDataToStore=function(){var t=Ia.prototype.getDataToStore.call(this);return t.currentPage=this.currentPage,this.storePaginationState?t.queryRecordOffset=Math.max(this.state.queryRecordOffset-this.dataArray.length,this.state.queryRecordOffset-this.queryRows):delete t.queryRecordOffset,k.isDefined(this.sortColumnOrder)&&(t["sort-column"]=this.sortColumnOrder.columnName+P.COLUMNS_ALIAS_SEPARATOR+(this.sortColumnOrder.ascendent?P.ASC_SORT:P.DESC_SORT)),t},Da.prototype.getSortOptionText=function(t){var e="GRID.SORT_BY_"+t.columnName.toUpperCase()+"_"+(t.ascendent?"ASC":"DESC"),n=this.translateService.get(e);return n!==e?n:(e="GRID.SORT_BY_"+(t.ascendent?"ASC":"DESC"),n=this.translateService.get(e,[this.translateService.get(t.columnName)||""]))},Da.prototype.setData=function(t,e,n){var o,i;k.isArray(t)?(i=o=t,n||(i=this.pageable?(o=this.paginationControls?t:(this.dataArray||[]).concat(t),this.paginationControls?t:(this.dataResponseArray||[]).concat(t)):(o=t.slice(this.paginationControls?this.queryRows*(this.currentPage+1)-this.queryRows:0,this.queryRows*(this.currentPage+1)),t)),this.dataArray=o,this.dataResponseArray=i,this.pageable||this.filterData()):(this.dataArray=[],this.dataResponseArray=[]),this.loaderSubscription&&this.loaderSubscription.unsubscribe(),this.pageable&&Y.callEmit(this.onPaginatedDataLoaded,t),Y.callEmit(this.onDataLoaded,this.dataResponseArray)},Da.prototype.saveDataNavigationInLocalStorage=function(){Ia.prototype.saveDataNavigationInLocalStorage.call(this),this.storePaginationState=!0},Da.prototype.setGridItemDirectivesData=function(){var t=this,n=this;this.gridItemDirectives.changes.subscribe(function(){t.gridItemDirectives.toArray().forEach(function(t,e){t.setItemData(n.dataArray[e]),t.setGridComponent(n),n.registerGridItemDirective(t)})})},Da.decorators=[{type:c.Component,args:[{selector:"o-grid",providers:[Ce],inputs:Oa,outputs:Sa,template:'<div [style.display]="isVisible()? \'\' : \'none\'" class="o-grid-container" fxLayout="column" fxLayoutAlign="start stretch">\n  \x3c!--TOOLBAR--\x3e\n  <mat-toolbar *ngIf="hasControls()" class="o-grid-toolbar">\n    <div class="mat-toolbar-tools" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px" fxFill>\n      \x3c!--button refresh--\x3e\n      <button type="button" mat-icon-button aria-label="Refresh" (click)="reloadData()" *ngIf="refreshButton">\n        <mat-icon svgIcon="ontimize:autorenew"></mat-icon>\n      </button>\n\n      \x3c!--O-GRID-PAGINATOR--\x3e\n      <div class="o-grid-paginator" *ngIf="showPageSize">\n        <div class="o-grid-page-size-label">{{ \'GRID.ITEMS_PER_PAGE\' | oTranslate }}:</div>\n        <mat-form-field class="o-grid-select-page" floatLabel="never">\n          <mat-select placeholder="" #pageSizeSelect [(value)]="queryRows" (selectionChange)="reloadData()">\n            <mat-option *ngFor="let page of pageSizeOptions" [value]="page">\n              {{ page }}\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n      </div>\n\n      \x3c!--O-GRID-SORT--\x3e\n      <div class="o-grid-sort" *ngIf="showSort && sortableColumns.length > 0">\n        <mat-form-field class="o-grid-select-sort" floatLabel="never">\n          <mat-icon matPrefix>sort</mat-icon>\n          <mat-select #sortSelect [(value)]="currentOrderColumn" (selectionChange)="reloadData()" placeholder=" {{ \'GRID.SORT_BY\' | oTranslate }}">\n            <mat-option *ngFor="let column of sortableColumns; let i = index" [value]="i">\n              {{ getSortOptionText(column) }}\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n      </div>\n\n      <div fxLayoutAlign="center center" fxFlex>\n        <span *ngIf="hasTitle()" fxLayoutAlign="center center">{{ title | oTranslate }}</span>\n      </div>\n      <o-search-input *ngIf="quickFilter" [columns]="quickFilterColumns" [filter-case-sensitive]="filterCaseSensitive" \n        [show-case-sensitive-checkbox]="showCaseSensitiveCheckbox()" placeholder="" appearance="legacy"></o-search-input>\n    </div>\n  </mat-toolbar>\n\n  \x3c!--no results--\x3e\n  <div class="o-grid-no-results fill-remaining" *ngIf="gridItems.length === 0" fxLayoutAlign="center start" layout-padding>\n    {{\'GRID.EMPTY\' | oTranslate}}\n    <ng-container *ngIf="quickFilter && searchInputComponent && searchInputComponent.getValue() && searchInputComponent.getValue().length > 0">\n      {{ \'GRID.EMPTY_USING_FILTER\' | oTranslate : { values: [ searchInputComponent.getValue()] } }}\n    </ng-container>\n  </div>\n\n  \x3c!--MAT-GRID-LIST--\x3e\n  <mat-grid-list [cols]="cols" [gutterSize]="gutterSize" [rowHeight]="gridItemHeight" class="o-mat-grid-list fill-remaining"\n    *ngIf="gridItems.length > 0">\n    <mat-grid-tile o-grid-item *ngFor="let item of gridItems" [colspan]="item.colspan" [rowspan]="item.rowspan">\n      <ng-container *ngTemplateOutlet="item.template"></ng-container>\n    </mat-grid-tile>\n  </mat-grid-list>\n\n  \x3c!-- GRID FOOTER --\x3e\n  <div *ngIf="!paginationControls && showFooter" fxLayout="row" fxLayoutAlign="center center" class="o-grid-footer">\n    <button type="button" mat-button *ngIf="getDataArray().length < totalRecords" (click)="loadMore()" class="mat-raised-button">\n      {{ \'GRID.BUTTON_NEXT\' | oTranslate }}\n    </button>\n    <span fxFlex></span>\n    <span class="o-grid-totals">{{ \'GRID.TEXT_SHOWN_ITEMS\' | oTranslate :{values: [getDataArray().length, totalRecords]} }}</span>\n  </div>\n\n  <mat-paginator class="o-mat-paginator" #paginator *ngIf="paginationControls && showFooter" [length]="totalRecords" [pageSize]="queryRows"\n    [pageSizeOptions]="pageSizeOptions" [pageIndex]="currentPage" [showFirstLastButtons]="true" (page)="onChangePage($event)"></mat-paginator>\n\n  <div *ngIf="loading | async" fxLayout="row" fxLayoutAlign="center end" class="o-loading-blocker">\n    <div fxLayoutAlign="center center" [class.o-spinner-container-controls]="hasControls()" class="o-spinner-container">\n      <mat-progress-spinner mode="indeterminate" strokeWidth="3"></mat-progress-spinner>\n    </div>\n  </div>\n\n</div>\n',host:{"[class.o-grid]":"true","[class.o-grid-fixed]":"fixedHeader"},styles:[":host.o-grid{height:100%}:host.o-grid .o-grid-container{position:relative;height:100%;display:flex}:host.o-grid .o-grid-container .o-grid-toolbar{flex:0 0 auto}:host.o-grid .o-grid-container .o-grid-no-results{padding:16px}:host.o-grid .o-grid-container .o-grid-paginator,:host.o-grid .o-grid-container .o-grid-sort{font-size:.8em;margin-right:1em}:host.o-grid .o-grid-container .o-grid-paginator{display:flex}:host.o-grid .o-grid-container .o-grid-paginator .o-grid-select-page{width:60px}:host.o-grid .o-grid-container .o-grid-paginator .o-grid-page-size-label{margin:0 4px 0 8px;align-self:center}:host.o-grid .o-grid-container .o-grid-footer .o-grid-totals{margin-right:8px;font-size:14px}:host.o-grid .o-grid-container .o-grid-footer,:host.o-grid .o-grid-container .o-mat-paginator{flex-shrink:0}:host.o-grid .o-grid-container .o-loading-blocker{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;transition:opacity .25s linear}:host.o-grid .o-grid-container .o-loading-blocker .o-spinner-container{width:100%;height:100%}:host.o-grid .o-grid-container .o-loading-blocker .o-spinner-container.o-spinner-container-controls{height:calc(100% - 64px)}:host.o-grid.o-grid-fixed{max-height:100%;height:100%}:host.o-grid.o-grid-fixed .o-grid-container{max-height:100%;height:100%}:host.o-grid.o-grid-fixed .o-mat-grid-list{overflow:auto;padding-bottom:0!important}:host.o-grid.o-grid-fixed .o-grid-footer,:host.o-grid.o-grid-fixed .o-mat-paginator{flex:0 0 auto}"]}]}],Da.ctorParameters=function(){return[{type:c.Injector},{type:c.ElementRef},{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]}]},Da.propDecorators={inputGridItems:[{type:c.ContentChildren,args:[c.forwardRef(function(){return ca})]}],gridItemDirectives:[{type:c.ViewChildren,args:[pa]}],matpaginator:[{type:c.ViewChild,args:[d.MatPaginator,{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Da.prototype,"fixedHeader",void 0),D([tt(),L("design:type",Boolean)],Da.prototype,"showPageSize",void 0),D([tt(),L("design:type",Boolean)],Da.prototype,"showSort",void 0),D([tt(),L("design:type",Boolean)],Da.prototype,"showFooter",void 0),D([tt(),L("design:type",Boolean)],Da.prototype,"refreshButton",void 0),D([tt(),L("design:type",Boolean)],Da.prototype,"paginationControls",void 0),Da);function Da(t,e,n){n=Ia.call(this,t,e,n)||this;return n.queryRows=32,n.fixedHeader=!1,n.showPageSize=!1,n.showSort=!1,n.showFooter=!0,n.gridItemHeight="1:1",n.refreshButton=!0,n.paginationControls=!1,n.gutterSize="1px",n.onClick=new c.EventEmitter,n.onDoubleClick=new c.EventEmitter,n.onDataLoaded=new c.EventEmitter,n.onPaginatedDataLoaded=new c.EventEmitter,n._sortableColumns=[],n._colsDefault=1,n._pageSizeOptions=Aa,n.dataResponseArray=[],n.storePaginationState=!1,n._gridItems=[],n._currentPage=0,n.subscription=new u.Subscription,n.media=n.injector.get(h.MediaObserver),n}var La=(Ra.decorators=[{type:c.NgModule,args:[{declarations:[_a,pa,ca],imports:[n.CommonModule,aa,Hn,p.RouterModule],exports:[_a,ca,pa],entryComponents:[ca]}]}],Ra);function Ra(){}var xa=(wa.decorators=[{type:c.Component,args:[{selector:"o-fullscreen-dialog",template:'<mat-toolbar color="primary" class="mat-elevation-z5">\n  <span fxFlex></span>\n  <button type="button" mat-icon-button mat-dialog-close>\n    <mat-icon svgIcon="ontimize:close"></mat-icon>\n  </button>\n</mat-toolbar>\n<mat-dialog-content fxLayoutAlign="center center" class="o-fullscreen-dialog-content">\n  <img [src]="imageSrc" />\n</mat-dialog-content>\n',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-fullscreen-dialog]":"true"},styles:[".o-image-fullscreen-dialog-cdk-overlay .mat-dialog-container{padding:0}.o-image-fullscreen-dialog-cdk-overlay .mat-dialog-container .o-fullscreen-dialog{height:100%;display:block}.o-image-fullscreen-dialog-cdk-overlay .mat-dialog-container .o-fullscreen-dialog .mat-dialog-content.o-fullscreen-dialog-content{margin:12px;height:100%;max-height:calc(100% - 64px - 24px)}"]}]}],wa.ctorParameters=function(){return[{type:d.MatDialogRef},{type:undefined,decorators:[{type:c.Inject,args:[d.MAT_DIALOG_DATA]}]}]},wa);function wa(t,e){this.dialogRef=t,this.data=e,k.isDefined(e)&&(this.imageSrc=e)}var Ma,Na=w(Me,["emptyimage: empty-image","notfoundimage: not-found-image","emptyicon: empty-icon","showControls: show-controls","height","autoFit: auto-fit","fullScreenButton: full-screen-button","acceptFileType: accept-file-type"]),Pa=w(Ne),Fa=(_(ka,Ma=Pe),Object.defineProperty(ka.prototype,"fullScreenButton",{get:function(){return this._fullScreenButton},set:function(t){t=k.parseBoolean(String(t)),this._fullScreenButton=t},enumerable:!0,configurable:!0}),ka.prototype.ngOnInit=function(){Ma.prototype.ngOnInit.call(this),this.emptyimage&&0<this.emptyimage.length&&(this._useEmptyIcon=!1,this._useEmptyImage=!0),this.emptyicon!==undefined||this._useEmptyImage||(this.emptyicon="photo",this._useEmptyIcon=!0,this._useEmptyImage=!1)},ka.prototype.ngOnDestroy=function(){Ma.prototype.ngOnDestroy.call(this)},ka.prototype.ensureOFormValue=function(t){t instanceof rt?t.value&&t.value.bytes!==undefined?this.value=new rt(t.value.bytes):this.value=new rt(t.value):!t||t instanceof rt?this.value=new rt(undefined):(t.bytes!==undefined?t=t.bytes:300<t.length&&"data"===t.substring(0,4)&&(t=t.substring(t.indexOf("base64")+7)),this.value=new rt(t))},ka.prototype.isEmpty=function(){return!this.getValue()||0===this.getValue().length},ka.prototype.createFormControl=function(){return this._fControl=Ma.prototype.createFormControl.call(this),this._fControl.fControlChildren=[this.stateCtrl],this._fControl},ka.prototype.fileChange=function(t){var e,n;t.files[0]&&(e=new FileReader,n=this,e.addEventListener("load",function(t){var e=t.target.result;e&&300<e.length&&"data"===e.substring(0,4)&&(e=e.substring(e.indexOf("base64")+7)),n.setValue(e),n._fControl&&n._fControl.markAsTouched(),t.stopPropagation()},!1),t.files[0]&&e.readAsDataURL(t.files[0]),this.currentFileName=t.files[0].name,this.stateCtrl.setValue(this.currentFileName))},ka.prototype.notFoundImageUrl=function(t){t.target.src=k.isDefined(this.notfoundimage)?this.notfoundimage:""},ka.prototype.getSrcValue=function(){if(this.value&&this.value.value){if(this.value.value instanceof Object&&this.value.value.bytes){var t="";return t="data"===this.value.value.bytes.substring(0,4)?"data:image/*;base64,"+this.value.value.bytes.substring(this.value.value.bytes.indexOf("base64")+7):"data:image/*;base64,"+this.value.value.bytes,this._domSanitizer.bypassSecurityTrustUrl(t)}if("string"==typeof this.value.value&&300<this.value.value.length){t="";return t="data"===this.value.value.substring(0,4)?"data:image/*;base64,"+this.value.value.substring(this.value.value.indexOf("base64")+7):"data:image/*;base64,"+this.value.value,this._domSanitizer.bypassSecurityTrustUrl(t)}return this.value.value||this.emptyimage}if(this.emptyimage)return this.emptyimage},ka.prototype.onClickBlocker=function(t){t.stopPropagation()},ka.prototype.onClickClearValue=function(t){!this.isReadOnly&&this.enabled&&(Ma.prototype.onClickClearValue.call(this,t),this.fileInput.nativeElement.value="",this.stateCtrl.reset(),this.currentFileName=""),this._fControl&&this._fControl.markAsTouched()},ka.prototype.hasControls=function(){return this.showControls},ka.prototype.useEmptyIcon=function(){return this._useEmptyIcon&&this.isEmpty()},ka.prototype.useEmptyImage=function(){return this._useEmptyImage&&this.isEmpty()},ka.prototype.getFormGroup=function(){var t=Ma.prototype.getFormGroup.call(this);return t||(t=new i.FormGroup({})).addControl(this.getAttribute(),this.getControl()),t},Object.defineProperty(ka.prototype,"hostHeight",{get:function(){return this.height},enumerable:!0,configurable:!0}),ka.prototype.openFullScreen=function(t){this.dialog.open(xa,{width:"90%",height:"90%",role:"dialog",disableClose:!1,panelClass:"o-image-fullscreen-dialog-cdk-overlay",data:this.getSrcValue()})},ka.prototype.openFileSelector=function(t){k.isDefined(this.fileInput)&&this.fileInput.nativeElement.click()},ka.prototype.internalFormControl=function(){return this.getAttribute()+"_value"},ka.decorators=[{type:c.Component,args:[{selector:"o-image",template:'<div fxLayout="column" [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipPosition]="tooltipPosition"\n  [matTooltipShowDelay]="tooltipShowDelay" [matTooltipHideDelay]="tooltipHideDelay" [class.o-image-auto-fit]="autoFit"\n  class="o-image-content" fxFill>\n\n  <input #input type="file" [disabled]="!enabled"\n    [accept]="acceptFileType ? acceptFileType.replace(\';\',\',\') : \'image/*\'" (change)="fileChange(input)"\n    class="o-image-form-field-hidden"/>\n\n  <mat-form-field *ngIf="hasControls()" class="o-image-form-field">\n    <input matInput readonly (click)="input.click()" [placeholder]="olabel | oTranslate" [required]="isRequired"\n      [formControl]="stateCtrl" />\n    <input matInput [formControlName]="getAttribute()" type="text" [id]="getAttribute()"\n      class="o-image-form-field-input" [required]="isRequired" />\n\n\n    <button type="button" *ngIf="fullScreenButton" [disabled]="!enabled" matSuffix mat-icon-button\n      (click)="openFullScreen($event)">\n      <mat-icon svgIcon="ontimize:fullscreen"></mat-icon>\n    </button>\n    <button type="button" [disabled]="!enabled" matSuffix mat-icon-button (click)="input.click()">\n      <mat-icon svgIcon="ontimize:folder_open"></mat-icon>\n    </button>\n    <button type="button" [disabled]="!enabled" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <mat-error *ngIf="hasError(\'required\')">{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}</mat-error>\n  </mat-form-field>\n\n  <div fxLayout="column" fxLayoutAlign="center center" fxFlex="grow" class="o-image-display-container">\n    <img *ngIf="!(isEmpty())" [src]="getSrcValue()" alt="" (click)="openFileSelector()" (error)="notFoundImageUrl($event)"/>\n    <mat-icon class="empty-icon" [class.mat-disabled]="!enabled" aria-label="empty image" *ngIf="useEmptyIcon()"\n      (click)="openFileSelector()">\n      {{ emptyicon }}</mat-icon>\n    <img [src]="getSrcValue()" alt="empty image" *ngIf="useEmptyImage()" (click)="openFileSelector()" />\n  </div>\n  <div *ngIf="isReadOnly" fxFill class="read-only-blocker" (click)="onClickBlocker($event)"></div>\n</div>',inputs:Na,outputs:Pa,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-image]":"true"},styles:[".o-image{display:flex;height:inherit}.o-image .o-image-content{position:relative;width:100%}.o-image .o-image-content .o-image-form-field-hidden{display:none}.o-image .o-image-content .o-image-form-field{width:100%}.o-image .o-image-content .o-image-form-field .o-image-form-field-input{opacity:0;outline:0;width:0}.o-image .o-image-content .o-image-display-container{width:100%}.o-image .o-image-content .o-image-display-container>img{height:100%;width:100%}.o-image .o-image-content.o-image-auto-fit .o-image-display-container>img{height:auto;max-height:100%;max-width:100%;object-fit:contain;width:auto}.o-image .o-image-content .read-only-blocker{left:0;right:0;position:absolute;top:0;z-index:2}"]}]}],ka.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},ka.propDecorators={fileInput:[{type:c.ViewChild,args:["input",{"static":!1}]}],hostHeight:[{type:c.HostBinding,args:["style.height"]}]},D([tt(),L("design:type",Boolean)],ka.prototype,"autoFit",void 0),D([tt(),L("design:type",Boolean)],ka.prototype,"showControls",void 0),ka);function ka(t,e,n){n=Ma.call(this,t,e,n)||this;return n.acceptFileType="image/*",n.autoFit=!0,n.currentFileName="",n.showControls=!0,n._fullScreenButton=!1,n._useEmptyIcon=!0,n._useEmptyImage=!1,n._domSanitizer=n.injector.get(o.DomSanitizer),n._defaultSQLTypeKey="BASE64",n.dialog=n.injector.get(d.MatDialog),n.stateCtrl=new i.FormControl,n}var Ba=(Ua.decorators=[{type:c.NgModule,args:[{declarations:[Fa,xa],imports:[n.CommonModule,Hn],exports:[Fa,xa],entryComponents:[xa]}]}],Ua);function Ua(){}var Va,ja=w(["trueValue: true-value","falseValue: false-value","booleanType: boolean-type","color","labelPosition: label-position"],Me),Ga=w(Ne),qa=(_(Ha,Va=Pe),Ha.prototype.initialize=function(){if(!k.isDefined(this.sqlType))switch(this.booleanType){case"number":this.sqlType="INTEGER";break;case"string":this.sqlType="VARCHAR";break;case"boolean":default:this.sqlType="BOOLEAN"}Va.prototype.initialize.call(this);var t=this;this.getFormControl().getValue=function(){return this.value?t.trueValue:t.falseValue}},Ha.prototype.ensureOFormValue=function(t){this.parseInputs(),t instanceof rt?(t.value===undefined&&(t.value=!1),this.value=new rt(this.parseValueByType(t.value)===this.trueValue)):this.value=new rt("boolean"==typeof t?t:this.parseValueByType(t)===this.trueValue)},Ha.prototype.getValue=function(){return k.isDefined(this.value)&&this.value.value!==undefined?this.value.value?this.trueValue:this.falseValue:this.defaultValue},Ha.prototype.onClickBlocker=function(t){t.stopPropagation()},Ha.prototype.parseValueByType=function(t){var e;switch(this.booleanType){case"string":e=t+"";break;case"number":e=parseInt(t,10);break;default:e=t}return e},Ha.prototype.parseStringInputs=function(){0===(this.trueValue||"").length&&(this.trueValue=undefined),0===(this.falseValue||"").length&&(this.falseValue=undefined)},Ha.prototype.parseNumberInputs=function(){this.trueValue=parseInt(this.trueValue,10),isNaN(this.trueValue)&&(this.trueValue=1),this.falseValue=parseInt(this.falseValue,10),isNaN(this.falseValue)&&(this.falseValue=0)},Ha.prototype.parseInputs=function(){switch(this.booleanType){case"string":this.parseStringInputs();break;case"number":this.parseNumberInputs();break;default:this.trueValue=!0,this.falseValue=!1}},Ha.decorators=[{type:c.Component,args:[{selector:"o-checkbox",inputs:ja,outputs:Ga,template:'<div [class.custom-width]="hasCustomWidth" [formGroup]="getFormGroup()" class="relative" [matTooltip]="tooltip"\n  [matTooltipClass]="tooltipClass" [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay" fxLayout="row" fxLayoutAlign="start center" fxFill>\n  <mat-checkbox [id]="getAttribute()" [formControlName]="getAttribute()" (change)="onChangeEvent($event)"\n    [labelPosition]="labelPosition" [color]="color">\n    {{ olabel | oTranslate }}\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-checkbox>\n  <div *ngIf="isReadOnly" (click)="onClickBlocker($event)" class="read-only-blocker" fxFill></div>\n</div>',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-checkbox]":"true"},styles:[".o-checkbox mat-checkbox{z-index:1}.o-checkbox .mat-checkbox-disabled .mat-checkbox-layout .mat-checkbox-label{color:rgba(0,0,0,.36)}.o-checkbox .custom-width{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.o-checkbox .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}"]}]}],Ha.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},Ha);function Ha(t,e,n){n=Va.call(this,t,e,n)||this;return n.trueValue=!0,n.falseValue=!1,n.booleanType="boolean",n.labelPosition="after",n._defaultSQLTypeKey="BOOLEAN",n}var Ya=(za.decorators=[{type:c.NgModule,args:[{declarations:[qa],imports:[n.CommonModule,Hn],exports:[qa]}]}],za);function za(){}var Ka=(Object.defineProperty(Wa.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Wa.prototype.ngOnInit=function(){var e=this;this.matSelect.openedChange.pipe(l.takeUntil(this._onDestroy)).subscribe(function(t){return t?e.focus():e.reset()}),this.matSelect.openedChange.pipe(l.take(1)).pipe(l.takeUntil(this._onDestroy)).subscribe(function(){e.matSelect.multiple&&(e.previousSelectedValues=e.matSelect.value),e._options=e.matSelect.options,e._options.changes.pipe(l.takeUntil(e._onDestroy)).subscribe(function(){var t=e.matSelect._keyManager;t&&e.matSelect.panelOpen&&setTimeout(function(){return t.setFirstItemActive()},0)})}),this.change.pipe(l.takeUntil(this._onDestroy)).subscribe(function(){return e.changeDetectorRef.detectChanges()}),this.initMultipleHandling()},Wa.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},Wa.prototype.handleKeydown=function(t){32===t.keyCode&&t.stopPropagation()},Wa.prototype.onInputChange=function(t){t!==this._value&&(this._value=t,this.onChange(t),this.change.emit(t))},Wa.prototype.onBlur=function(t){this.writeValue(t),this.onTouched()},Wa.prototype.writeValue=function(t){t!==this._value&&(this._value=t,this.change.emit(t))},Wa.prototype.registerOnChange=function(t){this.onChange=t},Wa.prototype.registerOnTouched=function(t){this.onTouched=t},Wa.prototype.focus=function(){var t,e;this.searchSelectInput&&(e=(t=this.matSelect.panel.nativeElement).scrollTop,this.searchSelectInput.nativeElement.focus(),t.scrollTop=e)},Wa.prototype.reset=function(t){this.searchSelectInput&&(this.searchSelectInput.nativeElement.value="",this.onInputChange(""),t&&this.focus())},Wa.prototype.initMultipleHandling=function(){var t=this;this.matSelect.valueChange.pipe(l.takeUntil(this._onDestroy)).subscribe(function(e){var n,o;t.matSelect.multiple&&(n=!1,t._value&&t._value.length&&t.previousSelectedValues&&Array.isArray(t.previousSelectedValues)&&(e&&Array.isArray(e)||(e=[]),o=t.matSelect.options.map(function(t){return t.value}),t.previousSelectedValues.forEach(function(t){-1===e.indexOf(t)&&-1===o.indexOf(t)&&(e.push(t),n=!0)})),n&&t.matSelect._onChange(e),t.previousSelectedValues=e)})},Wa.decorators=[{type:c.Component,args:[{selector:"o-combo-search",template:'<input matInput class="o-combo-search-hidden" />\n\n<mat-form-field floatLabel="never" class="o-combo-search-inner">\n  <input matInput #searchSelectInput placeholder="{{ placeholder | oTranslate }}" (keydown)="handleKeydown($event)"\n    (input)="onInputChange($event.target.value)" (blur)="onBlur($event.target.value)" class="mat-select-search-input" />\n  <button mat-icon-button matSuffix *ngIf="value" (click)="reset(true)" class="mat-select-search-clear">\n    <mat-icon>close</mat-icon>\n  </button>\n</mat-form-field>\n\n<div *ngIf="value && _options?.length === 0" fxLayoutAlign="center center" class="o-combo-search-emmpty">\n  <span>{{ \'INPUT.COMBO.EMPTY\' | oTranslate }}</span>\n</div>\n',providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return Wa}),multi:!0}],host:{"[class.o-combo-search]":"true"},styles:[":host{display:flex;flex-direction:column;padding:0 16px}:host .o-combo-search-hidden{display:none}:host .o-combo-search-inner{height:3em;width:100%}:host .o-combo-search-emmpty{height:3em;line-height:3em}"]}]}],Wa.ctorParameters=function(){return[{type:d.MatSelect,decorators:[{type:c.Inject,args:[d.MatSelect]}]},{type:c.ChangeDetectorRef}]},Wa.propDecorators={searchSelectInput:[{type:c.ViewChild,args:["searchSelectInput",{read:c.ElementRef,"static":!1}]}]},Wa);function Wa(t,e){this.matSelect=t,this.changeDetectorRef=e,this.placeholder="SEARCH",this.change=new c.EventEmitter,this._onDestroy=new u.Subject,this.onChange=function(t){},this.onTouched=function(t){}}var Qa,Xa=w(Be,["translate","multiple","nullSelection: null-selection","multipleTriggerLabel: multiple-trigger-label","searchable"]),$a=w(Ue),Za=(_(Ja,Qa=Ve),Object.defineProperty(Ja.prototype,"filteredDataArray",{get:function(){return this._filteredDataArray},set:function(t){k.isArray(t)?this._filteredDataArray=t:k.isObject(t)&&0<Object.keys(t).length?this._filteredDataArray=[t]:(console.warn("Component has received not supported service data. Supported data are Array or not empty Object"),this._filteredDataArray=[])},enumerable:!0,configurable:!0}),Ja.prototype.ngOnInit=function(){var t=this;Qa.prototype.ngOnInit.call(this),this.subscription.add(this.searchControl.valueChanges.subscribe(function(){return t.searchFilter()}))},Ja.prototype.ngAfterViewInit=function(){Qa.prototype.ngAfterViewInit.call(this),this.queryOnInit?this.queryData():this.queryOnBind&&this.syncDataIndex()},Ja.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.destroy()},Ja.prototype.initialize=function(){Qa.prototype.initialize.call(this),this.multiple&&(this.nullSelection=!1,this.defaultValue=[])},Ja.prototype.ensureOFormValue=function(t){t instanceof rt?this.value=new rt(t.value):!k.isDefined(t)||t instanceof rt?!k.isDefined(t)&&this.nullSelection?this.value=new rt(undefined):this.value=new rt(this.defaultValue):this.value=new rt(t)},Ja.prototype.setDataArray=function(t){Qa.prototype.setDataArray.call(this,t),this.filteredDataArray=t},Ja.prototype.getDataArray=function(){return this.dataArray},Ja.prototype.getFilteredDataArray=function(){return this._filteredDataArray},Ja.prototype.hasNullSelection=function(){return this.nullSelection},Ja.prototype.syncDataIndex=function(t){void 0===t&&(t=!0),Qa.prototype.syncDataIndex.call(this,t),this._currentIndex!==undefined&&this.nullSelection&&(this._currentIndex+=1)},Ja.prototype.getValue=function(){if(this.value instanceof rt){if(this.value.value!==undefined)return this.value.value;if(this.value.value===undefined)return this.getEmptyValue()}return""},Ja.prototype.getEmptyValue=function(){return this.multiple?[]:this.nullSelection?undefined:""},Ja.prototype.isEmpty=function(){return!(this.value instanceof rt)||(this.value.value===undefined||this.multiple&&0===this.value.value.length)},Ja.prototype.clearValue=function(t,e){void 0===e&&(e=!1),this.multiple?(this.setValue(this.defaultValue,t,e),this.value.value=[]):Qa.prototype.clearValue.call(this,t,e)},Object.defineProperty(Ja.prototype,"showClearButton",{get:function(){return this.clearButton&&!this.isReadOnly&&this.enabled&&this.isEmpty()},enumerable:!0,configurable:!0}),Ja.prototype.getMultiple=function(){return this.multiple},Ja.prototype.onSelectionChange=function(t){this.selectModel.panelOpen&&(t=t.value,this.setValue(t,{changeType:Re.USER_CHANGE,emitEvent:!1,emitModelToViewChange:!1}))},Ja.prototype.getOptionDescriptionValue=function(n){void 0===n&&(n={});var o,i="";return this.descriptionColArray&&0<this.descriptionColArray.length&&(o=this).descriptionColArray.forEach(function(t,e){t=n[t];k.isDefined(t)&&(o.translate&&o.translateService&&(t=o.translateService.get(t)),i+=t),e<o.descriptionColArray.length-1&&(i+=o.separator)}),i},Ja.prototype.getValueColumn=function(t){if(t&&t.hasOwnProperty(this.valueColumn)){t=t[this.valueColumn];return t="undefined"===t?null:t}return""},Ja.prototype.isSelected=function(t,e){var n=!1;return t&&t.hasOwnProperty(this.valueColumn)&&this.value&&t[this.valueColumn]===this.value.value&&(n=!0,this._currentIndex=e),n},Ja.prototype.setValue=function(e,t,n){var o=this;if(void 0===n&&(n=!1),this.dataArray){n=k.isDefined(e);if(!this.multiple||n)if(n||this.nullSelection){if(n){n=this.dataArray.find(function(t){return t[o.valueColumn]===e});if(!k.isDefined(n))return}else k.isDefined(e)&&Qa.prototype.setValue.call(this,e,t);Qa.prototype.setValue.call(this,e,t)}else console.warn("`o-combo` with attr "+this.oattr+" cannot be set. `null-selection` attribute is false.")}},Ja.prototype.getSelectedItems=function(){return this.getValue()},Ja.prototype.setSelectedItems=function(t){this.setValue(t)},Ja.prototype.getFirstSelectedValue=function(){return this.selectModel.selected[0].viewValue},Ja.prototype.setIsReadOnly=function(t){Qa.prototype.setIsReadOnly.call(this,t);t=k.isDefined(this.readOnly)?this.readOnly:t;this.enabled&&(this._fControl&&t?this._fControl.disable():this._fControl&&this._fControl.enable())},Ja.prototype.parseByValueColumnType=function(t){if(!k.isDefined(this.multiple))return t;var n=this.multiple?t:[t];return this.valueColumnType===P.TYPE_INT&&n.forEach(function(t,e){t=parseInt(t,10);isNaN(t)||(n[e]=t)}),this.multiple?n:n[0]},Ja.prototype.searchFilter=function(){var e,n=this;(this.dataArray||this.dataArray.length)&&((e=this.searchControl.value)?(e=e.toLowerCase(),this.filteredDataArray=this.dataArray.filter(function(t){return-1<n.getOptionDescriptionValue(t).toLowerCase().indexOf(e)})):this.filteredDataArray=this.dataArray.slice())},Ja.decorators=[{type:c.Component,args:[{selector:"o-combo",providers:[Ce,{provide:Ve,useExisting:c.forwardRef(function(){return Ja})}],inputs:Xa,outputs:$a,template:'<div [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass" [matTooltipPosition]="tooltipPosition"\n  [matTooltipShowDelay]="tooltipShowDelay" [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [class.read-only]="isReadOnly" [class.custom-width]="hasCustomWidth"\n    [hideRequiredMarker]="hideRequiredMarker" fxFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <mat-select [value]="getValue()" #selectModel [id]="getAttribute()" fxFill [formControlName]="getAttribute()" [placeholder]="placeHolder"\n      [multiple]="getMultiple()" [required]="isRequired" [panelClass]="{ \'o-combo-panel\': true, \'o-combo-panel-search\': searchable }"\n      (selectionChange)="onSelectionChange($event)">\n      <o-combo-search *ngIf="searchable" [formControl]="searchControl"></o-combo-search>\n\n      <mat-select-trigger *ngIf="multiple && multipleTriggerLabel">\n        {{ selectModel.selected[0] ? getFirstSelectedValue(): \'\' }}\n        <span *ngIf="getFormControl().value.length > 1">\n          {{ \'INPUT.COMBO.MESSAGE_TRIGGER\' | oTranslate: { values: [getFormControl().value.length -1] } }}\n        </span>\n      </mat-select-trigger>\n\n      <div class="o-combo-options-container">\n        <mat-option *ngIf="hasNullSelection()" [value]="null"></mat-option>\n        <mat-option *ngFor="let item of getFilteredDataArray()" [value]="getValueColumn(item)">\n          {{ getOptionDescriptionValue(item) }}\n        </mat-option>\n      </div>\n    </mat-select>\n\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>\n',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-combo]":"true"},styles:[".o-combo .read-only .mat-select-arrow-wrapper{visibility:hidden}.o-combo .read-only .mat-form-field-underline{background-image:none}.o-combo .mat-select{line-height:normal}.o-combo-panel.o-combo-panel-search{height:100%}.o-combo-panel.o-combo-panel-search .o-combo-options-container{height:calc(100% - 3em);overflow:auto}"]}]}],Ja.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},Ja.propDecorators={inputModel:[{type:c.ViewChild,args:["inputModel",{"static":!1}]}],selectModel:[{type:c.ViewChild,args:["selectModel",{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Ja.prototype,"multiple",void 0),D([tt(),L("design:type",Boolean)],Ja.prototype,"multipleTriggerLabel",void 0),D([tt(),L("design:type",Boolean)],Ja.prototype,"searchable",void 0),D([tt(),L("design:type",Boolean)],Ja.prototype,"translate",void 0),D([tt(),L("design:type",Boolean)],Ja.prototype,"nullSelection",void 0),Ja);function Ja(t,e,n){n=Qa.call(this,t,e,n)||this;return n.searchControl=new i.FormControl,n.multipleTriggerLabel=!1,n.searchable=!1,n.translate=!1,n.nullSelection=!0,n._filteredDataArray=[],n.subscription=new u.Subscription,n.defaultValue="",n}var ts=(es.decorators=[{type:c.NgModule,args:[{declarations:[Za,Ka],imports:[n.CommonModule,Hn],exports:[Za,Ka]}]}],es);function es(){}var ns,os=w(Me,["minLength: min-length","maxLength: max-length"]),is=w(Ne),rs=(_(as,ns=Pe),as.prototype.ngOnInit=function(){ns.prototype.ngOnInit.call(this)},as.prototype.resolveValidators=function(){var t=ns.prototype.resolveValidators.call(this);return 0<=this.minLength&&t.push(i.Validators.minLength(this.minLength)),0<=this.maxLength&&t.push(i.Validators.maxLength(this.maxLength)),t},Object.defineProperty(as.prototype,"minLength",{get:function(){return this._minLength},set:function(t){var e=this._minLength;this._minLength=J(t),t!==e&&this.updateValidators()},enumerable:!0,configurable:!0}),Object.defineProperty(as.prototype,"maxLength",{get:function(){return this._maxLength},set:function(t){var e=this._maxLength;this._maxLength=J(t),t!==e&&this.updateValidators()},enumerable:!0,configurable:!0}),as.decorators=[{type:c.Component,args:[{selector:"o-text-input",template:'<div [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass"\n  [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.custom-width]="hasCustomWidth" [class.icon-field]="showClearButton" fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput type="text" [id]="getAttribute()" [formControlName]="getAttribute()" [placeholder]="placeHolder"\n      (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" [readonly]="isReadOnly"\n      (change)="onChangeEvent($event)" [required]="isRequired" />\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'minlength\')"\n      text="{{ \'FORM_VALIDATION.MIN_LENGTH\' | oTranslate }}: {{ getErrorValue(\'minlength\', \'requiredLength\') }}">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'maxlength\')"\n      text="{{ \'FORM_VALIDATION.MAX_LENGTH\' | oTranslate }}: {{ getErrorValue(\'maxlength\', \'requiredLength\') }}">\n    </mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',inputs:os,outputs:is,encapsulation:c.ViewEncapsulation.None,styles:[""]}]}],as.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},as);function as(t,e,n){n=ns.call(this,t,e,n)||this;return n._minLength=-1,n._maxLength=-1,n}var ss=(ls.decorators=[{type:c.NgModule,args:[{declarations:[rs],imports:[Hn,n.CommonModule],exports:[rs]}]}],ls);function ls(){}var cs,us=w(os,["min","max","step","grouping","thousandSeparator : thousand-separator","olocale : locale"]),ps=w(is),ds=(_(hs,cs=rs),hs.prototype.initialize=function(){cs.prototype.initialize.call(this),this.initializeStep()},hs.prototype.setComponentPipe=function(){this.componentPipe=new rn(this.injector)},hs.prototype.ngOnInit=function(){cs.prototype.ngOnInit.call(this),this.pipeArguments={grouping:this.grouping,thousandSeparator:this.thousandSeparator,locale:this.olocale},this.step===undefined&&(this.step=1)},hs.prototype.ngAfterViewInit=function(){cs.prototype.ngAfterViewInit.call(this)},hs.prototype.setData=function(t){var e=this;cs.prototype.setData.call(this,t),setTimeout(function(){e.setPipeValue()},0)},hs.prototype.setValue=function(t,e){cs.prototype.setValue.call(this,t,e),this.setPipeValue()},hs.prototype.innerOnFocus=function(t){t.preventDefault(),t.stopPropagation(),this.isReadOnly||(this.setNumberDOMValue(this.getValue()),cs.prototype.innerOnFocus.call(this,t))},hs.prototype.innerOnBlur=function(t){var e;t&&(t.stopPropagation(),t.preventDefault()),this.isReadOnly||(this.setPipeValue(),(e=this.getControl())&&e.updateValueAndValidity(),cs.prototype.innerOnBlur.call(this,t))},hs.prototype.setPipeValue=function(){var t;"undefined"==typeof this.pipeArguments||this.isEmpty()||(t=this.componentPipe.transform(this.getValue(),this.pipeArguments),this.setTextDOMValue(t))},hs.prototype.isEmpty=function(){return!(this.value instanceof rt&&this.value.value!==undefined)},hs.prototype.getInputEl=function(){var t="INPUT"===this.elRef.nativeElement.tagName?this.elRef.nativeElement:this.elRef.nativeElement.getElementsByTagName("INPUT")[0];return t},hs.prototype.setNumberDOMValue=function(t){var e=this.getInputEl();k.isDefined(e)&&(-1===navigator.userAgent.toLowerCase().indexOf("firefox")&&(e.type="number"),e.value=t!==undefined?t:"")},hs.prototype.setTextDOMValue=function(t){var e=this.getInputEl();k.isDefined(e)&&(-1===navigator.userAgent.toLowerCase().indexOf("firefox")&&(e.type="text"),e.value=t!==undefined?t:"")},hs.prototype.resolveValidators=function(){var t=cs.prototype.resolveValidators.call(this);return k.isDefined(this.min)&&t.push(this.minValidator.bind(this)),k.isDefined(this.max)&&t.push(this.maxValidator.bind(this)),t},hs.prototype.minValidator=function(t){return"number"==typeof t.value&&t.value<this.min?{min:{requiredMin:this.min}}:{}},hs.prototype.maxValidator=function(t){return"number"==typeof t.value&&this.max<t.value?{max:{requiredMax:this.max}}:{}},hs.prototype.initializeStep=function(){this.step<=0&&(this.step=1,console.warn("`step` attribute must be greater than zero"))},hs.decorators=[{type:c.Component,args:[{selector:"o-integer-input",template:'<div [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass" [matTooltipPosition]="tooltipPosition"\n  [matTooltipShowDelay]="tooltipShowDelay" [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel"  [hideRequiredMarker]="hideRequiredMarker" [class.custom-width]="hasCustomWidth"\n    [class.icon-field]="showClearButton" fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput [type]="inputType" [id]="getAttribute()" [formControlName]="getAttribute()" [placeholder]="placeHolder"\n      (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" (change)="onChangeEvent($event)" [readonly]="isReadOnly"\n      [min]="min" [max]="max" [step]="step" [required]="isRequired">\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'min\')" text="{{ \'FORM_VALIDATION.MIN_VALUE\' | oTranslate }}: {{ getErrorValue(\'min\', \'requiredMin\') }}"></mat-error>\n    <mat-error *ngIf="hasError(\'max\')" text="{{ \'FORM_VALIDATION.MAX_VALUE\' | oTranslate }}: {{ getErrorValue(\'max\', \'requiredMax\') }}"></mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',inputs:us,outputs:ps,encapsulation:c.ViewEncapsulation.None,styles:[""]}]}],hs.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},D([tt(),L("design:type",Number)],hs.prototype,"min",void 0),D([tt(),L("design:type",Number)],hs.prototype,"max",void 0),D([tt(),L("design:type",Number)],hs.prototype,"step",void 0),D([tt(),L("design:type",Boolean)],hs.prototype,"grouping",void 0),hs);function hs(t,e,n){n=cs.call(this,t,e,n)||this;return n.inputType="number",n.step=1,n.grouping=!1,n._defaultSQLTypeKey="INTEGER",-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&(n.inputType="text"),n.setComponentPipe(),n}var ms=(fs.decorators=[{type:c.NgModule,args:[{declarations:[ds],imports:[n.CommonModule,Hn,ss],exports:[ds]}]}],fs);function fs(){}var gs,ys=w(us,["minDecimalDigits: min-decimal-digits","maxDecimalDigits: max-decimal-digits","decimalSeparator : decimal-separator"]),bs=w(ps),vs=(_(Es,gs=ds),Es.prototype.setComponentPipe=function(){this.componentPipe=new un(this.injector)},Es.prototype.ngOnInit=function(){gs.prototype.ngOnInit.call(this),this.pipeArguments.decimalSeparator=this.decimalSeparator,this.pipeArguments.minDecimalDigits=this.minDecimalDigits,this.pipeArguments.maxDecimalDigits=this.maxDecimalDigits},Es.prototype.resolveValidators=function(){var t=gs.prototype.resolveValidators.call(this);return k.isDefined(this.minDecimalDigits)&&t.push(this.minDecimalDigitsValidator.bind(this)),k.isDefined(this.maxDecimalDigits)&&t.push(this.maxDecimalDigitsValidator.bind(this)),t},Es.prototype.minDecimalDigitsValidator=function(t){var e=t.value;if((e="number"==typeof t.value?e.toString():e)&&e.length){e=e.split(this.decimalSeparator||".");if(k.isDefined(this.minDecimalDigits)&&0<this.minDecimalDigits&&k.isDefined(e[1])&&e[1].length<this.minDecimalDigits)return{minDecimaldigits:{requiredMinDecimaldigits:this.minDecimalDigits}}}return{}},Es.prototype.maxDecimalDigitsValidator=function(t){var e=t.value;if((e="number"==typeof t.value?e.toString():e)&&e.length){e=e.split(this.decimalSeparator||".");if(k.isDefined(this.maxDecimalDigits)&&0<this.maxDecimalDigits&&k.isDefined(e[1])&&e[1].length>this.maxDecimalDigits)return{maxDecimaldigits:{requiredMaxDecimaldigits:this.maxDecimalDigits}}}return{}},Es.prototype.initializeStep=function(){this.step<=0&&(this.step=1/Math.pow(10,this.maxDecimalDigits),console.warn("`step` attribute must be greater than zero"))},Es.decorators=[{type:c.Component,args:[{selector:"o-real-input",template:'<div [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass"\n  [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.custom-width]="hasCustomWidth" [class.icon-field]="showClearButton" fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput [type]="inputType" [id]="getAttribute()" [formControlName]="getAttribute()"\n      [placeholder]="placeHolder" (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)"\n      (change)="onChangeEvent($event)" [readonly]="isReadOnly" [min]="min" [max]="max" [step]="step"\n      [required]="isRequired">\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'min\')"\n      text="{{ \'FORM_VALIDATION.MIN_VALUE\' | oTranslate }}: {{ getErrorValue(\'min\', \'requiredMin\') }}"></mat-error>\n    <mat-error *ngIf="hasError(\'max\')"\n      text="{{ \'FORM_VALIDATION.MAX_VALUE\' | oTranslate }}: {{ getErrorValue(\'max\', \'requiredMax\') }}"></mat-error>\n    <mat-error *ngIf="hasError(\'minDecimaldigits\')"\n      text="{{ \'FORM_VALIDATION.MIN_DECIMAL_DIGITS\' | oTranslate }}: {{ getErrorValue(\'minDecimaldigits\', \'requiredMinDecimaldigits\') }}">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'maxDecimaldigits\')"\n      text="{{ \'FORM_VALIDATION.MAX_DECIMAL_DIGITS\' | oTranslate }}: {{ getErrorValue(\'maxDecimaldigits\', \'requiredMaxDecimaldigits\') }}">\n    </mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',inputs:ys,outputs:bs,encapsulation:c.ViewEncapsulation.None,styles:[""]}]}],Es.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},D([tt(),L("design:type",Number)],Es.prototype,"minDecimalDigits",void 0),D([tt(),L("design:type",Number)],Es.prototype,"maxDecimalDigits",void 0),D([tt(),L("design:type",Number)],Es.prototype,"step",void 0),D([tt(),L("design:type",Boolean)],Es.prototype,"grouping",void 0),Es);function Es(t,e,n){n=gs.call(this,t,e,n)||this;return n.minDecimalDigits=2,n.maxDecimalDigits=2,n.step=.01,n.grouping=!0,n._defaultSQLTypeKey="FLOAT",n}var Cs=(Ts.decorators=[{type:c.NgModule,args:[{declarations:[vs],imports:[n.CommonModule,Hn,ms],exports:[vs]}]}],Ts);function Ts(){}var Is,Os=w(ys,["currencySymbol: currency-symbol","currencySymbolPosition: currency-symbol-position"]),Ss=w(bs),As=(_(_s,Is=vs),_s.prototype.existsOntimizeIcon=function(){return-1!==_s.currency_icons.indexOf(this.currencySymbol)},_s.prototype.useIcon=function(t){return this.existsOntimizeIcon()&&this.currencySymbolPosition===t},_s.prototype.useSymbol=function(t){return this.currency_symbols.hasOwnProperty(this.currencySymbol)&&this.currencySymbolPosition===t},_s.currency_icons=["USD","EUR","GBP","ILS","INR","JPY","KRW","BTC"],_s.decorators=[{type:c.Component,args:[{selector:"o-currency-input",template:'<div [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass"\n  [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay" fxLayout="row" fxLayoutAlign="space-between center">\n\n  <div *ngIf="useSymbol(\'left\')" matSuffix class="icon-btn" [class.mat-disabled]="!enabled">\n    {{ currency_symbols[currencySymbol] }}\n  </div>\n  <mat-icon *ngIf="useIcon(\'left\')" svgIcon="ontimize:{{currencySymbol}}" matSuffix class="svg-icon"\n    [class.mat-disabled]="!enabled"></mat-icon>\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.custom-width]="hasCustomWidth" class="icon-field" fxFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput [type]="inputType" [id]="getAttribute()" [formControlName]="getAttribute()"\n      [placeholder]="placeHolder" (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" [readonly]="isReadOnly"\n      [min]="min" [max]="max" [step]="step" [required]="isRequired" (change)="onChangeEvent($event)">\n\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <div *ngIf="useSymbol(\'right\')" matSuffix class="icon-btn" [class.mat-disabled]="!enabled">\n      {{ currency_symbols[currencySymbol] }}\n    </div>\n    <mat-icon *ngIf="useIcon(\'right\')" svgIcon="ontimize:{{currencySymbol}}" matSuffix class="svg-icon"\n      [class.mat-disabled]="!enabled">\n    </mat-icon>\n\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'min\')"\n      text="{{ \'FORM_VALIDATION.MIN_VALUE\' | oTranslate }}: {{ getErrorValue(\'min\', \'requiredMin\') }}"></mat-error>\n    <mat-error *ngIf="hasError(\'max\')"\n      text="{{ \'FORM_VALIDATION.MAX_VALUE\' | oTranslate }}: {{ getErrorValue(\'max\', \'requiredMax\') }}"></mat-error>\n    <mat-error *ngIf="hasError(\'minDecimaldigits\')"\n      text="{{ \'FORM_VALIDATION.MIN_DECIMAL_DIGITS\' | oTranslate }}: {{ getErrorValue(\'minDecimaldigits\', \'requiredMinDecimaldigits\') }}">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'maxDecimaldigits\')"\n      text="{{ \'FORM_VALIDATION.MAX_DECIMAL_DIGITS\' | oTranslate }}: {{ getErrorValue(\'maxDecimaldigits\', \'requiredMaxDecimaldigits\') }}">\n    </mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',inputs:Os,outputs:Ss,encapsulation:c.ViewEncapsulation.None,styles:["o-currency-input input{padding-right:8px}o-currency-input input .mat-form-field-wrapper .mat-input-table .mat-form-field-infix .mat-input-element{text-align:end}"]}]}],_s);function _s(){var t=null!==Is&&Is.apply(this,arguments)||this;return t.currency_symbols={CRC:"₡",NGN:"₦",PHP:"₱",PLN:"zł",PYG:"₲",THB:"฿",UAH:"₴",VND:"₫"},t.currencySymbol="EUR",t.currencySymbolPosition="right",t}var Ds=(Ls.decorators=[{type:c.NgModule,args:[{declarations:[As],imports:[n.CommonModule,Hn,Cs],exports:[As]}]}],Ls);function Ls(){}var Rs,xs=t,ws=(_(Ms,Rs=a.MomentDateAdapter),Ms.prototype.format=function(t,e){return Rs.prototype.format.call(this,t,this.oFormat||e)},Ms.prototype.parse=function(t,e){return Rs.prototype.parse.call(this,t,this.oFormat||e)},Ms.prototype.deserialize=function(t){var e;if("number"==typeof t&&(e=xs(t)),"string"==typeof t){if(!t)return null;e=xs(t,this.oFormat).locale(this.locale)}return e&&this.isValid(e)?e:Rs.prototype.deserialize.call(this,t)},Ms.decorators=[{type:c.Injectable}],Ms.ctorParameters=function(){return[{type:String,decorators:[{type:c.Optional},{type:c.Inject,args:[d.MAT_DATE_LOCALE]}]}]},Ms);function Ms(t){return Rs.call(this,t)||this}var Ns,Ps=w(is),Fs=w(["valueType: value-type","oformat: format","olocale: locale","oStartView: start-view","oMinDate: min","oMaxDate: max","oTouchUi: touch-ui","oStartAt: start-at","filterDate: filter-date","textInputEnabled: text-input-enabled","dateClass: date-class"],os),ks=(_(Bs,Ns=Pe),Bs.prototype.ngOnInit=function(){var t,e,n=this;this.initialize(),this.olocale||(this.updateLocaleOnChange=!0,this.olocale=this.momentSrv.getLocale()),this.oformat&&(this.momentDateAdapter.oFormat=this.oformat),this.momentDateAdapter.setLocale(this.olocale),this.oStartView&&(this.datepicker.startView=this.oStartView),this.oStartAt&&(this.datepicker.startAt=new Date(this.oStartAt)),this.oMinDate&&(t=new Date(this.oMinDate),(e=S(t)).isValid()&&(this.datepickerInput.min=t,this.minDateString=e.format(this.oformat))),this.oMaxDate&&(t=new Date(this.oMaxDate),(e=S(t)).isValid()&&(this.datepickerInput.max=t,this.maxDateString=e.format(this.oformat))),this.updateLocaleOnChange&&(this.onLanguageChangeSubscription=this.translateService.onLanguageChanged.subscribe(function(){n.momentDateAdapter.setLocale(n.translateService.getCurrentLang()),n.setValue(n.getValue())})),this.subscribeToMediaChanges()},Bs.prototype.subscribeToMediaChanges=function(){var e=this;this.mediaSubscription=this.media.asObservable().subscribe(function(t){-1!==["xs","sm"].indexOf(t[0].mqAlias)&&(e.touchUi=!k.isDefined(e.oTouchUi)||e.oTouchUi),-1!==["md","lg","xl"].indexOf(t[0].mqAlias)&&(e.touchUi=!!k.isDefined(e.oTouchUi)&&e.oTouchUi)})},Bs.prototype.ngOnDestroy=function(){Ns.prototype.ngOnDestroy.call(this),this.mediaSubscription&&this.mediaSubscription.unsubscribe(),this.onLanguageChangeSubscription&&this.onLanguageChangeSubscription.unsubscribe()},Bs.prototype.getValueAsDate=function(){return this.dateValue},Bs.prototype.getValue=function(){var t=Ns.prototype.getValue.call(this);return t=t&&t instanceof Date?t.getTime():t},Object.defineProperty(Bs.prototype,"showClearButton",{get:function(){return this.clearButton&&!this.isReadOnly&&this.enabled&&this.matInputRef.nativeElement.value},enumerable:!0,configurable:!0}),Bs.prototype.open=function(){!this.isReadOnly&&this.enabled&&this.datepicker.open()},Bs.prototype.onChangeEvent=function(t){var e=t.value&&t.value.isValid&&t.value.isValid()?t.value.valueOf():t.value,n=S(e);switch(this.valueType){case"string":e=e&&n.format(this.oformat);break;case"date":e=new Date(e);break;case"iso-8601":e=n.toISOString()}this.setValue(e,{changeType:Re.USER_CHANGE,emitEvent:!1,emitModelToViewChange:!1})},Bs.prototype.onClickInput=function(t){this.textInputEnabled||this.open()},Object.defineProperty(Bs.prototype,"filterDate",{get:function(){return this._filterDate},set:function(t){this._filterDate=t},enumerable:!0,configurable:!0}),Object.defineProperty(Bs.prototype,"dateClass",{get:function(){return this._dateClass},set:function(t){this._dateClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(Bs.prototype,"oformat",{get:function(){return this._oformat},set:function(t){this._oformat=t},enumerable:!0,configurable:!0}),Object.defineProperty(Bs.prototype,"minDateString",{get:function(){return this._minDateString},set:function(t){this._minDateString=t},enumerable:!0,configurable:!0}),Object.defineProperty(Bs.prototype,"maxDateString",{get:function(){return this._maxDateString},set:function(t){this._maxDateString=t},enumerable:!0,configurable:!0}),Object.defineProperty(Bs.prototype,"touchUi",{get:function(){return this.oTouchUi||!1},set:function(t){this.oTouchUi=t,this.datepicker.touchUi=this.touchUi},enumerable:!0,configurable:!0}),Bs.prototype.ensureODateValueType=function(t){if(!k.isDefined(t))return t;var e,n=t;switch(this.valueType){case"string":"string"==typeof t?(e=S(t,this.oformat)).isValid()&&(this.dateValue=new Date(e.valueOf())):n=undefined;break;case"date":t instanceof Date?this.dateValue=t:n=undefined;break;case"timestamp":"number"==typeof t?this.dateValue=new Date(t):n=undefined;break;case"iso-8601":"string"!=typeof t?"number"==typeof t&&this.getSQLType()===at.TIMESTAMP?this.dateValue=new Date(t):n=undefined:(e=S(t)).isValid()?this.dateValue=new Date(e.valueOf()):n=undefined}return k.isDefined(n)||console.warn("ODateInputComponent value ("+t+") is not consistent with value-type ("+this.valueType+")"),n},Bs.prototype.setFormValue=function(t,e,n){void 0===n&&(n=!1);var o=t;t instanceof rt&&(o=t.value),this.ensureODateValueType(o),Ns.prototype.setFormValue.call(this,o,e,n)},Object.defineProperty(Bs.prototype,"valueType",{get:function(){return this._valueType},set:function(t){this._valueType=k.convertToODateValueType(t)},enumerable:!0,configurable:!0}),Bs.decorators=[{type:c.Component,args:[{selector:"o-date-input",template:'<div fxLayout="row" fxLayoutAlign="space-between center" [formGroup]="getFormGroup()" [matTooltip]="tooltip"\n  [matTooltipClass]="tooltipClass" [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay" (click)="onClickInput($event)">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.custom-width]="hasCustomWidth" class="icon-field" fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput #matInputRef [matDatepicker]="picker" [id]="getAttribute()" [formControlName]="getAttribute()"\n      [placeholder]="placeHolder" [readonly]="isReadOnly || !textInputEnabled" (focus)="innerOnFocus($event)"\n      (blur)="innerOnBlur($event)" [matDatepickerFilter]="filterDate" (dateChange)="onChangeEvent($event)"\n      [required]="isRequired" [value]="getValueAsDate()">\n\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <mat-datepicker-toggle matSuffix [disabled]="isReadOnly || !enabled" [class.read-only]="isReadOnly" [for]="picker">\n      <mat-icon matDatepickerToggleIcon>today</mat-icon>\n    </mat-datepicker-toggle>\n    <mat-datepicker #picker [disabled]="isReadOnly || !enabled" [dateClass]="dateClass"></mat-datepicker>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'matDatepickerParse\')"\n      text="{{ \'FORM_VALIDATION.DATE_PARSE\' | oTranslate }} {{ oformat }}"></mat-error>\n    <mat-error *ngIf="hasError(\'matDatepickerFilter\')" text="{{ \'FORM_VALIDATION.DATE_FILTER\' | oTranslate }}">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'matDatepickerMin\')"\n      text="{{ \'FORM_VALIDATION.DATE_MIN\' | oTranslate }} {{ minDateString }}"></mat-error>\n    <mat-error *ngIf="hasError(\'matDatepickerMax\')"\n      text="{{ \'FORM_VALIDATION.DATE_MAX\' | oTranslate }} {{ maxDateString }}"></mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',outputs:Ps,inputs:Fs,providers:[{provide:d.DateAdapter,useClass:ws,deps:[d.MAT_DATE_LOCALE]}],styles:[""]}]}],Bs.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:d.DateAdapter},{type:c.ElementRef},{type:c.Injector}]},Bs.propDecorators={datepicker:[{type:c.ViewChild,args:["picker",{"static":!0}]}],datepickerInput:[{type:c.ViewChild,args:[d.MatDatepickerInput,{"static":!0}]}],matInputRef:[{type:c.ViewChild,args:["matInputRef",{read:c.ElementRef,"static":!0}]}]},D([tt(),L("design:type",Boolean)],Bs.prototype,"textInputEnabled",void 0),D([tt(),L("design:type",Boolean)],Bs.prototype,"oTouchUi",void 0),Bs);function Bs(t,e,n,o){o=Ns.call(this,t,n,o)||this;return o.textInputEnabled=!0,o._oformat="L",o.updateLocaleOnChange=!1,o.oStartView="month",o._valueType="timestamp",o.momentDateAdapter=e,o._defaultSQLTypeKey="DATE",o.momentSrv=o.injector.get(Wt),o.media=o.injector.get(h.MediaObserver),o}var Us=(Vs.decorators=[{type:c.NgModule,args:[{declarations:[ks],imports:[n.CommonModule,Hn],exports:[ks]}]}],Vs);function Vs(){}var js=t;(rg=O.SideEnum||(O.SideEnum={})).left="left",rg.right="right";var Gs=(Object.defineProperty(qs.prototype,"ranges",{get:function(){return this._ranges},set:function(t){this._ranges=t,this.renderRanges()},enumerable:!0,configurable:!0}),qs.prototype.ngOnInit=function(){this._buildLocale();var t=w(this.locale.daysOfWeek);if(0!==this.locale.firstDay)for(var e=this.locale.firstDay;0<e;)t.push(t.shift()),e--;this.locale.daysOfWeek=t,this.inline&&(this._old.start=this.startDate.clone(),this._old.end=this.endDate.clone()),this.updateMonthsInView(),this.renderCalendar(O.SideEnum.left),this.renderCalendar(O.SideEnum.right),this.renderRanges()},qs.prototype.renderRanges=function(){var t,e;if(this.rangesArray=[],"object"==typeof this.ranges){for(var n in this.ranges){t="string"==typeof this.ranges[n][0]?js(this.ranges[n][0],this.locale.format):js(this.ranges[n][0]),e="string"==typeof this.ranges[n][1]?js(this.ranges[n][1],this.locale.format):js(this.ranges[n][1]),this.minDate&&t.isBefore(this.minDate)&&(t=this.minDate.clone());var o=this.maxDate;(o=this.maxSpan&&o&&t.clone().add(this.maxSpan).isAfter(o)?t.clone().add(this.maxSpan):o)&&e.isAfter(o)&&(e=o.clone()),this.minDate&&e.isBefore(this.minDate,this.timePicker?"minute":"day")||o&&t.isAfter(o,this.timePicker?"minute":"day")||((o=document.createElement("textarea")).innerHTML=n,o=o.value,this.ranges[o]=[t,e])}for(var n in this.ranges)this.rangesArray.push(n);this.showCustomRangeLabel&&this.rangesArray.push(this.locale.customRangeLabel),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.timePicker&&this.autoApply&&(this.autoApply=!1)}},qs.prototype.renderTimePicker=function(t){if(t!==O.SideEnum.right||this.endDate){var e,n,o=this.maxDate;t===O.SideEnum.left?(e=this.startDate.clone(),n=this.minDate):t===O.SideEnum.right&&(e=this.endDate.clone(),n=this.startDate);var i=this.timePicker24Hour?0:1,r=this.timePicker24Hour?23:12;this.timepickerVariables[t]={hours:[],minutes:[],minutesLabel:[],seconds:[],secondsLabel:[],disabledHours:[],disabledMinutes:[],disabledSeconds:[],selectedHour:0,selectedMinute:0,selectedSecond:0};for(var a=i;a<=r;a++){var s=a;this.timePicker24Hour||(s=12<=e.hour()?12===a?12:a+12:12===a?0:a);var l=e.clone().hour(s),c=!1;n&&l.minute(59).isBefore(n)&&(c=!0),o&&l.minute(0).isAfter(o)&&(c=!0),this.timepickerVariables[t].hours.push(a),s!==e.hour()||c?c&&this.timepickerVariables[t].disabledHours.push(a):this.timepickerVariables[t].selectedHour=a}for(a=0;a<60;a+=this.timePickerIncrement){var u=a<10?"0"+a:a,l=e.clone().minute(a),c=!1;n&&l.second(59).isBefore(n)&&(c=!0),o&&l.second(0).isAfter(o)&&(c=!0),this.timepickerVariables[t].minutes.push(a),this.timepickerVariables[t].minutesLabel.push(u),e.minute()!==a||c?c&&this.timepickerVariables[t].disabledMinutes.push(a):this.timepickerVariables[t].selectedMinute=a}if(this.timePickerSeconds)for(a=0;a<60;a++){u=a<10?"0"+a:a,l=e.clone().second(a),c=!1;n&&l.isBefore(n)&&(c=!0),o&&l.isAfter(o)&&(c=!0),this.timepickerVariables[t].seconds.push(a),this.timepickerVariables[t].secondsLabel.push(u),e.second()!==a||c?c&&this.timepickerVariables[t].disabledSeconds.push(a):this.timepickerVariables[t].selectedSecond=a}this.timePicker24Hour||(n&&e.clone().hour(12).minute(0).second(0).isBefore(n)&&(this.timepickerVariables[t].amDisabled=!0),o&&e.clone().hour(0).minute(0).second(0).isAfter(o)&&(this.timepickerVariables[t].pmDisabled=!0),12<=e.hour()?this.timepickerVariables[t].ampmModel="PM":this.timepickerVariables[t].ampmModel="AM"),this.timepickerVariables[t].selected=e}},qs.prototype.renderCalendar=function(t){var e=t===O.SideEnum.left?this.leftCalendar:this.rightCalendar,n=e.month.month(),o=e.month.year(),i=e.month.hour(),r=e.month.minute(),a=e.month.second(),s=js([o,n]).daysInMonth(),l=js([o,n,1]),c=js([o,n,s]),u=js(l).subtract(1,"month").month(),p=js(l).subtract(1,"month").year(),d=js([p,u]).daysInMonth(),h=l.day(),m=[];m.firstDay=l,m.lastDay=c;for(var f=0;f<6;f++)m[f]=[];var g=d-h+this.locale.firstDay+1;d<g&&(g-=7),h===this.locale.firstDay&&(g=d-6);for(var y=js([p,u,g,12,r,a]),f=0,b=0,v=0;f<42;f++,b++,y=js(y).add(24,"hour"))0<f&&b%7==0&&(b=0,v++),m[v][b]=y.clone().hour(i).minute(r).second(a),y.hour(12),this.minDate&&m[v][b].format("YYYY-MM-DD")===this.minDate.format("YYYY-MM-DD")&&m[v][b].isBefore(this.minDate)&&"left"===t&&(m[v][b]=this.minDate.clone()),this.maxDate&&m[v][b].format("YYYY-MM-DD")===this.maxDate.format("YYYY-MM-DD")&&m[v][b].isAfter(this.maxDate)&&"right"===t&&(m[v][b]=this.maxDate.clone());t===O.SideEnum.left?this.leftCalendar.calendar=m:this.rightCalendar.calendar=m;var E="left"===t?this.minDate:this.startDate,e=this.maxDate;if(null===this.endDate&&this.dateLimit&&(g=this.startDate.clone().add(this.dateLimit,"day").endOf("day"),e&&!g.isBefore(e)||(e=g)),this.calendarVariables[t]={month:n,year:o,hour:i,minute:r,second:a,daysInMonth:s,firstDay:l,lastDay:c,lastMonth:u,lastYear:p,daysInLastMonth:d,dayOfWeek:h,calRows:Array.from(Array(6).keys()),calCols:Array.from(Array(7).keys()),classes:{},minDate:E,maxDate:e,calendar:m},this.showDropdowns){for(var p=m[1][1].month(),d=m[1][1].year(),C=e&&e.year()||d+5,h=E&&E.year()||d-50,e=d===h,E=d===C,T=[],I=h;I<=C;I++)T.push(I);this.calendarVariables[t].dropdowns={currentMonth:p,currentYear:d,maxYear:C,minYear:h,inMinYear:e,inMaxYear:E,monthArrays:Array.from(Array(12).keys()),yearArrays:T}}this._buildCells(m,t)},qs.prototype.setStartDate=function(t){"string"==typeof t&&(this.startDate=js(t,this.locale.format)),"object"==typeof t&&(this.startDate=js(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShown||this.updateElement(),this.updateMonthsInView()},qs.prototype.setEndDate=function(t){"string"==typeof t&&(this.endDate=js(t,this.locale.format)),"object"==typeof t&&(this.endDate=js(t)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit,"day").isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit,"day")),this.isShown,this.updateMonthsInView()},qs.prototype.isInvalidDate=function(t){return!1},qs.prototype.isCustomDate=function(t){return!1},qs.prototype.updateView=function(){this.timePicker&&(this.renderTimePicker(O.SideEnum.left),this.renderTimePicker(O.SideEnum.right)),this.updateMonthsInView(),this.updateCalendars()},qs.prototype.updateMonthsInView=function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate&&this.leftCalendar&&this.startDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.startDate&&this.rightCalendar&&this.startDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM")))return;this.startDate&&(this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()===this.startDate.month()&&this.endDate.year()===this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2))}else this.leftCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},qs.prototype.updateCalendars=function(){this.renderCalendar(O.SideEnum.left),this.renderCalendar(O.SideEnum.right),null!==this.endDate&&this.calculateChosenLabel()},qs.prototype.updateElement=function(){!this.singleDatePicker&&this.autoUpdateInput?this.startDate&&this.endDate&&(this.rangesArray.length&&!0===this.showRangeLabelOnInput&&this.chosenRange&&this.locale.customRangeLabel!==this.chosenRange?this.chosenLabel=this.chosenRange:this.chosenLabel=this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)):this.autoUpdateInput&&(this.chosenLabel=this.startDate.format(this.locale.format))},qs.prototype.remove=function(){this.isShown=!1},qs.prototype.calculateChosenLabel=function(){this.locale&&this.locale.separator||this._buildLocale();var t=!0,e=0;if(0<this.rangesArray.length){for(var n in this.ranges){if(this.timePicker){var o=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(o)===this.ranges[n][0].format(o)&&this.endDate.format(o)===this.ranges[n][1].format(o)){t=!1,this.chosenRange=this.rangesArray[e];break}}else if(this.startDate.format("YYYY-MM-DD")===this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")===this.ranges[n][1].format("YYYY-MM-DD")){t=!1,this.chosenRange=this.rangesArray[e];break}e++}t&&(this.showCustomRangeLabel?this.chosenRange=this.locale.customRangeLabel:this.chosenRange=null,this.showCalInRanges=!0)}this.updateElement()},qs.prototype.clickApply=function(t){if(this.singleDatePicker||!this.startDate||this.endDate||(this.endDate=this.startDate.clone(),this.calculateChosenLabel()),this.isInvalidDate&&this.startDate&&this.endDate)for(var e=this.startDate.clone();e.isBefore(this.endDate);){if(this.isInvalidDate(e)){this.endDate=e.subtract(1,"days"),this.calculateChosenLabel();break}e.add(1,"days")}this.chosenLabel&&this.choosedDate.emit({chosenLabel:this.chosenLabel,startDate:this.startDate,endDate:this.endDate}),this.datesUpdated.emit({startDate:this.startDate,endDate:this.endDate}),this.hide()},qs.prototype.clickCancel=function(t){this.startDate=this._old.start,this.endDate=this._old.end,this.inline&&this.updateView(),this.hide()},qs.prototype.monthChanged=function(t,e){var n=this.calendarVariables[e].dropdowns.currentYear,t=parseInt(t.target.value,10);this.monthOrYearChanged(t,n,e)},qs.prototype.yearChanged=function(t,e){var n=this.calendarVariables[e].dropdowns.currentMonth,t=parseInt(t.target.value,10);this.monthOrYearChanged(n,t,e)},qs.prototype.timeChanged=function(t,e){var n,o,i=parseInt(this.timepickerVariables[e].selectedHour,10),r=parseInt(this.timepickerVariables[e].selectedMinute,10),a=this.timePickerSeconds?parseInt(this.timepickerVariables[e].selectedSecond,10):0;this.timePicker24Hour||("PM"===(n=this.timepickerVariables[e].ampmModel)&&i<12&&(i+=12),"AM"===n&&12===i&&(i=0)),e===O.SideEnum.left?((o=this.startDate.clone()).hour(i),o.minute(r),o.second(a),this.setStartDate(o),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")===o.format("YYYY-MM-DD")&&this.endDate.isBefore(o)&&this.setEndDate(o.clone())):this.endDate&&((o=this.endDate.clone()).hour(i),o.minute(r),o.second(a),this.setEndDate(o)),this.updateCalendars(),this.renderTimePicker(O.SideEnum.left),this.renderTimePicker(O.SideEnum.right)},qs.prototype.monthOrYearChanged=function(t,e,n){var o=n===O.SideEnum.left;o||(e<this.startDate.year()||e===this.startDate.year()&&t<this.startDate.month())&&(t=this.startDate.month(),e=this.startDate.year()),this.minDate&&(e<this.minDate.year()||e===this.minDate.year()&&t<this.minDate.month())&&(t=this.minDate.month(),e=this.minDate.year()),this.maxDate&&(e>this.maxDate.year()||e===this.maxDate.year()&&t>this.maxDate.month())&&(t=this.maxDate.month(),e=this.maxDate.year()),this.calendarVariables[n].dropdowns.currentYear=e,this.calendarVariables[n].dropdowns.currentMonth=t,o?(this.leftCalendar.month.month(t).year(e),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(t).year(e),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},qs.prototype.clickPrev=function(t){t===O.SideEnum.left?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},qs.prototype.clickNext=function(t){t===O.SideEnum.left?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},qs.prototype.clickDate=function(t,e,n,o){if("TD"===t.target.tagName){if(!t.target.classList.contains("available"))return}else if("SPAN"===t.target.tagName&&!t.target.parentElement.classList.contains("available"))return;this.rangesArray.length&&(this.chosenRange=this.locale.customRangeLabel);o=(e===O.SideEnum.left?this.leftCalendar:this.rightCalendar).calendar[n][o];this.endDate||o.isBefore(this.startDate,"day")?(this.timePicker&&(o=this._getDateWithTime(o,O.SideEnum.left)),this.endDate=null,this.setStartDate(o.clone())):!this.endDate&&o.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(o=this._getDateWithTime(o,O.SideEnum.right)),this.setEndDate(o.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())),this.singleDatePicker&&(this.setEndDate(this.startDate),this.updateElement(),this.autoApply&&this.clickApply()),this.updateView(),t.stopPropagation()},qs.prototype.clickRange=function(t,e){var n;(this.chosenRange=e)===this.locale.customRangeLabel?(this.isShown=!0,this.showCalInRanges=!0):(n=this.ranges[e],this.startDate=n[0].clone(),this.endDate=n[1].clone(),this.showRangeLabelOnInput&&e!==this.locale.customRangeLabel?this.chosenLabel=e:this.calculateChosenLabel(),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||(this.isShown=!1),this.rangeClicked.emit({label:e,dates:n}),this.keepCalendarOpeningWithRange?(this.leftCalendar.month.month(n[0].month()),this.leftCalendar.month.year(n[0].year()),this.rightCalendar.month.month(n[1].month()),this.rightCalendar.month.year(n[1].year()),this.updateCalendars(),this.timePicker&&(this.renderTimePicker(O.SideEnum.left),this.renderTimePicker(O.SideEnum.right))):this.clickApply())},qs.prototype.show=function(t){this.isShown||(this._old.start=this.startDate.clone(),this._old.end=this.endDate.clone(),this.isShown=!0,this.updateView())},qs.prototype.hide=function(t){this.isShown&&(this.endDate||(this._old.start&&(this.startDate=this._old.start.clone()),this._old.end&&(this.endDate=this._old.end.clone())),this.startDate.isSame(this._old.start)&&this.endDate.isSame(this._old.end),this.updateElement(),this.isShown=!1,this._ref.detectChanges())},qs.prototype.handleInternalClick=function(t){t.stopPropagation()},qs.prototype.updateLocale=function(t){for(var e in t)t.hasOwnProperty(e)&&(this.locale[e]=t[e])},qs.prototype.clear=function(){this.startDate=js().startOf("day"),this.endDate=js().endOf("day"),this.choosedDate.emit({chosenLabel:"",startDate:null,endDate:null}),this.datesUpdated.emit({startDate:null,endDate:null}),this.hide()},qs.prototype.disableRange=function(t){var e=this;if(t===this.locale.customRangeLabel)return!1;var n=this.ranges[t],t=n.every(function(t){return!!e.minDate&&t.isBefore(e.minDate)}),n=n.every(function(t){return!!e.maxDate&&t.isAfter(e.maxDate)});return t||n},qs.prototype._getDateWithTime=function(t,e){var n=parseInt(this.timepickerVariables[e].selectedHour,10);this.timePicker24Hour||("PM"===(o=this.timepickerVariables[e].ampmModel)&&n<12&&(n+=12),"AM"===o&&12===n&&(n=0));var o=parseInt(this.timepickerVariables[e].selectedMinute,10),e=this.timePickerSeconds?parseInt(this.timepickerVariables[e].selectedSecond,10):0;return t.clone().hour(n).minute(o).second(e)},qs.prototype._buildLocale=function(){this.locale.format||(this.timePicker?this.locale.format=js.localeData().longDateFormat("lll"):this.locale.format=js.localeData().longDateFormat("L"))},qs.prototype._buildCells=function(t,e){for(var n=0;n<6;n++){this.calendarVariables[e].classes[n]={};var o=[];this.emptyWeekRowClass&&!this.hasCurrentMonthDays(this.calendarVariables[e].month,t[n])&&o.push(this.emptyWeekRowClass);for(var i=0;i<7;i++){var r=[];t[n][i].isSame(new Date,"day")&&r.push("today"),5<t[n][i].isoWeekday()&&r.push("weekend"),t[n][i].month()!==t[1][1].month()&&(r.push("off"),this.lastDayOfPreviousMonthClass&&(t[n][i].month()<t[1][1].month()||0===t[1][1].month())&&t[n][i].date()===this.calendarVariables[e].daysInLastMonth&&r.push(this.lastDayOfPreviousMonthClass),this.firstDayOfNextMonthClass&&(t[n][i].month()>t[1][1].month()||0===t[n][i].month())&&1===t[n][i].date()&&r.push(this.firstDayOfNextMonthClass)),this.firstMonthDayClass&&t[n][i].month()===t[1][1].month()&&t[n][i].date()===t.firstDay.date()&&r.push(this.firstMonthDayClass),this.lastMonthDayClass&&t[n][i].month()===t[1][1].month()&&t[n][i].date()===t.lastDay.date()&&r.push(this.lastMonthDayClass),this.minDate&&t[n][i].isBefore(this.minDate,"day")&&r.push("off","disabled"),this.calendarVariables[e].maxDate&&t[n][i].isAfter(this.calendarVariables[e].maxDate,"day")&&r.push("off","disabled"),this.isInvalidDate(t[n][i])&&r.push("off","disabled"),this.startDate&&t[n][i].format("YYYY-MM-DD")===this.startDate.format("YYYY-MM-DD")&&r.push("active","start-date"),null!==this.endDate&&t[n][i].format("YYYY-MM-DD")===this.endDate.format("YYYY-MM-DD")&&r.push("active","end-date"),null!==this.endDate&&t[n][i]>this.startDate&&t[n][i]<this.endDate&&r.push("in-range");var a=this.isCustomDate(t[n][i]);!1!==a&&("string"==typeof a?r.push(a):Array.prototype.push.apply(r,a));for(var s="",l=!1,c=0;c<r.length;c++)s+=r[c]+" ","disabled"===r[c]&&(l=!0);l||(s+="available"),this.calendarVariables[e].classes[n][i]=s.replace(/^\s+|\s+$/g,"")}this.calendarVariables[e].classes[n].classList=o.join(" ")}},qs.prototype.hasCurrentMonthDays=function(t,e){for(var n=0;n<7;n++)if(e[n].month()===t)return!0;return!1},qs.decorators=[{type:c.Component,args:[{selector:"o-daterange-picker",template:'<div class="md-drppicker" #pickerContainer\n[ngClass]="{\n    ltr: locale.direction === \'ltr\',\n    rtl: this.locale.direction === \'rtl\',\n    \'shown\': isShown || inline,\n    \'hidden\': !isShown && !inline,\n    \'inline\': inline,\n    \'double\': !singleDatePicker && showCalInRanges,\n    \'show-ranges\': rangesArray.length\n}" [class]="\'drops-\' + drops + \'-\' + opens">\n    <div class="ranges">\n        <ul>\n          <li *ngFor="let range of rangesArray">\n            <button type="button"\n                    (click)="clickRange($event, range)"\n                    [disabled]="disableRange(range)"\n                    [ngClass]="{\'active\': range === chosenRange}">{{range | oTranslate}}</button>\n          </li>\n        </ul>\n    </div>\n    <div class="calendar" [ngClass]="{right: singleDatePicker, left: !singleDatePicker}"\n        *ngIf="showCalInRanges">\n        <div class="calendar-table">\n            <table class="table-condensed" *ngIf="calendarVariables">\n                <thead>\n                    <tr>\n                        <th *ngIf="showWeekNumbers || showISOWeekNumbers"></th>\n                        <ng-container *ngIf="!calendarVariables.left.minDate || calendarVariables.left.minDate.isBefore(calendarVariables.left.calendar.firstDay) && (!this.linkedCalendars || true)">\n                            <th (click)="clickPrev(sideEnum.left)" class="prev available" >\n                            </th>\n                        </ng-container>\n                        <ng-container *ngIf="!(!calendarVariables.left.minDate || calendarVariables.left.minDate.isBefore(calendarVariables.left.calendar.firstDay) && (!this.linkedCalendars || true))">\n                            <th></th>\n                        </ng-container>\n                        <th colspan="5" class="month drp-animate">\n                            <ng-container *ngIf="showDropdowns && calendarVariables.left.dropdowns">\n                                <div class="dropdowns">\n                                        {{this.locale.monthNames[calendarVariables?.left?.calendar[1][1].month()]}}\n                                        <select class="monthselect" (change)="monthChanged($event, sideEnum.left)">\n                                                <option\n                                                [disabled]="(calendarVariables.left.dropdowns.inMinYear && m < calendarVariables.left.minDate.month()) || (calendarVariables.left.dropdowns.inMaxYear && m > calendarVariables.left.maxDate.month())"\n                                                *ngFor="let m of calendarVariables.left.dropdowns.monthArrays" [value]="m" [selected]="calendarVariables.left.dropdowns.currentMonth == m">\n                                                    {{locale.monthNames[m]}}\n                                                </option>\n                                        </select>\n                                </div>\n                                <div class="dropdowns">\n                                    {{ calendarVariables?.left?.calendar[1][1].format(" YYYY")}}\n                                    <select class="yearselect"  (change)="yearChanged($event, sideEnum.left)">\n                                        <option *ngFor="let y of calendarVariables.left.dropdowns.yearArrays" [selected]="y === calendarVariables.left.dropdowns.currentYear">\n                                            {{y}}\n                                        </option>\n                                    </select>\n                                </div>\n                            </ng-container>\n                            <ng-container *ngIf="!showDropdowns || !calendarVariables.left.dropdowns">\n                                    {{this.locale.monthNames[calendarVariables?.left?.calendar[1][1].month()]}}  {{ calendarVariables?.left?.calendar[1][1].format(" YYYY")}}\n                            </ng-container>\n                        </th>\n                        <ng-container *ngIf="(!calendarVariables.left.maxDate || calendarVariables.left.maxDate.isAfter(calendarVariables.left.calendar.lastDay)) && (!linkedCalendars || singleDatePicker )">\n                            <th class="next available" (click)="clickNext(sideEnum.left)">\n                            </th>\n                        </ng-container>\n                        <ng-container *ngIf="!((!calendarVariables.left.maxDate || calendarVariables.left.maxDate.isAfter(calendarVariables.left.calendar.lastDay)) && (!linkedCalendars || singleDatePicker ))">\n                            <th></th>\n                        </ng-container>\n                    </tr>\n                    <tr class=\'week-days\'>\n                        <th *ngIf="showWeekNumbers || showISOWeekNumbers" class="week"><span>{{this.locale.weekLabel}}</span></th>\n                        <th *ngFor="let dayofweek of locale.daysOfWeek"><span>{{dayofweek}}</span></th>\n                    </tr>\n                </thead>\n                <tbody class="drp-animate">\n                    <tr *ngFor="let row of calendarVariables.left.calRows" [class]="calendarVariables.left.classes[row].classList">\n                        \x3c!-- add week number --\x3e\n                        <td  class="week" *ngIf="showWeekNumbers">\n                            <span>{{calendarVariables.left.calendar[row][0].week()}}</span>\n                        </td>\n                        <td class="week" *ngIf="showISOWeekNumbers">\n                            <span>{{calendarVariables.left.calendar[row][0].isoWeek()}}</span>\n                        </td>\n                        \x3c!-- cal --\x3e\n                        <td *ngFor="let col of calendarVariables.left.calCols" [class]="calendarVariables.left.classes[row][col]" (click)="clickDate($event, sideEnum.left, row, col)">\n                            <span>{{calendarVariables.left.calendar[row][col].date()}}</span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <div class="calendar-time" *ngIf="timePicker">\n            <div class="select">\n                <select class="hourselect select-item" [disabled]="!endDate" [(ngModel)]="timepickerVariables.left.selectedHour" (ngModelChange)="timeChanged($event, sideEnum.left)">\n                    <option *ngFor="let i of timepickerVariables.left.hours"\n                    [value]="i"\n                    [disabled]="timepickerVariables.left.disabledHours.indexOf(i) > -1">{{i}}</option>\n                </select>\n            </div>\n            <div class="select">\n                <select class="select-item minuteselect" [disabled]="!endDate" [(ngModel)]="timepickerVariables.left.selectedMinute" (ngModelChange)="timeChanged($event, sideEnum.left)">\n                    <option *ngFor="let i of timepickerVariables.left.minutes; let index = index;"\n                    [value]="i"\n                    [disabled]="timepickerVariables.left.disabledMinutes.indexOf(i) > -1">{{timepickerVariables.left.minutesLabel[index]}}</option>\n                </select>\n                <span class="select-highlight"></span>\n                <span class="select-bar"></span>\n            </div>\n            <div class="select">\n                <select class="select-item secondselect" *ngIf="timePickerSeconds" [disabled]="!endDate" [(ngModel)]="timepickerVariables.left.selectedSecond" (ngModelChange)="timeChanged($event, sideEnum.left)">\n                    <option *ngFor="let i of timepickerVariables.left.seconds; let index = index;"\n                    [value]="i"\n                    [disabled]="timepickerVariables.left.disabledSeconds.indexOf(i) > -1">{{timepickerVariables.left.secondsLabel[index]}}</option>\n                </select>\n                <span class="select-highlight"></span>\n                <span class="select-bar"></span>\n            </div>\n            <div class="select">\n                <select class="select-item ampmselect" *ngIf="!timePicker24Hour" [(ngModel)]="timepickerVariables.left.ampmModel" (ngModelChange)="timeChanged($event, sideEnum.left)">\n                    <option value="AM" [disabled]="timepickerVariables.left.amDisabled">AM</option>\n                    <option value="PM"  [disabled]="timepickerVariables.left.pmDisabled">PM</option>\n                </select>\n                <span class="select-highlight"></span>\n                <span class="select-bar"></span>\n            </div>\n        </div>\n    </div>\n    <div class="calendar right"\n        *ngIf="showCalInRanges && !singleDatePicker"\n        >\n        <div class="calendar-table">\n            <table class="table-condensed" *ngIf="calendarVariables">\n                <thead>\n                    <tr>\n                        <th *ngIf="showWeekNumbers || showISOWeekNumbers"></th>\n                        <ng-container *ngIf="(!calendarVariables.right.minDate || calendarVariables.right.minDate.isBefore(calendarVariables.right.calendar.firstDay)) && (!this.linkedCalendars)">\n                            <th (click)="clickPrev(sideEnum.right)" class="prev available" >\n                            </th>\n                        </ng-container>\n                        <ng-container *ngIf="!((!calendarVariables.right.minDate || calendarVariables.right.minDate.isBefore(calendarVariables.right.calendar.firstDay)) && (!this.linkedCalendars))">\n                            <th></th>\n                        </ng-container>\n                        <th colspan="5" class="month">\n                            <ng-container *ngIf="showDropdowns && calendarVariables.right.dropdowns">\n                                <div class="dropdowns">\n                                    {{this.locale.monthNames[calendarVariables?.right?.calendar[1][1].month()]}}\n                                    <select class="monthselect" (change)="monthChanged($event, sideEnum.right)">\n                                            <option\n                                            [disabled]="(calendarVariables.right.dropdowns.inMinYear && m < calendarVariables.right.minDate.month()) || (calendarVariables.right.dropdowns.inMaxYear && m > calendarVariables.right.maxDate.month())"\n                                            *ngFor="let m of calendarVariables.right.dropdowns.monthArrays" [value]="m" [selected]="calendarVariables.right.dropdowns.currentMonth == m">\n                                                {{locale.monthNames[m]}}\n                                            </option>\n                                    </select>\n                                </div>\n                                <div class="dropdowns">\n                                        {{ calendarVariables?.right?.calendar[1][1].format(" YYYY")}}\n                                        <select class="yearselect" (change)="yearChanged($event, sideEnum.right)">\n                                        <option *ngFor="let y of calendarVariables.right.dropdowns.yearArrays" [selected]="y === calendarVariables.right.dropdowns.currentYear">\n                                            {{y}}\n                                        </option>\n                                    </select>\n                                </div>\n                            </ng-container>\n                            <ng-container *ngIf="!showDropdowns || !calendarVariables.right.dropdowns">\n                                    {{this.locale.monthNames[calendarVariables?.right?.calendar[1][1].month()]}}  {{ calendarVariables?.right?.calendar[1][1].format(" YYYY")}}\n                            </ng-container>\n                        </th>\n                            <ng-container *ngIf="!calendarVariables.right.maxDate || calendarVariables.right.maxDate.isAfter(calendarVariables.right.calendar.lastDay) && (!linkedCalendars || singleDatePicker || true)">\n                                <th class="next available" (click)="clickNext(sideEnum.right)">\n                                </th>\n                            </ng-container>\n                            <ng-container *ngIf="!(!calendarVariables.right.maxDate || calendarVariables.right.maxDate.isAfter(calendarVariables.right.calendar.lastDay) && (!linkedCalendars || singleDatePicker || true))">\n                                <th></th>\n                            </ng-container>\n                    </tr>\n\n                    <tr>\n                        <th *ngIf="showWeekNumbers || showISOWeekNumbers" class="week"><span>{{this.locale.weekLabel}}</span></th>\n                        <th *ngFor="let dayofweek of locale.daysOfWeek"><span>{{dayofweek}}</span></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor="let row of calendarVariables.right.calRows" [class]="calendarVariables.right.classes[row].classList">\n                        <td class="week" *ngIf="showWeekNumbers">\n                            <span>{{calendarVariables.right.calendar[row][0].week()}}</span>\n                        </td>\n                        <td class="week" *ngIf="showISOWeekNumbers">\n                            <span>{{calendarVariables.right.calendar[row][0].isoWeek()}}</span>\n                        </td>\n                        <td *ngFor="let col of calendarVariables.right.calCols" [class]="calendarVariables.right.classes[row][col]" (click)="clickDate($event, sideEnum.right, row, col)">\n                            <span>{{calendarVariables.right.calendar[row][col].date()}}</span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <div class="calendar-time" *ngIf="timePicker">\n            <div class="select">\n                <select class="select-item hourselect" [disabled]="!endDate" [(ngModel)]="timepickerVariables.right.selectedHour" (ngModelChange)="timeChanged($event, sideEnum.right)">\n                    <option *ngFor="let i of timepickerVariables.right.hours"\n                    [value]="i"\n                    [disabled]="timepickerVariables.right.disabledHours.indexOf(i) > -1">{{i}}</option>\n                </select>\n                <span class="select-highlight"></span>\n                <span class="select-bar"></span>\n            </div>\n            <div class="select">\n                <select class="select-item minuteselect" [disabled]="!endDate" [(ngModel)]="timepickerVariables.right.selectedMinute" (ngModelChange)="timeChanged($event, sideEnum.right)">\n                    <option *ngFor="let i of timepickerVariables.right.minutes; let index = index;"\n                    [value]="i"\n                    [disabled]="timepickerVariables.right.disabledMinutes.indexOf(i) > -1">{{timepickerVariables.right.minutesLabel[index]}}</option>\n                </select>\n                <span class="select-highlight"></span>\n                <span class="select-bar"></span>\n            </div>\n            <div class="select">\n                <select *ngIf="timePickerSeconds" class="select-item secondselect" [disabled]="!endDate" [(ngModel)]="timepickerVariables.right.selectedSecond" (ngModelChange)="timeChanged($event, sideEnum.right)">\n                    <option *ngFor="let i of timepickerVariables.right.seconds; let index = index;"\n                    [value]="i"\n                    [disabled]="timepickerVariables.right.disabledSeconds.indexOf(i) > -1">{{timepickerVariables.right.secondsLabel[index]}}</option>\n                </select>\n                <span class="select-highlight"></span>\n                <span class="select-bar"></span>\n            </div>\n            <div class="select">\n                <select *ngIf="!timePicker24Hour" class="select-item ampmselect" [(ngModel)]="timepickerVariables.right.ampmModel" (ngModelChange)="timeChanged($event, sideEnum.right)">\n                    <option value="AM" [disabled]="timepickerVariables.right.amDisabled">AM</option>\n                    <option value="PM"  [disabled]="timepickerVariables.right.pmDisabled">PM</option>\n                </select>\n                <span class="select-highlight"></span>\n                <span class="select-bar"></span>\n            </div>\n        </div>\n    </div>\n    <div class="buttons" *ngIf="!autoApply && ( !rangesArray.length || (showCalInRanges && !singleDatePicker))">\n        <div class="buttons_input">\n            <button  *ngIf="showClearButton" class="mat-primary mat-stroked-button clear" type="button" (click)="clear()" title="clear the date">\n                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 -5 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>\n            </button>\n            <button class="mat-primary mat-stroked-button" *ngIf="showCancel" type="button" (click)="clickCancel($event)">{{locale.cancelLabel}}</button>\n            <button class="mat-primary mat-stroked-button"  [disabled]="applyBtn.disabled" type="button" (click)="clickApply($event)">{{locale.applyLabel}}</button>\n        </div>\n    </div>\n</div>\n',host:{"(click)":"handleInternalClick($event)"},encapsulation:c.ViewEncapsulation.None,providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return qs}),multi:!0}],styles:[".md-drppicker{position:absolute;border-radius:4px;width:278px;padding:4px;margin-top:-10px;overflow:hidden;z-index:1000;font-size:13px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16),0 2px 8px 0 rgba(0,0,0,.12)}.md-drppicker.double{width:auto}.md-drppicker.inline{position:relative;display:inline-block}.md-drppicker:after,.md-drppicker:before{position:absolute;display:inline-block;content:''}.md-drppicker.openscenter:after,.md-drppicker.openscenter:before{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.single .calendar,.md-drppicker.single .ranges{float:none}.md-drppicker.shown{transform:scale(1);transition:.1s ease-in-out;transform-origin:0 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.md-drppicker.shown.drops-up-left{transform-origin:100% 100%}.md-drppicker.shown.drops-up-right{transform-origin:0 100%}.md-drppicker.shown.drops-down-left{transform-origin:100% 0}.md-drppicker.shown.drops-down-right{transform-origin:0 0}.md-drppicker.shown.drops-down-center{transform-origin:NaN}.md-drppicker.shown.drops-up-center{transform-origin:50%}.md-drppicker.shown .calendar{display:block}.md-drppicker.hidden{transition:.1s;transform:scale(0);transform-origin:0 0;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.md-drppicker.hidden.drops-up-left{transform-origin:100% 100%}.md-drppicker.hidden.drops-up-right{transform-origin:0 100%}.md-drppicker.hidden.drops-down-left{transform-origin:100% 0}.md-drppicker.hidden.drops-down-right{transform-origin:0 0}.md-drppicker.hidden.drops-down-center{transform-origin:NaN}.md-drppicker.hidden.drops-up-center{transform-origin:50%}.md-drppicker.hidden .calendar{display:none}.md-drppicker .calendar{max-width:270px;margin:4px}.md-drppicker .calendar.single .calendar-table{border:none}.md-drppicker .calendar td,.md-drppicker .calendar th{padding:0;white-space:nowrap;text-align:center;height:36px;width:36px}.md-drppicker .calendar td span,.md-drppicker .calendar th span{pointer-events:none}.md-drppicker .calendar-table{border-style:1px solid;padding:4px;border-radius:4px}.md-drppicker table{width:100%;margin:0}.md-drppicker td,.md-drppicker th{text-align:center;border-radius:4px;border-style:1px solid;white-space:nowrap;cursor:pointer;height:2em;width:2em}.md-drppicker td.available.prev,.md-drppicker th.available.prev{display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s;border-radius:2em}.md-drppicker td.available.prev:hover,.md-drppicker th.available.prev:hover{margin:0}.md-drppicker td.available.next,.md-drppicker th.available.next{transform:rotate(180deg);display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s;border-radius:2em}.md-drppicker td.available.next:hover,.md-drppicker th.available.next:hover{margin:0;transform:rotate(180deg)}.md-drppicker td.available:hover,.md-drppicker th.available:hover{background-repeat:no-repeat;background-size:.5em;background-position:center;margin:.25em 0;opacity:.8;border-radius:2em;transform:scale(1);transition:450ms cubic-bezier(.23,1,.32,1) 0}.md-drppicker td.week,.md-drppicker th.week{font-size:80%}.md-drppicker td{margin:.25em 0;opacity:.8;transition:450ms cubic-bezier(.23,1,.32,1) 0;border-radius:2em;transform:scale(1)}.md-drppicker td.in-range{border-radius:0}.md-drppicker td.start-date{border-radius:2em 0 0 2em}.md-drppicker td.end-date{border-radius:0 2em 2em 0}.md-drppicker td.start-date.end-date{border-radius:4px}.md-drppicker th.month{width:auto}.md-drppicker option.disabled,.md-drppicker td.disabled{cursor:not-allowed;text-decoration:line-through}.md-drppicker .dropdowns{background-repeat:no-repeat;background-size:10px;background-position-y:center;background-position-x:right;width:50px;background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDI1NSAyNTUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI1NSAyNTU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iYXJyb3ctZHJvcC1kb3duIj4KCQk8cG9seWdvbiBwb2ludHM9IjAsNjMuNzUgMTI3LjUsMTkxLjI1IDI1NSw2My43NSAgICIgZmlsbD0iIzk4OGM4YyIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=)}.md-drppicker .dropdowns select{display:inline-block;width:100%;padding:5px;border:1px solid;border-radius:2px;height:3rem}.md-drppicker .dropdowns select.ampmselect,.md-drppicker .dropdowns select.hourselect,.md-drppicker .dropdowns select.minuteselect,.md-drppicker .dropdowns select.secondselect{width:50px;margin:0 auto;border-style:1px solid;padding:2px;outline:0;font-size:12px}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{font-size:12px;height:auto;cursor:pointer;opacity:0;position:absolute;top:0;left:0;margin:0;padding:0}.md-drppicker th.month>div{position:relative;display:inline-block}.md-drppicker .calendar-time{text-align:center;margin:4px auto 0;line-height:30px;position:relative}.md-drppicker .calendar-time .select{display:inline}.md-drppicker .calendar-time .select .select-item{display:inline-block;width:auto;position:relative;font-family:inherit;background-color:transparent;padding:10px 10px 10px 0;font-size:18px;border-radius:0;border:none;border-bottom-style:1px solid}.md-drppicker .calendar-time .select .select-item:after{position:absolute;top:18px;right:10px;width:0;height:0;padding:0;content:'';border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,.12);pointer-events:none}.md-drppicker .calendar-time .select .select-item:focus{outline:0}.md-drppicker .calendar-time .select .select-item .select-label{font-size:16px;font-weight:400;position:absolute;pointer-events:none;left:0;top:10px;transition:.2s}.md-drppicker .calendar-time select.disabled{cursor:not-allowed}.md-drppicker .label-input{border-style:1px solid;border-radius:4px;height:30px;line-height:30px;display:block;vertical-align:middle;margin:0 auto 5px;padding:0 0 0 28px;width:100%}.md-drppicker .label-input.active{border-style:1px solid;border-radius:4px}.md-drppicker .md-drppicker_input{position:relative;padding:0 30px 0 0}.md-drppicker .md-drppicker_input i,.md-drppicker .md-drppicker_input svg{position:absolute;left:8px;top:8px}.md-drppicker.rtl .label-input{padding-right:28px;padding-left:6px}.md-drppicker.rtl .md-drppicker_input i,.md-drppicker.rtl .md-drppicker_input svg{left:auto;right:8px}.md-drppicker .show-ranges .drp-calendar.left{border-left-style:1px solid}.md-drppicker .ranges{float:none;text-align:left;margin:0}.md-drppicker .ranges ul{list-style:none;margin:0 auto;padding:0;width:100%}.md-drppicker .ranges ul li{font-size:12px}.md-drppicker .ranges ul li button{padding:8px 12px;width:100%;background:0 0;border:none;text-align:left;cursor:pointer}.md-drppicker .ranges ul li button[disabled]{opacity:.3}.md-drppicker .ranges ul li button:active{background:0 0}.md-drppicker .show-calendar .ranges{margin-top:8px}.md-drppicker [hidden]{display:none}.md-drppicker .buttons{text-align:right;margin:0 5px 5px 0}.md-drppicker .btn{position:relative;overflow:hidden;border-width:0;outline:0;padding:0 6px;cursor:pointer;border-radius:2px;box-shadow:0 1px 4px rgba(0,0,0,.6);color:#ecf0f1;transition:background-color .4s;height:auto;text-transform:uppercase;line-height:36px;border:none}.md-drppicker .btn>*{position:relative}.md-drppicker .btn span{display:block;padding:12px 24px}.md-drppicker .btn:before{content:\"\";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;transform:translate(-50%,-50%)}.md-drppicker .btn:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.md-drppicker .btn:disabled{opacity:.5}.md-drppicker .clear{box-shadow:none}.md-drppicker .clear svg{fill:currentColor}@media (min-width:564px){.md-drppicker{width:auto}.md-drppicker.single .calendar.left{clear:none}.md-drppicker.ltr{direction:ltr;text-align:left}.md-drppicker.ltr .calendar.left{clear:left}.md-drppicker.ltr .calendar.left .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;padding-right:12px}.md-drppicker.ltr .calendar.right{margin-left:0}.md-drppicker.ltr .calendar.right .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.ltr .left .md-drppicker_input,.md-drppicker.ltr .right .md-drppicker_input{padding-right:35px}.md-drppicker.ltr .calendar,.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl{direction:rtl;text-align:right}.md-drppicker.rtl .calendar.left{clear:right;margin-left:0}.md-drppicker.rtl .calendar.left .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.rtl .calendar.right{margin-right:0}.md-drppicker.rtl .calendar.right .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.rtl .calendar.left .calendar-table,.md-drppicker.rtl .left .md-drppicker_input{padding-left:12px}.md-drppicker.rtl .calendar,.md-drppicker.rtl .ranges{text-align:right;float:right}.drp-animate{transform:translate(0);transition:transform .2s,opacity .2s}.drp-animate.drp-picker-site-this{transition-timing-function:linear}.drp-animate.drp-animate-right{transform:translateX(10%);opacity:0}.drp-animate.drp-animate-left{transform:translateX(-10%);opacity:0}}@media (min-width:730px){.md-drppicker .ranges{width:auto}.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl .ranges{float:right}.md-drppicker .calendar.left{clear:none!important}}"]}]}],qs.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},qs.propDecorators={dateLimit:[{type:c.Input}],minDate:[{type:c.Input}],maxDate:[{type:c.Input}],autoApply:[{type:c.Input}],singleDatePicker:[{type:c.Input}],showDropdowns:[{type:c.Input}],showISOWeekNumbers:[{type:c.Input}],linkedCalendars:[{type:c.Input}],autoUpdateInput:[{type:c.Input}],alwaysShowCalendars:[{type:c.Input}],maxSpan:[{type:c.Input}],timePicker:[{type:c.Input}],timePicker24Hour:[{type:c.Input}],timePickerIncrement:[{type:c.Input}],timePickerSeconds:[{type:c.Input}],showClearButton:[{type:c.Input}],firstMonthDayClass:[{type:c.Input}],lastMonthDayClass:[{type:c.Input}],emptyWeekRowClass:[{type:c.Input}],firstDayOfNextMonthClass:[{type:c.Input}],lastDayOfPreviousMonthClass:[{type:c.Input}],locale:[{type:c.Input}],ranges:[{type:c.Input}],showCustomRangeLabel:[{type:c.Input}],showCancel:[{type:c.Input}],keepCalendarOpeningWithRange:[{type:c.Input}],showRangeLabelOnInput:[{type:c.Input}],drops:[{type:c.Input}],opens:[{type:c.Input}],choosedDate:[{type:c.Output}],rangeClicked:[{type:c.Output}],datesUpdated:[{type:c.Output}],pickerContainer:[{type:c.ViewChild,args:["pickerContainer",{"static":!1}]}],isInvalidDate:[{type:c.Input}],isCustomDate:[{type:c.Input}]},D([tt(),L("design:type",Boolean)],qs.prototype,"showWeekNumbers",void 0),qs);function qs(t){this._ref=t,this._old={start:null,end:null},this.calendarVariables={left:{},right:{}},this.timepickerVariables={left:{},right:{}},this.daterangepicker={start:new i.FormControl,end:new i.FormControl},this.applyBtn={disabled:!1},this.startDate=js().startOf("day"),this.endDate=js().endOf("day"),this.dateLimit=null,this.sideEnum=O.SideEnum,this.minDate=null,this.maxDate=null,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.linkedCalendars=!1,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.maxSpan=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.showClearButton=!1,this.firstMonthDayClass=null,this.lastMonthDayClass=null,this.emptyWeekRowClass=null,this.firstDayOfNextMonthClass=null,this.lastDayOfPreviousMonthClass=null,this._ranges={},this.showCancel=!1,this.keepCalendarOpeningWithRange=!1,this.showRangeLabelOnInput=!1,this.rangesArray=[],this.isShown=!1,this.inline=!0,this.leftCalendar={},this.rightCalendar={},this.showCalInRanges=!1,this.options={},this.choosedDate=new c.EventEmitter,this.rangeClicked=new c.EventEmitter,this.datesUpdated=new c.EventEmitter}var Hs=t,Ys=(Object.defineProperty(zs.prototype,"separator",{set:function(t){null!==t&&(this._separator=t,this._locale&&(this._locale.separator=t))},enumerable:!0,configurable:!0}),Object.defineProperty(zs.prototype,"locale",{get:function(){return this._locale},set:function(t){null!==t&&(this._locale=t,this._separator&&(this._locale.separator=this._separator))},enumerable:!0,configurable:!0}),Object.defineProperty(zs.prototype,"startKey",{get:function(){return this._startKey},set:function(t){this._startKey=t&&null!==t?t:"startDate"},enumerable:!0,configurable:!0}),Object.defineProperty(zs.prototype,"endKey",{get:function(){return this._endKey},set:function(t){this._endKey=t&&null!==t?t:"endDate"},enumerable:!0,configurable:!0}),Object.defineProperty(zs.prototype,"value",{get:function(){return this._value||null},set:function(t){this._value=t,this._onChange(t),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),zs.prototype.initializeListeners=function(t){var n=this;t.rangeClicked.asObservable().subscribe(function(t){n.rangeClicked.emit(t)}),t.datesUpdated.asObservable().subscribe(function(t){n.datesUpdated.emit(t)}),t.choosedDate.asObservable().subscribe(function(t){var e;t&&((e={})[n._startKey]=t.startDate,e[n._endKey]=t.endDate,n.value=e,n.onChange.emit(e),"string"==typeof t.chosenLabel&&(n._el.nativeElement.value=t.chosenLabel))}),t.firstMonthDayClass=this.firstMonthDayClass,t.lastMonthDayClass=this.lastMonthDayClass,t.emptyWeekRowClass=this.emptyWeekRowClass,t.firstDayOfNextMonthClass=this.firstDayOfNextMonthClass,t.lastDayOfPreviousMonthClass=this.lastDayOfPreviousMonthClass,t.drops=this.drops,t.opens=this.opens,t.minDate=this.minDate,t.maxDate=this.maxDate,t.locale=this.locale,t.showWeekNumbers=this.showWeekNumbers,this.showRanges&&(t.ranges=this.ranges,t.keepCalendarOpeningWithRange=!0,t.alwaysShowCalendars=!0),this.localeDiffer=this.differs.find(this.locale).create()},zs.prototype.onBlur=function(){this._onTouched()},zs.prototype.open=function(){this.oTouchUi?this.openAsDialog():this.openAsPopup()},zs.prototype.ngOnDestroy=function(){this.close(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)},zs.prototype.clear=function(){this._popupComponentRef.instance.clear()},zs.prototype.writeValue=function(t){this.setValue(t)},zs.prototype.registerOnChange=function(t){this._onChange=t},zs.prototype.registerOnTouched=function(t){this._onTouched=t},zs.prototype.setValueInDateComponent=function(t,e){e?(e[this._startKey]&&t.setStartDate(e[this._startKey]),e[this._endKey]&&t.setEndDate(e[this._endKey]),t.calculateChosenLabel(),t.chosenLabel&&(this._el.nativeElement.value=t.chosenLabel)):t.clear()},zs.prototype.setValue=function(t){t&&(this.value=t)},zs.prototype.openAsPopup=function(){var t=this;this._calendarPortal||(this._calendarPortal=new m.ComponentPortal(Gs,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._calendarPortal),this.initializeListeners(this._popupComponentRef.instance),this.value&&this.setValueInDateComponent(this._popupComponentRef.instance,this.value),this._ngZone.onStable.asObservable().pipe(l.take(1)).subscribe(function(){t._popupRef.updatePosition()}))},zs.prototype._createPopup=function(){var e=this,t=new r.OverlayConfig({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:"ltr",panelClass:"o-daterangepicker-popup",scrollStrategy:this.scrollStrategy.close()});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),u.merge(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(l.filter(function(t){return t.keyCode===g.ESCAPE||e._el&&t.altKey&&t.keyCode===g.UP_ARROW}))).subscribe(function(){return e.close()})},zs.prototype._createPopupPositionStrategy=function(){return this._overlay.position().flexibleConnectedTo(this._el).withViewportMargin(8).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])},zs.prototype.openAsDialog=function(){var t=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(Gs,{direction:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog"}),this.initializeListeners(this._dialogRef.componentInstance),this.value&&this.setValueInDateComponent(this._dialogRef.componentInstance,this.value),this._dialogRef.afterClosed().subscribe(function(){return t.close()})},zs.prototype.close=function(){this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&this._dialogRef.close(),this._calendarPortal&&this._calendarPortal.isAttached&&this._calendarPortal.detach()},zs.decorators=[{type:c.Directive,args:[{selector:"input[o-daterange-input]",host:{"(keyup.esc)":"close()","(blur)":"onBlur()"},providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return zs}),multi:!0}]}]}],zs.ctorParameters=function(){return[{type:d.MatDialog},{type:c.NgZone},{type:r.Overlay},{type:c.ViewContainerRef},{type:c.ChangeDetectorRef},{type:c.ElementRef},{type:c.KeyValueDiffers},{type:r.ScrollStrategyOptions}]},zs.propDecorators={minDate:[{type:c.Input}],maxDate:[{type:c.Input}],showCustomRangeLabel:[{type:c.Input}],linkedCalendars:[{type:c.Input}],dateLimit:[{type:c.Input}],singleDatePicker:[{type:c.Input}],showWeekNumbers:[{type:c.Input}],showISOWeekNumbers:[{type:c.Input}],showDropdowns:[{type:c.Input}],isInvalidDate:[{type:c.Input}],isCustomDate:[{type:c.Input}],opens:[{type:c.Input}],drops:[{type:c.Input}],lastMonthDayClass:[{type:c.Input}],emptyWeekRowClass:[{type:c.Input}],firstDayOfNextMonthClass:[{type:c.Input}],lastDayOfPreviousMonthClass:[{type:c.Input}],keepCalendarOpeningWithRange:[{type:c.Input}],showRangeLabelOnInput:[{type:c.Input}],showCancel:[{type:c.Input}],timePicker:[{type:c.Input}],showRanges:[{type:c.Input}],timePicker24Hour:[{type:c.Input}],timePickerIncrement:[{type:c.Input}],timePickerSeconds:[{type:c.Input}],separator:[{type:c.Input}],locale:[{type:c.Input}],_endKey:[{type:c.Input}],oTouchUi:[{type:c.Input}],startKey:[{type:c.Input}],endKey:[{type:c.Input}],onChange:[{type:c.Output}],rangeClicked:[{type:c.Output}],datesUpdated:[{type:c.Output}]},zs);function zs(t,e,n,o,i,r,a,s){this._dialog=t,this._ngZone=e,this._overlay=n,this._viewContainerRef=o,this._changeDetectorRef=i,this._el=r,this.differs=a,this.scrollStrategy=s,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this.minDate=null,this.maxDate=null,this.dateLimit=null,this.showCancel=!1,this.timePicker=!1,this.showRanges=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this._endKey="endDate",this._startKey="startDate",this.ranges={"DATERANGE.today":[Hs(),Hs()],"DATERANGE.yesterday":[Hs().subtract(1,"days"),Hs().subtract(1,"days")],"DATERANGE.last_7days":[Hs().subtract(6,"days"),Hs()],"DATERANGE.last_30days":[Hs().subtract(29,"days"),Hs()],"DATERANGE.this_month":[Hs().startOf("month"),Hs().endOf("month")],"DATERANGE.last_month":[Hs().subtract(1,"month").startOf("month"),Hs().subtract(1,"month").endOf("month")],"DATERANGE.this_year":[Hs().startOf("year"),Hs().endOf("year")]},this.oTouchUi=!1,this.notForChangesProperty=["locale","endKey","startKey"],this.onChange=new c.EventEmitter,this.rangeClicked=new c.EventEmitter,this.datesUpdated=new c.EventEmitter,this.drops="down",this.opens="right"}var Ks,Ws=w(is),Qs=w(["separator","showWeekNumbers:show-week-numbers","showRanges:show-ranges","olocale:locale","startKey","endKey","valueType: value-type"],Fs),Xs=t,$s=(_(Zs,Ks=Pe),Object.defineProperty(Zs.prototype,"oMinDate",{get:function(){return this._oMinDate},set:function(t){this._oMinDate=Xs(t,this.oformat)},enumerable:!0,configurable:!0}),Object.defineProperty(Zs.prototype,"oMaxDate",{get:function(){return this._oMaxDate},set:function(t){this._oMaxDate=Xs(t,this.oformat)},enumerable:!0,configurable:!0}),Object.defineProperty(Zs.prototype,"startKey",{get:function(){return this._startKey},set:function(t){this._startKey=t},enumerable:!0,configurable:!0}),Object.defineProperty(Zs.prototype,"endKey",{get:function(){return this._endKey},set:function(t){this._endKey=t},enumerable:!0,configurable:!0}),Object.defineProperty(Zs.prototype,"separator",{get:function(){return this._separator},set:function(t){this._separator=t,this.getFormControl()&&this.getFormControl().value&&this.updateElement()},enumerable:!0,configurable:!0}),Object.defineProperty(Zs.prototype,"showClearButton",{get:function(){return this.clearButton&&!this.isReadOnly&&this.enabled&&this.matInputRef.nativeElement.value},enumerable:!0,configurable:!0}),Object.defineProperty(Zs.prototype,"localeOptions",{get:function(){return this._localeOptions},enumerable:!0,configurable:!0}),Zs.prototype.ngOnInit=function(){Ks.prototype.ngOnInit.call(this),this.oformat&&(this._localeOptions.format=this.oformat)},Zs.prototype.openPicker=function(){this.pickerDirective.open()},Zs.prototype.onChangeEvent=function(t){var e,n;t instanceof Event?""!==(n=t.target.value)&&(e=this.getDateRangeToString(n)):e=t,this.setValue(e,{changeType:Re.USER_CHANGE,emitEvent:!1,emitModelToViewChange:!1})},Zs.prototype.setValue=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=!1),Ks.prototype.setValue.call(this,t,e,n),this.updateElement()},Zs.prototype.onClickClearValue=function(t){Ks.prototype.onClickClearValue.call(this,t),this.pickerDirective.value=undefined,this.pickerDirective.datesUpdated.emit()},Zs.prototype.datesUpdated=function(t){this.pickerDirective.close(),this.setValue(t,{changeType:Re.USER_CHANGE,emitEvent:!1,emitModelToViewChange:!1})},Zs.prototype.setData=function(t){Ks.prototype.setData.call(this,t),this.pickerDirective.datesUpdated.emit(t),this.updateElement()},Zs.prototype.updateElement=function(){var t;k.isDefined(this.value)&&k.isDefined(this.value.value)&&!this.isObjectDataRangeNull(this.value)?t=this.value.value[this.pickerDirective.startKey]&&this.value.value[this.pickerDirective.endKey]?(this.value.value[this.pickerDirective.startKey]=this.ensureDateRangeValue(this.value.value[this.pickerDirective.startKey],this._valueType),this.value.value[this.pickerDirective.endKey]=this.ensureDateRangeValue(this.value.value[this.pickerDirective.endKey],this._valueType),this.value.value[this.pickerDirective.startKey].format(this.oformat)+this.separator+this.value.value[this.pickerDirective.endKey].format(this.oformat)):null:(t=null,this.pickerDirective.value=undefined),this.pickerDirective._el.nativeElement.value=t},Zs.prototype.getDateRangeToString=function(t){var e={},t=t.split(this.separator);return e[this._startKey]=Xs(t[0].trim(),this.oformat),e[this._endKey]=Xs(t[1].trim(),this.oformat),e},Zs.prototype.resolveValidators=function(){var t=Ks.prototype.resolveValidators.call(this);return t.push(this.rangeDateValidator.bind(this)),k.isDefined(this._oMinDate)&&t.push(this.minDateValidator.bind(this)),k.isDefined(this._oMaxDate)&&t.push(this.maxDateValidator.bind(this)),t.push(this.parseDateValidator.bind(this)),t},Zs.prototype.isObjectDataRangeNull=function(t){return null!==t&&null!==t.value&&!k.isDefined(t.value[this.pickerDirective.startKey])&&!k.isDefined(t.value[this.pickerDirective.endKey])},Zs.prototype.rangeDateValidator=function(t){return t.value instanceof Object&&!this.isObjectDataRangeNull(t)&&t.value[this._endKey].isSameOrBefore(t.value[this._startKey])?{dateRange:!0}:{}},Zs.prototype.minDateValidator=function(t){var e=Xs(this._oMinDate);return t.value instanceof Object&&!this.isObjectDataRangeNull(t)&&t.value[this._startKey].isBefore(e)?{dateRangeMin:{dateMin:e.format(this.oformat)}}:{}},Zs.prototype.maxDateValidator=function(t){var e=Xs(this._oMaxDate);return t.value instanceof Object&&!this.isObjectDataRangeNull(t)&&t.value[this._endKey].isAfter(e)?{dateRangeMax:{dateMax:e.format(this.oformat)}}:{}},Zs.prototype.parseDateValidator=function(t){return t.value instanceof Object&&!this.isObjectDataRangeNull(t)&&(t.value[this._startKey]&&!t.value[this._startKey].isValid()||t.value[this._endKey]&&!t.value[this._endKey].isValid())?{dateRangeParse:{format:this.oformat+this._localeOptions.separator+this.oformat}}:{}},Zs.prototype.ensureDateRangeValue=function(t,e){if(!k.isDefined(t))return t;var n,o,i=t;if(!Xs.isMoment(t))switch(e){case"string":case"date":i=t instanceof Date||"string"==typeof t?(o=Xs(t).format("YYYY-MM-DDThh:mm")+"Z",(n=Xs(o)).isValid()?n:undefined):undefined;break;case"timestamp":i="number"==typeof t?(o=Xs.unix(t).format("YYYY-MM-DDThh:mm")+"Z",(r=Xs(o)).isValid()?r:undefined):t;break;case"iso-8601":var r=Xs(t);i=r.isValid()?r:undefined}return k.isDefined(i)||console.warn("ODateRangeInputComponent value ("+t+") is not consistent with value-type ("+e+")"),i},Object.defineProperty(Zs.prototype,"valueType",{get:function(){return this._valueType},set:function(t){this._valueType=k.convertToODateValueType(t)},enumerable:!0,configurable:!0}),Zs.decorators=[{type:c.Component,args:[{selector:"o-daterange-input",template:'<div fxLayout="row" fxLayoutAlign="space-between center" [formGroup]="getFormGroup()" [matTooltip]="tooltip"\n  [matTooltipClass]="tooltipClass" [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay">\n\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.custom-width]="hasCustomWidth" class="icon-field" fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input #matInputRef matInput type="text" o-daterange-input [id]="getAttribute()" [formControlName]="getAttribute()"\n      [required]="isRequired" [placeholder]="placeHolder" [readonly]="isReadOnly || !textInputEnabled"\n      showDropdowns="true" showCancel="true" [showRanges]="showRanges" \n      (datesUpdated)="datesUpdated($event)" [oTouchUi]="oTouchUi" [minDate]="oMinDate" [maxDate]="oMaxDate"\n      (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" (change)="onChangeEvent($event)" [locale]="localeOptions"  [separator]="separator"\n      [startKey]="startKey" [endKey]="endKey" [showWeekNumbers]="showWeekNumbers">\n    <button type="button" matSuffix mat-icon-button (click)="openPicker()" [disabled]="isReadOnly || !enabled">\n      <mat-icon>today</mat-icon>\n    </button>\n\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)"\n      [disabled]="isReadOnly || !enabled">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'dateRange\')" text="{{ \'FORM_VALIDATION.DATERANGE_INVALID\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'dateRangeParse\')"\n      text="{{ \'FORM_VALIDATION.DATE_PARSE\' | oTranslate }} : {{ getErrorValue(\'dateRangeParse\', \'format\') }}">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'dateRangeMin\')"\n      text="{{ \'FORM_VALIDATION.DATERANGE_MIN\' | oTranslate }} : {{ getErrorValue(\'dateRangeMin\', \'dateMin\') }}">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'dateRangeMax\')"\n      text="{{ \'FORM_VALIDATION.DATERANGE_MAX\' | oTranslate }} : {{ getErrorValue(\'dateRangeMax\', \'dateMax\') }}">\n    </mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',outputs:Ws,inputs:Qs,styles:[""]}]}],Zs.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},Zs.propDecorators={pickerDirective:[{type:c.ViewChild,args:[Ys,{"static":!0}]}],matInputRef:[{type:c.ViewChild,args:["matInputRef",{read:c.ElementRef,"static":!0}]}]},D([tt(),L("design:type",Boolean)],Zs.prototype,"textInputEnabled",void 0),D([tt(),L("design:type",Boolean)],Zs.prototype,"showWeekNumbers",void 0),D([tt(),L("design:type",Boolean)],Zs.prototype,"oTouchUi",void 0),D([tt(),L("design:type",Boolean)],Zs.prototype,"showRanges",void 0),Zs);function Zs(t,e,n){n=Ks.call(this,t,e,n)||this;return n.textInputEnabled=!0,n.showWeekNumbers=!1,n.oTouchUi=!1,n.showRanges=!1,n._startKey="startDate",n._endKey="endDate",n._valueType="timestamp",n._separator=" - ",n.oformat="L",n.oTranslate=n.injector.get(Ae),n.momentSrv=n.injector.get(Wt),n.olocale||(n.olocale=n.momentSrv.getLocale(),Xs.locale(n.olocale)),n._localeOptions={direction:"ltr",separator:" - ",weekLabel:n.oTranslate.get("DATERANGE.W"),applyLabel:n.oTranslate.get("DATERANGE.APPLYLABEL"),cancelLabel:n.oTranslate.get("CANCEL"),customRangeLabel:"Custom range",daysOfWeek:Xs.localeData().weekdaysMin(),monthNames:Xs.localeData().monthsShort(),firstDay:Xs.localeData().firstDayOfWeek(),format:"L"},n}var Js=(tl.decorators=[{type:c.NgModule,args:[{declarations:[Gs,$s,Ys],imports:[n.CommonModule,Hn],exports:[$s],entryComponents:[Gs]}]}],tl);function tl(){}var el=/[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/,nl="^(([0-9]|([01]?[0-9])):([0-9]|([0-5][0-9])) *([AaPp][Mm])*)$",ol="^([0-9]|([01]?[0-9]|2[0-3])):[0-9]|([0-5][0-9])$",il=(rl.twelveHourFormatValidator=function(t){var e=new RegExp(nl);return t.value&&"string"==typeof t.value&&!e.test(t.value)?{invalidFormatHour:!0}:{}},rl.twentyFourHourFormatValidator=function(t){var e=new RegExp(ol);return t.value&&"string"==typeof t.value&&!e.test(t.value)?{invalidFormatHour:!0}:{}},rl.emailValidator=function(t){return t.value&&0<t.value.length&&!el.test(t.value)?{invalidEmailAddress:!0}:{}},rl.nifValidator=function(t){var e,n=t.value,o=new RegExp("^(([0-9]{8})([-]?)([a-zA-Z]{1}))$|^(([x-zX-Z]{1})([-]?)([0-9]{7})([-]?)([a-zA-Z]{1}))$"),i="";for(e in n)"-"!==n[e]&&(i+=n[e]);if(1<i.length){t=i.charAt(0);if(-1!=="0123456789".indexOf(t)){t=i.substring(0,i.length-1),t=parseInt(t,10)%23;if("TRWAGMYFPDXBNJZSQVHLCKET".substring(t,1+t)!==i.charAt(i.length-1).toUpperCase())return{invalidNIFLetter:!0};if(!o.test(i))return{invalidNIF:!0}}else if(!o.test(i))return{invalidNIF:!0}}return undefined},rl);function rl(){}var al,sl=w(os),ll=w(is),cl=(_(ul,al=rs),ul.prototype.resolveValidators=function(){var t=al.prototype.resolveValidators.call(this);return t.push(il.emailValidator),t},ul.decorators=[{type:c.Component,args:[{selector:"o-email-input",template:'<div fxLayout="row" fxLayoutAlign="space-between center" [formGroup]="getFormGroup()" [matTooltip]="tooltip"\n  [matTooltipClass]="tooltipClass" [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.custom-width]="hasCustomWidth" class="icon-field" fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput type="email" [id]="getAttribute()" [formControlName]="getAttribute()" [placeholder]="placeHolder"\n      (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" [readonly]="isReadOnly" [required]="isRequired"\n      (change)="onChangeEvent($event)">\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <mat-icon matSuffix [class.mat-disabled]="!enabled" svgIcon="ontimize:mail_outline"></mat-icon>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'minlength\')"\n      text="{{ \'FORM_VALIDATION.MIN_LENGTH\' | oTranslate }}: {{ getErrorValue(\'minlength\', \'requiredLength\') }}">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'maxlength\')"\n      text="{{ \'FORM_VALIDATION.MAX_LENGTH\' | oTranslate }}: {{ getErrorValue(\'maxlength\', \'requiredLength\') }}">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'invalidEmailAddress\')" text="{{ \'FORM_VALIDATION.EMAIL_FORMAT\' | oTranslate }}">\n    </mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',inputs:sl,outputs:ll,encapsulation:c.ViewEncapsulation.None,styles:[""]}]}],ul.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},ul);function ul(t,e,n){return al.call(this,t,e,n)||this}var pl=(dl.decorators=[{type:c.NgModule,args:[{declarations:[cl],imports:[Hn,n.CommonModule,ss],exports:[cl]}]}],dl);function dl(){}var hl=(ml.prototype.upload=function(){this.uploader.uploadItem(this)},ml.prototype.cancel=function(){this.uploader.cancelItem(this)},ml.prototype.remove=function(){this.uploader.removeFile(this)},ml.prototype.prepareToUpload=function(){this.index=this.index||++this.uploader.nextIndex,this.isReady=!0},Object.defineProperty(ml.prototype,"file",{get:function(){return this._file},enumerable:!0,configurable:!0}),Object.defineProperty(ml.prototype,"name",{get:function(){return this._file.name},enumerable:!0,configurable:!0}),Object.defineProperty(ml.prototype,"size",{get:function(){return this._file.size},enumerable:!0,configurable:!0}),Object.defineProperty(ml.prototype,"type",{get:function(){return this._file.type},enumerable:!0,configurable:!0}),Object.defineProperty(ml.prototype,"lastModifiedDate",{get:function(){return this._file.lastModified},enumerable:!0,configurable:!0}),ml.prototype._onBeforeUpload=function(t){void 0===t&&(t=!0),this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,t&&this.onBeforeUpload()},ml.prototype._onProgress=function(t){this.progress=t,this.onProgress(t)},ml.prototype._onSuccess=function(t,e){void 0===e&&(e=!0),this.index=void 0,this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,e&&this.onSuccess(t)},ml.prototype._onError=function(t,e){void 0===e&&(e=!0),this.index=void 0,this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,e&&this.onError(t)},ml.prototype._onCancel=function(t){void 0===t&&(t=!0),this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,t&&this.onCancel()},ml.prototype._onComplete=function(t){(t=void 0===t?!0:t)&&this.onComplete()},ml.prototype.onBeforeUpload=function(){return{}},ml.prototype.onProgress=function(t){return{progress:t}},ml.prototype.onSuccess=function(t){return{data:t}},ml.prototype.onError=function(t){return{error:t}},ml.prototype.onCancel=function(){return{}},ml.prototype.onComplete=function(){return{}},Object.defineProperty(ml.prototype,"pendingUpload",{get:function(){return!this.isUploaded&&!this.isUploading&&!this.isCancel},enumerable:!0,configurable:!0}),ml);function ml(t,e){this.index=void 0,this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this._file=t,this.uploader=e}var fl=(gl.prototype.addFile=function(t){this.files.push(t),this.progress=this._getTotalProgress()},gl.prototype.clear=function(){for(this.cancel();this.files.length;)this.files[0].remove();this.progress=0},gl.prototype.removeFile=function(t){var e=this.getIndexOfItem(t),t=this.files[e];t&&(t.isUploading&&t.cancel(),this.files.splice(e,1),this.progress=this._getTotalProgress())},gl.prototype.upload=function(){var e=this;this.files.forEach(function(t){t.pendingUpload&&t.prepareToUpload()}),this.splitUpload?this.files.forEach(function(t){t.pendingUpload&&e.uploadItem(t)}):this.uploadItems(this.files)},gl.prototype.uploadItem=function(n){var o;n.prepareToUpload(),this.isUploading||n.isUploading||(this.isUploading=!0,n.isUploading=!0,this._onBeforeUploadItem(n),this.service!==undefined?(this._uploadSuscription&&this._uploadSuscription.unsubscribe(),(o=this)._uploadSuscription=n._uploadSuscription=this.service.upload([n],this.entity,this.data).subscribe(function(t){var e;t.loaded&&t.total?(e=Math.round(100*t.loaded/t.total),o._onProgressItem(n,e)):t.code===P.ONTIMIZE_SUCCESSFUL_CODE?o._onSuccessItem(n,t):(console.error("uploadItem error"),o._onErrorItem(n,"Unknow error"))},function(t){return o._onErrorItem(n,t)},function(){return o._onCompleteItem(n)})):console.warn("No service configured! aborting upload"))},gl.prototype.uploadItems=function(t){var n;this.isUploading||t.some(function(t){return t.isUploading})||(this.isUploading=!0,this._onBeforeUploadAll(),this.service!==undefined?(this._uploadSuscription&&this._uploadSuscription.unsubscribe(),(n=this)._uploadSuscription=this.service.upload(t,this.entity,this.data).subscribe(function(t){var e;t.loaded&&t.total?(e=Math.round(100*t.loaded/t.total),n._onProgressAll(e)):t.code===P.ONTIMIZE_SUCCESSFUL_CODE?n._onSuccessAll(t):console.error("uploadItems error")},function(t){return n._onErrorAll(t)},function(){return n._onCompleteAll()})):console.warn("No service configured! aborting upload"))},gl.prototype.cancel=function(){this.splitUpload?this.files.forEach(function(t){return t.cancel()}):(this._uploadSuscription&&this._uploadSuscription.unsubscribe(),this._onCancelAll(),this._onCompleteAll())},gl.prototype.cancelItem=function(t){t=this.getIndexOfItem(t),t=this.files[t];t&&t.isUploading&&this.splitUpload&&t._uploadSuscription.unsubscribe(),this._onCancelItem(t),this._onCompleteItem(t)},gl.prototype.getNotUploadedItems=function(){return this.files.filter(function(t){return!t.isUploaded})},gl.prototype.getIndexOfItem=function(t){return"number"==typeof t?t:this.files.indexOf(t)},gl.prototype.onBeforeUploadItem=function(t){return{fileItem:t}},gl.prototype.onBeforeUploadAll=function(){return{}},gl.prototype.onProgressItem=function(t,e){return{fileItem:t,progress:e}},gl.prototype.onProgressAll=function(t){return{progress:t}},gl.prototype.onCancelItem=function(t){return{fileItem:t}},gl.prototype.onCancelAll=function(){return{}},gl.prototype.onSuccessItem=function(t,e){return{fileItem:t,response:e}},gl.prototype.onSuccessAll=function(t){return{response:t}},gl.prototype.onErrorItem=function(t,e){return{fileItem:t,error:e}},gl.prototype.onErrorAll=function(t){return{error:t}},gl.prototype.onCompleteItem=function(t){return{fileItem:t}},gl.prototype.onCompleteAll=function(){},gl.prototype._onBeforeUploadItem=function(t){t._onBeforeUpload(),this.onBeforeUploadItem(t)},gl.prototype._onBeforeUploadAll=function(){this.files.forEach(function(t){return t._onBeforeUpload(!1)}),this.onBeforeUploadAll()},gl.prototype._onProgressItem=function(t,e){var n=this._getTotalProgress(e);this.progress=n,t._onProgress(e),this.onProgressItem(t,e),this.onProgressAll(n)},gl.prototype._onProgressAll=function(t){t=this._getTotalProgress(t);this.progress=t,this.onProgressAll(t)},gl.prototype._onSuccessItem=function(t,e){t._onSuccess(e),this.onSuccessItem(t,e)},gl.prototype._onSuccessAll=function(e){this.files.forEach(function(t){return t._onSuccess(e,!1)}),this.onSuccessAll(e)},gl.prototype._onErrorItem=function(t,e){t._onError(e),this.onErrorItem(t,e)},gl.prototype._onErrorAll=function(e){this.files.forEach(function(t){return t._onError(e,!1)}),this.onErrorAll(e)},gl.prototype._onCancelItem=function(t){t._onCancel(),this.onCancelItem(t)},gl.prototype._onCancelAll=function(){this.files.forEach(function(t){return t._onCancel(!1)}),this.onCancelAll()},gl.prototype._onCompleteItem=function(t){t._onComplete(),this.onCompleteItem(t);t=this._getReadyItems()[0];this.isUploading=!1,t?t.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress())},gl.prototype._onCompleteAll=function(){this.files.forEach(function(t){return t._onComplete(!1)}),this.isUploading=!1,this.onCompleteAll(),this.progress=this._getTotalProgress()},gl.prototype._getReadyItems=function(){return this.files.filter(function(t){return t.isReady&&!t.isUploading}).sort(function(t,e){return t.index-e.index})},gl.prototype._getTotalProgress=function(t){void 0===t&&(t=0);var e=this.getNotUploadedItems().length,n=e?this.files.length-e:this.files.length,e=this.splitUpload?100/this.files.length:100,t=t*e/100;return Math.round(n*e+t)},gl);function gl(t,e){this.service=t,this.files=[],this.isUploading=!1,this.progress=0,this.nextIndex=0,this.splitUpload=!0,this.entity=e}var yl,bl=["oattr: attr","olabel: label","floatLabel: float-label","oplaceholder: placeholder","tooltip","tooltipPosition: tooltip-position","tooltipShowDelay: tooltip-show-delay","tooltipHideDelay: tooltip-hide-delay","enabled","orequired: required","service","entity","serviceType : service-type","width","readOnly: read-only","clearButton: clear-button","acceptFileType: accept-file-type","maxFileSize: max-file-size","multiple","maxFiles: max-files","showInfo: show-info","splitUpload: split-upload","additionalData: additional-data","appearance","hideRequiredMarker:hide-required-marker","labelVisible:label-visible"],vl=w(Ne,["onBeforeUpload","onBeforeUploadFile","onProgress","onProgressFile","onCancel","onCancelFile","onUpload","onUploadFile","onComplete","onCompleteFile","onError","onErrorFile"]),El=be,Cl=(_(Tl,yl=Pe),Tl.prototype.ngOnInit=function(){var n=this;yl.prototype.ngOnInit.call(this),this.initialize(),this.uploader.onBeforeUploadAll=function(){return n.onBeforeUpload.emit()},this.uploader.onBeforeUploadItem=function(t){return n.onBeforeUploadFile.emit(t)},this.uploader.onProgressAll=function(t){return n.onProgress.emit(t)},this.uploader.onProgressItem=function(t,e){return n.onProgressFile.emit({item:t,progress:e})},this.uploader.onCancelAll=function(){return n.onCancel.emit()},this.uploader.onCancelItem=function(t){return n.onCancelFile.emit()},this.uploader.onSuccessAll=function(t){return n.onUpload.emit({response:t})},this.uploader.onSuccessItem=function(t,e){return n.onUploadFile.emit({item:t,response:e})},this.uploader.onCompleteAll=function(){return n.onComplete.emit()},this.uploader.onCompleteItem=function(t){return n.onCompleteFile.emit(t)},this.uploader.onErrorAll=function(t){return n.onError.emit(t)},this.uploader.onErrorItem=function(t,e){return n.onErrorFile.emit({item:t,error:e})}},Tl.prototype.initialize=function(){yl.prototype.initialize.call(this),this.service||(this.service=this.form.service),this.entity||(this.entity=this.form.entity),this.configureService(),this.uploader=new fl(this.fileService,this.entity),this.uploader.splitUpload=this.splitUpload},Tl.prototype.configureService=function(){var t,e=ue;this.serviceType&&(e=this.serviceType);try{this.fileService=this.injector.get(e),this.fileService&&(t=this.fileService.getDefaultServiceConfiguration(this.service),this.entity&&(t.entity=this.entity),this.fileService.configureService(t))}catch(n){console.error(n)}},Tl.prototype.resolveValidators=function(){var t=yl.prototype.resolveValidators.call(this);return this.acceptFileType&&t.push(this.filetypeValidator.bind(this)),this.maxFileSize&&t.push(this.maxFileSizeValidator.bind(this)),this.multiple&&-1!==this.maxFiles&&t.push(this.maxFilesValidator.bind(this)),t},Tl.prototype.fileSelected=function(t){var e,n=this;if(t){t=t.target||t.srcElement;if(0<t.files.length){var o=t.files;this.multiple||this.uploader.clear();for(var i=0;i<o.length;i++){var r=o[i],a=new hl(r,this.uploader);this.uploader.addFile(a)}e=this.uploader.files.map(function(t){return t.name}).join(", "),window.setTimeout(function(){n.setValue(""!==e?e:undefined,{changeType:Re.USER_CHANGE}),n._fControl&&n._fControl.markAsTouched()},0)}}},Tl.prototype.onClickClearValue=function(t){yl.prototype.onClickClearValue.call(this,t),this.uploader.clear()},Tl.prototype.clearValue=function(){yl.prototype.clearValue.call(this),this.uploader.clear()},Tl.prototype.onClickUpload=function(t){t.stopPropagation(),this.isValid&&this.upload()},Tl.prototype.upload=function(){this.uploader.upload()},Object.defineProperty(Tl.prototype,"files",{get:function(){return this.uploader.files},enumerable:!0,configurable:!0}),Object.defineProperty(Tl.prototype,"additionalData",{get:function(){return this.uploader?this.uploader.data:null},set:function(t){this.uploader&&(this.uploader.data=t)},enumerable:!0,configurable:!0}),Tl.prototype.innerOnChange=function(t){this.ensureOFormValue(t),this._fControl&&this._fControl.touched&&this._fControl.markAsDirty(),this.onChange.emit(t)},Tl.prototype.filetypeValidator=function(t){if(t.value&&0<t.value.length&&this.acceptFileType){var e=new RegExp(this.acceptFileType.replace(";","|"));if(!this.files.every(function(t){return null!==t.type.match(e)||null!==t.name.substr(t.name.lastIndexOf(".")).match(e)}))return{fileType:{allowedFileTypes:this.acceptFileType.replace(";",", ")}}}return{}},Tl.prototype.maxFileSizeValidator=function(t){var e=this;return t.value&&0<t.value.length&&this.maxFileSize&&!this.files.every(function(t){return t.size<e.maxFileSize})?{fileSize:{maxFileSize:this.maxFileSize}}:{}},Tl.prototype.maxFilesValidator=function(t){return t.value&&0<t.value.length&&this.multiple&&-1!==this.maxFiles&&this.maxFiles<this.files.length?{numFile:{maxFiles:this.maxFiles}}:{}},Tl.decorators=[{type:c.Component,args:[{selector:"o-file-input",template:'<div fxLayout="row" fxLayoutAlign="space-between center" [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass"\n  [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay" [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel"  [hideRequiredMarker]="hideRequiredMarker" [class.custom-width]="hasCustomWidth" class="icon-field"\n    (click)="!enabled || isReadOnly ? null : inputFile.click()" fxFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input #inputShowValue matInput type="text" [id]="getAttribute()" [formControlName]="getAttribute()" [placeholder]="placeHolder"\n      [required]="isRequired" readonly (change)="onChangeEvent($event)">\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <button type="button" *ngIf="getValue()" [disabled]="!isValid || uploader.isUploading" matSuffix mat-icon-button (click)="onClickUpload($event)">\n      <mat-icon>file_upload</mat-icon>\n    </button>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'fileType\')" text="{{ \'FORM_VALIDATION.FILE_TYPE\' | oTranslate}} ({{ getErrorValue(\'fileType\',\'allowedFileTypes\') }})">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'fileSize\')"\n      text="{{ \'FORM_VALIDATION.FILE_MAXSIZE\' | oTranslate }}: {{ getErrorValue(\'fileSize\', \'maxFileSize\') }} bytes"></mat-error>\n    <mat-error *ngIf="hasError(\'numFile\')" text="{{ \'FORM_VALIDATION.FILE_MAXNUM\' | oTranslate }}: {{ getErrorValue(\'numFile\', \'maxFiles\') }}">\n    </mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n  <input #inputFile type="file" id="{{getAttribute()+\'-file-input\'}}" [attr.accept]="acceptFileType ? acceptFileType.replace(\';\',\',\') : null"\n    (change)="fileSelected($event)" hidden="true" [attr.multiple]="multiple ? \'\' : null">\n  <div *ngIf="showInfo && files">\n    <mat-progress-bar *ngIf="!splitUpload && uploader.isUploading" color="accent" mode="determinate" [value]="uploader.progress"></mat-progress-bar>\n    <mat-list>\n      <mat-list-item *ngFor="let file of files">\n        <mat-icon mat-list-icon>insert_drive_file</mat-icon>\n        <span mat-line>{{ file.name }}</span>\n        <div fxLayout="row" fxLayoutAlign="space-between center">\n          <mat-progress-spinner *ngIf="splitUpload && file.isUploading" color="accent" mode="determinate" [value]="file.progress" class="uploading"\n            diameter="3" strokeWidth="3"></mat-progress-spinner>\n          <mat-icon *ngIf="splitUpload && file.isUploaded && file.isSuccess" class="uploaded" svgIcon="ontimize:check_circle"></mat-icon>\n          <mat-icon *ngIf="splitUpload && file.isUploaded && file.isError" class="error" svgIcon="ontimize:error_outline"></mat-icon>\n        </div>\n      </mat-list-item>\n    </mat-list>\n  </div>\n</div>\n',inputs:bl,outputs:vl,providers:[{provide:ue,useFactory:El,deps:[c.Injector]}],styles:[".o-file-input-buttons{position:absolute;top:0;bottom:0;right:0;margin:auto}mat-icon.uploaded{color:#0f9d58}mat-icon.error{color:#d50000}"]}]}],Tl.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},Tl.propDecorators={inputFile:[{type:c.ViewChild,args:["inputFile",{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Tl.prototype,"showInfo",void 0),D([tt(),L("design:type",Boolean)],Tl.prototype,"multiple",void 0),D([tt(),L("design:type",Boolean)],Tl.prototype,"splitUpload",void 0),D([tt(),L("design:type",Number)],Tl.prototype,"maxFiles",void 0),Tl);function Tl(t,e,n){n=yl.call(this,t,e,n)||this;return n.autoBinding=!1,n.autoRegistering=!1,n.showInfo=!1,n.multiple=!1,n.splitUpload=!0,n.maxFiles=-1,n.onBeforeUpload=new c.EventEmitter,n.onBeforeUploadFile=new c.EventEmitter,n.onProgress=new c.EventEmitter,n.onProgressFile=new c.EventEmitter,n.onCancel=new c.EventEmitter,n.onCancelFile=new c.EventEmitter,n.onUpload=new c.EventEmitter,n.onUploadFile=new c.EventEmitter,n.onComplete=new c.EventEmitter,n.onCompleteFile=new c.EventEmitter,n.onError=new c.EventEmitter,n.onErrorFile=new c.EventEmitter,n}var Il=(Ol.decorators=[{type:c.NgModule,args:[{declarations:[Cl],imports:[n.CommonModule,Hn],exports:[Cl]}]}],Ol);function Ol(){}var Sl,Al=w(["format","textInputEnabled: text-input-enabled","min","max","valueType: value-type"],Me),_l=w(Ne),Dl=(_(Ll,Sl=Pe),Ll.prototype.ngAfterViewInit=function(){Sl.prototype.ngAfterViewInit.call(this),this.modifyPickerMethods()},Ll.prototype.onKeyDown=function(t){P.isHourInputAllowed(t)||t.preventDefault()},Ll.prototype.innerOnBlur=function(t){this.onKeyboardInputDone&&this.updateValeOnInputChange(t),Sl.prototype.innerOnBlur.call(this,t)},Ll.prototype.registerOnFormControlChange=function(){},Object.defineProperty(Ll.prototype,"formatString",{get:function(){return this.format===P.TWENTY_FOUR_HOUR_FORMAT?P.HourFormat.TWENTY_FOUR:P.HourFormat.TWELVE},enumerable:!0,configurable:!0}),Ll.prototype.open=function(t){k.isDefined(t)&&t.stopPropagation(),this.picker&&this.picker.open()},Ll.prototype.setTime=function(t){t.preventDefault(),t.stopPropagation();t=Sl.prototype.getValue.call(this);this.picker.updateTime(t)},Ll.prototype.setTimestampValue=function(t,e){var n,t=k.isDefined(t)?S(t):t;t&&t.isValid()&&(n=t.utcOffset(0).format(this.formatString)),this.setValue(n,e)},Ll.prototype.resolveValidators=function(){var t=Sl.prototype.resolveValidators.call(this);return this.format===P.TWENTY_FOUR_HOUR_FORMAT?t.push(il.twentyFourHourFormatValidator):t.push(il.twelveHourFormatValidator),t},Ll.prototype.onFormControlChange=function(t){this.oldValue!==t&&Sl.prototype.onFormControlChange.call(this,t)},Object.defineProperty(Ll.prototype,"format",{get:function(){return this._format},set:function(t){var e=this._format,t=J(t);t!==P.TWELVE_FOUR_HOUR_FORMAT&&t!==P.TWENTY_FOUR_HOUR_FORMAT&&(t=P.TWENTY_FOUR_HOUR_FORMAT),(this._format=t)!==e&&this.updateValidators()},enumerable:!0,configurable:!0}),Object.defineProperty(Ll.prototype,"valueType",{get:function(){return this._valueType},set:function(t){this._valueType=this.convertToOHourValueType(t)},enumerable:!0,configurable:!0}),Ll.prototype.convertToOHourValueType=function(t){t=(t||"").toLowerCase();return"string"===t||"timestamp"===t?t:"string"},Ll.prototype.onChangeEvent=function(t){this.onTimepickerChange(t.target.value)},Ll.prototype.onTimepickerChange=function(t){t=this.getValueAsString(t);this.setValue(t,{changeType:Re.USER_CHANGE,emitEvent:!1,emitModelToViewChange:!1})},Ll.prototype.modifyPickerMethods=function(){var t=this;this.picker&&this.picker.inputElement&&this.picker.inputElement.addEventListener("change",function(){t.onKeyboardInputDone=!0})},Ll.prototype.ensureOFormValue=function(t){null!=t&&"timestamp"===this.valueType&&(t instanceof rt?t.value=this.getValueAsString(t.value):t=this.getValueAsString(t)),Sl.prototype.ensureOFormValue.call(this,t)},Ll.prototype.updateValeOnInputChange=function(t){this.onKeyboardInputDone&&(t=this.parseHour(t.currentTarget.value),this.setValue(t)),this.onKeyboardInputDone=!1},Ll.prototype.parseHour=function(t){var e,n=t.split(":"),o=n[0];return P.TWELVE_FOUR_HOUR_FORMAT===this.format?o&&(e=(o=parseInt(o,10))<=12?" AM":" PM",12<o&&(o-=12),n[0]=o,t=n.join(":")+e):(P.TWENTY_FOUR_HOUR_FORMAT,this.format),t},Ll.prototype.emitOnValueChange=function(t,e,n){this.onChange.emit(e),Sl.prototype.emitOnValueChange.call(this,t,e,n)},Ll.prototype.getValue=function(){var t,e=Sl.prototype.getValue.call(this);return"timestamp"===this.valueType&&(t=S(e,this.formatString).valueOf(),isNaN(t)||(e=t)),e},Ll.prototype.getValueAsString=function(t){t="number"==typeof t?S(t).format(this.formatString):this.convertToFormatString(t);return t},Ll.prototype.convertToFormatString=function(t){if("00:00"===t||!k.isDefined(t))return t;var e=this.format===P.TWENTY_FOUR_HOUR_FORMAT?"HH:mm":"hh:mm a",e="number"==typeof t?S(t).format(e):t&&S(t,"h:mm A").format(e);return e},Ll.decorators=[{type:c.Component,args:[{selector:"o-hour-input",template:'<div fxLayout="row" fxLayoutAlign="space-between center" [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass"\n  [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay" [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" fxFill [hideRequiredMarker]="hideRequiredMarker">\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput [ngxTimepicker]="picker" [id]="getAttribute()" [placeholder]="placeHolder" [formControlName]="getAttribute()"\n      [readonly]="isReadOnly || !textInputEnabled" (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" [required]="isRequired"\n      (change)="onChangeEvent($event)" [min]="min" [max]="max" (keydown)="onKeyDown($event)" [format]="format" [disableClick]="true">\n\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <button type="button" matSuffix mat-icon-button [disabled]="isReadOnly || !enabled" (click)="open($event)">\n      <mat-icon ngxMaterialTimepickerToggleIcon svgIcon="ontimize:clock"></mat-icon>\n    </button>\n\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }} "></mat-error>\n    <mat-error *ngIf="hasError(\'invalidFormatHour\')" text="{{ \'FORM_VALIDATION.HOUR_FORMAT\' | oTranslate }} {{ formatString }}"></mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>\n\n<ngx-material-timepicker #picker (timeSet)="onTimepickerChange($event)" [confirmBtnTmpl]="confirmBtn" [cancelBtnTmpl]="cancelBtn">\n</ngx-material-timepicker>\n\n<ng-template #confirmBtn>\n  <button mat-stroked-button type="button"><span>{{\'OK\' | oTranslate}}</span></button>\n</ng-template>\n\n<ng-template #cancelBtn>\n  <button mat-stroked-button type="button"><span>{{\'CANCEL\' | oTranslate}}</span></button>\n</ng-template>\n',encapsulation:c.ViewEncapsulation.None,outputs:_l,inputs:Al,host:{"[class.o-hour-input]":"true"},styles:["button.mat-stroked-button{margin:0 6px}"]}]}],Ll.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},Ll.propDecorators={picker:[{type:c.ViewChild,args:["picker",{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Ll.prototype,"textInputEnabled",void 0),Ll);function Ll(t,e,n){n=Sl.call(this,t,e,n)||this;return n.textInputEnabled=!0,n._format=P.TWENTY_FOUR_HOUR_FORMAT,n.onKeyboardInputDone=!1,n._valueType="timestamp",n._defaultSQLTypeKey="TIMESTAMP",n}var Rl=(xl.decorators=[{type:c.NgModule,args:[{declarations:[Dl],imports:[Hn,n.CommonModule,y.NgxMaterialTimepickerModule],exports:[Dl]}]}],xl);function xl(){}var wl={contentsCss:[""],customConfig:""},Ml=(Object.defineProperty(Nl.prototype,"instance",{get:function(){return this.ckIns},enumerable:!0,configurable:!0}),Object.defineProperty(Nl.prototype,"readonly",{get:function(){return this._readonly},set:function(t){var e=this;this._readonly=t,setTimeout(function(){k.isDefined(e.ckIns)&&k.isDefined(e.ckIns.editable())&&e.ckIns.setReadOnly(e.readonly)})},enumerable:!0,configurable:!0}),Nl.getRandomIdentifier=function(t){return"editor-"+(""!==(t=void 0===t?"":t)?t:Math.round(1e8*Math.random()))},Nl.prototype.ngOnDestroy=function(){this.destroyCKEditor()},Nl.prototype.ngAfterViewInit=function(){this.destroyCKEditor(),this.initCKEditor(Nl.getRandomIdentifier(this.id))},Nl.prototype.initCKEditor=function(t){var e=this;if("undefined"==typeof CKEDITOR)return console.warn("CKEditor 4.x is missing (http://ckeditor.com/)");this.identifier=t,this.ck.nativeElement.setAttribute("name",this.identifier);t=Object.assign({},wl,this.config,{readOnly:this.readonly,skin:this.skin,language:this.language,fullPage:this.fullPage,inline:this.inline,width:"100%"});this.ckIns=this.inline?CKEDITOR.inline(this.ck.nativeElement,t):CKEDITOR.replace(this.ck.nativeElement,t),this.ckIns.setData(this.innerValue),this.ckIns.on("change",function(){var t=e.ckIns.getData();e.updateValue(t)}),this.ckIns.on("instanceReady",function(t){e.ngZone.run(function(){e.ready.emit(t)})}),this.ckIns.on("blur",function(t){e.ngZone.run(function(){e.blur.emit(t),e.propagateTouch()})}),this.ckIns.on("focus",function(t){e.ngZone.run(function(){e.focus.emit(t)})})},Nl.prototype.destroyCKEditor=function(){var t;this.ckIns&&(this.ckIns.removeAllListeners(),CKEDITOR.instances.hasOwnProperty(this.ckIns.name)&&CKEDITOR.remove(CKEDITOR.instances[this.ckIns.name]),this.ckIns.destroy(),this.ckIns=null,t=document.querySelector("#cke_"+this.identifier),k.isDefined(t)&&k.isDefined(t.parentElement)&&t.parentElement.removeChild(t))},Nl.prototype.updateValue=function(t){var e=this;this.ngZone.run(function(){e.innerValue=t,e.propagateChange(t),e.propagateTouch(),e.change.emit(t)})},Nl.prototype.writeValue=function(t){this.innerValue=t||"",this.ckIns&&(this.ckIns.setData(this.innerValue),t=this.ckIns.getData(),this.ckIns.setData(t))},Nl.prototype.propagateChange=function(t){},Nl.prototype.propagateTouch=function(){},Nl.prototype.registerOnChange=function(t){this.propagateChange=t},Nl.prototype.registerOnTouched=function(t){this.propagateTouch=t},Nl.decorators=[{type:c.Component,args:[{selector:"ck-editor",template:"<textarea #ck></textarea>",providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return Nl}),multi:!0}],exportAs:"ckEditor"}]}],Nl.ctorParameters=function(){return[{type:c.NgZone}]},Nl.propDecorators={readonly:[{type:c.Input}],config:[{type:c.Input}],skin:[{type:c.Input}],language:[{type:c.Input}],fullPage:[{type:c.Input}],inline:[{type:c.Input}],id:[{type:c.Input}],change:[{type:c.Output}],ready:[{type:c.Output}],blur:[{type:c.Output}],focus:[{type:c.Output}],ck:[{type:c.ViewChild,args:["ck",{"static":!1}]}]},Nl);function Nl(t){this.ngZone=t,this.innerValue="",this._readonly=!1,this.config={},this.skin="moono-lisa",this.language="en",this.fullPage=!1,this.inline=!1,this.change=new c.EventEmitter,this.ready=new c.EventEmitter,this.blur=new c.EventEmitter,this.focus=new c.EventEmitter}var Pl=(Fl.decorators=[{type:c.NgModule,args:[{exports:[i.FormsModule,Ml],declarations:[Ml]}]}],Fl);function Fl(){}var kl,Bl=["oattr: attr","data","autoBinding: automatic-binding","autoRegistering: automatic-registering","orequired: required","minLength: min-length","maxLength: max-length","readOnly: read-only","sqlType: sql-type"],Ul=w(Me,["onFocus","onBlur"]),Vl=(_(jl,kl=Pe),jl.prototype.ngOnInit=function(){var t=this;kl.prototype.ngOnInit.call(this);var e=this;this.form&&(this.form.beforeCloseDetail.subscribe(function(){return t.destroyCKEditor()}),this.form.beforeUpdateMode.subscribe(function(){return t.destroyCKEditor()})),this.tabGroupContainer&&this.tabGroupContainer.selectedTabChange.subscribe(function(t){e.destroyCKEditor(),e.isInActiveTab()&&e.ckEditor.initCKEditor(e.oattr)})},jl.prototype.ngAfterViewInit=function(){kl.prototype.ngAfterViewInit.call(this),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()},jl.prototype.hasError=function(t){t=kl.prototype.hasError.call(this,t);return this._subscriptAnimationState=t?"enter":"void",t},jl.prototype.isInActiveTab=function(){var n,o=!(this.tabGroupContainer&&this.tabContainer);return o||(n=this).tabGroupContainer._tabs.forEach(function(t,e){t===n.tabContainer&&(o=n.tabGroupContainer.selectedIndex===e)}),o},jl.prototype.resolveValidators=function(){var t=kl.prototype.resolveValidators.call(this);return 0<=this.minLength&&t.push(i.Validators.minLength(this.minLength)),0<=this.maxLength&&t.push(i.Validators.maxLength(this.maxLength)),t},jl.prototype.clearValue=function(){kl.prototype.clearValue.call(this),this.ckEditor.instance.updateElement(),this.ckEditor.instance.setData("")},jl.prototype.destroyCKEditor=function(){this.ckEditor&&this.ckEditor.destroyCKEditor()},jl.prototype.getCKEditor=function(){return this.ckEditor.instance},Object.defineProperty(jl.prototype,"minLength",{get:function(){return this._minLength},set:function(t){var e=this._minLength;this._minLength=J(t),t!==e&&this.updateValidators()},enumerable:!0,configurable:!0}),Object.defineProperty(jl.prototype,"maxLength",{get:function(){return this._maxLength},set:function(t){var e=this._maxLength;this._maxLength=J(t),t!==e&&this.updateValidators()},enumerable:!0,configurable:!0}),jl.decorators=[{type:c.Component,args:[{selector:"o-html-input",template:'<div [formGroup]="getFormGroup()" class="mat-form-field mat-form-field" fxFill>\n  <div class="mat-form-field-wrapper mat-form-field-wrapper">\n    <ck-editor #ckEditor [id]="getAttribute()" [formControlName]="getAttribute()" (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" \n    (change)="onChangeEvent($event)"  [required]="isRequired" [readonly]="isReadOnly" class="mat-form-field-flex mat-form-field-flex" fxFill></ck-editor>\n    <div class="mat-form-field-subscript-wrapper mat-form-field-subscript-wrapper">\n      <div class="ng-trigger ng-trigger-transitionMessages" [@transitionMessages]="_subscriptAnimationState">\n        <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n        <mat-error *ngIf="hasError(\'minlength\')" text="{{ \'FORM_VALIDATION.MIN_LENGTH\' | oTranslate }}: {{\n          getErrorValue(\'minlength\', \'requiredLength\') }}"></mat-error>\n        <mat-error *ngIf="hasError(\'maxlength\')" text="{{ \'FORM_VALIDATION.MAX_LENGTH\' | oTranslate }}: {{\n          getErrorValue(\'maxlength\', \'requiredLength\') }}"></mat-error>\n        <mat-error *ngFor="let oError of getActiveOErrors()"> {{ oError.text | oTranslate }} "></mat-error>\n      </div>\n    </div>\n  </div>\n</div>',inputs:Bl,outputs:Ul,animations:[b.trigger("transitionMessages",[b.state("enter",b.style({opacity:1,transform:"translateY(0%)"})),b.transition("void => enter",[b.style({opacity:0,transform:"translateY(-100%)"}),b.animate("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])],styles:[".mat-form-field-wrapper{position:relative}.mat-form-field-subscript-wrapper{position:absolute;width:100%;overflow:hidden}"]}]}],jl.ctorParameters=function(){return[{type:Mr},{type:c.ElementRef},{type:c.Injector}]},jl.propDecorators={ckEditor:[{type:c.ViewChild,args:["ckEditor",{"static":!1}]}]},jl);function jl(t,e,n){var o=kl.call(this,t,e,n)||this;o._minLength=-1,o._maxLength=-1,o._subscriptAnimationState="",o.form=t,o.elRef=e,o._changeDetectorRef=o.injector.get(c.ChangeDetectorRef);try{o.tabGroupContainer=o.injector.get(d.MatTabGroup),o.tabContainer=o.injector.get(d.MatTab)}catch(i){}return o}var Gl=(ql.decorators=[{type:c.NgModule,args:[{declarations:[Vl],imports:[Pl,n.CommonModule,Hn],exports:[Vl]}]}],ql);function ql(){}var Hl=["data","visibleColumns: visible-columns","filter"],Yl=(zl.prototype.ngAfterViewInit=function(){var t=this;k.isDefined(this.searchVal)&&this.searchInput!==undefined&&0<this.searchVal.length&&(this.searchInput.getFormControl().setValue(this.searchVal,{emitEvent:!1}),setTimeout(function(){return t.searchInput.onSearch.emit(t.searchVal)}))},Object.defineProperty(zl.prototype,"startIndex",{get:function(){return this._startIndex},set:function(t){this._startIndex=t,this.visibleData=this.data.slice(this.startIndex,this.recordsNumber)},enumerable:!0,configurable:!0}),zl.prototype.onClickListItem=function(t,e){this.dialogRef.close(e)},zl.prototype.trackByFn=function(t,e){return t},zl.prototype.onScroll=function(t){var e;t&&t.target&&this.visibleData.length<this.data.length&&(e=t.target.scrollHeight-(t.target.scrollTop+t.target.clientHeight),!isNaN(e)&&e<=this.scrollThreshold&&(t=this.visibleData.length,e=this.searchInput.getValue(),k.isDefined(e)&&0<e.length&&(t=this.visibleData[this.visibleData.length-1]._parsedIndex),(t=this.data.slice(t,this.visibleData.length+this.recordsNumber)).length&&(t=this.transform(t,{filtervalue:this.searchInput.getValue(),filtercolumns:this.visibleColsArray})).length&&(this.visibleData=this.visibleData.concat(t))))},zl.prototype.onFilterList=function(t){t=this.transform(this.data,{filtervalue:t,filtercolumns:this.visibleColsArray});this._startIndex=0,this.visibleData=t.slice(this.startIndex,this.recordsNumber)},zl.prototype.isEmptyData=function(){return!k.isDefined(this.visibleData)||0===this.visibleData.length},zl.prototype.transform=function(t,e){var o=this;if(!e||e.length<=1)return t;var i=e.filtervalue||"",r=e.filtercolumns;return!r||!i||0===i.length||t===undefined||null===t?t:t.filter(function(t){for(var e=0;e<r.length;e++){var n=r[e];if(!o._isBlank(n)){n=t[n];if(n&&(n=n.toString(),!o._isBlank(n)&&-1<n.toUpperCase().indexOf(i.toUpperCase())))return t}}})},zl.prototype._isBlank=function(t){return!k.isDefined(t)||0===t.length},zl.decorators=[{type:c.Component,args:[{selector:"o-list-picker-dialog",template:'<div class="title-container" *ngIf="filter">\n  <o-search-input #searchInput [columns]="menuColumns" show-menu="no" float-label="never" (onSearch)="onFilterList($event)"\n    class="o-list-picker-search" appearance="legacy"></o-search-input>\n</div>\n<div mat-dialog-content (scroll)="onScroll($event)" [class.o-list-picker-has-filter]="filter" fxFlex>\n  <mat-list>\n    <mat-list-item *ngIf="isEmptyData()">\n      {{ \'LIST.EMPTY\' | oTranslate }}\n      <ng-container *ngIf="filter && searchInput && searchInput.getValue() && searchInput.getValue().length > 0">\n        {{ \'LIST.EMPTY_USING_FILTER\' | oTranslate : { values: [searchInput.getValue()] } }}\n      </ng-container>\n    </mat-list-item>\n    <mat-list-item (click)="onClickListItem($event, item)" *ngFor="let item of visibleData; trackBy: trackByFn">\n      <span>{{ item[\'_parsedVisibleColumnText\'] }}</span>\n      <mat-divider></mat-divider>\n    </mat-list-item>\n  </mat-list>\n</div>\n<mat-dialog-actions align="end">\n  <button type="button" mat-stroked-button mat-dialog-close>{{ \'CANCEL\' | oTranslate | uppercase }}</button>\n</mat-dialog-actions>\n',inputs:Hl,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-list-picker-dialog]":"true"},styles:[".cdk-overlay-list-picker .mat-dialog-container{padding:0}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog{display:flex;flex-direction:column;height:100%}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .title-container{padding:5px 20px}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .title-container .o-search-input mat-form-field .mat-form-field-wrapper{padding-bottom:0}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .title-container .o-search-input mat-form-field .mat-form-field-wrapper .mat-form-field-underline{display:none}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .mat-dialog-content{margin:0}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .mat-dialog-content mat-list mat-list-item{cursor:pointer}.cdk-overlay-list-picker .mat-dialog-container .o-list-picker-dialog .mat-dialog-actions{padding-top:12px;margin:0 12px}"]}]}],zl.ctorParameters=function(){return[{type:d.MatDialogRef},{type:c.Injector},{type:undefined,decorators:[{type:c.Inject,args:[d.MAT_DIALOG_DATA]}]}]},zl.propDecorators={searchInput:[{type:c.ViewChild,args:["searchInput",{"static":!1}]}]},zl);function zl(t,e,n){this.dialogRef=t,this.injector=e,this.filter=!0,this.visibleData=[],this.data=[],this._startIndex=0,this.recordsNumber=100,this.scrollThreshold=200,n.data&&k.isArray(n.data)&&(this.data=n.data),n.visibleColumns&&k.isArray(n.visibleColumns)&&(this.visibleColsArray=n.visibleColumns),n.queryRows!==undefined&&(this.recordsNumber=n.queryRows),n.filter!==undefined&&(this.filter=n.filter),n.menuColumns&&(this.menuColumns=n.menuColumns),this.searchVal=n.searchVal,this.startIndex=0}var Kl,Wl=w(Be,["filter","dialogWidth : dialog-width","dialogHeight : dialog-height","queryRows: query-rows","textInputEnabled: text-input-enabled","dialogDisableClose: dialog-disable-close","dialogClass: dialog-class"]),Ql=w(Ue,["onDialogAccept","onDialogCancel"]),Xl=(_($l,Kl=Ve),$l.prototype.ngOnInit=function(){this.initialize()},$l.prototype.ngOnChanges=function(t){Kl.prototype.ngOnChanges.call(this,t),"undefined"!=typeof t.staticData&&(this.cacheQueried=!0,this.setDataArray(t.staticData.currentValue))},$l.prototype.createFormControl=function(){return this._fControl=Kl.prototype.createFormControl.call(this),this._fControl.fControlChildren=[this.stateCtrl],this._fControl},$l.prototype.ensureOFormValue=function(t){Kl.prototype.ensureOFormValue.call(this,t),this.syncDataIndex(!1)},$l.prototype.setEnabled=function(t){Kl.prototype.setEnabled.call(this,t),t?this.stateCtrl.enable():this.stateCtrl.disable()},$l.prototype.ngAfterViewInit=function(){Kl.prototype.ngAfterViewInit.call(this),this.queryOnInit?this.queryData():this.queryOnBind&&this.syncDataIndex()},$l.prototype.getDescriptionValue=function(){var n,o="";return this.descriptionColArray&&this._currentIndex!==undefined&&(n=this).descriptionColArray.forEach(function(t,e){t=n.dataArray[n._currentIndex][t];t&&(o+=t),e<n.descriptionColArray.length-1&&(o+=n.separator)}),o},$l.prototype.onClickClear=function(t){t.preventDefault(),t.stopPropagation(),!this.isReadOnly&&this.enabled&&(clearTimeout(this.blurTimer),this.blurPrevent=!0,this.setValue(undefined))},$l.prototype.onClickInput=function(t){this.textInputEnabled||this.onClickListpicker(t)},$l.prototype.onClickListpicker=function(t){t.preventDefault(),t.stopPropagation(),!this.isReadOnly&&this.enabled&&(clearTimeout(this.blurTimer),this.openDialog())},$l.prototype.onDialogClose=function(t){var e;this.dialogRef=null,this.visibleInputValue=undefined,t instanceof Object&&"undefined"!=typeof t[this.valueColumn]?(e=this,window.setTimeout(function(){e.setValue(t[e.valueColumn],{changeType:Re.USER_CHANGE}),e._fControl&&(e._fControl.markAsTouched(),e._fControl.markAsDirty()),e.onDialogAccept.emit()},0)):this.onDialogCancel.emit()},$l.prototype.innerOnBlur=function(t){var e;!this.isReadOnly&&this.enabled&&((e=this).blurTimer=setTimeout(function(){e.blurPrevent||(e._fControl.markAsTouched(),e.onBlur.emit(t),e.visibleInputValue!==undefined&&0<e.visibleInputValue.length?e.openDialog():e.visibleInputValue!==undefined?(e.setValue(undefined),e.visibleInputValue=undefined):e._fControl.markAsTouched()),e.blurPrevent=!1},this.blurDelay))},$l.prototype.onVisibleInputChange=function(t){this.visibleInputValue=t.target.value},$l.prototype.onKeydownEnter=function(t){clearTimeout(this.blurTimer),this.blurPrevent=!0,this.visibleInputValue=t,this.openDialog()},$l.prototype.setFormValue=function(t,e,n){void 0===n&&(n=!1),Kl.prototype.setFormValue.call(this,t,e,n),this.stateCtrl.setValue(this.getDescriptionValue())},$l.prototype.openDialog=function(){var e=this,t={role:"dialog",disableClose:this.dialogDisableClose,panelClass:["cdk-overlay-list-picker","o-dialog-class",this.dialogClass],data:{data:this.getDialogDataArray(this.dataArray),filter:this.filter,searchVal:this.visibleInputValue,menuColumns:this.visibleColumns,visibleColumns:this.visibleColArray,queryRows:this.queryRows}};this.dialogWidth!==undefined&&(t.width=this.dialogWidth),this.dialogHeight!==undefined&&(t.height=this.dialogHeight),this.dialogRef=this.matDialog.open(Yl,t),this.dialogRef.afterClosed().subscribe(function(t){e.onDialogClose(t)})},$l.prototype.getDialogDataArray=function(t){var i=[],r=this;return t.forEach(function(n,t){var o="";r.visibleColArray.forEach(function(t,e){o+=n[t],e+1<r.visibleColArray.length&&(o+=r.separator)});var e=Object.assign({},n);e._parsedVisibleColumnText=o,e._parsedIndex=t,i.push(e)}),i},$l.decorators=[{type:c.Component,args:[{selector:"o-list-picker",template:'<div (click)="onClickInput($event)" fxLayout="row" fxLayoutAlign="space-between center" [formGroup]="getFormGroup()"\n  [matTooltip]="tooltip" [matTooltipClass]="tooltipClass" [matTooltipPosition]="tooltipPosition"\n  [matTooltipShowDelay]="tooltipShowDelay" [matTooltipHideDelay]="tooltipHideDelay"\n  class="custom-error o-list-picker-content">\n  <input #inputModel class="input-model" type="text" [id]="getAttribute()" [formControlName]="getAttribute()">\n\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [class.custom-width]="hasCustomWidth"\n    [hideRequiredMarker]="hideRequiredMarker" class="icon-field" #innerInputContainer fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input #visibleInput matInput type="text" [attr.id]="\'desc_\' + getAttribute()" [id]="\'desc_\' + getAttribute()"\n      [formControl]="stateCtrl" [placeholder]="placeHolder" [value]="getDescriptionValue()"\n      (input)="onVisibleInputChange($event)" (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)"\n      [readonly]="isReadOnly || !textInputEnabled" [required]="isRequired"\n      (keydown.enter)="onKeydownEnter(visibleInput.value)" (change)="onChangeEvent($event)">\n\n    <button type="button" [disabled]="isReadOnly || !enabled" [class.read-only]="isReadOnly" matSuffix mat-icon-button\n      (click)="onClickListpicker($event)">\n      <mat-icon svgIcon="ontimize:search"></mat-icon>\n    </button>\n\n    <button type="button" [disabled]="isReadOnly || !enabled" [class.read-only]="isReadOnly" matSuffix mat-icon-button\n      (click)="onClickClearValue($event)" *ngIf="showClearButton">\n      <mat-icon svgIcon="ontimize:clear"></mat-icon>\n    </button>\n\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',providers:[Ce,{provide:Ve,useExisting:c.forwardRef(function(){return $l})}],inputs:Wl,outputs:Ql,styles:[".o-list-picker-content .input-model{display:none!important}.o-list-picker-content .mat-button.mat-disabled{cursor:default}"]}]}],$l.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},$l.propDecorators={inputModel:[{type:c.ViewChild,args:["inputModel",{"static":!1}]}],visibleInput:[{type:c.ViewChild,args:["visibleInput",{"static":!1}]}]},D([tt(),L("design:type",Boolean)],$l.prototype,"textInputEnabled",void 0),D([tt(),L("design:type",Boolean)],$l.prototype,"dialogDisableClose",void 0),D([tt(),L("design:type",Boolean)],$l.prototype,"filter",void 0),D([tt(),L("design:type",Number)],$l.prototype,"queryRows",void 0),$l);function $l(t,e,n){n=Kl.call(this,t,e,n)||this;return n.onDialogAccept=new c.EventEmitter,n.onDialogCancel=new c.EventEmitter,n.textInputEnabled=!0,n.dialogDisableClose=!1,n.filter=!0,n.dialogHeight="55%",n.blurDelay=200,n.blurPrevent=!1,n.matDialog=n.injector.get(d.MatDialog),n.stateCtrl=new i.FormControl,n.clearButton=!0,n}var Zl=(Jl.decorators=[{type:c.NgModule,args:[{declarations:[Yl,Xl],imports:[n.CommonModule,Hn,aa],exports:[Xl],entryComponents:[Yl]}]}],Jl);function Jl(){}var tc,ec=w(os),nc=w(is),oc=(_(ic,tc=rs),ic.prototype.resolveValidators=function(){var t=tc.prototype.resolveValidators.call(this);return t.push(il.nifValidator),t},ic.decorators=[{type:c.Component,args:[{selector:"o-nif-input",template:'<div fxLayout="row" fxLayoutAlign="space-between center" [formGroup]="getFormGroup()" [matTooltip]="tooltip"\n  [matTooltipClass]="tooltipClass" [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.custom-width]="hasCustomWidth" class="icon-field" fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput type="text" [id]="getAttribute()" [formControlName]="getAttribute()" [placeholder]="placeHolder"\n      (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" (change)="onChangeEvent($event)"\n      [readonly]="isReadOnly" [required]="isRequired">\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <mat-icon matSuffix [class.mat-disabled]="!enabled" svgIcon="ontimize:perm_identity"></mat-icon>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'invalidNIF\')" text="{{ \'FORM_VALIDATION.NIF_FORMAT\' | oTranslate}}"></mat-error>\n    <mat-error *ngIf="hasError(\'invalidNIFLetter\')" text="{{ \'FORM_VALIDATION.DNI_LETTER\' | oTranslate}}"></mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',inputs:ec,outputs:nc,encapsulation:c.ViewEncapsulation.None,styles:[""]}]}],ic.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},ic);function ic(t,e,n){return tc.call(this,t,e,n)||this}var rc=(ac.decorators=[{type:c.NgModule,args:[{declarations:[oc],imports:[Hn,n.CommonModule,ss],exports:[oc]}]}],ac);function ac(){}var sc,lc=w(os),cc=w(is),uc=(_(pc,sc=rs),pc.decorators=[{type:c.Component,args:[{selector:"o-password-input",template:'<div fxLayout="row" fxLayoutAlign="space-between center" [formGroup]="getFormGroup()" [matTooltip]="tooltip"\n  [matTooltipClass]="tooltipClass" [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.custom-width]="hasCustomWidth" class="icon-field" fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput type="password" [id]="getAttribute()" [formControlName]="getAttribute()" [placeholder]="placeHolder"\n      (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" (change)="onChangeEvent($event)"\n      [readonly]="isReadOnly" [required]="isRequired">\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <mat-icon matSuffix [class.mat-disabled]="!enabled" svgIcon="ontimize:vpn_key"></mat-icon>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'minlength\')"\n      text="{{ \'FORM_VALIDATION.MIN_LENGTH\' | oTranslate }}: {{ getErrorValue(\'minlength\', \'requiredLength\') }}">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'maxlength\')"\n      text="{{ \'FORM_VALIDATION.MAX_LENGTH\' | oTranslate }}: {{ getErrorValue(\'maxlength\', \'requiredLength\') }}">\n    </mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',inputs:lc,outputs:cc,encapsulation:c.ViewEncapsulation.None,styles:[""]}]}],pc.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},pc);function pc(t,e,n){return sc.call(this,t,e,n)||this}var dc=(hc.decorators=[{type:c.NgModule,args:[{declarations:[uc],imports:[Hn,n.CommonModule,ss],exports:[uc]}]}],hc);function hc(){}var mc,fc=w(ys),gc=w(bs),yc=(_(bc,mc=vs),bc.prototype.ngOnInit=function(){"undefined"==typeof this.min&&(this.min=0),"undefined"==typeof this.max&&(this.max=100),mc.prototype.ngOnInit.call(this)},bc.decorators=[{type:c.Component,args:[{selector:"o-percent-input",template:'<div [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass"\n  [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay" fxLayout="row" fxLayoutAlign="space-between center">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.custom-width]="hasCustomWidth" class="icon-field" fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput [type]="inputType" [id]="getAttribute()" [formControlName]="getAttribute()"\n      [placeholder]="placeHolder" (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" [readonly]="isReadOnly"\n      (change)="onChangeEvent($event)" [min]="min" [max]="max" [step]="step" [required]="isRequired">\n    <button type="button" *ngIf="showClearButton" matSuffix mat-icon-button (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n    <mat-icon svgIcon="ontimize:PERCENT" matSuffix class="svg-icon" [class.mat-disabled]="!enabled"></mat-icon>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngIf="hasError(\'min\')"\n      text="{{ \'FORM_VALIDATION.MIN_VALUE\' | oTranslate }}: {{ getErrorValue(\'min\', \'requiredMin\') }}"></mat-error>\n    <mat-error *ngIf="hasError(\'max\')"\n      text="{{ \'FORM_VALIDATION.MAX_VALUE\' | oTranslate }}: {{ getErrorValue(\'max\', \'requiredMax\') }}"></mat-error>\n    <mat-error *ngIf="hasError(\'minDecimaldigits\')"\n      text="{{ \'FORM_VALIDATION.MIN_DECIMAL_DIGITS\' | oTranslate }}: {{ getErrorValue(\'minDecimaldigits\', \'requiredMinDecimaldigits\') }}">\n    </mat-error>\n    <mat-error *ngIf="hasError(\'maxDecimaldigits\')"\n      text="{{ \'FORM_VALIDATION.MAX_DECIMAL_DIGITS\' | oTranslate }}: {{ getErrorValue(\'maxDecimaldigits\', \'requiredMaxDecimaldigits\') }}">\n    </mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',inputs:fc,outputs:gc,encapsulation:c.ViewEncapsulation.None,styles:[""]}]}],D([tt(),L("design:type",Boolean)],bc.prototype,"grouping",void 0),bc);function bc(){var t=null!==mc&&mc.apply(this,arguments)||this;return t.grouping=!0,t}var vc=(Ec.decorators=[{type:c.NgModule,args:[{declarations:[yc],imports:[n.CommonModule,Hn,Cs],exports:[yc]}]}],Ec);function Ec(){}var Cc,Tc=w(Be,["translate","layout","labelPosition: label-position"]),Ic=w(Ue),Oc=(_(Sc,Cc=Ve),Sc.prototype.ngAfterViewInit=function(){Cc.prototype.ngAfterViewInit.call(this),this.queryOnInit&&this.queryData()},Sc.prototype.onMatRadioGroupChange=function(t){t=t.value;this.setValue(t,{changeType:Re.USER_CHANGE,emitEvent:!1,emitModelToViewChange:!1})},Sc.prototype.getOptionDescriptionValue=function(n){void 0===n&&(n={});var o,i="";return this.descriptionColArray&&0<this.descriptionColArray.length&&(o=this).descriptionColArray.forEach(function(t,e){t=n[t];t&&(o.translate&&o.translateService&&(t=o.translateService.get(t)),i+=t),e<o.descriptionColArray.length-1&&(i+=o.separator)}),i},Sc.prototype.getValueColumn=function(t){if(t&&t.hasOwnProperty(this.valueColumn)){t=t[this.valueColumn];return t="undefined"===t?null:t}},Sc.prototype.getDescriptionValue=function(){var e=this;if(k.isDefined(this.descriptionColArray)&&this.descriptionColArray.length){var n=this.dataArray.find(function(t){return t[e.valueColumn]===e.getValue()});if(k.isDefined(n))return this.descriptionColArray.map(function(t){return e.translate&&e.translateService?e.translateService.get(n[t]):n[t]}).join(this.separator)}return""},Sc.decorators=[{type:c.Component,args:[{selector:"o-radio",template:'<div [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass"\n  [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay" class="relative">\n  \x3c!-- mat-form-field and hidden input are used only for displaying component label and errors as mat-radio is not supported inside form-field --\x3e\n  \x3c!-- https://github.com/angular/material2/issues/7891 --\x3e\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.read-only]="isReadOnly" [class.custom-width]="hasCustomWidth" [class.o-radio-from-field-row]="layout===\'row\'"\n    floatLabel="always" class="mat-form-field--no-underline" fxFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <input matInput [id]="getAttribute()" [formControlName]="getAttribute()" [placeholder]="placeHolder"\n      [required]="isRequired" style="display: none" />\n    <mat-radio-group [id]="getAttribute()" [formControlName]="getAttribute()" [name]="getAttribute()"\n      [value]="getValue()" [required]="isRequired" [labelPosition]="labelPosition"\n      (change)="onMatRadioGroupChange($event)" [fxLayout]="layout" fxLayoutGap="8px">\n      <mat-radio-button *ngFor="let item of getDataArray()" [value]="getValueColumn(item)" [disabled]="!enabled">\n        {{ getOptionDescriptionValue(item) }}\n      </mat-radio-button>\n    </mat-radio-group>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n  <div *ngIf="isReadOnly" (click)="$event.stopPropagation()" class="read-only-blocker" fxFill></div>\n</div>',inputs:Tc,outputs:Ic,providers:[Ce],encapsulation:c.ViewEncapsulation.None,host:{"[class.o-radio]":"true"},styles:[".o-radio .mat-form-field--no-underline .mat-form-field-underline,.o-radio .mat-form-field--no-underline .mat-form-field-underline .mat-form-field-ripple{background-image:none;background-color:transparent}.o-radio .mat-form-field:not(.custom-width).o-radio-from-field-row .mat-form-field-infix{width:auto}.o-radio .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}"]}]}],Sc.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},D([tt(),L("design:type",Boolean)],Sc.prototype,"translate",void 0),Sc);function Sc(t,e,n){n=Cc.call(this,t,e,n)||this;return n.translate=!1,n.layout="column",n.labelPosition="after",n}var Ac=(_c.decorators=[{type:c.NgModule,args:[{declarations:[Oc],imports:[n.CommonModule,Hn],exports:[Oc]}]}],_c);function _c(){}var Dc,Lc=function(t){this.value=t},Rc=w(["trueValue: true-value","falseValue: false-value","booleanType: boolean-type","color","labelPosition: label-position"],Me),xc=w(Ne),wc=(_(Mc,Dc=Pe),Mc.prototype.initialize=function(){if(!k.isDefined(this.sqlType))switch(this.booleanType){case"number":this.sqlType="INTEGER";break;case"string":this.sqlType="VARCHAR";break;case"boolean":default:this.sqlType="BOOLEAN"}this.defaultValue=this.falseValue,Dc.prototype.initialize.call(this)},Mc.prototype.ensureOFormValue=function(t){t instanceof Lc?(k.isDefined(t.value)||(t.value=this.falseValue),this.value=new Lc(t.value)):this.value=new Lc(t===this.trueValue?this.trueValue:this.falseValue)},Mc.prototype.isChecked=function(){return this.value instanceof Lc&&this.value.value===this.trueValue},Mc.prototype.onClickBlocker=function(t){t.stopPropagation()},Mc.decorators=[{type:c.Component,args:[{selector:"o-slide-toggle",inputs:Rc,outputs:xc,template:'<div [class.custom-width]="hasCustomWidth" [formGroup]="getFormGroup()" class="relative" [matTooltip]="tooltip"\n  [matTooltipClass]="tooltipClass" [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay" fxLayout="row" fxLayoutAlign="start center" fxFill>\n  <mat-slide-toggle [id]="getAttribute()" [formControlName]="getAttribute()" [checked]="isChecked()"\n    [required]="isRequired" [labelPosition]="labelPosition" [color]="color" (change)="onChangeEvent($event)">\n    <ng-container *ngIf="labelVisible">{{ olabel | oTranslate }}</ng-container>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-slide-toggle>\n  <div *ngIf="isReadOnly" (click)="onClickBlocker($event)" class="read-only-blocker" fxFill></div>\n</div>',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-slide-toggle]":"true"},styles:[".o-slide-toggle .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}"]}]}],Mc.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},Mc);function Mc(t,e,n){n=Dc.call(this,t,e,n)||this;return n.trueValue=!0,n.falseValue=!1,n.booleanType="boolean",n.labelPosition="after",n._defaultSQLTypeKey="BOOLEAN",n.defaultValue=!1,n}var Nc=(Pc.decorators=[{type:c.NgModule,args:[{declarations:[wc],imports:[n.CommonModule,Hn],exports:[wc]}]}],Pc);function Pc(){}var Fc,kc=w(Me,["color","invert","max","min","step","thumbLabel:thumb-label","tickInterval:tick-interval","layout","oDisplayWith:display-with"]),Bc=w(Ne),Uc=(_(Vc,Fc=Pe),Object.defineProperty(Vc.prototype,"tickInterval",{get:function(){return this._tickInterval},set:function(t){this._tickInterval=t},enumerable:!0,configurable:!0}),Vc.prototype.onClickBlocker=function(t){t.stopPropagation()},Vc.decorators=[{type:c.Component,args:[{selector:"o-slider",host:{"class":"o-slider"},template:'<div [formGroup]="getFormGroup()" class="relative" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass"\n  [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay" [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-slider [color]="color" [invert]="invert" [max]="max" [min]="min" [step]="step" [thumbLabel]="thumbLabel"\n    [tickInterval]="tickInterval" [vertical]="layout===\'column\'" [id]="getAttribute()"\n    [formControlName]="getAttribute()" (change)="onChangeEvent($event)" [displayWith]="oDisplayWith"></mat-slider>\n  <div *ngIf="isReadOnly" (click)="onClickBlocker($event)" class="read-only-blocker" fxFill></div>\n</div>',inputs:kc,outputs:Bc,encapsulation:c.ViewEncapsulation.None,styles:[".o-slider mat-slider{width:100%}.o-slider .read-only-blocker{z-index:2;position:absolute;top:0;left:0;right:0}"]}]}],Vc.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},D([tt(),L("design:type",Boolean)],Vc.prototype,"vertical",void 0),D([tt(),L("design:type",Boolean)],Vc.prototype,"invert",void 0),D([tt(),L("design:type",Boolean)],Vc.prototype,"thumbLabel",void 0),D([tt(),L("design:type",Number)],Vc.prototype,"min",void 0),D([tt(),L("design:type",Number)],Vc.prototype,"max",void 0),D([tt(),L("design:type",Number)],Vc.prototype,"step",void 0),Vc);function Vc(t,e,n){n=Fc.call(this,t,e,n)||this;return n.layout="row",n.vertical=!1,n.invert=!1,n.thumbLabel=!1,n.step=1,n._tickInterval=0,n}var jc=(Gc.decorators=[{type:c.NgModule,args:[{declarations:[Uc],imports:[n.CommonModule,Hn],exports:[Uc]}]}],Gc);function Gc(){}var qc,Hc=w(os,["columns","rows"]),Yc=w(is),zc=(_(Kc,qc=rs),Kc.prototype.isResizable=function(){var t=!0;return t=!this.enabled||this.isReadOnly?!1:t},Kc.decorators=[{type:c.Component,args:[{selector:"o-textarea-input",template:'<div [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass"\n  [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay">\n  <mat-form-field [appearance]="appearance" [floatLabel]="floatLabel" [hideRequiredMarker]="hideRequiredMarker"\n    [class.custom-width]="hasCustomWidth" fxFlexFill>\n    <mat-label *ngIf="labelVisible">{{ olabel | oTranslate }}</mat-label>\n    <textarea matInput class="mat-textarea" type="text" [id]="getAttribute()" [formControlName]="getAttribute()"\n      [placeholder]="placeHolder" (focus)="innerOnFocus($event)" (blur)="innerOnBlur($event)" [readonly]="isReadOnly"\n      [class.no-resize]="!isResizable()" [rows]="rows" [cols]="columns" [required]="isRequired"\n      (change)="onChangeEvent($event)"></textarea>\n    <mat-error *ngIf="hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n  </mat-form-field>\n</div>',inputs:Hc,outputs:Yc,encapsulation:c.ViewEncapsulation.None,styles:[".mat-textarea.no-resize{resize:none}.mat-textarea{resize:vertical}"]}]}],Kc.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector}]},D([tt(),L("design:type",Number)],Kc.prototype,"rows",void 0),D([tt(),L("design:type",Number)],Kc.prototype,"columns",void 0),Kc);function Kc(t,e,n){n=qc.call(this,t,e,n)||this;return n.rows=5,n.columns=3,n}var Wc=(Qc.decorators=[{type:c.NgModule,args:[{declarations:[zc],imports:[n.CommonModule,Hn],exports:[zc]}]}],Qc);function Qc(){}var Xc,$c=w(Me,["oDateFormat: date-format","oDateLocale: date-locale","oDateStartView: date-start-view","oDateMinDate: date-min","oDateMaxDate: date-max","oDateTouchUi: date-touch-ui","oDateStartAt: date-start-at","oDateFilterDate: date-filter-date","oDateTextInputEnabled: date-text-input-enabled","oHourFormat: hour-format","oHourMin: hour-min","oHourMax: hour-max","oHourTextInputEnabled: hour-text-input-enabled","oHourPlaceholder: hour-placeholder","oDatePlaceholder: date-placeholder"]),Zc=w(Ne),Jc=(_(tu,Xc=Pe),tu.prototype.ngOnInit=function(){Xc.prototype.ngOnInit.call(this),this.dateAttr+="_"+this.oattr,this.hourAttr+="_"+this.oattr;var e=this;this.subscription.add(u.merge(this.dateInput.onValueChange,this.hourInput.onValueChange).subscribe(function(t){t.isUserChange()&&(e.updateComponentValue(),t=e._fControl.value,e.emitOnValueChange(Re.USER_CHANGE,t,e.oldValue),e.oldValue=t)}))},tu.prototype.ngAfterViewInit=function(){this.modifyFormControls(),Xc.prototype.ngAfterViewInit.call(this),this.registerFormControls(),this.setInnerComponentsData()},tu.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},tu.prototype.createFormControl=function(t,e){return this._fControl=Xc.prototype.createFormControl.call(this,t,e),this._fControl.fControlChildren=[this.dateInput,this.hourInput],this._fControl},tu.prototype.onFormControlChange=function(t){Xc.prototype.onFormControlChange.call(this,t),this.setInnerComponentsData()},tu.prototype.setValue=function(t,e){var n=this.oldValue!==t;Xc.prototype.setValue.call(this,t,e),n&&this.setInnerComponentsData()},tu.prototype.onClickClearValue=function(t){t.stopPropagation(),t.preventDefault(),this.blockGroupValueChanges=!0,this.clearValue(),this.blockGroupValueChanges=!1},tu.prototype.setInnerComponentsData=function(){var t,e,n;k.isDefined(this.value)&&k.isDefined(this.value.value)&&((n=S(this.value.value)).isValid()&&(t=n.clone().startOf("day").valueOf(),e=n.clone().valueOf()-t)),this.dateInput&&this.dateInput.setValue(t),this.hourInput&&this.hourInput.setTimestampValue(e),this.cd.detectChanges()},tu.prototype.updateComponentValue=function(){this.value||(this.value=new rt);var t=this.formGroup.getRawValue(),e=(t[this.dateAttr]?S(t[this.dateAttr]):S()).startOf("day"),t=S(t[this.hourAttr],this.hourInput.formatString),t=e.clone().set("hour",t.get("hour")).set("minute",t.get("minutes")).valueOf();this._fControl&&(this._fControl.setValue(t),this._fControl.markAsDirty()),this.ensureOFormValue(t)},tu.prototype.modifyFormControls=function(){var t,e;this.dateInput&&((t=this).dateInput.getFormGroup=function(){return t.formGroup}),this.hourInput&&((e=this).hourInput.getFormGroup=function(){return e.formGroup}),this.form&&(this.form.formGroup.removeControl(this.dateAttr),this.form.formGroup.removeControl(this.hourAttr))},tu.prototype.registerFormControls=function(){this.dateInput&&this.dateInput.getFormControl()&&this.formGroup.registerControl(this.dateAttr,this.dateInput.getFormControl()),this.hourInput&&this.hourInput.getFormControl()&&this.formGroup.registerControl(this.hourAttr,this.hourInput.getFormControl())},tu.decorators=[{type:c.Component,args:[{selector:"o-time-input",template:'<div [formGroup]="getFormGroup()" [matTooltip]="tooltip" [matTooltipClass]="tooltipClass"\n  [matTooltipPosition]="tooltipPosition" [matTooltipShowDelay]="tooltipShowDelay"\n  [matTooltipHideDelay]="tooltipHideDelay">\n  <div class="mat-form-field mat-form-field-appearance-legacy" fxLayout="row" fxLayoutAlign="space-between center"\n    fxLayoutGap="8px">\n    <o-date-input #dateInput fxFlex [attr]="dateAttr" [read-only]="readOnly" [enabled]="enabled" [required]="isRequired"\n      [label]="olabel" clear-button="no" automatic-registering="no" automatic-binding="no"\n      (onFocus)="innerOnFocus($event)" (onBlur)="innerOnBlur($event)" [format]="oDateFormat" [locale]="oDateLocale"\n      [start-view]="oDateStartView" [min]="oDateMinDate" [max]="oDateMaxDate" [touch-ui]="oDateTouchUi"\n      [start-at]="oDateStartAt" [filter-date]="oDateFilterDate" [text-input-enabled]="oDateTextInputEnabled"\n      [placeholder]="oDatePlaceholder" [label-visible]="labelVisible" [hide-required-marker]="hideRequiredMarker">\n    </o-date-input>\n\n    <span class="separator">&ndash;</span>\n\n    <o-hour-input #hourInput fxFlex [attr]="hourAttr" [read-only]="readOnly" [enabled]="enabled" [required]="isRequired"\n      clear-button="no" automatic-registering="no" automatic-binding="no" (onFocus)="innerOnFocus($event)"\n      (onBlur)="innerOnBlur($event)" [format]="oHourFormat" [text-input-enabled]="oHourTextInputEnabled"\n      [min]="oHourMin" [max]="oHourMax" hide-required-marker="yes" label-visible="no" [placeholder]="oHourPlaceholder">\n    </o-hour-input>\n\n    <button class="mat-form-field-suffix" type="button" *ngIf="showClearButton" matSuffix mat-icon-button\n      (click)="onClickClearValue($event)">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n  </div>\n\n  <mat-error *ngFor="let oError of getActiveOErrors()" text="{{ oError.text | oTranslate }}"></mat-error>\n</div>',inputs:$c,outputs:Zc,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-time-input]":"true"},styles:[".o-time-input .separator{cursor:default}.o-time-input .mat-form-field.icon-field:not(.custom-width).icon-field-1-suffix .mat-form-field-infix{width:auto}"]}]}],tu.ctorParameters=function(){return[{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]},{type:c.ElementRef},{type:c.Injector},{type:c.ChangeDetectorRef}]},tu.propDecorators={dateInput:[{type:c.ViewChild,args:["dateInput",{"static":!0}]}],hourInput:[{type:c.ViewChild,args:["hourInput",{"static":!0}]}]},D([tt(),L("design:type",Boolean)],tu.prototype,"oDateTouchUi",void 0),D([tt(),L("design:type",Boolean)],tu.prototype,"oDateTextInputEnabled",void 0),D([tt(),L("design:type",Boolean)],tu.prototype,"oHourTextInputEnabled",void 0),tu);function tu(t,e,n,o){n=Xc.call(this,t,e,n)||this;return n.cd=o,n.oDateFormat="L",n.oDateStartView="month",n.oDateTextInputEnabled=!0,n.oHourFormat=24,n.oHourTextInputEnabled=!0,n.oHourPlaceholder="",n.oDatePlaceholder="",n.formGroup=new i.FormGroup({}),n.subscription=new u.Subscription,n.dateAttr="dateInput",n.hourAttr="hourInput",n._defaultSQLTypeKey="DATE",n}var eu=(nu.decorators=[{type:c.NgModule,args:[{declarations:[Jc],imports:[n.CommonModule,Us,Rl,Hn],exports:[Jc]}]}],nu);function nu(){}var ou=/^([a-z]{2})[-|_]([A-Z]{2})$/,iu=(ru.getLanguageCode=function(t){var e=t.match(ou),t=t.toLowerCase();return t=e&&1<e.length?e[1].toLowerCase():t},ru.getCountryCode=function(t){var e=t.match(ou),t=t.toLowerCase();return e&&2<e.length?t=e[2].toLowerCase():"pt"===t&&(t="br"),t},ru);function ru(){}var au=["useFlagIcons: use-flag-icons"],su=["onChange"],lu=(cu.prototype.getFlagClass=function(t){t=iu.getCountryCode(t);return"flag-icon-"+(t="en"!==t?t:"gb")},cu.prototype.getAvailableLangs=function(){return this.availableLangs},cu.prototype.configureI18n=function(t){this.translateService&&this.translateService.getCurrentLang()!==t&&(this.translateService.use(t),this.onChange.emit(t))},cu.prototype.getCurrentLang=function(){return this.translateService.getCurrentLang()},cu.prototype.getCurrentCountry=function(){return iu.getCountryCode(this.getCurrentLang())},cu.decorators=[{type:c.Component,args:[{selector:"o-language-selector",inputs:au,outputs:su,template:'<div fxLayout fxLayoutAlign="center center" fxFill>\n  <button type="button" *ngIf="useFlagIcons" class="menu-button" mat-icon-button [matMenuTriggerFor]="langMenu">\n    <span class="flag-icon {{ getFlagClass(getCurrentCountry()) }}"></span>\n  </button>\n\n  <button type="button" *ngIf="!useFlagIcons" class="menu-button o-language-selector-text" mat-button [matMenuTriggerFor]="langMenu">\n    <span>{{ \'LOCALE_\' + getCurrentLang() | oTranslate }}</span>\n  </button>\n</div>\n\n<mat-menu #langMenu="matMenu" yPosition="below">\n  <button type="button" mat-menu-item *ngFor="let lang of getAvailableLangs()" (click)="configureI18n(lang)">\n    <span *ngIf="useFlagIcons" class="flag-icon {{ getFlagClass(lang) }}"></span>\n    <span>{{ \'LOCALE_\' + lang | oTranslate }}</span>\n  </button>\n</mat-menu>\n',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-language-selector]":"true"},styles:[".o-language-selector .menu-button{margin-left:6px}.o-language-selector .menu-button.o-language-selector-text{padding:0;min-width:40px}"]}]}],cu.ctorParameters=function(){return[{type:c.Injector}]},D([tt(),L("design:type",Boolean)],cu.prototype,"useFlagIcons",void 0),cu);function cu(t){this.injector=t,this.useFlagIcons=!1,this.onChange=new c.EventEmitter,this.translateService=this.injector.get(Ae),this.appConfig=this.injector.get(G),this.availableLangs=this.appConfig.getConfiguration().applicationLocales}var uu=(pu.decorators=[{type:c.NgModule,args:[{declarations:[lu],imports:[Hn,n.CommonModule],exports:[lu]}]}],pu);function pu(){}var du,hu=w(Ea,["quickFilterColumns: quick-filter-columns","refreshButton: refresh-button","route","selectable","odense : dense","deleteButton: delete-button","sortColumns: sort-columns","insertButtonPosition:insert-button-position","insertButtonFloatable:insert-button-floatable"]),mu=["onClick","onDoubleClick","onInsertButtonClick","onItemDeleted","onDataLoaded","onPaginatedDataLoaded"],fu=(_(gu,du=Ca),gu.prototype.ngOnInit=function(){var t=this;this.initialize(),this.subscription.add(this.selection.changed.subscribe(function(){return t.enabledDeleteButton=!t.selection.isEmpty()}))},gu.prototype.ngAfterViewInit=function(){du.prototype.afterViewInit.call(this),this.parseSortColumns(),this.filterCaseSensitive=this.state.hasOwnProperty("filter-case-sensitive")?this.state["filter-case-sensitive"]:this.filterCaseSensitive,k.isDefined(this.searchInputComponent)&&this.registerQuickFilter(this.searchInputComponent)},gu.prototype.ngAfterContentInit=function(){var t=this;this.setListItemDirectivesData(),this.listItemDirectives.changes.subscribe(function(){return t.setListItemDirectivesData()})},gu.prototype.ngOnDestroy=function(){this.destroy(),this.subscription.unsubscribe()},gu.prototype.ngOnChanges=function(t){t.staticData!==undefined&&(this.dataResponseArray=t.staticData.currentValue,t=this.state&&this.state.filterValue?this.state.filterValue:undefined,this.filterData(t))},gu.prototype.getComponentKey=function(){return"OListComponent_"+this.oattr},gu.prototype.initialize=function(){var t;du.prototype.initialize.call(this),this.staticData&&this.staticData.length&&(this.dataResponseArray=this.staticData),k.isDefined(this.quickFilterColumns)||(this.quickFilterColumns=this.columns),this.quickFilterColArray=k.parseArray(this.quickFilterColumns,!0),this.state.hasOwnProperty("queryRecordOffset")&&(t=this.state.queryRecordOffset),this.state.queryRecordOffset=0,this.state.hasOwnProperty("totalQueryRecordsNumber")||(this.state.totalQueryRecordsNumber=0),this.queryOnInit&&(t={offset:0,length:t||this.queryRows},this.queryData(void 0,t))},gu.prototype.reinitialize=function(t){du.prototype.reinitialize.call(this,t)},gu.prototype.registerListItemDirective=function(t){var e=this;t&&(t.onClick(function(t){return e.onItemDetailClick(t)}),t.onDoubleClick(function(t){return e.onItemDetailDoubleClick(t)}))},gu.prototype.getDense=function(){return this.odense},gu.prototype.onListItemClicked=function(t){return Y.subscribe(this.onClick,t)},gu.prototype.onItemDetailClick=function(t){t=t.getItemData();this.oenabled&&this.detailMode===P.DETAIL_MODE_CLICK&&(this.saveDataNavigationInLocalStorage(),this.viewDetail(t)),Y.callEmit(this.onClick,t)},gu.prototype.onItemDetailDoubleClick=function(t){t=t.getItemData();this.oenabled&&P.isDoubleClickMode(this.detailMode)&&(this.saveDataNavigationInLocalStorage(),this.viewDetail(t)),Y.callEmit(this.onDoubleClick,t)},gu.prototype.getDataToStore=function(){var t=du.prototype.getDataToStore.call(this);return this.storePaginationState||delete t.queryRecordOffset,this.quickFilter&&k.isDefined(this.quickFilterComponent)&&(t.quickFilterActiveColumns=this.quickFilterComponent.getActiveColumns().join(P.ARRAY_INPUT_SEPARATOR)),t["filter-case-sensitive"]=this.isFilterCaseSensitive(),t},gu.prototype.reloadData=function(){var t={};this.pageable&&(this.state.queryRecordOffset=0,t={length:Math.max(this.queryRows,this.dataResponseArray.length),replace:!0}),this.selectable&&(this.clearSelection(),this.state.selectedIndexes=[]),this.queryData(void 0,t)},gu.prototype.reloadPaginatedDataFromStart=function(){this.dataResponseArray=[],this.reloadData()},gu.prototype.filterData=function(o,t){var e,i,n;this.state&&(this.state.filterValue=o),this.pageable?(n={offset:0,length:this.queryRows,replace:!0},this.queryData(void 0,n)):o&&0<o.length&&this.dataResponseArray&&0<this.dataResponseArray.length?(i=(e=this).isFilterCaseSensitive(),n=this.dataResponseArray.filter(function(n){return e.getQuickFilterColumns().some(function(t){var e=k.escapeSpecialCharacter(k.normalizeString(o,!i));return new RegExp(e).test(k.normalizeString(n[t]+"",!i))})}),this.setDataArray(n)):this.setDataArray(this.dataResponseArray)},gu.prototype.isItemSelected=function(t){return this.selection.isSelected(t)},gu.prototype.updateSelectedState=function(t,e){var n=this.state.selectedIndexes||[],t=this.dataResponseArray.indexOf(t);e&&-1===n.indexOf(t)?n.push(t):e||n.splice(n.indexOf(t),1),this.state.selectedIndexes=n},gu.prototype.onScroll=function(t){var e;this.pageable&&(e=this.dataResponseArray.length<this.state.totalQueryRecordsNumber,this.loadingSubject.value||!e||(t=t.target).offsetHeight+t.scrollTop+5>=t.scrollHeight&&(t={offset:this.state.queryRecordOffset,length:this.queryRows},this.queryData(void 0,t)))},gu.prototype.remove=function(e){var n=this;void 0===e&&(e=!1);var o=this.getSelectedItems();0<o.length&&this.dialogService.confirm("CONFIRM","MESSAGES.CONFIRM_DELETE").then(function(t){!0===t?n.dataService&&n.deleteMethod in n.dataService&&n.entity&&0<n.keysArray.length?(t=lt.getArrayProperties(o,n.keysArray),u.merge(t.map(function(t){return n.dataService[n.deleteMethod](t,n.entity)})).subscribe(function(t){return t.subscribe(function(){Y.callEmit(n.onItemDeleted,o)},function(t){n.dialogService.alert("ERROR","MESSAGES.ERROR_DELETE")},function(){n.reloadData()})})):n.deleteLocalItems():e&&n.clearSelection()})},gu.prototype.add=function(t){this.onInsertButtonClick.emit(t),du.prototype.insertDetail.call(this)},gu.prototype.parseSortColumns=function(){var t=this.state["sort-columns"]||this.sortColumns;this.sortColArray=lt.parseSortColumns(t)},gu.prototype.getQueryArguments=function(t,e){e=du.prototype.getQueryArguments.call(this,t,e);return this.pageable&&(e[6]=this.sortColArray),e},gu.prototype.registerItem=function(t){this.listItemComponents.push(t),0<this.dataResponseArray.length&&t.setItemData(this.dataResponseArray[this.listItemComponents.length-1])},gu.prototype.setListItemDirectivesData=function(){var n=this;this.listItemDirectives.forEach(function(t,e){t.setItemData(n.dataResponseArray[e]),t.setListComponent(n),n.registerListItemDirective(t)})},gu.prototype.saveDataNavigationInLocalStorage=function(){du.prototype.saveDataNavigationInLocalStorage.call(this),this.storePaginationState=!0},gu.prototype.setData=function(t,e,n){var o,i;if(k.isArray(t)){var r=t;this.pageable&&!n&&(r=(this.dataResponseArray||[]).concat(t));var a=this.state.selectedIndexes||[];try{for(var s=R(a),l=s.next();!l.done;l=s.next()){var c=l.value;c<this.dataResponseArray.length&&this.selection.select(this.dataResponseArray[c])}}catch(u){o={error:u}}finally{try{l&&!l.done&&(i=s["return"])&&i.call(s)}finally{if(o)throw o.error}}this.dataResponseArray=r,this.pageable?this.setDataArray(this.dataResponseArray):this.filterData(this.state.filterValue)}else this.setDataArray([]);this.loaderSubscription&&this.loaderSubscription.unsubscribe(),this.pageable&&Y.callEmit(this.onPaginatedDataLoaded,t),Y.callEmit(this.onDataLoaded,this.dataResponseArray)},gu.decorators=[{type:c.Component,args:[{selector:"o-list",providers:[Ce],inputs:hu,outputs:mu,template:'<div class="o-list-container" [style.display]="isVisible()? \'\' : \'none\'" fxFill>\n  <div *ngIf="loading | async" fxLayoutAlign="center center"\n    [class.pageable-loading]="pageable && state.queryRecordOffset > 0" class="spinner-container">\n    <mat-progress-spinner strokeWidth="3" mode="indeterminate"></mat-progress-spinner>\n  </div>\n\n  <mat-toolbar *ngIf="hasControls()" [class.dense]="odense">\n    <div class="mat-toolbar-tools" fxLayout="row" fxFill fxLayoutAlign="start center">\n      <button *ngIf="insertButton && !insertButtonFloatable" type="button" mat-icon-button aria-label="Insert"\n        (click)="add($event)">\n        <mat-icon svgIcon="ontimize:add"></mat-icon>\n      </button>\n      <button type="button" mat-icon-button aria-label="Refresh" (click)="reloadData()" *ngIf="refreshButton">\n        <mat-icon svgIcon="ontimize:autorenew"></mat-icon>\n      </button>\n\n      <button *ngIf="deleteButton" type="button" mat-icon-button aria-label="Delete" [disabled]="!enabledDeleteButton"\n        [class.disabled]="!enabledDeleteButton" (click)="remove()">\n        <mat-icon svgIcon="ontimize:delete"></mat-icon>\n      </button>\n      <div fxLayoutAlign="center center" fxFlex>\n        <span *ngIf="hasTitle()" fxLayoutAlign="center center">{{ title | oTranslate }}</span>\n      </div>\n      <o-search-input *ngIf="quickFilter" [filter-case-sensitive]="filterCaseSensitive"\n        [show-case-sensitive-checkbox]="showCaseSensitiveCheckbox()" [columns]="quickFilterColumns" placeholder="" appearance="legacy">\n      </o-search-input>\n    </div>\n  </mat-toolbar>\n\n  <div fxLayout="column" class="o-list-content" [class.o-list-content-toolbar]="hasControls() && !odense"\n    [class.o-list-content-toolbar-dense]="hasControls() && odense">\n\n    \x3c!--MAT-LIST--\x3e\n    <mat-list [attr.dense]="odense || undefined" (scroll)="onScroll($event)" [class.selectable]="selectable"\n      [class.o-list-item-has-buttons]="insertButton && (editButtonInRow || detailButtonInRow)">\n\n      <mat-list-item *ngIf="!getDataArray().length" fxLayout="row" fxLayoutAlign="center center"\n        style="cursor: default;">\n        <h3 matLine>\n          {{ \'TABLE.EMPTY\' | oTranslate }}\n          <ng-container *ngIf="getQuickFilterValue().length > 0">\n            {{ \'TABLE.EMPTY_USING_FILTER\' | oTranslate : {values: [getQuickFilterValue()]} }}\n          </ng-container>\n        </h3>\n      </mat-list-item>\n      <ng-content></ng-content>\n    </mat-list>\n\n    \x3c!--INSERT BUTTONcd --\x3e\n    <button type="button" *ngIf="insertButton && insertButtonFloatable && odense" mat-mini-fab (click)="add($event)"\n      class="add-button" [class.add-button-bottom]="insertButtonPosition ===\'bottom\'"\n      [class.add-button-top]="insertButtonPosition ===\'top\'">\n      <mat-icon svgIcon="ontimize:add"></mat-icon>\n    </button>\n    <button type="button" *ngIf="insertButton && insertButtonFloatable && !odense" mat-fab (click)="add($event)"\n      class="add-button add-button-bottom" [class.add-button-bottom]="insertButtonPosition ===\'bottom\'"\n      [class.add-button-top]="insertButtonPosition ===\'top\'">\n      <mat-icon svgIcon="ontimize:add"></mat-icon>\n    </button>\n  </div>\n</div>',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-list]":"true"},styles:["::-webkit-input-placeholder{color:#8e0c39}:-moz-placeholder{color:#8e0c39;opacity:1}::-moz-placeholder{color:#8e0c39;opacity:1}:-ms-input-placeholder{color:#8e0c39}:placeholder-shown{color:#8e0c39}.o-list-container{position:relative;flex-direction:column}.o-list-container .mat-toolbar.dense{height:48px}.o-list-container .o-list-content{height:100%}.o-list-container .o-list-content.o-list-content-toolbar{height:calc(100% - 64px)}.o-list-container .o-list-content.o-list-content-toolbar-dense{height:calc(100% - 48px)}.o-list-container .o-list-content.o-list-content-toolbar-dense .add-button.add-button-top{top:60px}.o-list-container .o-list-title{font-size:1.5em}.o-list-container .spinner-container{position:absolute;top:0;bottom:0;left:0;right:0;z-index:500}.o-list-container .spinner-container:not(.pageable-loading){top:0;background:#fff}.o-list-container .spinner-container.pageable-loading{background:rgba(255,255,255,.5)}.o-list-container .spinner-container path{stroke-width:5px!important}.o-list-container .mat-list{overflow:auto}.o-list-container .mat-list .mat-3-line .o-custom-list-item{position:relative}.o-list-container .mat-list .o-custom-list-item{max-width:100%;width:100%}.o-list-container .mat-list .o-custom-list-item .o-list-item-icon{cursor:pointer;padding-right:6px}.o-list-container .mat-list.o-list-item-has-buttons .o-list-item .mat-list-item-content{padding-right:72px}.o-list-container .mat-list.o-list-item-has-buttons[dense] .o-list-item .mat-list-item-content{padding-right:56px}.o-list-container .mat-list .o-list-item.mat-card,.o-list-container .mat-list .o-list-item.mat-list-item{margin:6px 0}.o-list-container .add-button{right:12px;position:absolute}.o-list-container .add-button.add-button-bottom{bottom:12px}.o-list-container .add-button.add-button-top{top:88px}"]}]}],gu.ctorParameters=function(){return[{type:c.Injector},{type:c.ElementRef},{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]}]},gu.propDecorators={listItemDirectives:[{type:c.ContentChildren,args:[K]}]},D([tt(),L("design:type",Boolean)],gu.prototype,"refreshButton",void 0),D([tt(),L("design:type",Boolean)],gu.prototype,"selectable",void 0),D([tt(),L("design:type",Boolean)],gu.prototype,"odense",void 0),D([tt(),L("design:type",Boolean)],gu.prototype,"deleteButton",void 0),D([tt(),L("design:type",Boolean)],gu.prototype,"insertButtonFloatable",void 0),gu);function gu(t,e,n){n=du.call(this,t,e,n)||this;return n.listItemComponents=[],n.refreshButton=!0,n.selectable=!1,n.odense=!1,n.deleteButton=!0,n.insertButtonFloatable=!0,n.sortColArray=[],n.onClick=new c.EventEmitter,n.onDoubleClick=new c.EventEmitter,n.onInsertButtonClick=new c.EventEmitter,n.onItemDeleted=new c.EventEmitter,n.onDataLoaded=new c.EventEmitter,n.onPaginatedDataLoaded=new c.EventEmitter,n.selection=new f.SelectionModel(!0,[]),n.enabledDeleteButton=!1,n.insertButtonPosition="bottom",n.dataResponseArray=[],n.storePaginationState=!1,n.subscription=new u.Subscription,n}var yu=(Object.defineProperty(bu.prototype,"_hasAvatar",{set:function(t){var e=this.elRef.nativeElement.getElementsByTagName("mat-list-item");e&&1===e.length&&(null!==t&&t!==undefined?this._renderer.addClass(e[0],"mat-list-avatar"):this._renderer.removeClass(e[0],"mat-list-avatar"))},enumerable:!0,configurable:!0}),bu.prototype.ngOnInit=function(){this._list.registerItem(this)},bu.prototype.ngAfterContentInit=function(){var e=this._lines,n=this._innerListItem.ngAfterContentInit;this._innerListItem.ngAfterContentInit=function(){var t=this._element.nativeElement.querySelector(".mat-list-text:empty");t&&t.remove(),this._lines=e,n.apply(this)}},bu.prototype.onClick=function(t){this._list.detailButtonInRow||this._list.onItemDetailClick(this)},bu.prototype.onDoubleClick=function(t){this._list.detailButtonInRow||this._list.onItemDetailDoubleClick(this)},bu.prototype.onDetailIconClicked=function(t){k.isDefined(t)&&t.stopPropagation(),this._list.viewDetail(this.modelData)},bu.prototype.onEditIconClicked=function(t){k.isDefined(t)&&t.stopPropagation(),this._list.editDetail(this.modelData)},bu.prototype.setItemData=function(t){this.modelData||(this.modelData=t)},bu.prototype.getItemData=function(){return this.modelData},bu.prototype.onCheckboxChange=function(t){this._list.selectable&&this._list.setSelected(this.modelData)},Object.defineProperty(bu.prototype,"isSelected",{get:function(){return this._list.selection.isSelected(this.modelData)},enumerable:!0,configurable:!0}),bu.decorators=[{type:c.Component,args:[{selector:"o-list-item",template:'<mat-list-item #innerListItem>\n  <div class="o-list-row-action o-list-item-selection-check" *ngIf="_list && _list.selectable">\n    <mat-checkbox [checked]="isSelected" (change)="onCheckboxChange($event)"></mat-checkbox>\n  </div>\n  <ng-content select="[o-list-item-avatar], [matListAvatar], [matListIcon]"> </ng-content>\n  <div class="mat-list-text">\n    <ng-content select="[matLine]"></ng-content>\n  </div>\n  <ng-content></ng-content>\n  <div fxLayout="row" class="row-buttons-container">\n    <div class="o-list-row-action o-list-item-icon" *ngIf="_list && _list.editButtonInRow"\n      (click)="onEditIconClicked($event)">\n      <mat-icon class="material-icons">{{ _list.editButtonInRowIcon }}</mat-icon>\n    </div>\n    <div class="o-list-row-action o-list-item-icon" *ngIf="_list && _list.detailButtonInRow"\n      (click)="onDetailIconClicked($event)">\n      <mat-icon class="material-icons">{{ _list.detailButtonInRowIcon }}</mat-icon>\n    </div>\n  </div>\n</mat-list-item>',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-list-item]":"true"},styles:[".o-list-item{display:flex}.o-list-item .mat-list-item{width:100%}.o-list-item .mat-list-item .o-list-item-selection-check{padding-right:16px}.o-list-item .mat-list-item .row-buttons-container .o-list-row-action{height:24px;text-align:center;cursor:pointer}.mat-list[dense] .o-list-item .o-list-row-action .mat-checkbox-inner-container{height:16px;width:16px}"]}]}],bu.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2},{type:c.Injector},{type:fu,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return fu})]}]}]},bu.propDecorators={_lines:[{type:c.ContentChildren,args:[d.MatLine]}],_innerListItem:[{type:c.ViewChild,args:["innerListItem",{"static":!0}]}],_hasAvatar:[{type:c.ContentChild,args:[d.MatListAvatarCssMatStyler,{"static":!1}]}]},bu);function bu(t,e,n,o){this.elRef=t,this._renderer=e,this._injector=n,this._list=o,this._isSelected=!1}var vu=["title","primaryText : primary-text","secondaryText : secondary-text","icon"],Eu=["onIconClick : icon-action"],Cu=(Tu.prototype.modifyMatListItemElement=function(){var t,e;this.elRef.nativeElement&&this.elRef.nativeElement.parentElement&&((t=this.elRef.nativeElement.parentElement.parentElement)&&"MAT-LIST-ITEM"===t.nodeName&&(e=3,this.title===undefined&&e--,this.primaryText===undefined&&e--,this.secondaryText===undefined&&e--,t.classList.add("mat-"+e+"-line"),t.querySelector(".mat-list-text").remove()))},Tu.prototype.onActionIconClick=function(t){k.isDefined(t)&&t.stopPropagation(),this.onIconClick.emit(t)},Object.defineProperty(Tu.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(Tu.prototype,"primaryText",{get:function(){return this._primaryText},set:function(t){this._primaryText=t},enumerable:!0,configurable:!0}),Object.defineProperty(Tu.prototype,"secondaryText",{get:function(){return this._secondaryText},set:function(t){this._secondaryText=t},enumerable:!0,configurable:!0}),Object.defineProperty(Tu.prototype,"icon",{get:function(){return this._icon},set:function(t){this._icon=t},enumerable:!0,configurable:!0}),Tu);function Tu(t,e,n,o){this.elRef=t,this._renderer=e,this._injector=n,this._listItem=o,this.onIconClick=new c.EventEmitter}var Iu,Ou=w(vu,["avatar","emptyAvatar: empty-avatar","avatarType: avatar-type"]),Su=w(Eu),Au=(_(_u,Iu=Cu),_u.prototype.ngAfterViewInit=function(){this.modifyMatListItemElement()},_u.prototype.ngOnInit=function(){var t=this.avatar;if(this.avatar)switch(this.avatarType){case"base64":t="data:image/png;base64,"+("undefined"!=typeof t.bytes?t.bytes:t);break;case"url":default:t=this.avatar}else t=this.emptyAvatar;this.avatarSrc=this.sanitizer.bypassSecurityTrustResourceUrl(t)},Object.defineProperty(_u.prototype,"avatarSrc",{get:function(){return this._avatarSrc},set:function(t){this._avatarSrc=t},enumerable:!0,configurable:!0}),_u.decorators=[{type:c.Component,args:[{selector:"o-list-item-avatar",template:'<div fxLayout="row" fxLayoutAlign="center center">\n  <img matListAvatar class="avatar" [src]="avatarSrc" [alt]="title">\n  <div class="mat-list-text">\n    <h3 matLine class="primary-text"> {{ title }} </h3>\n    <h4 *ngIf="primaryText !== undefined" matLine class="primary-text">{{ primaryText }}</h4>\n    <p *ngIf="secondaryText !== undefined" matLine class="secondary-text">{{ secondaryText }}</p>\n  </div>\n  <mat-icon *ngIf="icon !== undefined" class="material-icons o-list-item-icon" (click)="onActionIconClick($event)">{{ icon\n    }}\n  </mat-icon>\n</div>\n',inputs:Ou,outputs:Su,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-custom-list-item]":"true","[class.o-list-item-avatar]":"true"},styles:[".o-list-row-action+.o-list-item-avatar{padding:0 0 0 10px}.mat-list.selectable .o-list-item-avatar .mat-list-text{padding-right:0}.mat-list .mat-list-item .mat-list-item-content .o-list-item-avatar.o-custom-list-item .mat-list-text,.mat-nav-list .mat-list-item .mat-list-item-content .o-list-item-avatar.o-custom-list-item .mat-list-text{padding:0 16px}"]}]}],_u.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2},{type:c.Injector},{type:yu,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return yu})]}]},{type:o.DomSanitizer}]},_u);function _u(t,e,n,o,i){n=Iu.call(this,t,e,n,o)||this;return n._listItem=o,n.sanitizer=i,n}var Du=["title","subtitle","image","showImage: show-image","action1Text: action-1-text","action2Text: action-2-text"],Lu=["onAction1Click: action-1","onAction2Click: action-2"],Ru=(xu.prototype.modifyMatListItemElement=function(){var t;this.elRef.nativeElement&&this.elRef.nativeElement.parentElement&&((t=this.elRef.nativeElement.parentElement.parentElement).querySelector(".mat-list-text").remove(),t.classList.add("o-card-item"))},xu.prototype.onAction1ButtonClick=function(t){k.isDefined(t)&&t.stopPropagation(),this.onAction1Click.emit(t)},xu.prototype.onAction2ButtonClick=function(t){k.isDefined(t)&&t.stopPropagation(),this.onAction2Click.emit(t)},xu.prototype.compareListHeight=function(t){return t===this._listItem._list.rowHeight||undefined},Object.defineProperty(xu.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(xu.prototype,"subtitle",{get:function(){return this._subtitle},set:function(t){this._subtitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(xu.prototype,"image",{get:function(){return this._image},set:function(t){this._image=t},enumerable:!0,configurable:!0}),Object.defineProperty(xu.prototype,"showImage",{get:function(){return this._showImage},set:function(t){this._showImage=t},enumerable:!0,configurable:!0}),Object.defineProperty(xu.prototype,"action1Text",{get:function(){return this._action1Text},set:function(t){this._action1Text=t},enumerable:!0,configurable:!0}),Object.defineProperty(xu.prototype,"action2Text",{get:function(){return this._action2Text},set:function(t){this._action2Text=t},enumerable:!0,configurable:!0}),xu);function xu(t,e,n,o){this.elRef=t,this._renderer=e,this._injector=n,this._listItem=o,this._showImage=!0,this.onAction1Click=new c.EventEmitter,this.onAction2Click=new c.EventEmitter}var wu,Mu=w(Du,["avatar"]),Nu=w(Lu),Pu=(_(Fu,wu=Ru),Fu.prototype.ngAfterViewInit=function(){this.modifyMatListItemElement()},Fu.prototype.onActionIconClick=function(t){k.isDefined(t)&&t.stopPropagation(),this.onIconClick.emit(t)},Object.defineProperty(Fu.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t},enumerable:!0,configurable:!0}),Object.defineProperty(Fu.prototype,"avatar",{get:function(){return this._avatar},set:function(t){this._avatar=t},enumerable:!0,configurable:!0}),Object.defineProperty(Fu.prototype,"icon",{get:function(){return this._icon},set:function(t){this._icon=t},enumerable:!0,configurable:!0}),Object.defineProperty(Fu.prototype,"collapsible",{get:function(){return this._collapsible},set:function(t){this._collapsible=t},enumerable:!0,configurable:!0}),Object.defineProperty(Fu.prototype,"collapsed",{get:function(){return this._collapsed},set:function(t){this._collapsed=t},enumerable:!0,configurable:!0}),Fu.decorators=[{type:c.Component,args:[{selector:"o-list-item-card-image",template:'<mat-card fxLayout="column" fxLayoutAlign="center center" class="o-item-card" [class.small]="compareListHeight(\'small\')"\n  [class.medium]="compareListHeight(\'medium\')" [class.large]="compareListHeight(\'large\')">\n\n  <mat-card-header *ngIf="avatar !== undefined">\n    <img matCardAvatar src="{{ avatar }}">\n    <mat-card-title *ngIf="title !== undefined"> {{ title }}</mat-card-title>\n    <mat-card-subtitle *ngIf="subtitle !== undefined"> {{ subtitle }}</mat-card-subtitle>\n  </mat-card-header>\n\n  <img *ngIf="image !== undefined" matCardImage src="{{ image }}" [class.exists-action-button]="icon !== undefined">\n\n  <button type="button" *ngIf="icon !== undefined && compareListHeight(\'small\')" mat-mini-fab (click)="onActionIconClick($event)" class="action-button">\n    <mat-icon>{{ icon }}</mat-icon>\n  </button>\n\n  <button type="button" *ngIf="icon !== undefined && (compareListHeight(\'medium\') || compareListHeight(\'large\'))" mat-fab (click)="onActionIconClick($event)"\n    class="action-button">\n    <mat-icon>{{ icon }}</mat-icon>\n  </button>\n\n  <mat-card-title *ngIf="avatar === undefined && title !== undefined"> {{ title }}</mat-card-title>\n  <mat-card-subtitle *ngIf="avatar === undefined && subtitle !== undefined"> {{ subtitle }}</mat-card-subtitle>\n\n  <mat-card-content *ngIf="!collapsible">\n    <p>\n      {{ content }}\n    </p>\n  </mat-card-content>\n\n  <mat-card-actions>\n    <button type="button" mat-button *ngIf="action1Text !== undefined" (click)="onAction1ButtonClick($event)">{{ action1Text }}</button>\n    <button type="button" mat-button *ngIf="action2Text !== undefined" (click)="onAction2ButtonClick($event)">{{ action2Text }}</button>\n\n    <div class="collapse-button-container">\n      <button type="button" mat-icon-button *ngIf="collapsible" (click)="collapsed = !collapsed" class="collapse-button">\n        <mat-icon *ngIf="collapsed" svgIcon="ontimize:keyboard_arrow_down"></mat-icon>\n        <mat-icon *ngIf="!collapsed" svgIcon="ontimize:keyboard_arrow_up"></mat-icon>\n      </button>\n    </div>\n  </mat-card-actions>\n\n  <mat-card-content *ngIf="collapsible && !collapsed">\n    <p>\n      {{ content }}\n    </p>\n  </mat-card-content>\n\n</mat-card>',inputs:w(Mu,["content","avatar","icon","collapsible","collapsed"]),outputs:w(Nu,["onIconClick : icon-action"]),encapsulation:c.ViewEncapsulation.None,host:{"[class.o-custom-list-item]":"true","[class.o-list-item-card-image]":"true"},styles:[".mat-list .mat-list-item.o-card-item,.mat-list .mat-list-item.o-card-item .mat-list-item-content{height:auto}.o-list-item-card-image{padding:8px 0}.o-list-item-card-image .mat-card mat-card-actions,.o-list-item-card-image .mat-card mat-card-header,.o-list-item-card-image .mat-card mat-card-subtitle,.o-list-item-card-image .mat-card mat-card-title,.o-list-item-card-image .mat-card.large{width:100%}.o-list-item-card-image .mat-card.medium{width:80%;margin-left:auto;margin-right:auto}.o-list-item-card-image .mat-card.small{width:60%;margin-left:auto;margin-right:auto}.o-list-item-card-image .mat-card.small img.exists-action-button{margin-bottom:-20px}.o-list-item-card-image .mat-card:not(.small):not(.medium):not(.large){width:100%}.o-list-item-card-image .mat-card .action-button{margin-left:auto}.o-list-item-card-image .mat-card img.exists-action-button{margin-bottom:-28px}.o-list-item-card-image .mat-card .collapse-button-container{flex:1 1 auto;position:relative}.o-list-item-card-image .mat-card .collapse-button-container .collapse-button{margin-left:calc(100% - 40px)}"]}]}],Fu.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2},{type:c.Injector},{type:yu,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return yu})]}]}]},D([tt(),L("design:type",Boolean)],Fu.prototype,"_collapsible",void 0),D([tt(),L("design:type",Boolean)],Fu.prototype,"_collapsed",void 0),Fu);function Fu(t,e,n,o){o=wu.call(this,t,e,n,o)||this;return o._collapsible=!1,o._collapsed=!0,o.onIconClick=new c.EventEmitter,o}var ku,Bu=w(Du),Uu=w(Lu),Vu=(_(ju,ku=Ru),ju.prototype.ngAfterViewInit=function(){this.modifyMatListItemElement()},ju.decorators=[{type:c.Component,args:[{selector:"o-list-item-card",template:'<mat-card fxLayout="column" fxLayoutAlign="center center">\n  <mat-card-title-group>\n    <img *ngIf="showImage" src="{{ image }}" [class.mat-card-sm-image]="compareListHeight(\'small\')" [class.mat-card-md-image]="compareListHeight(\'medium\')"\n      [class.mat-card-lg-image]="compareListHeight(\'large\')">\n    <mat-card-title *ngIf="title !== undefined"> {{ title }}</mat-card-title>\n    <mat-card-subtitle *ngIf="subtitle !== undefined"> {{ subtitle }}</mat-card-subtitle>\n  </mat-card-title-group>\n  <mat-card-actions>\n    <button type="button" mat-button *ngIf="action1Text !== undefined" (click)="onAction1ButtonClick($event)">{{ action1Text }}</button>\n    <button type="button" mat-button *ngIf="action2Text !== undefined" (click)="onAction2ButtonClick($event)">{{ action2Text }}</button>\n  </mat-card-actions>\n</mat-card>\n',inputs:Bu,outputs:Uu,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-custom-list-item]":"true","[class.o-list-item-card]":"true"},styles:[".mat-list .mat-list-item.o-card-item,.mat-list .mat-list-item.o-card-item .mat-list-item-content{height:auto}.o-list-item-card{padding:8px 0}.o-list-item-card mat-card,.o-list-item-card mat-card-actions,.o-list-item-card mat-card-title-group{width:100%}"]}]}],ju.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2},{type:c.Injector},{type:yu,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return yu})]}]}]},ju);function ju(t,e,n,o){return ku.call(this,t,e,n,o)||this}var Gu,qu=w(vu,["iconPosition : icon-position"]),Hu=w(Eu),Yu=(_(zu,Gu=Cu),zu.prototype.ngOnInit=function(){this.iconPosition&&-1!==[this.ICON_POSITION_LEFT,this.ICON_POSITION_RIGHT].indexOf(this.iconPosition.toLowerCase())||(this.iconPosition=this.ICON_POSITION_RIGHT)},zu.prototype.ngAfterViewInit=function(){this.modifyMatListItemElement()},Object.defineProperty(zu.prototype,"iconPosition",{get:function(){return this._iconPosition},set:function(t){this._iconPosition=t},enumerable:!0,configurable:!0}),zu.decorators=[{type:c.Component,args:[{selector:"o-list-item-text",template:'<div fxLayout="row" fxLayoutAlign="center center">\n  <mat-icon *ngIf="icon !== undefined && iconPosition === ICON_POSITION_LEFT" class="material-icons o-list-item-icon" (click)="onActionIconClick($event)">{{\n    icon }}</mat-icon>\n  <div class="mat-list-text">\n    <h3 matLine class="primary-text"> {{ title }} </h3>\n    <h4 *ngIf="primaryText !== undefined" matLine class="primary-text">{{ primaryText }}</h4>\n    <p *ngIf="secondaryText !== undefined" matLine class="secondary-text">{{ secondaryText }}</p>\n  </div>\n  <mat-icon *ngIf="icon !== undefined && iconPosition === ICON_POSITION_RIGHT" class="material-icons o-list-item-icon" (click)="onActionIconClick($event)">{{\n    icon }}\n  </mat-icon>\n</div>\n',inputs:qu,outputs:Hu,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-custom-list-item]":"true"},styles:[".mat-list.selectable[dense] .mat-list-item-content{padding-right:32px}.mat-list.selectable:not([dense]) .mat-list-item-content{padding-right:36px}"]}]}],zu.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2},{type:c.Injector},{type:yu,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return yu})]}]}]},zu);function zu(t,e,n,o){n=Gu.call(this,t,e,n,o)||this;return n._listItem=o,n.ICON_POSITION_LEFT="left",n.ICON_POSITION_RIGHT="right",n.elRef.nativeElement.classList.add("o-list-item-text"),n}var Ku=(Wu.decorators=[{type:c.NgModule,args:[{declarations:[fu,yu,Au,Pu,Vu,Yu],imports:[n.CommonModule,aa,Hn,p.RouterModule],exports:[fu,yu,Au,Pu,Vu,Yu],entryComponents:[d.MatCheckbox]}]}],Wu);function Wu(){}(Eg=O.ColumnValueFilterOperator||(O.ColumnValueFilterOperator={}))[Eg.IN=0]="IN",Eg[Eg.LESS_EQUAL=1]="LESS_EQUAL",Eg[Eg.MORE_EQUAL=2]="MORE_EQUAL",Eg[Eg.BETWEEN=3]="BETWEEN",Eg[Eg.EQUAL=4]="EQUAL",(Tg=O.TableFilterByColumnDialogResult||(O.TableFilterByColumnDialogResult={}))[Tg.ACCEPT=0]="ACCEPT",Tg[Tg.CANCEL=1]="CANCEL",Tg[Tg.CLEAR=2]="CLEAR";var Qu=(Object.defineProperty(Xu.prototype,"editing",{get:function(){return this._editing},set:function(t){"boolean"===this.type&&this.editor&&this.editor.autoCommit&&(this._editing=!1),this._editing=null!=this.editor&&t},enumerable:!0,configurable:!0}),Xu.prototype.setDefaultProperties=function(t){this.type="string",this.className="o-column-"+this.type+" ",this.orderable=t.orderable,this.resizable=t.resizable,this.searchable=!0,this.searching=!0,this.name=this.attr,this.title=this.attr,this.multiline=!1},Xu.prototype.setColumnProperties=function(t){this.title=k.isDefined(t.title)?t.title:t.attr,this.definition=t,this.multiline=t.multiline,k.isDefined(t.minWidth)&&(this.minWidth=t.minWidth),k.isDefined(t.maxWidth)&&(this.maxWidth=t.maxWidth),k.isDefined(t.orderable)&&(this.orderable=t.orderable),k.isDefined(t.resizable)&&(this.resizable=t.resizable),k.isDefined(t.searchable)&&(this.searchable=t.searchable),k.isDefined(t.renderer)&&(this.renderer=t.renderer),k.isDefined(t.editor)&&(this.editor=t.editor),k.isDefined(t.type)&&(this.type=t.type,this.className="o-column-"+this.type+" "),k.isDefined(t.getSQLType)&&(this.sqlType=t.getSQLType()),k.isDefined(t["class"])&&(this.className=k.isDefined(this.className)?this.className+" "+t["class"]:t["class"]),(k.isDefined(t.operation)||k.isDefined(t.functionOperation))&&(this.calculate=t.operation||t.functionOperation),k.isDefined(t.tooltip)&&t.tooltip&&(this.tooltip={value:t.tooltipValue,"function":t.tooltipFunction}),k.isDefined(t.filterExpressionFunction)&&(this.filterExpressionFunction=t.filterExpressionFunction)},Object.defineProperty(Xu.prototype,"searchable",{get:function(){return this._searchable},set:function(t){this._searchable=t,this.searching=t},enumerable:!0,configurable:!0}),Object.defineProperty(Xu.prototype,"multiline",{get:function(){return this._multiline},set:function(t){t=k.parseBoolean(String(t)),this._multiline=t,this.multilineSubject.next(this._multiline)},enumerable:!0,configurable:!0}),Xu.prototype.hasTooltip=function(){return k.isDefined(this.tooltip)},Xu.prototype.getTooltip=function(t){if(!this.hasTooltip())return undefined;var e;if(k.isDefined(this.tooltip.value))e=this.tooltip.value;else if(k.isDefined(this.tooltip["function"]))try{e=this.tooltip["function"](t)}catch(n){console.warn("o-table-column tooltip-function didnt worked")}else e=k.isDefined(this.renderer)?this.renderer.getTooltip(t[this.name],t):t[this.name];return e},Xu.prototype.getMinWidth=function(){return k.isDefined(this.width)?this.width:this.minWidth},Xu.prototype.getMinWidthValue=function(){return k.extractPixelsValue(this.minWidth,P.DEFAULT_COLUMN_MIN_WIDTH)},Xu.prototype.getMaxWidthValue=function(){var t=k.extractPixelsValue(this.maxWidth);return t||undefined},Xu.prototype.getRenderWidth=function(t,e){if(k.isDefined(this.width))return this.width;var n=k.extractPixelsValue(this.minWidth,P.DEFAULT_COLUMN_MIN_WIDTH);k.isDefined(n)&&0<e&&e<n&&(this.DOMWidth=n),k.isDefined(this.maxWidth)&&(n=k.extractPixelsValue(this.maxWidth),k.isDefined(n)&&n<e&&(this.DOMWidth=n));t=t?undefined:"auto";return k.isDefined(this.DOMWidth)?this.DOMWidth+"px":t},Object.defineProperty(Xu.prototype,"width",{get:function(){return this._width},set:function(t){var e=t,t=k.extractPixelsValue(t);k.isDefined(t)&&(this.DOMWidth=t,e=undefined),this._width=e},enumerable:!0,configurable:!0}),Xu.prototype.getWidthToStore=function(){return this._width||this.DOMWidth},Xu.prototype.setWidth=function(t){this.width=t+"px",this.DOMWidth=t},Xu.prototype.getTitleAlignClass=function(){return k.isDefined(this.definition)&&this.definition.titleAlign||P.COLUMN_TITLE_ALIGN_CENTER},Xu.prototype.getFilterValue=function(t,e){return this.renderer?this.renderer.getFilter(t,e):[t]},Xu.prototype.useCustomFilterFunction=function(){return this.searching&&this.visible&&null!=this.renderer&&null!=this.renderer.filterFunction},Xu.prototype.useQuickfilterFunction=function(){return this.searching&&this.visible&&!(null!=this.renderer&&null!=this.renderer.filterFunction)},Xu);function Xu(){this._editing=!1,this.multilineSubject=new u.BehaviorSubject(this.multiline),this.isMultiline=this.multilineSubject.asObservable()}var $u=(Object.defineProperty(Zu.prototype,"visibleColumns",{get:function(){return this._visibleColumns},set:function(t){var e=this;this._visibleColumns=t,this.columns.forEach(function(t){t.visible=-1!==e._visibleColumns.indexOf(t.attr)})},enumerable:!0,configurable:!0}),Object.defineProperty(Zu.prototype,"columnsInsertables",{get:function(){return this._visibleColumns.map(function(t){return t+P.SUFFIX_COLUMN_INSERTABLE})},enumerable:!0,configurable:!0}),Object.defineProperty(Zu.prototype,"selectColumn",{get:function(){return this._selectColumn},set:function(t){this._selectColumn=t,this.selectColumn.name=P.NAME_COLUMN_SELECT,this.selectColumn.title="",this.selectColumn.visible=!1},enumerable:!0,configurable:!0}),Object.defineProperty(Zu.prototype,"expandableColumn",{get:function(){return this._expandableColumn},set:function(t){this._expandableColumn=t,this._expandableColumn.name=P.NAME_COLUMN_EXPANDABLE,this._expandableColumn.title="",this._expandableColumn.visible=!0,this._expandableColumn.resizable=!1,this._expandableColumn.searchable=!1},enumerable:!0,configurable:!0}),Zu);function Zu(){this.columns=[],this.filter=!0,this.filterCaseSensitive=!1,this._visibleColumns=[],this.selectColumn=new Qu,this.selectColumn.name=P.NAME_COLUMN_SELECT,this.selectColumn.title="",this.selectColumn.visible=!1}var Ju=(tp.prototype.ngAfterViewInit=function(){this.initializeFilterEvent()},Object.defineProperty(tp.prototype,"listData",{get:function(){return this._listData},set:function(t){this._listData=t},enumerable:!0,configurable:!0}),tp.prototype.initializeDataList=function(t){(this.preloadValues||t&&t.operator===O.ColumnValueFilterOperator.IN)&&(this.activeSortDirection===P.ASC_SORT||this.activeSortDirection===P.DESC_SORT?this.sortData():this.listDataSubject.next(this.columnData.slice()))},tp.prototype.initializeFilterEvent=function(){var t;this.filter&&(t=this,u.fromEvent(this.filter.nativeElement,"keyup").pipe(l.debounceTime(150)).pipe(l.distinctUntilChanged()).subscribe(function(){var e=t.filter.nativeElement.value;-1!==(e=k.normalizeString(e)).indexOf("*")?t.listDataSubject.next(t.columnData.filter(function(t){return new RegExp("^"+k.normalizeString(e).split("*").join(".*")+"$").test(k.normalizeString(t.renderedValue))})):t.listDataSubject.next(t.columnData.filter(function(t){return-1!==k.normalizeString(t.renderedValue).indexOf(e)}))}))},tp.prototype.initializeCustomFilterValues=function(t){t.operator!==O.ColumnValueFilterOperator.IN&&(O.ColumnValueFilterOperator.EQUAL===t.operator&&this.isTextType()&&this.fcText.setValue(t.values),t.operator===O.ColumnValueFilterOperator.BETWEEN?this.isDateType()?(this.fcFrom.setValue(new Date(t.values[0])),this.fcTo.setValue(new Date(t.values[1]))):(this.fcFrom.setValue(t.values[0]),this.fcTo.setValue(t.values[1])):(t.operator===O.ColumnValueFilterOperator.MORE_EQUAL&&(this.isDateType()?this.fcFrom.setValue(new Date(t.values)):this.fcFrom.setValue(t.values)),t.operator===O.ColumnValueFilterOperator.LESS_EQUAL&&(this.isDateType()?this.fcTo.setValue(new Date(t.values)):this.fcTo.setValue(t.values))))},Object.defineProperty(tp.prototype,"selectedValues",{get:function(){return this.filterValueList?this.filterValueList.selectedOptions.selected:[]},enumerable:!0,configurable:!0}),tp.prototype.areAllSelected=function(){return this.selectedValues.length===this.columnData.length},tp.prototype.isIndeterminate=function(){return 0<this.selectedValues.length&&this.selectedValues.length!==this.columnData.length},tp.prototype.onSelectAllChange=function(t){t.checked?this.filterValueList.selectAll():this.filterValueList.deselectAll()},tp.prototype.getDistinctValues=function(t,n){var o=this,e=this.getColumnDataUsingRenderer(),i=t.map(function(t){return t[o.column.attr]});e.forEach(function(e,t){o.columnData.find(function(t){return t.renderedValue===e})||o.columnData.push({renderedValue:e,value:i[t],selected:n.operator===O.ColumnValueFilterOperator.IN&&-1!==(n.values||[]).indexOf(i[t]),tableIndex:t})})},tp.prototype.getColumnValuesFilter=function(){var t,e,n={attr:this.column.attr,operator:undefined,values:undefined};return this.isCustomFilterSubject.getValue()?(this.fcText.value&&(n.operator=O.ColumnValueFilterOperator.EQUAL,n.values=this.getTypedValue(this.fcText)),this.fcFrom.value&&this.fcTo.value?(n.operator=O.ColumnValueFilterOperator.BETWEEN,t=this.getTypedValue(this.fcFrom),e=this.getTypedValue(this.fcTo),n.values=t<=e?[t,e]:[e,t]):(this.fcFrom.value&&(n.operator=O.ColumnValueFilterOperator.MORE_EQUAL,n.values=this.getTypedValue(this.fcFrom)),this.fcTo.value&&(n.operator=O.ColumnValueFilterOperator.LESS_EQUAL,n.values=this.getTypedValue(this.fcTo)))):this.selectedValues.length&&(n.operator=O.ColumnValueFilterOperator.IN,n.values=this.selectedValues.map(function(t){return t.value})),n},tp.prototype.clearValues=function(){this.isTextType()?this.fcText.setValue(undefined):(this.isDateType()||this.isNumericType)&&(this.fcFrom.setValue(undefined),this.fcTo.setValue(undefined))},tp.prototype.onClickSortValues=function(){switch(this.activeSortDirection){case"asc":this.activeSortDirection="desc";break;case"desc":this.activeSortDirection="";break;default:this.activeSortDirection="asc"}this.onSortFilterValuesChange.emit(this.getFilterColumn()),this.sortData()},tp.prototype.sortData=function(){var t=Object.assign([],this.columnData);""!==this.activeSortDirection?this.listDataSubject.next(t.sort(this.sortFunction.bind(this))):this.listDataSubject.next(t)},tp.prototype.sortFunction=function(t,e){var n="",o="",e=x([t.value,e.value],2),n=e[0],o=e[1];return((void 0===n?"":""===n?n:isNaN(+n)?n.toString().trim().toLowerCase():+n)<=(void 0===o?"":""===o?o:isNaN(+o)?o.toString().trim().toLowerCase():+o)?-1:1)*("asc"===this.activeSortDirection?1:-1)},tp.prototype.onSlideChange=function(t){var e;this.isCustomFilterSubject.next(t.checked),t.checked||(this.initializeDataList(),e=this,setTimeout(function(){e.initializeFilterEvent()},0))},tp.prototype.isTextType=function(){return!this.isNumericType()&&!this.isDateType()},tp.prototype.isNumericType=function(){return-1!==["integer","real","currency"].indexOf(this.column.type)},tp.prototype.isDateType=function(){return"date"===this.column.type},tp.prototype.getRowValue=function(t){return this.tableData[t]},tp.prototype.getFixedDimensionClass=function(){return"selection"===this.mode||"default"===this.mode},tp.prototype.getSortByAlphaIcon=function(){var t="ontimize:sort_by_alpha";return""!==this.activeSortDirection&&(t+="_"+this.activeSortDirection),t},tp.prototype.getFilterColumn=function(){var t={attr:"",sort:""};return t.attr=this.column.attr,t.sort=this.activeSortDirection,t},tp.prototype.getTypedValue=function(t){var e=t.value;return this.isNumericType()&&(e=t.value),e=this.isDateType()?t.value.valueOf():e},tp.prototype.getColumnDataUsingRenderer=function(){var e=this,n=this.column.renderer&&this.column.renderer.getCellData;return this.tableData.map(function(t){return n?e.column.renderer.getCellData(t[e.column.attr],t):t[e.column.attr]})},tp.decorators=[{type:c.Component,args:[{selector:"o-table-filter-by-column-data-dialog",template:'<span mat-dialog-title>{{ \'TABLE.BUTTONS.FILTER_BY_COLUMN\' | oTranslate }}: {{ column.title | oTranslate }}</span>\n<div mat-dialog-content fxLayout="row" fxLayoutAlign="space-between stretch" class="dialog-list-container">\n  <div fxLayout="column" class="content-wrapper" [class.content-wrapper-fixed-dimension]="getFixedDimensionClass()">\n    <mat-slide-toggle #customFilterSlide (change)="onSlideChange($event)" [checked]="(isCustomFilter | async)" *ngIf="isDefaultFilter | async">\n      {{ \'TABLE.FILTER_BY_COLUMN.CUSTOM_FILTER\' | oTranslate }}\n    </mat-slide-toggle>\n    <div fxFlex *ngIf="!(isCustomFilter | async);else customFilterTemplate" fxLayout="column">\n      <mat-form-field class="hinted">\n        <mat-icon matPrefix svgIcon="ontimize:search"></mat-icon>\n        <input matInput #filter placeholder="{{ \'TABLE.FILTER\' | oTranslate }}">\n        <mat-hint>{{ \'TABLE.FILTER_BY_COLUMN.HINT_STAR\' | oTranslate }}</mat-hint>\n      </mat-form-field>\n      <div fxLayout="row" fxLayoutAlign="space-between start">\n        <div fxLayout="row" fxLayoutAlign="start start">\n          <mat-checkbox (change)="onSelectAllChange($event)" [checked]="areAllSelected()" [indeterminate]="isIndeterminate()" [disabled]="!listData"\n            class="select-all-checkbox">\n            {{ \'TABLE.FILTER_BY_COLUMN.CHECK_ALL\' | oTranslate }}\n          </mat-checkbox>\n          <span *ngIf="!listData" class="column-filter-empty-list">\n            {{ \'TABLE.FILTER_BY_COLUMN.LIST_EMPTY_FILTER\' | oTranslate }}\n          </span>\n          <span *ngIf="(listData | async).length === 0" class="column-filter-empty-list">{{ \'TABLE.FILTER_BY_COLUMN.LIST_EMPTY\' |\n        oTranslate }}</span>\n        </div>\n        <button type="button" mat-icon-button (click)="onClickSortValues()">\n          <mat-icon [svgIcon]="getSortByAlphaIcon()"></mat-icon>\n        </button>\n      </div>\n      <mat-selection-list *ngIf="preloadValues || listData" #filterValueList fxFlex fxLayout="column" class="select-values-list">\n        <mat-list-option *ngFor="let record of (listData | async); let i = index" checkboxPosition="before" [selected]="record.selected"\n          [value]="record.value">\n          <ng-container *ngIf="!column.renderer">\n            {{ record.value || (\'TABLE.FILTER_BY_COLUMN.EMPTY_VALUE\' | oTranslate) }}\n          </ng-container>\n          <ng-template *ngIf="column.renderer" [ngTemplateOutlet]="column.renderer.templateref"\n            [ngTemplateOutletContext]="{ cellvalue: record.value, rowvalue: getRowValue(record.tableIndex) }"></ng-template>\n        </mat-list-option>\n      </mat-selection-list>\n    </div>\n  </div>\n</div>\n\n\n<mat-dialog-actions fxLayoutAlign="space-between center">\n  <button type="button" mat-stroked-button [mat-dialog-close]="clearAction">\n    {{ \'TABLE.BUTTONS.FILTER_CLEAR\' | oTranslate | uppercase }} </button>\n  <span align="end">\n   <button type="button" mat-stroked-button [mat-dialog-close]="false">\n    {{ \'CANCEL\' | oTranslate | uppercase }} </button>\n  <button type="button" mat-stroked-button [mat-dialog-close]="true">\n    {{ \'ACCEPT\' | oTranslate | uppercase }} </button>\n  </span>\n</mat-dialog-actions>\n\n\x3c!-- TEMPLATE CUSTOM FILTER--\x3e\n<ng-template #customFilterTemplate>\n  <div *ngIf="isTextType()">\n    <mat-form-field fxFlex class="hinted">\n      <input matInput #filterText [formControl]="fcText" placeholder="{{ \'TABLE.FILTER\' | oTranslate }}">\n      <mat-hint>{{ \'TABLE.FILTER_BY_COLUMN.HINT_STAR\' | oTranslate }}</mat-hint>\n      <button type="button" matSuffix mat-icon-button (click)="clearValues()">\n        <mat-icon svgIcon="ontimize:close"></mat-icon>\n      </button>\n    </mat-form-field>\n  </div>\n  <div *ngIf="isNumericType()" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="12px">\n    <mat-form-field>\n      <input matInput [formControl]="fcFrom" placeholder="{{ \'TABLE.FILTER_BY_COLUMN.FROM\' | oTranslate }}">\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput [formControl]="fcTo" placeholder="{{ \'TABLE.FILTER_BY_COLUMN.TO\' | oTranslate }}">\n    </mat-form-field>\n    <button type="button" mat-icon-button (click)="clearValues()">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n  </div>\n  <div *ngIf="isDateType()" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="12px">\n    <mat-form-field>\n      <input matInput [matDatepicker]="datepickerFrom" [max]="fcTo.value" [formControl]="fcFrom"\n        placeholder="{{ \'TABLE.FILTER_BY_COLUMN.FROM\' | oTranslate }}">\n      <mat-datepicker-toggle matSuffix [for]="datepickerFrom">\n        <mat-icon matDatepickerToggleIcon>today</mat-icon>\n      </mat-datepicker-toggle>\n      <mat-datepicker #datepickerFrom></mat-datepicker>\n    </mat-form-field>\n    <mat-form-field>\n      <input matInput [matDatepicker]="datepickerTo" [min]="fcFrom.value" [formControl]="fcTo"\n        placeholder="{{ \'TABLE.FILTER_BY_COLUMN.TO\' | oTranslate }}">\n      <mat-datepicker-toggle matSuffix [for]="datepickerTo">\n        <mat-icon matDatepickerToggleIcon>today</mat-icon>\n      </mat-datepicker-toggle>\n      <mat-datepicker #datepickerTo></mat-datepicker>\n    </mat-form-field>\n    <button type="button" matSuffix mat-icon-button (click)="clearValues()">\n      <mat-icon svgIcon="ontimize:close"></mat-icon>\n    </button>\n  </div>\n\n</ng-template>\n',encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class.o-filter-by-column-dialog]":"true"},styles:[".o-filter-by-column-dialog .mat-slide-toggle{padding-bottom:24px}.o-filter-by-column-dialog .content-wrapper{padding:24px 0 12px;margin:0}.o-filter-by-column-dialog .content-wrapper.content-wrapper-fixed-dimension{max-height:430px;min-height:430px;min-width:250px;width:100%}.o-filter-by-column-dialog .content-wrapper .mat-form-field.hinted{margin-bottom:24px}.o-filter-by-column-dialog .content-wrapper .select-all-checkbox{padding-bottom:6px}.o-filter-by-column-dialog .content-wrapper .select-values-list{padding-top:0;overflow-y:auto;overflow-x:hidden;outline:0}.o-filter-by-column-dialog .content-wrapper .select-values-list .mat-list-item{height:30px}.o-filter-by-column-dialog .content-wrapper .select-values-list .mat-list-item .mat-list-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.o-filter-by-column-dialog .content-wrapper .select-values-list .mat-list-item .mat-list-text .mat-icon{font-size:24px}.o-filter-by-column-dialog .content-wrapper .column-filter-empty-list{text-align:center}"]}]}],tp.ctorParameters=function(){return[{type:d.MatDialogRef},{type:undefined,decorators:[{type:c.Inject,args:[d.MAT_DIALOG_DATA]}]}]},tp.propDecorators={filter:[{type:c.ViewChild,args:["filter",{"static":!1}]}],filterValueList:[{type:c.ViewChild,args:["filterValueList",{"static":!1}]}]},tp);function tp(t,e){this.dialogRef=t,this.acceptAction=O.TableFilterByColumnDialogResult.ACCEPT,this.cancelAction=O.TableFilterByColumnDialogResult.CANCEL,this.clearAction=O.TableFilterByColumnDialogResult.CLEAR,this.preloadValues=!0,this.onSortFilterValuesChange=new c.EventEmitter,this.isCustomFilterSubject=new u.BehaviorSubject(!1),this.isCustomFilter=this.isCustomFilterSubject.asObservable(),this.isDefaultFilterSubject=new u.BehaviorSubject(!1),this.isDefaultFilter=this.isDefaultFilterSubject.asObservable(),this.fcText=new i.FormControl,this.fcFrom=new i.FormControl,this.fcTo=new i.FormControl,this.columnData=[],this.tableData=[],this.listDataSubject=new u.BehaviorSubject([]),this._listData=this.listDataSubject.asObservable(),this.activeSortDirection="",e.column&&(this.column=e.column);t={attr:undefined,operator:undefined,values:undefined};e.mode&&(this.isDefaultFilterSubject.next("default"===e.mode),this.isCustomFilterSubject.next("custom"===e.mode),this.mode=e.mode),e.previousFilter&&(t=e.previousFilter,this.isCustomFilterSubject.next(-1!==[O.ColumnValueFilterOperator.LESS_EQUAL,O.ColumnValueFilterOperator.MORE_EQUAL,O.ColumnValueFilterOperator.BETWEEN,O.ColumnValueFilterOperator.EQUAL].indexOf(t.operator))),e.hasOwnProperty("preloadValues")&&(this.preloadValues=e.preloadValues),e.activeSortDirection&&(this.activeSortDirection=e.activeSortDirection),e.tableData&&Array.isArray(e.tableData)&&(this.tableData=e.tableData,this.getDistinctValues(e.tableData,t),this.initializeCustomFilterValues(t),this.initializeDataList(t)),e.mode&&(this.mode=e.mode)}var ep=(Object.defineProperty(np.prototype,"pageLenght",{get:function(){return this._pageSize},set:function(t){this._pageSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(np.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(t){this._pageIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(np.prototype,"pageSize",{get:function(){return this._pageSize},set:function(t){var e=this,t=parseInt(""+t,10);isNaN(t)||t<0?this._pageSize=this._pageSizeOptions[0]:this._pageSize=t,this.pageSizeOptions.find(function(t){return t===e._pageSize})||(this._pageSizeOptions.push(this._pageSize),this._pageSizeOptions.sort(function(t,e){return t-e}))},enumerable:!0,configurable:!0}),Object.defineProperty(np.prototype,"pageSizeOptions",{get:function(){return this._pageSizeOptions},set:function(t){this._pageSizeOptions=t},enumerable:!0,configurable:!0}),np.prototype.isShowingAllRows=function(t){return!1},np);function np(){this._pageIndex=0,this._pageSize=10,this.showFirstLastButtons=!0,this._pageIndex=0,this._pageSizeOptions=[10,25,50,100]}var op=["attr","sort"],ip=(rp.decorators=[{type:c.Component,args:[{selector:"o-table-columns-filter-column",template:" ",changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:op}]}],rp);function rp(){this.attr="",this.sort=""}var ap=["columns","preloadValues: preload-values","mode"],sp=[],lp=(Object.defineProperty(cp.prototype,"mode",{get:function(){return this._mode},set:function(e){var t=cp.OTableColumnsFilterModes.find(function(t){return t===e});k.isDefined(t)?this._mode=t:console.error("Invalid `o-table-columns-filter` mode ("+e+")")},enumerable:!0,configurable:!0}),cp.prototype.ngOnInit=function(){0===this.columnsArray.length&&(this.columnsArray=this.table.oTableOptions.visibleColumns);var i=this;k.parseArray(this._columns,!0).forEach(function(t,e,n){var o=t.split(P.TYPE_SEPARATOR),t=o[0],o=(o[1]||"").toUpperCase();-1===[cp.DEFAULT_COMPARISON_TYPE,cp.MODEL_COMPARISON_TYPE].indexOf(o)&&(o=cp.DEFAULT_COMPARISON_TYPE),n[e]=t,i.columnsComparisonProperty[t]=o}),this.table.setOTableColumnsFilter(this)},cp.prototype.ngAfterContentInit=function(){k.isDefined(this.filterColumns)&&(this.columnsArray=this.columnsArray.concat(this.parseFilterColumns(this.filterColumns)))},cp.prototype.isColumnFilterable=function(e){return k.isDefined(this.columnsArray.find(function(t){return t.attr===e}))},cp.prototype.getSortValueOfFilterColumn=function(e){var t="";return t=k.isDefined(this.columnsArray)&&this.columnsArray.find(function(t){return t.attr===e})?this.columnsArray.find(function(t){return t.attr===e}).sort:t},cp.prototype.getColumnComparisonValue=function(t,e){return t&&this.columnsComparisonProperty[t.attr]!==cp.MODEL_COMPARISON_TYPE&&t.renderer?t.renderer.getCellData(e):e},Object.defineProperty(cp.prototype,"columns",{set:function(t){this._columns=t,this._columnsArray=this.parseColumns(this._columns)},enumerable:!0,configurable:!0}),Object.defineProperty(cp.prototype,"columnsArray",{get:function(){return this._columnsArray},set:function(t){this._columnsArray=t},enumerable:!0,configurable:!0}),cp.prototype.parseColumns=function(t){return t.split(";").map(function(t){var e={attr:"",sort:""};return e.attr=t,e.sort="",e})},cp.prototype.parseFilterColumns=function(t){return t.map(function(t){var e={attr:"",sort:""};return e.attr=t.attr,e.sort=t.sort,e})},cp.DEFAULT_COMPARISON_TYPE="VIEW",cp.MODEL_COMPARISON_TYPE="MODEL",cp.OTableColumnsFilterModes=["default","selection","custom"],cp.decorators=[{type:c.Component,args:[{selector:"o-table-columns-filter",template:" ",changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:ap,outputs:sp}]}],cp.ctorParameters=function(){return[{type:c.Injector},{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]}]},cp.propDecorators={filterColumns:[{type:c.ContentChildren,args:[ip,{descendants:!0}]}]},D([tt(),L("design:type",Boolean)],cp.prototype,"preloadValues",void 0),D([tt(),L("design:type",String),L("design:paramtypes",[String])],cp.prototype,"mode",null),cp);function cp(t,e){this.injector=t,this.table=e,this._mode="default",this.preloadValues=!0,this._columnsArray=[],this.columnsComparisonProperty={}}var up=["oattr: attr","enabled","icon","showActiveIcon : show-active-icon","olabel: label","active"],pp=["onClick"],dp=(hp.prototype.innerOnClick=function(){this.onClick.emit(),this.setActive(!this.active)},hp.prototype.showActiveOptionIcon=function(){return this.showActiveIcon&&this.active},hp.prototype.setActive=function(t){this.active=t,this.cd.detectChanges()},hp.O_TABLE_OPTION_ACTIVE_CLASS="o-table-option-active",hp.decorators=[{type:c.Component,args:[{selector:"o-table-option",template:'<button [disabled]="!enabled" type="button" (click)="innerOnClick()" mat-menu-item fxLayout="row" fxLayoutAlign="start center">\n  <mat-icon *ngIf="showActiveOptionIcon()" svgIcon="ontimize:done" fxLayout></mat-icon>\n  {{ olabel | oTranslate }}\n  <mat-icon *ngIf="icon"> {{ icon }}</mat-icon>\n</button>',inputs:up,outputs:pp,encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class.o-table-option]":"true"},styles:[""]}]}],hp.ctorParameters=function(){return[{type:c.Injector},{type:c.ElementRef}]},D([tt(),L("design:type",Boolean)],hp.prototype,"enabled",void 0),D([tt(),L("design:type",Boolean)],hp.prototype,"showActiveIcon",void 0),D([tt(),L("design:type",Boolean)],hp.prototype,"active",void 0),hp);function hp(t,e){this.injector=t,this.elRef=e,this.onClick=new c.EventEmitter,this.enabled=!0,this.showActiveIcon=!1,this.active=!1;try{this.cd=this.injector.get(c.ChangeDetectorRef)}catch(n){}}var mp,fp=function(t){this.data=t,this.type="scroll"},gp=(_(yp,mp=f.DataSource),Object.defineProperty(yp.prototype,"data",{get:function(){return this.dataTotalsChange.value},enumerable:!0,configurable:!0}),Object.defineProperty(yp.prototype,"loadDataScrollable",{get:function(){return this._loadDataScrollableChange.getValue().data||1},set:function(t){this._loadDataScrollableChange.next(new fp(t))},enumerable:!0,configurable:!0}),Object.defineProperty(yp.prototype,"quickFilter",{get:function(){return this._quickFilterChange.value||""},set:function(t){this._quickFilterChange.next(t)},enumerable:!0,configurable:!0}),yp.prototype.sortFunction=function(t,e){return this._sort.sortFunction(t,e)},Object.defineProperty(yp.prototype,"renderedData",{get:function(){return this._renderedData},set:function(t){this._renderedData=t,this.onRenderedDataChange.emit()},enumerable:!0,configurable:!0}),yp.prototype.connect=function(){var n=this,t=[this._database.dataChange];return this.table.pageable||(this._sort&&t.push(this._sort.oSortChange),this._tableOptions.filter&&t.push(this._quickFilterChange),this._paginator?t.push(this._paginator.page):t.push(this._loadDataScrollableChange)),this.table.oTableColumnsFilterComponent&&t.push(this._columnValueFilterChange),u.merge.apply(void 0,w(t)).pipe(l.map(function(t){var e=Object.assign([],n._database.data);return t instanceof fp?n.renderedData=e.slice(0,t.data*P.LIMIT_SCROLLVIRTUAL-1):(n.existsAnyCalculatedColumn()&&(e=n.getColumnCalculatedData(e)),n.table.pageable||(e=n.getColumnValueFilterData(e),e=n.getQuickFilterData(e),e=n.getSortedData(e)),n.filteredData=Object.assign([],e),n.table.pageable?(t=n.table.getTotalRecordsNumber(),n.resultsLength=t!==undefined?t:e.length):(n.resultsLength=e.length,e=n.getPaginationData(e)),!n.table.pageable&&!n.table.paginationControls&&e.length>P.LIMIT_SCROLLVIRTUAL&&(e=e.slice(0,n.table.pageScrollVirtual*P.LIMIT_SCROLLVIRTUAL-1)),n.renderedData=e,n.aggregateData=n.getAggregatesData(e)),n.renderedData}))},yp.prototype.getAggregatesData=function(n){var o=this,i={};return"undefined"==typeof this._tableOptions||this._tableOptions.columns.forEach(function(t){var e="";t.aggregate&&t.visible&&(e=o.calculateAggregate(n,t));t=t.attr;i[t]=e}),i},yp.prototype.getColumnCalculatedData=function(t){var o=this,e=this._tableOptions.columns.filter(function(t){return t.visible&&t.calculate!==undefined});return t.map(function(n){return e.forEach(function(t){var e;"string"==typeof t.calculate?e=o.transformFormula(t.calculate,n):"function"==typeof t.calculate&&(e=t.calculate(n)),n[t.attr]=isNaN(e)?0:e}),n})},yp.prototype.transformFormula=function(t,e){var n=t;this._tableOptions.columns.map(function(t){return t.attr}).forEach(function(t){n=n.replace(t,e[t])});var o="";try{o=new Function("return "+n)()}catch(i){console.error("Operation defined in the calculated column is incorrect ")}return o},yp.prototype.getQuickFilterData=function(t){var n=this,o=this.quickFilter;return o!==undefined&&0<o.length?(this._tableOptions.filterCaseSensitive||(o=o.toLowerCase()),t.filter(function(t){var e=n.fulfillsCustomFilterFunctions(o,t),t=n.fulfillsQuickfilter(o,t);return e||t})):t},yp.prototype.getPaginationData=function(t){if(!this._paginator||isNaN(this._paginator.pageSize))return t;var e=isNaN(this._paginator.pageSize)?0:this._paginator.pageIndex*this._paginator.pageSize;return 0<t.length&&t.length<e&&(e=0,this._paginator.pageIndex=0),t.splice(e,this._paginator.pageSize)},yp.prototype.disconnect=function(){this.onRenderedDataChange.complete(),this.dataTotalsChange.complete(),this._quickFilterChange.complete(),this._columnValueFilterChange.complete(),this._loadDataScrollableChange.complete()},yp.prototype.fulfillsCustomFilterFunctions=function(e,n){return this.table.oTableOptions.columns.filter(function(t){return t.useCustomFilterFunction()}).some(function(t){return t.renderer.filterFunction(n[t.attr],n,e)})},yp.prototype.fulfillsQuickfilter=function(t,e){var n=this._tableOptions.columns.filter(function(t){return t.useQuickfilterFunction()}).map(function(t){return t.getFilterValue(e[t.attr],e).join(" ")}).join(" ");return-1!==(n=!this._tableOptions.filterCaseSensitive?n.toLowerCase():n).indexOf(t)},yp.prototype.getSortedData=function(t){return this._sort.getSortedData(t)},yp.prototype.getTableData=function(){return this._database.data},yp.prototype.getCurrentData=function(){return this.getData()},yp.prototype.getCurrentAllData=function(){return this.getAllData(!1,!1)},yp.prototype.getCurrentRendererData=function(){return this.getRenderedData(this.renderedData)},yp.prototype.getAllRendererData=function(){return this.getAllData(!0,!0)},Object.defineProperty(yp.prototype,"sqlTypes",{get:function(){return this._database.sqlTypes},enumerable:!0,configurable:!0}),yp.prototype.getData=function(){return this.renderedData},yp.prototype.getRenderedData=function(t){var e=this._tableOptions.columns.filter(function(t){return t.visible});return t.map(function(n){var o={};return e.forEach(function(t){var e=t.renderer&&t.renderer.getCellData;o[t.attr]=e?t.renderer.getCellData(n[t.attr],n):n[t.attr]}),o})},yp.prototype.getAllData=function(i,t){var e=this._tableOptions.columns;return t&&(e=this._tableOptions.columns.filter(function(t){return t.visible})),this.filteredData.map(function(n){var o={};return e.forEach(function(t){var e=i&&t.renderer&&t.renderer.getCellData;o[t.attr]=e?t.renderer.getCellData(n[t.attr],n):n[t.attr]}),o})},yp.prototype.getRenderersData=function(t,o){return t.map(function(e){var n=Object.assign({},e);return o.forEach(function(t){n[t.attr]=t.renderer.getCellData(e[t.attr],e)}),n})},yp.prototype.getColumnData=function(n){return this.renderedData.map(function(t){var e={};return n&&(e[n]=t[n]),e})},yp.prototype.initializeColumnsFilters=function(t){var e=this;this.columnValueFilters=[],t.forEach(function(t){e.columnValueFilters.push(t)}),this.table.pageable||this._columnValueFilterChange.next()},yp.prototype.isColumnValueFilterActive=function(){return 0!==this.columnValueFilters.length},yp.prototype.getColumnValueFilters=function(){return this.columnValueFilters},yp.prototype.getColumnValueFilterByAttr=function(e){return this.columnValueFilters.filter(function(t){return t.attr===e})[0]},yp.prototype.clearColumnFilters=function(t){void 0===t&&(t=!0),this.columnValueFilters=[],t&&this._columnValueFilterChange.next()},yp.prototype.clearColumnFilter=function(e,t){void 0===t&&(t=!0),this.columnValueFilters=this.columnValueFilters.filter(function(t){return t.attr!==e}),t&&this._columnValueFilterChange.next()},yp.prototype.addColumnFilter=function(t){var e=this.getColumnValueFilterByAttr(t.attr);e&&(e=this.columnValueFilters.indexOf(e),this.columnValueFilters.splice(e,1)),(O.ColumnValueFilterOperator.IN===t.operator&&0<t.values.length||O.ColumnValueFilterOperator.EQUAL===t.operator&&t.values||O.ColumnValueFilterOperator.BETWEEN===t.operator&&2===t.values.length||(O.ColumnValueFilterOperator.LESS_EQUAL===t.operator||O.ColumnValueFilterOperator.MORE_EQUAL===t.operator)&&t.values)&&this.columnValueFilters.push(t),this.table.pageable||this._columnValueFilterChange.next()},yp.prototype.getColumnValueFilterData=function(t){var e=this;return this.columnValueFilters.forEach(function(n){var o=e.table.oTableOptions.columns.find(function(t){return t.attr===n.attr});if(o)switch(n.operator){case O.ColumnValueFilterOperator.IN:t=t.filter(function(t){if(o.renderer&&o.renderer.filterFunction)return o.renderer.filterFunction(t[n.attr],t);var e=o.getFilterValue(t[n.attr],t).map(function(t){return k.normalizeString(t)});return n.values.map(function(t){return k.normalizeString(t)}).some(function(t){return-1!==e.indexOf(t)})});break;case O.ColumnValueFilterOperator.EQUAL:var i=k.normalizeString(n.values);t=t.filter(function(t){var e,t=o.getFilterValue(t[n.attr],t).map(function(t){return k.normalizeString(t)});return i.includes("*")&&(e=new RegExp("^"+i.split("*").join(".*")+"$")),t.some(function(t){return e?e.test(t):t.includes(i)})});break;case O.ColumnValueFilterOperator.BETWEEN:t=t.filter(function(t){return t[n.attr]>=n.values[0]&&t[n.attr]<=n.values[1]});break;case O.ColumnValueFilterOperator.MORE_EQUAL:t=t.filter(function(t){return t[n.attr]>=n.values});break;case O.ColumnValueFilterOperator.LESS_EQUAL:t=t.filter(function(t){return t[n.attr]<=n.values})}}),t},yp.prototype.getAggregateData=function(t){return"undefined"==typeof this._tableOptions?new Array({}):this.aggregateData[t.attr]},yp.prototype.calculateAggregate=function(t,e){var n,o=e.aggregate.operator;if("string"==typeof o)switch(o.toLowerCase()){case"count":n=this.count(e.attr,t);break;case"min":n=this.min(e.attr,t);break;case"max":n=this.max(e.attr,t);break;case"avg":n=this.avg(e.attr,t);break;default:n=this.sum(e.attr,t)}else{var i=this.getColumnData(e.attr);"function"==typeof o&&(n=o(i))}return n},yp.prototype.sum=function(n,t){var e=0;return e=t?t.reduce(function(t,e){return t+(isNaN(e[n])?0:e[n])},e):e},yp.prototype.count=function(t,e){var n=0;return n=e?e.reduce(function(t,e,n){return t+1},0):n},yp.prototype.avg=function(t,e){return this.sum(t,e)/this.count(t,e)},yp.prototype.min=function(e,t){t=t.map(function(t){return t[e]});return Math.min.apply(Math,w(t))},yp.prototype.max=function(e,t){t=t.map(function(t){return t[e]});return Math.max.apply(Math,w(t))},yp.prototype.existsAnyCalculatedColumn=function(){return this._tableOptions.columns.find(function(t){return t.calculate!==undefined})!==undefined},yp.prototype.updateRenderedRowData=function(r){var a=this.table.getKeys(),t=this.renderedData.find(function(t){for(var e=!0,n=0,o=a.length;n<o;n++){var i=a[n];if(t[i]!==r[i]){e=!1;break}}return e});k.isDefined(t)&&Object.assign(t,r)},yp);function yp(t){var e=mp.call(this)||this;return e.table=t,e.dataTotalsChange=new u.BehaviorSubject([]),e._quickFilterChange=new u.BehaviorSubject(""),e._columnValueFilterChange=new u.Subject,e._loadDataScrollableChange=new u.BehaviorSubject(new fp(1)),e.filteredData=[],e.aggregateData={},e.onRenderedDataChange=new c.EventEmitter,e._renderedData=[],e.resultsLength=0,e.columnValueFilters=[],e._database=t.daoTable,e._database&&(e.resultsLength=e._database.data.length),t.paginator&&(e._paginator=t.matpaginator),e._tableOptions=t.oTableOptions,e._sort=t.sort,e}var bp=(vp.prototype.getInstance=function(t){return new gp(t)},vp.decorators=[{type:c.Injectable}],vp.ctorParameters=function(){return[]},vp);function vp(){}var Ep=(Cp.prototype.getDataToStore=function(){var t={filter:this.table.oTableQuickFilterComponent?this.table.oTableQuickFilterComponent.value:""};Object.assign(t,this.getTablePropertiesToStore(["sort","columns-display","columns-filter","quick-filter","page","selection","initial-configuration","filter-columns","filter-column-active-by-default"]));var e=this.getStoredFilters();0<e.length&&(t[Cp.USER_STORED_FILTERS_KEY]=e);e=this.getStoredConfigurations();return 0<e.length&&(t[Cp.STORED_CONFIGURATIONS_KEY]=e),t},Cp.prototype.getTablePropertiesToStore=function(t){var e=this,n={};return t.forEach(function(t){Object.assign(n,e.getTablePropertyToStore(t))}),n},Cp.prototype.getTablePropertyToStore=function(t){var e={};switch(t){case"sort":e=this.getSortState();break;case"columns-display":e=this.getColumnsDisplayState();break;case"quick-filter":e=this.getColumnsQuickFilterState();break;case"columns-filter":e=this.getColumnFiltersState();break;case"page":e=this.getPageState();break;case"selection":e=this.getSelectionState();break;case"initial-configuration":e=this.getInitialConfigurationState();break;case"filter-column-active-by-default":e=this.getFilterColumnActiveByDefaultState();break;case"filter-columns":e=this.getFilterColumnsState()}return e},Cp.prototype.getFilterColumnsState=function(){var t={};return this.table.state.hasOwnProperty("filter-columns")&&this.table.state["filter-columns"]?t["filter-columns"]=this.table.state["filter-columns"]:this.table.filterColumns&&(t["filter-columns"]=this.table.filterColumns),t},Cp.prototype.reset=function(){var t={};t[Cp.USER_STORED_FILTERS_KEY]=this.table.state[Cp.USER_STORED_FILTERS_KEY],t[Cp.STORED_CONFIGURATIONS_KEY]=this.table.state[Cp.STORED_CONFIGURATIONS_KEY],this.table.pageable&&(t.totalQueryRecordsNumber=this.table.state.totalQueryRecordsNumber),t.currentPage=0,this.table.state=t},Cp.prototype.getSortState=function(){var e,t={},n=this.table.sort.getSortColumns();return 0<n.length&&(e=[],n.forEach(function(t){e.push(t.id+P.COLUMNS_ALIAS_SEPARATOR+t.direction)}),t["sort-columns"]=e.join(P.ARRAY_INPUT_SEPARATOR)),t},Cp.prototype.getFilterColumnActiveByDefaultState=function(){var t={};return this.table.oTableColumnsFilterComponent&&(t["filter-column-active-by-default"]=this.table.showFilterByColumnIcon),t},Cp.prototype.getColumnFiltersState=function(){var t,e={};return!this.table.oTableColumnsFilterComponent||0<(t=this.table.dataSource.getColumnValueFilters()).length&&(e["column-value-filters"]=t),e},Cp.prototype.getColumnsDisplayState=function(){var t={},e=[];return this.table.oTableOptions.columns.forEach(function(t){e.push({attr:t.attr,visible:t.visible,width:t.getWidthToStore()})}),t["oColumns-display"]=e,t["select-column-visible"]=this.table.oTableOptions.selectColumn.visible,t},Cp.prototype.getColumnsQuickFilterState=function(){var t={},e=this.table.oTableOptions,n=[];return e.columns.forEach(function(t){n.push({attr:t.attr,searchable:t.searchable,searching:t.searching})}),t.oColumns=n,t["filter-case-sensitive"]=e.filterCaseSensitive,t},Cp.prototype.getPageState=function(){var t,e={"query-rows":this.table.matpaginator?this.table.matpaginator.pageSize:""};return 0<this.table.currentPage&&this.table.storePaginationState&&(e.currentPage=this.table.currentPage),this.table.pageable&&this.table.storePaginationState&&(t=this.table.state,e.totalQueryRecordsNumber=t.totalQueryRecordsNumber,e.queryRecordOffset=Math.max(t.queryRecordOffset-this.table.dataSource.renderedData.length,t.queryRecordOffset-this.table.queryRows)),e},Cp.prototype.getSelectionState=function(){var t,o=this,e={selection:[]};return this.table&&this.table.keepSelectedItems&&(t=[],this.table.getSelectedItems().forEach(function(e){var n={};o.table.getKeys().forEach(function(t){n[t]=e[t]}),t.push(n)}),e.selection=t),e},Cp.prototype.getInitialConfigurationState=function(){var t={},e={},n=[],o=this;return k.parseArray(this.table.visibleColumns,!0).forEach(function(t){t=o.table.getOColumn(t);n.push({attr:t.attr,visible:!0,width:t.definition?t.definition.originalWidth:undefined})}),e["oColumns-display"]=n,e["sort-columns"]=this.table.sortColumns,e["select-column-visible"]=this.table.oTableOptions.selectColumn.visible,e["filter-case-sensitive"]=this.table.filterCaseSensitive,e["query-rows"]=this.table.originalQueryRows,e["filter-column-active-by-default"]=this.table.originalFilterColumnActiveByDefault,e["filter-columns"]=this.table.originalFilterColumns,t["initial-configuration"]=e,t},Cp.prototype.setStoredFilters=function(t){return this.table.state[Cp.USER_STORED_FILTERS_KEY]=t},Cp.prototype.getStoredFilters=function(){return this.table.state[Cp.USER_STORED_FILTERS_KEY]||[]},Cp.prototype.getStoredFilter=function(e){return this.getStoredFilters().find(function(t){return t.name===e})},Cp.prototype.getStoredFilterConf=function(t){return(this.getStoredFilter(t)||{})[Cp.STORED_FILTER_KEY]},Cp.prototype.deleteStoredFilter=function(e){var t=this.table.state[Cp.USER_STORED_FILTERS_KEY]||[],n=t.findIndex(function(t){return t.name===e});0<=n&&(t.splice(n,1),this.table.state[Cp.USER_STORED_FILTERS_KEY]=t)},Cp.prototype.storeFilter=function(t){var e={},n={};Object.assign(n,this.getColumnFiltersState()),Object.assign(n,this.getColumnsQuickFilterState()),e[Cp.STORED_FILTER_KEY]=n,Object.assign(e,t);t=this.getStoredFilters();t.push(e),this.table.state[Cp.USER_STORED_FILTERS_KEY]=t},Cp.prototype.getStoredColumnsFilters=function(t){return(t||this.table.state)["column-value-filters"]||[]},Cp.prototype.getStoredFiltersColumns=function(t){return(t||this.table.state)["filter-columns"]||[]},Cp.prototype.getStoredConfigurations=function(){return this.table.state[Cp.STORED_CONFIGURATIONS_KEY]||[]},Cp.prototype.getStoredConfiguration=function(e){return this.getStoredConfigurations().find(function(t){return t.name===e})},Cp.prototype.storeConfiguration=function(t,e){var n={};this.table.storePaginationState=!0;var o=this.getTablePropertiesToStore(e);this.table.storePaginationState=!1,n[Cp.STORED_CONFIGURATION_KEY]=o,Object.assign(n,t),n[Cp.STORED_PROPERTIES_KEY]=e;e=this.getStoredConfigurations();e.push(n),this.table.state[Cp.STORED_CONFIGURATIONS_KEY]=e},Cp.prototype.deleteStoredConfiguration=function(e){var t=this.getStoredConfigurations(),n=t.findIndex(function(t){return t.name===e});0<=n&&(t.splice(n,1),this.table.state[Cp.STORED_CONFIGURATIONS_KEY]=t)},Cp.STORED_FILTER_KEY="stored-filter",Cp.USER_STORED_FILTERS_KEY="user-stored-filters",Cp.STORED_CONFIGURATION_KEY="stored-configuration",Cp.STORED_PROPERTIES_KEY="stored-properties",Cp.STORED_CONFIGURATIONS_KEY="user-stored-configurations",Cp);function Cp(t){this.table=t}var Tp=(Object.defineProperty(Ip.prototype,"data",{get:function(){return this.dataChange.value},enumerable:!0,configurable:!0}),Object.defineProperty(Ip.prototype,"sqlTypes",{get:function(){return this.sqlTypesChange.value},enumerable:!0,configurable:!0}),Ip.prototype.getQuery=function(t){return this.isLoadingResults=!0,this.dataService[this.methods.query].apply(this.dataService,t)},Ip.prototype.removeQuery=function(t){var e=this;return u.merge.apply(void 0,w(t.map(function(t){return e.dataService[e.methods["delete"]](t,e.entity)})))},Ip.prototype.insertQuery=function(t,e){return this.usingStaticData?(this.data.push(t),u.of(this.data)):this.dataService[this.methods.insert](t,this.entity,e)},Ip.prototype.updateQuery=function(t,e,n){return this.usingStaticData?u.of(this.data):this.dataService[this.methods.update](t,e,this.entity,n)},Ip.prototype.setDataArray=function(t){return this.dataChange.next(t),this.isLoadingResults=!1,u.of(t)},Ip.prototype.setAsynchronousColumn=function(t,e){for(var n=null,o=0;o<this.data.length;o++)if(this.data[o]===e){n=o;break}null!==n&&Object.assign(this.data[n],t)},Object.defineProperty(Ip.prototype,"isLoadingResults",{get:function(){return this._isLoadingResults},set:function(t){var e=this;t?(this.cleanTimer(),this.loadingTimer=setTimeout(function(){e._isLoadingResults=t},500)):(this.cleanTimer(),this._isLoadingResults=t)},enumerable:!0,configurable:!0}),Ip.prototype.cleanTimer=function(){this.loadingTimer&&clearTimeout(this.loadingTimer)},Ip);function Ip(t,e,n){this.dataService=t,this.entity=e,this.methods=n,this.usingStaticData=!1,this._isLoadingResults=!1,this.dataChange=new u.BehaviorSubject([]),this.sqlTypesChange=new u.BehaviorSubject({})}var Op=["onExpanded","onCollapsed"],Sp=["iconExpand:icon-expand","iconCollapse:icon-collapse","expandableColumnVisible:expandable-column-visible"],Ap=function(){},_p=(Object.defineProperty(Dp.prototype,"iconCollapse",{get:function(){return this._iconCollapse},set:function(t){this._iconCollapse=t},enumerable:!0,configurable:!0}),Object.defineProperty(Dp.prototype,"iconExpand",{get:function(){return this._iconExpand},set:function(t){this._iconExpand=t},enumerable:!0,configurable:!0}),Dp.decorators=[{type:c.Component,args:[{selector:"o-table-row-expandable",template:" ",outputs:Op,inputs:Sp,encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush}]}],Dp.ctorParameters=function(){return[]},Dp.propDecorators={templateRef:[{type:c.ContentChild,args:[c.TemplateRef,{"static":!1}]}],onExpanded:[{type:c.Output}],onCollapsed:[{type:c.Output}]},D([tt(),L("design:type",Boolean)],Dp.prototype,"expandableColumnVisible",void 0),Dp);function Dp(){this.onExpanded=new c.EventEmitter,this.onCollapsed=new c.EventEmitter,this._iconCollapse="remove",this._iconExpand="add",this.expandableColumnVisible=!0}var Lp,Rp=(_(xp,Lp=d.MatSort),xp.prototype.setMultipleSort=function(t){this.multipleSort=t},xp.prototype.getSortColumns=function(){var e=this,n=[];return this.activeArray.forEach(function(t){n.push({id:t.id,direction:e.directionById[t.id]})}),n},xp.prototype.setTableInfo=function(t){var n=this;t.forEach(function(t){var e=t.ascendent?P.ASC_SORT:P.DESC_SORT;n.activeArray.push({id:t.columnName,start:e,disableClear:!1}),n.directionById[t.columnName]=e})},xp.prototype.addSortColumn=function(t){this.isActive(t)?(this.direction=this.directionById[t.id],this.directionById[t.id]=this.getNextSortDirection(t),(this.direction="")===this.directionById[t.id]&&this.deleteSortColumn(t.id)):(this.multipleSort||(this.activeArray=[],this.directionById={}),this.activeArray.push(t),this.directionById[t.id]=t.start||this.start);t=this.getSortColumns();this._stateChanges.next(),this.oSortChange.emit(t)},xp.prototype.deleteSortColumn=function(t){delete this.directionById[t];for(var e=0,n=this.activeArray.length;e<n;e++)if(this.activeArray[e].id===t){this.activeArray.splice(e,1);break}},xp.prototype.isActive=function(e){return k.isDefined(this.activeArray.find(function(t){return e.id===t.id}))},xp.prototype.hasDirection=function(t){var e;return"asc"===(e=k.isDefined(this.directionById[t])?this.directionById[t]:e)||"desc"===e},xp.prototype.getSortedData=function(t){var n=this,e=this.getSortColumns();return 0===e.length||0===t.length?t:(this.sortables.forEach(function(t,e){n.deregister(t)}),this.sortByColumns(t,e))},xp.prototype.sortByColumns=function(t,e){for(var n=this.sortFunction.bind(this),o=0,i=e.length;o<i;o++){var r=e[o];if(this.activeSortColumn=r.id,this.activeSortDirection=r.direction,0===o)t=t.sort(n);else{r=this.getDataGrouped(t,e,o);if(r.length>=t.length)break;t=this.sortGroupedData(r)}}return t},xp.prototype.getDataGrouped=function(t,e,n){var o=[];if(e.forEach(function(t,e){e<n&&o.push(t.id)}),0===o.length)return t;var i=[];return t.forEach(function(e){var n="";o.forEach(function(t){n+=e[t]});var t=i.filter(function(t){return t.key===n});0===t.length?i.push({key:n,values:[e]}):1===t.length&&t[0].values.push(e)}),i},xp.prototype.sortGroupedData=function(t){var n=this;return t.reduce(function(t,e){e=e.values,e=e.length<=1?e:e.sort(n.sortFunction.bind(n));return t.push.apply(t,w(e)),t},[])},xp.prototype.sortFunction=function(t,e){var n="",o="",e=x([t[this.activeSortColumn],e[this.activeSortColumn]],2),n=e[0],o=e[1];return((void 0===n?"":""===n?n:isNaN(+n)?n.toString().trim().toLowerCase():+n)<=(void 0===o?"":""===o?o:isNaN(+o)?o.toString().trim().toLowerCase():+o)?-1:1)*("asc"===this.activeSortDirection?1:-1)},xp.decorators=[{type:c.Directive,args:[{selector:"[oMatSort]",exportAs:"oMatSort",inputs:["disabled: oMatSortDisabled"]}]}],xp.propDecorators={oSortChange:[{type:c.Output,args:["matSortChange"]}]},xp);function xp(){var t=null!==Lp&&Lp.apply(this,arguments)||this;return t.activeArray=[],t.directionById={},t.oSortChange=new c.EventEmitter,t}var wp,Mp=(_(Np,wp=d.MatSortHeader),Np.prototype._handleClick=function(){var t;this._isDisabled()||(this._sort.addSortColumn(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0),t=this._isSorted()?{fromState:this._arrowDirection,toState:"active"}:{fromState:"active",toState:this._arrowDirection},this._setAnimationTransitionState(t),this._showIndicatorHint=!1)},Np.prototype._isSorted=function(){return this._sort.isActive(this)&&this._sort.hasDirection(this.id)},Np.prototype._updateArrowDirection=function(){this._arrowDirection=this._isSorted()?this._sort.directionById[this.id]:this.start||this._sort.start},Np.prototype.refresh=function(){this._sort.isActive(this)?(this._setAnimationTransitionState({fromState:this._sort.directionById[this.id],toState:"active"}),this._showIndicatorHint=!1):(this._viewState.toState="active",this._intl.changes.next())},Np.prototype.getSortIndicatorNumbered=function(){var e=this,t="";if(this._sort.activeArray.length<2)return t;var n=this._sort.activeArray.findIndex(function(t){return t.id===e.id});return-1<n&&(t+=n+1),t},Np.prototype.getSortIndicatorNumberedClass=function(){return"o-table-header-indicator-numbered o-mat-sort-indicator-numbered-"+this._arrowDirection},Np.decorators=[{type:c.Component,args:[{selector:"[o-mat-sort-header]",exportAs:"oMatSortHeader",template:'<div class="mat-sort-header-container" [class.mat-sort-header-sorted]="_isSorted()"\n  [class.mat-sort-header-position-before]="arrowPosition == \'before\'">\n  <button class="mat-sort-header-button" type="button" [attr.disabled]="_isDisabled() || null" [attr.aria-label]="_intl.sortButtonLabel(id)"\n    (focus)="_setIndicatorHintVisible(true)" (blur)="_setIndicatorHintVisible(false)">\n    <ng-content></ng-content>\n  </button>\n\n  \x3c!-- Disable animations while a current animation is running --\x3e\n  <div class="mat-sort-header-arrow" [@arrowOpacity]="_getArrowViewState()" [@arrowPosition]="_getArrowViewState()"\n    [@allowChildren]="_getArrowDirectionState()" (@arrowPosition.start)="_disableViewStateAnimation = true"\n    (@arrowPosition.done)="_disableViewStateAnimation = false">\n    <div class="mat-sort-header-stem"></div>\n    <div class="mat-sort-header-indicator" [@indicator]="_getArrowDirectionState()">\n      <div class="mat-sort-header-pointer-left" [@leftPointer]="_getArrowDirectionState()"></div>\n      <div class="mat-sort-header-pointer-right" [@rightPointer]="_getArrowDirectionState()"></div>\n      <div class="mat-sort-header-pointer-middle"></div>\n    </div>\n    <span [ngClass]="getSortIndicatorNumberedClass()"> {{ getSortIndicatorNumbered() }} </span>\n  </div>\n</div>\n',host:{"(click)":"_handleClick()","(mouseenter)":"_setIndicatorHintVisible(true)","(longpress)":"_setIndicatorHintVisible(true)","(mouseleave)":"_setIndicatorHintVisible(false)","[attr.aria-sort]":"_getAriaSortAttribute()","[class.mat-sort-header-disabled]":"_isDisabled()"},encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:["disabled"],animations:[d.matSortAnimations.indicator,d.matSortAnimations.leftPointer,d.matSortAnimations.rightPointer,d.matSortAnimations.arrowOpacity,d.matSortAnimations.arrowPosition,d.matSortAnimations.allowChildren],styles:[".mat-sort-header-container{display:flex;cursor:pointer}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-button{border:none;background:0 0;display:flex;align-items:center;padding:0;cursor:inherit;outline:0;font:inherit;color:currentColor}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;margin:0 0 0 6px;position:relative;display:flex}.mat-sort-header-position-before .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-arrow .o-mat-sort-indicator-numbered-desc{top:-8px}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"]}]}],Np.ctorParameters=function(){return[{type:d.MatSortHeaderIntl},{type:c.ChangeDetectorRef},{type:Rp,decorators:[{type:c.Optional}]},{type:v.CdkColumnDef,decorators:[{type:c.Optional}]}]},Np);function Np(t,e,n,o){e=wp.call(this,t,e,n,o)||this;return e._intl=t,e._sort=n,e._cdkColumnDef=o,e}var Pp,Fp=w(Ea,["visibleColumns: visible-columns","sortColumns: sort-columns","quickFilterCallback: quick-filter-function","deleteButton: delete-button","refreshButton: refresh-button","columnsVisibilityButton: columns-visibility-button","exportButton: export-button","showConfigurationOption: show-configuration-option","showButtonsText: show-buttons-text","selectAllCheckbox: select-all-checkbox","paginationControls: pagination-controls","fixedHeader: fixed-header","showTitle: show-title","editionMode: edition-mode","selectionMode: selection-mode","horizontalScroll: horizontal-scroll","showPaginatorFirstLastButtons: show-paginator-first-last-buttons","autoAlignTitles: auto-align-titles","multipleSort: multiple-sort","selectAllCheckboxVisible: select-all-checkbox-visible","orderable","resizable","enabled","keepSelectedItems: keep-selected-items","exportMode: export-mode","exportServiceType: export-service-type","autoAdjust: auto-adjust","showFilterOption: show-filter-option","visibleExportDialogButtons: visible-export-dialog-buttons","rowClass: row-class","filterColumnActiveByDefault:filter-column-active-by-default"]),kp=["onClick","onDoubleClick","onRowSelected","onRowDeselected","onRowDeleted","onDataLoaded","onPaginatedDataLoaded"],Bp=(_(Up,Pp=Ca),Object.defineProperty(Up.prototype,"diameterSpinner",{get:function(){var t=Up.DEFAULT_BASE_SIZE_SPINNER,e=0;return 0<(e=this.spinnerContainer&&this.spinnerContainer.nativeElement?this.spinnerContainer.nativeElement.offsetHeight:e)&&e<=100?Math.floor(e-.1*e):t},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"filterColumnActiveByDefault",{get:function(){return this.showFilterByColumnIcon},set:function(t){t=Z(t);this.originalFilterColumnActiveByDefault=t,this.showFilterByColumnIcon=t},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"oTableOptions",{get:function(){return this._oTableOptions},set:function(t){this._oTableOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"quickFilter",{get:function(){return this._quickFilter},set:function(t){t=k.parseBoolean(String(t)),this._quickFilter=t,this._oTableOptions.filter=t},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"filterCaseSensitive",{get:function(){return this.filterCaseSensitivePvt},set:function(t){this.filterCaseSensitivePvt=Z(t),this._oTableOptions&&(this._oTableOptions.filterCaseSensitive=this.filterCaseSensitivePvt)},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"horizontalScroll",{get:function(){return this._horizontalScroll},set:function(t){this._horizontalScroll=Z(t),this.refreshColumnsWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t=k.parseBoolean(String(t)),this._enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"selectAllCheckboxVisible",{get:function(){return this._selectAllCheckboxVisible},set:function(t){this._selectAllCheckboxVisible=Z(this.state["select-column-visible"])||Z(t),this._oTableOptions.selectColumn.visible=this._selectAllCheckboxVisible,this.initializeCheckboxColumn()},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"visibleColArray",{get:function(){return this._visibleColArray},set:function(t){var e=this.permissions?this.permissions.columns.filter(function(t){return!1===t.visible}).map(function(t){return t.attr}):[],n=t.filter(function(t){return-1===e.indexOf(t)});this._visibleColArray=n,this._oTableOptions&&(t=-1!==this._oTableOptions.visibleColumns.indexOf(P.NAME_COLUMN_SELECT),n=-1!==this._oTableOptions.visibleColumns.indexOf(P.NAME_COLUMN_EXPANDABLE),t&&this._visibleColArray.unshift(P.NAME_COLUMN_SELECT),t&&n?this._visibleColArray=[this._visibleColArray[0]].concat(P.NAME_COLUMN_EXPANDABLE,this._visibleColArray.splice(1)):n&&this._visibleColArray.unshift(P.NAME_COLUMN_EXPANDABLE),this._oTableOptions.visibleColumns=this._visibleColArray)},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"currentPage",{get:function(){return this._currentPage},set:function(t){this._currentPage=t,this.paginator&&(this.paginator.pageIndex=t,this.matpaginator&&(this.matpaginator.pageIndex=t))},enumerable:!0,configurable:!0}),Up.prototype.updateScrolledState=function(){var o=this;this.horizontalScroll&&setTimeout(function(){var t=o.tableBodyEl.nativeElement.clientWidth,e=o.tableBodyEl.nativeElement.scrollWidth,n=o.horizontalScrolled;o.horizontalScrolled=t<e,n!==o.horizontalScrolled&&o.onUpdateScrolledState.emit(o.horizontalScrolled)},0),this.refreshColumnsWidth()},Up.prototype.ngOnInit=function(){this.initialize(),this.oTableButtons&&this.oTableButtons.registerButtons(this.tableButtons.toArray())},Up.prototype.ngAfterViewInit=function(){this.afterViewInit(),this.initTableAfterViewInit(),this.oTableMenu&&(this.matMenu=this.oTableMenu.matMenu,this.oTableMenu.registerOptions(this.tableOptions.toArray())),this.tableRowExpandable&&this.createExpandableColumn()},Up.prototype.createExpandableColumn=function(){this._oTableOptions.expandableColumn=new Qu,this._oTableOptions.expandableColumn.visible=this.tableRowExpandable&&this.tableRowExpandable.expandableColumnVisible,this.updateStateExpandedColumn()},Up.prototype.ngOnDestroy=function(){this.destroy()},Up.prototype.getSuffixColumnInsertable=function(){return P.SUFFIX_COLUMN_INSERTABLE},Up.prototype.getActionsPermissions=function(){return this.permissions&&this.permissions.actions||[]},Up.prototype.getMenuPermissions=function(){var t=this.permissions?this.permissions.menu:undefined;return t||{visible:!0,enabled:!0,items:[]}},Up.prototype.getOColumnPermissions=function(e){return(this.permissions&&this.permissions.columns||[]).find(function(t){return t.attr===e})||{attr:e,enabled:!0,visible:!0}},Up.prototype.getActionPermissions=function(e){return(this.permissions&&this.permissions.actions||[]).find(function(t){return t.attr===e})||{attr:e,visible:!0,enabled:!0}},Up.prototype.checkEnabledActionPermission=function(e){var t=(this.permissions&&this.permissions.actions||[]).find(function(t){return t.attr===e}),t=Gt.checkEnabledPermission(t);return t||this.snackBarService.open("MESSAGES.OPERATION_NOT_ALLOWED_PERMISSION"),t},Up.prototype.initialize=function(){Pp.prototype.initialize.call(this),this._oTableOptions=new $u,this.tabGroupContainer&&this.tabContainer&&this.registerTabListener(),this.initializeParams(),this.initializeDao(),this.permissions=this.permissionsService.getTablePermissions(this.oattr,this.actRoute)},Up.prototype.initializeDao=function(){var t={query:this.pageable?this.paginatedQueryMethod:this.queryMethod,update:this.updateMethod,"delete":this.deleteMethod,insert:this.insertMethod};this.staticData?(this.queryOnBind=!1,this.queryOnInit=!1,this.daoTable=new Tp(undefined,this.entity,t),this.setDataArray(this.staticData)):(this.configureService(),this.daoTable=new Tp(this.dataService,this.entity,t))},Up.prototype.reinitialize=function(t){t&&((t=Object.assign({},t)).hasOwnProperty("entity")&&(this.entity=t.entity),t.hasOwnProperty("service")&&(this.service=t.service),t.hasOwnProperty("columns")&&(this.columns=t.columns),t.hasOwnProperty("visibleColumns")&&(this.visibleColumns=t.visibleColumns),t.hasOwnProperty("keys")&&(this.keys=t.keys),t.hasOwnProperty("sortColumns")&&(this.sortColumns=t.sortColumns),t.hasOwnProperty("parentKeys")&&(this.parentKeys=t.parentKeys),t.hasOwnProperty("filterColumns")&&(this.oTableColumnsFilterComponent||(this.oTableColumnsFilterComponent=new lp(this.injector,this),this.oTableMenu.onVisibleFilterOptionChange.next(this.filterColumnActiveByDefault)),this.oTableColumnsFilterComponent.columns=t.filterColumns)),this.destroy(),this.initialize(),this.oTableStorage.reset(),this.initTableAfterViewInit(),this.onReinitialize.emit(null)},Up.prototype.initTableAfterViewInit=function(){this.parseVisibleColumns(),this.setDatasource(),this.registerDataSourceListeners(),this.parseSortColumns(),this.registerSortListener(),this.setFiltersConfiguration(this.state),this.addDefaultRowButtons(),this.queryOnInit&&this.queryData()},Up.prototype.destroy=function(){var e=this;Pp.prototype.destroy.call(this),this.tabGroupChangeSubscription&&this.tabGroupChangeSubscription.unsubscribe(),this.selectionChangeSubscription&&this.selectionChangeSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.onRenderedDataChange&&this.onRenderedDataChange.unsubscribe(),this.contextMenuSubscription&&this.contextMenuSubscription.unsubscribe(),Object.keys(this.asyncLoadSubscriptions).forEach(function(t){e.asyncLoadSubscriptions[t]&&e.asyncLoadSubscriptions[t].unsubscribe()})},Up.prototype.getDataToStore=function(){return this.oTableStorage.getDataToStore()},Up.prototype.registerQuickFilter=function(t){this.quickFilterComponent=undefined,this.oTableQuickFilterComponent=t,this.oTableQuickFilterComponent.setValue(this.state.filter,!1)},Up.prototype.registerPagination=function(t){this.paginationControls=!0,this.paginator=t},Up.prototype.registerContextMenu=function(t){var e=this;this.tableContextMenu=t,this.contextMenuSubscription=this.tableContextMenu.onShow.subscribe(function(t){t["class"]="o-table-context-menu "+e.rowHeight,t.data&&!e.selection.isSelected(t.data.rowValue)&&(e.clearSelection(),e.selectedRow(t.data.rowValue))})},Up.prototype.registerDefaultColumn=function(t){k.isDefined(this.getOColumn(t))||(t=this.createOColumn(t,this),this.pushOColumnDefinition(t))},Up.prototype.registerColumn=function(t){var e,n,o,i="string"==typeof t?t:t.attr;this.getOColumnPermissions(i).visible&&("string"!=typeof t?(i=this.getOColumn(t.attr),k.isDefined(i)&&k.isDefined(i.definition)||(e=this.createOColumn(t.attr,this,t),n=t.width,i=this.state["oColumns-display"],k.isDefined(i)&&(o=i.find(function(t){return t.attr===e.attr}),k.isDefined(o)&&k.isDefined(o.width)&&this.state.hasOwnProperty("initial-configuration")&&(this.state["initial-configuration"].hasOwnProperty("oColumns-display")?this.state["initial-configuration"]["oColumns-display"].forEach(function(t){e.attr===t.attr&&t.width===e.definition.originalWidth&&(n=o.width)}):n=o.width)),k.isDefined(n)&&(e.width=n),t&&(t.asyncLoad||"action"===t.type)&&(this.avoidQueryColumns.push(t.attr),t.asyncLoad&&this.asyncLoadColumns.push(t.attr)),this.pushOColumnDefinition(e))):this.registerDefaultColumn(t))},Up.prototype.pushOColumnDefinition=function(t){t.visible=-1!==this._visibleColArray.indexOf(t.attr);var e=this.getOColumn(t.attr);e!==undefined?(e=this._oTableOptions.columns.indexOf(e),this._oTableOptions.columns[e]=t):this._oTableOptions.columns.push(t),this.refreshEditionModeWarn()},Up.prototype.refreshEditionModeWarn=function(){this.editionMode===P.DETAIL_MODE_NONE&&0<this._oTableOptions.columns.filter(function(t){return k.isDefined(t.editor)}).length&&console.warn("Using a column with a editor but there is no edition-mode defined")},Up.prototype.registerColumnAggregate=function(t){this.showTotalsSubject.next(!0);var e=this.getOColumn(t.attr);e!==undefined&&(e=this._oTableOptions.columns.indexOf(e),this._oTableOptions.columns[e].aggregate=t)},Up.prototype.parseVisibleColumns=function(){var n,o=this;this.state.hasOwnProperty("oColumns-display")?(n=[],this.state["oColumns-display"].forEach(function(e,t){o._oTableOptions.columns.find(function(t){return t.attr===e.attr})!==undefined?n.push(e):console.warn("Unable to load the column "+e.attr+" from the localstorage")}),n=this.checkChangesVisibleColummnsInInitialConfiguration(n),this.visibleColArray=n.filter(function(t){return t.visible}).map(function(t){return t.attr})):(this.visibleColArray=k.parseArray(this.visibleColumns,!0),this._oTableOptions.columns.sort(function(t,e){return o.visibleColArray.indexOf(t.attr)-o.visibleColArray.indexOf(e.attr)}))},Up.prototype.checkChangesVisibleColummnsInInitialConfiguration=function(o){var t,e,i,n,r=this;return this.state.hasOwnProperty("initial-configuration")&&this.state["initial-configuration"].hasOwnProperty("oColumns-display")&&(t=this.state["initial-configuration"]["oColumns-display"].map(function(t){if(!0===t.visible)return t.attr}),e=k.parseArray(this.visibleColumns,!0),0<(i=k.differenceArrays(e,t)).length&&i.forEach(function(n,t){0<o.filter(function(t){return t.attr===n}).length?o=o.map(function(t){return-1<i.indexOf(t.attr)&&(t.visible=!0),t}):r.colArray.forEach(function(t,e){t===n&&o.splice(e+1,0,{attr:n,visible:!0,width:undefined})})}),0<(n=k.differenceArrays(t,e)).length&&(o=o.map(function(t){return-1<n.indexOf(t.attr)&&(t.visible=!1),t}))),o},Up.prototype.parseSortColumns=function(){var t,e,o=this,n=this.state["sort-columns"]||this.sortColumns;this.sortColArray=lt.parseSortColumns(n),this.state["sort-columns"]&&this.state["initial-configuration"]["sort-columns"]&&(t=lt.parseSortColumns(this.state["initial-configuration"]["sort-columns"]),e=lt.parseSortColumns(this.sortColumns),0<(n=k.differenceArrays(e,t)).length&&n.forEach(function(t){o.sortColArray.push(t)}),0<(e=k.differenceArrays(t,e)).length&&e.forEach(function(n){o.sortColArray.forEach(function(t,e){t.columnName===n.columnName&&o.sortColArray.splice(e,1)})}));for(var i=this.sortColArray.length-1;0<=i;i--){var r=this.sortColArray[i].columnName,r=this.getOColumn(r);k.isDefined(r)&&r.orderable||this.sortColArray.splice(i,1)}},Up.prototype.initializeParams=function(){var n,e=this;this.visibleColumns||(this.visibleColumns=this.columns),this.colArray.length&&(this.colArray.forEach(function(t){return e.registerColumn(t)}),n=[],this.state.hasOwnProperty("oColumns-display")?n=this.state["oColumns-display"].map(function(t){return t.attr}):(n=this.colArray.filter(function(t){return-1===e.visibleColArray.indexOf(t)})).push.apply(n,w(this.visibleColArray)),this._oTableOptions.columns.sort(function(t,e){return-1===n.indexOf(t.attr)?0:n.indexOf(t.attr)-n.indexOf(e.attr)})),this._oTableOptions.filter=this.quickFilter,this.state.hasOwnProperty("currentPage")&&(this.currentPage=this.state.currentPage),!this.paginator&&this.paginationControls&&(this.paginator=new ep,this.paginator.pageSize=this.queryRows,this.paginator.pageIndex=this.currentPage,this.paginator.showFirstLastButtons=this.showPaginatorFirstLastButtons),!k.isDefined(this.selectAllCheckboxVisible)||this.state.hasOwnProperty("initial-configuration")&&this.state["initial-configuration"].hasOwnProperty("select-column-visible")&&this.selectAllCheckboxVisible===this.state["initial-configuration"]["select-column-visible"]?this._oTableOptions.selectColumn.visible=!!this.state["select-column-visible"]:this._oTableOptions.selectColumn.visible=this.selectAllCheckboxVisible,this.showFilterByColumnIcon=this.originalFilterColumnActiveByDefault,this.initializeCheckboxColumn()},Up.prototype.updateStateExpandedColumn=function(){this.tableRowExpandable&&this.tableRowExpandable.expandableColumnVisible&&(this._oTableOptions.visibleColumns[0]===P.NAME_COLUMN_SELECT&&this._oTableOptions.visibleColumns[1]!==P.NAME_COLUMN_EXPANDABLE?this._oTableOptions.visibleColumns=[this._oTableOptions.visibleColumns[0]].concat(P.NAME_COLUMN_EXPANDABLE,this._oTableOptions.visibleColumns.splice(1)):this._oTableOptions.visibleColumns[0]!==P.NAME_COLUMN_EXPANDABLE&&this._oTableOptions.visibleColumns.unshift(P.NAME_COLUMN_EXPANDABLE))},Up.prototype.registerTabListener=function(){var o=this;this.tabGroupChangeSubscription=this.tabGroupContainer.selectedTabChange.subscribe(function(e){var n=setInterval(function(){var t;(t=e.tab)&&t.content.isAttached&&(clearInterval(n),t===o.tabContainer&&(o.insideTabBugWorkaround(),o.pendingQuery&&o.queryData(o.pendingQueryFilter)))},100)})},Up.prototype.insideTabBugWorkaround=function(){this.sortHeaders.forEach(function(t){t.refresh()})},Up.prototype.registerSortListener=function(){k.isDefined(this.sort)&&(this.sortSubscription=this.sort.oSortChange.subscribe(this.onSortChange.bind(this)),this.sort.setMultipleSort(this.multipleSort),k.isDefined(this._oTableOptions.columns)&&0<this.sortColArray.length&&this.sort.setTableInfo(this.sortColArray))},Up.prototype.onSortChange=function(t){var e=this;this.sortColArray=[],t.forEach(function(t){""!==t.direction&&e.sortColArray.push({columnName:t.id,ascendent:t.direction===P.ASC_SORT})}),this.pageable?this.reloadData():(this.loadingSortingSubject.next(!0),this.cd.detectChanges())},Up.prototype.setDatasource=function(){var t=this.injector.get(bp);this.dataSource=t.getInstance(this)},Up.prototype.registerDataSourceListeners=function(){var t=this;this.pageable||(this.onRenderedDataChange=this.dataSource.onRenderedDataChange.subscribe(function(){setTimeout(function(){t.loadingSortingSubject.next(!1),t.cd&&!t.cd.destroyed&&t.cd.detectChanges()},500)}))},Object.defineProperty(Up.prototype,"showLoading",{get:function(){return u.combineLatest([this.loading,this.loadingSorting,this.loadingScroll]).pipe(l.map(function(t){return t[0]||t[1]||t[2]}))},enumerable:!0,configurable:!0}),Up.prototype.getExpandedRowContainerClass=function(t){return Up.EXPANDED_ROW_CONTAINER_CLASS+t},Up.prototype.getExpandableItems=function(){return this.expandableItem.selected},Up.prototype.toogleRowExpandable=function(e,n,t){var o,i=this;t.stopPropagation(),t.preventDefault(),this.expandableItem.toggle(e),"collapsed"===this.getStateExpand(e)?(this.portalHost.detach(),this.cd.detectChanges(),o=this.emitTableRowExpandableChangeEvent(e,n),this.tableRowExpandable.onCollapsed.emit(o)):(this.portalHost=new m.DomPortalOutlet(this.elRef.nativeElement.querySelector("."+this.getExpandedRowContainerClass(n)),this._componentFactoryResolver,this.appRef,this.injector),o=new m.TemplatePortal(this.tableRowExpandable.templateRef,this._viewContainerRef,{$implicit:e}),this.portalHost.attachTemplatePortal(o),setTimeout(function(){var t=i.emitTableRowExpandableChangeEvent(e,n);i.tableRowExpandable.onExpanded.emit(t)},250))},Up.prototype.emitTableRowExpandableChangeEvent=function(t,e){var n=new Ap;return n.rowIndex=e,n.data=t,n},Up.prototype.isExpanded=function(t){return this.expandableItem.isSelected(t)},Up.prototype.getStateExpand=function(t){return this.isExpanded(t)?"expanded":"collapsed"},Up.prototype.isColumnExpandable=function(){return!(!k.isDefined(this.tableRowExpandable)||!k.isDefined(this._oTableOptions.expandableColumn))&&this._oTableOptions.expandableColumn.visible},Up.prototype.hasExpandedRow=function(){return k.isDefined(this.tableRowExpandable)},Up.prototype.getNumVisibleColumns=function(){return this.oTableOptions.visibleColumns.length},Up.prototype.queryData=function(t,e){if(this.isInsideInactiveTab())return this.pendingQuery=!0,void(this.pendingQueryFilter=t);this.pendingQuery=!1,this.pendingQueryFilter=undefined,Pp.prototype.queryData.call(this,t,e)},Up.prototype.isInsideInactiveTab=function(){var t=!1;return t=this.tabContainer&&this.tabGroupContainer?!(this.tabContainer.isActive||this.tabGroupContainer.selectedIndex===this.tabContainer.position):t},Up.prototype.getComponentFilter=function(t){var e,t=t=void 0===t?{}:t;return this.pageable&&(0<Object.keys(t).length&&(e=ee.buildExpressionFromObject(t),(t={})[ee.FILTER_EXPRESSION_KEY]=e),(e=this.getColumnFiltersExpression())&&!k.isDefined(t[ee.FILTER_EXPRESSION_KEY])?t[ee.FILTER_EXPRESSION_KEY]=e:e&&(t[ee.FILTER_EXPRESSION_KEY]=ee.buildComplexExpression(t[ee.FILTER_EXPRESSION_KEY],e,ee.OP_AND))),Pp.prototype.getComponentFilter.call(this,t)},Up.prototype.getQuickFilterExpression=function(){return k.isDefined(this.oTableQuickFilterComponent)&&this.pageable?this.oTableQuickFilterComponent.filterExpression:undefined},Up.prototype.getColumnFiltersExpression=function(){var t=this.dataSource.getColumnValueFilters(),i=[];t.forEach(function(e){switch(e.operator){case O.ColumnValueFilterOperator.IN:var n;k.isArray(e.values)&&(o=e.values.map(function(t){return ee.buildExpressionEquals(e.attr,t)}),n=o.pop(),o.forEach(function(t){n=ee.buildComplexExpression(n,t,ee.OP_OR)}),i.push(n));break;case O.ColumnValueFilterOperator.BETWEEN:var t,o;k.isArray(e.values)&&2===e.values.length&&(t=ee.buildExpressionMoreEqual(e.attr,e.values[0]),o=ee.buildExpressionLessEqual(e.attr,e.values[1]),i.push(ee.buildComplexExpression(t,o,ee.OP_AND)));break;case O.ColumnValueFilterOperator.EQUAL:i.push(ee.buildExpressionLike(e.attr,e.values));break;case O.ColumnValueFilterOperator.LESS_EQUAL:i.push(ee.buildExpressionLessEqual(e.attr,e.values));break;case O.ColumnValueFilterOperator.MORE_EQUAL:i.push(ee.buildExpressionMoreEqual(e.attr,e.values))}});var e=i.pop();return i.forEach(function(t){e=ee.buildComplexExpression(e,t,ee.OP_AND)}),e},Up.prototype.updatePaginationInfo=function(t){Pp.prototype.updatePaginationInfo.call(this,t)},Up.prototype.setData=function(t,e){this.daoTable.sqlTypesChange.next(e),this.daoTable.setDataArray(t),this.updateScrolledState(),this.pageable&&Y.callEmit(this.onPaginatedDataLoaded,t),Y.callEmit(this.onDataLoaded,this.daoTable.data)},Up.prototype.showDialogError=function(t,e){k.isDefined(t)&&!k.isObject(t)?this.dialogService.alert("ERROR",t):this.dialogService.alert("ERROR",e)},Up.prototype.projectContentChanged=function(){var e=this;setTimeout(function(){e.loadingSortingSubject.next(!1)},500),this.loadingScrollSubject.next(!1),this.previousRendererData!==this.dataSource.renderedData&&(this.previousRendererData=this.dataSource.renderedData,Y.callEmit(this.onContentChange,this.dataSource.renderedData)),this.state.hasOwnProperty("selection")&&0<this.dataSource.renderedData.length&&0===this.getSelectedItems().length&&this.state.selection.forEach(function(o){var t=e.dataSource.renderedData.find(function(e){var n=!0;return Object.keys(o).forEach(function(t){n=n&&e[t]===o[t]}),n});t&&e.selection.select(t)})},Up.prototype.getAttributesValuesToQuery=function(){var t=Pp.prototype.getAttributesValuesToQuery.call(this);if(0<this.avoidQueryColumns.length)for(var e=t.length-1;0<=e;e--){var n=t[e];-1!==this.avoidQueryColumns.indexOf(n)&&t.splice(e,1)}return t},Up.prototype.getQueryArguments=function(t,e){t=Pp.prototype.getQueryArguments.call(this,t,e);return t[3]=this.getSqlTypesForFilter(t[1]),Object.assign(t[3],e&&e.sqltypes||{}),this.pageable&&(t[5]=this.paginator.isShowingAllRows(t[5])?this.state.totalQueryRecordsNumber:t[5],t[6]=this.sortColArray),t},Up.prototype.getSqlTypesForFilter=function(t){var e={};this._oTableOptions.columns.forEach(function(t){t.sqlType&&(e[t.attr]=t.sqlType)}),Object.assign(e,this.getSqlTypes());var n=k.getValuesFromObject(t),o={};return Object.keys(e).forEach(function(t){-1!==n.indexOf(t)&&e[t]!==at.OTHER&&(o[t]=e[t])}),o},Up.prototype.onExportButtonClicked=function(){this.oTableMenu&&this.oTableMenu.onExportButtonClicked()},Up.prototype.onChangeColumnsVisibilityClicked=function(){this.oTableMenu&&this.oTableMenu.onChangeColumnsVisibilityClicked()},Up.prototype.onMatTableContentChanged=function(){},Up.prototype.add=function(){this.checkEnabledActionPermission(Gt.ACTION_INSERT)&&Pp.prototype.insertDetail.call(this)},Up.prototype.remove=function(e){var n,o=this;void 0===e&&(e=!1),!this.checkEnabledActionPermission(Gt.ACTION_DELETE)||0<(n=this.getSelectedItems()).length&&this.dialogService.confirm("CONFIRM","MESSAGES.CONFIRM_DELETE").then(function(t){!0===t?o.dataService&&o.deleteMethod in o.dataService&&o.entity&&0<o.keysArray.length?(t=lt.getArrayProperties(n,o.keysArray),o.daoTable.removeQuery(t).subscribe(function(){Y.callEmit(o.onRowDeleted,n)},function(t){o.showDialogError(t,"MESSAGES.ERROR_DELETE")},function(){o.reloadData()})):o.deleteLocalItems():e&&o.clearSelection()})},Up.prototype.refresh=function(){this.reloadData()},Up.prototype.showAndSelectAllCheckbox=function(){this.isSelectionModeMultiple()&&(this.selectAllCheckbox&&(this._oTableOptions.selectColumn.visible=!0),this.initializeCheckboxColumn(),this.selectAll())},Up.prototype.reloadPaginatedDataFromStart=function(){this.pageable&&(this.currentPage=0,this.reloadData())},Up.prototype.reloadData=function(){var t;this.checkEnabledActionPermission(Gt.ACTION_REFRESH)&&(Object.assign(this.state,this.oTableStorage.getTablePropertyToStore("selection")),this.clearSelection(),this.finishQuerySubscription=!1,this.pendingQuery=!0,this.pageable&&(t={offset:this.currentPage*this.queryRows,length:this.queryRows}),this.editingCell=undefined,this.queryData(void 0,t))},Up.prototype.handleClick=function(t,e,n){var o=this;this.clickTimer=setTimeout(function(){o.clickPrevent||o.doHandleClick(t,e,n),o.clickPrevent=!1},this.clickDelay)},Up.prototype.doHandleClick=function(t,e,n){var o;if(this.oenabled)return this.detailMode===P.DETAIL_MODE_CLICK?(this.onClick.emit({row:t,rowIndex:e,mouseEvent:n}),this.saveDataNavigationInLocalStorage(),this.selection.clear(),this.selectedRow(t),void this.viewDetail(t)):void(this.isSelectionModeMultiple()&&(n.ctrlKey||n.metaKey)?(this.selectedRow(t),this.onClick.emit({row:t,rowIndex:e,mouseEvent:n})):this.isSelectionModeMultiple()&&n.shiftKey?this.handleMultipleSelection(t):this.isSelectionModeNone()||(o=this.getSelectedItems(),this.selection.isSelected(t)&&1===o.length&&this.editionEnabled||(this.clearSelectionAndEditing(),this.selectedRow(t),this.onClick.emit({row:t,rowIndex:e,mouseEvent:n}))))},Up.prototype.handleMultipleSelection=function(t){var e,n,o=this;0<this.selection.selected.length&&(e=this.dataSource.renderedData.indexOf(this.selection.selected[0]),n=this.dataSource.renderedData.indexOf(t),t=Math.min(e,n),n=Math.max(e,n),this.clearSelection(),this.dataSource.renderedData.slice(t,n+1).forEach(function(t){return o.selectedRow(t)}),Y.callEmit(this.onClick,this.selection.selected))},Up.prototype.saveDataNavigationInLocalStorage=function(){Pp.prototype.saveDataNavigationInLocalStorage.call(this),this.storePaginationState=!0},Up.prototype.handleDoubleClick=function(t,e){clearTimeout(this.clickTimer),this.clickPrevent=!0,Y.callEmit(this.onDoubleClick,t),this.oenabled&&P.isDoubleClickMode(this.detailMode)&&(this.saveDataNavigationInLocalStorage(),this.viewDetail(t))},Object.defineProperty(Up.prototype,"editionEnabled",{get:function(){return this._oTableOptions.columns.some(function(t){return t.editing})},enumerable:!0,configurable:!0}),Up.prototype.handleDOMClick=function(t){var e,n;this._oTableOptions.selectColumn.visible||this.editionEnabled||((n=document.body.getElementsByClassName("cdk-overlay-container")[0])&&n.contains(t.target)||(e=this.elRef.nativeElement.querySelector(".o-table-container"),n=this.elRef.nativeElement.querySelector(".o-table-container table.mat-table"),e&&n&&e.contains(t.target)&&!n.contains(t.target)&&this.clearSelection()))},Up.prototype.handleCellClick=function(t,e,n){this.oenabled&&t.editor&&this.detailMode!==P.DETAIL_MODE_CLICK&&this.editionMode===P.DETAIL_MODE_CLICK&&this.activateColumnEdition(t,e,n)},Up.prototype.handleCellDoubleClick=function(t,e,n){this.oenabled&&t.editor&&!P.isDoubleClickMode(this.detailMode)&&P.isDoubleClickMode(this.editionMode)&&this.activateColumnEdition(t,e,n)},Up.prototype.activateColumnEdition=function(t,e,n){var o;n&&(n.stopPropagation(),n.preventDefault()),n&&t.editing&&this.editingCell===n.currentTarget||(!1!==this.getOColumnPermissions(t.attr).enabled?(this.clearSelectionAndEditing(),this.selectedRow(e),n&&(this.editingCell=n.currentTarget),o={},this.keysArray.forEach(function(t){o[t]=e[t]}),o[t.attr]=e[t.attr],this.editingRow=e,t.editing=!0,t.editor.startEdition(o),this.cd.detectChanges()):console.warn(t.attr+" edition not allowed due to permissions"))},Up.prototype.updateCellData=function(t,e,n){if(!this.checkEnabledActionPermission(Gt.ACTION_UPDATE))return new u.Observable(function(t){t.error()});if(t.editing=!1,this.editingCell=undefined,n&&this.editingRow!==undefined&&Object.assign(this.editingRow,e),this.editingRow=undefined,n&&t.editor.updateRecordOnEdit){n={};n[t.attr]=e[t.attr];e=this.extractKeysFromRecord(e);return this.updateRecord(e,n)}return undefined},Up.prototype.getKeysValues=function(){var t=this;return this.getAllValues().map(function(e){var n={};return t.keysArray.forEach(function(t){e[t]!==undefined&&(n[t]=e[t])}),n})},Up.prototype.onShowsSelects=function(){this.oTableMenu&&this.oTableMenu.onShowsSelects()},Up.prototype.initializeCheckboxColumn=function(){var e=this;!this.selectionChangeSubscription&&this._oTableOptions.selectColumn.visible&&(this.selectionChangeSubscription=this.selection.changed.subscribe(function(t){t&&0<t.added.length&&Y.callEmit(e.onRowSelected,t.added),t&&0<t.removed.length&&Y.callEmit(e.onRowDeselected,t.removed)})),this.updateSelectionColumnState()},Up.prototype.updateSelectionColumnState=function(){this._oTableOptions.selectColumn.visible||this.clearSelection(),this._oTableOptions.visibleColumns&&this._oTableOptions.selectColumn.visible&&this._oTableOptions.visibleColumns[0]!==P.NAME_COLUMN_SELECT?this._oTableOptions.visibleColumns.unshift(P.NAME_COLUMN_SELECT):this._oTableOptions.visibleColumns&&!this._oTableOptions.selectColumn.visible&&this._oTableOptions.visibleColumns[0]===P.NAME_COLUMN_SELECT&&this._oTableOptions.visibleColumns.shift(),this.updateStateExpandedColumn()},Up.prototype.isAllSelected=function(){var t=this.selection.selected.length,e=this.dataSource?this.dataSource.renderedData.length:undefined;return 0<t&&t===e},Up.prototype.masterToggle=function(t){t.checked?this.selectAll():this.clearSelection()},Up.prototype.selectAll=function(){var e=this;this.dataSource.renderedData.forEach(function(t){return e.selection.select(t)})},Up.prototype.selectionCheckboxToggle=function(t,e){this.isSelectionModeSingle()&&this.clearSelection(),this.selectedRow(e)},Up.prototype.selectedRow=function(t){this.setSelected(t),this.cd.detectChanges()},Object.defineProperty(Up.prototype,"showDeleteButton",{get:function(){return this.deleteButton},enumerable:!0,configurable:!0}),Up.prototype.getTrackByFunction=function(){var r=this;return function(t,n){if(r.hasScrollableContainer()&&t<(r.pageScrollVirtual-1)*P.LIMIT_SCROLLVIRTUAL)return null;var o="",i=r.keysArray.length;r.keysArray.forEach(function(t,e){e=e<i-1?";":"";o+=n[t]+e});var e=r.asyncLoadColumns.filter(function(t){return-1!==r._oTableOptions.visibleColumns.indexOf(t)});return r.asyncLoadColumns.length&&0<e.length&&!r.finishQuerySubscription&&(r.queryRowAsyncData(t,n),r.paginator&&t===r.paginator.pageSize-1&&(r.finishQuerySubscription=!0)),o}},Up.prototype.queryRowAsyncData=function(t,n){var o=this,e=lt.getObjectProperties(n,this.keysArray),i=this.asyncLoadColumns.filter(function(t){return-1!==o._oTableOptions.visibleColumns.indexOf(t)});0!==i.length&&(e=[e,i,this.entity,undefined,undefined,undefined,undefined],i=this.pageable?this.paginatedQueryMethod:this.queryMethod,this.dataService&&i in this.dataService&&this.entity&&(this.asyncLoadSubscriptions[t]&&this.asyncLoadSubscriptions[t].unsubscribe(),this.asyncLoadSubscriptions[t]=this.dataService[i].apply(this.dataService,e).subscribe(function(t){var e;t.isSuccessful()&&(e=void 0,k.isArray(t.data)&&1===t.data.length?e=t.data[0]:k.isObject(t.data)&&(e=t.data),o.daoTable.setAsynchronousColumn(e,n),o.cd.detectChanges())})))},Up.prototype.getValue=function(){return this.dataSource.getCurrentData()},Up.prototype.getAllValues=function(){return this.dataSource.getCurrentAllData()},Up.prototype.getAllRenderedValues=function(){return this.dataSource.getAllRendererData()},Up.prototype.getRenderedValue=function(){return this.dataSource.getCurrentRendererData()},Up.prototype.getSqlTypes=function(){return k.isDefined(this.dataSource.sqlTypes)?this.dataSource.sqlTypes:{}},Up.prototype.setOTableColumnsFilter=function(t){this.oTableColumnsFilterComponent=t},Object.defineProperty(Up.prototype,"filterColumns",{get:function(){return this.state.hasOwnProperty("initial-configuration")&&this.state["initial-configuration"].hasOwnProperty("filter-columns")&&this.state.hasOwnProperty("filter-columns")&&this.state["initial-configuration"]["filter-columns"]===this.originalFilterColumns&&this.state.hasOwnProperty("filter-columns")?this.state["filter-columns"]:this.originalFilterColumns},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"originalFilterColumns",{get:function(){var t=[];return t=this.oTableColumnsFilterComponent?this.oTableColumnsFilterComponent.columnsArray:t},enumerable:!0,configurable:!0}),Up.prototype.getStoredColumnsFilters=function(){return this.oTableStorage.getStoredColumnsFilters()},Up.prototype.onFilterByColumnClicked=function(){this.oTableMenu&&this.oTableMenu.onFilterByColumnClicked()},Up.prototype.onStoreFilterClicked=function(){this.oTableMenu&&this.oTableMenu.onStoreFilterClicked()},Up.prototype.onLoadFilterClicked=function(){this.oTableMenu&&this.oTableMenu.onLoadFilterClicked()},Up.prototype.onClearFilterClicked=function(){this.oTableMenu&&this.oTableMenu.onClearFilterClicked()},Up.prototype.clearFilters=function(t){void 0===t&&(t=!0),this.dataSource.clearColumnFilters(t),this.oTableMenu&&this.oTableMenu.columnFilterOption&&this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon),this.onFilterByColumnChange.emit(this.dataSource.getColumnValueFilters()),this.oTableQuickFilterComponent&&this.oTableQuickFilterComponent.setValue(void 0)},Up.prototype.clearColumnFilter=function(t,e){void 0===e&&(e=!0),this.dataSource.clearColumnFilter(t,e),this.onFilterByColumnChange.emit(this.dataSource.getColumnValueFilters()),this.reloadPaginatedDataFromStart()},Up.prototype.filterByColumn=function(t){this.dataSource.addColumnFilter(t),this.onFilterByColumnChange.emit(this.dataSource.getColumnValueFilters()),this.reloadPaginatedDataFromStart()},Up.prototype.clearColumnFilters=function(t){void 0===t&&(t=!0),this.dataSource.clearColumnFilters(t),this.onFilterByColumnChange.emit(this.dataSource.getColumnValueFilters()),this.reloadPaginatedDataFromStart()},Up.prototype.isColumnFilterable=function(t){return this.oTableColumnsFilterComponent&&this.oTableColumnsFilterComponent.isColumnFilterable(t.attr)},Up.prototype.isModeColumnFilterable=function(t){return this.showFilterByColumnIcon&&this.oTableColumnsFilterComponent&&this.oTableColumnsFilterComponent.isColumnFilterable(t.attr)},Up.prototype.isColumnFilterActive=function(t){return this.showFilterByColumnIcon&&this.dataSource.getColumnValueFilterByAttr(t.attr)!==undefined},Up.prototype.openColumnFilterDialog=function(t,e){var n=this;e.stopPropagation(),e.preventDefault();var o=this.dialog.open(Ju,{data:{previousFilter:this.dataSource.getColumnValueFilterByAttr(t.attr),column:t,activeSortDirection:this.getSortFilterColumn(t),tableData:this.dataSource.getTableData(),preloadValues:this.oTableColumnsFilterComponent.preloadValues,mode:this.oTableColumnsFilterComponent.mode},minWidth:"380px",disableClose:!0,panelClass:["o-dialog-class","o-table-dialog"]});o.afterClosed().subscribe(function(t){switch(t){case O.TableFilterByColumnDialogResult.ACCEPT:var e=o.componentInstance.getColumnValuesFilter();n.filterByColumn(e);break;case O.TableFilterByColumnDialogResult.CLEAR:e=o.componentInstance.column;n.clearColumnFilter(e.attr)}}),o.componentInstance.onSortFilterValuesChange.subscribe(function(t){n.storeFilterColumns(t)})},Up.prototype.storeFilterColumns=function(e){var t;this.state.hasOwnProperty("filter-columns")&&this.state["filter-columns"]?(0<(t=this.oTableStorage.getFilterColumnsState())["filter-columns"].filter(function(t){return t.attr===e.attr}).length?t["filter-columns"].forEach(function(t){t.attr===e.attr&&(t.sort=e.sort)}):t["filter-columns"].push(e),this.state["filter-columns"]=t["filter-columns"]):this.state["filter-columns"]=this.filterColumns},Up.prototype.getSortFilterColumn=function(e){var n;return this.state.hasOwnProperty("filter-columns")&&this.state["filter-columns"].forEach(function(t){t.attr===e.attr&&(n=t.sort)}),!k.isDefined(n)&&this.oTableColumnsFilterComponent&&(n=this.oTableColumnsFilterComponent.getSortValueOfFilterColumn(e.attr)),k.isDefined(n)||this.sortColArray.find(function(t){return t.columnName===e.attr})&&(n=this.isColumnSortActive(e)?"asc":"desc"),n},Object.defineProperty(Up.prototype,"disableTableMenuButton",{get:function(){return!(!this.permissions||!this.permissions.menu||!1!==this.permissions.menu.enabled)},enumerable:!0,configurable:!0}),Object.defineProperty(Up.prototype,"showTableMenuButton",{get:function(){return(!this.permissions||!this.permissions.menu||!1!==this.permissions.menu.visible)&&(this.selectAllCheckbox||this.exportButton||this.showConfigurationOption||this.columnsVisibilityButton||this.showFilterOption&&this.oTableColumnsFilterComponent!==undefined||0<this.tableOptions.length)},enumerable:!0,configurable:!0}),Up.prototype.setOTableInsertableRow=function(t){var e=this.getActionPermissions(Gt.ACTION_INSERT);e.visible&&(t.enabled=e.enabled,this.oTableInsertableRowComponent=t,this.showFirstInsertableRow=this.oTableInsertableRowComponent.isFirstRow(),this.showLastInsertableRow=!this.showFirstInsertableRow,this.oTableInsertableRowComponent.initializeEditors())},Up.prototype.clearSelectionAndEditing=function(){this.selection.clear(),this._oTableOptions.columns.forEach(function(t){t.editing=!1})},Up.prototype.useDetailButton=function(t){return"editButtonInRow"===t.type||"detailButtonInRow"===t.type},Up.prototype.onDetailButtonClick=function(t,e,n){switch(n.preventDefault(),n.stopPropagation(),t.type){case"editButtonInRow":this.editDetail(e);break;case"detailButtonInRow":this.viewDetail(e)}},Up.prototype.getDetailButtonIcon=function(t){var e="";switch(t.type){case"editButtonInRow":e=this.editButtonInRowIcon;break;case"detailButtonInRow":e=this.detailButtonInRowIcon}return e},Up.prototype.usePlainRender=function(t,e){return!(this.useDetailButton(t)||t.renderer||t.editor&&t.editing&&this.selection.isSelected(e))},Up.prototype.useCellRenderer=function(t,e){return t.renderer&&(!t.editing||t.editing&&!this.selection.isSelected(e))},Up.prototype.useCellEditor=function(t,e){return(!t.editor||!t.editor.autoCommit)&&(t.editor&&t.editing&&this.selection.isSelected(e))},Up.prototype.isSelectionModeMultiple=function(){return this.selectionMode===P.SELECTION_MODE_MULTIPLE},Up.prototype.isSelectionModeSingle=function(){return this.selectionMode===P.SELECTION_MODE_SINGLE},Up.prototype.isSelectionModeNone=function(){return this.selectionMode===P.SELECTION_MODE_NONE},Up.prototype.onChangePage=function(t){var e,n,o,i,r,a;this.finishQuerySubscription=!1,this.pageable?(e=this.state,n=t.pageIndex<this.currentPage,this.currentPage=t.pageIndex,o=this.paginator.isShowingAllRows(t.pageSize)?e.totalQueryRecordsNumber:t.pageSize,i=this.queryRows!==o,this.queryRows=o,a=n||i?(r=this.currentPage*this.queryRows,this.queryRows):(r=Math.max(e.queryRecordOffset,this.currentPage*this.queryRows),a=Math.min(r+this.queryRows,e.totalQueryRecordsNumber),Math.min(this.queryRows,a-r)),a={offset:r,length:a},this.finishQuerySubscription=!1,this.queryData(void 0,a)):this.currentPage=t.pageIndex},Up.prototype.getOColumn=function(e){return this._oTableOptions?this._oTableOptions.columns.find(function(t){return t.name===e}):undefined},Up.prototype.insertRecord=function(t,e){return this.checkEnabledActionPermission(Gt.ACTION_INSERT)?(k.isDefined(e)||(n=this.getSqlTypes(),e={},Object.keys(t).forEach(function(t){e[t]=n[t]})),this.daoTable.insertQuery(t,e)):undefined;var n},Up.prototype.updateRecord=function(t,e,n){if(!this.checkEnabledActionPermission(Gt.ACTION_UPDATE))return u.of(this.dataSource.data);var o,i=n||{};return k.isDefined(n)||(o=this.getSqlTypes(),Object.keys(t).forEach(function(t){i[t]=o[t]}),Object.keys(e).forEach(function(t){i[t]=o[t]})),this.daoTable.updateQuery(t,e,i)},Up.prototype.getDataArray=function(){return this.daoTable.data},Up.prototype.setDataArray=function(t){this.daoTable&&(this.pageable=!1,this.staticData=t,this.daoTable.usingStaticData=!0,this.daoTable.setDataArray(this.staticData))},Up.prototype.deleteLocalItems=function(){var n=this.getDataArray();this.getSelectedItems().forEach(function(t){for(var e=n.length-1;0<=e;--e)if(k.equals(t,n[e])){n.splice(e,1);break}}),this.clearSelection(),this.setDataArray(n)},Up.prototype.isColumnSortActive=function(e){return this.sortColArray.find(function(t){return t.columnName===e.attr})!==undefined},Up.prototype.isColumnDescSortActive=function(e){return this.sortColArray.find(function(t){return t.columnName===e.attr&&!t.ascendent})!==undefined},Up.prototype.hasTabGroupChangeSubscription=function(){return this.tabGroupChangeSubscription!==undefined},Up.prototype.isEmpty=function(t){return!k.isDefined(t)||"string"==typeof t&&!t},Up.prototype.setFiltersConfiguration=function(t){var n=this;k.isDefined(this.filterCaseSensitive)&&this.state.hasOwnProperty("initial-configuration")&&this.state["initial-configuration"].hasOwnProperty("filter-case-sensitive")&&this.filterCaseSensitive===t["initial-configuration"]["filter-case-sensitive"]&&(this.filterCaseSensitive=t.hasOwnProperty("filter-case-sensitive")?t["filter-case-sensitive"]:this.filterCaseSensitive);var e,o=this.oTableStorage.getStoredColumnsFilters(t);k.isDefined(this.filterColumnActiveByDefault)&&this.state.hasOwnProperty("initial-configuration")&&this.state["initial-configuration"].hasOwnProperty("filter-column-active-by-default")&&this.originalFilterColumnActiveByDefault!==t["initial-configuration"]["filter-column-active-by-default"]?this.showFilterByColumnIcon=this.originalFilterColumnActiveByDefault:(e=t.hasOwnProperty("filter-column-active-by-default")?t["filter-column-active-by-default"]:this.filterColumnActiveByDefault,this.showFilterByColumnIcon=e||0<o.length),this.oTableMenu&&this.oTableMenu.columnFilterOption&&this.oTableMenu.columnFilterOption.setActive(this.showFilterByColumnIcon),this.oTableColumnsFilterComponent&&this.dataSource.initializeColumnsFilters(o),this.oTableQuickFilterComponent&&(this.oTableQuickFilterComponent.setValue(t.filter),(t.oColumns||[]).forEach(function(t){var e=n.getOColumn(t.attr);e&&t.hasOwnProperty("searching")&&(e.searching=t.searching)}))},Up.prototype.onStoreConfigurationClicked=function(){this.oTableMenu&&this.oTableMenu.onStoreConfigurationClicked()},Up.prototype.onApplyConfigurationClicked=function(){this.oTableMenu&&this.oTableMenu.onApplyConfigurationClicked()},Up.prototype.applyDefaultConfiguration=function(){var n=this;this.oTableStorage.reset(),this.initializeParams(),this.parseVisibleColumns(),this._oTableOptions.columns.sort(function(t,e){return n.visibleColArray.indexOf(t.attr)-n.visibleColArray.indexOf(e.attr)}),this.insideTabBugWorkaround(),this.onReinitialize.emit(null),this.clearFilters(!1),this.reloadData()},Up.prototype.applyConfiguration=function(t){var e,n=this,o=this.oTableStorage.getStoredConfiguration(t);o&&(t=o[Ep.STORED_PROPERTIES_KEY]||[],e=o[Ep.STORED_CONFIGURATION_KEY],t.forEach(function(t){switch(t){case"sort":n.state["sort-columns"]=e["sort-columns"],n.parseSortColumns();break;case"columns-display":n.state["oColumns-display"]=e["oColumns-display"],n.parseVisibleColumns(),n.state["select-column-visible"]=e["select-column-visible"],n.initializeCheckboxColumn();break;case"quick-filter":case"columns-filter":n.setFiltersConfiguration(e);break;case"page":n.state.currentPage=e.currentPage,n.currentPage=e.currentPage,n.pageable&&(n.state.totalQueryRecordsNumber=e.totalQueryRecordsNumber,n.state.queryRecordOffset=e.queryRecordOffset),n.queryRows=e["query-rows"]}}),this.reloadData())},Up.prototype.getTitleAlignClass=function(t){var e,n=k.isDefined(t.definition)&&k.isDefined(t.definition.titleAlign);if(!(this.autoAlignTitles&&!n||n&&t.definition.titleAlign===P.COLUMN_TITLE_ALIGN_AUTO))return t.getTitleAlignClass();switch(t.type){case"image":case"date":case"action":case"boolean":e=P.COLUMN_TITLE_ALIGN_CENTER;break;case"currency":case"integer":case"real":case"percentage":e=P.COLUMN_TITLE_ALIGN_END;break;case"service":default:e=P.COLUMN_TITLE_ALIGN_START}return e},Up.prototype.getCellAlignClass=function(t){return k.isDefined(t.definition)&&k.isDefined(t.definition.contentAlign)?"o-"+t.definition.contentAlign:""},Up.prototype.onTableScroll=function(t){var e;this.hasScrollableContainer()&&(e=t.target.offsetHeight,t.target.scrollHeight-e-100<t.target.scrollTop&&this.getDataScrollable())},Up.prototype.getDataScrollable=function(){var t=this.pageScrollVirtual;Math.ceil(this.dataSource.resultsLength/P.LIMIT_SCROLLVIRTUAL)!==this.pageScrollVirtual&&this.pageScrollVirtual++,t!==this.pageScrollVirtual&&(this.loadingScrollSubject.next(!0),this.dataSource.loadDataScrollable=this.pageScrollVirtual)},Up.prototype.hasScrollableContainer=function(){return this.dataSource&&!this.paginationControls&&!this.pageable},Up.prototype.addDefaultRowButtons=function(){this.editButtonInRow&&this.addButtonInRow("editButtonInRow"),this.detailButtonInRow&&this.addButtonInRow("detailButtonInRow")},Up.prototype.addButtonInRow=function(t){var e=this.createOColumn(t,this);e.type=t,e.visible=!0,e.searchable=!1,e.orderable=!1,e.resizable=!1,e.title=undefined,e.width="48px",this.pushOColumnDefinition(e),this._oTableOptions.visibleColumns.push(t)},Object.defineProperty(Up.prototype,"headerHeight",{get:function(){var t=0;return this.tableHeaderEl&&this.tableHeaderEl.nativeElement&&(t+=this.tableHeaderEl.nativeElement.offsetHeight),this.tableToolbarEl&&this.tableToolbarEl.nativeElement&&(t+=this.tableToolbarEl.nativeElement.offsetHeight),t},enumerable:!0,configurable:!0}),Up.prototype.isDetailMode=function(){return this.detailMode!==P.DETAIL_MODE_NONE},Up.prototype.copyAll=function(){k.copyToClipboard(JSON.stringify(this.getRenderedValue()))},Up.prototype.copySelection=function(){var t=this.dataSource.getRenderedData(this.getSelectedItems());k.copyToClipboard(JSON.stringify(t))},Up.prototype.viewDetail=function(t){this.checkEnabledActionPermission("detail")&&Pp.prototype.viewDetail.call(this,t)},Up.prototype.editDetail=function(t){this.checkEnabledActionPermission("edit")&&Pp.prototype.editDetail.call(this,t)},Up.prototype.getOColumnFromTh=function(t){var e,t=[].slice.call(t.classList).find(function(t){return t.startsWith("mat-column-")});return e=k.isDefined(t)?this.getOColumn(t.substr("mat-column-".length)):e},Up.prototype.getThWidthFromOColumn=function(e){var t,n,o,i=[].slice.call(this.tableHeaderEl.nativeElement.children);try{for(var r=R(i),a=r.next();!a.done;a=r.next()){var s=a.value,l=[].slice.call(s.classList).find(function(t){return t==="mat-column-"+e.attr});if(l&&1<l.length){o=s.clientWidth;break}}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=r["return"])&&n.call(r)}finally{if(t)throw t.error}}return o},Up.prototype.getColumnInsertable=function(t){return t+this.getSuffixColumnInsertable()},Up.prototype.isRowSelected=function(t){return!this.isSelectionModeNone()&&this.selection.isSelected(t)},Up.prototype.getColumnsWidthFromDOM=function(){var n=this;k.isDefined(this.tableHeaderEl)&&[].slice.call(this.tableHeaderEl.nativeElement.children).forEach(function(t){var e=n.getOColumnFromTh(t);k.isDefined(e)&&0<t.clientWidth&&e.DOMWidth!==t.clientWidth&&(e.DOMWidth=t.clientWidth)})},Up.prototype.refreshColumnsWidth=function(){var e=this;setTimeout(function(){e._oTableOptions.columns.filter(function(t){return t.visible}).forEach(function(t){k.isDefined(t.definition)&&k.isDefined(t.definition.width)&&(t.width=t.definition.width),t.getRenderWidth(e.horizontalScroll,e.getClientWidthColumn(t))}),e.cd.detectChanges()},0)},Up.prototype.createOColumn=function(t,e,n){var o=new Qu;return t&&(o.attr=t),e&&o.setDefaultProperties({orderable:this.orderable,resizable:this.resizable}),n&&o.setColumnProperties(n),o},Up.prototype.registerOTableButtons=function(t){this.oTableButtons=t,this.oTableButtons&&this.oTableButtons.registerButtons(this.tableButtons.toArray())},Up.prototype.getClientWidthColumn=function(t){return t.DOMWidth||this.getThWidthFromOColumn(t)},Up.prototype.getMinWidthColumn=function(t){return k.extractPixelsValue(t.minWidth,P.DEFAULT_COLUMN_MIN_WIDTH)+"px"},Up.DEFAULT_BASE_SIZE_SPINNER=100,Up.FIRST_LAST_CELL_PADDING=24,Up.EXPANDED_ROW_CONTAINER_CLASS="expanded-row-container-",Up.decorators=[{type:c.Component,args:[{selector:"o-table",template:'<div class="o-table-container" fxLayout="column" fxLayoutAlign="start stretch" [style.display]="isVisible()? \'\' : \'none\'"\n  (scroll)="onTableScroll($event)" [class.block-events]="showLoading | async" [class.o-scrollable-container]="hasScrollableContainer()">\n  <div #tableToolbar *ngIf="hasControls()" class="toolbar">\n    <div fxLayout="row" fxLayoutAlign="space-between center">\n      <o-table-buttons #tableButtons [insert-button]="insertButton" [refresh-button]="refreshButton" [delete-button]="showDeleteButton">\n        <ng-content select="o-table-button"></ng-content>\n      </o-table-buttons>\n\n      <ng-content select="[o-table-custom-toolbar]"></ng-content>\n\n      <div fxLayout fxFlex>\n        <span *ngIf="showTitle" class="table-title" fxFlex>{{ title | oTranslate }}</span>\n      </div>\n\n      <ng-container *ngIf="quickfilterContentChild; else defaultQuickFilter">\n        <ng-content select="o-table-quickfilter"></ng-content>\n      </ng-container>\n      <ng-template #defaultQuickFilter>\n        <ng-container *ngIf="quickFilter">\n          <o-table-quickfilter (onChange)="reloadPaginatedDataFromStart()"></o-table-quickfilter>\n        </ng-container>\n      </ng-template>\n\n\n      <button type="button" *ngIf="showTableMenuButton" mat-icon-button class="o-table-menu-button" [matMenuTriggerFor]="tableMenu.matMenu"\n        (click)="$event.stopPropagation()">\n        <mat-icon svgIcon="ontimize:more_vert"></mat-icon>\n      </button>\n      <o-table-menu #tableMenu [select-all-checkbox]="selectAllCheckbox" [export-button]="exportButton"\n        [columns-visibility-button]="columnsVisibilityButton" [show-configuration-option]="showConfigurationOption"\n        [show-filter-option]="showFilterOption">\n        <ng-content select="o-table-option"></ng-content>\n      </o-table-menu>\n      <ng-template #exportOptsTemplate>\n        <ng-content select="o-table-export-button"></ng-content>\n      </ng-template>\n    </div>\n  </div>\n\n  <div #tableBody class="o-table-body o-scroll" [class.horizontal-scroll]="horizontalScroll" [class.scrolled]="horizontalScrolled">\n    <div class="o-table-overflow o-scroll">\n      <table mat-table #table [class.autoadjusted]="autoAdjust" [trackBy]="getTrackByFunction()" [dataSource]="dataSource" oMatSort\n        [ngClass]="rowHeightObservable | async" (scroll)="onTableScroll($event)" (cdkObserveContent)="projectContentChanged()" oTableExpandedFooter\n        multiTemplateDataRows="showExpandedColumn()">\n\n        \x3c!--Checkbox Column --\x3e\n        <ng-container [matColumnDef]="oTableOptions.selectColumn.name" *ngIf="oTableOptions.selectColumn.visible">\n          <th mat-header-cell *matHeaderCellDef>\n            <mat-checkbox (click)="$event.stopPropagation()" (change)="masterToggle($event)" [checked]="isAllSelected()"\n              [indeterminate]="selection.hasValue() && !isAllSelected()"></mat-checkbox>\n          </th>\n          <td mat-cell *matCellDef="let row">\n            <mat-checkbox name="id[]" (click)="$event.stopPropagation()" (change)="selectionCheckboxToggle($event, row)"\n              [checked]="selection.isSelected(row)"></mat-checkbox>\n          </td>\n        </ng-container>\n\n        \x3c!--Expandable Column --\x3e\n        <ng-container [matColumnDef]="oTableOptions.expandableColumn.name" *ngIf="isColumnExpandable()">\n          <th mat-header-cell *matHeaderCellDef>\n            {{ oTableOptions.expandableColumn.title }}\n          </th>\n          <td mat-cell *matCellDef="let row;let rowIndex = dataIndex">\n            <mat-icon (click)="toogleRowExpandable(row, rowIndex, $event)">\n              <ng-container *ngIf="isExpanded(row)">{{ tableRowExpandable.iconCollapse }}</ng-container>\n              <ng-container *ngIf="!isExpanded(row)">{{ tableRowExpandable.iconExpand }}</ng-container>\n            </mat-icon>\n          </td>\n        </ng-container>\n\n        \x3c!-- Generic column definition --\x3e\n        <ng-container *ngFor="let column of oTableOptions.columns" [matColumnDef]="column.name">\n          \x3c!--Define header-cell--\x3e\n\n          <th mat-header-cell *matHeaderCellDef [ngClass]="getTitleAlignClass(column)" [class.resizable]="resizable"\n            [style.width]="column.getRenderWidth(horizontalScroll, this.getClientWidthColumn(column))" [style.min-width]="getMinWidthColumn(column)"\n            [style.max-width]="column.maxWidth">\n            <div class="content">\n              <o-table-header-column-filter-icon *ngIf="isModeColumnFilterable(column)" [column]="column"></o-table-header-column-filter-icon>\n\n              <ng-container *ngIf="column.orderable">\n                <span o-mat-sort-header>{{ column.title | oTranslate }}</span>\n              </ng-container>\n              <ng-container *ngIf="!column.orderable">\n                <span class="header-title-container">{{ column.title | oTranslate }}</span>\n              </ng-container>\n\n              <o-table-column-resizer *ngIf="resizable" [column]="column"></o-table-column-resizer>\n            </div>\n          </th>\n\n          \x3c!--Define mat-cell--\x3e\n          <td mat-cell *matCellDef="let row;let rowIndex=dataIndex" [ngClass]="[column.className, getCellAlignClass(column)]"\n            (click)="handleCellClick(column, row, $event)" (dblclick)="handleCellDoubleClick(column, row, $event)"\n            [class.empty-cell]="isEmpty(row[column.name])" [matTooltipDisabled]="!column.hasTooltip()" [matTooltip]="column.getTooltip(row)"\n            matTooltipPosition="below" matTooltipShowDelay="750" matTooltipClass="o-table-cell-tooltip"\n            [class.o-mat-cell-multiline]="(column.isMultiline | async)" [oContextMenu]="tableContextMenu"\n            [oContextMenuData]="{ cellName:column.name, rowValue:row, rowIndex:rowIndex}"\n            [style.width]="column.getRenderWidth(horizontalScroll, this.getClientWidthColumn(column))" [style.min-width]="getMinWidthColumn(column)"\n            [style.max-width]="column.maxWidth">\n            <div class="content">\n\n              <ng-container [ngSwitch]="true">\n                <ng-container *ngSwitchCase="column.renderer != null && (!column.editing || column.editing && !selection.isSelected(row))">\n                  <ng-template *ngTemplateOutlet="column.renderer?.templateref; context:{ cellvalue: row[column.name], rowvalue:row }">\n                  </ng-template>\n                </ng-container>\n                <ng-container *ngSwitchCase="selection.isSelected(row) && column.editing">\n                  <ng-template *ngTemplateOutlet="column.editor?.templateref; context:{ cellvalue: row[column.name], rowvalue:row }">\n                  </ng-template>\n                </ng-container>\n\n                <ng-container *ngSwitchCase="column.type === \'editButtonInRow\' || column.type === \'detailButtonInRow\'">\n                  <div fxLayoutAlign="center center" class="o-action-cell-renderer" (click)="onDetailButtonClick(column, row, $event)">\n                    <mat-icon>{{ getDetailButtonIcon(column) }}</mat-icon>\n                  </div>\n                </ng-container>\n                <ng-container *ngSwitchDefault>{{ row[column.name] }}</ng-container>\n              </ng-container>\n\n            </div>\n          </td>\n          \x3c!--Define mat-footer-cell--\x3e\n          <ng-container *ngIf="showTotals | async">\n            <td mat-footer-cell *matFooterCellDef [ngClass]="column.className">\n              <div class="title" *ngIf="column.aggregate && column.aggregate.title">\n                {{ column.aggregate.title | oTranslate }}\n              </div>\n              <ng-container *ngIf="!column.renderer">\n                {{ dataSource.getAggregateData(column) }}\n              </ng-container>\n              <ng-template *ngIf="column.renderer && column.aggregate" [ngTemplateOutlet]="column.renderer.templateref"\n                [ngTemplateOutletContext]="{cellvalue: dataSource.getAggregateData(column)}"></ng-template>\n            </td>\n          </ng-container>\n\n        </ng-container>\n\n        \x3c!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns --\x3e\n        <ng-container *ngIf="hasExpandedRow()">\n          <ng-container matColumnDef="expandedDetail">\n            <td mat-cell *matCellDef="let row;let rowIndex= dataIndex" [attr.colspan]="getNumVisibleColumns()">\n              <div [ngClass]="getExpandedRowContainerClass(rowIndex)" [@detailExpand]="getStateExpand(row)">\n              </div>\n            </td>\n          </ng-container>\n        </ng-container>\n\n        \x3c!--FOOTER-INSERTABLE--\x3e\n        <ng-container *ngIf="showLastInsertableRow && oTableInsertableRowComponent">\n          <ng-container [matColumnDef]="oTableOptions.selectColumn.name + getSuffixColumnInsertable()" *ngIf="oTableOptions.selectColumn.visible">\n            <td mat-footer-cell *matFooterCellDef>\n            </td>\n          </ng-container>\n          <ng-container *ngFor="let column of oTableOptions.columns" [matColumnDef]="column.name+ getSuffixColumnInsertable()">\n\n            <td mat-footer-cell *matFooterCellDef [ngClass]="column.className">\n              <ng-container *ngIf="oTableInsertableRowComponent.isColumnInsertable(column) && !oTableInsertableRowComponent.useCellEditor(column)">\n                <mat-form-field class="insertable-form-field" [hideRequiredMarker]="false" floatLabel="never">\n                  <input matInput type="text" [placeholder]="oTableInsertableRowComponent.getPlaceholder(column)" [id]="column.attr"\n                    [formControl]="oTableInsertableRowComponent.getControl(column)"\n                    [required]="oTableInsertableRowComponent.isColumnRequired(column)">\n                  <mat-error *ngIf="oTableInsertableRowComponent.columnHasError(column, \'required\')">\n                    {{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}\n                  </mat-error>\n                </mat-form-field>\n              </ng-container>\n\n              <ng-container *ngIf="oTableInsertableRowComponent.isColumnInsertable(column) && oTableInsertableRowComponent.useCellEditor(column)">\n                <ng-template [ngTemplateOutlet]="oTableInsertableRowComponent.columnEditors[column.attr].templateref"\n                  [ngTemplateOutletContext]="{ rowvalue: oTableInsertableRowComponent.rowData }">\n                </ng-template>\n              </ng-container>\n            </td>\n          </ng-container>\n\n        </ng-container>\n\n        <ng-container *ngIf="showFirstInsertableRow && oTableInsertableRowComponent">\n          <ng-container [matColumnDef]="getColumnInsertable(oTableOptions.selectColumn.name)" *ngIf="oTableOptions.selectColumn.visible">\n            <td mat-header-cell *matHeaderCellDef>\n            </td>\n          </ng-container>\n          <ng-container *ngFor="let column of oTableOptions.columns" [matColumnDef]="getColumnInsertable(column.name)">\n\n            <td mat-header-cell *matHeaderCellDef [ngClass]="column.className">\n              <ng-container *ngIf="oTableInsertableRowComponent.isColumnInsertable(column) && !oTableInsertableRowComponent.useCellEditor(column)">\n                <mat-form-field class="insertable-form-field" [hideRequiredMarker]="false" floatLabel="never">\n                  <input matInput type="text" [placeholder]="oTableInsertableRowComponent.getPlaceholder(column)" [id]="column.attr"\n                    [formControl]="oTableInsertableRowComponent.getControl(column)"\n                    [required]="oTableInsertableRowComponent.isColumnRequired(column)">\n                  <mat-error *ngIf="oTableInsertableRowComponent.columnHasError(column, \'required\')">\n                    {{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}\n                  </mat-error>\n                </mat-form-field>\n              </ng-container>\n\n              <ng-container *ngIf="oTableInsertableRowComponent.isColumnInsertable(column) && oTableInsertableRowComponent.useCellEditor(column)">\n                <ng-template [ngTemplateOutlet]="oTableInsertableRowComponent.columnEditors[column.attr].templateref"\n                  [ngTemplateOutletContext]="{ rowvalue: oTableInsertableRowComponent.rowData }">\n                </ng-template>\n              </ng-container>\n            </td>\n          </ng-container>\n\n        </ng-container>\n\n\n        <tr #tableHeader mat-header-row *matHeaderRowDef="oTableOptions.visibleColumns; sticky: fixedHeader"></tr>\n\n        <tr mat-row oTableRow *matRowDef="let row; columns: oTableOptions.visibleColumns;let i = index;let rowIndex = dataIndex"\n          (click)="handleClick(row, rowIndex, $event)" (dblclick)="handleDoubleClick(row, $event)" [class.selected]="isRowSelected(row)"\n          [ngClass]="row | oTableRowClass: i: rowClass">\n        </tr>\n\n        <ng-container *ngIf="hasExpandedRow()">\n          <tr mat-row *matRowDef="let row; columns: [\'expandedDetail\']" class="o-table-row-expanded"></tr>\n        </ng-container>\n\n        <ng-container *ngIf="showLastInsertableRow">\n          <tr mat-footer-row *matFooterRowDef="oTableOptions.columnsInsertables; sticky: true"\n            (keyup)="oTableInsertableRowComponent.handleKeyboardEvent($event)" class="o-table-insertable"></tr>\n        </ng-container>\n        <ng-container *ngIf="showFirstInsertableRow">\n          <tr mat-header-row *matHeaderRowDef="oTableOptions.columnsInsertables; sticky: true"\n            (keyup)="oTableInsertableRowComponent.handleKeyboardEvent($event)" class="o-table-insertable"> </tr>\n        </ng-container>\n        <ng-container *ngIf="showTotals | async">\n          <tr mat-footer-row *matFooterRowDef="oTableOptions.visibleColumns; sticky: true" class="o-table-aggregate">\n          </tr>\n        </ng-container>\n      </table>\n    </div>\n  </div>\n\n  \x3c!--TABLE PAGINATOR--\x3e\n  <mat-paginator *ngIf="paginator" #matpaginator [length]="dataSource?.resultsLength" [pageIndex]="paginator.pageIndex" [pageSize]="queryRows"\n    [pageSizeOptions]="paginator.pageSizeOptions" (page)="onChangePage($event)" [showFirstLastButtons]="paginator.showFirstLastButtons">\n  </mat-paginator>\n\n  \x3c!--LOADING--\x3e\n  <div #spinnerContainer *ngIf="showLoading | async" fxLayout="column" fxLayoutAlign="center center" [ngStyle]="{\'top.px\': headerHeight}"\n    class="spinner-container" [class.spinner-container-scrollable]="loadingScroll | async">\n    <mat-progress-spinner mode="indeterminate" strokeWidth="3" [diameter]="diameterSpinner"></mat-progress-spinner>\n  </div>\n\n  \x3c!-- Disable blocker --\x3e\n  <div *ngIf="!enabled" class="o-table-disabled-blocker"></div>\n</div>\n',providers:[Ce,bp],animations:[b.trigger("detailExpand",[b.state("collapsed",b.style({height:"0px",minHeight:"0"})),b.state("expanded",b.style({height:"*"})),b.transition("expanded <=> collapsed",b.animate("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])],inputs:Fp,outputs:kp,encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class.o-table]":"true","[class.ontimize-table]":"true","[class.o-table-fixed]":"fixedHeader","[class.o-table-disabled]":"!enabled","(document:click)":"handleDOMClick($event)"},styles:[".o-table{height:100%;max-height:100%;width:100%}.o-table.o-table-disabled{opacity:.4}.o-table .o-table-container{height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:flex-start;align-content:stretch;min-width:100%;min-height:100%;position:relative;padding:0 .5%}.o-table .o-table-container .o-table-body .o-table-overflow{overflow-y:auto;overflow-x:hidden;min-width:100%}.o-table .o-table-container .o-table-body.horizontal-scroll .o-table-overflow{overflow-x:auto}.o-table .o-table-container .o-table-body thead .mat-header-row th:last-child .o-table-column-resizer{display:none}.o-table .o-table-container.block-events{pointer-events:none}.o-table .o-table-container.block-events>.o-table-body .mat-header-row,.o-table .o-table-container.block-events>.toolbar{opacity:.75}.o-table .o-table-container .toolbar{height:40px}.o-table .o-table-container .toolbar>div{max-height:100%}.o-table .o-table-container .toolbar .buttons{margin:0 10px 0 4px}.o-table .o-table-container .toolbar .table-title{font-size:18px;font-weight:400;text-align:center}.o-table .o-table-container .o-table-body{display:flex;flex:1 1 auto;max-width:100%;height:100%;overflow:hidden;position:relative}.o-table .o-table-container .o-table-body .table-title{font-size:18px;font-weight:400;text-align:center}.o-table .o-table-container .o-table-body .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;transition:opacity .25s linear}.o-table .o-table-container .o-table-body.horizontal-scroll{overflow-x:auto;padding-bottom:16px}.o-table .o-table-container .o-table-body.horizontal-scroll .mat-header-cell{width:150px}.o-table .o-table-container .o-table-body .o-table-no-results{cursor:default;text-align:center}.o-table .o-table-container .o-table-body .o-table-no-results td{text-align:center}.o-table .o-table-container .mat-table{table-layout:fixed;width:100%}.o-table .o-table-container .mat-table.autoadjusted{table-layout:auto}.o-table .o-table-container .mat-table td .content,.o-table .o-table-container .mat-table th .content{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.o-table .o-table-container .mat-table.small .column-filter-icon,.o-table .o-table-container .mat-table.small .mat-sort-header-arrow{margin-top:2px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container{height:16px;width:16px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path{width:2.13333px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-checkbox-inner-container .mat-checkbox-mixedmark,.o-table .o-table-container .mat-table.small .mat-row .mat-checkbox-inner-container .mat-checkbox-mixedmark{height:2px}.o-table .o-table-container .mat-table.small .mat-header-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-header-row .mat-header-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.small .mat-row .mat-header-cell .image-avatar{width:22px;height:22px}.o-table .o-table-container .mat-table.medium .column-filter-icon,.o-table .o-table-container .mat-table.medium .mat-sort-header-arrow{margin-top:6px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-header-row .mat-header-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-row .mat-cell .image-avatar,.o-table .o-table-container .mat-table.medium .mat-row .mat-header-cell .image-avatar{width:28px;height:28px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container{height:18px;width:18px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container .mat-checkbox-checkmark-path{width:2.4px}.o-table .o-table-container .mat-table.medium .mat-header-row .mat-checkbox-inner-container .mat-checkbox-mixedmark,.o-table .o-table-container .mat-table.medium .mat-row .mat-checkbox-inner-container .mat-checkbox-mixedmark{height:2px}.o-table .o-table-container .mat-table.large .column-filter-icon,.o-table .o-table-container .mat-table.large .mat-sort-header-arrow{margin-top:8px}.o-table .o-table-container .mat-table tr.mat-row.o-table-row-expanded{height:0}.o-table .o-table-container .mat-table .mat-row{box-sizing:border-box;transition:background-color .2s;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.o-table .o-table-container .mat-table .mat-row .mat-cell{padding:0 12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-row .mat-cell:not(.o-column-image):first-of-type{padding-left:24px}.o-table .o-table-container .mat-table .mat-row .mat-cell:last-of-type{padding-right:24px}.o-table .o-table-container .mat-table .mat-row .mat-cell.empty-cell{min-height:16px}.o-table .o-table-container .mat-table .mat-row .mat-cell .action-cell-renderer{cursor:pointer}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-start{text-align:start}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-center{text-align:center}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-end{text-align:end}.o-table .o-table-container .mat-table .mat-row .mat-cell *{vertical-align:middle}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-mat-cell-multiline:not(.mat-header-cell){padding:6px 12px}.o-table .o-table-container .mat-table .mat-row .mat-cell.o-mat-cell-multiline .content{overflow:initial;white-space:normal;text-overflow:unset}.o-table .o-table-container .mat-table .mat-row .mat-cell .image-avatar{width:34px;height:34px;margin:1px auto;overflow:hidden;border-radius:50%;position:relative;z-index:1}.o-table .o-table-container .mat-table .mat-row .mat-cell .image-avatar img{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:inherit;max-height:inherit}.o-table .o-table-container .mat-table .o-action-cell-renderer{display:inline-block;cursor:pointer}.o-table .o-table-container .mat-table .mat-header-cell{overflow:hidden;position:relative;box-sizing:border-box;padding:0 12px;vertical-align:middle}.o-table .o-table-container .mat-table .mat-header-cell.resizable{padding-right:24px}.o-table .o-table-container .mat-table .mat-header-cell:first-of-type{padding-left:0;padding-right:0}.o-table .o-table-container .mat-table .mat-header-cell:not(.o-column-image){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-header-cell .o-table-header-indicator-numbered{font-size:8px;position:absolute;text-align:center;display:inline-block;width:18px;height:18px;line-height:18px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none;bottom:-10px;right:-9px}.o-table .o-table-container .mat-table .mat-header-cell .column-filter-icon{cursor:pointer;float:left;font-size:18px;width:18px;height:18px;margin-right:2px;line-height:1}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-button{flex:1;display:block;place-content:center}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-arrow{position:absolute;right:0}.o-table .o-table-container .mat-table .mat-header-cell .header-title-container{cursor:default}.o-table .o-table-container .mat-table .mat-header-cell.resizable .mat-sort-header-arrow{margin-right:12px}.o-table .o-table-container .mat-table .mat-header-cell .header-title-container,.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-button{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.o-table .o-table-container .mat-table .mat-header-cell.start,.o-table .o-table-container .mat-table .mat-header-cell.start .mat-sort-header-button{text-align:left}.o-table .o-table-container .mat-table .mat-header-cell.center,.o-table .o-table-container .mat-table .mat-header-cell.center .mat-sort-header-button{text-align:center}.o-table .o-table-container .mat-table .mat-header-cell.center [o-mat-sort-header] .mat-sort-header-button{padding-left:12px}.o-table .o-table-container .mat-table .mat-header-cell.end,.o-table .o-table-container .mat-table .mat-header-cell.end .mat-sort-header-button{text-align:right}.o-table .o-table-container .mat-table .mat-header-cell .mat-sort-header-container{padding-top:4px}.o-table .o-table-container .mat-table .mat-cell.mat-column-select,.o-table .o-table-container .mat-table .mat-header-cell.mat-column-select{width:18px;box-sizing:content-box;padding:0 0 0 24px;overflow:initial}.o-table .o-table-container .mat-table .mat-cell.mat-column-expandable,.o-table .o-table-container .mat-table .mat-header-cell.mat-column-expandable{width:40px;box-sizing:content-box;padding:0 0 0 24px;overflow:initial}.o-table .o-table-container .mat-table .mat-cell .row-container-expanded{overflow:hidden;display:flex}.o-table .o-table-container .o-table-disabled-blocker{bottom:0;left:0;position:absolute;right:0;top:0;z-index:100}.o-table .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;transition:opacity .25s linear}.o-table .spinner-container-scrollable{position:relative}.o-table.o-table-fixed{display:flex}.o-table.o-table-fixed .o-table-container{display:flex;flex-direction:column}.o-table.o-table-fixed .o-table-body{display:flex;flex:1}.o-table.o-table-fixed .o-table-body .o-table-overflow{flex:1;overflow-y:auto}.mat-tooltip.o-table-cell-tooltip{word-wrap:break-word;max-height:64px;overflow:hidden;min-width:140px}"]}]}],Up.ctorParameters=function(){return[{type:c.Injector},{type:c.ElementRef},{type:d.MatDialog},{type:c.ViewContainerRef},{type:c.ApplicationRef},{type:c.ComponentFactoryResolver},{type:Mr,decorators:[{type:c.Optional},{type:c.Inject,args:[c.forwardRef(function(){return Mr})]}]}]},Up.propDecorators={matpaginator:[{type:c.ViewChild,args:[d.MatPaginator,{"static":!1}]}],sort:[{type:c.ViewChild,args:[Rp,{"static":!0}]}],sortHeaders:[{type:c.ViewChildren,args:[Mp]}],spinnerContainer:[{type:c.ViewChild,args:["spinnerContainer",{read:c.ElementRef,"static":!1}]}],tableRowExpandable:[{type:c.ContentChild,args:[_p,{"static":!1}]}],tableBodyEl:[{type:c.ViewChild,args:["tableBody",{"static":!1}]}],tableHeaderEl:[{type:c.ViewChild,args:["tableHeader",{read:c.ElementRef,"static":!1}]}],tableToolbarEl:[{type:c.ViewChild,args:["tableToolbar",{read:c.ElementRef,"static":!1}]}],oTableMenu:[{type:c.ViewChild,args:["tableMenu",{"static":!1}]}],tableOptions:[{type:c.ContentChildren,args:[dp]}],tableButtons:[{type:c.ContentChildren,args:["o-table-button"]}],quickfilterContentChild:[{type:c.ContentChild,args:["o-table-quickfilter",{"static":!0}]}],exportOptsTemplate:[{type:c.ViewChild,args:["exportOptsTemplate",{"static":!1}]}],updateScrolledState:[{type:c.HostListener,args:["window:resize",[]]}]},D([tt(),L("design:type",Boolean)],Up.prototype,"selectAllCheckbox",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"exportButton",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"showConfigurationOption",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"columnsVisibilityButton",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"showFilterOption",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"showButtonsText",void 0),D([tt(),L("design:type",Boolean),L("design:paramtypes",[Boolean])],Up.prototype,"filterColumnActiveByDefault",null),D([tt(),L("design:type",Boolean),L("design:paramtypes",[Boolean])],Up.prototype,"filterCaseSensitive",null),D([tt(),L("design:type",Boolean)],Up.prototype,"insertButton",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"refreshButton",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"deleteButton",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"paginationControls",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"fixedHeader",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"showTitle",void 0),D([tt(),L("design:type",Boolean),L("design:paramtypes",[Boolean])],Up.prototype,"horizontalScroll",null),D([tt(),L("design:type",Boolean)],Up.prototype,"showPaginatorFirstLastButtons",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"autoAlignTitles",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"multipleSort",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"orderable",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"resizable",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"autoAdjust",void 0),D([tt(),L("design:type",Boolean)],Up.prototype,"keepSelectedItems",void 0),Up);function Up(t,e,n,o,i,r,a){var s=Pp.call(this,t,e,a)||this;s.dialog=n,s._viewContainerRef=o,s.appRef=i,s._componentFactoryResolver=r,s.selectAllCheckbox=!1,s.exportButton=!0,s.showConfigurationOption=!0,s.columnsVisibilityButton=!0,s.showFilterOption=!0,s.showButtonsText=!0,s.originalFilterColumnActiveByDefault=!1,s.filterCaseSensitivePvt=!1,s.insertButton=!0,s.refreshButton=!0,s.deleteButton=!0,s.paginationControls=!0,s.fixedHeader=!1,s.showTitle=!1,s.editionMode=P.DETAIL_MODE_NONE,s.selectionMode=P.SELECTION_MODE_MULTIPLE,s._horizontalScroll=!1,s.showPaginatorFirstLastButtons=!0,s.autoAlignTitles=!1,s.multipleSort=!0,s.orderable=!0,s.resizable=!0,s.autoAdjust=!1,s._enabled=!0,s.keepSelectedItems=!0,s.exportMode=P.EXPORT_MODE_VISIBLE,s._visibleColArray=[],s.sortColArray=[],s.pendingQuery=!1,s.pendingQueryFilter=undefined,s.setStaticData=!1,s.avoidQueryColumns=[],s.asyncLoadColumns=[],s.asyncLoadSubscriptions={},s.finishQuerySubscription=!1,s.onClick=new c.EventEmitter,s.onDoubleClick=new c.EventEmitter,s.onRowSelected=new c.EventEmitter,s.onRowDeselected=new c.EventEmitter,s.onRowDeleted=new c.EventEmitter,s.onDataLoaded=new c.EventEmitter,s.onPaginatedDataLoaded=new c.EventEmitter,s.onReinitialize=new c.EventEmitter,s.onContentChange=new c.EventEmitter,s.onVisibleColumnsChange=new c.EventEmitter,s.onFilterByColumnChange=new c.EventEmitter,s.showFilterByColumnIcon=!1,s.showTotalsSubject=new u.BehaviorSubject(!1),s.showTotals=s.showTotalsSubject.asObservable(),s.loadingSortingSubject=new u.BehaviorSubject(!1),s.loadingSorting=s.loadingSortingSubject.asObservable(),s.loadingScrollSubject=new u.BehaviorSubject(!1),s.loadingScroll=s.loadingScrollSubject.asObservable(),s.showFirstInsertableRow=!1,s.showLastInsertableRow=!1,s.expandableItem=new f.SelectionModel(!1,[]),s.clickDelay=200,s.clickPrevent=!1,s._currentPage=0,s.onUpdateScrolledState=new c.EventEmitter,s.storePaginationState=!1,s.pageScrollVirtual=1,s._oTableOptions=new $u,s._oTableOptions.selectColumn=s.createOColumn();try{s.tabGroupContainer=s.injector.get(d.MatTabGroup),s.tabContainer=s.injector.get(d.MatTab)}catch(l){}return s.snackBarService=s.injector.get(Jt),s.oTableStorage=new Ep(s),s}var Vp=["orequired: required","showPlaceHolder: show-placeholder","olabel: label","updateRecordOnEdit: update-record-on-edit","showNotificationOnEdit: show-notification-on-edit","enabled"],jp=["editionStarted","editionCancelled","editionCommitted","onPostUpdateRecord"],Gp=(qp.prototype.onDocumentKeyup=function(t){this.handleKeyup(t)},qp.prototype.ngOnInit=function(){this.initialize()},qp.prototype.initialize=function(){this.createFormControl(),this.registerEditor(),this.editorCreated.emit(this)},qp.prototype.handleKeyup=function(t){var e=this.table.getOColumn(this.tableColumnAttr);e&&e.editing&&(27===t.keyCode?this.onEscClicked():13!==t.keyCode&&9!==t.keyCode||this.commitEdition())},qp.prototype.createFormControl=function(){var t,e;this.formControl||(t=this.resolveValidators(),e={value:undefined,disabled:!this.enabled},this.formControl=new i.FormControl(e,t),this.formGroup.addControl(Math.random().toString(36),this.formControl))},qp.prototype.registerEditor=function(){this.registerInColumn&&!k.isDefined(this.tableColumn.editor)&&(this.tableColumn.registerEditor(this),!k.isDefined(this.type)&&k.isDefined(this.tableColumn.type)&&(this.type=this.tableColumn.type))},qp.prototype.getCellData=function(){return this._rowData[this.tableColumnAttr]},qp.prototype.startEdition=function(t){this.formGroup.reset(),this.rowData=t,this.isSilentControl()||this.editionStarted.emit(this._rowData)},qp.prototype.endEdition=function(t){var e,n=this.table.getOColumn(this.tableColumnAttr);n&&((t=(e=this).table.updateCellData(n,this._rowData,t))?t.subscribe(function(t){e.onUpdateSuccess(t),e.table.cd.detectChanges()},function(t){e._rowData[e.tableColumnAttr]=e.oldValue,e.table.dataSource.updateRenderedRowData(e._rowData),e.table.showDialogError(t,"MESSAGES.ERROR_UPDATE"),e.table.cd.detectChanges()}):e.table.cd.detectChanges())},qp.prototype.commitEdition=function(){this.formControl.invalid||(this.oldValue=this._rowData[this.tableColumnAttr],this._rowData[this.tableColumnAttr]=this.formControl.value,this.isSilentControl()||(this.endEdition(!0),this.editionCommitted.emit(this._rowData)))},Object.defineProperty(qp.prototype,"tableColumn",{get:function(){return this._tableColumn},set:function(t){(this._tableColumn=t)&&(this._table=t.table)},enumerable:!0,configurable:!0}),Object.defineProperty(qp.prototype,"tableColumnAttr",{get:function(){return this._tableColumn?this._tableColumn.attr:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(qp.prototype,"table",{get:function(){return this._table},set:function(t){this._table=t},enumerable:!0,configurable:!0}),Object.defineProperty(qp.prototype,"rowData",{get:function(){return this._rowData},set:function(t){this._rowData=t;t=this.getCellData();this.formControl.setValue(t),this.formControl.markAsTouched(),this.inputRef&&"text"===this.inputRef.nativeElement.type&&this.inputRef.nativeElement.setSelectionRange(0,String(t).length)},enumerable:!0,configurable:!0}),qp.prototype.resolveValidators=function(){var t=[];return this.orequired&&t.push(i.Validators.required),t},qp.prototype.hasError=function(t){return this.formControl&&this.formControl.touched&&this.hasErrorExclusive(t)},qp.prototype.hasErrorExclusive=function(t){var e=!1,n=["matDatepickerMax","matDatepickerMin","matDatepickerFilter","matDatepickerParse","required"],o=this.formControl.errors;if(k.isDefined(o)){if(1===Object.keys(o).length)return o.hasOwnProperty(t);for(var i=0,r=n.length;i<r;i++)if(e=o.hasOwnProperty(n[i])){e=n[i]===t;break}}return e},qp.prototype.getErrorValue=function(t,e){return this.formControl.hasError(t)&&this.formControl.getError(t)[e]||""},qp.prototype.onEscClicked=function(){this.isSilentControl()||(this.endEdition(!1),this.editionCancelled.emit(this._rowData))},qp.prototype.isSilentControl=function(){return this.controlArgs!==undefined&&this.controlArgs.silent},qp.prototype.getPlaceholder=function(){return this.showPlaceHolder?this.translateService.get((this.olabel||this.tableColumn)&&this.tableColumn.title||this.tableColumnAttr):undefined},qp.prototype.onUpdateSuccess=function(t){Y.callEmit(this.onPostUpdateRecord,this._rowData),this.showNotificationOnEdit&&this.snackBarService.open("MESSAGES.UPDATED",{icon:"check_circle"})},Object.defineProperty(qp.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.formControl&&(this._enabled?this.formControl.enable():this.formControl.disable())},enumerable:!0,configurable:!0}),qp.prototype.getFormControl=function(){return this.formControl},qp.propDecorators={onDocumentKeyup:[{type:c.HostListener,args:["document:keyup",["$event"]]}]},D([tt(),L("design:type",Boolean)],qp.prototype,"orequired",void 0),D([tt(),L("design:type",Boolean)],qp.prototype,"showPlaceHolder",void 0),D([tt(),L("design:type",Boolean)],qp.prototype,"updateRecordOnEdit",void 0),D([tt(),L("design:type",Boolean)],qp.prototype,"showNotificationOnEdit",void 0),qp);function qp(t){this.injector=t,this.orequired=!1,this.showPlaceHolder=!1,this.updateRecordOnEdit=!0,this.showNotificationOnEdit=!0,this._enabled=!0,this.formGroup=new i.FormGroup({}),this.editionStarted=new c.EventEmitter,this.editionCancelled=new c.EventEmitter,this.editionCommitted=new c.EventEmitter,this.onPostUpdateRecord=new c.EventEmitter,this.editorCreated=new c.EventEmitter,this.registerInColumn=!0,this.snackBarService=this.injector.get(Jt),this.tableColumn=this.injector.get(Oh),this.translateService=this.injector.get(Ae)}var Hp,Yp=w(Vp,["indeterminateOnNull: indeterminate-on-null","trueValue: true-value","falseValue: false-value","booleanType: boolean-type","autoCommit: auto-commit"]),zp=w(jp),Kp=(_(Wp,Hp=Gp),Wp.prototype.initialize=function(){Hp.prototype.initialize.call(this),this.parseInputs()},Wp.prototype.parseInputs=function(){switch(this.booleanType){case"string":this.parseStringInputs();break;case"number":this.parseNumberInputs();break;default:this.trueValue=!0,this.falseValue=!1}},Wp.prototype.parseStringInputs=function(){0===(this.trueValue||"").length&&(this.trueValue=undefined),0===(this.falseValue||"").length&&(this.falseValue=undefined)},Wp.prototype.parseNumberInputs=function(){this.trueValue=parseInt(this.trueValue,10),isNaN(this.trueValue)&&(this.trueValue=1),this.falseValue=parseInt(this.falseValue,10),isNaN(this.falseValue)&&(this.falseValue=0)},Wp.prototype.startEdition=function(t){Hp.prototype.startEdition.call(this,t);var e=this;setTimeout(function(){var t;e.autoCommit?(t=e.formControl.value===e.trueValue,e.formControl.setValue(t?e.falseValue:e.trueValue,{emitEvent:!1}),e.commitEdition()):(t=e.formControl.value===e.trueValue,e.formControl.setValue(t?e.trueValue:e.falseValue,{emitEvent:!1}))},0)},Wp.prototype.getCellData=function(){var t=Hp.prototype.getCellData.call(this);return this.indeterminate=this.indeterminateOnNull&&!k.isDefined(t),t=!this.indeterminate?this.parseValueByType(t):t},Wp.prototype.hasCellDataTrueValue=function(t){var e;return k.isDefined(t)&&(e=t===this.trueValue,"string"!==this.booleanType||k.isDefined(this.trueValue)||(e=k.parseBoolean(t,!1))),e},Wp.prototype.parseValueByType=function(t){var e=t,n=this.hasCellDataTrueValue(t)?this.trueValue:this.falseValue;switch(this.booleanType){case"string":e=this.translateService.get(n);break;case"number":e=parseInt(n,10)}return e},Wp.prototype.onChange=function(t){this.formControl.setValue(t.checked?this.trueValue:this.falseValue,{emitEvent:!1}),this.commitEdition()},Wp.decorators=[{type:c.Component,args:[{selector:"o-table-cell-editor-boolean",template:'<ng-template #templateref let-cellvalue="cellvalue" let-rowvalue="rowvalue">\n  <div class="o-table-cell-editor-boolean" [formGroup]="formGroup">\n    <mat-checkbox (click)="$event.stopPropagation()" (change)="onChange($event)" [indeterminate]="indeterminate"\n      [formControl]="formControl">\n    </mat-checkbox>\n  </div>\n</ng-template>',inputs:Yp,outputs:zp,changeDetection:c.ChangeDetectionStrategy.OnPush,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-table-cell-editor-boolean]":"true"},styles:[".o-table-cell-editor-boolean .mat-checkbox-ripple{display:none}"]}]}],Wp.ctorParameters=function(){return[{type:c.Injector}]},Wp.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},D([tt(),L("design:type",Boolean)],Wp.prototype,"indeterminateOnNull",void 0),D([tt(),L("design:type",Boolean)],Wp.prototype,"autoCommit",void 0),Wp);function Wp(t){var e=Hp.call(this,t)||this;return e.injector=t,e.indeterminate=!1,e.indeterminateOnNull=!1,e.booleanType="boolean",e.autoCommit=!0,e}var Qp,Xp=w(Vp,["format","locale","oStartView: start-view","min","max","oTouchUi: touch-ui","startAt: start-at","filterDate: filter-date","dateValueType: date-value-type"]),$p=w(jp),Zp=(_(Jp,Qp=Gp),Jp.prototype.initialize=function(){var t,e;Qp.prototype.initialize.call(this),this.locale||(this.locale=this.momentSrv.getLocale()),this.format&&(this.momentDateAdapter.oFormat=this.format),this.momentDateAdapter.setLocale(this.locale),this.startAt&&(this.oStartAt=new Date(this.startAt)),this.min&&(t=new Date(this.min),(e=S(t)).isValid()&&(this.oMinDate=t,this.minDateString=e.format(this.format))),this.max&&(t=new Date(this.max),(e=S(t)).isValid()&&(this.oMaxDate=t,this.maxDateString=e.format(this.format)))},Jp.prototype.handleKeyup=function(t){var e=this.table.getOColumn(this.tableColumn.attr);e&&(!e.editing&&this.datepicker&&this.datepicker.opened?this.datepicker.close():Qp.prototype.handleKeyup.call(this,t))},Jp.prototype.startEdition=function(t){Qp.prototype.startEdition.call(this,t),this.startAt||(this.oStartAt=this.getCellData())},Jp.prototype.getCellData=function(){var t=Qp.prototype.getCellData.call(this);if(k.isDefined(t)){var e=t,n=void 0;switch(this.dateValueType){case"string":n=S(t,this.format);break;case"date":break;case"iso-8601":case"timestamp":default:n=S(t)}return e=k.isDefined(n)?n.toDate():e}return t},Jp.prototype.commitEdition=function(){this.formControl.invalid||(this.oldValue=this._rowData[this.tableColumnAttr],this._rowData[this.tableColumnAttr]=this.getValueByValyType(),this.isSilentControl()||(this.endEdition(!0),this.editionCommitted.emit(this._rowData)))},Jp.prototype.getValueByValyType=function(){var t=this.formControl.value,e=S(this.formControl.value);switch(this.dateValueType){case"string":t=e.format(this.format);break;case"date":t=new Date(t);break;case"iso-8601":t=e.toISOString();break;case"timestamp":default:t=e.valueOf()}return t},Jp.prototype.onDateChange=function(t){var e=t.value&&t.value.isValid&&t.value.isValid()?t.value.valueOf():t.value,n=S(e);switch(this.dateValueType){case"string":e=e&&n.format(this.format);break;case"date":e=new Date(e);break;case"iso-8601":e=n.toISOString()}this.formControl.setValue(e,{emitModelToViewChange:!1,emitEvent:!1})},Jp.prototype.openDatepicker=function(t){(this.datepicker=t).open()},Object.defineProperty(Jp.prototype,"dateValueType",{get:function(){return this._dateValueType},set:function(t){this._dateValueType=k.convertToODateValueType(t)},enumerable:!0,configurable:!0}),Jp.prototype.onClosed=function(){this.inputRef.nativeElement.focus()},Jp.decorators=[{type:c.Component,args:[{selector:"o-table-cell-editor-date",template:'<ng-template #templateref let-cellvalue="cellvalue" let-rowvalue="rowvalue">\n  <div [formGroup]="formGroup" class="o-table-cell-editor-date">\n    <mat-form-field floatLabel="never">\n      <input #input matInput [placeholder]="getPlaceholder()" [formControl]="formControl"\n        [required]="orequired" [matDatepicker]="d" [matDatepickerFilter]="filterDate"\n        (dateChange)="onDateChange($event)" [min]="oMinDate" [max]="oMaxDate">\n\n      <mat-datepicker #d [startView]="oStartView" [startAt]="oStartAt" [touchUi]="oTouchUi" (closed)="onClosed()">\n      </mat-datepicker>\n\n      <span class="icon-btn" (click)="openDatepicker(d)" matSuffix>\n        <mat-icon svgIcon="ontimize:today"></mat-icon>\n      </span>\n\n      <mat-error *ngIf="hasError(\'required\')">{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}</mat-error>\n      <mat-error *ngIf="hasError(\'matDatepickerParse\')">{{ \'FORM_VALIDATION.DATE_PARSE\' | oTranslate }} {{ format }}\n      </mat-error>\n      <mat-error *ngIf="hasError(\'matDatepickerFilter\')">{{ \'FORM_VALIDATION.DATE_FILTER\' | oTranslate }}</mat-error>\n      <mat-error *ngIf="hasError(\'matDatepickerMin\')">{{ \'FORM_VALIDATION.DATE_MIN\' | oTranslate }} {{ minDateString }}\n      </mat-error>\n      <mat-error *ngIf="hasError(\'matDatepickerMax\')">{{ \'FORM_VALIDATION.DATE_MAX\' | oTranslate }} {{ maxDateString }}\n      </mat-error>\n    </mat-form-field>\n  </div>\n</ng-template>',inputs:Xp,outputs:$p,encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,providers:[{provide:d.DateAdapter,useClass:ws,deps:[d.MAT_DATE_LOCALE]}],styles:[""]}]}],Jp.ctorParameters=function(){return[{type:c.Injector},{type:d.DateAdapter}]},Jp.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}],inputRef:[{type:c.ViewChild,args:["input",{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Jp.prototype,"oTouchUi",void 0),Jp);function Jp(t,e){var n=Qp.call(this,t)||this;return n.injector=t,n.momentDateAdapter=e,n.format="L",n.oStartView="month",n.oTouchUi=!1,n._dateValueType="timestamp",n.momentSrv=n.injector.get(Wt),n}var td,ed=w(Vp,["min","max","step"]),nd=w(jp),od=(_(id,td=Gp),id.prototype.getCellData=function(){var t=td.prototype.getCellData.call(this),t=parseInt(t,10);return isNaN(t)?undefined:t},id.prototype.resolveValidators=function(){var t=td.prototype.resolveValidators.call(this);return"undefined"!=typeof this.min&&t.push(this.minValidator.bind(this)),"undefined"!=typeof this.max&&t.push(this.maxValidator.bind(this)),t},id.prototype.minValidator=function(t){return"number"==typeof t.value&&t.value<this.min?{min:{requiredMin:this.min}}:{}},id.prototype.maxValidator=function(t){return"number"==typeof t.value&&this.max<t.value?{max:{requiredMax:this.max}}:{}},id.decorators=[{type:c.Component,args:[{selector:"o-table-cell-editor-integer",template:'<ng-template #templateref let-cellvalue="cellvalue" let-rowvalue="rowvalue">\n  <div [formGroup]="formGroup">\n    <mat-form-field floatLabel="never">\n      <input #input matInput type="number" [placeholder]="getPlaceholder()" [formControl]="formControl"\n        [required]="orequired" [min]="min" [max]="max" [step]="step">\n      <mat-error *ngIf="hasError(\'required\')">{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}</mat-error>\n      <mat-error *ngIf="hasError(\'min\')">{{ \'FORM_VALIDATION.MIN_VALUE\' | oTranslate }}:\n        {{ getErrorValue(\'min\', \'requiredMin\') }}</mat-error>\n      <mat-error *ngIf="hasError(\'max\')">{{ \'FORM_VALIDATION.MAX_VALUE\' | oTranslate }}:\n        {{ getErrorValue(\'max\', \'requiredMax\') }}</mat-error>\n    </mat-form-field>\n  </div>\n</ng-template>',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:ed,outputs:nd}]}],id.ctorParameters=function(){return[{type:c.Injector}]},id.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},D([tt(),L("design:type",Number)],id.prototype,"min",void 0),D([tt(),L("design:type",Number)],id.prototype,"max",void 0),D([tt(),L("design:type",Number)],id.prototype,"step",void 0),id);function id(t){var e=td.call(this,t)||this;return e.injector=t,e.step=1,e}var rd,ad=w(ed),sd=w(nd),ld=(_(cd,rd=Gp),cd.prototype.getCellData=function(){var t=rd.prototype.getCellData.call(this),t=parseFloat(t);return isNaN(t)?undefined:t},cd.prototype.resolveValidators=function(){var t=rd.prototype.resolveValidators.call(this);return"undefined"!=typeof this.min&&t.push(this.minValidator.bind(this)),"undefined"!=typeof this.max&&t.push(this.maxValidator.bind(this)),t},cd.prototype.minValidator=function(t){return"number"==typeof t.value&&t.value<this.min?{min:{requiredMin:this.min}}:{}},cd.prototype.maxValidator=function(t){return"number"==typeof t.value&&this.max<t.value?{max:{requiredMax:this.max}}:{}},cd.decorators=[{type:c.Component,args:[{selector:"o-table-cell-editor-real",template:'<ng-template #templateref let-cellvalue="cellvalue" let-rowvalue="rowvalue">\n  <div [formGroup]="formGroup">\n    <mat-form-field floatLabel="never">\n\n      <input #input matInput type="number" [placeholder]="getPlaceholder()" [formControl]="formControl"\n        [required]="orequired" [min]="min" [max]="max" [step]="step">\n\n      <mat-error *ngIf="hasError(\'required\')">{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}</mat-error>\n      <mat-error *ngIf="hasError(\'min\')">{{ \'FORM_VALIDATION.MIN_VALUE\' | oTranslate }}:\n        {{ getErrorValue(\'min\', \'requiredMin\') }}</mat-error>\n      <mat-error *ngIf="hasError(\'max\')">{{ \'FORM_VALIDATION.MAX_VALUE\' | oTranslate }}:\n        {{ getErrorValue(\'max\', \'requiredMax\') }}</mat-error>\n\n    </mat-form-field>\n  </div>\n</ng-template>',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:ad,outputs:sd}]}],cd.ctorParameters=function(){return[{type:c.Injector}]},cd.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},D([tt(),L("design:type",Number)],cd.prototype,"min",void 0),D([tt(),L("design:type",Number)],cd.prototype,"max",void 0),D([tt(),L("design:type",Number)],cd.prototype,"step",void 0),cd);function cd(t){var e=rd.call(this,t)||this;return e.injector=t,e.step=.01,e}var ud,pd=w(Vp),dd=w(jp),hd=(_(md,ud=Gp),md.decorators=[{type:c.Component,args:[{selector:"o-table-cell-editor-text",template:'<ng-template #templateref let-cellvalue="cellvalue" let-rowvalue="rowvalue">\n  <div [formGroup]="formGroup">\n    <mat-form-field floatLabel="never">\n      <input #input matInput type="text" [placeholder]="getPlaceholder()" [formControl]="formControl"\n        [required]="orequired">\n      <mat-error *ngIf="hasError(\'required\')">{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}</mat-error>\n    </mat-form-field>\n  </div>\n</ng-template>',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:pd,outputs:dd}]}],md.ctorParameters=function(){return[{type:c.Injector}]},md.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}],inputRef:[{type:c.ViewChild,args:["input",{"static":!1}]}]},md);function md(t){var e=ud.call(this,t)||this;return e.injector=t,e}var fd,gd=w(Vp,["oDateFormat: date-format","oDateLocale: date-locale","oDateStartView: date-start-view","oMinDate: date-min","oMaxDate: date-max","oDateTouchUi: date-touch-ui","oDateStartAt: date-start-at","oHourFormat: hour-format","oHourMin: hour-min","oHourMax: hour-max","oHourPlaceholder: hour-placeholder","oDatePlaceholder: date-placeholder"]),yd=w(jp),bd=(_(vd,fd=Gp),vd.prototype.onDocumentKeydown=function(t){this.handleKeydown(t)},vd.prototype.initialize=function(){var t,e;fd.prototype.initialize.call(this),this.createInternalFormControl(),this._oDateLocale||(this.oDateLocale=this.momentSrv.getLocale()),this.oMinDate&&(t=new Date(this.oMinDate),(e=S(t)).isValid()&&(this.minDateString=e.format(this.oDateFormat))),this.oMaxDate&&(t=new Date(this.oMaxDate),(e=S(t)).isValid()&&(this.maxDateString=e.format(this.oDateFormat)))},vd.prototype.createInternalFormControl=function(){var t,e;this.formControlDate||(t=this.resolveValidators(),e={value:undefined,disabled:!this.enabled},this.formControlDate=new i.FormControl(e,t),this.formGroup.addControl("dateInput",this.formControlDate)),this.formControlHour||(t=this.resolveValidators(),e={value:undefined,disabled:!this.enabled},this.formControlHour=new i.FormControl(e,t),this.formGroup.addControl("hourInput",this.formControlHour))},vd.prototype.ngAfterViewChecked=function(){this.modifyPickerMethods()},vd.prototype.setTime=function(t){t.preventDefault(),t.stopPropagation(),this.picker.updateTime(this.formControlHour.value)},vd.prototype.onDateChange=function(t){t=t.value&&t.value.isValid&&t.value.isValid()?t.value.valueOf():S().startOf("day");this.formControlDate.setValue(t,{emitModelToViewChange:!1,emitEvent:!1}),this.updateComponentValue()},vd.prototype.updateValeOnInputChange=function(t){this.onKeyboardInputDone&&(t=t.currentTarget.value,t=this.parseHour(t),this.formControlHour.setValue(t)),this.onKeyboardInputDone=!1},vd.prototype.parseHour=function(t){var e,n=t.split(":"),o=n[0];return P.TWELVE_FOUR_HOUR_FORMAT===this.oHourFormat&&o&&(e=(o=parseInt(o,10))<=12?" AM":" PM",12<o&&(o-=12),n[0]=o,t=n.join(":")+e),t},vd.prototype.onHourChange=function(t){t instanceof Event?this.updateValeOnInputChange(t):(t=this.convertToFormatString(t),this.formControlHour.setValue(t,{emitEvent:!1,emitModelToViewChange:!1})),this.updateComponentValue()},vd.prototype.setTimestampValue=function(t,e){var n,t=k.isDefined(t)?S(t):t;t&&t.isValid()&&(n=t.utcOffset(0).format(this.formatString)),this.formControlHour.setValue(n,e)},vd.prototype.convertToFormatString=function(t){if("00:00"===t||!k.isDefined(t))return t;var e=this.oHourFormat===P.TWENTY_FOUR_HOUR_FORMAT?"HH:mm":"hh:mm a",e="number"==typeof t?S(t).format(e):t&&S(t,"h:mm A").format(e);return e},vd.prototype.openDatepicker=function(t){(this.datepicker=t).open()},vd.prototype.getPlaceholderHour=function(){return this.oHourPlaceholder?this.translateService.get(this.oHourPlaceholder):fd.prototype.getPlaceholder.call(this)},vd.prototype.getPlaceholderDate=function(){return this.oDatePlaceholder?this.translateService.get(this.oDatePlaceholder):fd.prototype.getPlaceholder.call(this)},vd.prototype.open=function(t){k.isDefined(t)&&t.stopPropagation(),this.picker&&this.picker.open()},vd.prototype.handleKeydown=function(t){this.activeKeys[t.keyCode]=!0},vd.prototype.handleKeyup=function(t){this.activeKeys[t.keyCode]=!1;var e=this.table.getOColumn(this.tableColumn.attr);e&&(9!==t.keyCode||!this.activeKeys[16]&&this.enabledCommitOnTabPress)&&(!e.editing&&this.datepicker&&this.datepicker.opened?this.datepicker.close():fd.prototype.handleKeyup.call(this,t))},vd.prototype.updateComponentValue=function(){var t=this.formGroup.getRawValue(),e=(t.dateInput?S(t.dateInput):S()).startOf("day"),t=S(t.hourInput,this.formatString),t=e.clone().set("hour",t.get("hour")).set("minute",t.get("minutes")).valueOf();this.formControl&&(this.formControl.setValue(t),this.formControl.markAsDirty())},vd.prototype.modifyPickerMethods=function(){var t=this;this.picker&&this.picker.inputElement&&this.picker.inputElement.addEventListener("change",function(){t.onKeyboardInputDone=!0})},vd.prototype.hasErrorDate=function(t){return this.formControlDate&&this.formControlDate.touched&&this.hasErrorExclusive(t)},vd.prototype.hasErrorExclusive=function(t){var e=!1,n=["matDatepickerMax","matDatepickerMin","matDatepickerFilter","matDatepickerParse","required"],o=this.formControlDate.errors;if(k.isDefined(o)){if(1===Object.keys(o).length)return o.hasOwnProperty(t);for(var i=0,r=n.length;i<r;i++)if(e=o.hasOwnProperty(n[i])){e=n[i]===t;break}}return e},vd.prototype.hasErrorHour=function(t){return this.formControlHour&&this.formControlHour.touched},vd.prototype.getCellDataDate=function(){var t=fd.prototype.getCellData.call(this);if(k.isDefined(t)){var e=S(t),n=t;return n=k.isDefined(e)?e.toDate():n}return t},vd.prototype.getCellDataHour=function(){var t=fd.prototype.getCellData.call(this);if(k.isDefined(t)){var e=S(t),n=t;return n=k.isDefined(e)?e.format(P.formatString(this.oHourFormat)):n}return t},vd.prototype.startEdition=function(t){fd.prototype.startEdition.call(this,t);t=this.getCellDataDate();this.formControlDate.setValue(t);t=this.getCellDataHour();this.formControlHour.setValue(t),this.formGroup.markAsTouched()},Object.defineProperty(vd.prototype,"formatString",{get:function(){return P.formatString(this.oHourFormat)},enumerable:!0,configurable:!0}),Object.defineProperty(vd.prototype,"minDateString",{get:function(){return this._minDateString},set:function(t){this._minDateString=t},enumerable:!0,configurable:!0}),Object.defineProperty(vd.prototype,"maxDateString",{get:function(){return this._maxDateString},set:function(t){this._maxDateString=t},enumerable:!0,configurable:!0}),Object.defineProperty(vd.prototype,"oDateLocale",{set:function(t){this._oDateLocale=t,k.isDefined(this._oDateLocale)&&this.adapter.setLocale(t)},enumerable:!0,configurable:!0}),Object.defineProperty(vd.prototype,"minDate",{get:function(){return new Date(this.oMinDate)},enumerable:!0,configurable:!0}),Object.defineProperty(vd.prototype,"maxDate",{get:function(){return new Date(this.oMaxDate)},enumerable:!0,configurable:!0}),vd.prototype.onDatepickerClosed=function(){this.dateInput.nativeElement.focus()},vd.prototype.onTimepickerClosed=function(){this.hourInput.nativeElement.focus()},vd.prototype.commitEdition=function(){this.formGroup.invalid||fd.prototype.commitEdition.call(this)},vd.prototype.onKeyDown=function(t){P.isHourInputAllowed(t)||t.preventDefault()},vd.decorators=[{type:c.Component,args:[{selector:"o-table-cell-editor-time",template:'<ng-template #templateref let-cellvalue="cellvalue" let-rowvalue="rowvalue">\n  <div [formGroup]="formGroup" class="o-table-cell-editor-time" fxLayout="row" fxLayoutAlign="space-between center"\n    fxLayoutGap="8px">\n    <mat-form-field floatLabel="never">\n\n      <input #dateInput matInput [placeholder]="getPlaceholderDate()" [formControl]="formControlDate"\n        [required]="orequired" [matDatepicker]="d" (dateChange)="onDateChange($event)" [min]="minDate" [max]="maxDate"\n        (focus)="enabledCommitOnTabPress = false">\n\n      <mat-datepicker #d [startView]="oStartView" [startAt]="oDateStartAt" [touchUi]="oDateTouchUi"\n        (closed)="onDatepickerClosed()">\n      </mat-datepicker>\n\n      <span class="icon-btn" (click)="openDatepicker(d)" matSuffix>\n        <mat-icon svgIcon="ontimize:today"></mat-icon>\n      </span>\n\n      <mat-error *ngIf="hasErrorDate(\'required\') || hasErrorHour(\'required\')"\n        text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n      <mat-error *ngIf="hasErrorDate(\'matDatepickerParse\')"\n        text="{{ \'FORM_VALIDATION.DATE_PARSE\' | oTranslate }} {{ oHourFormat }}"></mat-error>\n\n      <mat-error *ngIf="hasErrorDate(\'matDatepickerFilter\')" text="{{ \'FORM_VALIDATION.DATE_FILTER\' | oTranslate }}">\n      </mat-error>\n      <mat-error *ngIf="hasErrorDate(\'matDatepickerMin\')"\n        text="{{ \'FORM_VALIDATION.DATE_MIN\' | oTranslate }} {{ minDateString }}"></mat-error>\n\n      <mat-error *ngIf="hasErrorDate(\'matDatepickerMax\')"\n        text="{{ \'FORM_VALIDATION.DATE_MAX\' | oTranslate }} {{ maxDateString }}"></mat-error>\n\n    </mat-form-field>\n\n    <span class="separator">&ndash;</span>\n\n    <mat-form-field floatLabel="never">\n\n      <input #hourInput matInput [ngxTimepicker]="picker" [placeholder]="getPlaceholderHour()"\n        [formControl]="formControlHour" [required]="orequired" (change)="onHourChange($event)" [min]="oHourMin"\n        [max]="oHourMax" (keydown)="onKeyDown($event)" [disableClick]="true" [format]="oHourFormat"\n        (blur)="enabledCommitOnTabPress = true">\n\n      <button type="button" matSuffix mat-icon-button (click)="open($event)">\n        <mat-icon ngxMaterialTimepickerToggleIcon svgIcon="ontimize:clock"></mat-icon>\n      </button>\n\n      <mat-error *ngIf="hasErrorHour(\'invalidFormatHour\')"\n        text="{{ \'FORM_VALIDATION.HOUR_FORMAT\' | oTranslate }} {{ formatString }}"></mat-error>\n\n    </mat-form-field>\n\n    <ngx-material-timepicker #picker (timeSet)="onHourChange($event)" [confirmBtnTmpl]="confirmBtn"\n      [cancelBtnTmpl]="cancelBtn" (closed)="onTimepickerClosed()"></ngx-material-timepicker>\n    <ng-template #confirmBtn>\n      <button mat-stroked-button type="button" (click)="setTime($event)"><span>{{\'OK\' | oTranslate}}</span></button>\n    </ng-template>\n    <ng-template #cancelBtn>\n      <button mat-stroked-button type="button" (click)="picker.close()"><span>{{\'CANCEL\' | oTranslate}}</span></button>\n    </ng-template>\n  </div>\n\n</ng-template>',inputs:gd,outputs:yd,encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,providers:[{provide:d.DateAdapter,useClass:a.MomentDateAdapter,deps:[d.MAT_DATE_LOCALE]}],styles:[".separator{cursor:default}.mat-form-field:not(.custom-width) .mat-form-field-infix{width:84px}button.mat-stroked-button{margin:0 6px}"]}]}],vd.ctorParameters=function(){return[{type:c.Injector},{type:d.DateAdapter}]},vd.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}],dateInput:[{type:c.ViewChild,args:["dateInput",{"static":!1}]}],hourInput:[{type:c.ViewChild,args:["hourInput",{"static":!1}]}],picker:[{type:c.ViewChild,args:["picker",{"static":!1}]}],datepickerInput:[{type:c.ViewChild,args:[d.MatDatepickerInput,{"static":!1}]}],onDocumentKeydown:[{type:c.HostListener,args:["document:keydown",["$event"]]}]},D([tt(),L("design:type",Boolean)],vd.prototype,"oDateTouchUi",void 0),vd);function vd(t,e){var n=fd.call(this,t)||this;return n.injector=t,n.adapter=e,n.oStartView="month",n.oDateFormat="L",n.oHourFormat=P.TWENTY_FOUR_HOUR_FORMAT,n.onKeyboardInputDone=!1,n.enabledCommitOnTabPress=!1,n.activeKeys={},n.momentSrv=n.injector.get(Wt),n}var Ed=[Kp,Zp,od,ld,hd,bd],Cd=w(Yp,Xp,ad,pd,gd),Td=w(dd),Id={"boolean":Kp,date:Zp,integer:od,real:ld,percentage:ld,currency:ld,text:hd,time:bd},Od=["filterSource: filter-source","filterFunction: filter-function"],Sd=(Ad.prototype.ngOnInit=function(){this.initialize()},Ad.prototype.initialize=function(){},Ad.prototype.ngAfterContentInit=function(){"function"!=typeof this.filterFunction&&(this.filterFunction=undefined),this.registerRenderer()},Object.defineProperty(Ad.prototype,"table",{get:function(){return this.tableColumn.table},enumerable:!0,configurable:!0}),Object.defineProperty(Ad.prototype,"column",{get:function(){return this.tableColumn.attr},enumerable:!0,configurable:!0}),Ad.prototype.registerRenderer=function(){this.tableColumn.registerRenderer(this),!k.isDefined(this.type)&&k.isDefined(this.tableColumn.type)&&(this.type=this.tableColumn.type)},Ad.prototype.getCellData=function(t,e){t=this.componentPipe&&this.pipeArguments!==undefined&&t!==undefined?this.componentPipe.transform(t,this.pipeArguments):t;return t},Ad.prototype.getTooltip=function(t,e){return this.getCellData(t,e)},Object.defineProperty(Ad.prototype,"filterSource",{get:function(){return this._filterSource},set:function(t){t=(t||"").toLowerCase();this._filterSource="render"===t||"data"===t||"both"===t?t:"render"},enumerable:!0,configurable:!0}),Ad.prototype.getFilter=function(t,e){var n;switch(this.filterSource){case"render":n=[this.getCellData(t,e)];break;case"data":n=[t];break;case"both":n=[t,this.getCellData(t,e)]}return n},Ad);function Ad(t){this.injector=t,this._filterSource="render",this.tableColumn=this.injector.get(Oh)}var _d,Dd=w(Od,["icon","svgIcon:svg-icon","action","text","iconPosition: icon-position"]),Ld=["onClick"],Rd=(_(xd,_d=Sd),xd.prototype.initialize=function(){_d.prototype.initialize.call(this),this.table&&(this.table.getOColumn(this.tableColumn.attr).title=k.isDefined(this.tableColumn.title)?this.tableColumn.title:undefined),this.iconPosition=k.parseIconPosition(this.iconPosition)},xd.prototype.getCellData=function(t){return t},xd.prototype.innerOnClick=function(t,e){if(t&&(t.stopPropagation(),t.preventDefault()),k.isDefined(this.action))switch(this.action.toLowerCase()){case"detail":this.table.viewDetail(e);break;case"edit":this.table.editDetail(e)}else this.onClick.emit(e)},Object.defineProperty(xd.prototype,"icon",{get:function(){return this._icon},set:function(t){this._icon=t},enumerable:!0,configurable:!0}),xd.prototype.isIconPositionLeft=function(){return k.isDefined(this.icon)&&this.iconPosition===P.ICON_POSITION_LEFT},xd.prototype.isIconPositionRight=function(){return k.isDefined(this.icon)&&this.iconPosition===P.ICON_POSITION_RIGHT},xd.prototype.isSvgIconPositionRight=function(){return k.isDefined(this.svgIcon)&&this.iconPosition===P.ICON_POSITION_RIGHT},xd.prototype.isSvgIconPositionLeft=function(){return k.isDefined(this.svgIcon)&&this.iconPosition===P.ICON_POSITION_LEFT},xd.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-action",template:'<ng-template #templateref let-cellvalue="cellvalue" let-rowvalue="rowvalue">\n  <span class="o-action-cell-renderer" (click)="innerOnClick($event, rowvalue)">\n    <mat-icon *ngIf="isIconPositionLeft()">{{ icon }}</mat-icon>\n    <mat-icon *ngIf="isSvgIconPositionLeft()" [svgIcon]="svgIcon"></mat-icon>\n    <span *ngIf="text !== undefined">{{ text | oTranslate }}</span>\n    <mat-icon *ngIf="isIconPositionRight()">{{ icon }}</mat-icon>\n    <mat-icon *ngIf="isSvgIconPositionRight()" [svgIcon]="svgIcon"></mat-icon>\n  </span>\n</ng-template>',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:Dd,outputs:Ld,styles:[":host .mat-icon{margin:0 4px}"]}]}],xd.ctorParameters=function(){return[{type:c.Injector}]},xd.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},xd);function xd(t){var e=_d.call(this,t)||this;return e.injector=t,e.onClick=new c.EventEmitter,e.tableColumn.type="action",e.tableColumn.orderable=!1,e.tableColumn.searchable=!1,e}var wd,Md=w(Od,["trueValue: true-value","falseValue: false-value","booleanType: boolean-type","renderTrueValue: render-true-value","renderFalseValue: render-false-value","renderType: render-type"]),Nd=(_(Pd,wd=Sd),Pd.prototype.initialize=function(){wd.prototype.initialize.call(this),this.parseInputs()},Pd.prototype.parseInputs=function(){switch(this.booleanType){case"string":this.parseStringInputs();break;case"number":this.parseNumberInputs();break;default:this.trueValue=!0,this.falseValue=!1}},Pd.prototype.parseStringInputs=function(){0===(this.trueValue||"").length&&(this.trueValue=undefined),0===(this.falseValue||"").length&&(this.falseValue=undefined)},Pd.prototype.parseNumberInputs=function(){this.trueValue=parseInt(this.trueValue,10),isNaN(this.trueValue)&&(this.trueValue=1),this.falseValue=parseInt(this.falseValue,10),isNaN(this.falseValue)&&(this.falseValue=0)},Pd.prototype.hasCellDataTrueValue=function(t){var e;return k.isDefined(t)&&(e=t===this.trueValue,"string"!==this.booleanType||k.isDefined(this.trueValue)||(e=k.parseBoolean(t,!1))),e},Pd.prototype.getCellData=function(t,e){var n=t,o=this.hasCellDataTrueValue(t)?this.trueValue:this.falseValue;switch(this.renderType){case"string":n=this.translateService.get(o);break;case"number":n=o}return n},Object.defineProperty(Pd.prototype,"booleanType",{get:function(){return this._booleanType},set:function(t){t=(t||"").toLowerCase(),-1===["number","boolean","string"].indexOf(t)&&(t="boolean"),this._booleanType=t},enumerable:!0,configurable:!0}),Object.defineProperty(Pd.prototype,"renderType",{get:function(){return this._renderType},set:function(t){t=(t||"").toLowerCase(),-1===["string","number","icon","image"].indexOf(t)&&(t="string"),this._renderType=t},enumerable:!0,configurable:!0}),Object.defineProperty(Pd.prototype,"renderTrueValue",{get:function(){return this._renderTrueValue||this.trueValue},set:function(t){this._renderTrueValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(Pd.prototype,"renderFalseValue",{get:function(){return this._renderFalseValue||this.falseValue},set:function(t){this._renderFalseValue=t},enumerable:!0,configurable:!0}),Pd.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-boolean",template:'<ng-template #templateref let-cellvalue="cellvalue">\n  <ng-container *ngIf="hasCellDataTrueValue(cellvalue)">\n    <ng-container [ngSwitch]="renderType">\n      <ng-container *ngSwitchCase="\'number\'">{{ renderTrueValue }}</ng-container>\n      <ng-container *ngSwitchCase="\'icon\'">\n        <mat-icon class="material-icons"> {{ renderTrueValue }}</mat-icon>\n      </ng-container>\n      <ng-container *ngSwitchCase="\'image\'">\n        <img [src]="renderTrueValue" />\n      </ng-container>\n      <span *ngSwitchDefault>{{ renderTrueValue | oTranslate }}</span>\n    </ng-container>\n  </ng-container>\n  <ng-container *ngIf="!hasCellDataTrueValue(cellvalue)">\n    <ng-container [ngSwitch]="renderType">\n      <ng-container *ngSwitchCase="\'number\'">{{ renderFalseValue }}</ng-container>\n      <ng-container *ngSwitchCase="\'icon\'">\n        <mat-icon class="material-icons"> {{ renderFalseValue }}</mat-icon>\n      </ng-container>\n      <ng-container *ngSwitchCase="\'image\'">\n        <img [src]="renderFalseValue" />\n      </ng-container>\n      <ng-container *ngSwitchDefault>{{ renderFalseValue | oTranslate}}</ng-container>\n    </ng-container>\n  </ng-container>\n</ng-template>',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:Md}]}],Pd.ctorParameters=function(){return[{type:c.Injector}]},Pd.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},Pd);function Pd(t){var e=wd.call(this,t)||this;return e.injector=t,e._renderType="string",e._booleanType="boolean",e.tableColumn.type="boolean",e.translateService=e.injector.get(Ae),e}var Fd,kd=w(Od,["grouping","thousandSeparator: thousand-separator"]),Bd=(_(Ud,Fd=Sd),Ud.prototype.setComponentPipe=function(){this.componentPipe=new rn(this.injector)},Ud.prototype.initialize=function(){Fd.prototype.initialize.call(this),this.pipeArguments={grouping:this.grouping,thousandSeparator:this.thousandSeparator}},Ud.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-integer",template:'<ng-template #templateref let-cellvalue="cellvalue">\n    {{ getCellData(cellvalue)}}\n</ng-template>',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:kd}]}],Ud.ctorParameters=function(){return[{type:c.Injector}]},Ud.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},D([tt(),L("design:type",Boolean)],Ud.prototype,"grouping",void 0),Ud);function Ud(t){var e=Fd.call(this,t)||this;return e.injector=t,e.grouping=!0,e.thousandSeparator=",",e.tableColumn.type="integer",e.setComponentPipe(),e}var Vd,jd=w(kd,["decimalSeparator: decimal-separator","minDecimalDigits: min-decimal-digits","maxDecimalDigits: max-decimal-digits"]),Gd=(_(qd,Vd=Bd),qd.prototype.setComponentPipe=function(){this.componentPipe=new un(this.injector)},qd.prototype.initialize=function(){Vd.prototype.initialize.call(this),this.pipeArguments={minDecimalDigits:this.minDecimalDigits,maxDecimalDigits:this.maxDecimalDigits,decimalSeparator:this.decimalSeparator,grouping:this.grouping,thousandSeparator:this.thousandSeparator}},qd.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-real",template:'<ng-template #templateref let-cellvalue="cellvalue">\n        {{ getCellData(cellvalue)}}\n</ng-template>',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:jd}]}],qd.ctorParameters=function(){return[{type:c.Injector}]},qd.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},D([tt(),L("design:type",Number)],qd.prototype,"minDecimalDigits",void 0),D([tt(),L("design:type",Number)],qd.prototype,"maxDecimalDigits",void 0),qd);function qd(t){var e=Vd.call(this,t)||this;return e.injector=t,e.minDecimalDigits=2,e.maxDecimalDigits=2,e.decimalSeparator=".",e.tableColumn.type="real",e.numberService=e.injector.get(Ze),e.setComponentPipe(),e}var Hd,Yd=w(jd,["currencySymbol: currency-symbol","currencySymbolPosition: currency-symbol-position"]),zd=(_(Kd,Hd=Sd),Kd.prototype.setComponentPipe=function(){this.componentPipe=new nn(this.injector)},Kd.prototype.initialize=function(){Hd.prototype.initialize.call(this),"undefined"==typeof this.currencySymbol&&(this.currencySymbol=this.currencyService.symbol),"undefined"==typeof this.currencySymbolPosition&&(this.currencySymbolPosition=this.currencyService.symbolPosition),this.pipeArguments={currencySimbol:this.currencySymbol,currencySymbolPosition:this.currencySymbolPosition,minDecimalDigits:this.minDecimalDigits,maxDecimalDigits:this.maxDecimalDigits,decimalSeparator:this.decimalSeparator,grouping:this.grouping,thousandSeparator:this.thousandSeparator}},Kd.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-currency",template:'<ng-template #templateref let-cellvalue="cellvalue">\n  {{getCellData(cellvalue)}}\n</ng-template>\n',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:Yd}]}],Kd.ctorParameters=function(){return[{type:c.Injector}]},Kd.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},D([tt(),L("design:type",Number)],Kd.prototype,"minDecimalDigits",void 0),D([tt(),L("design:type",Number)],Kd.prototype,"maxDecimalDigits",void 0),Kd);function Kd(t){var e=Hd.call(this,t)||this;return e.injector=t,e.minDecimalDigits=2,e.maxDecimalDigits=2,e.decimalSeparator=".",e.grouping=!0,e.thousandSeparator=",",e.tableColumn.type="currency",e.currencyService=e.injector.get(tn),e.setComponentPipe(),e}var Wd,Qd=w(Od,["format"]),Xd=(_($d,Wd=Sd),$d.prototype.setComponentPipe=function(){this.componentPipe=new sn(this.injector)},$d.prototype.initialize=function(){Wd.prototype.initialize.call(this),this.pipeArguments={format:this.format}},$d.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-date",template:'<ng-template #templateref let-cellvalue="cellvalue">\n   {{getCellData(cellvalue)}}\n</ng-template>',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:Qd}]}],$d.ctorParameters=function(){return[{type:c.Injector}]},$d.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},$d);function $d(t){var e=Wd.call(this,t)||this;return e.injector=t,e.tableColumn.type="date",e.setComponentPipe(),e}var Zd,Jd=w(Od,["imageType: image-type","emptyImage: empty-image","avatar"]),th=(_(eh,Zd=Sd),eh.prototype.initialize=function(){var t;Zd.prototype.initialize.call(this),this.table&&((t=this.table.getOColumn(this.tableColumn.attr)).title=k.isDefined(this.tableColumn.title)?this.tableColumn.title:undefined,t.definition.contentAlign=t.definition.contentAlign||"center")},eh.prototype.getSource=function(t){switch(this._source="",this.imageType){case"base64":this._source=t?"data:image/png;base64,"+("undefined"!=typeof t.bytes?t.bytes:t):this.emptyImage;break;case"url":this._source=t||this.emptyImage;break;default:this._source=this.emptyImage}return this._source},eh.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-image",template:'<ng-template #templateref let-cellvalue="cellvalue">\n  <div [ngClass]="{\'image-avatar\':avatar,\'image-plain\':!avatar} ">\n    <img [src]="getSource(cellvalue)">\n  </div>\n</ng-template>\n',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:Jd}]}],eh.ctorParameters=function(){return[{type:c.Injector}]},eh.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},eh);function eh(t){var e=Zd.call(this,t)||this;return e.injector=t,e.tableColumn.type="image",e.tableColumn.orderable=!1,e.tableColumn.searchable=!1,e}var nh,oh=w(jd,["valueBase: value-base"]),ih=(_(rh,nh=Gd),rh.prototype.setComponentPipe=function(){this.componentPipe=new hn(this.injector)},rh.prototype.initialize=function(){nh.prototype.initialize.call(this),this.pipeArguments={minDecimalDigits:this.minDecimalDigits,maxDecimalDigits:this.maxDecimalDigits,decimalSeparator:this.decimalSeparator,grouping:this.grouping,thousandSeparator:this.thousandSeparator,valueBase:this.valueBase}},rh.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-percentage",template:'<ng-template #templateref let-cellvalue="cellvalue">\n        {{ getCellData(cellvalue)}}\n</ng-template>',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:oh}]}],rh.ctorParameters=function(){return[{type:c.Injector}]},rh.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},rh);function rh(t){var e=nh.call(this,t)||this;return e.injector=t,e.decimalSeparator=".",e.minDecimalDigits=0,e.maxDecimalDigits=0,e.valueBase=1,e.tableColumn.type="percentage",e.numberService=e.injector.get(Ze),e.setComponentPipe(),e}var ah,sh=w(Od,["entity","service","columns","translate","valueColumn: value-column","parentKeys: parent-keys","queryMethod: query-method","serviceType : service-type","translateArgsFn: translate-params"]),lh=(_(ch,ah=Sd),ch.prototype.initialize=function(){ah.prototype.initialize.call(this),this.table&&((t=this.table.getOColumn(this.column)).definition.contentAlign=t.definition.contentAlign||"center"),this.colArray=k.parseArray(this.columns,!0);var t=k.parseArray(this.parentKeys);this._pKeysEquiv=k.parseParentKeysEquivalences(t),this.configureService()},ch.prototype.ngAfterViewInit=function(){var e=this,t=this.table.getOColumn(this.column);k.isDefined(t.editor)&&(this.editorSuscription=t.editor.onPostUpdateRecord.subscribe(function(t){e.queryData(t[e.tableColumn.attr],t)}))},ch.prototype.ngOnDestroy=function(){this.editorSuscription&&this.editorSuscription.unsubscribe()},ch.prototype.getDescriptionValue=function(t,e){return t!==undefined&&-1===this.cellValues.indexOf(t)&&(this.queryData(t,e),this.cellValues.push(t)),""},ch.prototype.queryData=function(e,t){var n,o=this,i=this;this.dataService&&this.queryMethod in this.dataService&&this.entity?(n=lt.getFilterUsingParentKeys(t,this._pKeysEquiv),t=Object.keys(this._pKeysEquiv).find(function(t){return o._pKeysEquiv[t]===o.column}),k.isDefined(t)?n[t]||(n[t]=e):n[this.column]=e,this.querySubscription=this.dataService[this.queryMethod](n,this.colArray,this.entity).subscribe(function(t){t.isSuccessful()&&(i.responseMap[e]=t.data[0][i.valueColumn])},function(t){console.error(t),t&&"object"!=typeof t?o.dialogService.alert("ERROR",t):o.dialogService.alert("ERROR","MESSAGES.ERROR_QUERY")})):console.warn("Service not properly configured! aborting query")},ch.prototype.configureService=function(){var t,e=_t;this.serviceType&&(e=this.serviceType);try{this.dataService=this.injector.get(e),k.isDataService(this.dataService)&&(t=this.dataService.getDefaultServiceConfiguration(this.service),this.entity&&(t.entity=this.entity),this.dataService.configureService(t))}catch(n){console.error(n)}},ch.prototype.getCellData=function(t,e){return this.responseMap[t]},ch.prototype.getFilterExpression=function(e){var t,n=this,o=this.table.getOColumn(this.column),i=Object.keys(this.responseMap).find(function(t){return-1!==k.normalizeString(n.responseMap[t]).indexOf(k.normalizeString(e))});return t=i?ee.buildExpressionEquals(this.column,at.parseUsingSQLType(i,at.getSQLTypeKey(o.sqlType))):t},ch.prototype.setComponentPipe=function(){this.componentPipe=new fn(this.injector)},ch.prototype.responseValue=function(t,e){return this.translate?(this.pipeArguments=this.translateArgsFn?{values:this.translateArgsFn(e)}:{},ah.prototype.getCellData.call(this,t,e)):t},ch.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE=sh,ch.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-service",template:'<ng-template #templateref let-cellvalue="cellvalue" let-rowvalue="rowvalue">\n  {{ getDescriptionValue(cellvalue, rowvalue) }}{{ responseValue(responseMap[cellvalue]) }}\n</ng-template>\n',inputs:sh,changeDetection:c.ChangeDetectionStrategy.OnPush,providers:[Ce]}]}],ch.ctorParameters=function(){return[{type:c.Injector}]},ch.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},ch);function ch(t){var e=ah.call(this,t)||this;return e.injector=t,e.cellValues=[],e.responseMap={},e.translate=!1,e.queryMethod=P.QUERY_METHOD,e.colArray=[],e._pKeysEquiv={},e.pipeArguments={},e.tableColumn.type="service",e.dialogService=t.get(ot),e}var uh,ph=w(Od,["format"]),dh=(_(hh,uh=Sd),Object.defineProperty(hh.prototype,"format",{set:function(t){k.isDefined(t)&&(this._format=t)},enumerable:!0,configurable:!0}),hh.prototype.setComponentPipe=function(){this.componentPipe=new sn(this.injector)},hh.prototype.initialize=function(){uh.prototype.initialize.call(this),this.pipeArguments={format:this._format}},hh.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-time",template:'<ng-template #templateref let-cellvalue="cellvalue">\n   {{getCellData(cellvalue)}}\n</ng-template>',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:ph}]}],hh.ctorParameters=function(){return[{type:c.Injector}]},hh.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},hh);function hh(t){var e=uh.call(this,t)||this;return e.injector=t,e._format="L HH:mm a",e.tableColumn.type="time",e.setComponentPipe(),e}var mh,fh=w(Od,["translateArgsFn: translate-params"]),gh=(_(yh,mh=Sd),yh.prototype.setComponentPipe=function(){this.componentPipe=new fn(this.injector)},yh.prototype.getCellData=function(t,e){return this.pipeArguments=this.translateArgsFn?{values:this.translateArgsFn(e)}:{},mh.prototype.getCellData.call(this,t,e)},yh.decorators=[{type:c.Component,args:[{selector:"o-table-cell-renderer-translate",template:'<ng-template #templateref let-cellvalue="cellvalue" let-rowvalue="rowvalue">\n  {{ getCellData(cellvalue, rowvalue) }}\n</ng-template>\n',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:fh}]}],yh.ctorParameters=function(){return[{type:c.Injector}]},yh.propDecorators={templateref:[{type:c.ViewChild,args:["templateref",{read:c.TemplateRef,"static":!0}]}]},yh);function yh(t){var e=mh.call(this,t)||this;return e.injector=t,e.pipeArguments={},e.tableColumn.type="translate",e.setComponentPipe(),e}var bh=[Rd,Xd,Nd,th,Bd,Gd,zd,ih,lh,gh,dh],vh=w(Md,Yd,Qd,Jd,Dd,sh,fh),Eh=w(Ld),Ch={action:Rd,"boolean":Nd,currency:zd,date:Xd,image:th,integer:Bd,percentage:ih,real:Gd,service:lh,translate:gh,time:dh},Th=w(["attr","title","titleAlign: title-align","contentAlign: content-align","orderable","searchable","type","editable","width","minWidth: min-width","maxWidth: max-width","asyncLoad : async-load","sqlType: sql-type","tooltip","tooltipValue: tooltip-value","tooltipFunction: tooltip-function","multiline","resizable","filterExpressionFunction: filter-expression-function","class"],vh,Cd),Ih=w(Eh,Td),Oh=(Object.defineProperty(Sh.prototype,"multiline",{get:function(){return this._multiline},set:function(t){t=k.parseBoolean(String(t)),this._multiline=t},enumerable:!0,configurable:!0}),Sh.addEditor=function(t,e){!Id.hasOwnProperty(t)&&k.isDefined(e)&&(Id[t]=e)},Sh.prototype.ngOnInit=function(){var t=this;this.grouping=k.parseBoolean(this.grouping,!0),this.titleAlign=this.parseTitleAlign(),this.table.registerColumn(this),this.subscriptions.add(this.table.onReinitialize.subscribe(function(){return t.table.registerColumn(t)}))},Sh.prototype.ngAfterViewInit=function(){this.createRenderer(),this.createEditor()},Sh.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},Sh.prototype.parseTitleAlign=function(){var t=(this.titleAlign||"").toLowerCase();return-1!==P.AVAILABLE_COLUMN_TITLE_ALIGNS.indexOf(t)?t:undefined},Object.defineProperty(Sh.prototype,"originalWidth",{get:function(){var t=this.width,e=k.extractPixelsValue(this.width);return t=k.isDefined(e)?e+"":t},enumerable:!0,configurable:!0}),Sh.prototype.createRenderer=function(){if(!k.isDefined(this.renderer)&&k.isDefined(this.type)){var t=Ch[this.type];if(t!==undefined){t=this.resolver.resolveComponentFactory(t);if(t){var e=this.container.createComponent(t).instance;switch(e.filterSource=this.filterSource,e.filterFunction=this.filterFunction,this.type){case"currency":e.currencySymbol=this.currencySymbol,e.currencySymbolPosition=this.currencySymbolPosition,e.decimalSeparator=this.decimalSeparator,e.minDecimalDigits=this.minDecimalDigits,e.maxDecimalDigits=this.maxDecimalDigits,e.grouping=this.grouping,e.thousandSeparator=this.thousandSeparator;break;case"date":case"time":e.format=this.format;break;case"integer":e.grouping=this.grouping,e.thousandSeparator=this.thousandSeparator;break;case"boolean":e.trueValue=this.trueValue,e.falseValue=this.falseValue,e.renderTrueValue=this.renderTrueValue,e.renderFalseValue=this.renderFalseValue,e.renderType=this.renderType,e.booleanType=this.booleanType;break;case"percentage":e.valueBase=this.valueBase;case"real":e.decimalSeparator=this.decimalSeparator,e.minDecimalDigits=this.minDecimalDigits,e.maxDecimalDigits=this.maxDecimalDigits,e.grouping=this.grouping,e.thousandSeparator=this.thousandSeparator;break;case"image":e.imageType=this.imageType,e.avatar=this.avatar,e.emptyImage=this.emptyImage;break;case"action":e.icon=this.icon,e.action=this.action,e.text=this.text,e.iconPosition=this.iconPosition,e.onClick=this.onClick;break;case"service":e.entity=this.entity,e.service=this.service,e.columns=this.columns,e.valueColumn=this.valueColumn,e.parentKeys=this.parentKeys,e.queryMethod=this.queryMethod,e.serviceType=this.serviceType;break;case"translate":e.translateArgsFn=this.translateArgsFn}this.registerRenderer(e)}}}},Sh.prototype.buildCellEditor=function(t,e,n,o){var i=Id[t]||Id.text;if(i===undefined)return r;i=e.resolveComponentFactory(i);if(i){var r=n.createComponent(i).instance;if(o!==undefined){switch(t){case"date":r.format=o.format,r.locale=o.locale,r.oStartView=o.oStartView,r.oMinDate=o.oMinDate,r.oMaxDate=o.oMaxDate,r.oTouchUi=o.oTouchUi,r.oStartAt=o.oStartAt,r.filterDate=o.filterDate,r.dateValueType=o.dateValueType;break;case"time":r.oDateFormat=o.oDateFormat,r.oHourFormat=o.oHourFormat,r.oDateLocale=o.oDateLocale,r.oMinDate=o.oMinDate,r.oMaxDate=o.oMaxDate,r.oTouchUi=o.oTouchUi,r.oDateStartAt=o.oDateStartAt,r.oDateTextInputEnabled=o.oDateTextInputEnabled,r.oHourMin=o.oHourMin,r.oHourMax=o.oHourMax,r.oHourTextInputEnabled=o.oHourTextInputEnabled,r.oHourPlaceholder=o.oHourPlaceholder,r.oDatePlaceholder=o.oDatePlaceholder;break;case"boolean":r.booleanType=o.booleanType,r.indeterminateOnNull=o.indeterminateOnNull,r.autoCommit=o.autoCommit,r.trueValue=o.trueValue,r.falseValue=o.falseValue;break;case"integer":case"percentage":case"currency":case"real":r.min=o.min,r.max=o.max,r.step=(k.isDefined(o.step)?o:r).step}r.olabel=o.olabel,r.type=o.type}}return r},Sh.prototype.createEditor=function(){var t;k.isDefined(this.editor)||!this.editable||(t=this.buildCellEditor(this.type,this.resolver,this.container,this))&&(t.orequired=this.orequired,t.showPlaceHolder=this.showPlaceHolder,t.updateRecordOnEdit=this.updateRecordOnEdit,t.showNotificationOnEdit=this.showNotificationOnEdit,t.editionStarted=this.editionStarted,t.editionCancelled=this.editionCancelled,t.editionCommitted=this.editionCommitted,t.onPostUpdateRecord=this.onPostUpdateRecord,this.registerEditor(t))},Sh.prototype.registerRenderer=function(t){this.renderer=t;t=this.table.getOColumn(this.attr);t!==undefined&&(t.renderer=this.renderer),this.renderer.initialize()},Sh.prototype.registerEditor=function(t){this.editor=t;t=this.table.getOColumn(this.attr);t!==undefined&&(t.editor=this.editor),this.editor.initialize()},Object.defineProperty(Sh.prototype,"orderable",{get:function(){return this._orderable},set:function(t){this._orderable="boolean"==typeof t?t:k.parseBoolean(t,!0);t=this.table.getOColumn(this.attr);t&&(t.orderable=this._orderable)},enumerable:!0,configurable:!0}),Object.defineProperty(Sh.prototype,"resizable",{get:function(){return this._resizable},set:function(t){this._resizable="boolean"==typeof t?t:k.parseBoolean(t,!0);t=this.table.getOColumn(this.attr);t&&(t.resizable=this._resizable)},enumerable:!0,configurable:!0}),Object.defineProperty(Sh.prototype,"searchable",{get:function(){return this._searchable},set:function(t){this._searchable="boolean"==typeof t?t:k.parseBoolean(t,!0);t=this.table.getOColumn(this.attr);t&&(t.searchable=this._searchable)},enumerable:!0,configurable:!0}),Sh.prototype.getSQLType=function(){if(!(this.sqlType&&0<this.sqlType.length))switch(this.type){case"date":this.sqlType="TIMESTAMP";break;case"integer":this.sqlType="INTEGER";break;case"boolean":this.sqlType="BOOLEAN";break;case"real":case"percentage":case"currency":this.sqlType="DOUBLE"}var t=this.sqlType&&0<this.sqlType.length?this.sqlType:this._defaultSQLTypeKey;return this._SQLType=at.getSQLTypeValue(t),this._SQLType},Object.defineProperty(Sh.prototype,"filterSource",{get:function(){return this._filterSource},set:function(t){t=(t||"").toLowerCase();this._filterSource="render"===t||"data"===t||"both"===t?t:"render"},enumerable:!0,configurable:!0}),Sh.decorators=[{type:c.Component,args:[{selector:"o-table-column",template:"<span #container>\n</span>",changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:Th,outputs:Ih,styles:[""]}]}],Sh.ctorParameters=function(){return[{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]},{type:c.ComponentFactoryResolver},{type:c.Injector}]},Sh.propDecorators={container:[{type:c.ViewChild,args:["container",{read:c.ViewContainerRef,"static":!0}]}]},D([tt(),L("design:type",Boolean)],Sh.prototype,"editable",void 0),D([tt(),L("design:type",Boolean)],Sh.prototype,"tooltip",void 0),D([tt(),L("design:type",Boolean)],Sh.prototype,"orequired",void 0),D([tt(),L("design:type",Boolean)],Sh.prototype,"showPlaceHolder",void 0),D([tt(),L("design:type",Boolean)],Sh.prototype,"updateRecordOnEdit",void 0),D([tt(),L("design:type",Boolean)],Sh.prototype,"showNotificationOnEdit",void 0),D([tt(),L("design:type",Boolean)],Sh.prototype,"oTouchUi",void 0),D([tt(),L("design:type",Number)],Sh.prototype,"min",void 0),D([tt(),L("design:type",Number)],Sh.prototype,"max",void 0),D([tt(),L("design:type",Number)],Sh.prototype,"step",void 0),D([tt(),L("design:type",Number)],Sh.prototype,"minDecimalDigits",void 0),D([tt(),L("design:type",Number)],Sh.prototype,"maxDecimalDigits",void 0),D([tt(),L("design:type",Boolean)],Sh.prototype,"indeterminateOnNull",void 0),D([tt(),L("design:type",Boolean)],Sh.prototype,"autoCommit",void 0),D([tt(),L("design:type",Boolean)],Sh.prototype,"asyncLoad",void 0),Sh);function Sh(t,e,n){this.table=t,this.resolver=e,this.injector=n,this._defaultSQLTypeKey="OTHER",this._searchable=!0,this.editable=!1,this.tooltip=!1,this._multiline=!1,this._filterSource="render",this.grouping=!0,this.thousandSeparator=",",this.decimalSeparator=".",this.renderType="string",this.booleanType="boolean",this.queryMethod=P.QUERY_METHOD,this.oDateFormat="L",this.oHourFormat=24,this.valueBase=1,this.orequired=!1,this.showPlaceHolder=!1,this.updateRecordOnEdit=!0,this.showNotificationOnEdit=!1,this.oStartView="month",this.oTouchUi=!1,this.dateValueType="timestamp",this.minDecimalDigits=2,this.maxDecimalDigits=2,this.indeterminateOnNull=!1,this.onClick=new c.EventEmitter,this.editionStarted=new c.EventEmitter,this.editionCancelled=new c.EventEmitter,this.editionCommitted=new c.EventEmitter,this.onPostUpdateRecord=new c.EventEmitter,this.asyncLoad=!1,this.subscriptions=new u.Subscription}var Ah,_h=w(Th,["operation","functionOperation: operation-function"]),Dh=(_(Lh,Ah=Oh),Lh.decorators=[{type:c.Component,args:[{selector:"o-table-column-calculated",template:"<span #container>\n</span>",inputs:_h,providers:[{provide:Oh,useExisting:c.forwardRef(function(){return Lh})}],changeDetection:c.ChangeDetectionStrategy.OnPush}]}],Lh.ctorParameters=function(){return[{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]},{type:c.ComponentFactoryResolver},{type:c.Injector}]},Lh);function Lh(t,e,n){var o=Ah.call(this,t,e,n)||this;return o.table=t,o.resolver=e,o.injector=n,o}var Rh=["contextMenu: context-menu","showInsert: insert","showEdit: edit","showViewDetail: view-detail","showCopy: copy","showSelectAll: select-all","showRefresh: refresh","showDelete: delete","showFilter: filter"],xh=(Object.defineProperty(wh.prototype,"showInsert",{get:function(){return this.isVisibleInsert.getValue()},set:function(t){"boolean"!=typeof t&&(t=k.parseBoolean(t)),this.isVisibleInsert.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(wh.prototype,"showEdit",{get:function(){return this.isVisibleEdit.getValue()},set:function(t){"boolean"!=typeof t&&(t=k.parseBoolean(t)),this.isVisibleEdit.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(wh.prototype,"showViewDetail",{get:function(){return this.isVisibleDetail.getValue()},set:function(t){"boolean"!=typeof t&&(t=k.parseBoolean(t)),this.isVisibleDetail.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(wh.prototype,"showCopy",{get:function(){return this.isVisibleCopy.getValue()},set:function(t){"boolean"!=typeof t&&(t=k.parseBoolean(t)),this.isVisibleCopy.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(wh.prototype,"showSelectAll",{get:function(){return this.isVisibleSelectAll.getValue()},set:function(t){"boolean"!=typeof t&&(t=k.parseBoolean(t)),this.table.isSelectionModeNone()?this.isVisibleSelectAll.next(!1):this.isVisibleSelectAll.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(wh.prototype,"showRefresh",{get:function(){return this.isVisibleRefresh.getValue()},set:function(t){"boolean"!=typeof t&&(t=k.parseBoolean(t)),this.isVisibleRefresh.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(wh.prototype,"showDelete",{get:function(){return this.isVisibleDelete.getValue()},set:function(t){"boolean"!=typeof t&&(t=k.parseBoolean(t)),this.isVisibleDelete.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(wh.prototype,"showFilter",{get:function(){return this.isVisibleFilter.getValue()},set:function(t){"boolean"!=typeof t&&(t=k.parseBoolean(t)),this.isVisibleFilter.next(t)},enumerable:!0,configurable:!0}),wh.prototype.ngAfterViewInit=function(){var t,e=this.defaultContextMenu.oContextMenuItems.toArray();this.contextMenu?(t=e.concat(this.contextMenu.oContextMenuItems.toArray()),this.defaultContextMenu.oContextMenuItems.reset(t)):this.defaultContextMenu.oContextMenuItems.reset(e),k.isDefined(this.showSelectAll)||this.isVisibleSelectAll.next(this.table.selectAllCheckbox),this.table.registerContextMenu(this.defaultContextMenu),this.registerContextMenuListeners()},wh.prototype.registerContextMenuListeners=function(){var e=this;this.contextMenuSubscription.add(this.defaultContextMenu.onClose.subscribe(function(t){e.table.isSelectionModeMultiple()||e.table.clearSelection()})),this.contextMenuSubscription.add(this.defaultContextMenu.onShow.subscribe(function(t){e.initProperties(t)}))},wh.prototype.gotoDetails=function(t){t=t.data.rowValue;this.table.viewDetail(t)},wh.prototype.edit=function(t){this.table.doHandleClick(t.data.rowValue,t.data.rowIndex,t)},wh.prototype.add=function(){this.table.add()},wh.prototype.selectAll=function(){this.table.showAndSelectAllCheckbox()},wh.prototype.unSelectAll=function(){this.table.selection.clear()},wh.prototype.copyAll=function(){this.table.copyAll()},wh.prototype.copyCell=function(t){var e=this.defaultContextMenu.origin.innerText;k.copyToClipboard(e)},wh.prototype.copySelection=function(){this.table.copySelection()},wh.prototype.copyRow=function(t){t=JSON.stringify(this.table.dataSource.getRenderedData([t.data.rowValue]));k.copyToClipboard(t)},wh.prototype["delete"]=function(t){this.table.remove()},wh.prototype.refresh=function(){this.table.refresh()},wh.prototype.filterByValue=function(t){this.table.showFilterByColumnIcon=!0;var e={attr:this.column.attr,operator:O.ColumnValueFilterOperator.IN,values:[this.row[this.column.attr]]};this.table.dataSource.addColumnFilter(e),this.table.reloadPaginatedDataFromStart()},Object.defineProperty(wh.prototype,"labelFilterByColumn",{get:function(){return this.column&&this.column.attr?this.translateService.get("TABLE_CONTEXT_MENU.FILTER_BY")+" "+this.translateService.get(this.column.attr):""},enumerable:!0,configurable:!0}),wh.prototype.filterByColumn=function(t){this.table.oTableMenu&&(this.table.showFilterByColumnIcon=!0,this.table.oTableMenu.columnFilterOption.active=!0,this.table.openColumnFilterDialog(this.column,t.event))},wh.prototype.checkVisibleFilter=function(){var t=!1;this.column&&(t=this.showFilter&&this.table.isColumnFilterable(this.column)),this.isVisibleFilter.next(t)},wh.prototype.initProperties=function(t){var e=t.data;e&&(t=e.cellName,this.column=this.table.getOColumn(t),this.row=e.rowValue,this.checkVisibleFilter())},wh.decorators=[{type:c.Component,args:[{selector:"o-table-context-menu",template:'<o-context-menu #defaultContextMenu>\n  <o-context-menu-item attr="refresh" label="TABLE_CONTEXT_MENU.REFRESH" svg-icon="ontimize:autorenew" (execute)="refresh()"\n    [visible]="isVisibleRefresh | async"></o-context-menu-item>\n  <o-context-menu-item attr="detail" icon="chevron_right" label="TABLE_CONTEXT_MENU.VIEW_DETAIL" (execute)="gotoDetails($event)"\n    [visible]="isVisibleDetail | async"></o-context-menu-item>\n  <o-context-menu-item attr="edit" icon="edit" label="TABLE_CONTEXT_MENU.EDIT" (execute)="edit($event)" [visible]="isVisibleEdit | async">\n  </o-context-menu-item>\n  <o-context-menu-item attr="insert" label="TABLE_CONTEXT_MENU.INSERT" icon="add" (execute)="add()" [visible]="isVisibleInsert | async">\n  </o-context-menu-item>\n  <o-context-menu-item attr="delete" label="TABLE_CONTEXT_MENU.DELETE" icon="delete" (execute)="delete($event)" [visible]="isVisibleDelete | async">\n  </o-context-menu-item>\n  \x3c!-- FILTER GROUP --\x3e\n  <o-context-menu-group label="TABLE_CONTEXT_MENU.FILTER" icon="filter_alt" type="group" [visible]="isVisibleFilter | async">\n    <o-context-menu-item icon="filter_alt" [label]="labelFilterByColumn" (execute)="filterByColumn($event)"></o-context-menu-item>\n    <o-context-menu-item icon="filter_alt" label="TABLE_CONTEXT_MENU.FILTER_BY_VALUE" (execute)="filterByValue($event)"></o-context-menu-item>\n  </o-context-menu-group>\n  \x3c!-- COPY GROUP --\x3e\n  <o-context-menu-separator [visible]="isVisibleCopy | async"></o-context-menu-separator>\n  <o-context-menu-group label="TABLE_CONTEXT_MENU.COPY" icon="file_copy" type="group" [visible]="isVisibleCopy | async">\n    <o-context-menu-item icon="file_copy" label="TABLE_CONTEXT_MENU.COPY_CELL" (execute)="copyCell($event)"></o-context-menu-item>\n    <o-context-menu-item icon="file_copy" label="TABLE_CONTEXT_MENU.COPY_ROW" (execute)="copyRow($event)"></o-context-menu-item>\n    <o-context-menu-item label="TABLE_CONTEXT_MENU.COPY_ALL" icon="file_copy" (execute)="copyAll()"></o-context-menu-item>\n    <o-context-menu-item label="TABLE_CONTEXT_MENU.COPY_SELECTION" icon="file_copy" (execute)="copySelection()"></o-context-menu-item>\n  </o-context-menu-group>\n  <o-context-menu-separator [visible]="isVisibleSelectAll | async"></o-context-menu-separator>\n  <o-context-menu-item attr="select-all" [label]="table.isAllSelected() ? \'TABLE_CONTEXT_MENU.DESELECT_ALL\': \'TABLE_CONTEXT_MENU.SELECT_ALL\'"\n    icon="select_all" (execute)="table.isAllSelected() ? unSelectAll() : selectAll()" [visible]="isVisibleSelectAll | async"></o-context-menu-item>\n</o-context-menu>\n',changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:Rh}]}],wh.ctorParameters=function(){return[{type:c.Injector},{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]}]},wh.propDecorators={defaultContextMenu:[{type:c.ViewChild,args:["defaultContextMenu",{"static":!1}]}]},D([tt(),L("design:type",Boolean),L("design:paramtypes",[Boolean])],wh.prototype,"showSelectAll",null),wh);function wh(t,e){this.injector=t,this.table=e,this.isVisibleInsert=new u.BehaviorSubject(!0),this.isVisibleEdit=new u.BehaviorSubject(!0),this.isVisibleDetail=new u.BehaviorSubject(!0),this.isVisibleCopy=new u.BehaviorSubject(!0),this.isVisibleSelectAll=new u.BehaviorSubject(!0),this.isVisibleRefresh=new u.BehaviorSubject(!0),this.isVisibleDelete=new u.BehaviorSubject(!0),this.isVisibleFilter=new u.BehaviorSubject(!0),this.contextMenuSubscription=new u.Subscription,this.translateService=this.injector.get(Ae)}var Mh=(Nh.prototype.ngOnInit=function(){this.configurationList.selectedOptions=new f.SelectionModel(!1)},Nh.prototype.loadConfigurations=function(t){this.configurations=t},Nh.prototype.removeConfiguration=function(e){var n=this;this.dialogService.confirm("CONFIRM","TABLE.DIALOG.CONFIRM_REMOVE_CONFIGURATION").then(function(t){t&&n.onDelete.emit(e)})},Nh.prototype.isDefaultConfigurationSelected=function(){var t=this.configurationList.selectedOptions.selected;return(t.length?t[0].value:void 0)===this.default_configuration},Nh.prototype.getSelectedConfigurationName=function(){var t=this.configurationList.selectedOptions.selected;return t.length?t[0].value:void 0},Nh.decorators=[{type:c.Component,args:[{selector:"o-table-apply-configuration-dialog",template:'<span mat-dialog-title>{{ \'TABLE.BUTTONS.APPLY_CONFIGURATION\' | oTranslate }}</span>\n\n<mat-dialog-content fxLayout="column">\n  <div mat-subheader>{{ \'TABLE.DIALOG.APPLY_CONFIGURATION\' | oTranslate }}</div>\n  <mat-selection-list #configurationList dense class="o-table-apply-configuration-dialog-list">\n    <mat-list-option checkboxPosition="before" [value]="default_configuration">\n      <span matLine class="o-table-apply-configuration-dialog-list-title">{{ \'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT\' | oTranslate }}</span>\n      <span matLine>{{ \'TABLE.DIALOG.APPLY_CONFIGURATION_DEFAULT_DESCRIPTION\' | oTranslate }}</span>\n    </mat-list-option>\n    <mat-list-option checkboxPosition="before" *ngFor="let configuration of configurations; let i = index" [value]="configuration.name">\n      <span matLine>{{ configuration.name }}</span>\n      <span matLine>{{ configuration.description }}</span>\n    </mat-list-option>\n  </mat-selection-list>\n</mat-dialog-content>\n\n<mat-dialog-actions align="end">\n  <button type="button" mat-stroked-button [disabled]="configurationList.selectedOptions.selected.length!==1 || isDefaultConfigurationSelected()"\n    (click)="removeConfiguration(configurationList.selectedOptions.selected[0].value)">\n    {{ \'DELETE\' | oTranslate | uppercase }}\n  </button>\n  <span fxFlex></span>\n  <button type="button" mat-stroked-button [mat-dialog-close]="false">{{ \'CANCEL\' | oTranslate | uppercase }}</button>\n  <button type="button" mat-stroked-button [mat-dialog-close]="true"\n    [disabled]="configurationList.selectedOptions.selected.length!==1">{{ \'OK\' | oTranslate | uppercase }}</button>\n</mat-dialog-actions>\n',styles:[""]}]}],Nh.ctorParameters=function(){return[{type:d.MatDialogRef},{type:Array,decorators:[{type:c.Inject,args:[d.MAT_DIALOG_DATA]}]},{type:c.Injector}]},Nh.propDecorators={configurationList:[{type:c.ViewChild,args:[d.MatSelectionList,{"static":!0}]}]},Nh);function Nh(t,e,n){this.dialogRef=t,this.injector=n,this.default_configuration="OTableApplyConfigurationDialogComponent-default",this.configurations=[],this.onDelete=new c.EventEmitter,this.loadConfigurations(e),this.dialogService=this.injector.get(ot)}var Ph=(Fh.decorators=[{type:c.Injectable}],Fh);function Fh(){this.export$=new u.Subject}var kh=function(){},Bh=(Uh.prototype.ngOnInit=function(){this.initialize()},Uh.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},Uh.prototype.initialize=function(){var e=this;this.configureService(),this.subscription.add(this.oTableExportButtonService.export$.pipe(l.filter(function(t){return-1===["xlsx","html","pdf"].indexOf(t)})).subscribe(function(t){return e["export"](t)}))},Uh.prototype.configureService=function(){var t=se;this.config.serviceType&&(t=this.config.serviceType),this.exportService=this.injector.get(t);t=this.exportService.getDefaultServiceConfiguration(this.config.service);this.exportService.configureService(t,P.EXPORT_MODE_ALL===this.config.mode)},Uh.prototype["export"]=function(t,e){var n=this;e&&(e.disabled=!0);e={data:this.config.data,columns:this.config.columns,columnNames:this.config.columnNames,sqlTypes:this.config.sqlTypes,filter:this.config.filter};this.proccessExportData(e.data,e.sqlTypes),this.dialogRef.close(!0),this.exportService.exportData(e,t,this.config.entity).subscribe(function(t){n.snackBarService.open("MESSAGES.SUCCESS_EXPORT_TABLE_DATA",{icon:"check_circle"})},function(t){n.handleError(t)})},Uh.prototype.proccessExportData=function(t,i){var r=this;Object.keys(i).forEach(function(e){var n,o;at.BOOLEAN===i[e]&&(n=r.translateService.get("YES"),o=r.translateService.get("NO"),t.forEach(function(t){t[e]&&(t[e]=k.parseBoolean(t[e])?n:o)}))})},Uh.prototype.isButtonVisible=function(t){return!this.visibleButtons||-1!==this.visibleButtons.indexOf(t)},Uh.prototype.handleError=function(t){t instanceof s.HttpErrorResponse?this.snackBarService.open(t.message,{icon:"error"}):this.snackBarService.open("MESSAGES.ERROR_EXPORT_TABLE_DATA",{icon:"error"})},Uh.decorators=[{type:c.Component,args:[{selector:"o-table-export-dialog",template:'<span mat-dialog-title>{{ \'TABLE.BUTTONS.EXPORT\' | oTranslate }}</span>\n<mat-dialog-content>\n  <div mat-subheader>{{ \'TABLE.DIALOG.EXPORT.DESCRIPTION\' | oTranslate }}</div>\n  <div fxLayout="row wrap" fxLayoutAlign="space-around center" fxLayoutGap="8px">\n    <o-table-export-button #excelButton *ngIf="isButtonVisible(\'excel\')" svg-icon="ontimize:EXCEL" label="TABLE.BUTTONS.EXCEL" export-type="xlsx"\n      (onClick)="export(\'xlsx\', excelButton)" class="excel-button"></o-table-export-button>\n    <o-table-export-button #htmlButton *ngIf="isButtonVisible(\'html\')" svg-icon="ontimize:HTML" label="TABLE.BUTTONS.HTML" export-type="html"\n      (onClick)="export(\'html\', htmlButton)" class="html-button"></o-table-export-button>\n    <o-table-export-button #pdfButton *ngIf="isButtonVisible(\'pdf\')" svg-icon="ontimize:PDF" label="TABLE.BUTTONS.PDF" export-type="pdf"\n      (onClick)="export(\'pdf\', pdfButton)" class="pdf-button"></o-table-export-button>\n    <ng-container *ngTemplateOutlet="config.options"></ng-container>\n  </div>\n</mat-dialog-content>\n\n<mat-dialog-actions fxLayoutAlign="end center">\n  <button type="button" mat-stroked-button [mat-dialog-close]="false">{{ \'CANCEL\' | oTranslate | uppercase }}</button>\n</mat-dialog-actions>\n',providers:[Te],changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"class":"o-table-export-dialog"},encapsulation:c.ViewEncapsulation.None,styles:[".o-table-export-dialog .mat-icon{padding:6px 6px 0;width:48px;height:48px;font-size:48px}"]}]}],Uh.ctorParameters=function(){return[{type:d.MatDialogRef},{type:c.Injector},{type:kh,decorators:[{type:c.Inject,args:[d.MAT_DIALOG_DATA]}]}]},Uh);function Uh(t,e,n){this.dialogRef=t,this.injector=e,this.config=n,this.subscription=new u.Subscription,this.snackBarService=e.get(Jt),this.translateService=this.injector.get(Ae),this.oTableExportButtonService=this.injector.get(Ph),n&&k.isDefined(n.visibleButtons)&&(this.visibleButtons=k.parseArray(n.visibleButtons.toLowerCase(),!0))}var Vh=(jh.prototype.ngOnInit=function(){this.filterList.selectedOptions=new f.SelectionModel(!1)},jh.prototype.loadFilters=function(t){this.filters=t},jh.prototype.getSelectedFilterName=function(){var t=this.filterList.selectedOptions.selected;return t.length?t[0].value:void 0},jh.prototype.removeFilter=function(e){var n=this;this.dialogService.confirm("CONFIRM","TABLE.DIALOG.CONFIRM_REMOVE_FILTER").then(function(t){t&&(n.onDelete.emit(e),n.cd.detectChanges())})},jh.decorators=[{type:c.Component,args:[{selector:"o-table-load-filter-dialog",template:'<span mat-dialog-title>{{ \'TABLE.BUTTONS.FILTER_LOAD\' | oTranslate }}</span>\n<mat-dialog-content fxLayout="column">\n  <div mat-subheader>{{ \'TABLE.DIALOG.LOAD_FILTER\' | oTranslate }}</div>\n  <mat-selection-list #filterList dense class="o-table-load-filter-dialog-list">\n    <mat-list-option *ngFor="let filter of filters " [value]="filter.name" checkboxPosition="before">\n      <span matLine class="o-table-load-filter-dialog-list-title">{{ filter.name }}</span>\n      <span matLine>{{ filter.description }}</span>\n    </mat-list-option>\n    <mat-list-item *ngIf="filters.length === 0">\n      <span class="empty-filter-list">{{ \'TABLE.DIALOG.EMPTY_FILTER_LIST\' | oTranslate }}</span>\n    </mat-list-item>\n  </mat-selection-list>\n</mat-dialog-content>\n\n<mat-dialog-actions align="end">\n  <button type="button" mat-stroked-button [disabled]="filterList.selectedOptions.selected.length!==1"\n    (click)="removeFilter(filterList.selectedOptions.selected[0].value)">{{ \'DELETE\' | oTranslate | uppercase }}</button>\n  <span fxFlex></span>\n  <button type="button" mat-stroked-button [mat-dialog-close]="false">{{ \'CANCEL\' | oTranslate | uppercase }}</button>\n  <button type="button" mat-stroked-button [mat-dialog-close]="true"\n    [disabled]="filterList.selectedOptions.selected.length!==1">{{ \'TABLE.BUTTONS.APPLY\' | oTranslate | uppercase }}</button>\n</mat-dialog-actions>\n',changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[""]}]}],jh.ctorParameters=function(){return[{type:d.MatDialogRef},{type:Array,decorators:[{type:c.Inject,args:[d.MAT_DIALOG_DATA]}]},{type:c.Injector}]},jh.propDecorators={filterList:[{type:c.ViewChild,args:[d.MatSelectionList,{"static":!0}]}]},jh);function jh(t,e,n){this.dialogRef=t,this.injector=n,this.filters=[],this.onDelete=new c.EventEmitter,this.loadFilters(e),this.dialogService=this.injector.get(ot);try{this.cd=this.injector.get(c.ChangeDetectorRef)}catch(o){}}var Gh=(qh.prototype.setFormControl=function(t){this.formControl=t},Object.defineProperty(qh.prototype,"tooltipClass",{get:function(){var t;return t=this.errorOptions.type===P.O_MAT_ERROR_LITE&&k.isDefined(this.formControl)&&this.formControlHasErrors()?"o-tooltip o-mat-error":t},enumerable:!0,configurable:!0}),Object.defineProperty(qh.prototype,"tooltipText",{get:function(){var e;return this.errorOptions.type===P.O_MAT_ERROR_LITE&&this.formControlHasErrors()&&this.oMatErrorChildren&&0<this.oMatErrorChildren.length&&(e="",this.oMatErrorChildren.forEach(function(t){e+=t.text+"\n"})),e},enumerable:!0,configurable:!0}),qh.prototype.formControlHasErrors=function(){return k.isDefined(this.formControl)&&this.formControl.touched&&k.isDefined(this.formControl.errors)},qh.propDecorators={oMatErrorChildren:[{type:c.ViewChildren,args:[Vt]}]},qh);function qh(t){this.injector=t;try{this.errorOptions=this.injector.get(Bt)||{}}catch(e){this.errorOptions={}}}var Hh,Yh=(_(zh,Hh=Gh),zh.prototype.ngAfterViewInit=function(){this.propertiesList.selectAll()},zh.prototype.areAllSelected=function(){return this.propertiesList&&this.propertiesList.options&&this.propertiesList.options.length===this.propertiesList.selectedOptions.selected.length},zh.prototype.onSelectAllChange=function(t){t.checked?this.propertiesList.selectAll():this.propertiesList.deselectAll()},zh.prototype.getConfigurationAttributes=function(){return this.formGroup.value},zh.prototype.getSelectedTableProperties=function(){var t=this.propertiesList.selectedOptions.selected;return t.length?t.map(function(t){return t.value}):[]},zh.prototype.isIndeterminate=function(){return!this.areAllSelected()},zh.decorators=[{type:c.Component,args:[{selector:"o-table-store-configuration-dialog",template:'<span mat-dialog-title>{{ \'TABLE.BUTTONS.SAVE_CONFIGURATION\' | oTranslate }}</span>\n\n<mat-dialog-content>\n  <div mat-subheader>{{ \'TABLE.DIALOG.SAVE_CONFIGURATION\' | oTranslate }}</div>\n  <form #form [formGroup]="formGroup" fxLayout="column">\n    <mat-form-field>\n      <input matInput [matTooltip]="tooltipText" [matTooltipClass]="tooltipClass" placeholder="{{ \'TABLE.DIALOG.CONFIGURATION_NAME\' | oTranslate }}"\n        formControlName="name" required>\n      <mat-error *ngIf="formGroup.controls[\'name\'].hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    </mat-form-field>\n    <mat-form-field class="example-full-width">\n      <textarea matInput placeholder="{{ \'TABLE.DIALOG.CONFIGURATION_DESCRIPTION\' | oTranslate }}" formControlName="description" rows="4"\n        cols="50"></textarea>\n    </mat-form-field>\n    <div class="inner-subheader" mat-subheader>{{ \'TABLE.DIALOG.CONFIGURATION_PROPERTIES\' | oTranslate }}</div>\n    <div fxLayout="column">\n      <mat-checkbox (change)="onSelectAllChange($event)" [checked]="areAllSelected()" [indeterminate]="isIndeterminate()" class="select-all-checkbox">\n        {{ \'SELECT_ALL\' | oTranslate }}\n      </mat-checkbox>\n\n      <mat-selection-list #propertiesList dense class="o-table-save-configuration-dialog-list o-scroll">\n        <mat-list-option checkboxPosition="before" *ngFor="let property of properties" [value]="property.property">\n          <div fxLayout="row" fxLayoutAlign="center center">\n            <span matLine fxFlex>{{ property.name | oTranslate }}</span>\n            <mat-icon *ngIf="property.info" matTooltip="{{ property.info | oTranslate }}" class="o-tscd-list-tooltip">info</mat-icon>\n          </div>\n        </mat-list-option>\n      </mat-selection-list>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions align="end">\n  <button type="button" mat-stroked-button class="mat-primary" [mat-dialog-close]="false">{{ \'CANCEL\' | oTranslate | uppercase }}</button>\n  <button type="button" mat-stroked-button class="mat-primary" [mat-dialog-close]="true"\n    [disabled]="!formGroup.valid || propertiesList.selectedOptions.selected.length===0">{{ \'SAVE\' | oTranslate | uppercase }}</button>\n</mat-dialog-actions>\n',changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[".select-all-checkbox{padding:6px 0}.o-table-save-configuration-dialog-list{max-height:120px;overflow-y:scroll}.o-table-save-configuration-dialog-list .mat-list-item{height:30px}.o-table-save-configuration-dialog-list .mat-list-item .o-tscd-list-tooltip.mat-icon{opacity:.25}"]}]}],zh.ctorParameters=function(){return[{type:d.MatDialogRef},{type:c.Injector}]},zh.propDecorators={propertiesList:[{type:c.ViewChild,args:["propertiesList",{"static":!1}]}]},zh);function zh(t,e){var n=Hh.call(this,e)||this;return n.dialogRef=t,n.injector=e,n.properties=[{property:"sort",name:"TABLE.DIALOG.PROPERTIES.SORT",info:"TABLE.DIALOG.PROPERTIES.SORT.INFO"},{property:"columns-display",name:"TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY",info:"TABLE.DIALOG.PROPERTIES.COLUMNS_DISPLAY.INFO"},{property:"quick-filter",name:"TABLE.DIALOG.PROPERTIES.QUICK_FILTER",info:"TABLE.DIALOG.PROPERTIES.QUICK_FILTER.INFO"},{property:"columns-filter",name:"TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER",info:"TABLE.DIALOG.PROPERTIES.COLUMNS_FILTER.INFO"},{property:"page",name:"TABLE.DIALOG.PROPERTIES.PAGE",info:"TABLE.DIALOG.PROPERTIES.PAGE.INFO"}],n.formGroup=new i.FormGroup({name:new i.FormControl("",[i.Validators.required]),description:new i.FormControl("")}),n.setFormControl(n.formGroup.get("name")),n}var Kh,Wh=(_(Qh,Kh=Gh),Qh.prototype.loadFilterNames=function(t){this.filterNames=t},Qh.prototype.getFilterAttributes=function(){return this.formGroup.value},Qh.prototype.filterNameValidator=function(t){t=t.value;return-1!==this.filterNames.indexOf(t)?{filterNameAlreadyExists:!0}:{}},Qh.decorators=[{type:c.Component,args:[{selector:"o-table-store-filter-dialog",template:'<span mat-dialog-title>{{ \'TABLE.BUTTONS.SAVE_FILTER\' | oTranslate }}</span>\n\n<mat-dialog-content>\n  <div mat-subheader>{{ \'TABLE.DIALOG.SAVE_FILTER\' | oTranslate }}</div>\n  <form #form [formGroup]="formGroup" fxLayout="column">\n    <mat-form-field>\n      <input matInput [matTooltip]="tooltipText" [matTooltipClass]="tooltipClass" placeholder="{{ \'TABLE.DIALOG.FILTER_NAME\' | oTranslate }}"\n        formControlName="name" required>\n      <mat-error *ngIf="formGroup.controls[\'name\'].hasError(\'filterNameAlreadyExists\')"\n        text="{{ \'TABLE.DIALOG.FILTER_NAME_ALREADY_EXISTS\' | oTranslate }}"></mat-error>\n      <mat-error *ngIf="formGroup.controls[\'name\'].hasError(\'required\')" text="{{ \'FORM_VALIDATION.REQUIRED\' | oTranslate }}"></mat-error>\n    </mat-form-field>\n    <mat-form-field class="example-full-width">\n      <textarea matInput placeholder="{{ \'TABLE.DIALOG.FILTER_DESCRIPTION\' | oTranslate }}" formControlName="description" rows="4"\n        cols="50"></textarea>\n    </mat-form-field>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions align="end">\n  <button type="button" mat-stroked-button [mat-dialog-close]="false">{{ \'CANCEL\' | oTranslate | uppercase }}</button>\n  <button type="button" mat-stroked-button [mat-dialog-close]="true" [disabled]="!formGroup.valid">{{\'SAVE\' | oTranslate | uppercase }}</button>\n</mat-dialog-actions>\n',changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[""]}]}],Qh.ctorParameters=function(){return[{type:d.MatDialogRef},{type:c.Injector},{type:Array,decorators:[{type:c.Inject,args:[d.MAT_DIALOG_DATA]}]}]},Qh);function Qh(t,e,n){var o=Kh.call(this,e)||this;return o.dialogRef=t,o.injector=e,o.filterNames=[],o.formGroup=new i.FormGroup({name:new i.FormControl("",[i.Validators.required,o.filterNameValidator.bind(o)]),description:new i.FormControl("")}),o.setFormControl(o.formGroup.get("name")),o.loadFilterNames(n),o}var Xh=($h.prototype.getVisibleColumns=function(){return this.columns.filter(function(t){return t.visible}).map(function(t){return t.attr})},$h.prototype.getColumnsOrder=function(){return this.columns.map(function(t){return t.attr})},$h.prototype.onClickColumn=function(t){t.visible=!t.visible},$h.prototype.drop=function(t){E.moveItemInArray(this.columns,t.previousIndex,t.currentIndex)},$h.decorators=[{type:c.Component,args:[{selector:"o-table-visible-columns-dialog",template:'<span mat-dialog-title>{{ \'TABLE.BUTTONS.COLVIS\' | oTranslate }}</span>\n\n<mat-dialog-content>\n  <div cdkDropList (cdkDropListDropped)="drop($event)" [ngClass]="rowHeight">\n    <mat-list *ngFor="let column of columns" cdkDrag>\n      <mat-list-item *ngIf="column.showInList" (click)="onClickColumn(column)">\n        <mat-icon mat-list-icon svgIcon="ontimize:drag_handle"></mat-icon>\n        <span mat-line>{{ (column.title || column.attr) | oTranslate }}</span>\n        <mat-icon *ngIf="column.visible" svgIcon="ontimize:visibility"></mat-icon>\n        <mat-icon *ngIf="!column.visible" svgIcon="ontimize:visibility_off"></mat-icon>\n      </mat-list-item>\n    </mat-list>\n  </div>\n</mat-dialog-content>\n\n<mat-dialog-actions fxLayoutAlign="end center">\n  <button type="button" mat-stroked-button [mat-dialog-close]="false">{{ \'CANCEL\' | oTranslate | uppercase }}</button>\n  <button type="button" mat-stroked-button [mat-dialog-close]="true">{{ \'ACCEPT\' | oTranslate | uppercase }}</button>\n</mat-dialog-actions>',encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class.o-table-visible-columns-dialog]":"true"},styles:['.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content{overflow:auto;padding-top:0;margin-top:24px}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .cdk-drag-preview,.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .mat-list-item{cursor:pointer;height:auto}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .cdk-drag-preview .mat-list-item-content,.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .mat-list-item .mat-list-item-content{padding:0}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .cdk-drag-preview .mat-list-item-content div.mat-list-text,.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-list .mat-list-item .mat-list-item-content div.mat-list-text{padding:0 8px}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-icon[svgicon="ontimize:drag_handle"]{cursor:move}.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-icon[svgicon="ontimize:visibility"],.o-table-visible-columns-dialog .mat-dialog-content.mat-dialog-content .mat-icon[svgicon="ontimize:visibility_off"]{width:32px}']}]}],$h.ctorParameters=function(){return[{type:c.Injector},{type:d.MatDialogRef},{type:undefined,decorators:[{type:c.Inject,args:[d.MAT_DIALOG_DATA]}]}]},$h);function $h(t,e,n){var o=this;this.injector=t,this.dialogRef=e,this.columns=[],this.rowHeight=P.DEFAULT_ROW_HEIGHT;try{this.cd=this.injector.get(c.ChangeDetectorRef)}catch(i){}k.isArray(n.columnsData)&&k.isArray(n.visibleColumns)&&n.columnsData.forEach(function(t){o.columns.push({attr:t.attr,title:t.title,visible:t.visible,showInList:-1!==n.visibleColumns.indexOf(t.attr)||t.definition!==undefined})}),k.isDefined(n.rowHeight)&&(this.rowHeight=n.rowHeight)}var Zh=[Mh,Bh,Yh,Vh,Wh,Xh,Ju],Jh=["icon","svgIcon : svg-icon","olabel: label","exportType: export-type"],tm=["onClick"],em=(nm.prototype.click=function(){this.onClick.emit(this.exportType),this.oTableExportButtonService.export$.next(this.exportType)},nm.decorators=[{type:c.Component,args:[{selector:"o-table-export-button",template:'<button type="button" mat-raised-button (click)="click()">\n  <div fxLayout="column" fxLayoutAlign="center center">\n    <mat-icon class="material-icons o-button-icon" *ngIf="icon!==undefined" style="vertical-align:middle">{{ icon }}</mat-icon>\n    <mat-icon class="material-icons o-button-icon" *ngIf="svgIcon!==undefined" style="vertical-align:middle" [svgIcon]="svgIcon"></mat-icon>\n    <span>{{ olabel | oTranslate }}</span>\n  </div>\n</button>\n',inputs:Jh,outputs:tm}]}],nm.ctorParameters=function(){return[{type:c.Injector}]},nm);function nm(t){this.injector=t,this.onClick=new c.EventEmitter,this.oTableExportButtonService=this.injector.get(Ph)}var om=["attr","title","aggregate","functionAggregate: function-aggregate"],im=(Object.defineProperty(rm.prototype,"functionAggregate",{get:function(){return this._aggregateFunction},set:function(t){this._aggregateFunction=t},enumerable:!0,configurable:!0}),rm.prototype.getColumnData=function(t){var e=[];return e=this.table.dataSource?this.table.dataSource.getColumnData(t):e},rm.prototype.ngOnInit=function(){var t,e=this;this.attr&&((t={}).attr=this.attr,this.title&&(t.title=this.title),t.operator=this.aggregate||this.functionAggregate||rm.DEFAULT_AGGREGATE,this.table.registerColumnAggregate(t),this.subscription.add(this.table.onReinitialize.subscribe(function(){return e.table.registerColumnAggregate(t)})))},rm.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},rm.DEFAULT_AGGREGATE="SUM",rm.decorators=[{type:c.Component,args:[{selector:"o-table-column-aggregate",template:" \x3c!--{{ functionAggregate(getColumnData(attr)) }}--\x3e",changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:om}]}],rm.ctorParameters=function(){return[{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]},{type:c.Injector}]},rm);function rm(t,e){this.injector=e,this.title="",this.subscription=new u.Subscription,this.table=t}var am=(sm.prototype.ngAfterViewInit=function(){this.element.nativeElement.childNodes[2]&&(this.tableBody=this.element.nativeElement.childNodes[1],this.tableHeader=this.element.nativeElement.childNodes[0]),this.registerContentChange(),this.registerVisibleColumnsChange()},sm.prototype.registerContentChange=function(){var t=this.renderer.createElement("tr");this.tdTableWithMessage=this.renderer.createElement("td"),this.renderer.addClass(t,"o-table-no-results"),t.appendChild(this.tdTableWithMessage),this.renderer.appendChild(this.tableBody,t);var e=this;this.onContentChangeSubscription=this.table.onContentChange.subscribe(function(t){e.updateMessageNotResults(t),e.table.cd.detectChanges()})},sm.prototype.registerVisibleColumnsChange=function(){var t=this;this.onVisibleColumnsChangeSubscription=this.table.onVisibleColumnsChange.subscribe(function(){t.updateColspanTd()})},sm.prototype.updateMessageNotResults=function(t){this.spanMessageNotResults&&this.renderer.removeChild(this.element.nativeElement,this.spanMessageNotResults),0===t.length&&(t="",t=this.translateService.get("TABLE.EMPTY"),this.table.quickFilter&&this.table.oTableQuickFilterComponent&&this.table.oTableQuickFilterComponent.value&&0<this.table.oTableQuickFilterComponent.value.length&&(t+=this.translateService.get("TABLE.EMPTY_USING_FILTER",[this.table.oTableQuickFilterComponent.value])),this.spanMessageNotResults=this.renderer.createElement("span"),t=this.renderer.createText(t),this.tdTableWithMessage.setAttribute("colspan",this.tableHeader.querySelectorAll("th").length),this.renderer.appendChild(this.spanMessageNotResults,t),this.renderer.appendChild(this.tdTableWithMessage,this.spanMessageNotResults))},sm.prototype.updateColspanTd=function(){this.tdTableWithMessage&&this.tdTableWithMessage.setAttribute("colspan",this.tableHeader.querySelectorAll("th").length)},sm.prototype.destroy=function(){this.onContentChangeSubscription&&this.onContentChangeSubscription.unsubscribe(),this.onVisibleColumnsChangeSubscription&&this.onVisibleColumnsChangeSubscription.unsubscribe()},sm.decorators=[{type:c.Directive,args:[{selector:"[oTableExpandedFooter]"}]}],sm.ctorParameters=function(){return[{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]},{type:c.ElementRef},{type:c.Renderer2},{type:c.Injector}]},sm);function sm(t,e,n,o){this.table=t,this.element=e,this.renderer=n,this.injector=o,this.translateService=this.injector.get(Ae)}var lm,cm=["pageSize: page-size","showFirstLastButtons: show-first-last-buttons"],um=(_(pm,lm=ep),pm.prototype.ngOnInit=function(){this.table.registerPagination(this)},Object.defineProperty(pm.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(t){this._pageIndex=t,this.table.matpaginator&&(this.table.matpaginator.pageIndex=this._pageIndex)},enumerable:!0,configurable:!0}),pm.prototype.isShowingAllRows=function(t){return!1},pm.decorators=[{type:c.Component,args:[{selector:"o-table-paginator",template:" ",inputs:cm,changeDetection:c.ChangeDetectionStrategy.OnPush}]}],pm.ctorParameters=function(){return[{type:c.Injector},{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]}]},D([tt(),L("design:type",Boolean)],pm.prototype,"showFirstLastButtons",void 0),pm);function pm(t,e){var n=lm.call(this)||this;return n.injector=t,n.table=e,n._pageIndex=0,n._pageSize=10,n.showFirstLastButtons=!0,n.pageSize=n.table.queryRows,n.pageIndex=n.table.currentPage,n.showFirstLastButtons=n.table.showPaginatorFirstLastButtons,n}var dm,hm=[um,im],mm=(_(fm,dm=d.MatPaginatorIntl),fm.prototype.getORangeLabel=function(t,e,n){if(!isNaN(e)&&(0===n||0===e))return"0  "+this.translateService.get("TABLE.PAGINATE.RANGE_LABEL")+" "+n;var o=t*e,t=o<(n=Math.max(n,0))?Math.min(o+e,n):o+e;return isNaN(e)&&(o=0,t=n),o+1+" - "+t+"  "+this.translateService.get("TABLE.PAGINATE.RANGE_LABEL")+" "+n},fm.decorators=[{type:c.Injectable}],fm.ctorParameters=function(){return[{type:c.Injector}]},fm);function fm(t){var e=dm.call(this)||this;return e.injector=t,e.translateService=e.injector.get(Ae),e.itemsPerPageLabel=e.translateService.get("TABLE.PAGINATE.ITEMSPERPAGELABEL"),e.nextPageLabel=e.translateService.get("TABLE.PAGINATE.NEXT"),e.previousPageLabel=e.translateService.get("TABLE.PAGINATE.PREVIOUS"),e.firstPageLabel=e.translateService.get("TABLE.PAGINATE.FIRST"),e.lastPageLabel=e.translateService.get("TABLE.PAGINATE.LAST"),e.getRangeLabel=e.getORangeLabel,e.onLanguageChangeSubscribe=e.translateService.onLanguageChanged.subscribe(function(t){e.itemsPerPageLabel=e.translateService.get("TABLE.PAGINATE.ITEMSPERPAGELABEL"),e.nextPageLabel=e.translateService.get("TABLE.PAGINATE.NEXT"),e.previousPageLabel=e.translateService.get("TABLE.PAGINATE.PREVIOUS"),e.firstPageLabel=e.translateService.get("TABLE.PAGINATE.FIRST"),e.lastPageLabel=e.translateService.get("TABLE.PAGINATE.LAST"),e.getRangeLabel=e.getORangeLabel,e.changes.next()}),e}var gm=["oattr: attr","enabled","icon","svgIcon: svg-icon","iconPosition: icon-position","olabel: label"],ym=["onClick"],bm=(vm.prototype.ngOnInit=function(){k.isDefined(this.icon)||k.isDefined(this.svgIcon)||(this.icon="priority_high"),this.iconPosition=k.parseIconPosition(this.iconPosition)},vm.prototype.innerOnClick=function(t){t.stopPropagation(),this.onClick.emit()},vm.prototype.isIconPositionLeft=function(){return this.iconPosition===P.ICON_POSITION_LEFT},Object.defineProperty(vm.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),vm.decorators=[{type:c.Component,args:[{selector:"o-table-button",template:'<ng-container *ngIf="table.showButtonsText">\n  <button type="button" [disabled]="!enabled" [class.disabled]="!enabled" mat-stroked-button (click)="innerOnClick($event)">\n    <mat-icon *ngIf="isIconPositionLeft() && svgIcon !== undefined" [svgIcon]="svgIcon"></mat-icon>\n    <mat-icon *ngIf="isIconPositionLeft() && svgIcon === undefined">{{ icon }}</mat-icon>\n    <span>{{ olabel | oTranslate }}</span>\n    <mat-icon *ngIf="!isIconPositionLeft() && svgIcon !== undefined" [svgIcon]="svgIcon"></mat-icon>\n    <mat-icon *ngIf="!isIconPositionLeft() && svgIcon === undefined">{{ icon }}</mat-icon>\n  </button>\n</ng-container>\n\n<ng-container *ngIf="!table.showButtonsText">\n  <button type="button" [disabled]="!enabled" [class.disabled]="!enabled" mat-icon-button (click)="innerOnClick($event)">\n    <mat-icon *ngIf="isIconPositionLeft() && svgIcon !== undefined" [svgIcon]="svgIcon"></mat-icon>\n    <mat-icon *ngIf="isIconPositionLeft() && svgIcon === undefined">{{ icon }}</mat-icon>\n    <mat-icon *ngIf="!isIconPositionLeft() && svgIcon !== undefined" [svgIcon]="svgIcon"></mat-icon>\n    <mat-icon *ngIf="!isIconPositionLeft() && svgIcon === undefined">{{ icon }}</mat-icon>\n  </button>\n</ng-container>\n',inputs:gm,outputs:ym,encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class.o-table-button]":"true"},styles:[".o-table-button{margin:0 8px}.o-table-button .mat-stroked-button{padding:0 6px;line-height:30px}.o-table-button .mat-stroked-button .mat-button-wrapper{display:flex;align-items:center}.o-table-button .mat-stroked-button .mat-button-wrapper .mat-icon{margin-right:4px}.o-table-button .mat-stroked-button .mat-button-wrapper span{flex:1}"]}]}],vm.ctorParameters=function(){return[{type:c.Injector},{type:c.ElementRef},{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]}]},D([tt(),L("design:type",Boolean)],vm.prototype,"enabled",void 0),vm);function vm(t,e,n){this.injector=t,this.elRef=e,this._table=n,this.onClick=new c.EventEmitter,this.enabled=!0}var Em=["insertButton: insert-button","refreshButton: refresh-button","deleteButton: delete-button"],Cm=[],Tm=(Im.prototype.ngOnInit=function(){var t=this,e=this.getPermissionByAttr("insert"),n=this.getPermissionByAttr("refresh"),o=this.getPermissionByAttr("delete");this.insertButton&&e&&!1===e.enabled&&this.enabledInsertButton.next(!1),this.refreshButton&&n&&!1===n.enabled&&this.enabledRefreshButton.next(!1),this.subscription=this.table.selection.changed.subscribe(function(){return o?t.enabledDeleteButton.next(o.enabled&&!t.table.selection.isEmpty()):t.enabledDeleteButton.next(!t.table.selection.isEmpty())}),this.table.registerOTableButtons(this)},Im.prototype.ngOnDestroy=function(){this.mutationObservers&&this.mutationObservers.forEach(function(t){t.disconnect()}),this.subscription&&this.subscription.unsubscribe()},Im.prototype.add=function(){this.table.add()},Im.prototype.reloadData=function(){this.table.reloadData()},Im.prototype.remove=function(){this.table.remove()},Im.prototype.getPermissionByAttr=function(e){return this.permissions.find(function(t){return t.attr===e})},Im.prototype.registerButtons=function(n){var e=["insert","refresh","delete"],t=this.permissions.filter(function(t){return-1===e.indexOf(t.attr)}),o=this;t.forEach(function(e){var t=n.find(function(t){return t.oattr===e.attr});o.setPermissionsToOTableButton(e,t)})},Object.defineProperty(Im.prototype,"showInsertOButton",{get:function(){if(!this.insertButton)return!1;var t=this.getPermissionByAttr("insert");return!(t&&!1===t.visible)},enumerable:!0,configurable:!0}),Object.defineProperty(Im.prototype,"showRefreshOButton",{get:function(){if(!this.refreshButton)return!1;var t=this.getPermissionByAttr("refresh");return!(t&&!1===t.visible)},enumerable:!0,configurable:!0}),Object.defineProperty(Im.prototype,"showDeleteOButton",{get:function(){if(!this.deleteButton)return!1;var t=this.getPermissionByAttr("delete");return!(t&&!1===t.visible)},enumerable:!0,configurable:!0}),Im.prototype.setPermissionsToOTableButton=function(t,e){!1===t.visible&&e?e.elRef.nativeElement.remove():!1===t.enabled&&e&&(e.enabled=!1,e=e.elRef.nativeElement.querySelector("button"),e=Gt.registerDisabledChangesInDom(e),this.mutationObservers.push(e))},Im.decorators=[{type:c.Component,args:[{selector:"o-table-buttons",template:'<div class="buttons" fxLayout>\n  <o-table-button *ngIf="showInsertOButton" [enabled]="enabledInsertButton | async" label="TABLE.BUTTONS.ADD"\n    svg-icon="ontimize:add" (onClick)="add()" class="o-table-button-add"></o-table-button>\n  <o-table-button *ngIf="showRefreshOButton" [enabled]="enabledRefreshButton | async" label="TABLE.BUTTONS.REFRESH"\n    svg-icon="ontimize:autorenew" (onClick)="reloadData()" class="o-table-button-refresh">\n  </o-table-button>\n  <o-table-button *ngIf="showDeleteOButton" [enabled]="enabledDeleteButton | async" label="TABLE.BUTTONS.DELETE"\n    svg-icon="ontimize:delete" (onClick)="remove()" class="o-table-button-delete"></o-table-button>\n  <ng-content></ng-content>\n</div>',inputs:Em,outputs:Cm,encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class.o-table-buttons]":"true"},styles:[""]}]}],Im.ctorParameters=function(){return[{type:c.Injector},{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]}]},D([tt(),L("design:type",Boolean)],Im.prototype,"insertButton",void 0),D([tt(),L("design:type",Boolean)],Im.prototype,"refreshButton",void 0),D([tt(),L("design:type",Boolean)],Im.prototype,"deleteButton",void 0),Im);function Im(t,e){this.injector=t,this.table=e,this.insertButton=!0,this.refreshButton=!0,this.deleteButton=!0,this.enabledInsertButton=new u.BehaviorSubject(!0),this.enabledRefreshButton=new u.BehaviorSubject(!0),this.enabledDeleteButton=new u.BehaviorSubject(!1),this.mutationObservers=[],this.permissions=this.table.getActionsPermissions()}var Om=["column"],Sm=[],Am=(_m.prototype.ngOnInit=function(){this.isDisabled||(this.headerEl=this.getHeaderEL(),this.headerEl&&(this.nextOColumns=this.getFollowingOColumns()))},_m.prototype.ngOnDestroy=function(){this.stopDragging()},_m.prototype.onClick=function(t){t.stopPropagation(),t.preventDefault()},Object.defineProperty(_m.prototype,"isDisabled",{get:function(){return this.column&&!this.column.resizable},enumerable:!0,configurable:!0}),_m.prototype.onMousedown=function(t){this.isDisabled||this.startResize(t)},_m.prototype.onMouseup=function(){this.isResizing=!1,this.stopDragging()},_m.prototype.stopDragging=function(){for(this.isResizing=!1,this.columnsStartWidth={};0<this.dragListeners.length;){var t=this.dragListeners.pop();t&&t()}},_m.prototype.startResize=function(t){var e,n=this;t.preventDefault(),t.stopPropagation(),k.isDefined(this.headerEl)&&(e=this.table.getClientWidthColumn(this.column),this.startX=t.screenX,this.startWidth=e,this.minWidth=this.column.getMinWidthValue(),this.initializeWidthData(),this.ngZone.runOutsideAngular(function(){n.dragListeners.push(n.renderer.listen("document","mouseup",function(t){return n.stopDragging()}))}),t instanceof MouseEvent&&(this.ngZone.runOutsideAngular(function(){n.dragListeners.push(n.renderer.listen("document","mousemove",function(t){return n.resizeEvent(t)}))}),this.isResizing=!0))},_m.prototype.resizeEvent=function(t){var e,n,o;this.isResizing&&t instanceof MouseEvent&&(0!=(e=t.screenX-this.startX)&&(o=(n=this.startWidth+e)<this.minWidth,t=n>this.maxWidth,o||t||(this.table.horizontalScroll?this.column.setWidth(n):(this.calculateNewColumnsWidth(e,n),this.updateBlockedCols()),this.table.cd.detectChanges())))},_m.prototype.getHeaderEL=function(){for(var t,e=this.elRef.nativeElement.parentElement;!t&&e;)"TH"===e.nodeName?t=e:e=e.parentElement;return e},_m.prototype.getFollowingOColumns=function(){for(var t=[],e=this.headerEl.nextSibling;e;){var n=this.table.getOColumnFromTh(e);k.isDefined(n)&&t.push(n),e=e.nextSibling}return t},_m.prototype.updateBlockedCols=function(){var o=this,i=this;this.blockedMinCols=[],this.blockedMaxCols=[],w([this.column],this.nextOColumns).forEach(function(t){var e=o.table.getClientWidthColumn(t);e<=t.getMinWidthValue()&&i.blockedMinCols.push(t.attr);var n=t.getMaxWidthValue();k.isDefined(n)&&n<=e&&i.blockedMaxCols.push(t.attr)})},_m.prototype.calculateNewColumnsWidth=function(t,e){0<t?this.calculateUsingNextColumnsRestrictions(t,e):this.calculateUsingOwnColumnRestriction(t,e)},_m.prototype.calculateUsingNextColumnsRestrictions=function(t,e){var o,i=this,n=this.nextOColumns.length-this.blockedMinCols.length;n<=0||(o=t/n,this.nextOColumns.filter(function(t){return-1===i.blockedMinCols.indexOf(t.attr)}).forEach(function(t){var e=i.columnsStartWidth[t.attr]-o,n=t.getMinWidthValue();e<=n&&(e=n,i.blockedMinCols.push(t.attr)),t.setWidth(e)}),this.column.setWidth(e))},_m.prototype.calculateUsingOwnColumnRestriction=function(t,e){var r=this,a=Math.abs(t)/this.nextOColumns.length,s=0;0<a&&this.blockedMaxCols.length<this.nextOColumns.length&&this.nextOColumns.filter(function(t){return-1===r.blockedMaxCols.indexOf(t.attr)}).forEach(function(t){var e,n=r.columnsStartWidth[t.attr]+a,o=t.getMaxWidthValue();o&&o<n&&(e=n-o,n=o,r.blockedMaxCols.push(t.attr),i=r.nextOColumns.length-r.blockedMaxCols.length,a+=0<i?Math.floor(e/i):0);var i=r.table.getClientWidthColumn(t);s+=n-i,t.setWidth(n)});e=Math.min(this.startWidth-s,e);this.column.setWidth(e)},_m.prototype.initializeWidthData=function(){var n=this,t=this.column.getMaxWidthValue(),o=0,i=0;this.nextOColumns.forEach(function(t){o+=t.getMinWidthValue();var e=n.table.getClientWidthColumn(t);i+=e,n.columnsStartWidth[t.attr]=e});var e=this.headerEl.clientWidth+(i-o),t=k.isDefined(t)?Math.min(t,e):e;this.maxWidth=t},_m.decorators=[{type:c.Component,args:[{selector:"o-table-column-resizer",inputs:Om,outputs:Sm,template:'<span class="resizer" (click)="onClick($event)"></span>',changeDetection:c.ChangeDetectionStrategy.OnPush,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-table-column-resizer]":"true","[class.disabled]":"isDisabled"},styles:[".o-table-column-resizer{display:inline-block;width:13px;position:absolute;right:0;top:6px;bottom:6px}.o-table-column-resizer:not(.disabled){cursor:col-resize}.o-table-column-resizer span{height:100%;width:1px;display:block;margin-left:auto;margin-right:auto}.o-table-column-resizer.disabled{cursor:default}"]}]}],_m.ctorParameters=function(){return[{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]},{type:c.ElementRef},{type:c.NgZone},{type:c.Renderer2}]},_m.propDecorators={onMousedown:[{type:c.HostListener,args:["mousedown",["$event"]]}]},D([tt(),L("design:type",Boolean)],_m.prototype,"disabled",void 0),_m);function _m(t,e,n,o){this.table=t,this.elRef=e,this.ngZone=n,this.renderer=o,this.disabled=!1,this.dragListeners=[],this.isResizing=!1,this.blockedMinCols=[],this.blockedMaxCols=[],this.columnsStartWidth={}}var Dm=["columns","requiredColumns : required-columns","position","showPlaceHolder: show-placeholder","includeParentKeys: include-parent-keys"],Lm=["onPostInsertRecord"],Rm=(xm.prototype.ngOnInit=function(){this.columnsArray=k.parseArray(this.columns,!0),0===this.columnsArray.length&&(this.columnsArray=this.table.oTableOptions.visibleColumns),this.requiredColumnsArray=k.parseArray(this.requiredColumns,!0),-1===xm.AVAILABLE_ROW_POSITIONS.indexOf((this.position||"").toLowerCase())&&(this.position=xm.DEFAULT_ROW_POSITION),this.table.setOTableInsertableRow(this)},xm.prototype.isFirstRow=function(){return"first"===this.position},xm.prototype.isColumnInsertable=function(t){return-1!==this.columnsArray.indexOf(t.attr)},xm.prototype.isColumnRequired=function(t){return-1!==this.requiredColumnsArray.indexOf(t.attr)},xm.prototype.initializeEditors=function(){var r=this,a=this;this.table.oTableOptions.columns.forEach(function(t,e,n){var o,i;a.isColumnInsertable(t)&&(i=(t.editor||t).type,t.definition&&(o=t.definition.buildCellEditor(i,r.resolver,t.definition.container,t.definition),r.columnEditors[t.attr]=o,i=(i=!r.enabled)||!1===r.table.getOColumnPermissions(t.attr).enabled,o.enabled=!i,o.showPlaceHolder=r.showPlaceHolder||o.showPlaceHolder,o.table=a.table,o.tableColumn=t.editor?t.editor.tableColumn:t.definition,o.orequired=r.isColumnRequired(t),o.formControl=r.getControl(t,i),o.controlArgs={silent:!0},o.rowData=a.rowData,o.startEdition(a.rowData),o.formControl.markAsUntouched(),t.editor=o)),n[e]=t})},xm.prototype.useCellEditor=function(t){return this.isColumnInsertable(t)&&k.isDefined(this.columnEditors[t.attr])},xm.prototype.getControl=function(t,e){var n;return void 0===e&&(e=!1),this.controls[t.attr]||(n=this.resolveValidators(t),e={value:undefined,disabled:e},this.controls[t.attr]=new i.FormControl(e,n)),this.controls[t.attr]},xm.prototype.resolveValidators=function(t){var e=[];return this.isColumnRequired(t)&&e.push(i.Validators.required),e},xm.prototype.getPlaceholder=function(t){var e=this.showPlaceHolder,n=this.columnEditors[t.attr];return n?e=n.showPlaceHolder:t.definition&&(e=e||t.definition.showPlaceHolder),e?this.translateService.get(t.title):undefined},xm.prototype.handleKeyboardEvent=function(t){13===t.keyCode&&(this.trWrapper=t.currentTarget,t.preventDefault(),t.stopPropagation(),this.insertRecord())},xm.prototype.insertRecord=function(){var t,e=this;this.validateFields()&&(t=this.getAttributesValuesToInsert(),(t=this.table.insertRecord(t))&&t.subscribe(function(t){e.onInsertSuccess(t)},function(t){e.table.showDialogError(t,"MESSAGES.ERROR_INSERT")}))},xm.prototype.validateFields=function(){var e=this,n=!0;return Object.keys(this.controls).forEach(function(t){t=e.controls[t];t.markAsTouched(),n=n&&t.valid}),n},xm.prototype.getAttributesValuesToInsert=function(){var e=this,n={};return this.includeParentKeys&&(n=this.table.getParentKeysValues()),Object.keys(this.controls).forEach(function(t){n[t]=e.controls[t].value}),n},xm.prototype.onInsertSuccess=function(t){Y.callEmit(this.onPostInsertRecord,t),this.snackBarService.open("MESSAGES.INSERTED",{icon:"check_circle"}),this.cleanFields(),this.table.daoTable.usingStaticData?this.table.setDataArray(t):this.table.reloadData()},xm.prototype.cleanFields=function(){var e=this;Object.keys(this.controls).forEach(function(t){e.controls[t].setValue(void 0)});var t=this.trWrapper.querySelector("input");t&&setTimeout(function(){t.focus()})},xm.prototype.columnHasError=function(t,e){t=this.controls[t.attr];return t&&t.touched&&t.hasError(e)},xm.AVAILABLE_ROW_POSITIONS=["first","last"],xm.DEFAULT_ROW_POSITION="last",xm.decorators=[{type:c.Component,args:[{selector:"o-table-insertable-row",template:" ",changeDetection:c.ChangeDetectionStrategy.OnPush,inputs:Dm,outputs:Lm}]}],xm.ctorParameters=function(){return[{type:c.Injector},{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]},{type:c.ComponentFactoryResolver}]},D([tt(),L("design:type",Boolean)],xm.prototype,"showPlaceHolder",void 0),D([tt(),L("design:type",Boolean)],xm.prototype,"includeParentKeys",void 0),xm);function xm(t,e,n){this.injector=t,this.table=e,this.resolver=n,this.columnsArray=[],this.requiredColumnsArray=[],this.onPostInsertRecord=new c.EventEmitter,this.columnEditors={},this.position=xm.DEFAULT_ROW_POSITION,this.showPlaceHolder=!1,this.includeParentKeys=!0,this.enabled=!0,this.rowData={},this.controls={},this.translateService=this.injector.get(Ae),this.snackBarService=this.injector.get(Jt)}var wm=["selectAllCheckbox: select-all-checkbox","exportButton: export-button","columnsVisibilityButton: columns-visibility-button","showConfigurationOption: show-configuration-option","showFilterOption: show-filter-option"],Mm=[],Nm=(Pm.prototype.ngOnInit=function(){this.permissions=this.table.getMenuPermissions()},Object.defineProperty(Pm.prototype,"isColumnFilterOptionActive",{get:function(){return this.table&&this.table.showFilterByColumnIcon},enumerable:!0,configurable:!0}),Pm.prototype.ngAfterViewInit=function(){this.showColumnsFilterOptionSubject.next(this.table.oTableColumnsFilterComponent!==undefined),this.permissions.items&&0!==this.permissions.items.length&&(this.selectAllCheckboxOption&&!this.enabledSelectAllCheckbox&&this.disableOTableOptionComponent(this.selectAllCheckboxOption),this.exportButtonOption&&!this.enabledExportButton&&this.disableOTableOptionComponent(this.exportButtonOption),this.columnsVisibilityButtonOption&&!this.enabledColumnsVisibilityButton&&this.disableOTableOptionComponent(this.columnsVisibilityButtonOption),this.filterMenuButton&&!this.enabledFilterMenu&&this.disableButton(this.filterMenuButton),this.configurationMenuButton&&!this.enabledConfigurationMenu&&this.disableButton(this.configurationMenuButton),this.cd.detectChanges())},Pm.prototype.disableOTableOptionComponent=function(t){t.enabled=!1;t=t.elRef.nativeElement.querySelector("button"),t=Gt.registerDisabledChangesInDom(t);this.mutationObservers.push(t)},Pm.prototype.disableButton=function(t){t.nativeElement.disabled=!0;t=Gt.registerDisabledChangesInDom(t.nativeElement);this.mutationObservers.push(t)},Pm.prototype.ngOnDestroy=function(){this.mutationObservers&&this.mutationObservers.forEach(function(t){t.disconnect()}),this.subscription.unsubscribe()},Pm.prototype.registerOptions=function(n){var t=this.permissions.items||[],e=["select-all-checkbox","export","show-hide-columns","filter","configuration"],t=t.filter(function(t){return-1===e.indexOf(t.attr)}),o=this;t.forEach(function(e){var t=n.find(function(t){return t.oattr===e.attr});o.setPermissionsToOTableOption(e,t)})},Pm.prototype.setPermissionsToOTableOption=function(t,e){!1===t.visible&&e?e.elRef.nativeElement.remove():!1===t.enabled&&e&&(e.enabled=!1,e=e.elRef.nativeElement.querySelector("button"),e=Gt.registerDisabledChangesInDom(e),this.mutationObservers.push(e))},Pm.prototype.getPermissionByAttr=function(e){return(this.permissions.items||[]).find(function(t){return t.attr===e})},Object.defineProperty(Pm.prototype,"isSelectAllOptionActive",{get:function(){return this.table.oTableOptions.selectColumn.visible},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"showSelectAllCheckbox",{get:function(){if(!this.selectAllCheckbox)return!1;var t=this.getPermissionByAttr("select-all-checkbox");return this.showFilterOption&&!(t&&!1===t.visible)},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"rowHeightObservable",{get:function(){return this.table.rowHeightObservable},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"enabledSelectAllCheckbox",{get:function(){var t=this.getPermissionByAttr("select-all-checkbox");return!(t&&!1===t.enabled)},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"showExportButton",{get:function(){if(!this.exportButton)return!1;var t=this.getPermissionByAttr("export");return!(t&&!1===t.visible)},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"enabledExportButton",{get:function(){var t=this.getPermissionByAttr("export");return!(t&&!1===t.enabled)},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"showColumnsVisibilityButton",{get:function(){if(!this.columnsVisibilityButton)return!1;var t=this.getPermissionByAttr("show-hide-columns");return!(t&&!1===t.visible)},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"enabledColumnsVisibilityButton",{get:function(){var t=this.getPermissionByAttr("show-hide-columns");return!(t&&!1===t.enabled)},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"showFilterMenu",{get:function(){var t=this.getPermissionByAttr("filter");return this.showFilterOption&&!(t&&!1===t.visible)},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"enabledFilterMenu",{get:function(){var t=this.getPermissionByAttr("filter");return!(t&&!1===t.enabled)},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"showConfigurationMenu",{get:function(){var t=this.getPermissionByAttr("configuration");return this.showConfigurationOption&&!(t&&!1===t.visible)},enumerable:!0,configurable:!0}),Object.defineProperty(Pm.prototype,"enabledConfigurationMenu",{get:function(){var t=this.getPermissionByAttr("configuration");return!(t&&!1===t.enabled)},enumerable:!0,configurable:!0}),Pm.prototype.onShowsSelects=function(){var t=this.table.oTableOptions;t.selectColumn.visible=!t.selectColumn.visible,this.table.initializeCheckboxColumn()},Pm.prototype.onExportButtonClicked=function(){var n=this,o=this.table.oTableOptions,t=new kh,e=o.columns.filter(function(t){return void 0!==t.renderer&&t.renderer instanceof th}).map(function(t){return t.attr});switch(e.push(P.NAME_COLUMN_SELECT),this.table.exportMode){case P.EXPORT_MODE_ALL:t.filter=this.table.getComponentFilter();break;case P.EXPORT_MODE_LOCAL:t.data=this.table.getAllRenderedValues(),e.forEach(function(e){return t.data.forEach(function(t){return delete t[e]})});break;default:t.data=this.table.getRenderedValue(),e.forEach(function(e){return t.data.forEach(function(t){return delete t[e]})})}t.mode=this.table.exportMode,t.entity=this.table.entity,t.columns=o.visibleColumns.filter(function(t){return-1===e.indexOf(t)});var i={};o.visibleColumns.filter(function(t){return-1===e.indexOf(t)}).forEach(function(e){var t=o.columns.find(function(t){return t.attr===e});i[e]=n.translateService.get(t.title||t.attr)}),t.columnNames=i,t.sqlTypes=this.table.getSqlTypes(),t.service=this.table.service,t.serviceType=this.table.exportServiceType,t.visibleButtons=this.table.visibleExportDialogButtons,t.options=this.table.exportOptsTemplate,this.dialog.open(Bh,{data:t,disableClose:!0,panelClass:["o-dialog-class","o-table-dialog"]})},Pm.prototype.onChangeColumnsVisibilityClicked=function(){var e=this,o=this.dialog.open(Xh,{data:{visibleColumns:k.parseArray(this.table.visibleColumns,!0),columnsData:this.table.oTableOptions.columns,rowHeight:this.table.rowHeight},disableClose:!0,panelClass:["o-dialog-class","o-table-dialog"]});o.afterClosed().subscribe(function(t){var n;t&&(e.table.visibleColArray=o.componentInstance.getVisibleColumns(),n=o.componentInstance.getColumnsOrder(),e.table.oTableOptions.columns.sort(function(t,e){return n.indexOf(t.attr)-n.indexOf(e.attr)}),e.table.cd.detectChanges(),e.table.refreshColumnsWidth(),e.table.onVisibleColumnsChange.emit(e.table.visibleColArray))})},Pm.prototype.onFilterByColumnClicked=function(){var e;this.table.showFilterByColumnIcon&&this.table.dataSource.isColumnValueFilterActive()?(e=this).dialogService.confirm("CONFIRM","MESSAGES.CONFIRM_DISCARD_FILTER_BY_COLUMN").then(function(t){t&&e.table.clearColumnFilters(),e.table.showFilterByColumnIcon=!t}):this.table.showFilterByColumnIcon=!this.table.showFilterByColumnIcon},Pm.prototype.onStoreFilterClicked=function(){var e=this,n=this.dialog.open(Wh,{data:this.table.oTableStorage.getStoredFilters().map(function(t){return t.name}),width:"calc((75em - 100%) * 1000)",maxWidth:"65vw",minWidth:"30vw",disableClose:!0,panelClass:["o-dialog-class","o-table-dialog"]});n.afterClosed().subscribe(function(t){t&&e.table.oTableStorage.storeFilter(n.componentInstance.getFilterAttributes())})},Pm.prototype.onLoadFilterClicked=function(){var e=this,n=this.dialog.open(Vh,{data:this.table.oTableStorage.getStoredFilters(),width:"calc((75em - 100%) * 1000)",maxWidth:"65vw",minWidth:"30vw",disableClose:!0,panelClass:["o-dialog-class","o-table-dialog"]});n.componentInstance.onDelete.subscribe(function(t){return e.table.oTableStorage.deleteStoredFilter(t)}),n.afterClosed().subscribe(function(t){t&&(!(t=n.componentInstance.getSelectedFilterName())||(t=e.table.oTableStorage.getStoredFilterConf(t))&&(e.table.setFiltersConfiguration(t),e.table.reloadPaginatedDataFromStart()))})},Pm.prototype.onClearFilterClicked=function(){var e=this;this.dialogService.confirm("CONFIRM","TABLE.DIALOG.CONFIRM_CLEAR_FILTER").then(function(t){t&&(e.table.clearFilters(),e.table.reloadPaginatedDataFromStart())})},Pm.prototype.onStoreConfigurationClicked=function(){var n=this.dialog.open(Yh,{width:"calc((75em - 100%) * 1000)",maxWidth:"65vw",minWidth:"30vw",disableClose:!0,panelClass:["o-dialog-class","o-table-dialog"]}),o=this;n.afterClosed().subscribe(function(t){var e;t&&(e=n.componentInstance.getConfigurationAttributes(),t=n.componentInstance.getSelectedTableProperties(),o.table.oTableStorage.storeConfiguration(e,t))})},Pm.prototype.onApplyConfigurationClicked=function(){var e=this,n=this.dialog.open(Mh,{data:this.table.oTableStorage.getStoredConfigurations(),width:"calc((75em - 100%) * 1000)",maxWidth:"65vw",minWidth:"30vw",disableClose:!0,panelClass:["o-dialog-class","o-table-dialog"]}),o=this;n.componentInstance.onDelete.subscribe(function(t){return e.table.oTableStorage.deleteStoredConfiguration(t)}),n.afterClosed().subscribe(function(t){t&&n.componentInstance.isDefaultConfigurationSelected()?o.table.applyDefaultConfiguration():!t||(t=n.componentInstance.getSelectedConfigurationName())&&o.table.applyConfiguration(t)})},Pm.decorators=[{type:c.Component,args:[{selector:"o-table-menu",template:'<mat-menu #menu="matMenu" x-position="before" [class]="(rowHeightObservable | async) +\' o-table-menu\'">\n  <o-table-option #selectAllCheckboxOption *ngIf="showSelectAllCheckbox" [active]="isSelectAllOptionActive"\n    (onClick)="onShowsSelects()" label="TABLE.BUTTONS.SELECT" show-active-icon="true"></o-table-option>\n  <o-table-option #exportButtonOption *ngIf="showExportButton" (onClick)="onExportButtonClicked()"\n    label="TABLE.BUTTONS.EXPORT"></o-table-option>\n  <o-table-option #columnsVisibilityButtonOption *ngIf="showColumnsVisibilityButton"\n    (onClick)="onChangeColumnsVisibilityClicked()" label="TABLE.BUTTONS.COLVIS"></o-table-option>\n\n  <button type="button" #filterMenuButton *ngIf="showFilterMenu" mat-menu-item [matMenuTriggerFor]="filterMenu">{{\n    \'TABLE.BUTTONS.FILTER\' | oTranslate }}</button>\n  <button type="button" #configurationMenuButton *ngIf="showConfigurationMenu" mat-menu-item\n    [matMenuTriggerFor]="configurationMenu">{{\n    \'TABLE.BUTTONS.CONFIGURATION\' | oTranslate }}</button>\n  <ng-content></ng-content>\n</mat-menu>\n\n<mat-menu #filterMenu="matMenu" [class]="(rowHeightObservable| async) +\' o-table-menu\'">\n  <o-table-option #columnFilterOption *ngIf="showColumnsFilterOption | async" show-active-icon="true" [active]="isColumnFilterOptionActive"\n    (onClick)="onFilterByColumnClicked()" label="TABLE.BUTTONS.FILTER_BY_COLUMN">\n  </o-table-option>\n  <button type="button" mat-menu-item\n    (click)="onStoreFilterClicked()">{{ \'TABLE.BUTTONS.FILTER_SAVE\' | oTranslate }}</button>\n  <button type="button" mat-menu-item\n    (click)="onLoadFilterClicked()">{{ \'TABLE.BUTTONS.FILTER_LOAD\' | oTranslate }}</button>\n  <button type="button" mat-menu-item\n    (click)="onClearFilterClicked()">{{ \'TABLE.BUTTONS.FILTER_CLEAR\' | oTranslate }}</button>\n</mat-menu>\n\n<mat-menu #configurationMenu="matMenu" [class]="(rowHeightObservable | async) +\' o-table-menu\'">\n  <button type="button" mat-menu-item (click)="onStoreConfigurationClicked()">{{ \'TABLE.BUTTONS.SAVE_CONFIGURATION\' |\n    oTranslate }}</button>\n  <button type="button" mat-menu-item (click)="onApplyConfigurationClicked()">{{ \'TABLE.BUTTONS.APPLY_CONFIGURATION\' |\n    oTranslate }}</button>\n</mat-menu>',inputs:wm,outputs:Mm,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-table-menu]":"true"},changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[""]}]}],Pm.ctorParameters=function(){return[{type:c.Injector},{type:d.MatDialog},{type:c.ChangeDetectorRef},{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]}]},Pm.propDecorators={matMenu:[{type:c.ViewChild,args:["menu",{"static":!0}]}],selectAllCheckboxOption:[{type:c.ViewChild,args:["selectAllCheckboxOption",{"static":!1}]}],exportButtonOption:[{type:c.ViewChild,args:["exportButtonOption",{"static":!1}]}],columnsVisibilityButtonOption:[{type:c.ViewChild,args:["columnsVisibilityButtonOption",{"static":!1}]}],filterMenuButton:[{type:c.ViewChild,args:["filterMenuButton",{read:c.ElementRef,"static":!1}]}],configurationMenuButton:[{type:c.ViewChild,args:["configurationMenuButton",{read:c.ElementRef,"static":!1}]}],filterMenu:[{type:c.ViewChild,args:["filterMenu",{"static":!1}]}],configurationMenu:[{type:c.ViewChild,args:["configurationMenu",{"static":!1}]}],columnFilterOption:[{type:c.ViewChild,args:["columnFilterOption",{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Pm.prototype,"selectAllCheckbox",void 0),D([tt(),L("design:type",Boolean)],Pm.prototype,"exportButton",void 0),D([tt(),L("design:type",Boolean)],Pm.prototype,"showConfigurationOption",void 0),D([tt(),L("design:type",Boolean)],Pm.prototype,"showFilterOption",void 0),D([tt(),L("design:type",Boolean)],Pm.prototype,"columnsVisibilityButton",void 0),Pm);function Pm(t,e,n,o){this.injector=t,this.dialog=e,this.cd=n,this.table=o,this.selectAllCheckbox=!1,this.exportButton=!0,this.showConfigurationOption=!0,this.showFilterOption=!0,this.columnsVisibilityButton=!0,this.onVisibleFilterOptionChange=new c.EventEmitter,this.showColumnsFilterOptionSubject=new u.BehaviorSubject(!1),this.showColumnsFilterOption=this.showColumnsFilterOptionSubject.asObservable(),this.mutationObservers=[],this.dialogService=this.injector.get(ot),this.translateService=this.injector.get(Ae),this.snackBarService=this.injector.get(Jt);var i=this;this.subscription=this.onVisibleFilterOptionChange.subscribe(function(t){return i.showColumnsFilterOptionSubject.next(t)})}var Fm=[],km=["onChange"],Bm=(Um.prototype.ngOnInit=function(){this.table.registerQuickFilter(this),this.matMenu.xPosition="before"},Um.prototype.ngAfterViewInit=function(){this.initializeEventFilter();try{this.oInputsOptions=this.injector.get(V)}catch(t){this.oInputsOptions={}}k.parseOInputsOptions(this.elRef,this.oInputsOptions)},Um.prototype.ngOnDestroy=function(){this.quickFilterObservable&&this.quickFilterObservable.unsubscribe()},Object.defineProperty(Um.prototype,"oTableOptions",{get:function(){return this.table.oTableOptions},enumerable:!0,configurable:!0}),Object.defineProperty(Um.prototype,"quickFilterColumns",{get:function(){return this.table.oTableOptions.columns.filter(function(t){return t.searchable&&t.visible})},enumerable:!0,configurable:!0}),Object.defineProperty(Um.prototype,"filterExpression",{get:function(){var n,o=this,t=this.getUserFilter();return!k.isDefined(t)&&k.isDefined(this.value)&&0<this.value.length&&(n=[],this.oTableOptions.columns.filter(function(t){return t.searching&&t.visible&&o.isFilterableColumn(t)}).forEach(function(t){var e;t.filterExpressionFunction?n.push(t.filterExpressionFunction(t.attr,o.value)):t.renderer instanceof lh?(e=t.renderer.getFilterExpression(o.value))&&n.push(e):n.push(ee.buildExpressionLike(t.attr,o.value))}),0<n.length&&(t=n.reduce(function(t,e){return ee.buildComplexExpression(t,e,ee.OP_OR)}))),t},enumerable:!0,configurable:!0}),Um.prototype.getUserFilter=function(){var t,e;return this.table.quickFilterCallback instanceof Function&&(e=this.table.quickFilterCallback(this.value),k.isDefined(e)&&ee.instanceofExpression(e)?t=e:k.isDefined(e)&&(t=ee.buildExpressionFromObject(e))),t},Um.prototype.initializeEventFilter=function(){var t,e=this;this.filter&&!this.quickFilterObservable&&(this.quickFilterObservable=u.fromEvent(this.filter.nativeElement,"keyup").pipe(l.debounceTime(150)).pipe(l.distinctUntilChanged()).subscribe(function(){var t=e.filter.nativeElement.value;e.table.dataSource&&e.value!==t&&(e.setValue(t),e.onChange.emit(e.value))}),t=this.value||this.filter.nativeElement.value,this.formControl.setValue(t),this.table.dataSource&&t&&t.length&&(this.table.dataSource.quickFilter=t))},Um.prototype.setValue=function(t,e){void 0===e&&(e=!0),this.value=t,e&&this.table&&this.table.dataSource&&(this.table.dataSource.quickFilter=this.value)},Um.prototype.onMenuClosed=function(){this.setValue(this.value),this.onChange.emit(this.value)},Um.prototype.isChecked=function(t){return t.searching},Um.prototype.onCheckboxChange=function(t,e){t.searching=e.checked},Um.prototype.showCaseSensitiveCheckbox=function(){return this.table.showCaseSensitiveCheckbox()},Um.prototype.areAllColumnsChecked=function(){var e=!0;return this.quickFilterColumns.forEach(function(t){e=e&&t.searching}),e},Um.prototype.onSelectAllChange=function(e){this.quickFilterColumns.forEach(function(t){t.searching=e.checked})},Um.prototype.isFilterableColumn=function(t){return!t.renderer||"string"===t.type||"translate"===t.type||"integer"===t.type||"real"===t.type||"percentage"===t.type||"currency"===t.type||"service"===t.type},Um.decorators=[{type:c.Component,args:[{selector:"o-table-quickfilter",template:'<div class="quickFilter" fxLayout="row">\n  <mat-form-field floatLabel="never" appearance="legacy">\n    <input matInput #filter placeholder="{{ \'TABLE.FILTER\' | oTranslate}}" [formControl]="formControl" (click)="$event.stopPropagation()">\n    <span class="icon-btn search-icon" matPrefix fxFlexLayout="flex-end" (menuClosed)="onMenuClosed()"\n      [matMenuTriggerFor]="menu" (click)="$event.stopPropagation()">\n      <mat-icon svgIcon="ontimize:search"></mat-icon>\n    </span>\n    <mat-menu #menu="matMenu" class="o-table-quickfilter-menu">\n      <div fxLayout="column" class="checkbox-container">\n\n        <mat-checkbox (click)="$event.stopPropagation()" [checked]="areAllColumnsChecked()"\n          (change)="onSelectAllChange($event)">\n          {{ \'SELECT_ALL\' | oTranslate}}\n        </mat-checkbox>\n        <mat-divider></mat-divider>\n\n        <ng-container *ngFor="let column of quickFilterColumns">\n          <mat-checkbox (click)="$event.stopPropagation()"  [checked]="isChecked(column)" (change)="onCheckboxChange(column, $event)">\n            {{ column.title | oTranslate }}\n          </mat-checkbox>\n        </ng-container>\n\n        <ng-container *ngIf="showCaseSensitiveCheckbox()">\n          <mat-divider></mat-divider>\n          <mat-checkbox (click)="$event.stopPropagation()"  [checked]="oTableOptions.filterCaseSensitive"\n            (change)="oTableOptions.filterCaseSensitive = $event.checked">\n            {{ \'TABLE.FILTER.CASE_SENSITIVE\' | oTranslate}}\n          </mat-checkbox>\n        </ng-container>\n      </div>\n    </mat-menu>\n  </mat-form-field>\n</div>',inputs:Fm,outputs:km,encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class.o-table-quickfilter]":"true"},styles:[".o-table-quickfilter .quickFilter{padding-right:24px}.o-table-quickfilter .quickFilter .mat-form-field-flex{align-items:flex-end}.o-table-quickfilter .search-icon{cursor:pointer}.o-table-quickfilter-menu .mat-divider{margin:8px 0}.o-table-quickfilter-menu .checkbox-container{padding:6px 12px}.o-table-quickfilter-menu .checkbox-container .mat-checkbox-layout{white-space:normal}.o-table-quickfilter-menu .checkbox-container .mat-checkbox-layout .mat-checkbox-ripple{display:none}"]}]}],Um.ctorParameters=function(){return[{type:c.Injector},{type:c.ElementRef},{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]}]},Um.propDecorators={filter:[{type:c.ViewChild,args:["filter",{"static":!1}]}],matMenu:[{type:c.ViewChild,args:["menu",{"static":!0}]}]},Um);function Um(t,e,n){this.injector=t,this.elRef=e,this.table=n,this.onChange=new c.EventEmitter,this.formControl=new i.FormControl}var Vm=["column"],jm=(Gm.prototype.ngOnInit=function(){this.updateStateColumnFilter(this.table.dataSource.getColumnValueFilters())},Gm.prototype.updateStateColumnFilter=function(t){this.columnValueFilters=t,this.indicatorNumber.next(this.getFilterIndicatorNumbered()),this.isColumnFilterActive.next(this.getColumnValueFilterByAttr()!==undefined)},Gm.prototype.getColumnValueFilterByAttr=function(){var e=this;return this.columnValueFilters.filter(function(t){return t.attr===e.column.attr})[0]},Gm.prototype.openColumnFilterDialog=function(t){this.table.openColumnFilterDialog(this.column,t)},Gm.prototype.getFilterIndicatorNumbered=function(){var e=this,t="",n=this.columnValueFilters;if(n.length<2)return t;n=n.findIndex(function(t){return t.attr===e.column.attr});return-1<n&&(t+=n+1),t},Gm.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},Gm.decorators=[{type:c.Component,args:[{selector:"o-table-header-column-filter-icon",inputs:Vm,template:'<mat-icon class="column-filter-icon" [ngClass]="{\'active column-filter-icon-active\':isColumnFilterActive | async}"\n  (click)="openColumnFilterDialog($event)">\n  filter_alt\n</mat-icon>\n<span class="o-table-header-indicator-numbered">\n  {{ indicatorNumber | async }}\n</span>\n',encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class.o-table-column-filter-icon]":"true"},styles:[".o-table .o-table-container .mat-table .mat-header-cell .o-table-column-filter-icon{display:flex;position:absolute;left:0}.o-table .o-table-container .mat-table .mat-header-cell .o-table-column-filter-icon .o-table-header-indicator-numbered{right:-5px;bottom:-8px}"]}]}],Gm.ctorParameters=function(){return[{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]}]},Gm);function Gm(t){this.table=t,this.columnValueFilters=[],this.isColumnFilterActive=new u.BehaviorSubject(!1),this.indicatorNumber=new u.BehaviorSubject(""),this.subscription=new u.Subscription;var e=this,t=this.table.onFilterByColumnChange.subscribe(function(t){e.updateStateColumnFilter(t)});this.subscription.add(t)}var qm=[bm,Tm,Am,lp,Nm,dp,Rm,Bm,ip,jm],Hm=(Ym.prototype.transform=function(t,e,n){return n?n(t,e):""},Ym.decorators=[{type:c.Pipe,args:[{name:"oTableRowClass"}]}],Ym);function Ym(){}var zm=(Km.prototype.ngAfterViewInit=function(){this.registerResize()},Km.prototype.ngOnDestroy=function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()},Km.prototype.registerResize=function(){var e;this.table.horizontalScroll&&(e=this).table.onUpdateScrolledState.subscribe(function(t){setTimeout(function(){t?e.calculateRowWidth():e.setRowWidth(undefined)},0)})},Km.prototype.calculateRowWidth=function(){if(this.table.horizontalScroll){this.alreadyScrolled&&this.setRowWidth(this.table.rowWidth);var e=0;try{this.elementRef.nativeElement.childNodes.forEach(function(t){t&&t.tagName&&"mat-cell"===t.tagName.toLowerCase()&&(e+=t.clientWidth)})}catch(t){}!isNaN(e)&&0<e&&(e+=48,this.setRowWidth(e))}},Km.prototype.setRowWidth=function(t){var e=t!==undefined?t+"px":"auto";this.renderer.setStyle(this.elementRef.nativeElement,"width",e),this.table.rowWidth=t},Object.defineProperty(Km.prototype,"alreadyScrolled",{get:function(){return this.table.rowWidth!==undefined},enumerable:!0,configurable:!0}),Km.decorators=[{type:c.Directive,args:[{selector:"[oTableRow]"}]}],Km.ctorParameters=function(){return[{type:Bp,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return Bp})]}]},{type:c.ElementRef},{type:c.Renderer2}]},Km);function Km(t,e,n){this.table=t,this.elementRef=e,this.renderer=n}var Wm=(Qm.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule],exports:[Rp,Mp],declarations:[Rp,Mp],providers:[d.MAT_SORT_HEADER_INTL_PROVIDER]}]}],Qm);function Qm(){}var Xm=($m.decorators=[{type:c.NgModule,args:[{declarations:w([Bp,Oh,Dh,xh,zm,am,em,Hm],bh,Ed,Zh,qm,hm,[_p]),imports:[n.CommonModule,Hn,v.CdkTableModule,E.DragDropModule,m.PortalModule,tr,C.ObserversModule,Wm,y.NgxMaterialTimepickerModule],exports:w([Bp,Oh,v.CdkTableModule,Dh,xh,zm,am,Wm,em,Hm],qm,bh,Ed,hm,[_p]),entryComponents:w([im,xh],bh,Ed,Zh),providers:[Ph,{provide:d.MatPaginatorIntl,useClass:mm}]}]}],$m);function $m(){}var Zm=(Jm.prototype.beforeunloadHandler=function(){this.finalize().subscribe(function(){})},Jm.prototype.getUserConfiguration=function(){var i=this;return new u.Observable(function(e){var t,n,o=i.loginStorageService.getSessionInfo();i.hasSession(o)?(t=i._url+"/search",(n={})[i._columns.user]=o.user,n[i._columns.appId]=i._uuid,o={headers:i.buildHeaders()},i.httpClient.post(t,n,o).subscribe(function(t){t&&t.code===P.ONTIMIZE_SUCCESSFUL_CODE&&k.isDefined(t.data)?e.next(t):e.error()},function(t){return e.error(t)},function(){return e.complete()})):e.error()})},Jm.prototype.storeUserConfiguration=function(){var a=this;return a.storeSubscription&&a.storeSubscription.unsubscribe(),new u.Observable(function(e){var t=a.loginStorageService.getSessionInfo();if(!a._appConfig.useRemoteConfiguration()||!a.hasSession(t))return e.next(),void e.complete();var n=a._url,o={filter:{},data:{}};o.filter[a._columns.user]=t.user,o.filter[a._columns.appId]=a._uuid;var i=a.localStorageService.getSessionUserComponentsData()||"";try{i=btoa(JSON.stringify(i))}catch(r){i=""}o.data[a._columns.configuration]=i;t={headers:a.buildHeaders()};a.httpClient.put(n,o,t).subscribe(function(t){t&&t.code===P.ONTIMIZE_SUCCESSFUL_CODE?e.next(t):e.error()},function(t){return e.error(t)},function(){return e.complete()})})},Jm.prototype.initialize=function(){var a=this;return new u.Observable(function(r){a._appConfig.useRemoteConfiguration()?(a.timerSubscription=u.timer(a._timeout,a._timeout).subscribe(function(){a.storeSubscription=a.storeUserConfiguration().subscribe(function(){})}),a.getUserConfiguration().subscribe(function(t){var e=k.isArray(t.data)?t.data[0][a._columns.configuration]:t.data;if(k.isDefined(e)){var n=void 0;try{var o=atob(e),n=JSON.parse(o)}catch(i){n={}}a.localStorageService.storeSessionUserComponentsData(n)}r.next()},function(){r.next()})):r.next()})},Jm.prototype.finalize=function(){return this.timerSubscription&&this.timerSubscription.unsubscribe(),this.storeUserConfiguration()},Jm.prototype.hasSession=function(t){return k.isDefined(t)&&k.isDefined(t.user)&&k.isDefined(t.id)},Jm.prototype.buildHeaders=function(){var t=this.loginStorageService.getSessionInfo();return new s.HttpHeaders({"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+t.id})},Jm.DEFAULT_COLUMN_USER="USER_",Jm.DEFAULT_COLUMN_APPID="APP_UUID",Jm.DEFAULT_COLUMN_CONFIG="CONFIGURATION",Jm.DEFAULT_STORAGE_TIMEOUT=6e4,Jm.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],Jm.ctorParameters=function(){return[{type:c.Injector}]},Jm.propDecorators={beforeunloadHandler:[{type:c.HostListener,args:["window:beforeunload",[]]}]},Jm.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new Jm(c.ɵɵinject(c.INJECTOR))},token:Jm,providedIn:"root"}),Jm);function Jm(t){var e;this.injector=t,this._columns={user:Jm.DEFAULT_COLUMN_USER,appId:Jm.DEFAULT_COLUMN_APPID,configuration:Jm.DEFAULT_COLUMN_CONFIG},this.httpClient=this.injector.get(s.HttpClient),this._appConfig=this.injector.get(G),this.loginStorageService=this.injector.get(ut),this.localStorageService=this.injector.get(Cn),this.httpClient=this.injector.get(s.HttpClient),this._uuid=this._appConfig.getConfiguration().uuid,this._appConfig.useRemoteConfiguration()&&(this._url=this._appConfig.getRemoteConfigurationEndpoint(),t=this._appConfig.getRemoteConfigurationConfig(),this._columns=t&&t.columns?Object.assign(this._columns,t.columns):this._columns,this._timeout=t&&t.timeout?t.timeout:Jm.DEFAULT_STORAGE_TIMEOUT,(e=this).localStorageService.onSetLocalStorage.subscribe(function(){e.storeSubscription&&e.storeSubscription.unsubscribe()}))}var tf=(Object.defineProperty(ef.prototype,"user",{get:function(){return this._user},enumerable:!0,configurable:!0}),Object.defineProperty(ef.prototype,"localStorageKey",{get:function(){return this.loginStorageService._localStorageKey},enumerable:!0,configurable:!0}),ef.prototype.configureOntimizeAuthService=function(t){this.ontService=this.injector.get(_t);var e={};e[P.SESSION_KEY]=this.loginStorageService.getSessionInfo(),this.ontService.configureService(e)},ef.prototype.retrieveAuthService=function(){var e=this;return new Promise(function(t){e.ontService!==undefined||e.configureOntimizeAuthService(e._config),t(e.ontService)})},ef.prototype.login=function(e,n){var i=this;return this._user=e,new u.Observable(function(o){i.retrieveAuthService().then(function(t){t.startsession(e,n).subscribe(function(t){i.onLoginSuccess(t);var e=i.injector.get(Mt),n=i.injector.get(Zm),t=[];t.push(e.getUserPermissionsAsPromise()),t.push(n.initialize()),u.combineLatest(t).subscribe(function(){o.next(),o.complete()})},function(t){i.onLoginError(t),o.error(t)})})}).pipe(l.share())},ef.prototype.onLoginSuccess=function(t){t={user:this._user,id:t};this.loginStorageService.storeSessionInfo(t),Y.callEmit(this.onLogin,t)},ef.prototype.onLoginError=function(t){this.dialogService.alert("ERROR","MESSAGES.ERROR_LOGIN")},ef.prototype.logout=function(){var n=this;Y.callEmit(this.onLogout,null);var o=this.loginStorageService.getSessionInfo();return new u.Observable(function(e){n.retrieveAuthService().then(function(t){t.endsession(o.user,o.id).subscribe(function(t){n.injector.get(Zm).finalize().subscribe(function(){n.onLogoutSuccess(t),e.next(),e.complete()})},function(t){n.onLogoutError(t),e.error(t)})})}).pipe(l.share())},ef.prototype.onLogoutSuccess=function(t){0===t&&this.sessionExpired()},ef.prototype.onLogoutError=function(t){console.error("Error on logout")},ef.prototype.sessionExpired=function(){this.loginStorageService.sessionExpired()},ef.prototype.isLoggedIn=function(){return this.loginStorageService.isLoggedIn()},ef.prototype.logoutAndRedirect=function(){var t=this;this.logout().subscribe(function(){lt.redirectLogin(t.router,!1)})},ef.prototype.logoutWithConfirmationAndRedirect=function(){var e=this;this.dialogService.confirm("CONFIRM","MESSAGES.CONFIRM_LOGOUT").then(function(t){t&&e.logoutAndRedirect()})},ef.prototype.getSessionInfo=function(){return this.loginStorageService.getSessionInfo()},ef.prototype.storeSessionInfo=function(t){this.loginStorageService.storeSessionInfo(t)},ef.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],ef.ctorParameters=function(){return[{type:c.Injector}]},ef.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new ef(c.ɵɵinject(c.INJECTOR))},token:ef,providedIn:"root"}),ef);function ef(t){this.injector=t,this.onLogin=new c.EventEmitter,this.onLogout=new c.EventEmitter,this._config=this.injector.get(G).getConfiguration(),this.router=this.injector.get(p.Router),this.loginStorageService=this.injector.get(ut);var e=this.loginStorageService.getSessionInfo();e&&e.id&&e.user&&0<e.user.length&&(this._user=e.user),this.dialogService=t.get(ot)}var nf=(of.prototype.setUserInfo=function(t){this.storedInfo=t,this.subject.next(t)},of.prototype.getUserInfo=function(){return this.storedInfo},of.prototype.getUserInfoObservable=function(){return this.subject.asObservable()},of.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],of.ctorParameters=function(){return[{type:c.Injector}]},of.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new of(c.ɵɵinject(c.INJECTOR))},token:of,providedIn:"root"}),of);function of(t){this.injector=t,this.subject=new u.Subject}var rf=[],af=[],sf=(lf.prototype.ngOnDestroy=function(){this.userInfoSubscription.unsubscribe()},lf.prototype.onLogoutClick=function(){this.loginService.logoutWithConfirmationAndRedirect()},lf.prototype.onSettingsClick=function(){this.router.navigate(["main/settings"])},Object.defineProperty(lf.prototype,"existsUserInfo",{get:function(){return this.userInfo!==undefined},enumerable:!0,configurable:!0}),Object.defineProperty(lf.prototype,"avatar",{get:function(){return this.userInfo?this.userInfo.avatar:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(lf.prototype,"username",{get:function(){return this.userInfo?this.userInfo.username:undefined},enumerable:!0,configurable:!0}),lf.decorators=[{type:c.Component,args:[{selector:"o-user-info",inputs:rf,outputs:af,template:'<div class="o-user-info-container" fxLayout="row" fxLayoutAlign="center">\n  <ng-container *ngIf="existsUserInfo">\n    <div class="o-user-info-wrapper" fxLayout="row" fxLayoutAlign="center center">\n      <div fxLayout="row" fxLayoutAlign="center center" class="o-user-info-avatar-wrapper">\n        <img [src]="avatar" *ngIf="avatar" />\n      </div>\n      <span class="o-user-info-username" *ngIf="username"> {{ username }}</span>\n      <mat-icon [matMenuTriggerFor]="menu" svgIcon="ontimize:keyboard_arrow_down"></mat-icon>\n    </div>\n    <mat-menu #menu="matMenu" yPosition="below">\n      <button type="button" mat-menu-item (click)="onSettingsClick()">\n        <mat-icon svgIcon="ontimize:settings"></mat-icon>\n        <span>{{ \'SETTINGS\' | oTranslate }}</span>\n      </button>\n      <button type="button" mat-menu-item (click)="onLogoutClick()">\n        <mat-icon svgIcon="ontimize:power_settings_new"></mat-icon>\n        <span>{{ \'LOGOUT\' | oTranslate }}</span>\n      </button>\n    </mat-menu>\n  </ng-container>\n</div>\n',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-user-info]":"true"},styles:[".o-user-info .o-user-info-container{cursor:pointer;height:100%}.o-user-info .o-user-info-avatar-wrapper{width:30px;height:30px;overflow:hidden;border-radius:100%}.o-user-info .o-user-info-avatar-wrapper img{max-width:100%;height:auto}.o-user-info .o-user-info-username{padding-left:6px}.o-user-info mat-icon{padding-left:4px;font-size:16px;line-height:26px}"]}]}],lf.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Injector},{type:p.Router}]},lf);function lf(t,e,n){var o=this;this.elRef=t,this.injector=e,this.router=n,this.dialogService=this.injector.get(ot),this.loginService=this.injector.get(tf),this.oUserInfoService=this.injector.get(nf),this.userInfo=this.oUserInfoService.getUserInfo(),this.userInfoSubscription=this.oUserInfoService.getUserInfoObservable().subscribe(function(t){o.userInfo=t})}var cf=(uf.decorators=[{type:c.NgModule,args:[{declarations:[sf],imports:[n.CommonModule,Hn,p.RouterModule],exports:[sf]}]}],uf);function uf(){}var pf=(df.prototype.setModuleInfo=function(t){this.storedInfo=t,this.subject.next(t)},df.prototype.getModuleInfo=function(){return this.storedInfo},df.prototype.getModuleChangeObservable=function(){return this.subject.asObservable()},df.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],df.ctorParameters=function(){return[{type:c.Injector}]},df.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new df(c.ɵɵinject(c.INJECTOR))},token:df,providedIn:"root"}),df);function df(t){var n=this;this.injector=t,this.subject=new u.Subject,this.router=this.injector.get(p.Router),this.actRoute=this.injector.get(p.ActivatedRoute),this.translateService=this.injector.get(Ae),this.router.events.subscribe(function(t){var e;t instanceof p.NavigationEnd&&((e=n.translateService.get(t.url))!==t.url&&n.setModuleInfo({name:e}))})}var hf=["showUserInfo: show-user-info","showLanguageSelector: show-language-selector","useFlagIcons: use-flag-icons"],mf=["onSidenavToggle"],ff=(gf.prototype.ngOnDestroy=function(){this.modulesInfoSubscription.unsubscribe()},gf.prototype.onLogoutClick=function(){var e=this;this.dialogService.confirm("CONFIRM","MESSAGES.CONFIRM_LOGOUT").then(function(t){t&&lt.redirectLogin(e.router,!1)})},Object.defineProperty(gf.prototype,"headerTitle",{get:function(){return this._headerTitle},set:function(t){this._headerTitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(gf.prototype,"showHeaderTitle",{get:function(){return 0<this._headerTitle.length},enumerable:!0,configurable:!0}),gf.decorators=[{type:c.Component,args:[{selector:"o-app-header",inputs:hf,outputs:mf,template:'<nav fxFlex fxLayout="row" fxLayoutAlign="space-between stretch">\n  <div fxFlex fxLayout="row" fxLayoutAlign="space-between stretch">\n    <ng-content></ng-content>\n    <span *ngIf="showHeaderTitle" class="o-app-header-title" fxLayout="row" fxLayoutAlign="center center">\n      {{ headerTitle | oTranslate }}\n    </span>\n    <div fxLayout="row" fxLayoutAlign="end stretch" class="o-app-header-default-actions">\n      <o-user-info *ngIf="showUserInfo"></o-user-info>\n      <o-language-selector *ngIf="showLanguageSelector" [use-flag-icons]="useFlagIcons"></o-language-selector>\n    </div>\n  </div>\n</nav>',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-app-header]":"true"},styles:[".o-app-header{z-index:2;box-shadow:0 2px 6px rgba(0,0,0,.24);height:56px}.o-app-header nav{padding-right:16px}.o-app-header nav .sidenav-toggle{text-align:center;padding:16px;cursor:pointer}.o-app-header nav .o-app-header-title{padding:0 16px;cursor:default}.o-app-header nav .o-app-header-default-actions{margin-left:auto}"]}]}],gf.ctorParameters=function(){return[{type:p.Router},{type:c.Injector},{type:c.ElementRef}]},D([tt(),L("design:type",Boolean)],gf.prototype,"showUserInfo",void 0),D([tt(),L("design:type",Boolean)],gf.prototype,"showLanguageSelector",void 0),D([tt(),L("design:type",Boolean)],gf.prototype,"useFlagIcons",void 0),gf);function gf(t,e,n){var o=this;this.router=t,this.injector=e,this.elRef=n,this._headerTitle="",this.showUserInfo=!0,this.showLanguageSelector=!0,this.useFlagIcons=!1,this.onSidenavToggle=new c.EventEmitter,this.dialogService=this.injector.get(ot),this.modulesInfoService=this.injector.get(pf),this.modulesInfoSubscription=this.modulesInfoService.getModuleChangeObservable().subscribe(function(t){o.headerTitle=t.name})}var yf=(bf.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule,uu,cf,Hn],declarations:[ff],exports:[ff]}]}],bf);function bf(){}var vf=["opened","showUserInfo: show-user-info","showToggleButton: show-toggle-button","openedSidenavImg: opened-sidenav-image","closedSidenavImg: closed-sidenav-image","layoutMode: layout-mode","sidenavMode: sidenav-mode"],Ef=["onSidenavOpenedChange","onSidenavOpenedStart","onSidenavClosedStart","onSidenavToggle","afterSidenavToggle"],Cf=(Tf.prototype.onResize=function(){this.manuallyClosed||this.isScreenSmall()||this.isMobileMode()||this.sidenav.open()},Tf.prototype.ngOnInit=function(){var t=this;this.routerSubscription=this.router.events.subscribe(function(){t.isScreenSmall()&&t.sidenav.close()})},Tf.prototype.ngAfterViewInit=function(){var e=this;this.showUserInfo&&this.showToggleButton&&(this.userInfo=this.oUserInfoService.getUserInfo(),this.userInfoSubscription=this.oUserInfoService.getUserInfoObservable().subscribe(function(t){e.userInfo=t,e.refreshMenuRoots()})),this.refreshMenuRoots()},Object.defineProperty(Tf.prototype,"layoutMode",{get:function(){return this._layoutMode},set:function(e){var t=P.OAppLayoutModes.find(function(t){return t===e});k.isDefined(t)&&(this._layoutMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Tf.prototype,"sidenavMode",{get:function(){return this._sidenavMode},set:function(e){var t=P.OSidenavModes.find(function(t){return t===e});k.isDefined(t)&&(this._sidenavMode=t)},enumerable:!0,configurable:!0}),Tf.prototype.refreshMenuRoots=function(){var t,e;this.showUserInfo&&this.userInfo&&this._showToggleButton&&(!!(t=this.menuRootArray[0])&&"user-info"===t.id?((e=this.menuRootArray[0].items[0]).id=this.userInfo.username,e.name=this.userInfo.username,e.user=this.userInfo.username,e.avatar=this.userInfo.avatar):(e={id:"user-info",name:"APP_LAYOUT.USER_PROFILE",items:[e={id:this.userInfo.username,name:this.userInfo.username,user:this.userInfo.username,avatar:this.userInfo.avatar}],opened:!0,icon:"person_pin"},this.menuRootArray.unshift(e)))},Tf.prototype.ngOnDestroy=function(){this.routerSubscription&&this.routerSubscription.unsubscribe(),this.userInfoSubscription&&this.userInfoSubscription.unsubscribe()},Tf.prototype.isScreenSmall=function(){return!this.manuallyClosed&&this.media.isActive("lt-sm")},Tf.prototype.isMobileMode=function(){return this._layoutMode===P.APP_LAYOUT_MODE_MOBILE},Tf.prototype.isDesktopMode=function(){return this._layoutMode===P.APP_LAYOUT_MODE_DESKTOP},Tf.prototype.isSidenavOpened=function(){return this.opened&&!this.isMobileMode()&&!this.isScreenSmall()},Object.defineProperty(Tf.prototype,"menuRootArray",{get:function(){return this._menuRootArray},set:function(t){this._menuRootArray=t},enumerable:!0,configurable:!0}),Tf.prototype.toggleSidenav=function(){var t=this.sidenav.opened?this.sidenav.close():this.sidenav.open(),e=this;t.then(function(){e.afterSidenavToggle.emit(e.sidenav.opened)}),this.cd.detectChanges(),this.opened=this.sidenav.opened,this.manuallyClosed=!this.opened,this.onSidenavToggle.emit(this.sidenav.opened)},Object.defineProperty(Tf.prototype,"showUserInfo",{get:function(){return this._showUserInfo},set:function(t){this._showUserInfo=t},enumerable:!0,configurable:!0}),Object.defineProperty(Tf.prototype,"showToggleButton",{get:function(){return this._showToggleButton},set:function(t){this._showToggleButton=t},enumerable:!0,configurable:!0}),Tf.prototype.onMenuItemClick=function(){this.isMobileMode()&&this.sidenav.close()},Tf.prototype.sidenavClosedStart=function(){this.onSidenavClosedStart.emit()},Tf.prototype.sidenavOpenedStart=function(){this.onSidenavOpenedStart.emit()},Tf.prototype.sidenavOpenedChange=function(){this.onSidenavOpenedChange.emit()},Tf.decorators=[{type:c.Component,args:[{selector:"o-app-sidenav",inputs:vf,outputs:Ef,template:'<mat-sidenav-container class="o-app-sidenav-container" [class.opened]="sidenav.opened"\n  [class.o-app-sidenav-mode-desktop]="(layoutMode || \'desktop\') === \'desktop\'"\n  [class.o-app-sidenav-mode-mobile]="(layoutMode || \'desktop\') !== \'desktop\'">\n\n  <mat-sidenav #sidenav class="o-app-sidenav-sidenav o-scroll" [opened]="isSidenavOpened()"\n    [mode]="(sidenavMode || ((layoutMode || \'desktop\') === \'desktop\' ? \'side\' : \'over\'))" [class.mat-drawer-opened]="sidenav.opened"\n    [class.mat-drawer-closed]="!sidenav.opened" fxLayout="column" fxLayoutAlign="start stretch" (openedChange)="sidenavOpenedChange()"\n    (closedStart)="sidenavClosedStart()" (openedStart)="sidenavOpenedStart()">\n\n    <div fxLayout="row" fxLayoutAlign="end" class="sidenav-toggle-container" *ngIf="isDesktopMode()">\n      <mat-icon class="sidenav-toggle" (click)="toggleSidenav()" svgIcon="ontimize:menu">menu</mat-icon>\n    </div>\n\n    <o-app-sidenav-image [opened-src]="openedSidenavImg" [closed-src]="closedSidenavImg"> </o-app-sidenav-image>\n\n    <ng-content select="o-app-layout-sidenav-projection-start"></ng-content>\n\n    <nav *ngFor="let menuRootItem of menuRootArray">\n\n      <ul *ngIf="appMenuService.getMenuItemType(menuRootItem) !== \'group\'">\n        <o-app-sidenav-menu-item [menu-item]="menuRootItem" [menu-item-type]="appMenuService.getMenuItemType(menuRootItem)"\n          [sidenav-opened]="sidenav.opened" (onClick)="onMenuItemClick()">\n        </o-app-sidenav-menu-item>\n      </ul>\n\n      <o-app-sidenav-menu-group [menu-group]="menuRootItem" [sidenav-opened]="sidenav.opened"\n        *ngIf="appMenuService.getMenuItemType(menuRootItem) === \'group\'" (onItemClick)="onMenuItemClick()">\n      </o-app-sidenav-menu-group>\n    </nav>\n\n    <ng-content select="o-app-layout-sidenav-projection-end"></ng-content>\n\n  </mat-sidenav>\n\n  <mat-sidenav-content class="o-app-sidenav-content">\n    <ng-content></ng-content>\n  </mat-sidenav-content>\n</mat-sidenav-container>\n',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-app-sidenav]":"true"},changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[".o-app-sidenav.header-layout .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav{box-shadow:3px 56px 6px rgba(0,0,0,.24)}.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] .mat-button-focus-overlay,.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] .mat-ripple,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] .mat-button-focus-overlay,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] .mat-ripple{display:none}.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] .o-app-sidenav-item,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] .o-app-sidenav-item{opacity:.5}.o-app-sidenav .o-app-sidenav-menu-group[disabled=true] a,.o-app-sidenav .o-app-sidenav-menu-item[disabled=true] a{cursor:initial}.o-app-sidenav .o-app-sidenav-container{width:100%;height:100%}.o-app-sidenav .o-app-sidenav-container.o-app-sidenav-mode-desktop:not(.opened) .o-app-sidenav-sidenav.mat-drawer-closed{visibility:visible!important;transform:translate3d(-191px,0,0)}.o-app-sidenav .o-app-sidenav-container.o-app-sidenav-mode-desktop:not(.opened) .o-app-sidenav-content.mat-drawer-content{margin-right:48px!important;transform:translate3d(48px,0,0)!important}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav{box-shadow:3px 0 6px rgba(0,0,0,.24);padding-bottom:36px;padding-top:5px;width:240px;bottom:0;overflow:auto;height:100%}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav h3{font-size:16px;border:none;line-height:24px;text-transform:capitalize;margin:0;padding-left:16px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav ul{list-style-type:none;margin:0;padding:0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav li{margin:0;padding:0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav li>a{box-sizing:border-box;display:block;font-size:14px;font-weight:400;line-height:47px;text-decoration:none;padding:0 16px;position:relative}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .sidenav-toggle{padding:4px 12px 8px;cursor:pointer}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .o-app-sidenav-menugroup{transition:background-color .5s}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .o-app-sidenav-menugroup.active+.o-app-sidenav-menugroup-items-container .o-app-sidenav-menu-item:last-child li{border-color:transparent}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav .o-app-sidenav-menugroup-items-container{overflow:hidden}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closing{transform:translate3d(-191px,0,0)}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed{text-align:center}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item:not(.o-user-info){cursor:pointer}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-user-info:focus,.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-user-info:hover{color:inherit}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-app-sidenav-menuitem a{width:48px;max-width:48px;min-width:48px;line-height:48px;padding:0 8px;height:48px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-item.o-app-sidenav-menugroup{padding:8px 8px 8px 12px;height:48px;justify-content:center!important}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed nav{width:48px;min-width:48px;margin-left:auto}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-image .o-app-sidenav-image-container{padding:0;text-align:end;max-height:48px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav.mat-drawer-closed .o-app-sidenav-image .o-app-sidenav-image-container .o-app-sidenav-image{max-height:48px;margin:8px 8px 0 0}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-item{border-bottom-width:0;border-bottom-style:solid}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup{padding:16px;transition:padding .5s}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup .o-app-sidenav-menugroup-arrow{position:absolute;right:16px;transition:transform .5s cubic-bezier(.25,.8,.25,1)}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup.active .o-app-sidenav-menugroup-arrow{transform:rotate(90deg)}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menugroup.active+.o-app-sidenav-menugroup-items-container ul li>a{padding-left:32px}.o-app-sidenav .o-app-sidenav-container .mat-drawer.o-app-sidenav-sidenav:not(.mat-drawer-closed) .o-app-sidenav-menuitem mat-icon{margin-right:16px}.o-app-sidenav .o-app-sidenav-container .o-app-sidenav-content{position:absolute;right:0;left:0;min-height:100%;display:flex;flex-direction:column}.o-app-sidenav .o-app-sidenav-container .o-app-sidenav-content router-outlet+*{flex-grow:1}"]}]}],Tf.ctorParameters=function(){return[{type:c.Injector},{type:p.Router},{type:c.ElementRef},{type:c.ChangeDetectorRef},{type:h.MediaObserver}]},Tf.propDecorators={sidenav:[{type:c.ViewChild,args:[d.MatSidenav,{"static":!1}]}],onResize:[{type:c.HostListener,args:["window:resize",[]]}]},D([tt(),L("design:type",Boolean)],Tf.prototype,"opened",void 0),Tf);function Tf(t,e,n,o,i){this.injector=t,this.router=e,this.elRef=n,this.cd=o,this.media=i,this._menuRootArray=[],this._layoutMode=P.APP_LAYOUT_MODE_DESKTOP,this.opened=!0,this._showUserInfo=!0,this._showToggleButton=!0,this.onSidenavOpenedChange=new c.EventEmitter,this.onSidenavOpenedStart=new c.EventEmitter,this.onSidenavClosedStart=new c.EventEmitter,this.onSidenavToggle=new c.EventEmitter,this.afterSidenavToggle=new c.EventEmitter,this.manuallyClosed=!1,this.appMenuService=this.injector.get(zn),this.menuRootArray=this.appMenuService.getMenuRoots(),this.oUserInfoService=this.injector.get(nf);var r=this;this.mediaWatch=this.media.asObservable().subscribe(function(){r.isScreenSmall()&&r.sidenav&&r.sidenav.close()})}var If=["openedSrc: opened-src","closedSrc: closed-src"],Of=[],Sf=(Af.prototype.ngOnInit=function(){var t;this.sidenav&&((t=this).sidenavOpenSubs=this.sidenav.onSidenavClosedStart.subscribe(function(){t.updateImage()}),this.sidenavCloseSubs=this.sidenav.onSidenavOpenedStart.subscribe(function(){t.updateImage()})),this.updateImage()},Af.prototype.ngOnDestroy=function(){this.sidenavOpenSubs&&this.sidenavOpenSubs.unsubscribe(),this.sidenavCloseSubs&&this.sidenavCloseSubs.unsubscribe()},Af.prototype.updateImage=function(){this.sidenav&&this.sidenav.sidenav&&this.sidenav.sidenav.opened?this.setOpenedImg():this.setClosedImg(),this.cd.detectChanges()},Object.defineProperty(Af.prototype,"src",{get:function(){return this._src},set:function(t){this._src=t},enumerable:!0,configurable:!0}),Af.prototype.setOpenedImg=function(){this.src=this.openedSrc},Af.prototype.setClosedImg=function(){this.src=this.closedSrc},Object.defineProperty(Af.prototype,"showImage",{get:function(){return this._src!==undefined&&0<this._src.length},enumerable:!0,configurable:!0}),Af.decorators=[{type:c.Component,args:[{selector:"o-app-sidenav-image",inputs:If,outputs:Of,template:'<div class="o-app-sidenav-image-container" *ngIf="showImage">\n  <img class="o-app-sidenav-image" [src]="src" />\n</div>\n',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-app-sidenav-image]":"true"},changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[".sidenav-toggle-container+.o-app-sidenav-image .o-app-sidenav-image-container{padding-top:0;text-align:center}.mat-drawer-opened .o-app-sidenav-image .o-app-sidenav-image-container{text-align:center}.o-app-sidenav-image .o-app-sidenav-image-container{max-height:75px;padding:8px 16px 16px}.o-app-sidenav-image .o-app-sidenav-image-container .o-app-sidenav-image{max-width:100%;max-height:100%}"]}]}],Af.ctorParameters=function(){return[{type:c.Injector},{type:c.ChangeDetectorRef}]},Af);function Af(t,e){this.injector=t,this.cd=e,this.sidenav=this.injector.get(Cf)}var _f=["menuGroup : menu-group","sidenavOpened : sidenav-opened"],Df=["onItemClick"],Lf=(Rf.prototype.ngOnInit=function(){this.parsePermissions()},Rf.prototype.ngAfterViewInit=function(){var e;"user-info"===this.menuGroup.id&&this.sidenav&&((e=this).sidenavSubscription=this.sidenav.onSidenavOpenedChange.subscribe(function(t){e.disabled=!t&&k.isDefined(t)||k.isDefined(e.permissions)&&e.permissions&&!1===e.permissions.enabled,e.updateContentExpansion(),e.cd.markForCheck()})),this.updateContentExpansion()},Rf.prototype.ngOnDestroy=function(){this.sidenavSubscription&&this.sidenavSubscription.unsubscribe()},Rf.prototype.parsePermissions=function(){this.permissions=this.permissionsService.getMenuPermissions(this.menuGroup.id),k.isDefined(this.permissions)&&(this.hidden=!1===this.permissions.visible,this.disabled=!1===this.permissions.enabled,this.disabled&&(this.mutationObserver=Gt.registerDisabledChangesInDom(this.elRef.nativeElement,{checkStringValue:!0})))},Rf.prototype.onClick=function(){this.disabled||(this.menuGroup.opened=!this.menuGroup.opened,this.updateContentExpansion())},Rf.prototype.updateContentExpansion=function(){var t=this.menuGroup&&this.menuGroup.opened;"user-info"===this.menuGroup.id&&(t=this.sidenav&&this.sidenav.sidenav&&this.sidenav.sidenav.opened&&t),this.contentExpansion=t?"expanded":"collapsed"},Object.defineProperty(Rf.prototype,"contentExpansion",{get:function(){return this._contentExpansion},set:function(t){this._contentExpansion=t,this.cd.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(Rf.prototype,"tooltip",{get:function(){var t=this.translateService.get(this.menuGroup.name);return k.isDefined(this.menuGroup.tooltip)&&(t+=": "+this.translateService.get(this.menuGroup.tooltip)),t},enumerable:!0,configurable:!0}),Rf.prototype.onMenuItemClick=function(t){this.onItemClick.emit(t)},Rf.prototype.getClass=function(){var t="o-app-sidenav-menu-group";return this.menuGroup["class"]&&(t+=" "+this.menuGroup["class"]),t},Rf.decorators=[{type:c.Component,args:[{selector:"o-app-sidenav-menu-group",inputs:_f,outputs:Df,template:'<ng-container *ngIf="!hidden">\n  <button type="button" mat-button class="o-app-sidenav-item o-app-sidenav-menugroup" [class.active]="menuGroup.opened"\n    fxLayout="column" (click)="onClick()">\n    <div fxLayout="row" fxLayoutAlign="start center" fxFill>\n      <ng-container *ngIf="sidenavOpened">\n        <mat-icon *ngIf="menuGroup.icon">{{ menuGroup.icon }}</mat-icon>\n        <h3>{{ menuGroup.name | oTranslate }}</h3>\n        <span class="fill-remaining"></span>\n        <mat-icon class="o-app-sidenav-menugroup-arrow" svgIcon="ontimize:keyboard_arrow_right"></mat-icon>\n      </ng-container>\n      <ng-container *ngIf="!sidenavOpened">\n        <mat-icon [matTooltip]="tooltip" matTooltipClass="menugroup-tooltip" matTooltipPosition="right" *ngIf="menuGroup.icon">{{\n          menuGroup.icon }}</mat-icon>\n      </ng-container>\n    </div>\n  </button>\n\n  <div class="o-app-sidenav-menugroup-items-container">\n    <ul [@contentExpansion]="contentExpansion" class="o-app-sidenav-menugroup-ul">\n      <ng-container *ngFor="let menuItem of menuGroup.items">\n        <o-app-sidenav-menu-item [sidenav-opened]="sidenavOpened" [disabled]="disabled" [menu-item]="menuItem"\n          [menu-item-type]="appMenuService.getMenuItemType(menuItem)" (onClick)="onMenuItemClick($event)">\n        </o-app-sidenav-menu-item>\n      </ng-container>\n    </ul>\n  </div>\n</ng-container>',encapsulation:c.ViewEncapsulation.None,animations:[b.trigger("contentExpansion",[b.state("collapsed",b.style({height:"0px"})),b.state("expanded",b.style({height:"*"})),b.transition("collapsed => expanded",b.animate("200ms ease-in")),b.transition("expanded => collapsed",b.animate("200ms ease-out"))])],changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class]":"getClass()","[attr.disabled]":"disabled"},styles:[".o-app-sidenav-menu-group .o-app-sidenav-menugroup{width:100%}.o-app-sidenav-menu-group .o-app-sidenav-menugroup.mat-button{min-width:0}.o-app-sidenav-menu-group[disabled=true] .o-app-sidenav-menugroup{cursor:default}.o-app-sidenav-menu-group .mat-tooltip.menugroup-tooltip{margin-left:28px}"]}]}],Rf.ctorParameters=function(){return[{type:c.Injector},{type:c.ElementRef},{type:c.ChangeDetectorRef}]},D([tt(),L("design:type",Boolean)],Rf.prototype,"sidenavOpened",void 0),Rf);function Rf(t,e,n){this.injector=t,this.elRef=e,this.cd=n,this.onItemClick=new c.EventEmitter,this.sidenavOpened=!0,this.translateService=this.injector.get(Ae),this.appMenuService=this.injector.get(zn),this.permissionsService=this.injector.get(Mt),this.sidenav=this.injector.get(Cf)}var xf=["mode","sidenavMode: sidenav-mode","sidenavOpened: sidenav-opened","_showHeader: show-header","showUserInfo: show-user-info","showLanguageSelector: show-language-selector","useFlagIcons: use-flag-icons","openedSidenavImg: opened-sidenav-image","closedSidenavImg: closed-sidenav-image"],wf=["beforeOpenSidenav","afterOpenSidenav","beforeCloseSidenav","afterCloseSidenav"],Mf=(Object.defineProperty(Nf.prototype,"showHeader",{get:function(){return this._showHeader},set:function(t){this._showHeader=t},enumerable:!0,configurable:!0}),Object.defineProperty(Nf.prototype,"mode",{get:function(){return this._mode},set:function(e){var t=P.OAppLayoutModes.find(function(t){return t===e});k.isDefined(t)?(this._mode=t,"mobile"!==this._mode||k.isDefined(this.showHeader)||(this.showHeader=!0)):console.error("Invalid `o-app-layout` mode ("+e+")")},enumerable:!0,configurable:!0}),Object.defineProperty(Nf.prototype,"sidenavMode",{get:function(){return this._sidenavMode},set:function(e){var t=P.OSidenavModes.find(function(t){return t===e});k.isDefined(t)?this._sidenavMode=t:console.error("Invalid `o-app-layout` sidenav-mode ("+e+")")},enumerable:!0,configurable:!0}),Nf.prototype.sidenavToggle=function(t){(t?this.beforeOpenSidenav:this.beforeCloseSidenav).emit()},Nf.prototype.afterToggle=function(t){(t?this.afterOpenSidenav:this.afterCloseSidenav).emit()},Nf.decorators=[{type:c.Component,args:[{selector:"o-app-layout",inputs:xf,outputs:wf,template:'<o-app-sidenav #appSidenav [sidenav-mode]="sidenavMode" [opened]="sidenavOpened" [show-user-info]="showUserInfo" [show-toggle-button]="!showHeader"\n  [opened-sidenav-image]="openedSidenavImg" [closed-sidenav-image]="closedSidenavImg" [layout-mode]="mode" [class.header-layout]="showHeader"\n  (onSidenavToggle)="sidenavToggle($event)" (afterSidenavToggle)="afterToggle($event)">\n\n  <ng-content select="o-app-layout-sidenav[position=start]" ngProjectAs="o-app-layout-sidenav-projection-start">\n  </ng-content>\n  <ng-content select="o-app-layout-sidenav[position=end]" ngProjectAs="o-app-layout-sidenav-projection-end">\n  </ng-content>\n  <ng-content select="o-app-layout-sidenav" ngProjectAs="o-app-layout-sidenav-projection-end"></ng-content>\n\n  <o-app-header #appHeader *ngIf="showHeader" [show-user-info]="showUserInfo" [show-language-selector]="showLanguageSelector"\n    [use-flag-icons]="useFlagIcons" (onSidenavToggle)="appSidenav.toggleSidenav()">\n    <mat-icon class="sidenav-toggle" svgIcon="ontimize:menu" (click)="appSidenav.toggleSidenav()" *ngIf="appSidenav.isMobileMode()"></mat-icon>\n    <ng-content select="o-app-layout-header"></ng-content>\n  </o-app-header>\n\n  <div class="application-layout-content-wrapper" [class.header-layout]="showHeader">\n    <ng-content></ng-content>\n  </div>\n</o-app-sidenav>\n',encapsulation:c.ViewEncapsulation.None,styles:[".application-layout-content-wrapper{z-index:1;position:absolute;top:0;bottom:0;left:0;right:0;overflow:auto;padding:8px}.application-layout-content-wrapper.header-layout{top:56px}"]}]}],Nf.propDecorators={appSidenav:[{type:c.ViewChild,args:["appSidenav",{"static":!1}]}]},D([tt(),L("design:type",Boolean)],Nf.prototype,"sidenavOpened",void 0),D([tt(),L("design:type",Boolean)],Nf.prototype,"showUserInfo",void 0),D([tt(),L("design:type",Boolean)],Nf.prototype,"showLanguageSelector",void 0),D([tt(),L("design:type",Boolean)],Nf.prototype,"useFlagIcons",void 0),D([tt(),L("design:type",Boolean)],Nf.prototype,"_showHeader",void 0),Nf);function Nf(){this.sidenavOpened=!0,this.showUserInfo=!0,this.showLanguageSelector=!0,this.useFlagIcons=!1,this.beforeOpenSidenav=new c.EventEmitter,this.afterOpenSidenav=new c.EventEmitter,this.beforeCloseSidenav=new c.EventEmitter,this.afterCloseSidenav=new c.EventEmitter}var Pf=["menuItem : menu-item","menuItemType : menu-item-type","sidenavOpened : sidenav-opened","disabled"],Ff=["onClick"],kf=(Bf.prototype.ngOnInit=function(){this.parsePermissions()},Bf.prototype.ngAfterViewInit=function(){var e=this;this.isUserInfoItem()&&this.sidenav&&(this.setUserInfoImage(),this.appSidenavToggleSubscription=this.sidenav.onSidenavOpenedChange.subscribe(function(){e.sidenav.sidenav.opened&&(e.setUserInfoImage(),e.setUserInfoImage())}),this.userInfoSubscription=this.oUserInfoService.getUserInfoObservable().subscribe(function(t){k.isDefined(t.avatar)&&e.sidenav.sidenav.opened&&(e.menuItem.avatar=t.avatar,e.setUserInfoImage())}))},Bf.prototype.ngOnDestroy=function(){this.appSidenavToggleSubscription&&this.appSidenavToggleSubscription.unsubscribe(),this.routerSubscription&&this.routerSubscription.unsubscribe(),this.mutationObserver&&this.mutationObserver.disconnect(),this.userInfoSubscription&&this.userInfoSubscription.unsubscribe()},Bf.prototype.parsePermissions=function(){this.permissions=this.permissionsService.getMenuPermissions(this.menuItem.id),k.isDefined(this.permissions)&&(this.hidden=!1===this.permissions.visible,this.disabled||(this.disabled=!1===this.permissions.enabled),this.disabled&&(this.mutationObserver=Gt.registerDisabledChangesInDom(this.elRef.nativeElement,{checkStringValue:!0})))},Bf.prototype.setUserInfoImage=function(){var t,e=this.elRef.nativeElement.getElementsByClassName("o-user-info-image")[0];e!==undefined&&(t=this.menuItem,e.setAttribute("style","background-image: url('"+t.avatar+"')")),this.cd.detectChanges()},Bf.prototype.executeItemAction=function(){var e=this.menuItem;k.parseBoolean(e.confirm,!1)?this.dialogService.confirm("CONFIRM",e.confirmText||"MESSAGES.CONFIRM_ACTION").then(function(t){return t?e.action():null}):e.action()},Bf.prototype.configureI18n=function(){var t=this.menuItem;this.isConfiguredLang()||this.translateService&&this.translateService.use(t.locale)},Bf.prototype.isConfiguredLang=function(){var t=this.menuItem;return!!this.translateService&&this.translateService.getCurrentLang()===t.locale},Bf.prototype.logout=function(){var t=this.menuItem;k.parseBoolean(t.confirm,!0)?this.loginService.logoutWithConfirmationAndRedirect():this.loginService.logoutAndRedirect()},Bf.prototype.navigate=function(){var t=this.menuItem.route;this.router.url!==t&&this.router.navigate([t])},Bf.prototype.triggerClick=function(t){if(!this.disabled){switch(this.menuItemType){case"action":this.executeItemAction();break;case"locale":this.configureI18n();break;case"logout":this.logout();break;case"route":this.navigate()}this.onClick.emit(t)}},Bf.prototype.isRouteItem=function(){return"route"===this.menuItemType},Bf.prototype.isActionItem=function(){return"action"===this.menuItemType},Bf.prototype.isLocaleItem=function(){return"locale"===this.menuItemType},Bf.prototype.isLogoutItem=function(){return"logout"===this.menuItemType},Bf.prototype.isUserInfoItem=function(){return"user-info"===this.menuItemType},Bf.prototype.isDefaultItem=function(){return"default"===this.menuItemType},Object.defineProperty(Bf.prototype,"useFlagIcons",{get:function(){return this.oAppLayoutComponent&&this.oAppLayoutComponent.useFlagIcons},enumerable:!0,configurable:!0}),Bf.prototype.isActiveItem=function(){if(!this.isRouteItem())return!1;var t=this.menuItem.route;return this.router.url===t||this.router.url.startsWith(t+"/")},Object.defineProperty(Bf.prototype,"tooltip",{get:function(){var t=this.translateService.get(this.menuItem.name);return k.isDefined(this.menuItem.tooltip)&&(t+=": "+this.translateService.get(this.menuItem.tooltip)),t},enumerable:!0,configurable:!0}),Bf.prototype.getClass=function(){var t="o-app-sidenav-menu-item";return this.menuItem["class"]&&(t+=" "+this.menuItem["class"]),t},Bf.decorators=[{type:c.Component,args:[{selector:"o-app-sidenav-menu-item",inputs:Pf,outputs:Ff,template:'<ng-container *ngIf="sidenavOpened">\n  <li *ngIf="!hidden" class="o-app-sidenav-menuitem o-app-sidenav-item" [class.o-user-info]="isUserInfoItem()">\n\n    <a mat-button *ngIf="!isUserInfoItem() && !isLocaleItem()" (click)="triggerClick($event)"\n      [class.o-app-sidenav-viewer-sidenav-item-selected]="isActiveItem()">\n      <div fxLayout="row" fxLayoutAlign="start center">\n        <mat-icon *ngIf="menuItem.icon">{{ menuItem.icon }}</mat-icon>\n        {{ menuItem.name | oTranslate }}\n      </div>\n    </a>\n\n    <a mat-button *ngIf="isLocaleItem()" (click)="triggerClick($event)">\n      <div fxLayout="row" fxLayoutAlign="space-between center">\n        <mat-icon *ngIf="menuItem.icon">{{ menuItem.icon }}</mat-icon>\n        {{ menuItem.name | oTranslate }}\n        <mat-icon *ngIf="isConfiguredLang()" class="configured-lang">check_circle</mat-icon>\n      </div>\n    </a>\n\n    <div *ngIf="isUserInfoItem()" fxLayout="column" fxLayoutAlign="center center" class="o-user-info-menu-item">\n      <div class="o-user-info-image" fxFlexFill></div>\n      <div class="o-user-info-item" fxLayout="row" fxLayoutAlign="space-between center" fxFlexFill>\n        <div class="o-user-info-name">{{ menuItem.user }} </div>\n        <o-language-selector [use-flag-icons]="useFlagIcons"></o-language-selector>\n      </div>\n    </div>\n  </li>\n</ng-container>\n\n<ng-container *ngIf="!sidenavOpened">\n  <li *ngIf="!hidden" class="o-app-sidenav-menuitem o-app-sidenav-item">\n    <a [matTooltip]="tooltip" matTooltipClass="menuitem-tooltip" matTooltipPosition="right" mat-button (click)="triggerClick($event)"\n      [class.o-app-sidenav-viewer-sidenav-item-selected]="isActiveItem()">\n      <mat-icon *ngIf="menuItem.icon">{{ menuItem.icon }}</mat-icon>\n    </a>\n  </li>\n</ng-container>',encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class]":"getClass()","[attr.disabled]":"disabled"},styles:[".o-app-sidenav-menu-item .o-user-info-menu-item{cursor:default}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-image{background-repeat:no-repeat;background-position:center;background-size:cover;width:100%;height:200px!important}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-item{padding:0 8px 0 16px}.o-app-sidenav-menu-item .o-user-info-menu-item .o-user-info-name{text-transform:uppercase;font-weight:600}"]}]}],Bf.ctorParameters=function(){return[{type:c.Injector},{type:c.ElementRef},{type:c.ChangeDetectorRef}]},D([tt(),L("design:type",Boolean)],Bf.prototype,"sidenavOpened",void 0),D([tt(),L("design:type",Boolean)],Bf.prototype,"disabled",void 0),Bf);function Bf(t,e,n){var o=this;this.injector=t,this.elRef=e,this.cd=n,this.onClick=new c.EventEmitter,this.sidenavOpened=!0,this.disabled=!1,this.translateService=this.injector.get(Ae),this.loginService=this.injector.get(tf),this.dialogService=this.injector.get(ot),this.permissionsService=this.injector.get(Mt),this.oUserInfoService=this.injector.get(nf),this.sidenav=this.injector.get(Cf),this.oAppLayoutComponent=this.injector.get(Mf),this.router=this.injector.get(p.Router),this.routerSubscription=this.router.events.subscribe(function(){o.cd.detectChanges()})}var Uf=(Vf.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule,Hn,p.RouterModule,uu],declarations:[Cf,Lf,Sf,kf],exports:[Cf]}]}],Vf);function Vf(){}var jf=(Gf.decorators=[{type:c.Component,args:[{selector:"o-app-layout-header",template:"<ng-content></ng-content>"}]}],Gf);function Gf(){}var qf=["position"],Hf=(Yf.decorators=[{type:c.Component,args:[{selector:"o-app-layout-sidenav",template:"<ng-content></ng-content>",inputs:qf}]}],Yf);function Yf(){this.position="end"}var zf=(Kf.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule,Hn,p.RouterModule,Uf,yf],declarations:[Mf,jf,Hf],exports:[Mf,jf,Hf]}]}],Kf);function Kf(){}var Wf=["parentMenuId : parent-menu-id"],Qf=[],Xf=($f.prototype.ngAfterViewInit=function(){this.setCardMenuItems()},$f.prototype.ngOnDestroy=function(){this.translateServiceSubscription&&this.translateServiceSubscription.unsubscribe()},$f.prototype.setCardMenuItems=function(){var e=this,t=[],t=this.parentMenuId?this.getItemsFilteredByParentId(this.menuRoots):this.menuRoots.filter(function(t){return!e.appMenuService.isMenuGroup(t)});this.cardItems=t},Object.defineProperty($f.prototype,"cardItems",{get:function(){return this.cardItemsArray},set:function(t){this.cardItemsArray=t,this.cd.detectChanges()},enumerable:!0,configurable:!0}),$f.prototype.getItemsFilteredByParentId=function(t){for(var e,n=this,o=t.filter(function(t){return n.appMenuService.isMenuGroup(t)}),i=0,r=o.length;i<r;i++){var a=o[i];if(a.id===this.parentMenuId){e=a.items;break}e=this.getItemsFilteredByParentId(a.items)}return e},$f.decorators=[{type:c.Component,args:[{selector:"o-card-menu-layout",template:'<div fxLayout="row wrap" fxLayout.lt-md="column" fxLayoutAlign="space-around center" fxLayoutGap="0px" fxLayoutGap.gt-sm="8px" fxFill>\n  <ng-container *ngFor="let item of cardItems">\n    <o-card-menu-item *ngIf="item[\'show-in-card-menu\'] !== false" button-text="CARD_MENU_LAYOUT.BUTTON_TEXT" [route]="item.route"\n      [title]="item.name" [tooltip]="item.tooltip" [icon]="item.icon" [image]="item.image" [detail-component]="item.component"\n      [detail-component-inputs]="item[\'component-inputs\']" [ngClass]="item.class">\n    </o-card-menu-item>\n  </ng-container>\n  <ng-content select="o-card-menu-item"></ng-content>\n</div>\n',inputs:Wf,outputs:Qf,encapsulation:c.ViewEncapsulation.None,host:{"[class.o-menu-layout]":"true"},changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[".o-menu-layout{display:block;height:100%;width:100%}.o-menu-layout .o-card-menu-item{height:45%;margin:16px 0;max-width:290px;min-height:180px;min-width:290px}.o-menu-layout .o-card-menu-item.compact{height:30%;max-height:250px}"]}]}],$f.ctorParameters=function(){return[{type:c.Injector},{type:c.ChangeDetectorRef}]},$f);function $f(t,e){var n=this;this.injector=t,this.cd=e,this.translateService=this.injector.get(Ae),this.appMenuService=this.injector.get(zn),this.menuRoots=this.appMenuService.getMenuRoots(),this.translateServiceSubscription=this.translateService.onLanguageChanged.subscribe(function(){n.cd.detectChanges()})}var Zf=(Jf.decorators=[{type:c.NgModule,args:[{declarations:[Xf],imports:[n.CommonModule,Ho,Hn],exports:[Xf]}]}],Jf);function Jf(){}var tg=["title","options"],eg=["onMainTabSelected","onSelectedTabChange","onCloseTab"],ng=(og.prototype.ngAfterViewInit=function(){var o=this;this.tabsDirectivesSubscription=this.tabsDirectives.changes.subscribe(function(t){var e,n;o.tabsDirectives.length&&(e=o.tabsDirectives.last,(n=o.data[e.index])&&!n.rendered&&o.createTabComponent(n,e))})},og.prototype.ngOnDestroy=function(){this.tabsDirectivesSubscription&&this.tabsDirectivesSubscription.unsubscribe(),this.closeTabSubscription&&this.closeTabSubscription.unsubscribe()},Object.defineProperty(og.prototype,"disableAnimation",{get:function(){return this.options&&this.options.disableAnimation},enumerable:!0,configurable:!0}),Object.defineProperty(og.prototype,"headerPosition",{get:function(){var t;return t=this.options&&this.options.headerPosition?this.options.headerPosition:t},enumerable:!0,configurable:!0}),Object.defineProperty(og.prototype,"color",{get:function(){var t;return t=this.options&&this.options.color?this.options.color:t},enumerable:!0,configurable:!0}),Object.defineProperty(og.prototype,"backgroundColor",{get:function(){var t;return t=this.options&&this.options.backgroundColor?this.options.backgroundColor:t},enumerable:!0,configurable:!0}),Object.defineProperty(og.prototype,"templateMatTabLabel",{get:function(){var t;return t=this.options&&this.options.templateMatTabLabel?this.options.templateMatTabLabel:t},enumerable:!0,configurable:!0}),Object.defineProperty(og.prototype,"icon",{get:function(){var t;return t=this.options&&this.options.icon?this.options.icon:t},enumerable:!0,configurable:!0}),Object.defineProperty(og.prototype,"isIconPositionLeft",{get:function(){return this.options&&"left"===this.options.iconPosition},enumerable:!0,configurable:!0}),og.prototype.addTab=function(t){var n=!0,e=this.formLayoutManager.navigationService.getLastItem();e&&e.isInsertFormRoute()&&(n=!this.data.find(function(t){return t.insertionMode}));var o=t.params;n&&this.data.forEach(function(t){var e=t.params||{};Object.keys(e).forEach(function(t){n=n&&e[t]!==o[t]})}),n?this.data.push(t):this.reloadTab(t)},og.prototype.reloadTab=function(t){var n=-1,o=t.params;this.data.forEach(function(t,e){t=t.params||{};k.isEquivalent(t,o)&&(n=e)}),0<=n&&(this.tabGroup.selectedIndex=n+1)},og.prototype.onTabSelectChange=function(t){this.formLayoutManager&&0===this.tabGroup.selectedIndex&&(this.formLayoutManager.updateIfNeeded(),this.onMainTabSelected.emit()),k.isDefined(this.state)&&k.isDefined(this.state.tabsData)&&(1<this.state.tabsData.length?t.index===this.state.tabsData.length&&k.isDefined(this.state.selectedIndex)&&(this.selectedTabIndex=this.state.selectedIndex,this.state=undefined):this.state=undefined),this.onSelectedTabChange.emit(this.data[this.selectedTabIndex-1])},og.prototype.closeTab=function(o){var e,i,t;this.formLayoutManager&&(e=new c.EventEmitter,(i=this).closeTabSubscription=e.asObservable().subscribe(function(t){if(t){for(var e=void 0,n=i.data.length-1;0<=n;n--)if(i.data[n].id===o){e=i.data.splice(n,1)[0];break}i.onCloseTab.emit(e)}}),t=this.data.find(function(t){return t.id===o}),k.isDefined(t)&&t.modified?this.dialogService.confirm("CONFIRM","MESSAGES.FORM_CHANGES_WILL_BE_LOST").then(function(t){e.emit(t)}):e.emit(!0))},og.prototype.createTabComponent=function(t,e){var n=t.component,n=this.componentFactoryResolver.resolveComponentFactory(n),e=e.viewContainerRef;e.clear(),e.createComponent(n),t.rendered=!0},og.prototype.getFormCacheData=function(e){return this.data.filter(function(t){return t.id===e})[0]},og.prototype.getLastTabId=function(){return 0<this.data.length?this.data[this.data.length-1].id:undefined},og.prototype.getRouteOfActiveItem=function(){var e=[];return this.data.length&&0<this.tabGroup.selectedIndex&&(this.data[this.tabGroup.selectedIndex-1].urlSegments||[]).forEach(function(t){e.push(t.path)}),e},og.prototype.setModifiedState=function(t,e){for(var n=0,o=this.data.length;n<o;n++)if(this.data[n].id===e){this.data[n].modified=t;break}},og.prototype.updateNavigation=function(t,e,n){var o,i=this.data.findIndex(function(t){return t.id===e});0<=i&&(o=this.formLayoutManager.getLabelFromData(t),this.tabGroup.selectedIndex=i+1,o=o.length?o:this.formLayoutManager.getLabelFromUrlParams(this.data[i].params),this.data[i].label=o,this.data[i].insertionMode=n,0<Object.keys(t).length&&(this.data[i].formDataByLabelColumns=this.formLayoutManager.getFormDataFromLabelColumns(t)))},og.prototype.updateActiveData=function(t){var e=this.tabGroup.selectedIndex-1;k.isDefined(this.data[e])&&(this.data[e]=Object.assign(this.data[e],t))},og.prototype.getDataToStore=function(){var e=[];return this.data.forEach(function(t){e.push({params:t.params,queryParams:t.queryParams,urlSegments:t.urlSegments,url:t.url})}),{tabsData:e,selectedIndex:this.tabGroup.selectedIndex}},og.prototype.initializeComponentState=function(t){var e,n;k.isDefined(t)&&k.isDefined(t.tabsData)&&k.isDefined(t.tabsData[0])&&(this.state=t,(e={})[P.QUERY_PARAMS]=t.tabsData[0].queryParams,(n=this).formLayoutManager&&this.formLayoutManager.setAsActiveFormLayoutManager(),this.router.navigate([t.tabsData[0].url],e).then(function(t){n.data[0]&&setTimeout(function(){n.createTabsFromState()},0)}))},og.prototype.createTabsFromState=function(){var n=this,o=n.data[0].component;this.state.tabsData.forEach(function(e,t){o&&0<t&&setTimeout(function(){var t=n.createDetailComponent(o,e);n.data.push(t)},0)})},og.prototype.createDetailComponent=function(t,e){return{params:e.params,queryParams:e.queryParams,urlSegments:e.urlSegments,component:t,url:e.url,id:Math.random().toString(36),label:"",modified:!1}},Object.defineProperty(og.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,k.isDefined(t)?this.showLoading.next(!0):this.showLoading.next(!1)},enumerable:!0,configurable:!0}),og.prototype.getParams=function(){return k.isDefined(this.data[0])?this.data[0].params:undefined},Object.defineProperty(og.prototype,"elementRef",{get:function(){return this.elRef},enumerable:!0,configurable:!0}),og.decorators=[{type:c.Component,args:[{selector:"o-form-layout-tabgroup",inputs:tg,outputs:eg,template:'<mat-tab-group #tabGroup oTabGroup="ontimize" fxFill [(selectedIndex)]="selectedTabIndex"\n  (selectedTabChange)="onTabSelectChange($event)" [color]="color" [backgroundColor]="backgroundColor"\n  [headerPosition]="headerPosition" [@.disabled]="disableAnimation">\n  <mat-tab label="{{ (title || \'LAYOUT_MANANGER.MAIN_TAB_LABEL\') | oTranslate }}">\n    <ng-content></ng-content>\n  </mat-tab>\n\n\n  <mat-tab *ngFor="let tabData of data; let i = index">\n    <ng-template mat-tab-label>\n\n      <span class="tab-label" [class.modified]="tabData.modified">\n        <ng-container *ngIf="icon && isIconPositionLeft">\n          <mat-icon>{{ icon }}</mat-icon>\n        </ng-container>\n        <ng-container *ngIf="templateMatTabLabel && tabData.formDataByLabelColumns && !tabData.insertionMode ">\n          <ng-container *ngTemplateOutlet="templateMatTabLabel;context:{$implicit:tabData.formDataByLabelColumns}">\n          </ng-container>\n        </ng-container>\n        <ng-container *ngIf="!templateMatTabLabel || tabData.insertionMode">\n          {{ tabData.label }}\n        </ng-container>\n        <ng-container *ngIf="icon && !isIconPositionLeft">\n          <mat-icon>{{ icon }}</mat-icon>\n        </ng-container>\n      </span>\n      <mat-icon (click)="closeTab(tabData.id)" svgIcon="ontimize:close"></mat-icon>\n    </ng-template>\n    <ng-template o-form-layout-manager-content [index]="i"></ng-template>\n  </mat-tab>\n</mat-tab-group>\n<div *ngIf="showLoading | async" class="spinner-container" fxLayout="column" fxLayoutAlign="center center">\n  <mat-progress-spinner mode="indeterminate" strokeWidth="3"></mat-progress-spinner>\n</div>',encapsulation:c.ViewEncapsulation.None,host:{"[class.o-form-layout-tabgroup]":"true"},styles:[".o-form-layout-tabgroup .mat-tab-group .mat-tab-label span.tab-label{width:100%;max-width:120px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.o-form-layout-tabgroup .mat-tab-group .mat-tab-label span.tab-label.modified{font-weight:700}.o-form-layout-tabgroup .mat-tab-group .mat-tab-label span.tab-label.modified:after{content:'*'}.o-form-layout-tabgroup .mat-tab-group .mat-tab-label .mat-icon{height:16px;width:16px;font-size:16px;padding-left:6px;vertical-align:middle}.o-form-layout-tabgroup .mat-tab-group .mat-tab-body-wrapper{flex:1 1 auto}.o-form-layout-tabgroup .mat-tab-group o-form-toolbar{padding:0;top:0!important}.o-form-layout-tabgroup .mat-tab-group o-form-toolbar .mat-toolbar{box-shadow:none;border-radius:0}.o-form-layout-tabgroup .spinner-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:500;visibility:visible;opacity:1;transition:opacity .25s linear}"]}]}],og.ctorParameters=function(){return[{type:c.Injector},{type:c.ComponentFactoryResolver},{type:c.ViewContainerRef},{type:c.ElementRef},{type:_r,decorators:[{type:c.Inject,args:[c.forwardRef(function(){return _r})]}]}]},og.propDecorators={tabGroup:[{type:c.ViewChild,args:["tabGroup",{"static":!1}]}],tabsDirectives:[{type:c.ViewChildren,args:[cr]}]},og);function og(t,e,n,o,i){this.injector=t,this.componentFactoryResolver=e,this.location=n,this.elRef=o,this.formLayoutManager=i,this.data=[],this.showLoading=new u.BehaviorSubject(!1),this.loading=!1,this.onMainTabSelected=new c.EventEmitter,this.onSelectedTabChange=new c.EventEmitter,this.onCloseTab=new c.EventEmitter,this.dialogService=t.get(ot),this.router=this.injector.get(p.Router)}ig.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule,Hn,p.RouterModule],declarations:[pr,_r,ng,cr,gr,Ir],exports:[_r,gr,Ir],entryComponents:[pr],providers:[{provide:Er,useClass:Er}],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],Un=ig;function ig(){}var rg=(ag.prototype.canActivateChild=function(t,e){var n=!1,o=t.data?t.data.oPermission:undefined,t=(o||{}).permissionId;return k.isDefined(t)&&(n=this.permissionsService.isPermissionIdRouteRestricted(t))&&(t="MESSAGES.NAVIGATION_NOT_ALLOWED_PERMISSION",o=o.restrictedPermissionsRedirect,k.isDefined(o)&&(t="MESSAGES.NAVIGATION_REDIRECTED_PERMISSION",this.router.navigate([o])),this.snackBarService.open(t)),!n},ag.decorators=[{type:c.Injectable}],ag.ctorParameters=function(){return[{type:c.Injector}]},ag);function ag(t){this.injector=t,this.router=this.injector.get(p.Router),this.permissionsService=this.injector.get(Mt),this.snackBarService=this.injector.get(Jt),this.shareCanActivateChildService=this.injector.get(br),this.shareCanActivateChildService.setPermissionsGuard(this)}function sg(t){return new Mt(t)}t=Ee,lg.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule],providers:[{provide:rg,useClass:rg},{provide:Mt,useFactory:sg,deps:[c.Injector]},{provide:xt,useFactory:t,deps:[c.Injector]}]}]}],El=lg;function lg(){}var cg,ug=(_(pg,cg=T.TranslateHttpLoader),pg.prototype.getAssetsPath=function(){return this.prefix},pg.prototype.getAssetsExtension=function(){return this.suffix},pg.prototype.getLocalTranslation=function(t){var e,n=new u.Observable(function(t){return e=t}).pipe(l.share());return cg.prototype.getTranslation.call(this,t).subscribe(function(t){e.next(t),e.complete()},function(t){e.next(undefined)},function(){return e.complete()}),n},pg.prototype.getTranslation=function(t){var n,e=[];e.push(this.getLocalTranslation(t)),this.appConfig.useRemoteBundle()&&e.push(this.getRemoteBundle(t));t=new u.Observable(function(t){return n=t}).pipe(l.share());return u.combineLatest(e).subscribe(function(t){var e=t[0]||{},t=t[1]||{},t=Object.assign(e,t);n.next(t)}),t},pg.prototype.getRemoteBundle=function(t){var n,o=this,e=this.appConfig.getBundleEndpoint(),i=new u.Observable(function(t){return n=t}).pipe(l.share());e||n.next([]);t=e+"?lang="+t;return this.httpClient.get(t).subscribe(function(t){var e={};t.code===P.ONTIMIZE_SUCCESSFUL_CODE&&(e=o.parseBundleResponse(t.data)),n.next(e)},function(t){console.log("Remote Bundle service is not available"),n.next(t)},function(){return n.complete()}),i},pg.prototype.parseBundleResponse=function(t){var e={};return t.forEach(function(t){e[t[pg.BUNDLE_KEY]]=t[pg.BUNDLE_VALUE]}),e},pg.BUNDLE_KEY="key",pg.BUNDLE_VALUE="value",pg);function pg(t,e,n,o){void 0===e&&(e=Ae.ASSETS_PATH),void 0===n&&(n=Ae.ASSETS_EXTENSION);n=cg.call(this,t,e,n)||this;return n.injector=o,n.appConfig=n.injector.get(G),n.httpClient=t,n}var dg,hg=(_(mg,dg=e.TranslateDefaultParser),mg.prototype.interpolate=function(t,o){return"string"==typeof t&&o?t.replace(this.templateMatcher,function(t,e){var n=k.isDefined(o[e])?o[e]:"";return isNaN(parseInt(e,10))?t:n}):t},mg.decorators=[{type:c.Injectable}],mg);function mg(){var t=null!==dg&&dg.apply(this,arguments)||this;return t.templateMatcher=/{\s?([0-9][^{}\s]*)\s?}/g,t}var fg=(gg.prototype.factory=function(){return new G(this.config)},gg);function gg(t){this.injector=t,this.config=this.injector.get(j)}function yg(t){return new fg(t).factory()}function bg(s,l,c){return function(){return new Promise(function(r){var a=[];s.get(n.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var t=c.getStoredLanguage(),e=l.locale,n=c.getBrowserLang(),o=k.isDefined(l.defaultLocale)?l.defaultLocale:"en",i=k.isDefined(l.defaultLocale)?l.defaultLocale:"en";t?o=t:e?i=o=e:n&&(i=o=n),c.setDefaultLang(i);var i=new Set(l.applicationLocales||[]);i.add("en"),i.add(o),l.applicationLocales||(l.applicationLocales=w(i)),null!=l.uuid&&""!==l.uuid||(console.error("Your app must have an 'uuid' property defined on your app.config file. Otherwise, your application will not work correctly."),alert("Your app must have an 'uuid' property defined on your app.config file. Otherwise, your application will not work correctly.")),s.get(_n).initialize(),s.get(Nn).initialize(),s.get(Cn).setBackwardCompatibility(),(i=(i=s).get(p.Router)).config.find(function(t){return t.path===P.FORBIDDEN_ROUTE})||i.config.push({path:P.FORBIDDEN_ROUTE,component:Ln}),a.push(c.setAppLang(o));o=s.get(Zm);a.push(o.initialize()),u.combineLatest(a).subscribe(function(){r()})})})}}var vg=[{provide:G,useFactory:yg,deps:[c.Injector]},Ce,yt,{provide:d.MAT_RIPPLE_GLOBAL_OPTIONS,useValue:{disabled:!0}},{provide:Bt,useValue:{}},{provide:V,useValue:{}}],Eg=(Cg.decorators=[{type:c.NgModule,args:[{imports:[n.CommonModule,Hn],exports:[ma],declarations:[ma]}]}],Cg);function Cg(){}var Tg=[s.HttpClientModule,Hn,bo,Io,Bo,Mo,Ya,ts,ci,oi,tr,Ci,fi,qr,ta,Yr,Ba,Ds,Us,pl,Il,Gl,ms,Zl,rc,dc,vc,Cs,ss,Wc,Ku,aa,Xm,zf,Un,cf,uu,Ho,Zf,Rl,eu,La,Ac,Nc,jc,Js,Eg];function Ig(t,e,n){var o,i,n=n.getI18nAssetsConfiguration();return k.isDefined(n)&&(k.isDefined(n.path)&&(o=n.path),k.isDefined(n.extension)&&(i=n.extension)),new ug(t,o,i,e)}function Og(){return new hg}a=[s.HttpClientModule,e.TranslateModule.forRoot({loader:{provide:e.TranslateLoader,useFactory:Ig,deps:[s.HttpClient,c.Injector,G]},parser:{provide:e.TranslateParser,useFactory:Og}}),y.NgxMaterialTimepickerModule,Hn,bo,Io,Bo,Mo,Ho,ci,oi,Ci,fi,tr,qr,ta,Yr,La,Ba,Ya,ts,Ds,Us,Js,pl,Il,Rl,Gl,ms,Zl,rc,dc,vc,Ac,Cs,aa,Nc,ss,Wc,eu,uu,Ku,Xm,cf,zf,Zf,Un,Eg],Sg.decorators=[{type:c.NgModule,args:[{providers:[{provide:c.APP_INITIALIZER,useFactory:bg,deps:[c.Injector,j,Ae],multi:!0}]}]}],C=Sg;function Sg(){}b=[o.BrowserModule,I.BrowserAnimationsModule,C,El],Ag.forRoot=function(t){return{ngModule:Ag,providers:w(vg,[{provide:j,useValue:t}])}},Ag.decorators=[{type:c.NgModule,args:[{declarations:[],imports:a,exports:[Tg],entryComponents:[et,$t],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],T=Ag;function Ag(){}_g.prototype.canActivate=function(t,e){var n=this.loginStorageService.isLoggedIn(),o=n;return n||(this.permissionsService.restart(),this.router.navigate([P.LOGIN_ROUTE])),n&&(this.setUserInformation(),this.permissionsService.hasPermissions()||(o=this.permissionsService.getUserPermissionsAsPromise())),o},_g.prototype.setUserInformation=function(){var t=this.loginStorageService.getSessionInfo();this.oUserInfoService.setUserInfo({username:t.user,avatar:"./assets/images/user_profile.png"})},_g.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],_g.ctorParameters=function(){return[{type:c.Injector}]},_g.ngInjectableDef=c.ɵɵdefineInjectable({factory:function(){return new _g(c.ɵɵinject(c.INJECTOR))},token:_g,providedIn:"root"}),y=_g;function _g(t){this.injector=t,this.router=this.injector.get(p.Router),this.loginStorageService=this.injector.get(ut),this.oUserInfoService=this.injector.get(nf),this.permissionsService=this.injector.get(Mt)}function Dg(t){return t!==undefined&&null!==t}function Lg(e,n){var o=this;Object.keys(n).forEach(function(t){Dg(n[t])&&(Dg(e[t])||("function"==typeof e[t]?e[t]=e[t].call(o,n[t]):e[t]=n[t])),Dg(e[t])||(e[t]=n[t])})}I=function(){};O.Observable=u.Observable,O.Subject=u.Subject,O.ɵs=ha,O.ɵt=ma,O.ɵr=Eg,O.ɵm=Gh,O.ɵl=Zh,O.ɵq=hm,O.ɵn=qm,O.ɵo=Vm,O.ɵp=jm,O.ɵk=Hm,O.ɵg=Qe,O.ɵd=a,O.ɵa=Tg,O.ɵb=Ig,O.ɵc=Og,O.ɵe=C,O.ɵf=bg,O.ɵi=Ge,O.ɵj=qe,O.ɵh=Ke,O.ONTIMIZE_MODULES=b,O.ONTIMIZE_PROVIDERS=vg,O.OntimizeWebModule=T,O.O_INPUTS_OPTIONS=V,O.APP_CONFIG=j,O.AppConfig=G,O.ontimizePostBootstrap=function(t){var e=document&&document.getElementById("loader-wrapper");return e&&e.parentNode&&e.parentNode.removeChild(e),t},O.OrderByPipe=vn,O.OTranslatePipe=fn,O.OTranslateModule=yn,O.ColumnsFilterPipe=Xe,O.OIntegerPipe=rn,O.ORealPipe=un,O.OMomentPipe=sn,O.OCurrencyPipe=nn,O.OPercentPipe=hn,O.AppConfigFactory=fg,O.appConfigFactory=yg,O.AppMenuService=zn,O.AuthGuardService=y,O.BaseServiceResponse=dt,O.BaseService=Ct,O.CurrencyService=tn,O.DialogService=ot,O.O_DATA_SERVICE=de,O.O_TRANSLATE_SERVICE=he,O.O_FILE_SERVICE=me,O.O_EXPORT_SERVICE=fe,O.O_PERMISSION_SERVICE=ge,O.dataServiceFactory=ye,O.fileServiceFactory=be,O.exportServiceFactory=ve,O.permissionsServiceFactory=Ee,O.OntimizeServiceProvider=Ce,O.OntimizeExportServiceProvider=Te,O._getInjectionTokenValue=Ie,O._createServiceInstance=Oe,O.LocalStorageService=Cn,O.LoginStorageService=ut,O.LoginService=tf,O.MomentService=Wt,O.ONavigationItem=Sn,O.NavigationService=_n,O.NumberService=Ze,O.OBreadcrumbService=In,O.OFormLayoutManagerService=hr,O.OModulesInfoService=pf,O.OUserInfoService=nf,O.OntimizeMatIconRegistry=Nn,O.OntimizeBaseService=Ot,O.OntimizeEEService=ie,O.OntimizeExportService=se,O.OntimizeFileService=ue,O.OntimizeServiceResponseAdapter=yt,O.OntimizeServiceResponse=ft,O.OntimizeService=_t,O.OntimizeServiceResponseParser=vt,O.OntimizeEEPermissionsService=Lt,O.OntimizePermissionsService=xt,O.PermissionsGuardService=rg,O.PermissionsService=Mt,O.getPermissionsServiceProvider=sg,O.OPermissionsModule=El,O.ɵ0=t,O.ORemoteConfigurationService=Zm,O.ShareCanActivateChildService=br,O.SnackBarService=Jt,O.OTranslateHttpLoader=ug,O.OTranslateParser=hg,O.translateServiceFactory=Se,O.OTranslateService=Ae,O.StringConverter=$,O.BooleanConverter=Z,O.NumberConverter=J,O.InputConverter=tt,O.OComponent=function(i){return function(t){var e=Object.getPrototypeOf(t.prototype).constructor,n=Reflect.getMetadata("annotations",e);n?(n=n[0],Lg(i,n)):e.hasOwnProperty("decorators")&&(o=function(t){var e,t=t.decorators[0];t&&t.args&&t.args[0]&&(e=t.args[0]);return e}(e),Lg(i,o));var o=new c.Component(i);Reflect.defineMetadata("annotations",[o],t)}},O.OKeyboardListenerDirective=Q,O.OHiddenDirective=Ye,O.DEFAULT_INPUTS_O_APP_HEADER=hf,O.DEFAULT_OUTPUTS_O_APP_HEADER=mf,O.OAppHeaderComponent=ff,O.OAppHeaderModule=yf,O.DEFAULT_INPUTS_O_APP_SIDENAV_IMAGE=If,O.DEFAULT_OUTPUTS_O_APP_SIDENAV_IMAGE=Of,O.OAppSidenavImageComponent=Sf,O.DEFAULT_INPUTS_O_APP_SIDENAV_MENU_GROUP=_f,O.DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_GROUP=Df,O.OAppSidenavMenuGroupComponent=Lf,O.DEFAULT_INPUTS_O_APP_SIDENAV_MENU_ITEM=Pf,O.DEFAULT_OUTPUTS_O_APP_SIDENAV_MENU_ITEM=Ff,O.OAppSidenavMenuItemComponent=kf,O.DEFAULT_INPUTS_O_APP_SIDENAV=vf,O.DEFAULT_OUTPUTS_O_APP_SIDENAV=Ef,O.OAppSidenavComponent=Cf,O.OAppSidenavModule=Uf,O.DEFAULT_INPUTS_O_LOCALE_BAR_MENU_ITEM=eo,O.OLocaleBarMenuItemComponent=no,O.DEFAULT_INPUTS_O_BAR_MENU_GROUP=ro,O.OBarMenuGroupComponent=ao,O.DEFAULT_INPUTS_O_BAR_MENU_ITEM=co,O.OBarMenuItemComponent=uo,O.DEFAULT_INPUTS_O_BAR_MENU_NESTED=ho,O.OBarMenuNestedComponent=mo,O.OBarMenuSeparatorComponent=go,O.DEFAULT_INPUTS_O_BAR_MENU=Wn,O.OBarMenuComponent=Qn,O.OBarMenuModule=bo,O.DEFAULT_INPUTS_O_BASE_MENU_ITEM=$n,O.OBaseMenuItemClass=Zn,O.DEFAULT_INPUTS_O_BREADCRUMB=Eo,O.OBreadcrumbComponent=Co,O.OBreadcrumbModule=Io,O.DEFAULT_INPUTS_O_BUTTON_TOGGLE_GROUP=Lo,O.DEFAULT_OUTPUTS_O_BUTTON_TOGGLE_GROUP=Ro,O.OButtonToggleGroupComponent=xo,O.DEFAULT_INPUTS_O_BUTTON_TOGGLE=So,O.DEFAULT_OUTPUTS_O_BUTTON_TOGGLE=Ao,O.OButtonToggleComponent=_o,O.OButtonToggleModule=Mo,O.DEFAULT_INPUTS_O_BUTTON=Po,O.OButtonComponent=Fo,O.OButtonModule=Bo,O.DEFAULT_INPUTS_O_MENU_CARD=Vo,O.DEFAULT_OUTPUTS_O_MENU_CARD=jo,O.OCardMenuItemComponent=Go,O.OCardMenuItemModule=Ho,O.DEFAULT_INPUTS_O_COLUMN_COLLAPSIBLE=ti,O.OColumnCollapsibleComponent=ei,O.OColumnCollapsibleModule=oi,O.DEFAULT_INPUTS_O_COLUMN=ai,O.OColumnComponent=si,O.OColumnModule=ci,O.DEFAULT_INPUTS_O_CONTAINER_COLLAPSIBLE=Xo,O.OContainerCollapsibleComponent=$o,O.DEFAULT_INPUTS_O_CONTAINER=zo,O.OContainerComponent=Ko,O.DEFAULT_INPUTS_O_ROW_COLLAPSIBLE=di,O.ORowCollapsibleComponent=hi,O.ORowCollapsibleModule=fi,O.DEFAULT_INPUTS_O_ROW=bi,O.ORowComponent=vi,O.ORowModule=Ci,O.DEFAULT_CONTEXT_MENU_GROUP_INPUTS=wi,O.OContextMenuGroupComponent=Mi,O.DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS=_i,O.DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM=Di,O.OContextMenuItemComponent=Li,O.DEFAULT_CONTEXT_MENU_ITEM_INPUTS=Fi,O.OContextMenuSeparatorComponent=ki,O.DEFAULT_CONTEXT_MENU_CONTENT_INPUTS=Gi,O.DEFAULT_CONTEXT_MENU_CONTENT_OUTPUTS=qi,O.OContextMenuContentComponent=Hi,O.DEFAULT_CONTEXT_MENU_CONTENT_ITEM_INPUTS=Ui,O.OWrapperContentMenuComponent=Vi,O.DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS=Ii,O.OComponentMenuItems=Oi,O.DEFAULT_OUTPUTS_O_CONTEXT_MENU=Wi,O.OContextMenuComponent=Qi,O.DEFAULT_CONTEXT_MENU_DIRECTIVE_INPUTS=$i,O.OContextMenuDirective=Zi,O.OContextMenuModule=tr,O.OContextMenuService=zi,O.OFilterBuilderClearDirective=Ur,O.OFilterBuilderQueryDirective=jr,O.DEFAULT_INPUTS_O_FILTER_BUILDER=Pr,O.DEFAULT_OUTPUTS_O_FILTER_BUILDER=Fr,O.OFilterBuilderComponent=kr,O.OFilterBuilderModule=qr,O.DEFAULT_INPUTS_O_FORM_CONTAINER=nr,O.OFormContainerComponent=or,O.OFormContainerModule=Yr,O.OFormCacheClass=rr,O.CanDeactivateFormGuard=sr,O.OFormNavigationComponent=Kr,O.OFormNavigationClass=Lr,O.DEFAULT_INPUTS_O_FORM=xr,O.DEFAULT_OUTPUTS_O_FORM=wr,O.OFormComponent=Mr,O.OFormModule=ta,O.OFormValue=rt,O.DEFAULT_INPUTS_O_FORM_TOOLBAR=Qr,O.OFormToolbarComponent=Xr,O.OFormToolbarModule=Zr,O.DEFAULT_INPUTS_O_GRID_ITEM=la,O.OGridItemComponent=ca,O.OGridItemDirective=pa,O.DEFAULT_INPUTS_O_GRID=Oa,O.DEFAULT_OUTPUTS_O_GRID=Sa,O.OGridComponent=_a,O.OGridModule=La,O.OFullScreenDialogComponent=xa,O.DEFAULT_INPUTS_O_IMAGE=Na,O.DEFAULT_OUTPUTS_O_IMAGE=Pa,O.OImageComponent=Fa,O.OImageModule=Ba,O.DEFAULT_INPUTS_O_CHECKBOX=ja,O.DEFAULT_OUTPUTS_O_CHECKBOX=Ga,O.OCheckboxComponent=qa,O.OCheckboxModule=Ya,O.OComboSearchComponent=Ka,O.DEFAULT_INPUTS_O_COMBO=Xa,O.DEFAULT_OUTPUTS_O_COMBO=$a,O.OComboComponent=Za,O.OComboModule=ts,O.DEFAULT_INPUTS_O_CURRENCY_INPUT=Os,O.DEFAULT_OUTPUTS_O_CURRENCY_INPUT=Ss,O.OCurrencyInputComponent=As,O.OCurrencyInputModule=Ds,O.DEFAULT_OUTPUTS_O_DATE_INPUT=Ps,O.DEFAULT_INPUTS_O_DATE_INPUT=Fs,O.ODateInputComponent=ks,O.ODateInputModule=Us,O.DEFAULT_OUTPUTS_O_DATERANGE_INPUT=Ws,O.DEFAULT_INPUTS_O_DATERANGE_INPUT=Qs,O.ODateRangeInputComponent=$s,O.ODaterangepickerDirective=Ys,O.ODateRangeInputModule=Js,O.DaterangepickerComponent=Gs,O.DEFAULT_INPUTS_O_EMAIL_INPUT=sl,O.DEFAULT_OUTPUTS_O_EMAIL_INPUT=ll,O.OEmailInputComponent=cl,O.OEmailInputModule=pl,O.DEFAULT_INPUTS_O_FILE_INPUT=bl,O.DEFAULT_OUTPUTS_O_FILE_INPUT=vl,O.OFileInputComponent=Cl,O.OFileInputModule=Il,O.OFileItem=hl,O.OFileUploader=fl,O.DEFAULT_INPUTS_O_HOUR_INPUT=Al,O.DEFAULT_OUTPUTS_O_HOUR_INPUT=_l,O.OHourInputComponent=Dl,O.OHourInputModule=Rl,O.DEFAULT_INPUTS_O_HTML_INPUT=Bl,O.DEFAULT_OUTPUTS_O_HTML_INPUT=Ul,O.OHTMLInputComponent=Vl,O.OHTMLInputModule=Gl,O.DEFAULT_INPUTS_O_INTEGER_INPUT=us,O.DEFAULT_OUTPUTS_O_INTEGER_INPUT=ps,O.OIntegerInputComponent=ds,O.OIntegerInputModule=ms,O.DEFAULT_INPUTS_O_LIST_PICKER_DIALOG=Hl,O.OListPickerDialogComponent=Yl,O.DEFAULT_INPUTS_O_LIST_PICKER=Wl,O.DEFAULT_OUTPUTS_O_LIST_PICKER=Ql,O.OListPickerComponent=Xl,O.OListPickerModule=Zl,O.DEFAULT_INPUTS_O_NIF_INPUT=ec,O.DEFAULT_OUTPUTS_O_NIF_INPUT=nc,O.ONIFInputComponent=oc,O.ONIFInputModule=rc,O.OFormControl=Yt,O.DEFAULT_INPUTS_O_FORM_SERVICE_COMPONENT=Be,O.DEFAULT_OUTPUTS_O_FORM_SERVICE_COMPONENT=Ue,O.OFormServiceComponent=Ve,O.DEFAULT_INPUTS_O_PASSWORD_INPUT=lc,O.DEFAULT_OUTPUTS_O_PASSWORD_INPUT=cc,O.OPasswordInputComponent=uc,O.OPasswordInputModule=dc,O.DEFAULT_INPUTS_O_PERCENT_INPUT=fc,O.DEFAULT_OUTPUTS_O_PERCENT_INPUT=gc,O.OPercentInputComponent=yc,O.OPercentInputModule=vc,O.DEFAULT_INPUTS_O_RADIO=Tc,O.DEFAULT_OUTPUTS_O_RADIO=Ic,O.ORadioComponent=Oc,O.ORadioModule=Ac,O.DEFAULT_INPUTS_O_REAL_INPUT=ys,O.DEFAULT_OUTPUTS_O_REAL_INPUT=bs,O.ORealInputComponent=vs,O.ORealInputModule=Cs,O.DEFAULT_INPUTS_O_SEARCH_INPUT=na,O.DEFAULT_OUTPUTS_O_SEARCH_INPUT=oa,O.OSearchInputComponent=ia,O.OSearchInputModule=aa,O.DEFAULT_INPUTS_O_SLIDETOGGLE=Rc,O.DEFAULT_OUTPUTS_O_SLIDETOGGLE=xc,O.OSlideToggleComponent=wc,O.OSlideToggleModule=Nc,O.DEFAULT_INPUTS_O_SLIDER_INPUT=kc,O.DEFAULT_OUTPUTS_O_SLIDER_INPUT=Bc,O.OSliderComponent=Uc,O.OSliderModule=jc,O.DEFAULT_INPUTS_O_TEXT_INPUT=os,O.DEFAULT_OUTPUTS_O_TEXT_INPUT=is,O.OTextInputComponent=rs,O.OTextInputModule=ss,O.DEFAULT_INPUTS_O_TEXTAREA_INPUT=Hc,O.DEFAULT_OUTPUTS_O_TEXTAREA_INPUT=Yc,O.OTextareaInputComponent=zc,O.OTextareaInputModule=Wc,O.DEFAULT_INPUTS_O_TIME_INPUT=$c,O.DEFAULT_OUTPUTS_O_TIME_INPUT=Zc,O.OTimeInputComponent=Jc,O.OTimeInputModule=eu,O.DEFAULT_INPUTS_O_LANGUAGE_SELECTOR=au,O.DEFAULT_OUTPUTS_LANGUAGE_SELECTOR=su,O.OLanguageSelectorComponent=lu,O.OLanguageSelectorModule=uu,O.OListItemComponent=yu,O.OListItemDirective=K,O.DEFAULT_INPUTS_O_LIST=hu,O.DEFAULT_OUTPUTS_O_LIST=mu,O.OListComponent=fu,O.OListModule=Ku,O.DEFAULT_INPUTS_O_LIST_ITEM_AVATAR=Ou,O.DEFAULT_OUTPUTS_O_LIST_ITEM_AVATAR=Su,O.OListItemAvatarComponent=Au,O.DEFAULT_INPUTS_O_LIST_ITEM_CARD_IMAGE=Mu,O.DEFAULT_OUTPUTS_O_LIST_ITEM_CARD_IMAGE=Nu,O.OListItemCardImageComponent=Pu,O.DEFAULT_INPUTS_O_LIST_ITEM_CARD=Bu,O.DEFAULT_OUTPUTS_O_LIST_ITEM_CARD=Uu,O.OListItemCardComponent=Vu,O.DEFAULT_INPUTS_O_CARD_RENDERER=Du,O.DEFAULT_OUTPUTS_O_CARD_RENDERER=Lu,O.OListItemCardRenderer=Ru,O.DEFAULT_INPUTS_O_TEXT_RENDERER=vu,O.DEFAULT_OUTPUTS_O_TEXT_RENDERER=Eu,O.OListItemTextRenderer=Cu,O.DEFAULT_INPUTS_O_LIST_ITEM_TEXT=qu,O.DEFAULT_OUTPUTS_O_LIST_ITEM_TEXT=Hu,O.OListItemTextComponent=Yu,O.CKEditorComponent=Ml,O.CKEditorModule=Pl,O.OBaseComponent=De,O.DEFAULT_INPUTS_O_FORM_DATA_COMPONENT=Me,O.DEFAULT_OUTPUTS_O_FORM_DATA_COMPONENT=Ne,O.OFormDataComponent=Pe,O.DEFAULT_INPUTS_O_SERVICE_BASE_COMPONENT=ga,O.OServiceBaseComponent=ya,O.DEFAULT_INPUTS_O_SERVICE_COMPONENT=Ea,O.OServiceComponent=Ca,O.OValueChangeEvent=Re,O.DEFAULT_INPUTS_O_TABLE_COLUMN_CALCULATED=_h,O.OTableColumnCalculatedComponent=Dh,O.O_TABLE_CELL_EDITORS=Ed,O.O_TABLE_CELL_EDITORS_INPUTS=Cd,O.O_TABLE_CELL_EDITORS_OUTPUTS=Td,O.editorsMapping=Id,O.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_BOOLEAN=Yp,O.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_BOOLEAN=zp,O.OTableCellEditorBooleanComponent=Kp,O.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_DATE=Xp,O.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_DATE=$p,O.OTableCellEditorDateComponent=Zp,O.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_INTEGER=ed,O.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_INTEGER=nd,O.OTableCellEditorIntegerComponent=od,O.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR=Vp,O.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR=jp,O.OBaseTableCellEditor=Gp,O.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_REAL=ad,O.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_REAL=sd,O.OTableCellEditorRealComponent=ld,O.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TEXT=pd,O.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TEXT=dd,O.OTableCellEditorTextComponent=hd,O.DEFAULT_INPUTS_O_TABLE_CELL_EDITOR_TIME=gd,O.DEFAULT_OUTPUTS_O_TABLE_CELL_EDITOR_TIME=yd,O.OTableCellEditorTimeComponent=bd,O.O_TABLE_CELL_RENDERERS=bh,O.O_TABLE_CELL_RENDERERS_INPUTS=vh,O.O_TABLE_CELL_RENDERERS_OUTPUTS=Eh,O.renderersMapping=Ch,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_ACTION=Dd,O.DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_ACTION=Ld,O.OTableCellRendererActionComponent=Rd,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_BOOLEAN=Md,O.OTableCellRendererBooleanComponent=Nd,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_CURRENCY=Yd,O.OTableCellRendererCurrencyComponent=zd,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_DATE=Qd,O.OTableCellRendererDateComponent=Xd,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_IMAGE=Jd,O.DEFAULT_OUTPUTS_O_TABLE_CELL_RENDERER_IMAGE=["onClick"],O.OTableCellRendererImageComponent=th,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_INTEGER=kd,O.OTableCellRendererIntegerComponent=Bd,O.DEFAULT_INPUTS_O_BASE_TABLE_CELL_RENDERER=Od,O.OBaseTableCellRenderer=Sd,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_PERCENTAGE=oh,O.OTableCellRendererPercentageComponent=ih,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_REAL=jd,O.OTableCellRendererRealComponent=Gd,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_SERVICE=sh,O.OTableCellRendererServiceComponent=lh,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TIME=ph,O.OTableCellRendererTimeComponent=dh,O.DEFAULT_INPUTS_O_TABLE_CELL_RENDERER_TRANSLATE=fh,O.OTableCellRendererTranslateComponent=gh,O.OColumn=Qu,O.DEFAULT_INPUTS_O_TABLE_COLUMN=Th,O.DEFAULT_OUTPUTS_O_TABLE_COLUMN=Ih,O.OTableColumnComponent=Oh,O.DEFAULT_TABLE_CONTEXT_MENU_INPUTS=Rh,O.OTableContextMenuComponent=xh,O.DefaultOTableOptions=$u,O.SCROLLVIRTUAL="scroll",O.OTableScrollEvent=fp,O.DefaultOTableDataSource=gp,O.OTableApplyConfigurationDialogComponent=Mh,O.OTableExportDialogComponent=Bh,O.OTableFilterByColumnDataDialogComponent=Ju,O.OTableLoadFilterDialogComponent=Vh,O.OTableStoreConfigurationDialogComponent=Yh,O.OTableStoreFilterDialogComponent=Wh,O.OTableVisibleColumnsDialogComponent=Xh,O.DEFAULT_INPUTS_O_TABLE_EXPORT_BUTTON=Jh,O.DEFAULT_OUTPUTS_O_TABLE_EXPORT_BUTTON=tm,O.OTableExportButtonComponent=em,O.OTableExportButtonService=Ph,O.OBaseTablePaginator=ep,O.OTableMatPaginatorIntl=mm,O.DEFAULT_PAGINATOR_TABLE=cm,O.OTablePaginatorComponent=um,O.OTableExpandedFooterDirective=am,O.DEFAULT_TABLE_COLUMN_AGGREGATE=om,O.OTableColumnAggregateComponent=im,O.DEFAULT_INPUTS_O_TABLE_BUTTON=gm,O.DEFAULT_OUTPUTS_O_TABLE_BUTTON=ym,O.OTableButtonComponent=bm,O.DEFAULT_INPUTS_O_TABLE_BUTTONS=Em,O.DEFAULT_OUTPUTS_O_TABLE_BUTTONS=Cm,O.OTableButtonsComponent=Tm,O.DEFAULT_INPUTS_O_TABLE_COLUMN_RESIZER=Om,O.DEFAULT_OUTPUTS_O_TABLE_COLUMN_RESIZER=Sm,O.OTableColumnResizerComponent=Am,O.DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER=ap,O.DEFAULT_OUTPUTS_O_TABLE_COLUMN_FILTER=sp,O.OTableColumnsFilterComponent=lp,O.DEFAULT_INPUTS_O_TABLE_INSERTABLE_ROW=Dm,O.DEFAULT_OUTPUTS_O_TABLE_INSERTABLE_ROW=Lm,O.OTableInsertableRowComponent=Rm,O.OTableExportConfiguration=kh,O.DEFAULT_INPUTS_O_TABLE_MENU=wm,O.DEFAULT_OUTPUTS_O_TABLE_MENU=Mm,O.OTableMenuComponent=Nm,O.DEFAULT_INPUTS_O_TABLE_OPTION=up,O.DEFAULT_OUTPUTS_O_TABLE_OPTION=pp,O.OTableOptionComponent=dp,O.DEFAULT_INPUTS_O_TABLE_QUICKFILTER=Fm,O.DEFAULT_OUTPUTS_O_TABLE_QUICKFILTER=km,O.OTableQuickfilterComponent=Bm,O.DEFAULT_INPUTS_O_TABLE_COLUMN_FILTER_COLUMN=op,O.OTableColumnsFilterColumnComponent=ip,O.OTableStorage=Ep,O.OTableDao=Tp,O.OTableRowDirective=zm,O.OMatSort=Rp,O.OMatSortHeader=Mp,O.OMatSortModule=Wm,O.DEFAULT_OUTPUTS_O_TABLE_ROW_EXPANDABLE=Op,O.DEFAULT_INPUTS_O_TABLE_ROW_EXPANDABLE=Sp,O.OTableRowExpandedChange=Ap,O.OTableRowExpandableComponent=_p,O.OTableDataSourceService=bp,O.DEFAULT_INPUTS_O_TABLE=Fp,O.DEFAULT_OUTPUTS_O_TABLE=kp,O.OTableComponent=Bp,O.OTableModule=Xm,O.DEFAULT_INPUTS_O_USER_INFO=rf,O.DEFAULT_OUTPUTS_O_USER_INFO=af,O.OUserInfoComponent=sf,O.OUserInfoModule=cf,O.DEFAULT_INPUTS_O_APP_LAYOUT=xf,O.DEFAULT_OUTPUTS_O_APP_LAYOUT=wf,O.OAppLayoutComponent=Mf,O.OAppLayoutHeaderComponent=jf,O.DEFAULT_INPUTS_O_APP_LAYOUT_SIDENAV=qf,O.OAppLayoutSidenavComponent=Hf,O.DEFAULT_INPUTS_O_MENU_LAYOUT=Wf,O.DEFAULT_OUTPUTS_O_MENU_LAYOUT=Qf,O.OCardMenuLayoutComponent=Xf,O.DEFAULT_INPUTS_O_FORM_LAYOUT_MANAGER=Sr,O.DEFAULT_OUTPUTS_O_FORM_LAYOUT_MANAGER=Ar,O.OFormLayoutManagerComponent=_r,O.DEFAULT_INPUTS_O_FORM_LAYOUT_DIALOG_OPTIONS=fr,O.OFormLayoutDialogOptionsComponent=gr,O.OFormLayoutDialogComponent=pr,O.OFormLayoutManagerContentDirective=cr,O.CanActivateFormLayoutChildGuard=Er,O.DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP_OPTIONS=Tr,O.OFormLayoutTabGroupOptionsComponent=Ir,O.DEFAULT_INPUTS_O_FORM_LAYOUT_TABGROUP=tg,O.DEFAULT_OUTPUTS_O_FORM_LAYOUT_TABGROUP=eg,O.OFormLayoutTabGroupComponent=ng,O.OAppLayoutModule=zf,O.OCardMenuLayoutModule=Zf,O.OFormLayoutManagerModule=Un,O.noop=H,O.ObservableWrapper=Y,O.Base64=M,O.PermissionsUtils=Gt,O.SQLTypes=at,O.Util=k,O.Codes=P,O.FilterExpressionUtils=ee,O.ServiceUtils=lt,O.OCustomMaterialModule=Vn,O.O_MAT_ERROR_OPTIONS=Bt,O.OMatErrorComponent=Vt,O.OMatErrorModule=Gn,O.OntimizeMatDateFormats=Fn,O.dateFormatFactory=Bn,O.OntimizeMomentDateAdapter=ws,O.ODialogComponent=et,O.ODialogConfig=I,O.Error403Component=Ln,O.OSnackBarConfig=Xt,O.OSnackBarComponent=$t,O.DEFAULT_INPUTS_O_ERROR=xn,O.OErrorComponent=wn,O.DEFAULT_INPUTS_O_VALIDATOR=Pt,O.OValidatorComponent=Ft,O.OSharedModule=Hn,O.TWELVE_HOUR_FORMAT_PATTERN=nl,O.TWENTY_FOUR_HOUR_FORMAT_PATTERN=ol,O.OValidators=il,Object.defineProperty(O,"__esModule",{value:!0})});
//# sourceMappingURL=ontimize-web-ngx.umd.min.js.map