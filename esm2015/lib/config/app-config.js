import { InjectionToken } from '@angular/core';
import { Util } from '../util/util';
const DEFAULT_LOCAL_STORAGE_KEY = undefined;
const DEFAULT_CONFIG = {
    uuid: DEFAULT_LOCAL_STORAGE_KEY,
    title: 'Ontimize Web App'
};
export const O_INPUTS_OPTIONS = new InjectionToken('o-inputs-options');
export const APP_CONFIG = new InjectionToken('app.config');
export class AppConfig {
    constructor(config) {
        this._config = (config && Util.isObject(config) && !Array.isArray(config)) ? config : {};
    }
    getConfiguration() {
        return Object.assign(DEFAULT_CONFIG, this._config);
    }
    getServiceConfiguration() {
        return this._config.servicesConfiguration || {};
    }
    getMenuConfiguration() {
        return this._config.appMenuConfiguration || [];
    }
    useRemoteBundle() {
        return Util.isDefined(this._config.bundle);
    }
    getBundleEndpoint() {
        let result;
        const existsBundleConf = this.useRemoteBundle();
        if (existsBundleConf && Util.isDefined(this._config.bundle.endpoint)) {
            result = this._config.bundle.endpoint;
        }
        else if (existsBundleConf && Util.isDefined(this._config.bundle.path)) {
            result = this._config.apiEndpoint + '/' + this._config.bundle.path;
        }
        return result;
    }
    getI18nAssetsConfiguration() {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.i18n)) {
            return this._config.assets.i18n;
        }
        return undefined;
    }
    getCssAssetsConfiguration() {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.css)) {
            return this._config.assets.css;
        }
        return undefined;
    }
    getImagesAssetsConfiguration() {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.images)) {
            return this._config.assets.images;
        }
        return undefined;
    }
    getJsAssetsConfiguration() {
        if (Util.isDefined(this._config.assets) && Util.isDefined(this._config.assets.js)) {
            return this._config.assets.js;
        }
        return undefined;
    }
    getRemoteConfigurationConfig() {
        return this._config.remoteConfig;
    }
    useRemoteConfiguration() {
        return Util.isDefined(this._config.remoteConfig);
    }
    getRemoteConfigurationEndpoint() {
        let result;
        const existsRemoteConf = this.useRemoteConfiguration();
        if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.endpoint)) {
            result = this._config.remoteConfig.endpoint;
        }
        else if (existsRemoteConf && Util.isDefined(this._config.remoteConfig.path)) {
            result = this._config.apiEndpoint + '/' + this._config.remoteConfig.path;
        }
        return result;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLWNvbmZpZy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL29udGltaXplLXdlYi1uZ3gvIiwic291cmNlcyI6WyJsaWIvY29uZmlnL2FwcC1jb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQU0vQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0seUJBQXlCLEdBQUcsU0FBUyxDQUFDO0FBQzVDLE1BQU0sY0FBYyxHQUFXO0lBQzdCLElBQUksRUFBRSx5QkFBeUI7SUFDL0IsS0FBSyxFQUFFLGtCQUFrQjtDQUMxQixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxjQUFjLENBQWlCLGtCQUFrQixDQUFDLENBQUM7QUFFdkYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLElBQUksY0FBYyxDQUFTLFlBQVksQ0FBQyxDQUFDO0FBRW5FLE1BQU0sT0FBTyxTQUFTO0lBR3BCLFlBQVksTUFBTztRQUNqQixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQzNGLENBQUM7SUFFTSxnQkFBZ0I7UUFDckIsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVNLHVCQUF1QjtRQUM1QixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLElBQUksRUFBRSxDQUFDO0lBQ2xELENBQUM7SUFFTSxvQkFBb0I7UUFDekIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLG9CQUFvQixJQUFJLEVBQUUsQ0FBQztJQUNqRCxD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LEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDO1NBQzdDO2FBQU0sSUFBSSxnQkFBZ0IsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzdFLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO1NBQzFFO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztDQUVGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnLi4vdHlwZXMvY29uZmlnLnR5cGUnO1xuaW1wb3J0IHsgTWVudVJvb3RJdGVtIH0gZnJvbSAnLi4vdHlwZXMvbWVudS1yb290LWl0ZW0udHlwZSc7XG5pbXBvcnQgeyBPSW5wdXRzT3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzL28taW5wdXRzLW9wdGlvbnMudHlwZSc7XG5pbXBvcnQgeyBPUmVtb3RlQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL3R5cGVzL3JlbW90ZS1jb25maWd1cmF0aW9uLnR5cGUnO1xuaW1wb3J0IHsgVXRpbCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmNvbnN0IERFRkFVTFRfTE9DQUxfU1RPUkFHRV9LRVkgPSB1bmRlZmluZWQ7XG5jb25zdCBERUZBVUxUX0NPTkZJRzogQ29uZmlnID0ge1xuICB1dWlkOiBERUZBVUxUX0xPQ0FMX1NUT1JBR0VfS0VZLFxuICB0aXRsZTogJ09udGltaXplIFdlYiBBcHAnXG59O1xuXG5leHBvcnQgY29uc3QgT19JTlBVVFNfT1BUSU9OUyA9IG5ldyBJbmplY3Rpb25Ub2tlbjxPSW5wdXRzT3B0aW9ucz4oJ28taW5wdXRzLW9wdGlvbnMnKTtcblxuZXhwb3J0IGNvbnN0IEFQUF9DT05GSUcgPSBuZXcgSW5qZWN0aW9uVG9rZW48Q29uZmlnPignYXBwLmNvbmZpZycpO1xuXG5leHBvcnQgY2xhc3MgQXBwQ29uZmlnIHtcbiAgcHJpdmF0ZSBfY29uZmlnOiBDb25maWc7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnPykge1xuICAgIHRoaXMuX2NvbmZpZyA9IChjb25maWcgJiYgVXRpbC5pc09iamVjdChjb25maWcpICYmICFBcnJheS5pc0FycmF5KGNvbmZpZykpID8gY29uZmlnIDoge307XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29uZmlndXJhdGlvbigpOiBDb25maWcge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKERFRkFVTFRfQ09ORklHLCB0aGlzLl9jb25maWcpO1xuICB9XG5cbiAgcHVibGljIGdldFNlcnZpY2VDb25maWd1cmF0aW9uKCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5zZXJ2aWNlc0NvbmZpZ3VyYXRpb24gfHwge307XG4gIH1cblxuICBwdWJsaWMgZ2V0TWVudUNvbmZpZ3VyYXRpb24oKTogTWVudVJvb3RJdGVtW10ge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcuYXBwTWVudUNvbmZpZ3VyYXRpb24gfHwgW107XG4gIH1cblxuICBwdWJsaWMgdXNlUmVtb3RlQnVuZGxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYnVuZGxlKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCdW5kbGVFbmRwb2ludCgpOiBzdHJpbmcge1xuICAgIGxldCByZXN1bHQ6IHN0cmluZztcbiAgICBjb25zdCBleGlzdHNCdW5kbGVDb25mID0gdGhpcy51c2VSZW1vdGVCdW5kbGUoKTtcbiAgICBpZiAoZXhpc3RzQnVuZGxlQ29uZiAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYnVuZGxlLmVuZHBvaW50KSkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5fY29uZmlnLmJ1bmRsZS5lbmRwb2ludDtcbiAgICB9IGVsc2UgaWYgKGV4aXN0c0J1bmRsZUNvbmYgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLmJ1bmRsZS5wYXRoKSkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5fY29uZmlnLmFwaUVuZHBvaW50ICsgJy8nICsgdGhpcy5fY29uZmlnLmJ1bmRsZS5wYXRoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHVibGljIGdldEkxOG5Bc3NldHNDb25maWd1cmF0aW9uKCk6IGFueSB7XG4gICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5hc3NldHMpICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5hc3NldHMuaTE4bikpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb25maWcuYXNzZXRzLmkxOG47XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q3NzQXNzZXRzQ29uZmlndXJhdGlvbigpOiBhbnkge1xuICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYXNzZXRzKSAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYXNzZXRzLmNzcykpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb25maWcuYXNzZXRzLmNzcztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRJbWFnZXNBc3NldHNDb25maWd1cmF0aW9uKCk6IGFueSB7XG4gICAgaWYgKFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5hc3NldHMpICYmIFV0aWwuaXNEZWZpbmVkKHRoaXMuX2NvbmZpZy5hc3NldHMuaW1hZ2VzKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5hc3NldHMuaW1hZ2VzO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHVibGljIGdldEpzQXNzZXRzQ29uZmlndXJhdGlvbigpOiBhbnkge1xuICAgIGlmIChVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYXNzZXRzKSAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcuYXNzZXRzLmpzKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5hc3NldHMuanM7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0UmVtb3RlQ29uZmlndXJhdGlvbkNvbmZpZygpOiBPUmVtb3RlQ29uZmlndXJhdGlvbiB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5yZW1vdGVDb25maWc7XG4gIH1cblxuICBwdWJsaWMgdXNlUmVtb3RlQ29uZmlndXJhdGlvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLnJlbW90ZUNvbmZpZyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UmVtb3RlQ29uZmlndXJhdGlvbkVuZHBvaW50KCk6IHN0cmluZyB7XG4gICAgbGV0IHJlc3VsdDogc3RyaW5nO1xuICAgIGNvbnN0IGV4aXN0c1JlbW90ZUNvbmYgPSB0aGlzLnVzZVJlbW90ZUNvbmZpZ3VyYXRpb24oKTtcbiAgICBpZiAoZXhpc3RzUmVtb3RlQ29uZiAmJiBVdGlsLmlzRGVmaW5lZCh0aGlzLl9jb25maWcucmVtb3RlQ29uZmlnLmVuZHBvaW50KSkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5fY29uZmlnLnJlbW90ZUNvbmZpZy5lbmRwb2ludDtcbiAgICB9IGVsc2UgaWYgKGV4aXN0c1JlbW90ZUNvbmYgJiYgVXRpbC5pc0RlZmluZWQodGhpcy5fY29uZmlnLnJlbW90ZUNvbmZpZy5wYXRoKSkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5fY29uZmlnLmFwaUVuZHBvaW50ICsgJy8nICsgdGhpcy5fY29uZmlnLnJlbW90ZUNvbmZpZy5wYXRoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbn1cbiJdfQ==