import { Component, EventEmitter, forwardRef } from '@angular/core';
import { DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS, OComponentMenuItems } from '../o-content-menu.class';
export const DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS = [
    'execute'
];
export const DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM = [
    ...DEFAULT_INPUTS_O_CONTEXT_MENU_ITEMS,
    'icon',
    'data',
    'label',
    'oenabled: enabled',
    'svgIcon: svg-icon'
];
export class OContextMenuItemComponent extends OComponentMenuItems {
    constructor() {
        super(...arguments);
        this.execute = new EventEmitter();
        this.type = OComponentMenuItems.TYPE_ITEM_MENU;
        this.enabled = true;
    }
    ngOnInit() {
        this.enabled = this.parseInput(this.oenabled, true);
    }
    onClick(event) {
        event.preventDefault();
        event.stopPropagation();
        this.triggerExecute(this.data, event);
    }
    triggerExecute(data, $event) {
        if (!this.enabled) {
            return;
        }
        this.execute.emit({ event: $event, data: data });
    }
    get disabled() {
        if (this.enabled instanceof Function) {
            return !this.enabled(this.data);
        }
        return !this.enabled;
    }
    get isVisible() {
        if (this.ovisible instanceof Function) {
            return this.ovisible(this.data);
        }
        return this.ovisible;
    }
}
OContextMenuItemComponent.decorators = [
    { type: Component, args: [{
                selector: 'o-context-menu-item',
                template: ' ',
                inputs: DEFAULT_INPUTS_O_CONTEXT_MENU_ITEM,
                outputs: DEFAULT_CONTEXT_MENU_ITEM_OUTPUTS,
                providers: [{ provide: OComponentMenuItems, useExisting: forwardRef(() => OContextMenuItemComponent) }]
            }] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiby1jb250ZXh0LW1lbnUtaXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9vbnRpbWl6ZS13ZWItbmd4LyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvY29udGV4dG1lbnUvY29udGV4dC1tZW51LWl0ZW0vby1jb250ZXh0LW1lbnUtaXRlbS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBRTVFLE9BQU8sRUFBRSxtQ0FBbUMsRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRW5HLE1BQU0sQ0FBQyxNQUFNLGlDQUFpQyxHQUFHO0lBQy9DLFNBQVM7Q0FDVixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sa0NBQWtDLEdBQUc7SUFDaEQsR0FBRyxtQ0FBbUM7SUFDdEMsTUFBTTtJQUNOLE1BQU07SUFDTixPQUFPO0lBQ1AsbUJBQW1CO0lBQ25CLG1CQUFtQjtDQUFDLENBQUM7QUFTdkIsTUFBTSxPQUFPLHlCQUEwQixTQUFRLG1CQUFtQjtJQVBsRTs7UUFTUyxZQUFPLEdBQThDLElBQUksWUFBWSxFQUFFLENBQUM7UUFDeEUsU0FBSSxHQUFHLG1CQUFtQixDQUFDLGNBQWMsQ0FBQztRQUkxQyxZQUFPLEdBQXVDLElBQUksQ0FBQztJQW1DNUQsQ0FBQztJQS9CUSxRQUFRO1FBQ2IsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVNLE9BQU8sQ0FBQyxLQUFpQjtRQUM5QixLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdkIsS0FBSyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRU0sY0FBYyxDQUFDLElBQVMsRUFBRSxNQUFjO1FBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pCLE9BQU87U0FDUjtRQUNELElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRUQsSUFBVyxRQUFRO1FBQ2pCLElBQUksSUFBSSxDQUFDLE9BQU8sWUFBWSxRQUFRLEVBQUU7WUFDcEMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pDO1FBQ0QsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDdkIsQ0FBQztJQUVELElBQVcsU0FBUztRQUNsQixJQUFJLElBQUksQ0FBQyxRQUFRLFlBQVksUUFBUSxFQUFFO1lBQ3JDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDakM7UUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQzs7O1lBL0NGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUscUJBQXFCO2dCQUMvQixRQUFRLEVBQUUsR0FBRztnQkFDYixNQUFNLEVBQUUsa0NBQWtDO2dCQUMxQyxPQUFPLEVBQUUsaUNBQWlDO2dCQUMxQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLHlCQUF5QixDQUFDLEVBQUUsQ0FBQzthQUN4RyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBmb3J3YXJkUmVmLCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgREVGQVVMVF9JTlBVVFNfT19DT05URVhUX01FTlVfSVRFTVMsIE9Db21wb25lbnRNZW51SXRlbXMgfSBmcm9tICcuLi9vLWNvbnRlbnQtbWVudS5jbGFzcyc7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0NPTlRFWFRfTUVOVV9JVEVNX09VVFBVVFMgPSBbXG4gICdleGVjdXRlJ1xuXTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfSU5QVVRTX09fQ09OVEVYVF9NRU5VX0lURU0gPSBbXG4gIC4uLkRFRkFVTFRfSU5QVVRTX09fQ09OVEVYVF9NRU5VX0lURU1TLFxuICAnaWNvbicsXG4gICdkYXRhJyxcbiAgJ2xhYmVsJyxcbiAgJ29lbmFibGVkOiBlbmFibGVkJyxcbiAgJ3N2Z0ljb246IHN2Zy1pY29uJ107XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ28tY29udGV4dC1tZW51LWl0ZW0nLFxuICB0ZW1wbGF0ZTogJyAnLFxuICBpbnB1dHM6IERFRkFVTFRfSU5QVVRTX09fQ09OVEVYVF9NRU5VX0lURU0sXG4gIG91dHB1dHM6IERFRkFVTFRfQ09OVEVYVF9NRU5VX0lURU1fT1VUUFVUUyxcbiAgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBPQ29tcG9uZW50TWVudUl0ZW1zLCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBPQ29udGV4dE1lbnVJdGVtQ29tcG9uZW50KSB9XVxufSlcbmV4cG9ydCBjbGFzcyBPQ29udGV4dE1lbnVJdGVtQ29tcG9uZW50IGV4dGVuZHMgT0NvbXBvbmVudE1lbnVJdGVtcyBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgcHVibGljIGV4ZWN1dGU6IEV2ZW50RW1pdHRlcjx7IGV2ZW50OiBFdmVudCwgZGF0YTogYW55IH0+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBwdWJsaWMgdHlwZSA9IE9Db21wb25lbnRNZW51SXRlbXMuVFlQRV9JVEVNX01FTlU7XG4gIHB1YmxpYyBpY29uOiBzdHJpbmc7XG4gIHB1YmxpYyBkYXRhOiBhbnk7XG4gIHB1YmxpYyBsYWJlbDogc3RyaW5nO1xuICBwdWJsaWMgZW5hYmxlZDogYm9vbGVhbiB8ICgoaXRlbTogYW55KSA9PiBib29sZWFuKSA9IHRydWU7XG4gIHB1YmxpYyBzdmdJY29uOiBzdHJpbmc7XG4gIHByb3RlY3RlZCBvZW5hYmxlZDtcblxuICBwdWJsaWMgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5lbmFibGVkID0gdGhpcy5wYXJzZUlucHV0KHRoaXMub2VuYWJsZWQsIHRydWUpO1xuICB9XG5cbiAgcHVibGljIG9uQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMudHJpZ2dlckV4ZWN1dGUodGhpcy5kYXRhLCBldmVudCk7XG4gIH1cblxuICBwdWJsaWMgdHJpZ2dlckV4ZWN1dGUoZGF0YTogYW55LCAkZXZlbnQ/OiBFdmVudCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZXhlY3V0ZS5lbWl0KHsgZXZlbnQ6ICRldmVudCwgZGF0YTogZGF0YSB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICByZXR1cm4gIXRoaXMuZW5hYmxlZCh0aGlzLmRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gIXRoaXMuZW5hYmxlZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgaXNWaXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm92aXNpYmxlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLm92aXNpYmxlKHRoaXMuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm92aXNpYmxlO1xuICB9XG5cbn1cbiJdfQ==